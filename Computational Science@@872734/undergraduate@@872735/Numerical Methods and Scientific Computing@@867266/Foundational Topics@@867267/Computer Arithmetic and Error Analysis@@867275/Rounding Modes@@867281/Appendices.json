{"hands_on_practices": [{"introduction": "Before diving into complex floating-point systems, it is instructive to see rounding in a simpler context. This exercise explores fixed-point arithmetic, which is common in resource-constrained environments like embedded systems, where real numbers are represented with a fixed number of fractional bits. By converting a single decimal value using two distinct rounding rules—truncation (rounding toward zero) and round-to-nearest—we can observe how the choice of rule directly alters the final stored binary value. [@problem_id:2199486]", "problem": "An embedded system designed for a remote environmental monitoring station utilizes a specialized low-power processor. To conserve power and silicon area, this processor avoids floating-point arithmetic and instead represents all sensor data using a signed 8-bit fixed-point format. This format is defined as Q3.4, which signifies that each 8-bit number includes 1 sign bit, 3 integer bits, and 4 fractional bits.\n\nA new barometric pressure sensor is calibrated to output a normalized value, which can be positive or negative. A specific reading from this sensor is $-0.3$. Before this value can be processed, it must be converted into the Q3.4 binary format. The processor's instruction set architecture provides two distinct rounding modes for this conversion:\n1.  **Truncation (Round toward Zero):** The fractional part of the number is discarded. For example, $5.9$ becomes $5$ and $-5.9$ becomes $-5$.\n2.  **Round-to-Nearest-Even (Convergent Rounding):** The number is rounded to the nearest integer. If the number is exactly halfway between two integers (e.g., has a fractional part of exactly $0.5$), it is rounded to the nearest even integer. For example, $5.5$ rounds to $6$, and $4.5$ rounds to $4$.\n\nDetermine the two 8-bit signed integer values that correspond to the binary patterns representing the sensor reading of $-0.3$ after it is converted using each of the two rounding modes. Present your answer as a pair of integers ordered as (result from truncation, result from round-to-nearest-even).", "solution": "In a signed Q3.4 fixed-point format with 8 bits total, there are 1 sign bit, 3 integer bits, and 4 fractional bits. The quantization step is therefore $2^{-4}$. Converting a real number $x$ to this format proceeds by scaling and rounding:\n$$\nS = x \\cdot 2^{4}, \\quad I = R(S),\n$$\nwhere $R(\\cdot)$ is the rounding rule, and the stored 8-bit signed integer is $I$. The represented real value is $I \\cdot 2^{-4}$.\n\nFor $x=-0.3$, the scaled value is\n$$\nS = -0.3 \\cdot 2^{4} = -0.3 \\cdot 16 = -4.8.\n$$\n\nUnder truncation (round toward zero), the rule discards the fractional part, which for negative values is equivalent to taking the ceiling:\n$$\nI_{\\text{trunc}} = -4.\n$$\n\nUnder round-to-nearest-even, we choose the nearest integer to $-4.8$. Since $-5$ is closer than $-4$ and there is no tie (not exactly halfway), the result is\n$$\nI_{\\text{rne}} = -5.\n$$\n\nBoth $I_{\\text{trunc}}$ and $I_{\\text{rne}}$ lie within the valid 8-bit signed range, so no saturation is needed. Thus, the required pair of 8-bit signed integers is $\\left(-4,-5\\right)$, ordered as (truncation, round-to-nearest-even).", "answer": "$$\\boxed{\\begin{pmatrix}-4  -5\\end{pmatrix}}$$", "id": "2199486"}, {"introduction": "In standard algebra, expressions like $\\frac{x}{y \\cdot z}$ can be reordered as $(\\frac{x}{y})/z$ without changing the result, a property known as associativity. However, in the world of computer arithmetic, this fundamental rule does not always hold true due to the rounding that occurs after each individual operation. This practice problem demonstrates how these small, intermediate rounding errors can accumulate, causing two algebraically equivalent computational paths to yield different final answers, highlighting the non-associative nature of floating-point arithmetic. [@problem_id:2199510]", "problem": "A student in an introductory computational science course is working with a simplified computer system that has a peculiar arithmetic processing unit. This system represents all numbers in a floating-point format and, after every individual arithmetic operation (e.g., a single multiplication or a single division), it immediately rounds the result to 3 significant figures. The rounding rule employed is standard: if the fourth significant digit is 5 or greater, the third significant digit is rounded up; otherwise, the number is truncated after the third significant digit.\n\nThe student needs to evaluate the expression $V = \\frac{x}{y \\cdot z}$ for the given values $x = 100.0$, $y = 6.00$, and $z = 7.00$. Due to the nature of the system, the order of operations can affect the final result. The student decides to compare two different computational approaches:\n\nMethod A: First, calculate the product in the denominator, $p = y \\cdot z$, and then compute the final value as $V_A = x / p$.\nMethod B: First, calculate the initial quotient, $q = x / y$, and then compute the final value as $V_B = q / z$.\n\nCalculate the absolute difference, $|V_A - V_B|$, that arises from using these two distinct methods on this particular system.", "solution": "We apply the rule: after each individual multiplication or division, round immediately to 3 significant figures using standard rounding (look at the fourth significant digit; if it is at least 5, round the third up; otherwise truncate after the third).\n\nMethod A:\n1) Compute the product in the denominator:\n$$p=y\\cdot z=6.00\\cdot 7.00=42.00.$$\nRound to 3 significant figures: $p=42.0$.\n2) Compute the final division:\n$$V_{A}=\\frac{x}{p}=\\frac{100.0}{42.0}=2.380952\\ldots.$$\nRound to 3 significant figures: the third significant digit is the 8 in $2.38$, the fourth is $05$, so $V_{A}=2.38$.\n\nMethod B:\n1) Compute the initial quotient:\n$$q=\\frac{x}{y}=\\frac{100.0}{6.00}=16.666\\ldots.$$\nRound to 3 significant figures: the third significant digit is the 6 in $16.6$, the fourth is $6\\geq 5$, so $q=16.7$.\n2) Compute the final division:\n$$V_{B}=\\frac{q}{z}=\\frac{16.7}{7.00}=2.385714\\ldots.$$\nRound to 3 significant figures: the third significant digit is the 8 in $2.38$, the fourth is $5\\geq 5$, so $V_{B}=2.39$.\n\nAbsolute difference:\n$$|V_{A}-V_{B}|=|2.38-2.39|=0.01.$$", "answer": "$$\\boxed{0.01}$$", "id": "2199510"}, {"introduction": "Perhaps one of the most significant pitfalls in numerical computation is \"catastrophic cancellation,\" a phenomenon that occurs when subtracting two very close numbers. This operation can lead to a drastic loss of significant figures, potentially invalidating the result. This exercise not only demonstrates this dangerous effect but also introduces a crucial problem-solving technique in numerical analysis: reformulating a mathematically equivalent expression to create a numerically stable algorithm that avoids such cancellations. [@problem_id:2199459]", "problem": "A computational system for financial analysis operates using a specific decimal floating-point arithmetic. In this system, every number is stored and every intermediate result of an operation (addition, subtraction, multiplication, division, and square root) is immediately rounded to a precision of exactly 5 significant decimal digits. The system employs the \"round half to even\" rounding rule, where numbers are rounded to the nearest value, and a value halfway between two representable numbers is rounded to the one with an even last digit.\n\nYou are tasked with evaluating the function $f(x) = \\sqrt{x+1} - \\sqrt{x}$ for the input value $x = 8888$.\n\nFirst, compute the value of the function directly using the expression for $f(x)$. Let this result be $v_1$.\n\nSecond, compute the value using the algebraically equivalent expression $g(x) = \\frac{1}{\\sqrt{x+1} + \\sqrt{x}}$. Let this result be $v_2$.\n\nAssuming that the value $v_2$ obtained from the second method is a more accurate representation of the true value, calculate the relative error of the first method's result, $v_1$. The relative error is defined as $\\frac{|v_2 - v_1|}{|v_2|}$.\n\nExpress your final answer for the relative error as a decimal, rounded to three significant figures.", "solution": "The problem asks for the relative error between two computational methods for evaluating a function on a specific arithmetic system. The system uses decimal arithmetic with a precision of $p=5$ significant digits and rounds every intermediate operation using the \"round half to even\" rule. The input value is $x=8888$.\n\nFirst, we compute the value using the direct method, $f(x) = \\sqrt{x+1} - \\sqrt{x}$. Let's call the computed result $v_1$.\n\n1.  Calculate $x+1$:\n    $x+1 = 8888 + 1 = 8889$. This is an exact calculation and has 4 significant digits, which is less than the system's precision of 5, so no rounding is needed.\n\n2.  Calculate the first square root, $\\sqrt{x+1}$:\n    $\\sqrt{8889} \\approx 94.28149339...$. We must round this intermediate result to 5 significant digits. The first 5 digits are $94.281$. The 6th digit is 4, which is less than 5, so we round down (truncate).\n    Let's call this rounded value $y_1 = 94.281$.\n\n3.  Calculate the second square root, $\\sqrt{x}$:\n    $\\sqrt{8888} \\approx 94.27618919...$. We round this to 5 significant digits. The first 5 digits are $94.276$. The 6th digit is 1, which is less than 5, so we round down.\n    Let's call this rounded value $y_2 = 94.276$.\n\n4.  Perform the subtraction:\n    $v_1 = y_1 - y_2 = 94.281 - 94.276 = 0.005$. This result has only one significant digit. It can be represented exactly within the 5-digit precision system (as $5.0000 \\times 10^{-3}$), so no further rounding is needed.\n    So, $v_1 = 0.005$.\n\nNext, we compute the value using the alternative, algebraically equivalent method, $g(x) = \\frac{1}{\\sqrt{x+1} + \\sqrt{x}}$. Let's call the computed result $v_2$.\n\n1.  The intermediate square root calculations are the same as before. We use the rounded values:\n    $y_1 = 94.281$\n    $y_2 = 94.276$\n\n2.  Perform the addition in the denominator:\n    $y_1 + y_2 = 94.281 + 94.276 = 188.557$. This intermediate result has 6 significant digits and must be rounded to 5. The first 5 digits are $188.55$. The 6th digit is 7, which is greater than 5, so we must round up the 5th digit.\n    Let's call this rounded sum $S = 188.56$.\n\n3.  Perform the division:\n    $v_2 = \\frac{1}{S} = \\frac{1}{188.56}$. The unrounded value is approximately $0.00530335171...$. We must round this to 5 significant digits. The first 5 significant digits are $5, 3, 0, 3, 3$. The number is $0.0053033$. The next digit is 5, followed by non-zero digits ($171...$). According to the rounding rule, if the part to be discarded is greater than half a unit in the last place (which is the case here, as $0.5171... > 0.5$), we round up.\n    Rounding $0.00530335171...$ up at the 5th significant digit gives $v_2 = 0.0053034$.\n\nFinally, we calculate the relative error of $v_1$ with respect to $v_2$. The formula is $E_r = \\frac{|v_2 - v_1|}{|v_2|}$.\n\n1.  Substitute the computed values:\n    $E_r = \\frac{|0.0053034 - 0.005|}{|0.0053034|} = \\frac{0.0003034}{0.0053034}$.\n\n2.  Calculate the final value:\n    $E_r \\approx 0.05720877...$\n\n3.  Round the result to three significant figures as requested. The first three significant digits are $5, 7, 2$. The next digit is 0, so we round down.\n    The final answer is $0.0572$.", "answer": "$$\\boxed{0.0572}$$", "id": "2199459"}]}