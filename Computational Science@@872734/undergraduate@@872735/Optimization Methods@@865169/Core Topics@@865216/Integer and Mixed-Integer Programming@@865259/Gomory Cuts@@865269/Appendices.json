{"hands_on_practices": [{"introduction": "The heart of the Gomory cutting plane method lies in a clever algebraic insight based on modular arithmetic. This first exercise focuses directly on that core mechanism. By working with a single row from a hypothetical simplex tableau, you will practice deriving a Gomory fractional cut from first principles, solidifying your understanding of how fractional data is used to generate a valid inequality. [@problem_id:3133803]", "problem": "Consider a pure Integer Linear Programming (ILP) problem in standard form, where all decision variables are required to be integers and nonnegative. Suppose the Linear Programming (LP) relaxation has been solved by the simplex method, yielding a current basis. Focus on a single tableau row for a basic variable, written in canonical form as\n$$\nx_{B} \\;=\\; b \\;-\\; a_{1}\\,x_{1} \\;-\\; a_{2}\\,x_{2} \\;-\\; a_{3}\\,x_{3},\n$$\nwith $x_{1}, x_{2}, x_{3} \\ge 0$ and $x_{1}, x_{2}, x_{3}$ also required to be integers in the ILP. The fundamental base for constructing a Gomory fractional cut is the definition of fractional parts and modular arithmetic: for any real number $t$, the fractional part is $\\{t\\} = t - \\lfloor t \\rfloor$, and congruence modulo $1$ satisfies $u \\equiv v \\;(\\mathrm{mod}\\;1)$ if and only if $u - v$ is an integer. For a row with a fractional right-hand side $b$, the integrality of $x_{B}$ implies a modular relationship that can be converted into a valid inequality (the Gomory fractional cut) involving the fractional parts of the tableau coefficients.\n\nGiven the specific row data\n$$\nb \\;=\\; 5.75, \n\\qquad \n(a_{1}, a_{2}, a_{3}) \\;=\\; (0.25,\\, 1.5,\\, 2.75),\n$$\nperform the following:\n- Compute the fractional parts $\\{b\\}$ and $\\{a_{j}\\}$ for $j \\in \\{1,2,3\\}$.\n- From first principles based on the integrality of $x_{B}$ and modular arithmetic, derive the corresponding Gomory fractional cut in terms of $x_{1}, x_{2}, x_{3}$.\n- Briefly interpret the cut coefficients using congruences modulo $1$.\nFinally, let $S$ denote the sum of the coefficients on the left-hand side of the derived Gomory fractional cut. What is the exact value of $S$? Provide your final answer as a single real number. No rounding is required.", "solution": "We begin from the canonical simplex tableau row\n$$\nx_{B} \\;=\\; b \\;-\\; a_{1}\\,x_{1} \\;-\\; a_{2}\\,x_{2} \\;-\\; a_{3}\\,x_{3},\n$$\nwhich can be rewritten as $x_{B} + a_1 x_1 + a_2 x_2 + a_3 x_3 = b$. In a pure Integer Linear Programming (ILP) problem, all variables must be integers. The construction of a Gomory fractional cut uses the fractional part operator, defined by $\\{t\\} = t - \\lfloor t \\rfloor$ for any real number $t$.\n\n**Step 1: Compute the fractional parts.**\nWith the provided data, $b = 5.75$ and $(a_{1}, a_{2}, a_{3}) = (0.25, 1.5, 2.75)$, we compute:\n$$\n\\{b\\} = \\{5.75\\} = 5.75 - \\lfloor 5.75 \\rfloor = 5.75 - 5 = 0.75,\n$$\n$$\n\\{a_{1}\\} = \\{0.25\\} = 0.25 - \\lfloor 0.25 \\rfloor = 0.25 - 0 = 0.25,\n$$\n$$\n\\{a_{2}\\} = \\{1.5\\} = 1.5 - \\lfloor 1.5 \\rfloor = 1.5 - 1 = 0.5,\n$$\n$$\n\\{a_{3}\\} = \\{2.75\\} = 2.75 - \\lfloor 2.75 \\rfloor = 2.75 - 2 = 0.75.\n$$\n\n**Step 2: Derive the Gomory fractional cut.**\nWe start with the equation $x_{B} + \\sum a_j x_j = b$ and decompose each term into its integer and fractional parts:\n$$\nx_{B} + \\sum_{j} (\\lfloor a_j \\rfloor + \\{a_j\\}) x_j = \\lfloor b \\rfloor + \\{b\\}\n$$\nRearranging to separate integer and fractional components:\n$$\nx_{B} + \\sum_{j} \\lfloor a_j \\rfloor x_j - \\lfloor b \\rfloor = \\{b\\} - \\sum_{j} \\{a_j\\} x_j\n$$\nSince all variables are integers, the left-hand side of this equation is an integer. Therefore, the right-hand side must also be an integer. Since all $x_j \\ge 0$ and $\\{a_j\\} \\ge 0$, the summation $\\sum_{j} \\{a_j\\} x_j$ is non-negative. This implies that the right-hand side is less than or equal to $\\{b\\}$, which is $0.75$.\n$$\n\\{b\\} - \\sum_{j} \\{a_j\\} x_j \\le \\{b\\}  1\n$$\nThe right-hand side must be an integer that is less than 1, so it must be less than or equal to 0.\n$$\n\\{b\\} - \\sum_{j} \\{a_j\\} x_j \\le 0\n$$\nThis yields the Gomory fractional cut:\n$$\n\\sum_{j} \\{a_j\\} x_j \\ge \\{b\\}\n$$\nSubstituting the computed fractional parts produces the explicit cut:\n$$\n0.25\\,x_{1} + 0.5\\,x_{2} + 0.75\\,x_{3} \\ge 0.75.\n$$\n\n**Step 3: Calculate the sum of coefficients.**\nLet $S$ denote the sum of the left-hand side coefficients of the derived Gomory fractional cut:\n$$\nS = \\{a_{1}\\} + \\{a_{2}\\} + \\{a_{3}\\} = 0.25 + 0.5 + 0.75 = 1.5.\n$$\nThus, the exact value of $S$ is $1.5$.", "answer": "$$\\boxed{1.5}$$", "id": "3133803"}, {"introduction": "While the previous exercise isolated the cut generation, this practice places that skill within a complete problem-solving context. Starting with a full Integer Linear Program, you will navigate the entire process from solving the LP relaxation to deriving and simplifying a Gomory cut. This hands-on walkthrough demonstrates how cuts are practically applied to tackle fractional solutions in optimization problems. [@problem_id:3133812]", "problem": "Consider the following Integer Linear Programming (ILP) problem: maximize the linear objective $z = 5 x_1 + 3 x_2 + 4 x_3$ subject to the constraints $x_1 + 2 x_2 + 3 x_3 \\le 7$, $2 x_1 + x_2 + x_3 \\le 6$, and $x_1, x_2, x_3 \\ge 0$ with $x_1, x_2, x_3$ required to be integers. Let the Linear Programming (LP) relaxation of this problem be obtained by dropping the integrality requirement on $x_1, x_2, x_3$. Introduce slack variables $s_1$ and $s_2$ to rewrite the inequalities as equalities in standard form: $x_1 + 2 x_2 + 3 x_3 + s_1 = 7$ and $2 x_1 + x_2 + x_3 + s_2 = 6$, with $s_1, s_2 \\ge 0$.\n\nStarting from the foundational definitions of LP relaxation, Basic Feasible Solution (BFS), and the simplex tableau representation, carry out the following steps without using any shortcut formulas:\n\n- Determine the optimal BFS of the LP relaxation. Identify a basis with two structural variables basic and one structural variable at zero at optimality, and write the associated simplex tableau rows for the basic structural variables in terms of the nonbasic variables (including the slack variables).\n- From the tableau row corresponding to a basic structural variable whose right-hand side value at the BFS is fractional, derive the Gomory fractional cut using only the standard integer-arithmetic reasoning that underlies Gomory cuts. Simplify this cut to an inequality expressed solely in the original structural variables $x_1, x_2, x_3$ (eliminate $s_1$ and $s_2$).\n- Test the derived cut numerically on two nearby BFS of the LP relaxation: \n  1. The fractional optimal BFS you found.\n  2. The adjacent BFS obtained by setting $x_3 = 0$ and enforcing both constraints as equalities simultaneously.\n  For each of these two BFS, compute the violation amount defined as $\\max\\{0,\\text{LHS} - \\text{RHS}\\}$, where LHS and RHS denote the left-hand side and right-hand side of the derived cut, respectively.\n\nYour final answer must be the single real number equal to the maximum violation among these two BFS, expressed as an exact fraction. No rounding is required, and no units are involved.", "solution": "**1. Determine the optimal BFS of the LP Relaxation**\nWe solve the LP relaxation. The optimal solution occurs at a vertex. We test the vertex where the two main constraints are active ($s_1=0, s_2=0$) and one structural variable is non-basic. Setting $x_2=0$ gives the system:\n$$x_1 + 3x_3 = 7$$\n$$2x_1 + x_3 = 6$$\nSolving this system yields $x_1 = 11/5$ and $x_3 = 8/5$. The BFS is $(x_1, x_2, x_3) = (11/5, 0, 8/5)$.\n\nTo verify optimality and get the tableau rows, we express the basic variables $(x_1, x_3)$ and the objective function in terms of the non-basic variables $(x_2, s_1, s_2)$. From the standard form equations, we solve for $x_1$ and $x_3$:\n$$x_1 = \\frac{11}{5} - \\frac{1}{5}x_2 + \\frac{1}{5}s_1 - \\frac{3}{5}s_2 \\quad (\\text{Row for } x_1)$$\n$$x_3 = \\frac{8}{5} - \\frac{3}{5}x_2 - \\frac{2}{5}s_1 + \\frac{1}{5}s_2 \\quad (\\text{Row for } x_3)$$\nSubstituting these into the objective function yields the z-row:\n$$z = \\frac{87}{5} - \\frac{2}{5}x_2 - \\frac{3}{5}s_1 - \\frac{11}{5}s_2$$\nSince the coefficients of the non-basic variables are all non-positive, this BFS is optimal for the LP relaxation.\n\n**2. Derive and Simplify the Gomory Cut**\nBoth basic variables, $x_1 = 11/5$ and $x_3 = 8/5$, are fractional. We use the row for $x_1$ to generate a cut:\n$$x_1 + \\frac{1}{5}x_2 - \\frac{1}{5}s_1 + \\frac{3}{5}s_2 = \\frac{11}{5}$$\nWe apply the Gomory cut formula $\\sum_{j \\in N} \\{\\bar{a}_{j}\\} x_j \\ge \\{\\bar{b}\\}$. The fractional parts of the coefficients are:\n- $\\{\\bar{a}_{x_2}\\} = \\{1/5\\} = 1/5$\n- $\\{\\bar{a}_{s_1}\\} = \\{-1/5\\} = 4/5$\n- $\\{\\bar{a}_{s_2}\\} = \\{3/5\\} = 3/5$\nThe fractional part of the right-hand side is $\\{\\bar{b}\\} = \\{11/5\\} = 1/5$.\nThe resulting Gomory cut is $\\frac{1}{5}x_2 + \\frac{4}{5}s_1 + \\frac{3}{5}s_2 \\ge \\frac{1}{5}$. Multiplying by 5 gives $x_2 + 4s_1 + 3s_2 \\ge 1$.\n\nTo express this in terms of the original variables, we substitute $s_1 = 7 - x_1 - 2x_2 - 3x_3$ and $s_2 = 6 - 2x_1 - x_2 - x_3$:\n$$x_2 + 4(7 - x_1 - 2x_2 - 3x_3) + 3(6 - 2x_1 - x_2 - x_3) \\ge 1$$\n$$-10x_1 - 10x_2 - 15x_3 + 46 \\ge 1 \\implies -10x_1 - 10x_2 - 15x_3 \\ge -45$$\nDividing by -5 and reversing the inequality gives the simplified cut:\n$$2x_1 + 2x_2 + 3x_3 \\le 9$$\n\n**3. Test the Cut on Two BFS**\nThe violation is defined as $\\max\\{0, \\text{LHS} - 9\\}$.\n\n- **Test Case 1 (Optimal Fractional BFS):** $(x_1, x_2, x_3) = (11/5, 0, 8/5)$.\nLHS = $2(11/5) + 2(0) + 3(8/5) = 22/5 + 24/5 = 46/5$.\nViolation = $\\max\\{0, 46/5 - 9\\} = \\max\\{0, 46/5 - 45/5\\} = 1/5$.\n\n- **Test Case 2 (Adjacent BFS with $x_3=0$):** We solve $x_1 + 2x_2 = 7$ and $2x_1 + x_2 = 6$, which gives $(x_1, x_2, x_3) = (5/3, 8/3, 0)$.\nLHS = $2(5/3) + 2(8/3) + 3(0) = 10/3 + 16/3 = 26/3$.\nViolation = $\\max\\{0, 26/3 - 9\\} = \\max\\{0, 26/3 - 27/3\\} = 0$.\n\nThe maximum violation between these two cases is $1/5$.", "answer": "$$\\boxed{\\frac{1}{5}}$$", "id": "3133812"}, {"introduction": "The ultimate purpose of adding cuts is to precisely define the feasible region of integer solutions, known as the integer hull. This advanced practice provides a powerful geometric perspective, challenging you to use Gomory cuts to systematically sculpt the LP relaxation's feasible region into the true integer hull for a given problem. This exercise not only reinforces the mechanics of cut generation but also reveals their theoretical power in achieving the exact solution space. [@problem_id:3133821]", "problem": "Consider the following pure Integer Linear Program (ILP), where Integer Linear Program (ILP) means all decision variables are required to take integer values and the constraints are linear:\n- Decision variables: $x$, $y$.\n- Objective: maximize $z = x + y$.\n- Constraints:\n  - $2x + y \\leq 5$,\n  - $x + 2y \\leq 5$,\n  - $x \\geq 0$,\n  - $y \\geq 0$,\n  - $x, y \\in \\mathbb{Z}$.\n\nWork with the standard Linear Programming (LP) relaxation obtained by replacing $x, y \\in \\mathbb{Z}$ with $x, y \\in \\mathbb{R}$. Your tasks are:\n1. Determine the convex hull of the integer-feasible points of the ILP and verify that it is a pentagon by listing its vertices in cyclic order.\n2. Starting from the optimal basic feasible solution (BFS) of the LP relaxation for the objective $\\max\\{x+y\\}$, generate Gomory fractional cuts. At each step:\n   - Identify a fractional BFS and write down one Gomory fractional cut that is violated by that BFS, deriving it from the LP tableau or equivalently by an appropriate Chvátal–Gomory aggregation with nonnegative multipliers chosen so that the resulting coefficient vector on $(x,y)$ is integral.\n   - Express each cut in terms of $(x,y)$ only (eliminate any slack variables).\n   - State the Gomory–Chvátal rank (defined as the minimum number of Chvátal–Gomory rounds needed to derive that inequality from the original system) of each cut you add.\n3. Continue adding such cuts until the LP relaxation coincides with the integer hull you found in part 1, that is, until all facet-defining inequalities of the integer hull are present.\n4. Let $r$ be the minimum number of Gomory–Chvátal rounds required to derive all the facet-defining inequalities of the integer hull of this ILP from the original constraints. Provide the value of $r$.\n\nYour final answer must be the single number $r$. No units are required. If your computations produce non-integer intermediate values, carry exact rational arithmetic and do not round. The final $r$ must be exact.", "solution": "The problem asks for the Gomory-Chvátal rank of a given integer program's feasible region. This is the minimum number of rounds of cut generation needed to describe the integer hull.\n\n**Step 1: Determine the Integer Hull**\nFirst, we find all integer points $(x,y)$ satisfying the constraints: $2x + y \\le 5$, $x + 2y \\le 5$, $x \\ge 0$, $y \\ge 0$.\n- If $x=0$, $y \\in \\{0, 1, 2\\}$. Points: $(0,0), (0,1), (0,2)$.\n- If $x=1$, $y \\in \\{0, 1, 2\\}$. Points: $(1,0), (1,1), (1,2)$.\n- If $x=2$, $y \\in \\{0, 1\\}$. Points: $(2,0), (2,1)$.\n- For $x \\ge 3$, there are no non-negative integer solutions for $y$.\nThe set of integer feasible points is $S = \\{(0,0), (0,1), (0,2), (1,0), (1,1), (1,2), (2,0), (2,1)\\}$.\nThe convex hull of these points, $conv(S)$, is a pentagon with vertices $(0,0), (2,0), (2,1), (1,2), (0,2)$.\nThe facet-defining inequalities of this pentagon are:\n1.  Edge from $(0,0)$ to $(2,0)$: $y \\geq 0$\n2.  Edge from $(2,0)$ to $(2,1)$: $x \\leq 2$\n3.  Edge from $(2,1)$ to $(1,2)$: $x+y \\leq 3$\n4.  Edge from $(1,2)$ to $(0,2)$: $y \\leq 2$\n5.  Edge from $(0,2)$ to $(0,0)$: $x \\geq 0$\nThe integer hull is the region defined by $x \\ge 0, y \\ge 0, x \\le 2, y \\le 2, x+y \\le 3$.\n\n**Step 2: Solve the LP Relaxation and Generate Cuts**\nThe optimal solution to the LP relaxation for maximizing $z=x+y$ occurs at the intersection of the two main constraint boundaries: $2x + y = 5$ and $x + 2y = 5$. This gives the fractional solution $(x,y) = (5/3, 5/3)$.\n\nWe need to determine the rank of the new facet-defining inequalities: $x+y \\le 3$, $x \\le 2$, and $y \\le 2$. A Chvátal-Gomory (CG) cut is derived by taking a non-negative linear combination of existing inequalities, $\\mathbf{u}^T\\mathbf{A}\\mathbf{x} \\le \\mathbf{u}^T\\mathbf{b}$, and then strengthening it to $\\lfloor \\mathbf{u}^T\\mathbf{A} \\rfloor^T \\mathbf{x} \\le \\lfloor \\mathbf{u}^T\\mathbf{b} \\rfloor$. An inequality has rank 1 if it can be derived in one such round from the original constraints.\n\n**Rank of $x+y \\leq 3$:**\nTake a linear combination of the original constraints $2x+y \\le 5$ and $x+2y \\le 5$ with weights $u_1=1/3, u_2=1/3$:\n$$ \\frac{1}{3}(2x+y) + \\frac{1}{3}(x+2y) \\leq \\frac{1}{3}(5) + \\frac{1}{3}(5) $$\n$$ x+y \\leq \\frac{10}{3} $$\nApplying the CG rounding (flooring the right-hand side, since the left-hand side coefficients are already integer):\n$$ x+y \\leq \\lfloor \\frac{10}{3} \\rfloor \\implies x+y \\leq 3 $$\nThis inequality can be derived in one round, so it has rank 1.\n\n**Rank of $x \\leq 2$:**\nTake the constraint $2x+y \\le 5$ and multiply by $u_1=1/2$:\n$$ \\frac{1}{2}(2x+y) \\leq \\frac{1}{2}(5) $$\n$$ x + \\frac{1}{2}y \\leq \\frac{5}{2} $$\nApplying the CG procedure (flooring all coefficients and the right-hand side):\n$$ \\lfloor 1 \\rfloor x + \\lfloor \\frac{1}{2} \\rfloor y \\leq \\lfloor \\frac{5}{2} \\rfloor \\implies x \\leq 2 $$\nThis inequality also has rank 1.\n\n**Rank of $y \\leq 2$:**\nBy symmetry, taking the constraint $x+2y \\le 5$ and multiplying by $u_2=1/2$ yields:\n$$ \\frac{1}{2}x + y \\leq \\frac{5}{2} $$\nApplying the CG procedure:\n$$ \\lfloor \\frac{1}{2} \\rfloor x + \\lfloor 1 \\rfloor y \\leq \\lfloor \\frac{5}{2} \\rfloor \\implies y \\leq 2 $$\nThis inequality also has rank 1.\n\n**Step 3: Determine the Gomory-Chvátal Rank of the Polyhedron**\nLet $P_0$ be the feasible region of the original LP relaxation. The first Chvátal closure, $P_1$, is the set of points satisfying all rank-1 CG inequalities. We have shown that all facet-defining inequalities of the integer hull, $conv(S)$, are either original constraints or have a rank of 1.\nThis means that the region defined by these inequalities, which is precisely $conv(S)$, is obtained after a single round of the Chvátal-Gomory procedure.\nFormally, let $P_k$ be the polyhedron after $k$ rounds. We have shown that $P_1 = conv(S)$.\nThe minimum number of rounds required to obtain the integer hull is therefore $r=1$.", "answer": "$$\\boxed{1}$$", "id": "3133821"}]}