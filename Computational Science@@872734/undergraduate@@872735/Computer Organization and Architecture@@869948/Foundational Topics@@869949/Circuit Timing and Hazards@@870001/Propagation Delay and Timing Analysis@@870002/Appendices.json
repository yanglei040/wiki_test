{"hands_on_practices": [{"introduction": "In digital circuits, not all delays are simple time-shifts. This exercise explores the concept of inertial delay, a property of logic gates that allows them to filter out short, unwanted transient signals known as glitches. By tracing a pulse through a path with different delay models, you will gain hands-on experience in predicting whether a hazardous pulse propagates or is safely suppressed, a critical skill in robust logic design. [@problem_id:3670798]", "problem": "A hazard in a combinational path produces a transient high pulse of width $w$ at the input of the first stage. The path consists of two non-inverting logic buffers with ideal inertial delay, followed by a wire with ideal transport delay, driving the input of a positive-edge-triggered register. The first buffer has inertial delay $\\delta_1$, the interconnect has transport delay $\\tau$, and the second buffer has inertial delay $\\delta_2$. The hazard produces a pulse of width $w$ at the input of the first buffer. Assume ideal inertial delay for the buffers, meaning an output transition occurs only if the corresponding input transition is held for at least the inertial delay; pulses shorter than the inertial delay are fully suppressed. Assume ideal transport delay for the interconnect, meaning it time-shifts signals without filtering or reshaping.\n\nGiven $w = 0.200 \\text{ ns}$, $\\delta_1 = 0.130 \\text{ ns}$, $\\tau = 0.040 \\text{ ns}$, and $\\delta_2 = 0.170 \\text{ ns}$, determine the width of the pulse that appears at the register input after this path. If the pulse is completely suppressed before reaching the register, the width is zero. Express your answer in nanoseconds. Round your answer to three significant figures.", "solution": "The problem asks for the width of a transient pulse after it propagates through a path consisting of a sequence of logic elements with specified delay characteristics. The path comprises a first buffer with inertial delay, an interconnect with transport delay, and a second buffer with inertial delay. We must trace the pulse through each stage to determine its final width at the input of the register.\n\nThe fundamental principles governing the pulse propagation in this problem are the definitions of ideal inertial delay and ideal transport delay.\n1.  **Ideal Inertial Delay**: An element with inertial delay $\\delta$ acts as a filter for short pulses. An input pulse of width $w_{in}$ will only produce an output pulse if its duration is greater than or equal to the inertial delay, i.e., $w_{in} \\ge \\delta$. If this condition is met, the logic element produces an output pulse that is delayed by $\\delta$, but for an ideal non-inverting buffer, the pulse width remains unchanged. If $w_{in} < \\delta$, the pulse is suppressed, and the output pulse width is zero.\n2.  **Ideal Transport Delay**: An element with transport delay $\\tau$ simply shifts the entire input signal in time by an amount $\\tau$. It does not alter the signal's shape or the width of any pulses within it.\n\nWe will now apply these principles stage by stage.\n\n**Stage 1: Propagation through the first buffer**\n\nThe initial pulse has a width of $w = 0.200 \\text{ ns}$. This pulse is the input to the first buffer, which has an inertial delay of $\\delta_1 = 0.130 \\text{ ns}$.\n\nTo determine if the pulse propagates through this buffer, we compare its width $w$ with the buffer's inertial delay $\\delta_1$.\nThe condition for propagation is $w \\ge \\delta_1$.\nSubstituting the given values:\n$$0.200 \\text{ ns} \\ge 0.130 \\text{ ns}$$\nThis inequality is true. Therefore, the pulse is not suppressed by the first buffer. According to the ideal inertial delay model for a non-inverting buffer, the pulse width is preserved. Let $w_1$ be the width of the pulse at the output of the first buffer.\n$$w_1 = w = 0.200 \\text{ ns}$$\n\n**Stage 2: Propagation through the interconnect**\n\nThe pulse of width $w_1 = 0.200 \\text{ ns}$ enters the interconnect. The interconnect has a pure transport delay of $\\tau = 0.040 \\text{ ns}$.\n\nA transport delay only time-shifts the signal and does not affect its shape or width. Therefore, the width of the pulse at the output of the interconnect, let's call it $w_2$, is the same as the width of the pulse at its input.\n$$w_2 = w_1 = 0.200 \\text{ ns}$$\nThe value of $\\tau$ affects the arrival time of the pulse, but not its duration.\n\n**Stage 3: Propagation through the second buffer**\n\nThe pulse of width $w_2 = 0.200 \\text{ ns}$ is the input to the second buffer. This buffer has an inertial delay of $\\delta_2 = 0.170 \\text{ ns}$.\n\nSimilar to the first stage, we check if the pulse width is sufficient to overcome the inertial delay of the second buffer. The condition for propagation is $w_2 \\ge \\delta_2$.\nSubstituting the values:\n$$0.200 \\text{ ns} \\ge 0.170 \\text{ ns}$$\nThis inequality is also true. The pulse is not suppressed by the second buffer. The pulse propagates, and its width is preserved. Let $w_{out}$ be the width of the pulse at the output of the second buffer.\n$$w_{out} = w_2 = 0.200 \\text{ ns}$$\n\nThe output of the second buffer is connected to the input of the register. Therefore, the width of the pulse that appears at the register input is $w_{out}$.\n\nThe final width of the pulse is $0.200 \\text{ ns}$. The problem asks for the answer to be rounded to three significant figures. The result $0.200$ already has three significant figures (the trailing zeros are significant as indicated by the problem's givens).", "answer": "$$\\boxed{0.200}$$", "id": "3670798"}, {"introduction": "The maximum speed of any synchronous circuit is dictated by its \"critical path,\" the slowest route a signal can take between two registers. This practice problem puts you in the role of a chip designer analyzing a processor's cache access path, a performance-critical component. You will apply the fundamental setup-time equation to calculate the minimum clock period, learning to account for parallel logic paths and non-ideal clock effects like skew and jitter. [@problem_id:3670838]", "problem": "A pipeline stage of a central processing unit (CPU) performs a single-cycle read from a Level-1 (L1) data cache implemented with Static Random Access Memory (SRAM). The address is launched by a source register on a rising clock edge and is captured by a destination register on the next rising clock edge. The read path includes the following stages:\n\n- Tag comparison in the tag array, with worst-case delay $t_{\\text{tag}}$.\n- Wordline activation in the data array, with worst-case delay $t_{\\text{wl}}$.\n- Bitline development and sensing in the data array, with worst-case delay $t_{\\text{bl}}$.\n- Sense amplifier (SA) decision time, with worst-case delay $t_{\\text{sa}}$.\n- Output multiplexer selection, with worst-case delay $t_{\\text{mux}}$.\n- Setup time of the destination register, $t_{\\text{setup}}$.\n\nAssume a simple organization in which the tag comparison and the data-array access proceed in parallel after the address is launched, and the output multiplexer is controlled by the tag match result. The destination register samples the multiplexer output. The clock distribution has bounded skew and jitter.\n\nGiven the following worst-case parameters at the target operating corner:\n- Source register clock-to-$Q$: $t_{\\text{cq}} = 37 \\ \\text{ps}$.\n- Tag compare delay: $t_{\\text{tag}} = 205 \\ \\text{ps}$.\n- Data-array wordline delay: $t_{\\text{wl}} = 135 \\ \\text{ps}$.\n- Data-array bitline development delay: $t_{\\text{bl}} = 295 \\ \\text{ps}$.\n- Sense amplifier delay: $t_{\\text{sa}} = 82 \\ \\text{ps}$.\n- Output multiplexer delay: $t_{\\text{mux}} = 58 \\ \\text{ps}$.\n- Destination register setup time: $t_{\\text{setup}} = 54 \\ \\text{ps}$.\n- Clock skew budget: $t_{\\text{skew}} = 22 \\ \\text{ps}$.\n- Cycle-to-cycle clock jitter budget: $t_{\\text{jitter}} = 13 \\ \\text{ps}$.\n\nUsing first principles of synchronous timing, compute the minimum feasible clock period $T_{\\text{clk}}$ that guarantees correct sampling for the worst-case path in this organization. Round your answer to four significant figures and express it in $\\text{ns}$.\n\nAlso, identify which single named stage among $\\{\\text{tag compare}, \\text{wordline}, \\text{bitline}, \\text{sense amplifier}, \\text{mux}\\}$ is the dominant contributor to the critical-path delay immediately before the multiplexer. Provide the name of that stage in your reasoning, but note that the final numeric answer must be only $T_{\\text{clk}}$ in $\\text{ns}$, rounded as specified.", "solution": "The problem requires the calculation of the minimum feasible clock period, $T_{\\text{clk}}$, for a synchronous digital circuit. The governing principle for such a calculation is the setup time constraint, which ensures that data arrives at a register input and is stable for a minimum duration ($t_{\\text{setup}}$) before the capturing clock edge arrives.\n\nThe general timing equation for the setup constraint is:\n$$T_{\\text{clk}} \\ge t_{\\text{cq}} + t_{\\text{logic}} + t_{\\text{setup}} + t_{\\text{uncertainty}}$$\nThe term $t_{\\text{uncertainty}}$ accounts for clock non-idealities, specifically clock skew ($t_{\\text{skew}}$) and clock jitter ($t_{\\text{jitter}}$). In a worst-case setup analysis, both skew and jitter reduce the available time for the logic to compute, so they are added to the path delay. The minimum clock period, $T_{\\text{clk,min}}$, is therefore given by:\n$$T_{\\text{clk,min}} = t_{\\text{cq}} + t_{\\text{logic}} + t_{\\text{setup}} + t_{\\text{skew}} + t_{\\text{jitter}}$$\n\nThe term $t_{\\text{logic}}$ represents the total delay of the combinational logic path between the source and destination registers. We must first determine the structure of this path based on the problem description.\n\nThe address is launched from a source register and propagates through two parallel paths:\n1.  The tag path, which consists of the tag comparison. The delay of this path is $t_{\\text{tag-path}} = t_{\\text{tag}}$.\n2.  The data path, which involves sequential activation of the wordline, bitline development, and sensing. The delay of this path is $t_{\\text{data-path}} = t_{\\text{wl}} + t_{\\text{bl}} + t_{\\text{sa}}$.\n\nThe results of these two paths converge at an output multiplexer. The multiplexer's select input is driven by the tag comparison result, and its data inputs are driven by the sense amplifier outputs from the data array. The multiplexer can only produce a stable output after both its select and data inputs are stable. Therefore, the delay to the multiplexer's inputs is the maximum of the two parallel path delays.\n$$t_{\\text{delay-to-mux}} = \\max(t_{\\text{tag-path}}, t_{\\text{data-path}}) = \\max(t_{\\text{tag}}, t_{\\text{wl}} + t_{\\text{bl}} + t_{\\text{sa}})$$\nAfter the signals arrive at the multiplexer, there is an additional delay, $t_{\\text{mux}}$, for the signal to propagate through it to the input of the destination register. Thus, the total combinational logic delay, $t_{\\text{logic}}$, is:\n$$t_{\\text{logic}} = \\max(t_{\\text{tag}}, t_{\\text{wl}} + t_{\\text{bl}} + t_{\\text{sa}}) + t_{\\text{mux}}$$\n\nNow, we substitute the given numerical values into these expressions. All delay values are in picoseconds ($\\text{ps}$).\nThe given delays are:\n- $t_{\\text{cq}} = 37 \\ \\text{ps}$\n- $t_{\\text{tag}} = 205 \\ \\text{ps}$\n- $t_{\\text{wl}} = 135 \\ \\text{ps}$\n- $t_{\\text{bl}} = 295 \\ \\text{ps}$\n- $t_{\\text{sa}} = 82 \\ \\text{ps}$\n- $t_{\\text{mux}} = 58 \\ \\text{ps}$\n- $t_{\\text{setup}} = 54 \\ \\text{ps}$\n- $t_{\\text{skew}} = 22 \\ \\text{ps}$\n- $t_{\\text{jitter}} = 13 \\ \\text{ps}$\n\nFirst, we calculate the delay of the data path:\n$$t_{\\text{data-path}} = t_{\\text{wl}} + t_{\\text{bl}} + t_{\\text{sa}} = 135 \\ \\text{ps} + 295 \\ \\text{ps} + 82 \\ \\text{ps} = 512 \\ \\text{ps}$$\nNext, we compare the data path delay with the tag path delay to find the critical path feeding into the multiplexer:\n$$t_{\\text{delay-to-mux}} = \\max(t_{\\text{tag}}, t_{\\text{data-path}}) = \\max(205 \\ \\text{ps}, 512 \\ \\text{ps}) = 512 \\ \\text{ps}$$\nThe critical path before the multiplexer is the data path. The problem asks to identify the dominant single named stage in this path. Comparing the components of the data path, $t_{\\text{wl}} = 135 \\ \\text{ps}$, $t_{\\text{bl}} = 295 \\ \\text{ps}$, and $t_{\\text{sa}} = 82 \\ \\text{ps}$, the bitline development delay ($t_{\\text{bl}}$) is the largest. Therefore, the dominant contributor is the **bitline** stage.\n\nNow, we calculate the total logic delay, $t_{\\text{logic}}$:\n$$t_{\\text{logic}} = t_{\\text{delay-to-mux}} + t_{\\text{mux}} = 512 \\ \\text{ps} + 58 \\ \\text{ps} = 570 \\ \\text{ps}$$\nFinally, we substitute all the component delays into the equation for the minimum clock period:\n$$T_{\\text{clk,min}} = t_{\\text{cq}} + t_{\\text{logic}} + t_{\\text{setup}} + t_{\\text{skew}} + t_{\\text{jitter}}$$\n$$T_{\\text{clk,min}} = 37 \\ \\text{ps} + 570 \\ \\text{ps} + 54 \\ \\text{ps} + 22 \\ \\text{ps} + 13 \\ \\text{ps} = 696 \\ \\text{ps}$$\nThe problem requires the answer to be expressed in nanoseconds ($\\text{ns}$) and rounded to four significant figures.\n$$T_{\\text{clk,min}} = 696 \\ \\text{ps} = 0.696 \\ \\text{ns}$$\nRounding to four significant figures, we get $0.6960 \\ \\text{ns}$.", "answer": "$$\\boxed{0.6960}$$", "id": "3670838"}, {"introduction": "After learning to analyze a circuit's timing, the next step is to optimize it. This exercise introduces pipelining, a powerful architectural technique used to increase clock frequency by dividing long computational tasks into smaller, faster stages. You will evaluate different ways to partition an Arithmetic Logic Unit (ALU) and determine the optimal placement for a pipeline register to achieve the minimum possible clock period. [@problem_id:3670819]", "problem": "A processor datapath contains an Arithmetic Logic Unit (ALU) that executes a composite operation whose worst-case data path is a fixed sequence of three combinational blocks: an adder, followed by a barrel shifter, followed by a final output multiplexer. You are allowed to insert exactly one pipeline register inside the ALU so that this ALU operation is executed over two pipeline stages. The block order is fixed: adder output feeds the shifter input, which then feeds the multiplexer input. The goal is to choose the register placement that minimizes the maximum per-stage combinational delay while ensuring that setup time requirements are met at each receiving register.\n\nAssume the following propagation delays for the blocks: adder delay $t_{A} = 0.317\\,\\text{ns}$, shifter delay $t_{S} = 0.183\\,\\text{ns}$, and multiplexer delay $t_{M} = 0.092\\,\\text{ns}$. Each pipeline register has setup time $t_{\\text{setup}} = 0.039\\,\\text{ns}$. Neglect clock-to-$q$ delay, clock skew, and any interconnect delay beyond the given block delays. The only two legal placements for the internal pipeline register are between the adder and the shifter, or between the shifter and the multiplexer. In both cases, the stage boundaries must respect the given block order.\n\nUsing only foundational definitions of synchronous timing, determine the minimum feasible single-cycle clock period $T_{\\text{clk,min}}$ that can be achieved by an optimal placement of the internal pipeline register, under the stated assumptions. Express your final answer in nanoseconds and round your answer to four significant figures.", "solution": "The problem requires finding the optimal placement of a pipeline register to minimize the overall clock period. The minimum clock period ($T_{\\text{clk,min}}$) is determined by the delay of the slowest pipeline stage. According to the problem's assumptions (neglecting $t_{clk-q}$ and skew), the delay of a stage is the sum of its combinational logic delay ($t_{\\text{comb, stage}}$) and the register setup time ($t_{\\text{setup}}$). The overall minimum clock period is therefore determined by the stage with the maximum combinational delay, $t_{\\text{comb,max}}$:\n$$T_{\\text{clk,min}} = t_{\\text{comb,max}} + t_{\\text{setup}}$$\nWe will analyze the two possible register placements to find the one that yields the smallest $t_{\\text{comb,max}}$.\n\nWe are given the following propagation delays:\n- Adder delay: $t_{A} = 0.317\\,\\text{ns}$\n- Shifter delay: $t_{S} = 0.183\\,\\text{ns}$\n- Multiplexer delay: $t_{M} = 0.092\\,\\text{ns}$\n- Register setup time: $t_{\\text{setup}} = 0.039\\,\\text{ns}$\n\n**Case 1: Pipeline register placed between the adder and the shifter.**\nIn this configuration, the datapath is divided into two stages:\n- Stage 1: Consists of the adder. The combinational delay is $t_{\\text{stage1}} = t_{A} = 0.317\\,\\text{ns}$.\n- Stage 2: Consists of the shifter followed by the multiplexer. The combinational delay is $t_{\\text{stage2}} = t_{S} + t_{M} = 0.183\\,\\text{ns} + 0.092\\,\\text{ns} = 0.275\\,\\text{ns}$.\n\nThe maximum combinational delay for this placement, $t_{\\text{comb,max,1}}$, is the greater of the two stage delays:\n$$t_{\\text{comb,max,1}} = \\max(t_{\\text{stage1}}, t_{\\text{stage2}}) = \\max(0.317\\,\\text{ns}, 0.275\\,\\text{ns}) = 0.317\\,\\text{ns}$$\nThe minimum clock period achievable with this placement, $T_{\\text{clk},1}$, is:\n$$T_{\\text{clk},1} = t_{\\text{comb,max,1}} + t_{\\text{setup}} = 0.317\\,\\text{ns} + 0.039\\,\\text{ns} = 0.356\\,\\text{ns}$$\n\n**Case 2: Pipeline register placed between the shifter and the multiplexer.**\nIn this configuration, the datapath is divided differently:\n- Stage 1: Consists of the adder followed by the shifter. The combinational delay is $t_{\\text{stage1}} = t_{A} + t_{S} = 0.317\\,\\text{ns} + 0.183\\,\\text{ns} = 0.500\\,\\text{ns}$.\n- Stage 2: Consists of the multiplexer. The combinational delay is $t_{\\text{stage2}} = t_{M} = 0.092\\,\\text{ns}$.\n\nThe maximum combinational delay for this placement, $t_{\\text{comb,max,2}}$, is the greater of the two stage delays:\n$$t_{\\text{comb,max,2}} = \\max(t_{\\text{stage1}}, t_{\\text{stage2}}) = \\max(0.500\\,\\text{ns}, 0.092\\,\\text{ns}) = 0.500\\,\\text{ns}$$\nThe minimum clock period achievable with this placement, $T_{\\text{clk},2}$, is:\n$$T_{\\text{clk},2} = t_{\\text{comb,max,2}} + t_{\\text{setup}} = 0.500\\,\\text{ns} + 0.039\\,\\text{ns} = 0.539\\,\\text{ns}$$\n\n**Conclusion: Optimal Placement and Minimum Clock Period.**\nThe goal is to find the placement that minimizes the clock period. We compare the minimum clock periods calculated for the two cases:\n- Case 1: $T_{\\text{clk},1} = 0.356\\,\\text{ns}$\n- Case 2: $T_{\\text{clk},2} = 0.539\\,\\text{ns}$\n\nThe minimum of these two values determines the optimal achievable clock period for the entire system.\n$$T_{\\text{clk,min}} = \\min(T_{\\text{clk},1}, T_{\\text{clk},2}) = \\min(0.356\\,\\text{ns}, 0.539\\,\\text{ns}) = 0.356\\,\\text{ns}$$\nThe optimal placement is therefore between the adder and the shifter (Case 1), as it results in more balanced stage delays ($0.317\\,\\text{ns}$ and $0.275\\,\\text{ns}$) compared to the highly unbalanced delays of Case 2 ($0.500\\,\\text{ns}$ and $0.092\\,\\text{ns}$).\n\nThe problem asks for the final answer to be rounded to four significant figures. The calculated value is $0.356\\,\\text{ns}$. To express this with four significant figures, we append a zero.\n$$T_{\\text{clk,min}} = 0.3560\\,\\text{ns}$$", "answer": "$$\\boxed{0.3560}$$", "id": "3670819"}]}