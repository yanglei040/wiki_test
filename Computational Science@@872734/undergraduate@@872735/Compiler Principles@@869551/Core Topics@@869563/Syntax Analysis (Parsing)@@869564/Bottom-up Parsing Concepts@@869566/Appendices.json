{"hands_on_practices": [{"introduction": "This first exercise demonstrates the core motivation for using lookahead in bottom-up parsing. By analyzing a grammar that is not $LR(0)$, you will pinpoint a specific shift/reduce conflict and then observe how the $SLR(1)$ technique, which leverages information from the $\\mathrm{FOLLOW}$ set, elegantly resolves the ambiguity [@problem_id:3624879]. This practice is fundamental to understanding why parsers like $SLR(1)$ are more powerful than their simpler $LR(0)$ predecessors.", "problem": "Consider the context-free grammar with start symbol $S$ and productions $S \\rightarrow A B A$, $A \\rightarrow a \\mid \\epsilon$, and $B \\rightarrow b$. You will analyze bottom-up parsing for this grammar at the levels of Left-to-right, Rightmost (LR) parsing with zero lookahead $\\text{LR}(0)$ and Simple Left-to-right, Rightmost with one-symbol lookahead $\\text{SLR}(1)$. Work from first principles using the core definitions of $\\text{LR}(0)$ items, the $\\operatorname{closure}$ and $\\operatorname{goto}$ operations, and the rule that $\\text{LR}(0)$ reduce actions are placed for all terminals, while $\\text{SLR}(1)$ reduce actions are placed only on symbols in the $\\operatorname{FOLLOW}$ set of the left-hand side nonterminal. Do not use any precomputed templates; derive everything explicitly from these definitions.\n\nTasks:\n- Augment the grammar by introducing a new start symbol $S'$ with production $S' \\rightarrow S$.\n- Construct the canonical collection of $\\text{LR}(0)$ items by computing $\\operatorname{closure}$ and $\\operatorname{goto}$ from the augmented start item $S' \\rightarrow \\cdot S$.\n- Using the canonical collection, determine the $\\text{LR}(0)$ ACTION table entries and count conflicts as follows: define $c_{0}$ to be the total number of ACTION table cells that would be multiply defined under $\\text{LR}(0)$ (for example, a single state that requires both a shift and a reduce on the same terminal contributes $1$ to this count).\n- Compute the $\\operatorname{FIRST}$ and $\\operatorname{FOLLOW}$ sets needed for $\\text{SLR}(1)$.\n- Using $\\operatorname{FOLLOW}$-guided placement of reduce actions, determine the $\\text{SLR}(1)$ ACTION table entries and define $c_{1}$ to be the total number of ACTION table cells that would be multiply defined under $\\text{SLR}(1)$.\n- Finally, compute the value $V = 5 c_{0} + 7 c_{1}$.\n\nYour final answer must be the single real-valued number $V$. No rounding is required.", "solution": "The problem is valid as it is self-contained, scientifically grounded in the principles of compiler theory, and well-posed. We proceed with the solution.\n\nThe initial context-free grammar has productions $S \\rightarrow A B A$, $A \\rightarrow a \\mid \\epsilon$, and $B \\rightarrow b$. The terminals are $\\{a, b\\}$ and non-terminals are $\\{S, A, B\\}$.\n\nFirst, we augment the grammar by introducing a new start symbol $S'$ and a new production. The numbered productions are:\n$0. \\; S' \\rightarrow S$\n$1. \\; S \\rightarrow A B A$\n$2. \\; A \\rightarrow a$\n$3. \\; A \\rightarrow \\epsilon$\n$4. \\; B \\rightarrow b$\n\nNext, we construct the canonical collection of $\\text{LR}(0)$ items using the $\\operatorname{closure}$ and $\\operatorname{goto}$ operations.\n\nThe initial state $I_0$ is the closure of the item $[S' \\rightarrow \\cdot S]$:\n$I_0 = \\operatorname{closure}(\\{[S' \\rightarrow \\cdot S]\\})$\n- The item $[S' \\rightarrow \\cdot S]$ is in $I_0$. The dot is before non-terminal $S$, so we add all productions for $S$: $\\{[S \\rightarrow \\cdot A B A]\\}$.\n- Now, the item $[S \\rightarrow \\cdot A B A]$ is in the set. The dot is before non-terminal $A$, so we add all productions for $A$: $[A \\rightarrow \\cdot a]$ and $[A \\rightarrow \\cdot]$.\nThe final set for $I_0$ is:\n$I_0 = \\{ [S' \\to \\cdot S], [S \\to \\cdot A B A], [A \\to \\cdot a], [A \\to \\cdot] \\}$\n\nNow we compute the $\\operatorname{goto}$ function for $I_0$ and subsequent states to find all other item sets.\n\n$\\operatorname{goto}(I_0, S) = \\operatorname{closure}(\\{[S' \\to S \\cdot]\\}) = I_1$\n$I_1 = \\{ [S' \\to S \\cdot] \\}$\n\n$\\operatorname{goto}(I_0, A) = \\operatorname{closure}(\\{[S \\to A \\cdot B A]\\}) = I_2$\n- The dot is before $B$, so we add productions for $B$: $\\{[B \\to \\cdot b]\\}$.\n$I_2 = \\{ [S \\to A \\cdot B A], [B \\to \\cdot b] \\}$\n\n$\\operatorname{goto}(I_0, a) = \\operatorname{closure}(\\{[A \\to a \\cdot]\\}) = I_3$\n$I_3 = \\{ [A \\to a \\cdot] \\}$\n\nNow we compute transitions from the new states.\nFrom $I_2$:\n$\\operatorname{goto}(I_2, B) = \\operatorname{closure}(\\{[S \\to A B \\cdot A]\\}) = I_4$\n- The dot is before $A$, so we add productions for $A$: $[A \\to \\cdot a]$ and $[A \\to \\cdot]$.\n$I_4 = \\{ [S \\to A B \\cdot A], [A \\to \\cdot a], [A \\to \\cdot] \\}$\n\n$\\operatorname{goto}(I_2, b) = \\operatorname{closure}(\\{[B \\to b \\cdot]\\}) = I_5$\n$I_5 = \\{ [B \\to b \\cdot] \\}$\n\nFrom $I_4$:\n$\\operatorname{goto}(I_4, A) = \\operatorname{closure}(\\{[S \\to A B A \\cdot]\\}) = I_6$\n$I_6 = \\{ [S \\to A B A \\cdot] \\}$\n\n$\\operatorname{goto}(I_4, a) = \\operatorname{closure}(\\{[A \\to a \\cdot]\\}) = I_3$ (already found)\n\nThe states $I_1, I_3, I_5, I_6$ contain only completed items and have no further transitions on grammar symbols. The canonical collection of $\\text{LR}(0)$ items consists of the sets $I_0, I_1, I_2, I_3, I_4, I_5, I_6$.\n\nNow, we determine the number of $\\text{LR}(0)$ conflicts, $c_0$. An $\\text{LR}(0)$ conflict occurs in a state if it contains a reduce item $[A \\rightarrow \\alpha \\cdot]$ and either a shift item $[B \\rightarrow \\beta \\cdot t \\gamma]$ (shift/reduce conflict) or another reduce item $[C \\rightarrow \\delta \\cdot]$ (reduce/reduce conflict). For $\\text{LR}(0)$, a reduce action is placed in the ACTION table for all terminal symbols.\n\n- State $I_0 = \\{ [S' \\to \\cdot S], [S \\to \\cdot A B A], [A \\to \\cdot a], [A \\to \\cdot] \\}$:\n  - It contains the reduce item $[A \\to \\cdot]$, corresponding to production $3$ ($A \\rightarrow \\epsilon$). This requires a `reduce 3` action on all terminals ($a, b, \\$$).\n  - It also contains the shift item $[A \\to \\cdot a]$, which requires a `shift` action on terminal $a$.\n  - Therefore, for terminal $a$, state $I_0$ has a shift/reduce conflict. This corresponds to one multiply defined cell in the ACTION table: $\\operatorname{ACTION}(0, a)$.\n\n- State $I_4 = \\{ [S \\to A B \\cdot A], [A \\to \\cdot a], [A \\to \\cdot] \\}$:\n  - It contains the reduce item $[A \\to \\cdot]$ (production $3$). This requires a `reduce 3` action on all terminals.\n  - It also contains the shift item $[A \\to \\cdot a]$, which requires a `shift` action on terminal $a$.\n  - Therefore, for terminal $a$, state $I_4$ also has a shift/reduce conflict. This corresponds to one multiply defined cell: $\\operatorname{ACTION}(4, a)$.\n\nNo other states contain both shift and reduce items, or multiple reduce items. Thus, the total number of multiply defined cells in the $\\text{LR}(0)$ parsing table is $c_0 = 1 + 1 = 2$.\n\nNext, we compute the $\\operatorname{FIRST}$ and $\\operatorname{FOLLOW}$ sets required for $\\text{SLR}(1)$ analysis.\n$\\operatorname{FIRST}$ sets:\n- $\\operatorname{FIRST}(A) = \\{a, \\epsilon\\}$, from productions $A \\rightarrow a$ and $A \\rightarrow \\epsilon$.\n- $\\operatorname{FIRST}(B) = \\{b\\}$, from production $B \\rightarrow b$.\n- $\\operatorname{FIRST}(S)$: From $S \\rightarrow A B A$, this is $\\operatorname{FIRST}(A B A)$. Since $\\operatorname{FIRST}(A)$ contains $\\epsilon$, we consider the symbols that can start a string derived from $A B A$. These are symbols in $\\operatorname{FIRST}(A) - \\{\\epsilon\\}$ and, because $A$ can be invisible, symbols in $\\operatorname{FIRST}(B)$. So, $\\operatorname{FIRST}(S) = (\\operatorname{FIRST}(A) - \\{\\epsilon\\}) \\cup \\operatorname{FIRST}(B) = \\{a\\} \\cup \\{b\\} = \\{a, b\\}$.\n- $\\operatorname{FIRST}(S') = \\operatorname{FIRST}(S) = \\{a, b\\}$.\n\n$\\operatorname{FOLLOW}$ sets:\n- $\\operatorname{FOLLOW}(S')$: contains the end-of-input marker, so $\\operatorname{FOLLOW}(S') = \\{\\$\\}$.\n- $\\operatorname{FOLLOW}(S)$: $S$ is followed by nothing in production $0$ ($S' \\rightarrow S$), so $\\operatorname{FOLLOW}(S)$ contains $\\operatorname{FOLLOW}(S')$. Thus, $\\operatorname{FOLLOW}(S) = \\{\\$\\}$.\n- $\\operatorname{FOLLOW}(A)$:\n  - In $S \\rightarrow A B A$, the first $A$ is followed by $B$. So $\\operatorname{FOLLOW}(A)$ contains $\\operatorname{FIRST}(B) = \\{b\\}$.\n  - The second $A$ is at the end of the production, so $\\operatorname{FOLLOW}(A)$ contains $\\operatorname{FOLLOW}(S) = \\{\\$\\}$.\n  - Combining these, $\\operatorname{FOLLOW}(A) = \\{b, \\$\\}$.\n- $\\operatorname{FOLLOW}(B)$: In $S \\rightarrow A B A$, $B$ is followed by $A$. So $\\operatorname{FOLLOW}(B)$ contains $(\\operatorname{FIRST}(A) - \\{\\epsilon\\}) = \\{a\\}$. Since $\\operatorname{FIRST}(A)$ contains $\\epsilon$, $\\operatorname{FOLLOW}(B)$ also contains $\\operatorname{FOLLOW}(S) = \\{\\$\\}$.\n  - Combining these, $\\operatorname{FOLLOW}(B) = \\{a, \\$\\}$.\n\nNow, we determine the number of $\\text{SLR}(1)$ conflicts, $c_1$. For $\\text{SLR}(1)$, in a state with a reduce item $[A \\rightarrow \\alpha \\cdot]$, the reduce action is only placed for terminals in $\\operatorname{FOLLOW}(A)$.\n\n- State $I_0 = \\{ [S' \\to \\cdot S], [S \\to \\cdot A B A], [A \\to \\cdot a], [A \\to \\cdot] \\}$:\n  - It has a `shift` action on terminal $a$.\n  - It contains the reduce item $[A \\to \\cdot]$ (production $3$). The reduce action is placed only for terminals in $\\operatorname{FOLLOW}(A) = \\{b, \\$\\}$.\n  - The actions for state $I_0$ are: `shift` on $a$, `reduce 3` on $b$, and `reduce 3` on $\\$$. There is no terminal for which both a shift and a reduce action are specified. The conflict is resolved.\n\n- State $I_4 = \\{ [S \\to A B \\cdot A], [A \\to \\cdot a], [A \\to \\cdot] \\}$:\n  - It has a `shift` action on terminal $a$.\n  - It contains the reduce item $[A \\to \\cdot]$ (production $3$). The reduce action is placed for terminals in $\\operatorname{FOLLOW}(A) = \\{b, \\$\\}$.\n  - The actions for state $I_4$ are: `shift` on $a$, `reduce 3` on $b$, and `reduce 3` on $\\$$. There is no conflict. The conflict is resolved.\n\nSince no other states had $\\text{LR}(0)$ conflicts, and the conflicts in $I_0$ and $I_4$ are resolved by the $\\text{SLR}(1)$ lookahead, there are no multiply defined cells in the $\\text{SLR}(1)$ parsing table.\nTherefore, $c_1 = 0$.\n\nFinally, we compute the value $V$:\n$V = 5 c_{0} + 7 c_{1}$\nSubstituting the values we found:\n$V = 5(2) + 7(0) = 10 + 0 = 10$.", "answer": "$$\\boxed{10}$$", "id": "3624879"}, {"introduction": "Not all conflicts can be resolved by adding a lookahead; some point to deeper issues within the grammar itself. This exercise challenges you to diagnose a reduce-reduce conflict using the more discerning $LR(1)$ framework, which incorporates lookaheads directly into the parsing states [@problem_id:3624942]. By reconstructing the competing reductions, you will discover how an inherent ambiguity in the grammar manifests as a parsing conflict, reinforcing the role of parser construction as a diagnostic tool for language design.", "problem": "Consider the context-free grammar over terminal alphabet $\\{p,q,r,z\\}$ with start symbol $S$ and productions\n$$\nS \\to X\\,z \\mid Y\\,z,\\quad X \\to p \\mid q,\\quad Y \\to p \\mid r.\n$$\nA canonical Left-to-right, Rightmost-derivation (LR) parser with $1$ symbol of lookahead, commonly denoted LR($1$), is constructed by the standard item-set (automaton) method based on the following core definitions: an LR($1$) item is written $[A \\to \\alpha\\,\\cdot\\,\\beta,\\; a]$ where $A \\to \\alpha\\beta$ is a production and $a$ is a lookahead terminal; $\\operatorname{closure}$ and $\\operatorname{goto}$ are defined in terms of these items and extend item sets by propagating lookaheads along productions; and a reduce-reduce conflict is present in a state precisely when there exist at least two completed items $[A \\to \\alpha\\,\\cdot,\\; a]$ and $[B \\to \\beta\\,\\cdot,\\; a]$ with the same lookahead $a$, so that both reductions would be applicable on the same lookahead.\n\nA parser generator reports that there is a reduce-reduce conflict on lookahead $z$ in the canonical LR($1$) automaton for the above grammar. Using only the aforementioned definitions (LR($1$) item, $\\operatorname{closure}$, $\\operatorname{goto}$, reduce-reduce conflict), manually reconstruct the two competing reductions and identify an input that, when parsed to the conflicting state with lookahead $z$, triggers the ambiguity by allowing either reduction. Then, among all terminal strings that trigger this exact conflict, determine the minimal length in tokens.\n\nProvide the minimal length as a single real-valued number. No rounding is required. Express the final answer as a pure number without units.", "solution": "The problem statement is valid. It is a well-posed problem in the formal theory of compiler design, specifically concerning the construction and analysis of LR($1$) parsers. All terms are standard and clearly defined, and the grammar is unambiguous in its specification.\n\nOur objective is to manually trace the construction of the canonical LR($1$) automaton for the given grammar to locate the state exhibiting the asserted reduce-reduce conflict. We will then determine the shortest input string that leads the parser to this state with the specified lookahead, thereby triggering the conflict.\n\nThe context-free grammar $G$ is given by the productions:\n$S \\to Xz$\n$S \\to Yz$\n$X \\to p$\n$X \\to q$\n$Y \\to p$\n$Y \\to r$\n\nThe set of terminals is $\\{p, q, r, z\\}$ and the set of non-terminals is $\\{S, X, Y\\}$, with $S$ as the start symbol.\n\nFor the LR($1$) automaton construction, we first augment the grammar with a new start symbol $S'$ and a new production $S' \\to S$. The initial item for the automaton will have the end-of-input marker, denoted by $\\$$, as its lookahead.\n\nThe augmented grammar $G'$ has the productions:\n$P_{0}: S' \\to S$\n$P_{1}: S \\to Xz$\n$P_{2}: S \\to Yz$\n$P_{3}: X \\to p$\n$P_{4}: X \\to q$\n$P_{5}: Y \\to p$\n$P_{6}: Y \\to r$\n\nThe construction begins with the initial state, $I_0$, which is the closure of the initial item $[S' \\to \\cdot S, \\$]$.\n\nThe $\\operatorname{closure}$ operation on a set of items $I$ is defined as follows:\nRepeatedly add items $[B \\to \\cdot \\gamma, b]$ to $I$ for every item $[A \\to \\alpha \\cdot B \\beta, a]$ in $I$, every production $B \\to \\gamma$ in the grammar, and every terminal $b$ in $\\operatorname{FIRST}(\\beta a)$. $\\operatorname{FIRST}(\\delta)$ is the set of terminals that can begin strings derived from $\\delta$.\n\nLet's compute $I_0 = \\operatorname{closure}(\\{[S' \\to \\cdot S, \\$]\\})$.\n1.  The kernel is $\\{[S' \\to \\cdot S, \\$]\\}$.\n2.  The dot is before the non-terminal $S$. We must add all productions for $S$. The lookahead for these new items is $\\operatorname{FIRST}(\\epsilon\\$)$, where $\\epsilon$ is the empty string after $S$ in the item. This gives the lookahead set $\\{\\$\\}$.\n    - Add $[S \\to \\cdot Xz, \\$]$\n    - Add $[S \\to \\cdot Yz, \\$]$\n3.  We now have items with the dot before non-terminals $X$ and $Y$.\n    - For $[S \\to \\cdot Xz, \\$]$, the dot is before $X$. The string following $X$ is $z$. The lookahead is $\\operatorname{FIRST}(z\\$) = \\{z\\}$. We add all productions for $X$ with lookahead $z$.\n        - Add $[X \\to \\cdot p, z]$\n        - Add $[X \\to \\cdot q, z]$\n    - For $[S \\to \\cdot Yz, \\$]$, the dot is before $Y$. The string following $Y$ is $z$. The lookahead is $\\operatorname{FIRST}(z\\$) = \\{z\\}$. We add all productions for $Y$ with lookahead $z$.\n        - Add $[Y \\to \\cdot p, z]$\n        - Add $[Y \\to \\cdot r, z]$\nAll new items have the dot before a terminal, so the closure process terminates. The initial state is:\n$$I_0 = \\{ [S' \\to \\cdot S, \\$], [S \\to \\cdot Xz, \\$], [S \\to \\cdot Yz, \\$], [X \\to \\cdot p, z], [X \\to \\cdot q, z], [Y \\to \\cdot p, z], [Y \\to \\cdot r, z] \\}$$\n\nThe problem states there is a reduce-reduce conflict on lookahead $z$. A reduce-reduce conflict occurs in a state that contains at least two distinct \"reduce\" items, $[A \\to \\alpha \\cdot, a]$ and $[B \\to \\beta \\cdot, a]$, with the same lookahead terminal $a$. In our case, $a=z$.\n\nTo find the conflict state, we compute successor states from $I_0$ using the $\\operatorname{goto}$ function. Let's compute $\\operatorname{goto}(I_0, p)$, as there are two items in $I_0$ involving the terminal $p$. The $\\operatorname{goto}(I, x)$ function is defined as the closure of the set of all items $[A \\to \\alpha x \\cdot \\beta, a]$ such that $[A \\to \\alpha \\cdot x \\beta, a]$ is in $I$.\n\nLet $I_k = \\operatorname{goto}(I_0, p)$.\n1.  The kernel of $I_k$ contains items from $I_0$ where the dot can be advanced over $p$. These are $[X \\to \\cdot p, z]$ and $[Y \\to \\cdot p, z]$.\n2.  Advancing the dot gives the kernel set $\\{[X \\to p \\cdot, z], [Y \\to p \\cdot, z]\\}$.\n3.  We take the closure of this kernel. Since the dot is at the end of the production rule for both items, no new items can be added.\nThus, the state $I_k$ is:\n$$I_k = \\{ [X \\to p \\cdot, z], [Y \\to p \\cdot, z] \\}$$\nThis state $I_k$ contains two completed items with the same lookahead $z$:\n1.  $[X \\to p \\cdot, z]$: This item instructs the parser to reduce by the production $X \\to p$ when the lookahead is $z$.\n2.  $[Y \\to p \\cdot, z]$: This item instructs the parser to reduce by the production $Y \\to p$ when the lookahead is $z$.\n\nThis is precisely the reduce-reduce conflict mentioned in the problem statement. The two competing reductions are $X \\to p$ and $Y \\to p$.\n\nNow, we must identify an input string that triggers this conflict. A string triggers the conflict if, during parsing, it leads the automaton to the conflict state $I_k$ and the lookahead at that point is the conflict symbol $z$.\n\nThe parser reaches state $I_k$ from the initial state $I_0$ by reading the terminal symbol $p$. At this point in the parse, the symbol $p$ has been shifted onto the stack, and the parser is in state $I_k$. The parser then examines the next symbol in the input stream (the lookahead). For the conflict to occur, this symbol must be $z$.\n\nThis implies that the input string must begin with the prefix $p$ and be followed by the token $z$. The minimal string pattern that can cause this specific state and lookahead combination is therefore $pz\\dots$.\n\nTo be a valid triggering string, this string must also be a member of the language generated by the grammar, $L(G)$. We must check if there is any string of the form $pz\\dots$ that can be derived from the start symbol $S$. Let us test the shortest possible candidate, the string $pz$.\n\nA string is in $L(G)$ if there is a valid derivation from $S$.\n- Derivation 1: $S \\Rightarrow Xz \\Rightarrow pz$. This uses the productions $S \\to Xz$ and $X \\to p$.\n- Derivation 2: $S \\Rightarrow Yz \\Rightarrow pz$. This uses the productions $S \\to Yz$ and $Y \\to p$.\n\nSince $pz$ can be derived from $S$, it is a valid string in the language. Both derivations are rightmost, confirming that the grammar is ambiguous and that the string $pz$ is a string that manifests this ambiguity.\n\nThe parsing steps for the input string $pz\\$$ would be:\n1.  Start in state $I_0$, stack is empty, input is $pz\\$$.\n2.  Lookahead is $p$. Shift $p$ and transition to state $I_k = \\operatorname{goto}(I_0, p)$.\n3.  Now in state $I_k$, stack contains $p$, input is $z\\$$.\n4.  Lookahead is $z$. State $I_k$ is $\\{[X \\to p \\cdot, z], [Y \\to p \\cdot, z]\\}$. The parser faces a choice: reduce by $X \\to p$ or reduce by $Y \\to p$. This is the conflict.\n\nThe conflict is triggered after processing one token ($p$) and seeing the next token ($z$). The minimal complete string that leads to this situation and is itself valid in the language is $pz$. No string shorter than $pz$ can satisfy these conditions: the prefix must be $p$ to reach the state, and the next token must be $z$ to trigger the conflict on that lookahead.\n\nThe minimal length in tokens is the length of the string $pz$, which is $2$.", "answer": "$$\\boxed{2}$$", "id": "3624942"}, {"introduction": "We conclude our practice with one of the most classic problems in parser theory: the \"dangling else\". This exercise applies the $SLR(1)$ parsing technique to a grammar modeling conditional statements, revealing the famous shift/reduce conflict that arises from ambiguous $\\mathtt{else}$ clauses [@problem_id:3624958]. Working through this example solidifies the connection between abstract parsing conflicts and tangible ambiguities that must be addressed in real-world programming language design.", "problem": "Consider the context-free grammar with the augmented start symbol and terminals as follows. The nonterminals are $S'$, $S$, and $E$. The terminals are the tokens $\\mathtt{if}$, $\\mathtt{then}$, $\\mathtt{else}$, $\\mathtt{a}$, $\\mathtt{b}$, and the end-of-input marker $\\$$. The productions are:\n1. $S' \\to S$\n2. $S \\to \\mathtt{if}\\ E\\ \\mathtt{then}\\ S$\n3. $S \\to \\mathtt{if}\\ E\\ \\mathtt{then}\\ S\\ \\mathtt{else}\\ S$\n4. $S \\to \\mathtt{a}$\n5. $E \\to \\mathtt{b}$\n\nStarting from the core definitions of bottom-up parsing concepts, do the following in order, showing derivations step-by-step using only definitions of the involved functions and sets:\n- Compute $\\mathsf{Nullable}(X)$ for each nonterminal $X \\in \\{S, E\\}$.\n- Compute $\\mathsf{FIRST}(X)$ for each nonterminal $X \\in \\{S, E\\}$, and for each right-hand side where it is needed.\n- Compute $\\mathsf{FOLLOW}(X)$ for each nonterminal $X \\in \\{S, E\\}$.\n- Construct the canonical $\\mathsf{LR(0)}$ item sets using the $\\mathsf{closure}$ and $\\mathsf{goto}$ operations, explicitly enumerating every item in each set and every $\\mathsf{goto}$ transition on terminals and nonterminals.\n- Using the $\\mathsf{SLR(1)}$ method (Simple Left-to-right, Rightmost derivation in reverse), construct the $\\mathsf{ACTION}$ and $\\mathsf{GOTO}$ parsing tables for this grammar. Identify all table cells in $\\mathsf{ACTION}$ that are in conflict (a conflict is a single cell containing more than one distinct parser action such as shift/reduce or reduce/reduce).\n- Let $K$ be the total number of distinct conflicting $\\mathsf{ACTION}$ cells in the constructed $\\mathsf{SLR(1)}$ parsing table. Compute $K$.\n\nAnswer specification:\n- Report only the value of $K$ as your final answer.\n- No rounding is required.", "solution": "The user-provided problem is a well-defined task from the domain of compiler theory, specifically concerning parsing techniques for context-free grammars. The problem is scientifically grounded, complete, and objective. It requires the application of standard algorithms to a classic example, the \"dangling else\" grammar, to determine the number of conflicts in its $\\mathsf{SLR}(1)$ parsing table. The problem is valid and can be solved through a systematic, step-by-step derivation.\n\nThe grammar $G$ has nonterminals $V = \\{S', S, E\\}$, terminals $T = \\{\\mathtt{if}, \\mathtt{then}, \\mathtt{else}, \\mathtt{a}, \\mathtt{b}, \\$\\}$, and productions $P$:\n1. $S' \\to S$\n2. $S \\to \\mathtt{if}\\ E\\ \\mathtt{then}\\ S$\n3. $S \\to \\mathtt{if}\\ E\\ \\mathtt{then}\\ S\\ \\mathtt{else}\\ S$\n4. $S \\to \\mathtt{a}$\n5. $E \\to \\mathtt{b}$\n\nThe solution proceeds by following the sequence of computations requested in the problem statement.\n\n**Step 1: Computation of $\\mathsf{Nullable}$ and $\\mathsf{FIRST}$ Sets**\n\nA nonterminal $X$ is nullable if it can derive the empty string, $\\epsilon$. We examine the productions.\nFor $E$, the only production is $E \\to \\mathtt{b}$. Since $\\mathtt{b}$ is a terminal, $E$ cannot derive $\\epsilon$. Thus, $\\mathsf{Nullable}(E) = \\mathsf{false}$.\nFor $S$, the productions are $S \\to \\mathtt{if}\\ E\\ \\mathtt{then}\\ S$, $S \\to \\mathtt{if}\\ E\\ \\mathtt{then}\\ S\\ \\mathtt{else}\\ S$, and $S \\to \\mathtt{a}$. All right-hand sides begin with a terminal and do not contain nullable nonterminals. Thus, $S$ cannot derive $\\epsilon$. So, $\\mathsf{Nullable}(S) = \\mathsf{false}$.\n\nThe $\\mathsf{FIRST}$ set of a symbol or string of symbols is the set of terminals that can appear at the start of a string derived from it.\nFor the nonterminal $E$:\nThe only production is $E \\to \\mathtt{b}$. The first symbol on the right-hand side is the terminal $\\mathtt{b}$.\n$$ \\mathsf{FIRST}(E) = \\{\\mathtt{b}\\} $$\nFor the nonterminal $S$:\nWe consider all productions for $S$:\n- From $S \\to \\mathtt{if}\\ E\\ \\mathtt{then}\\ S$, the first symbol is the terminal $\\mathtt{if}$.\n- From $S \\to \\mathtt{if}\\ E\\ \\mathtt{then}\\ S\\ \\mathtt{else}\\ S$, the first symbol is the terminal $\\mathtt{if}$.\n- From $S \\to \\mathtt{a}$, the first symbol is the terminal $\\mathtt{a}$.\nCombining these, we get:\n$$ \\mathsf{FIRST}(S) = \\{\\mathtt{if}, \\mathtt{a}\\} $$\n\n**Step 2: Computation of $\\mathsf{FOLLOW}$ Sets**\n\nThe $\\mathsf{FOLLOW}$ set of a nonterminal $X$ is the set of terminals that can appear immediately to its right in a valid sentential form. The end-of-input marker $\\$$ is included if $X$ can appear at the end of a sentential form.\n\n1.  By convention, the end-of-input marker $\\$$ is in the $\\mathsf{FOLLOW}$ set of the start symbol $S'$. So, $\\mathsf{FOLLOW}(S') = \\{\\$\\}$.\n2.  For $\\mathsf{FOLLOW}(S)$:\n    - From production 1, $S' \\to S$, everything in $\\mathsf{FOLLOW}(S')$ is in $\\mathsf{FOLLOW}(S)$. Thus, $\\$ \\in \\mathsf{FOLLOW}(S)$.\n    - From production 3, $S \\to \\mathtt{if}\\ E\\ \\mathtt{then}\\ S\\ \\mathtt{else}\\ S$, the first occurrence of $S$ is followed by the terminal $\\mathtt{else}$. Thus, $\\mathtt{else} \\in \\mathsf{FOLLOW}(S)$.\n    - The second occurrence of $S$ in production 3 and the occurrence of $S$ in production 2 are at the end of their respective productions. This means they inherit the $\\mathsf{FOLLOW}$ set of the left-hand side nonterminal, which is $S$. This adds no new terminals.\n    - So, $\\mathsf{FOLLOW}(S) = \\{\\$, \\mathtt{else}\\}$.\n3.  For $\\mathsf{FOLLOW}(E)$:\n    - In productions 2 and 3, $S \\to \\mathtt{if}\\ E\\ \\mathtt{then}\\ \\dots$, the nonterminal $E$ is followed by the terminal $\\mathtt{then}$.\n    - Thus, $\\mathtt{then} \\in \\mathsf{FOLLOW}(E)$.\n    - So, $\\mathsf{FOLLOW}(E) = \\{\\mathtt{then}\\}$.\n\n**Step 3: Construction of Canonical $\\mathsf{LR(0)}$ Item Sets**\n\nAn $\\mathsf{LR(0)}$ item is a production with a dot `.` at some position on the right-hand side. We use the $\\mathsf{closure}$ and $\\mathsf{goto}$ operations to construct the canonical collection of sets of $\\mathsf{LR(0)}$ items.\n\n$I_0 = \\mathsf{closure}(\\{[S' \\to \\cdot S]\\})$\n$$ I_0 = \\{ [S' \\to \\cdot S], [S \\to \\cdot \\mathtt{if}\\ E\\ \\mathtt{then}\\ S], [S \\to \\cdot \\mathtt{if}\\ E\\ \\mathtt{then}\\ S\\ \\mathtt{else}\\ S], [S \\to \\cdot \\mathtt{a}] \\} $$\nTransitions from $I_0$:\n- $\\mathsf{goto}(I_0, S) = I_1 = \\mathsf{closure}(\\{[S' \\to S \\cdot]\\}) = \\{[S' \\to S \\cdot]\\}$\n- $\\mathsf{goto}(I_0, \\mathtt{if}) = I_2 = \\mathsf{closure}(\\{[S \\to \\mathtt{if} \\cdot E\\ \\mathtt{then}\\ S], [S \\to \\mathtt{if} \\cdot E\\ \\mathtt{then}\\ S\\ \\mathtt{else}\\ S]\\}) = \\{[S \\to \\mathtt{if} \\cdot E\\ \\mathtt{then}\\ S], [S \\to \\mathtt{if} \\cdot E\\ \\mathtt{then}\\ S\\ \\mathtt{else}\\ S], [E \\to \\cdot \\mathtt{b}]\\}$\n- $\\mathsf{goto}(I_0, \\mathtt{a}) = I_3 = \\mathsf{closure}(\\{[S \\to \\mathtt{a} \\cdot]\\}) = \\{[S \\to \\mathtt{a} \\cdot]\\}$\n\nTransitions from $I_1$: This state contains the item for the augmented start production fully parsed. This corresponds to the `accept` action.\n\nTransitions from $I_2$:\n- $\\mathsf{goto}(I_2, E) = I_4 = \\mathsf{closure}(\\{[S \\to \\mathtt{if}\\ E \\cdot \\mathtt{then}\\ S], [S \\to \\mathtt{if}\\ E \\cdot \\mathtt{then}\\ S\\ \\mathtt{else}\\ S]\\}) = \\{[S \\to \\mathtt{if}\\ E \\cdot \\mathtt{then}\\ S], [S \\to \\mathtt{if}\\ E \\cdot \\mathtt{then}\\ S\\ \\mathtt{else}\\ S]\\}$\n- $\\mathsf{goto}(I_2, \\mathtt{b}) = I_5 = \\mathsf{closure}(\\{[E \\to \\mathtt{b} \\cdot]\\}) = \\{[E \\to \\mathtt{b} \\cdot]\\}$\n\nTransitions from $I_3$: This is a reduce state.\n\nTransitions from $I_4$:\n- $\\mathsf{goto}(I_4, \\mathtt{then}) = I_6 = \\mathsf{closure}(\\{[S \\to \\mathtt{if}\\ E\\ \\mathtt{then} \\cdot S], [S \\to \\mathtt{if}\\ E\\ \\mathtt{then} \\cdot S\\ \\mathtt{else}\\ S]\\}) = \\{[S \\to \\mathtt{if}\\ E\\ \\mathtt{then} \\cdot S], [S \\to \\mathtt{if}\\ E\\ \\mathtt{then} \\cdot S\\ \\mathtt{else}\\ S], [S \\to \\cdot \\mathtt{if}\\ E\\ \\mathtt{then}\\ S], [S \\to \\cdot \\mathtt{if}\\ E\\ \\mathtt{then}\\ S\\ \\mathtt{else}\\ S], [S \\to \\cdot \\mathtt{a}]\\}$\n\nTransitions from $I_5$: This is a reduce state.\n\nTransitions from $I_6$:\n- $\\mathsf{goto}(I_6, S) = I_7 = \\mathsf{closure}(\\{[S \\to \\mathtt{if}\\ E\\ \\mathtt{then}\\ S \\cdot], [S \\to \\mathtt{if}\\ E\\ \\mathtt{then}\\ S \\cdot \\mathtt{else}\\ S]\\}) = \\{[S \\to \\mathtt{if}\\ E\\ \\mathtt{then}\\ S \\cdot], [S \\to \\mathtt{if}\\ E\\ \\mathtt{then}\\ S \\cdot \\mathtt{else}\\ S]\\}$\n- $\\mathsf{goto}(I_6, \\mathtt{if}) = I_2$\n- $\\mathsf{goto}(I_6, \\mathtt{a}) = I_3$\n\nTransitions from $I_7$:\n- $\\mathsf{goto}(I_7, \\mathtt{else}) = I_8 = \\mathsf{closure}(\\{[S \\to \\mathtt{if}\\ E\\ \\mathtt{then}\\ S\\ \\mathtt{else} \\cdot S]\\}) = \\{[S \\to \\mathtt{if}\\ E\\ \\mathtt{then}\\ S\\ \\mathtt{else} \\cdot S], [S \\to \\cdot \\mathtt{if}\\ E\\ \\mathtt{then}\\ S], [S \\to \\cdot \\mathtt{if}\\ E\\ \\mathtt{then}\\ S\\ \\mathtt{else}\\ S], [S \\to \\cdot \\mathtt{a}]\\}$\nThis state also contains a reduce item, which will be analyzed in the next step.\n\nTransitions from $I_8$:\n- $\\mathsf{goto}(I_8, S) = I_9 = \\mathsf{closure}(\\{[S \\to \\mathtt{if}\\ E\\ \\mathtt{then}\\ S\\ \\mathtt{else}\\ S \\cdot]\\}) = \\{[S \\to \\mathtt{if}\\ E\\ \\mathtt{then}\\ S\\ \\mathtt{else}\\ S \\cdot]\\}$\n- $\\mathsf{goto}(I_8, \\mathtt{if}) = I_2$\n- $\\mathsf{goto}(I_8, \\mathtt{a}) = I_3$\n\nTransitions from $I_9$: This is a reduce state.\n\n**Step 4: $\\mathsf{SLR(1)}$ Table Construction and Conflict Analysis**\n\nWe construct the $\\mathsf{SLR(1)}$ parsing table by examining each state $I_i$. A conflict occurs if a single cell in the $\\mathsf{ACTION}$ table is assigned more than one action.\n- For a shift action: If $[A \\to \\alpha \\cdot t \\beta] \\in I_i$ where $t$ is a terminal, and $\\mathsf{goto}(I_i, t) = I_j$, then $\\mathsf{ACTION}[i, t] = \\text{shift } j$.\n- For a reduce action: If $[A \\to \\alpha \\cdot] \\in I_i$ where $A \\ne S'$, then for each terminal $t \\in \\mathsf{FOLLOW}(A)$, $\\mathsf{ACTION}[i, t] = \\text{reduce } (A \\to \\alpha)$.\n\nLet's inspect the states for potential conflicts. Conflicts arise in states that contain both shift items (dot before a terminal) and reduce items (dot at the end of a production).\n\n- State $I_0$: Shift actions only. No conflict.\n- State $I_1$: Accept action only. No conflict.\n- State $I_2$: Shift actions only. No conflict.\n- State $I_3$: Item is $[S \\to \\mathtt{a} \\cdot]$. $\\mathsf{FOLLOW}(S) = \\{\\$, \\mathtt{else}\\}$. Actions are $\\mathsf{ACTION}[3, \\$] = \\text{reduce 4}$ and $\\mathsf{ACTION}[3, \\mathtt{else}] = \\text{reduce 4}$. No shift items, so no conflict.\n- State $I_4$: Shift action only. No conflict.\n- State $I_5$: Item is $[E \\to \\mathtt{b} \\cdot]$. $\\mathsf{FOLLOW}(E) = \\{\\mathtt{then}\\}$. Action is $\\mathsf{ACTION}[5, \\mathtt{then}] = \\text{reduce 5}$. No shift items, so no conflict.\n- State $I_6$: Shift actions only. No conflict.\n- **State $I_7$**: This state is $\\{[S \\to \\mathtt{if}\\ E\\ \\mathtt{then}\\ S \\cdot], [S \\to \\mathtt{if}\\ E\\ \\mathtt{then}\\ S \\cdot \\mathtt{else}\\ S]\\}$.\n    - The first item, $[S \\to \\mathtt{if}\\ E\\ \\mathtt{then}\\ S \\cdot]$, is a reduce item for production 2. We must add reduce actions for all terminals in $\\mathsf{FOLLOW}(S) = \\{\\$, \\mathtt{else}\\}$. This gives:\n        - $\\mathsf{ACTION}[7, \\$] = \\text{reduce 2}$\n        - $\\mathsf{ACTION}[7, \\mathtt{else}] = \\text{reduce 2}$\n    - The second item, $[S \\to \\mathtt{if}\\ E\\ \\mathtt{then}\\ S \\cdot \\mathtt{else}\\ S]$, is a shift item on the terminal $\\mathtt{else}$. The transition is $\\mathsf{goto}(I_7, \\mathtt{else}) = I_8$. This gives:\n        - $\\mathsf{ACTION}[7, \\mathtt{else}] = \\text{shift 8}$\n    - We have two distinct actions for the cell $\\mathsf{ACTION}[7, \\mathtt{else}]$: $\\text{reduce 2}$ and $\\text{shift 8}$. This is a **shift/reduce conflict**. This is one conflicting cell.\n- State $I_8$: Shift actions only. No conflict.\n- State $I_9$: Item is $[S \\to \\mathtt{if}\\ E\\ \\mathtt{then}\\ S\\ \\mathtt{else}\\ S \\cdot]$. $\\mathsf{FOLLOW}(S) = \\{\\$, \\mathtt{else}\\}$. Actions are $\\mathsf{ACTION}[9, \\$] = \\text{reduce 3}$ and $\\mathsf{ACTION}[9, \\mathtt{else}] = \\text{reduce 3}$. No shift items, so no conflict.\n\nThe analysis reveals a single shift/reduce conflict in the $\\mathsf{ACTION}$ table. This conflict occurs in the cell corresponding to state $I_7$ and the terminal $\\mathtt{else}$. There are no other conflicts.\n\nTherefore, the total number of distinct conflicting $\\mathsf{ACTION}$ cells, $K$, is $1$.", "answer": "$$\n\\boxed{1}\n$$", "id": "3624958"}]}