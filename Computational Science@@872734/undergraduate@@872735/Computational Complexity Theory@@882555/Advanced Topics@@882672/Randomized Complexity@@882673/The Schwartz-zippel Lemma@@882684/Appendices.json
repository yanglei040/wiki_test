{"hands_on_practices": [{"introduction": "The journey into randomized algorithms often begins with a simple yet profound question: can we verify a mathematical statement without proving it formally? This first practice exercise grounds the abstract idea of Polynomial Identity Testing (PIT) in a concrete scenario. You will use a probabilistic check to test a claimed formula for the sum of cubes, illustrating the core principle that if two polynomials are not identical, they can only agree on a limited number of points [@problem_id:1462426].", "problem": "A computer science student is tasked with verifying a complex formula found in an old mathematics handbook. The handbook claims that for any positive integer $n$, the following identity for the sum of cubes is true:\n$$ \\sum_{k=1}^{n} k^3 = \\frac{1}{4}n^4 + \\frac{1}{2}n^3 - \\frac{3}{4}n^2 + 15n - 50 $$\nLacking the time to perform a full symbolic proof, the student decides to use a probabilistic test. The procedure involves picking a single integer, $n$, uniformly at random from the set of integers $S = \\{1, 2, 3, \\ldots, 500\\}$. The student will then calculate the values of the left-hand side (the sum) and the right-hand side (the polynomial) for this chosen $n$. If the two values match, the student will conclude that the identity is correct. Otherwise, they will conclude it is incorrect.\n\nIn reality, the claimed identity is false. What is the probability that the student's test will fail to detect this, meaning they will incorrectly conclude that the identity is correct? Express the answer as a decimal value, rounded to three significant figures.", "solution": "The true formula for the sum of cubes is\n$$\nS(n)=\\sum_{k=1}^{n} k^{3}=\\left(\\frac{n(n+1)}{2}\\right)^{2}=\\frac{1}{4}\\left(n^{4}+2n^{3}+n^{2}\\right)=\\frac{1}{4}n^{4}+\\frac{1}{2}n^{3}+\\frac{1}{4}n^{2}.\n$$\nThe claimed polynomial is\n$$\nP(n)=\\frac{1}{4}n^{4}+\\frac{1}{2}n^{3}-\\frac{3}{4}n^{2}+15n-50.\n$$\nThe identity would hold exactly when $S(n)=P(n)$. Consider the difference\n$$\nD(n)=S(n)-P(n)=\\left(\\frac{1}{4}n^{4}+\\frac{1}{2}n^{3}+\\frac{1}{4}n^{2}\\right)-\\left(\\frac{1}{4}n^{4}+\\frac{1}{2}n^{3}-\\frac{3}{4}n^{2}+15n-50\\right).\n$$\nSimplifying term by term,\n$$\nD(n)=\\left(\\frac{1}{4}-\\frac{1}{4}\\right)n^{4}+\\left(\\frac{1}{2}-\\frac{1}{2}\\right)n^{3}+\\left(\\frac{1}{4}+\\frac{3}{4}\\right)n^{2}-15n+50\n= n^{2}-15n+50.\n$$\nThus the claimed identity holds exactly when\n$$\nn^{2}-15n+50=0.\n$$\nSolving,\n$$\nn=\\frac{15\\pm\\sqrt{15^{2}-4\\cdot 1\\cdot 50}}{2}=\\frac{15\\pm\\sqrt{225-200}}{2}=\\frac{15\\pm 5}{2}\\in\\{5,10\\}.\n$$\nBoth $n=5$ and $n=10$ lie in $S=\\{1,2,\\ldots,500\\}$. Therefore, with $n$ chosen uniformly from $S$, the probability of (incorrectly) concluding the identity is correct equals\n$$\n\\frac{|\\{5,10\\}|}{|S|}=\\frac{2}{500}=\\frac{1}{250}=0.00400,\n$$\nrounded to three significant figures.", "answer": "$$\\boxed{0.00400}$$", "id": "1462426"}, {"introduction": "Now, let's apply our understanding to a more complex, hands-on scenario involving multiple variables and algebraic manipulation. This problem challenges you to verify a conjectured formula for a matrix determinant, a common task in computational algebra. Unlike the previous exercises, you must first derive the true polynomial and the difference polynomial before you can analyze the probability of the test failing, providing a deeper appreciation for how the structure of a problem dictates the effectiveness of a randomized test [@problem_id:1462427].", "problem": "In a computational algebra course, a student named Alice is studying the properties of block matrices. She considers a $4 \\times 4$ matrix $M$ defined by four $2 \\times 2$ blocks, where the entries of the blocks are variables. The matrix is given by:\n$$\nM = \\begin{pmatrix} A & B \\\\ C & D \\end{pmatrix}\n$$\nwith the blocks defined as:\n$$\nA = \\begin{pmatrix} x & 1 \\\\ 0 & y \\end{pmatrix}, \\quad\nB = \\begin{pmatrix} 1 & z \\\\ 0 & 1 \\end{pmatrix}, \\quad\nC = \\begin{pmatrix} 0 & 0 \\\\ 1 & 0 \\end{pmatrix}, \\quad\nD = \\begin{pmatrix} w & 0 \\\\ 0 & 1 \\end{pmatrix}\n$$\nAlice conjectures a simplified formula for the determinant of $M$, which she writes down as a polynomial $P_A(x,y,z,w) = wxy - yz + 1$. To verify her conjecture, you decide to implement a probabilistic test. The test involves choosing integer values for the variables $x, y, z,$ and $w$ independently and uniformly at random from the set $S = \\{0, 1, 2, \\dots, 99\\}$. You then evaluate both Alice's polynomial and the true determinant. If the values match, the test passes; otherwise, it fails.\n\nAssuming Alice's formula is, in fact, incorrect, what is the exact probability that a single run of this test will fail to detect the error (i.e., the test passes)? Express your answer as a decimal rounded to four significant figures.", "solution": "The problem asks for the probability that a probabilistic test fails to distinguish between the true determinant of a matrix $M$ and a proposed formula $P_A$. This is an application of the principles behind Polynomial Identity Testing (PIT). A failure occurs if the true determinant and Alice's formula evaluate to the same value for a randomly chosen set of inputs. Let the true determinant be $P(x, y, z, w)$. The test fails if $P(x, y, z, w) = P_A(x, y, z, w)$ for the chosen random values. This is equivalent to the difference polynomial $Q(x, y, z, w) = P(x, y, z, w) - P_A(x, y, z, w)$ evaluating to zero.\n\nFirst, we must calculate the true determinant of the matrix $M$.\nThe full matrix $M$ is:\n$$\nM = \\begin{pmatrix}\nx & 1 & 1 & z \\\\\n0 & y & 0 & 1 \\\\\n0 & 0 & w & 0 \\\\\n1 & 0 & 0 & 1\n\\end{pmatrix}\n$$\nWe can compute the determinant by cofactor expansion. Expanding along the third row is most efficient, as it contains three zeros.\n$$\n\\det(M) = (-1)^{3+1}(0) \\cdot C_{31} + (-1)^{3+2}(0) \\cdot C_{32} + (-1)^{3+3}(w) \\cdot \\det \\begin{pmatrix}\nx & 1 & z \\\\\n0 & y & 1 \\\\\n1 & 0 & 1\n\\end{pmatrix} + (-1)^{3+4}(0) \\cdot C_{34}\n$$\n$$\n\\det(M) = w \\cdot \\det \\begin{pmatrix}\nx & 1 & z \\\\\n0 & y & 1 \\\\\n1 & 0 & 1\n\\end{pmatrix}\n$$\nNow we compute the determinant of the $3 \\times 3$ submatrix, again using cofactor expansion, for instance along the first column:\n$$\n\\det \\begin{pmatrix}\nx & 1 & z \\\\\n0 & y & 1 \\\\\n1 & 0 & 1\n\\end{pmatrix} = x \\cdot \\det \\begin{pmatrix} y & 1 \\\\ 0 & 1 \\end{pmatrix} - 0 \\cdot \\det \\begin{pmatrix} 1 & z \\\\ 0 & 1 \\end{pmatrix} + 1 \\cdot \\det \\begin{pmatrix} 1 & z \\\\ y & 1 \\end{pmatrix}\n$$\n$$\n= x(y \\cdot 1 - 1 \\cdot 0) + (1 \\cdot 1 - z \\cdot y) = xy + 1 - yz\n$$\nSubstituting this back, the true determinant is:\n$$\nP(x, y, z, w) = w(xy + 1 - yz) = wxy - wyz + w\n$$\nNext, we define the difference polynomial $Q(x, y, z, w) = P(x, y, z, w) - P_A(x, y, z, w)$. Alice's formula is given as $P_A(x,y,z,w) = wxy - yz + 1$.\n$$\nQ(x, y, z, w) = (wxy - wyz + w) - (wxy - yz + 1)\n$$\n$$\nQ(x, y, z, w) = w - wyz + yz - 1\n$$\nTo find the roots of this polynomial, it is helpful to factor it:\n$$\nQ(x, y, z, w) = w(1 - yz) - (1 - yz) = (w - 1)(1 - yz)\n$$\nThe test fails if $Q(x, y, z, w) = 0$. This occurs if $(w - 1)(1 - yz) = 0$, which means either $w-1=0$ or $1-yz=0$.\n\nThe variables $x, y, z, w$ are chosen independently and uniformly at random from the set $S = \\{0, 1, 2, \\dots, 99\\}$. The size of this set is $|S| = 100$. The total number of possible quadruplets $(x, y, z, w)$ is $|S|^4 = 100^4$.\n\nWe need to count the number of quadruplets in $S^4$ that are roots of $Q$. We use the Principle of Inclusion-Exclusion. Let $E_1$ be the set of quadruplets where $w-1=0$ (i.e., $w=1$), and $E_2$ be the set of quadruplets where $1-yz=0$ (i.e., $yz=1$). The number of roots is $|E_1 \\cup E_2| = |E_1| + |E_2| - |E_1 \\cap E_2|$.\n\n1.  Calculate $|E_1|$:\n    The condition is $w=1$. There is only one choice for $w$. The variables $x, y, z$ can be any value in $S$.\n    $|E_1| = 100 \\times 100 \\times 100 \\times 1 = 100^3 = 1,000,000$.\n\n2.  Calculate $|E_2|$:\n    The condition is $yz=1$. Since $y, z$ are integers from the set $\\{0, 1, \\dots, 99\\}$, the only possible solution is $y=1$ and $z=1$. There is one choice for the pair $(y,z)$. The variables $x$ and $w$ can be any value in $S$.\n    $|E_2| = 100 \\times 1 \\times 1 \\times 100 = 100^2 = 10,000$.\n\n3.  Calculate $|E_1 \\cap E_2|$:\n    The conditions are $w=1$ and $yz=1$. This means $w=1, y=1, z=1$. The variable $x$ can be any value in $S$.\n    $|E_1 \\cap E_2| = 100 \\times 1 \\times 1 \\times 1 = 100$.\n\nNow, we find the total number of roots:\n$$\n|E_1 \\cup E_2| = 1,000,000 + 10,000 - 100 = 1,009,900\n$$\nThe probability of failure is the ratio of the number of roots to the total number of possible inputs.\n$$\n\\text{Probability of failure} = \\frac{\\text{Number of roots}}{\\text{Total number of inputs}} = \\frac{1,009,900}{100^4} = \\frac{1,009,900}{100,000,000} = 0.010099\n$$\nFinally, we round this result to four significant figures.\n$$\n0.010099 \\approx 0.01010\n$$", "answer": "$$\\boxed{0.01010}$$", "id": "1462427"}]}