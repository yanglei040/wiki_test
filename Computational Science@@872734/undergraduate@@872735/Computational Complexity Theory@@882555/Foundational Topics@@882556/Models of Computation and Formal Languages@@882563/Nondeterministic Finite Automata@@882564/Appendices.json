{"hands_on_practices": [{"introduction": "Before we can design our own Nondeterministic Finite Automata (NFAs), we must first master the mechanics of how they process input. This exercise asks you to trace the execution of a given NFA, accounting for its nondeterministic branches and its $\\epsilon$-transitions, which allow state changes without consuming an input symbol. Mastering this simulation process is the bedrock for understanding how NFAs operate and is a crucial step towards comprehending more advanced topics like the NFA-to-DFA conversion algorithm [@problem_id:1388210].", "problem": "A computer scientist is designing a simple lexical analysis tool based on a Nondeterministic Finite Automaton (NFA) to detect a specific pattern in a binary data stream. The NFA is formally defined with the following components:\n- A set of states $Q = \\{q_0, q_1, q_2, q_3\\}$.\n- An input alphabet $\\Sigma = \\{0, 1\\}$.\n- A start state $q_{start} = q_0$.\n- A set of accept states $F = \\{q_3\\}$.\n\nThe transition function, $\\delta: Q \\times (\\Sigma \\cup \\{\\epsilon\\}) \\to \\mathcal{P}(Q)$, where $\\mathcal{P}(Q)$ is the power set of $Q$ and $\\epsilon$ denotes the empty string, is given by the following table of rules. Note that if a state-input pair is not listed, its transition leads to the empty set $\\emptyset$.\n\n- $\\delta(q_0, 0) = \\{q_0\\}$\n- $\\delta(q_0, 1) = \\{q_0, q_1\\}$\n- $\\delta(q_1, 0) = \\{q_2\\}$\n- $\\delta(q_1, \\epsilon) = \\{q_2\\}$\n- $\\delta(q_2, 1) = \\{q_3\\}$\n- $\\delta(q_3, 0) = \\{q_3\\}$\n- $\\delta(q_3, 1) = \\{q_3\\}$\n\nGiven the input string `101`, determine the set of all possible states the machine could be in after processing the entire string. Select the correct set from the options below.\n\nA. $\\{q_0, q_1, q_3\\}$\n\nB. $\\{q_0, q_1, q_2, q_3\\}$\n\nC. $\\{q_3\\}$\n\nD. $\\{q_0, q_2\\}$\n\nE. $\\{q_0, q_1, q_2\\}$", "solution": "For an NFA with $\\epsilon$-transitions, at each step we compute the $\\epsilon$-closure of the current set of states, then move on the input symbol, and finally take the $\\epsilon$-closure again. Let $\\text{E}(S)$ denote the $\\epsilon$-closure of a set $S$. Unspecified transitions go to the empty set.\n\nInitial closure:\n$$\nS_{0}=\\text{E}(\\{q_{0}\\})=\\{q_{0}\\}\n$$\n\nAfter reading the first symbol $1$:\n$$\nT_{1}=\\bigcup_{q\\in S_{0}}\\delta(q,1)=\\delta(q_{0},1)=\\{q_{0},q_{1}\\}\n$$\n$$\nS_{1}=\\text{E}(T_{1})=\\{q_{0},q_{1}\\}\\cup\\delta(q_{1},\\epsilon)=\\{q_{0},q_{1},q_{2}\\}\n$$\n\nAfter reading the second symbol $0$:\n$$\nT_{2}=\\bigcup_{q\\in S_{1}}\\delta(q,0)=\\delta(q_{0},0)\\cup\\delta(q_{1},0)\\cup\\delta(q_{2},0)=\\{q_{0}\\}\\cup\\{q_{2}\\}\\cup\\emptyset=\\{q_{0},q_{2}\\}\n$$\n$$\nS_{2}=\\text{E}(T_{2})=\\{q_{0},q_{2}\\}\n$$\n\nAfter reading the third symbol $1$:\n$$\nT_{3}=\\bigcup_{q\\in S_{2}}\\delta(q,1)=\\delta(q_{0},1)\\cup\\delta(q_{2},1)=\\{q_{0},q_{1}\\}\\cup\\{q_{3}\\}=\\{q_{0},q_{1},q_{3}\\}\n$$\n$$\nS_{3}=\\text{E}(T_{3})=\\{q_{0},q_{1},q_{3}\\}\\cup\\delta(q_{1},\\epsilon)=\\{q_{0},q_{1},q_{2},q_{3}\\}\n$$\n\nTherefore, after processing the entire string $101$, the set of possible states is $\\{q_{0},q_{1},q_{2},q_{3}\\}$, which corresponds to option B.", "answer": "$$\\boxed{B}$$", "id": "1388210"}, {"introduction": "Now that we understand how to trace an NFA's computation, let's explore one of their key advantages: design elegance and state efficiency. This problem challenges you to design an NFA for a language that is notoriously cumbersome for a Deterministic Finite Automaton (DFA) to handle. The core principle at play is using nondeterminism to \"guess\" that a specific symbol is the one of interest—in this case, the '1' that is third from the end—and then using a short, simple path to verify that guess [@problem_id:1432804].", "problem": "In the design of simple network packet filters, a common task is to check for specific patterns in a data stream to classify incoming data. Consider a simplified model where a filter processor monitors a stream of binary data. The processor must raise a flag if a data packet, represented as a binary string, has a '1' as its third-to-last bit. Any sequence of bits from the start of the stream to the current point can be considered a data packet.\n\nLet the language $L$ be the set of all binary strings over the alphabet $\\Sigma = \\{0, 1\\}$ where the third symbol from the end is a '1'. For example, the string `10110` is in $L$ because its third-to-last symbol is '1', but `10010` is not in $L$.\n\nWhat is the minimum number of states required for a Nondeterministic Finite Automaton (NFA) to recognize the language $L$?\n\nA. 3\n\nB. 4\n\nC. 5\n\nD. 8", "solution": "We formalize the language as $L = \\{\\, u 1 a b \\mid u \\in \\{0,1\\}^{*},\\, a \\in \\{0,1\\},\\, b \\in \\{0,1\\} \\,\\}$, i.e., the set of binary strings whose third symbol from the end is $1$. Equivalently, for $w \\in \\{0,1\\}^{*}$, $w \\in L$ if and only if $|w| \\geq 3$ and the $(|w|-2)$-th symbol of $w$ equals $1$.\n\nUpper bound (existence of a $4$-state NFA): Construct an NFA with states $\\{q_{0}, q_{1}, q_{2}, q_{3}\\}$, start state $q_{0}$, and accepting state $q_{3}$, with transitions:\n- From $q_{0}$ on input $0$ go to $q_{0}$; on input $1$ go to both $q_{0}$ and $q_{1}$. This nondeterministically guesses that a seen $1$ is the third-from-last symbol.\n- From $q_{1}$ on input $0$ or $1$ go to $q_{2}$.\n- From $q_{2}$ on input $0$ or $1$ go to $q_{3}$.\n- $q_{3}$ has no outgoing transitions.\nAcceptance is by being in $q_{3}$ exactly at end of input. If a string $w$ has a $1$ exactly three positions from the end, then there exists a run that moves from $q_{0}$ to $q_{1}$ upon reading that $1$, then consumes exactly two more symbols to reach $q_{3}$ at the end, hence accepts. If $w \\notin L$, then no run can align so that after guessing at a $1$, exactly two symbols remain; thus no run finishes in $q_{3}$ at end. Therefore $4$ states suffice.\n\nLower bound (at least $4$ states are necessary): We use the extended fooling set method for NFAs. A set $S \\subseteq \\Sigma^{*} \\times \\Sigma^{*}$ is an extended fooling set for $L$ if for all $(x,y) \\in S$ we have $xy \\in L$, and for any distinct $(x_{1},y_{1}),(x_{2},y_{2}) \\in S$, at least one of $x_{1}y_{2}$ or $x_{2}y_{1}$ is not in $L$. Any NFA for $L$ must have at least $|S|$ states.\n\nDefine\n$$\nS \\;=\\; \\{\\, (\\epsilon,\\, 1 0 0),\\; (1,\\, 0 0),\\; (1 0,\\, 0),\\; (1 0 0,\\, \\epsilon) \\,\\}.\n$$\nFor each $(x,y) \\in S$, $xy = 1 0 0 \\in L$ since its third-from-last symbol is $1$. For distinct pairs, at least one cross-concatenation yields a string of length less than $3$, hence not in $L$ (by definition, strings with $|w|<3$ have no third-from-last symbol and are not in $L$). Concretely:\n- $\\epsilon \\cdot 0 0 = 0 0$, $1 \\cdot 0 = 1 0$, $1 0 \\cdot \\epsilon = 1 0$, and $\\epsilon \\cdot \\epsilon = \\epsilon$ all have length less than $3$, thus are not in $L$.\nTherefore $S$ is an extended fooling set of size $4$, implying any NFA for $L$ needs at least $4$ states.\n\nCombining the upper bound and the lower bound, the minimum number of states required for an NFA recognizing $L$ is $4$, which corresponds to option B.", "answer": "$$\\boxed{B}$$", "id": "1432804"}, {"introduction": "This final practice problem delves into a subtle but critical distinction between deterministic and nondeterministic automata. While complementing a DFA's language is as simple as inverting its set of final states, this procedure fails for NFAs. This exercise demonstrates this failure by asking you to find a string that is accepted by both an NFA and its naively \"complemented\" version, revealing a deeper truth about the nature of NFA acceptance, which only requires one successful computation path among many possibilities [@problem_id:1432814].", "problem": "A string $w$ over the alphabet $\\Sigma = \\{a, b\\}$ can be encoded as a positive integer. We define an encoding function $E(w)$ that interprets the string as a number in base 3, where the character `a` maps to the digit 1 and `b` maps to the digit 2. The string is read from left to right, corresponding to the most significant digit to the least significant. For example, the string `ba` is encoded as $E(\\text{\"ba\"}) = (21)_3 = 2 \\times 3^1 + 1 \\times 3^0 = 7$.\n\nNow, consider a Nondeterministic Finite Automaton (NFA), denoted as $M$, defined by the 5-tuple $(Q, \\Sigma, \\delta, q_s, F)$, where:\n- The set of states $Q$ is $\\{q_0, q_1, q_2\\}$.\n- The input alphabet $\\Sigma$ is $\\{a, b\\}$.\n- The transition function $\\delta: Q \\times \\Sigma \\to \\mathcal{P}(Q)$, where $\\mathcal{P}(Q)$ is the power set of $Q$, is given by the following non-empty transitions:\n    - $\\delta(q_0, a) = \\{q_1\\}$\n    - $\\delta(q_1, b) = \\{q_0, q_2\\}$\n    - All other transitions $\\delta(q, \\sigma)$ result in the empty set $\\emptyset$.\n- The start state $q_s$ is $q_0$.\n- The set of final (or accepting) states $F$ is $\\{q_2\\}$.\n\nLet $L(M)$ be the language accepted by the NFA $M$. Consider a second NFA, $M'$, constructed from $M$ by inverting its set of final states. Formally, $M' = (Q, \\Sigma, \\delta, q_s, F')$ where $F' = Q \\setminus F$.\n\nIt is known that this state-inversion procedure fails to compute the complement language for NFAs. To demonstrate this, there must exist at least one non-empty string that is accepted by both $M$ and $M'$. Find the shortest such non-empty string $w$, and provide its base-10 integer encoding $E(w)$.", "solution": "We analyze the NFA $M=(Q,\\Sigma,\\delta,q_{s},F)$ with $Q=\\{q_{0},q_{1},q_{2}\\}$, $\\Sigma=\\{a,b\\}$, $q_{s}=q_{0}$, $F=\\{q_{2}\\}$, and the only non-empty transitions\n$$\n\\delta(q_{0},a)=\\{q_{1}\\},\\quad \\delta(q_{1},b)=\\{q_{0},q_{2}\\},\n$$\nwith all other $\\delta(q,\\sigma)=\\emptyset$.\n\nFrom these transitions:\n- From $q_{0}$, the only possible move is on $a$, going to $q_{1}$.\n- From $q_{1}$, the only possible move is on $b$, going to $q_{0}$ or $q_{2}$.\n- From $q_{2}$, there are no outgoing transitions on either $a$ or $b$.\n\nTherefore, along any successful path, the input must start with $a$, and then alternate $a,b,a,b,\\ldots$. Acceptance in $M$ requires that after consuming the entire input, the automaton is in $q_{2}$, which is only reachable from $q_{1}$ on reading a $b$ and must be the last symbol because $q_{2}$ has no outgoing transition. Hence the language of $M$ is\n$$\nL(M)=\\{(ab)^{k}\\mid k\\in\\mathbb{N},\\ k\\geq 1\\}.\n$$\n\nNow consider $M'=(Q,\\Sigma,\\delta,q_{s},F')$ with $F'=Q\\setminus F=\\{q_{0},q_{1}\\}$. A string is accepted by $M'$ if there exists at least one path that ends in either $q_{0}$ or $q_{1}$ after consuming the entire input.\n\nWe seek the shortest non-empty string $w$ that is accepted by both $M$ and $M'$. For strings of length $1$:\n- $w=a$: the unique path is $q_{0}\\xrightarrow{a}q_{1}$, which is not in $F$, so $a\\notin L(M)$; it ends in $q_{1}\\in F'$, so $a\\in L(M')$.\n- $w=b$: there is no transition from $q_{0}$ on $b$, so $b\\notin L(M)$ and $b\\notin L(M')$.\n\nThus no length-$1$ string is in both languages. Consider $w=ab$:\n- For $M$, there is a path $q_{0}\\xrightarrow{a}q_{1}\\xrightarrow{b}q_{2}$, which ends in $q_{2}\\in F$, so $ab\\in L(M)$.\n- For $M'$, there is a path $q_{0}\\xrightarrow{a}q_{1}\\xrightarrow{b}q_{0}$, which ends in $q_{0}\\in F'$, so $ab\\in L(M')$.\n\nNo other length-$2$ string is even processable to acceptance, and we have already excluded length-$1$. Therefore, the shortest non-empty string accepted by both is $w=ab$.\n\nFinally, compute its encoding under $E$: map $a\\mapsto 1$, $b\\mapsto 2$, interpret in base $3$ with the leftmost character the most significant digit. Thus\n$$\nE(ab)=1\\cdot 3^{1}+2\\cdot 3^{0}=3+2=5.\n$$", "answer": "$$\\boxed{5}$$", "id": "1432814"}]}