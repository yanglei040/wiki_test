{"hands_on_practices": [{"introduction": "The Hamiltonian Path problem is famously difficult to solve for large graphs. However, if someone provides you with a potential solution, how would you efficiently check if it's correct? This first exercise puts you in the role of a verifier, a task that is central to understanding why this problem belongs to the complexity class NP and highlights the crucial difference between finding and verifying a solution [@problem_id:1457517].", "problem": "A logistics company, \"RapidRoute\", manages deliveries between $n$ distinct distribution centers. The network of centers and the truck routes between them can be modeled as a simple undirected graph $G = (V, E)$, where $V$ is the set of $n$ distribution centers (vertices) and $E$ is the set of available routes (edges).\n\nFor a yearly system-wide audit, the company needs to find a \"master inspection route\" for a single truck. This route must start at some center, visit every other center exactly once, and then end. In graph theory, such a route is known as a Hamiltonian path.\n\nAn intern has developed a complex heuristic algorithm that claims to find such a path. Given the graph $G$, the algorithm outputs a candidate path, which is an ordered sequence of centers $P = (v_1, v_2, \\ldots, v_k)$. You are a senior engineer tasked with creating a simple and efficient *verifier algorithm*. This verifier will take the graph $G$ (with its $n$ vertices) and the proposed path sequence $P$ as input. It must output `true` if $P$ is a valid Hamiltonian path for $G$, and `false` otherwise.\n\nWhich of the following checks are, as a combined set, both necessary and sufficient for your verifier to correctly determine if the sequence $P$ is a Hamiltonian path in the graph $G$?\n\nA. Check that the length of the sequence $P$, denoted $k$, is equal to $n$, the total number of vertices in $G$.\n\nB. Check that for every integer $i$ from $1$ to $k-1$, the edge $(v_i, v_{i+1})$ exists in the graph's edge set $E$.\n\nC. Check that the sequence $P$ contains no repeated vertices.\n\nD. Check that the graph $G$ is connected.\n\nE. Check that for any two distinct vertices $u, w \\in V$, an edge $(u, w)$ exists in the set $E$.", "solution": "We model the delivery network as a simple undirected graph $G=(V,E)$ with $|V|=n$. A Hamiltonian path is defined as an ordered sequence of vertices $P=(v_{1},v_{2},\\ldots,v_{k})$ such that:\n1) $P$ is a path, meaning for every $i$ with $1 \\leq i \\leq k-1$, the edge $(v_{i},v_{i+1}) \\in E$.\n2) $P$ visits each vertex in $V$ exactly once, meaning $k=n$ and no vertex repeats in the sequence.\n\nFirst, establish necessity:\n- For a Hamiltonian path, by definition it must visit all $n$ vertices exactly once. Therefore, the length condition $k=n$ (Check A) and the no-repetition condition (Check C) are both necessary.\n- For $P$ to be a path in $G$, every consecutive pair must be adjacent; hence $(v_{i},v_{i+1}) \\in E$ for all $i$ with $1 \\leq i \\leq k-1$ (Check B) is necessary.\n\nSecond, establish sufficiency:\n- If $k=n$ (A), $P$ has no repeated vertices (C), and every consecutive pair is joined by an edge in $E$ (B), then $P$ is a path that includes each vertex of $V$ exactly once. By the definition of a Hamiltonian path, these conditions together are sufficient to certify that $P$ is a Hamiltonian path.\n\nNow assess the other proposed checks:\n- Check D (graph $G$ is connected) is not required for the verifier when given a candidate $P$. If A, B, and C hold, then the edges used by $P$ themselves form a spanning path, which implies $G$ is connected as a consequence. Thus, connectivity is implied by A, B, and C when they hold, and checking D is redundant. While connectivity is a necessary property for $G$ to contain any Hamiltonian path, it is not an additional necessary check for verifying a specific proposed path $P$ once A, B, and C are verified.\n- Check E (for all distinct $u,w \\in V$, the edge $(u,w) \\in E$) demands that $G$ be complete. This is far stronger than required and would reject many graphs that do have Hamiltonian paths but are not complete. Therefore, E is neither necessary nor appropriate for a correct verifier.\n\nTherefore, the combined set of checks that is both necessary and sufficient for verifying that $P$ is a Hamiltonian path in $G$ is exactly A, B, and C.", "answer": "$$\\boxed{ABC}$$", "id": "1457517"}, {"introduction": "Before launching a complex search for a Hamiltonian path, we can often perform quick checks to see if one is even possible. This practice explores a powerful necessary condition for the existence of such paths in bipartite graphs, which model many real-world systems with two distinct sets of entities. Understanding this constraint related to the size of the partitions provides a valuable shortcut in analyzing network problems [@problem_id:1457571].", "problem": "A logistics company is designing a new automated delivery network. The network consists of two types of locations: charging stations and delivery hubs. A delivery drone's flight path is constrained such that it can only travel directly between a charging station and a delivery hub. It is not possible to travel between two charging stations or between two delivery hubs.\n\nThe company wants to design a \"full inspection tour,\" which is a route that starts at one location, ends at another, and visits every single location (both charging stations and delivery hubs) in the network exactly once.\n\nSuppose there are $N_U$ charging stations and $N_V$ delivery hubs in the network. Which of the following statements describes a fundamental and necessary condition on the numbers $N_U$ and $N_V$ for such a full inspection tour to possibly exist?\n\nA. The number of charging stations must equal the number of delivery hubs, i.e., $N_U = N_V$.\n\nB. The absolute difference between the number of charging stations and the number of delivery hubs must be no more than 1, i.e., $|N_U - N_V| \\le 1$.\n\nC. One of the sets of locations must have at least two more locations than the other, i.e., $|N_U - N_V| \\ge 2$.\n\nD. The number of charging stations and the number of delivery hubs must differ by exactly one, i.e., $|N_U - N_V| = 1$.", "solution": "The problem asks for a necessary condition on the number of charging stations ($N_U$) and delivery hubs ($N_V$) for a path to exist that visits every location exactly once.\n\nFirst, let's model the network as a graph. Let the set of charging stations be the vertex set $U$ with $|U| = N_U$, and the set of delivery hubs be the vertex set $V$ with $|V| = N_V$. An edge exists between a vertex in $U$ and a vertex in $V$ if a drone can travel between them. The problem states that travel is only possible between a station and a hub, not between two stations or two hubs. This describes a bipartite graph $G = (U \\cup V, E)$, where every edge connects a vertex in $U$ to one in $V$.\n\nA \"full inspection tour\" that visits every location exactly once is, by definition, a Hamiltonian path in this graph. The total number of vertices in the graph is $N = N_U + N_V$. A Hamiltonian path must therefore contain all $N$ vertices.\n\nLet's analyze the structure of any path in a bipartite graph. A path is a sequence of vertices, e.g., $p_1, p_2, p_3, \\dots, p_k$. Because every edge connects a vertex in $U$ to a vertex in $V$, the vertices in any path must alternate between the two sets. For instance, if the starting vertex $p_1$ is in $U$, the path must look like:\n$p_1 \\in U, p_2 \\in V, p_3 \\in U, p_4 \\in V, \\dots$\n\nLet's consider a path of length $k-1$ (i.e., it contains $k$ vertices).\nLet $n_U$ be the number of vertices from set $U$ in the path, and $n_V$ be the number of vertices from set $V$.\n\nCase 1: The path starts and ends in the same partition (e.g., starts in $U$ and ends in $U$). This requires the path to have an odd number of vertices. For example, $u_1 \\to v_1 \\to u_2$. Here, $k=3$, $n_U=2$, $n_V=1$. In this case, $n_U = n_V + 1$.\n\nCase 2: The path starts in one partition and ends in the other (e.g., starts in $U$ and ends in $V$). This requires the path to have an even number of vertices. For example, $u_1 \\to v_1 \\to u_2 \\to v_2$. Here, $k=4$, $n_U=2$, $n_V=2$. In this case, $n_U = n_V$.\n\nIn general, for any path in a bipartite graph, the number of vertices from the two partitions, $n_U$ and $n_V$, can differ by at most 1. That is, $|n_U - n_V| \\le 1$.\n\nA Hamiltonian path must include all vertices of the graph. Therefore, for a Hamiltonian path, the number of vertices from each partition in the path must be the total number of vertices in that partition for the entire graph. So, we must have $n_U = N_U$ and $n_V = N_V$.\n\nApplying the general constraint for any path to the specific case of a Hamiltonian path, we find the necessary condition:\n$|N_U - N_V| \\le 1$.\n\nThis means that for a Hamiltonian path to exist, the two partitions must either have the same size ($N_U = N_V$) or differ in size by exactly one ($|N_U - N_V| = 1$). If the difference in the size of the partitions is 2 or more, it is impossible to construct a path that visits every vertex exactly once, as any such path would violate the alternating property.\n\nLet's check the given options:\nA. $N_U = N_V$: This is a possible case (e.g., a path $u_1 \\to v_1 \\to u_2 \\to v_2$), but it is not the only one. A path $u_1 \\to v_1 \\to u_2$ is also possible, where $N_U=2$ and $N_V=1$. So this option is incomplete.\nB. $|N_U - N_V| \\le 1$: This condition correctly covers both cases: $N_U = N_V$ and $|N_U - N_V| = 1$. This is the correct general necessary condition.\nC. $|N_U - N_V| \\ge 2$: This is the condition for which a Hamiltonian path is *impossible*.\nD. $|N_U - N_V| = 1$: This is a possible case, but it omits the case a Hamiltonian path can exist when $N_U = N_V$. So this option is also incomplete.\n\nTherefore, the most accurate and complete necessary condition is $|N_U - N_V| \\le 1$.", "answer": "$$\\boxed{B}$$", "id": "1457571"}, {"introduction": "A graph's overall connectivity structure can impose strong constraints on the types of paths it can contain. This final problem challenges you to think about the role of a \"cut vertex\"—a single node whose failure would split the network. By reasoning about how a path that must visit every single node interacts with such a critical point, you will discover a non-obvious but fundamental structural requirement for any graph that has both a cut vertex and a Hamiltonian path [@problem_id:1457574].", "problem": "A computer scientist, Sam, is studying the properties of networks that possess a Hamiltonian path (a path that visits every node exactly once). She models a network as a graph $G=(V, E)$, where $V$ is the set of nodes and $E$ represents the connections.\nSam is particularly interested in graphs that contain a \"cut vertex\"—a vertex whose removal increases the number of connected components of the graph.\n\nSam makes the following conjecture:\n\"If a graph $G$ has a cut vertex $v$, and $G$ also has a Hamiltonian path, then the graph $G-v$ (the graph $G$ with vertex $v$ and all its incident edges removed) must have exactly two connected components.\"\n\nAnalyze Sam's conjecture. Which of the following statements provides the correct reasoning and conclusion?\n\nA. The conjecture is correct. A Hamiltonian path must use the cut vertex $v$ as an internal node, connecting a path segment in one component of $G-v$ to a path segment in another. Since the Hamiltonian path must include all vertices, there can only be these two components.\n\nB. The conjecture is incorrect. A Hamiltonian path could exist where the cut vertex $v$ is one of its endpoints. In this scenario, the rest of the path would form a single connected component in $G-v$, implying $G-v$ has only one component, making this a valid possibility.\n\nC. The conjecture is incorrect. The number of components in $G-v$ can be greater than two. As long as the cut vertex $v$ is connected to every component, a path can traverse them all by passing through $v$ at the appropriate times.\n\nD. The conjecture is correct, but for a different reason. The existence of a cut vertex forces any path to have a specific structure, but this structure only coincidentally requires two components. The actual reason is rooted in a more advanced graph property known as graph toughness.\n\nE. The conjecture is incorrect because the existence of a cut vertex automatically means no Hamiltonian path can exist, so the premise of the conjecture is impossible.", "solution": "Let $G=(V,E)$ be a graph with a cut vertex $v\\in V$. By definition, removing $v$ and all edges incident to $v$ produces the graph $G-v$ with $k$ connected components, where $k\\geq 2$. Let $C_{1},\\dots,C_{k}$ denote the vertex sets of these components.\n\nAssume $G$ has a Hamiltonian path $P=(x_{1},x_{2},\\dots,x_{n})$ that lists all vertices of $V$ exactly once. There exists an index $i$ such that $x_{i}=v$. Consider the subsequences $P^{-}=(x_{1},\\dots,x_{i-1})$ and $P^{+}=(x_{i+1},\\dots,x_{n})$, which are (possibly empty) lists of vertices of $G-v$.\n\nClaim 1: All vertices of $P^{-}$ lie in a single component $C_{a}$ of $G-v$. Proof: Suppose $P^{-}$ contains vertices from two distinct components $C_{p}$ and $C_{q}$ of $G-v$ with $p\\neq q$. Since there are no edges between different components in $G-v$, any transition in the path between a vertex in $C_{p}$ and a vertex in $C_{q}$ would require an edge incident to $v$, which is impossible before reaching $v$ at position $i$. Hence all $x_{1},\\dots,x_{i-1}$ lie in a single component $C_{a}$. An identical argument shows Claim 2: all vertices of $P^{+}$ lie in a single component $C_{b}$ of $G-v$.\n\nSince $P$ is Hamiltonian, every vertex of $G-v$ must appear in either $P^{-}$ or $P^{+}$. Therefore, all vertices of $G-v$ are contained in at most two components, namely $C_{a}$ and $C_{b}$. Hence the number of components satisfies $k\\leq 2$.\n\nBecause $v$ is a cut vertex, removing $v$ increases the number of connected components, so $k\\geq 2$. Combining, we obtain $k=2$.\n\nMoreover, if $v$ were an endpoint of the Hamiltonian path (say $i=1$ or $i=n$), then one of $P^{-}$ or $P^{+}$ would be empty, and all vertices of $G-v$ would lie in a single component, which contradicts $k\\geq 2$. Thus $v$ must be an internal vertex of the Hamiltonian path, serving to connect precisely two components.\n\nThis reasoning exactly matches statement A. Statements B and C fail because a Hamiltonian path cannot revisit $v$ to traverse more than two components, and if $v$ were an endpoint while $k\\geq 2$, the path could not cover all components. Statement D introduces an unnecessary property not required here. Statement E is false, since graphs with cut vertices (e.g., path graphs) can have Hamiltonian paths.\n\nTherefore, the correct choice is A.", "answer": "$$\\boxed{A}$$", "id": "1457574"}]}