{"hands_on_practices": [{"introduction": "The proof of the Cook-Levin theorem hinges on constructing a Boolean formula that mirrors a Turing machine's computation. The first step in this construction is to define the starting conditions. This exercise [@problem_id:1438663] challenges you to translate a simple rule—that the machine's head begins at the first tape cell—into a precise logical statement, forming a key part of the formula we call $\\phi_{start}$.", "problem": "In the context of the Cook-Levin theorem, a key step is to construct a Boolean formula $\\phi$ that is satisfiable if and only if a given non-deterministic Turing Machine (NTM), $M$, accepts an input string $w$ of length $n$. This is achieved by creating a tableau representing the computation history of $M$ on $w$.\n\nAssume the NTM $M$ is guaranteed to halt within a number of steps bounded by a polynomial $p(n)$. We can model the computation using a tableau of size approximately $p(n) \\times p(n)$, where rows represent time steps $t$ (from $0$ to $p(n)-1$) and columns represent tape cell indices $j$ (from $0$ to $p(n)-1$).\n\nTo describe the state of the machine, we introduce a set of Boolean variables. Let the variable $H_{t,j}$ be true if the machine's tape head is positioned at cell $j$ at time step $t$, and false otherwise. Here, $0 \\le t  p(n)$ and $0 \\le j  p(n)$.\n\nBy convention, an NTM begins its computation at time $t=0$ with its tape head on the first cell of the tape, which is cell $j=0$.\n\nWhich of the following Boolean expressions correctly and completely encodes this specific initial condition for the tape head's position as a part of the overall starting configuration formula $\\phi_{start}$?\n\nA. $H_{0,0} \\land \\left( \\bigwedge_{j=1}^{p(n)-1} \\neg H_{0,j} \\right)$\n\nB. $\\bigvee_{j=0}^{p(n)-1} H_{0,j}$\n\nC. $H_{0,0}$\n\nD. $\\left(\\bigvee_{k=0}^{p(n)-1} H_{0,k}\\right) \\land \\left( \\bigwedge_{0 \\le i  j  p(n)} (\\neg H_{0,i} \\lor \\neg H_{0,j}) \\right)$\n\nE. $\\bigwedge_{j=0}^{p(n)-1} H_{0,j}$", "solution": "We are given Boolean variables $H_{t,j}$ where $H_{t,j}$ is true exactly when the tape head is at cell $j$ at time $t$. The initial condition states that at time $t=0$ the head is at cell $j=0$. To encode this specific condition completely for the time $t=0$, we must assert two things simultaneously:\n- Positivity at the designated cell: $H_{0,0}$ must be true.\n- Negativity at all other cells at the same time: for every $j$ with $1 \\le j \\le p(n)-1$, $H_{0,j}$ must be false.\n\nThese two requirements together are expressed by the conjunction\n$$\nH_{0,0} \\land \\left( \\bigwedge_{j=1}^{p(n)-1} \\neg H_{0,j} \\right).\n$$\nThis formula is both necessary and sufficient to pin the head at exactly cell $0$ at time $0$.\n\nNow evaluate the options:\n- Option A is exactly the formula above, so it correctly and completely encodes the initial head position.\n- Option B, $\\bigvee_{j=0}^{p(n)-1} H_{0,j}$, enforces that the head is somewhere at time $0$ but does not force it to be at $j=0$.\n- Option C, $H_{0,0}$, enforces that the head is at $j=0$ but does not exclude the possibility that some $H_{0,j}$ with $j \\neq 0$ is also true; thus it is incomplete unless mutual exclusivity is enforced elsewhere. The question asks for a complete encoding of this specific initial condition within $\\phi_{start}$, so this is insufficient on its own.\n- Option D, $\\left(\\bigvee_{k=0}^{p(n)-1} H_{0,k}\\right) \\land \\left( \\bigwedge_{0 \\le i  j  p(n)} (\\neg H_{0,i} \\lor \\neg H_{0,j}) \\right)$, expresses that exactly one $H_{0,k}$ is true at time $0$, but it allows that unique position to be any $k$, not necessarily $k=0$.\n- Option E, $\\bigwedge_{j=0}^{p(n)-1} H_{0,j}$, incorrectly forces all positions to be true simultaneously.\n\nTherefore, the correct choice is A.", "answer": "$$\\boxed{A}$$", "id": "1438663"}, {"introduction": "Once the initial state is set, we must encode the rules that govern how the machine's configuration changes over time. A critical aspect of this, known as the \"frame axiom,\" is ensuring that parts of the machine that are not being actively manipulated remain unchanged. This practice [@problem_id:1438617] asks you to formulate the logical clauses for $\\phi_{move}$ that prevent a tape cell's contents from spontaneously changing when the tape head is not present, reinforcing the principle of locality in the simulation.", "problem": "In the context of the Cook-Levin theorem, a Turing Machine's computation history is encoded into a large boolean formula. This formula is satisfiable if and only if the machine accepts the input string. A part of this formula must ensure that the machine's configuration changes only according to its transition rules.\n\nThis encoding uses a set of boolean variables to describe the machine's state at each time step $t$ and tape position $j$. Let the tape alphabet be $\\Gamma$. We define the following variables:\n- $H_{t,j}$ is true if the tape head is at position $j$ at time $t$.\n- $C_{t,j,\\sigma}$ is true if the tape cell at position $j$ contains the symbol $\\sigma \\in \\Gamma$ at time $t$.\n\nA crucial part of the construction is the \"frame axiom\" or \"locality rule,\" which ensures that tape cells do not change spontaneously. Specifically, it must enforce the following condition:\n\"If the tape head is NOT at position $j$ at time $t$, then the symbol in cell $j$ must remain the same from time $t$ to time $t+1$.\"\n\nThis rule must be translated into a set of clauses in Conjunctive Normal Form (CNF) for every valid time $t$, position $j$, and symbol $\\sigma \\in \\Gamma$. Which of the following CNF formulas correctly and completely captures this rule for a single time $t$, position $j$, and symbol $\\sigma$?\n\nA. $(H_{t,j} \\lor \\neg C_{t,j,\\sigma} \\lor C_{t+1,j,\\sigma}) \\land (H_{t,j} \\lor C_{t,j,\\sigma} \\lor \\neg C_{t+1,j,\\sigma})$\n\nB. $(\\neg H_{t,j} \\lor \\neg C_{t,j,\\sigma} \\lor C_{t+1,j,\\sigma}) \\land (\\neg H_{t,j} \\lor C_{t,j,\\sigma} \\lor \\neg C_{t+1,j,\\sigma})$\n\nC. $(H_{t,j} \\lor \\neg C_{t,j,\\sigma} \\lor C_{t+1,j,\\sigma})$\n\nD. $(H_{t+1,j} \\lor \\neg C_{t,j,\\sigma} \\lor C_{t+1,j,\\sigma}) \\land (H_{t+1,j} \\lor C_{t,j,\\sigma} \\lor \\neg C_{t+1,j,\\sigma})$", "solution": "We need to encode the locality rule: if the head is not at position $j$ at time $t$, then the symbol in cell $j$ does not change from time $t$ to time $t+1$. For a fixed $t$, $j$, and $\\sigma \\in \\Gamma$, this is the conditional equivalence\n$$\n\\neg H_{t,j} \\rightarrow \\left(C_{t,j,\\sigma} \\leftrightarrow C_{t+1,j,\\sigma}\\right).\n$$\nThe equivalence is a conjunction of two implications:\n$$\nC_{t,j,\\sigma} \\leftrightarrow C_{t+1,j,\\sigma} \\equiv \\left(C_{t,j,\\sigma} \\rightarrow C_{t+1,j,\\sigma}\\right) \\land \\left(C_{t+1,j,\\sigma} \\rightarrow C_{t,j,\\sigma}\\right).\n$$\nDistributing the outer implication over the conjunction yields two conditionals:\n$$\n\\neg H_{t,j} \\rightarrow \\left(C_{t,j,\\sigma} \\rightarrow C_{t+1,j,\\sigma}\\right), \\quad \\neg H_{t,j} \\rightarrow \\left(C_{t+1,j,\\sigma} \\rightarrow C_{t,j,\\sigma}\\right).\n$$\nEach implication $A \\rightarrow B$ is equivalent to $\\neg A \\lor B$. For the first,\n$$\n\\neg H_{t,j} \\rightarrow \\left(C_{t,j,\\sigma} \\rightarrow C_{t+1,j,\\sigma}\\right) \\equiv H_{t,j} \\lor \\neg C_{t,j,\\sigma} \\lor C_{t+1,j,\\sigma}.\n$$\nFor the second,\n$$\n\\neg H_{t,j} \\rightarrow \\left(C_{t+1,j,\\sigma} \\rightarrow C_{t,j,\\sigma}\\right) \\equiv H_{t,j} \\lor \\neg C_{t+1,j,\\sigma} \\lor C_{t,j,\\sigma}.\n$$\nThus, the correct CNF is the conjunction of these two clauses:\n$$\n\\left(H_{t,j} \\lor \\neg C_{t,j,\\sigma} \\lor C_{t+1,j,\\sigma}\\right) \\land \\left(H_{t,j} \\lor C_{t,j,\\sigma} \\lor \\neg C_{t+1,j,\\sigma}\\right).\n$$\nComparing with the options, this matches option A. Option B incorrectly conditions on $H_{t,j}$ being true (it uses $\\neg H_{t,j}$ in each clause so the constraints apply when $H_{t,j}$ is true), option C includes only one direction and is incomplete, and option D incorrectly uses $H_{t+1,j}$ instead of $H_{t,j}$.", "answer": "$$\\boxed{A}$$", "id": "1438617"}, {"introduction": "A robust logical construction must not only permit valid operations but also forbid impossible ones. This exercise explores a common conceptual pitfall by asking you to identify the failure that occurs when \"uniqueness\" constraints are omitted from the formula. By analyzing what happens when the formula fails to enforce that the machine is in at most one state at a time [@problem_id:1438664], you will develop a deeper understanding of why these constraints are essential for creating a faithful simulation of a physical computing device.", "problem": "In the context of the Cook-Levin theorem, a standard proof technique involves constructing a propositional logic formula $\\Phi$ that is satisfiable if and only if a given Non-deterministic Turing Machine (NTM) $M$ accepts an input string `w`. This construction simulates the computation of $M$ on $w$ over a polynomial number of time steps, $P(|w|)$.\n\nThe formula typically uses boolean variables to describe the machine's configuration at each time step $t$, where $0 \\le t \\le P(|w|)$. These variables include:\n- $Q_{t,q}$: True if $M$ is in state $q$ at time step $t$.\n- $H_{t,j}$: True if the tape head of $M$ is at position $j$ at time step $t$.\n- $C_{t,j,\\sigma}$: True if tape cell $j$ contains symbol $\\sigma$ at time step $t$.\n\nA computer science student is attempting to implement this construction. They correctly create the parts of the formula $\\Phi$ that enforce:\n1.  The machine begins in the correct starting configuration for input $w$.\n2.  The machine's computation eventually reaches an accepting state.\n3.  Each transition from a configuration at time $t$ to one at $t+1$ is valid according to $M$'s transition function.\n4.  At any time $t$, each tape cell $j$ contains *exactly one* symbol.\n5.  At any time $t$, the machine is in *at least one* state and its tape head is at *at least one* position. This is done via clauses like $(Q_{t,q_1} \\lor Q_{t,q_2} \\lor \\dots)$ for all states $q_i$.\n\nHowever, the student forgets to add the \"uniqueness\" or \"at-most-one\" clauses for the machine's state and head position. Specifically, for any given time $t$, all pairwise negative clauses of the form $(\\neg Q_{t,q_i} \\lor \\neg Q_{t,q_j})$ for distinct states $q_i, q_j$ and $(\\neg H_{t,j_i} \\lor \\neg H_{t,j_j})$ for distinct positions $j_i, j_j$ have been omitted from the formula $\\Phi$.\n\nWhich of the following describes a potential consequence of this omission, meaning it could be represented by a satisfying assignment for this incomplete formula?\n\nA. The satisfying assignment could correspond to a \"computation\" where the machine is in multiple distinct states at the same time $t$.\n\nB. The satisfying assignment could correspond to a \"computation\" where a transition from time $t$ to $t+1$ is performed that is not allowed by the machine's transition function.\n\nC. The satisfying assignment could correspond to a \"computation\" that does not begin in the correct start state with the input $w$ on the tape.\n\nD. The satisfying assignment could correspond to a \"computation\" where the machine is in no state at all at a particular time $t$.\n\nE. The satisfying assignment could correspond to a \"computation\" that runs for $P(|w|)$ steps but never enters any of the machine's defined accepting states.", "solution": "We analyze the logical consequences of omitting the at-most-one (AMO) clauses for the state variables $Q_{t,q}$ and the head-position variables $H_{t,j}$, while keeping all other parts of the Cook-Levin construction intact.\n\nFirst, we restate the enforced parts:\n1. Start configuration is enforced: at $t=0$, the tape encodes $w$, the head and state are set to the standard start, and all other configuration bits match the initial specification.\n2. Acceptance is enforced: there exists $t \\in \\{0,\\dots,P(|w|)\\}$ such that $Q_{t,q_{\\text{acc}}}$ is true.\n3. Transition validity is enforced: for each $t,j,q,\\sigma$, clauses of the form\n$$\n\\left(Q_{t,q} \\land H_{t,j} \\land C_{t,j,\\sigma}\\right) \\Rightarrow \\text{Next}_{t+1}(q,\\sigma,j),\n$$\nwhere $\\text{Next}_{t+1}(q,\\sigma,j)$ asserts the specific updates prescribed by the transition function $\\delta(q,\\sigma)=(q',\\sigma',d)$, namely $Q_{t+1,q'}$, $H_{t+1,j'}$ with $j'=j+d$, and $C_{t+1,j,\\sigma'}$ for the written symbol at cell $j$.\n4. Exactly one tape symbol per cell is enforced: for each $t,j$ we have both an at-least-one clause $\\bigvee_{\\sigma} C_{t,j,\\sigma}$ and pairwise mutual exclusion clauses $\\left(\\neg C_{t,j,\\sigma} \\lor \\neg C_{t,j,\\sigma'}\\right)$ for all $\\sigma \\neq \\sigma'$.\n5. At-least-one state and at-least-one head position are enforced: for each $t$, $\\bigvee_{q} Q_{t,q}$ and $\\bigvee_{j} H_{t,j}$ hold.\n\nWhat is omitted are precisely the AMO constraints for $Q$ and $H$: for each fixed $t$, there are no clauses of the form $\\left(\\neg Q_{t,q_{i}} \\lor \\neg Q_{t,q_{j}}\\right)$ for $q_{i} \\neq q_{j}$, and no clauses of the form $\\left(\\neg H_{t,j_{i}} \\lor \\neg H_{t,j_{j}}\\right)$ for $j_{i} \\neq j_{j}$.\n\nWe now evaluate each option:\n\nA. Multiple distinct states at the same time $t$.\nBecause the AMO constraints on $Q_{t,q}$ are missing, the formula does not syntactically forbid setting $Q_{t,q_{1}}$ and $Q_{t,q_{2}}$ both true at the same $t$. The only way this could be indirectly forbidden is if transition-validity plus tape-symbol exactness created a contradiction. However, there exist machines $M$ and consistent choices of $H_{t,j}$ and $C_{t,j,\\sigma}$ such that no contradiction arises. Concretely, suppose at time $t$ the head is at some $j$ with $H_{t,j}$ true and the scanned symbol is $\\sigma$ with $C_{t,j,\\sigma}$ true. If two distinct states $q_{1},q_{2}$ satisfy that $\\delta(q_{1},\\sigma)=(q'_{1},\\sigma',d_{1})$ and $\\delta(q_{2},\\sigma)=(q'_{2},\\sigma',d_{2})$ share the same written symbol $\\sigma'$, then the implications\n$$\n\\left(Q_{t,q_{1}} \\land H_{t,j} \\land C_{t,j,\\sigma}\\right) \\Rightarrow C_{t+1,j,\\sigma'} \\quad \\text{and} \\quad \\left(Q_{t,q_{2}} \\land H_{t,j} \\land C_{t,j,\\sigma}\\right) \\Rightarrow C_{t+1,j,\\sigma'}\n$$\nare consistent with the exact-one tape-symbol constraints at $t+1$ for cell $j$. The consequences $Q_{t+1,q'_{1}}$ and $Q_{t+1,q'_{2}}$ can both hold because there is no AMO on $Q_{t+1,\\cdot}$, and similarly multiple $H_{t+1,j'}$ can be set because there is no AMO on $H_{t+1,\\cdot}$. Therefore, there exists a satisfying assignment with multiple $Q_{t,q}$ true at the same $t$. Hence A is a potential consequence.\n\nB. An illegal transition from $t$ to $t+1$.\nThe construction includes the transition-validity clauses that, for every enabled antecedent $\\left(Q_{t,q} \\land H_{t,j} \\land C_{t,j,\\sigma}\\right)$, enforce exactly the updates permitted by $\\delta(q,\\sigma)$. Missing AMO on $Q$ and $H$ does not introduce any clause allowing a transition not in $\\delta$. It may allow multiple simultaneous transitions to fire, but each one is individually allowed. Therefore, the formula still forbids any single transition that is not in the transition function. Hence B is not a consequence.\n\nC. Incorrect starting configuration.\nThe starting configuration clauses remain present and enforce the correct start state, head position, and input on the tape at $t=0$. Missing AMO at other times does not invalidate this. Hence C is not a consequence.\n\nD. No state at some time $t$.\nThe at-least-one-state clause $\\bigvee_{q} Q_{t,q}$ is present for each $t$, so it is impossible to have all $Q_{t,q}$ false at any $t$. Hence D is not a consequence.\n\nE. Never entering an accepting state.\nThe acceptance condition is enforced (e.g., via $\\bigvee_{t \\le P(|w|)} Q_{t,q_{\\text{acc}}}$), so some $Q_{t,q_{\\text{acc}}}$ must be true. Missing AMO does not remove this requirement. Hence E is not a consequence.\n\nTherefore, the omission of the AMO constraints makes it possible for the satisfying assignment to encode a simultaneous occupancy of multiple states (and likewise multiple head positions), without violating the remaining constraints, so A is the correct choice.", "answer": "$$\\boxed{A}$$", "id": "1438664"}]}