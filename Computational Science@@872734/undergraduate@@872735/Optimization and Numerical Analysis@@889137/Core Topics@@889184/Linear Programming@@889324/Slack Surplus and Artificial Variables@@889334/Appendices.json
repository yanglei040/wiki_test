{"hands_on_practices": [{"introduction": "The first crucial step in applying the simplex algorithm is translating a linear program's constraints into a standardized matrix format known as the simplex tableau. This exercise provides hands-on practice with this foundational skill, particularly for problems with a mix of 'less-than-or-equal-to', 'greater-than-or-equal-to', and 'equality' constraints. By constructing the initial tableau for a specified, non-standard basis, you will master the algebraic manipulations required to handle slack, surplus, and artificial variables using the Big-M method [@problem_id:2203577].", "problem": "A data science team is tasked with optimizing the resource allocation for a cloud computing cluster. The team models the problem as a Linear Programming (LP) task. The goal is to maximize a performance score, $Z$, which depends on the number of deployed instances of three different types of Virtual Machines (VMs), denoted by $x_1$, $x_2$, and $x_3$. The optimization is subject to several infrastructure and licensing constraints.\n\nThe objective function to be maximized is:\n$Z = 3x_1 - 2x_2 + 5x_3$\n\nThe constraints are:\n1.  Total CPU core limit: $x_1 + 4x_2 - x_3 \\le 10$\n2.  Minimum memory allocation: $2x_1 - x_2 + 2x_3 \\ge 8$\n3.  Total software licenses: $x_1 + x_2 + x_3 = 20$\n\nAll decision variables must be non-negative, i.e., $x_1, x_2, x_3 \\ge 0$.\n\nA senior analyst suggests constructing the canonical form for a non-standard starting point, where the set of basic variables is $\\{s_1, a_2, x_3\\}$. Here, $s_1$ is the slack variable for the first constraint, while $e_2$ and $a_2$ are the surplus and artificial variables for the second constraint, respectively.\n\nUsing the Big-M method, construct the complete simplex tableau corresponding to this specified basis. Use the variable $M$ as the penalty factor for the artificial variable, where $M$ is a very large positive number.\n\nPresent the result as a single $4 \\times 7$ matrix. The four rows of the matrix must correspond to the objective function (let's call the Big-M objective $P$) and the constraints associated with the basic variables $s_1$, $a_2$, and $x_3$, in that order. The seven columns must correspond to the coefficients of the variables $x_1, x_2, x_3, s_1, e_2, a_2$ and the Right-Hand-Side (RHS) vector, in that order.", "solution": "Introduce slack, surplus, and artificial variables to convert the constraints to equalities:\n- Constraint 1 (less-than-or-equal): add slack $s_{1}\\ge 0$,\n$$x_{1}+4x_{2}-x_{3}+s_{1}=10.$$\n- Constraint 2 (greater-than-or-equal): subtract surplus $e_{2}\\ge 0$ and add artificial $a_{2}\\ge 0$,\n$$2x_{1}-x_{2}+2x_{3}-e_{2}+a_{2}=8.$$\n- Constraint 3 (equality): no slack/surplus/artificial (we will take $x_{3}$ as basic here),\n$$x_{1}+x_{2}+x_{3}=20.$$\n\nWe are instructed to use the basis $\\{s_{1},a_{2},x_{3}\\}$. To obtain the canonical form where the columns of these basic variables form the identity, eliminate $x_{3}$ from the first two constraints using the third:\n- For the $s_{1}$-row, add the $x_{3}$-row:\n$$\\text{Row}_{s_{1}}:\\ (x_{1}+4x_{2}-x_{3}+s_{1}=10)+ (x_{1}+x_{2}+x_{3}=20)\\ \\Rightarrow\\ 2x_{1}+5x_{2}+s_{1}=30.$$\n- For the $a_{2}$-row, subtract twice the $x_{3}$-row:\n$$\\text{Row}_{a_{2}}:\\ (2x_{1}-x_{2}+2x_{3}-e_{2}+a_{2}=8)-2(x_{1}+x_{2}+x_{3}=20)\\ \\Rightarrow\\ -3x_{2}-e_{2}+a_{2}=-32.$$\n- Keep the $x_{3}$-row as is:\n$$\\text{Row}_{x_{3}}:\\ x_{1}+x_{2}+x_{3}=20.$$\n\nUsing the Big-M method for a maximization, define the penalized objective\n$$P=3x_{1}-2x_{2}+5x_{3}-M a_{2}.$$\nWrite the objective equation as\n$$P-3x_{1}+2x_{2}-5x_{3}+M a_{2}=0.$$\nNow eliminate the basic variables $a_{2}$ and $x_{3}$ from the objective row using the canonical constraint rows obtained above:\n- Eliminate $a_{2}$ by subtracting $M$ times the $a_{2}$-row:\n$$P\\text{-row}\\ \\leftarrow\\ (P-3x_{1}+2x_{2}-5x_{3}+M a_{2}=0)-M(-3x_{2}-e_{2}+a_{2}=-32),$$\nwhich yields\n$$P\\text{-row}: P-3x_{1}+(2+3M)x_{2}-5x_{3}+M e_{2}=32M.$$\n- Eliminate $x_{3}$ by adding $5$ times the $x_{3}$-row:\n$$P\\text{-row}\\ \\leftarrow\\ \\big(P-3x_{1}+(2+3M)x_{2}-5x_{3}+M e_{2}=32M\\big)+5(x_{1}+x_{2}+x_{3}=20),$$\ngiving the canonical objective row\n$$P+2x_{1}+(7+3M)x_{2}+M e_{2}=32M+100.$$\n\nCollecting coefficients in the prescribed column order $\\{x_{1},x_{2},x_{3},s_{1},e_{2},a_{2},\\text{RHS}\\}$ and rows in the order $\\{P,\\ s_{1},\\ a_{2},\\ x_{3}\\}$, the initial Big-M simplex tableau (as a $4\\times 7$ matrix) is\n$$\n\\begin{pmatrix}\n2 & 7+3M & 0 & 0 & M & 0 & 32M+100\\\\\n2 & 5 & 0 & 1 & 0 & 0 & 30\\\\\n0 & -3 & 0 & 0 & -1 & 1 & -32\\\\\n1 & 1 & 1 & 0 & 0 & 0 & 20\n\\end{pmatrix}.\n$$", "answer": "$$\\boxed{\\begin{pmatrix}\n2 & 7+3M & 0 & 0 & M & 0 & 32M+100\\\\\n2 & 5 & 0 & 1 & 0 & 0 & 30\\\\\n0 & -3 & 0 & 0 & -1 & 1 & -32\\\\\n1 & 1 & 1 & 0 & 0 & 0 & 20\n\\end{pmatrix}}$$", "id": "2203577"}, {"introduction": "A simplex tableau is more than just a set of equations; it's a map that guides us through the feasible region of a problem. Sometimes, this map leads to an optimal solution, but other times it reveals that the objective can be increased indefinitely. This practice focuses on interpreting the tableau to identify such a scenario of unboundedness, a critical skill for diagnosing optimization models [@problem_id:2203570]. You will learn to recognize the tell-tale signature of an unbounded problem and determine the direction of the extreme ray along which the solution can grow without limit.", "problem": "An analyst is using a Linear Programming (LP) model to optimize an investment portfolio. The model seeks to maximize a projected return, $Z$, based on allocations to two primary asset classes, represented by decision variables $x_1$ and $x_2$. The model also includes three other variables, $s_1$, $s_2$, and $s_3$, which represent slack and surplus variables arising from various regulatory and risk-management constraints. The problem is a maximization problem.\n\nAfter several pivots using the simplex method, the analyst arrives at the following tableau. The set of basic variables is $\\{s_1, x_2, s_3\\}$, and the non-basic variables are $\\{x_1, s_2\\}$. The top row represents the objective function ($Z$), and the subsequent rows correspond to the basic variables.\n\n| Basic Variable | $Z$ | $x_1$ | $x_2$ | $s_1$ | $s_2$ | $s_3$ | Solution |\n| :------------: | :-: | :---: | :---: | :---: | :---: | :---: | :------: |\n|      $Z$       |  1  |  -4   |   0   |   0   |  -2   |   0   |    50    |\n|     $s_1$      |  0  |  -1   |   0   |   1   |   3   |   0   |    12    |\n|     $x_2$      |  0  |  -3   |   1   |   0   |   1   |   0   |     8    |\n|     $s_3$      |  0  |  -2   |   0   |   0   |  -1   |   1   |    15    |\n\nBased on this tableau, the problem is found to be unbounded. Identify the extreme direction vector $\\mathbf{d}$ of the feasible region that demonstrates this unbounded nature. The direction vector $\\mathbf{d}$ should be expressed in the full variable space, with components ordered as $(d_{x_1}, d_{x_2}, d_{s_1}, d_{s_2}, d_{s_3})$. Express your final answer as a row matrix.", "solution": "Because the problem is a maximization and the tableau is in canonical form with basic variables $\\{s_{1}, x_{2}, s_{3}\\}$ and nonbasic variables $\\{x_{1}, s_{2}\\}$, unboundedness occurs if there exists a nonbasic variable with a negative reduced cost whose column in the constraint rows has no positive entries. From the $Z$-row we have\n$$\nZ - 4 x_{1} - 2 s_{2} = 50 \\quad \\Longleftrightarrow \\quad Z = 50 + 4 x_{1} + 2 s_{2},\n$$\nso $x_{1}$ and $s_{2}$ both have negative reduced costs and can increase $Z$ if increased from zero.\n\nInspect the constraint part for the entering candidates. The column of $x_{1}$ in the basic rows is $(-1,-3,-2)^{\\top}$, which has no positive entry. Hence no leaving variable exists for $x_{1}$ and the problem is unbounded in the direction of increasing $x_{1}$. The basic equations read\n$$\n\\begin{aligned}\ns_{1} - x_{1} + 3 s_{2} &= 12,\\\\\nx_{2} - 3 x_{1} + s_{2} &= 8,\\\\\ns_{3} - 2 x_{1} - s_{2} &= 15.\n\\end{aligned}\n$$\nSetting $x_{1}$ as the entering variable and holding the other nonbasic variable $s_{2}$ at zero, the movement direction $\\mathbf{d}$ associated with increasing $x_{1}$ is given by the standard simplex direction\n$$\nd_{x_{1}} = 1, \\quad d_{s_{2}} = 0, \\quad d_{B} = -\\bar{A}_{B,x_{1}},\n$$\nwhere $\\bar{A}_{B,x_{1}} = (-1,-3,-2)^{\\top}$ is the column of $x_{1}$ under the basic rows. Therefore,\n$$\nd_{s_{1}} = -(-1) = 1,\\quad d_{x_{2}} = -(-3) = 3,\\quad d_{s_{3}} = -(-2) = 2.\n$$\nThus the extreme direction in the full variable order $(x_{1}, x_{2}, s_{1}, s_{2}, s_{3})$ is\n$$\n\\begin{pmatrix}\n1 & 3 & 1 & 0 & 2\n\\end{pmatrix},\n$$\nwhich is feasible (all components are nonnegative) and increases the objective without bound since $Z$ increases by $4$ per unit increase in $x_{1}$ while maintaining feasibility.", "answer": "$$\\boxed{\\begin{pmatrix}1 & 3 & 1 & 0 & 2\\end{pmatrix}}$$", "id": "2203570"}, {"introduction": "Artificial variables are a clever but temporary tool used to kick-start the simplex method when a starting basic feasible solution isn't obvious. But what happens if we add one where it isn't strictly necessary? This thought experiment explores the robustness of the simplex method and the role of the large penalty term $M$ [@problem_id:2203601]. By tracing the fate of an unnecessarily added artificial variable, you will gain a deeper insight into why they are used and how the algorithm ensures they are ultimately driven out of any valid optimal solution.", "problem": "An operations research analyst is tasked with solving the following Linear Program (LP):\nMaximize $Z = 3x_1 + 5x_2$\nSubject to:\n1. $x_1 \\le 4$\n2. $2x_2 \\le 12$\n3. $3x_1 + 2x_2 \\le 18$\n$x_1, x_2 \\ge 0$\n\nTo solve this using the simplex method, the analyst first converts the inequalities into equalities. For the first constraint, $x_1 \\le 4$, the analyst incorrectly adds both a slack variable $s_1$ and an artificial variable $a_1$. For the other constraints, standard slack variables $s_2$ and $s_3$ are correctly added.\n\nThe problem is then set up to be solved using the Big M method, where $M$ is a very large positive number. The objective function is modified to:\nMaximize $Z = 3x_1 + 5x_2 - M a_1$\n\nAssuming the analyst proceeds mechanically with the simplex algorithm, starting with the artificial variable $a_1$ in the initial basis for the first constraint, what is the set of basic variables in the final optimal tableau?\n\nA. $\\{x_1, x_2, a_1\\}$\n\nB. $\\{x_1, x_2, s_2\\}$\n\nC. $\\{x_1, x_2, s_3\\}$\n\nD. $\\{x_1, x_2, s_1\\}$\n\nE. The problem is unbounded.\n\nF. The problem is infeasible.", "solution": "We start with the LP:\nMaximize $Z = 3x_{1} + 5x_{2}$ subject to\n$$x_{1} \\leq 4,$$\n$$2x_{2} \\leq 12,$$\n$$3x_{1} + 2x_{2} \\leq 18,$$\n$$x_{1}, x_{2} \\geq 0.$$\n\nThe analyst incorrectly adds both a slack and an artificial variable to the first constraint and correctly adds slacks to the others. To have an initial basic feasible solution with the artificial variable in the basis, the first constraint must be written with a positive artificial variable:\n$$x_{1} + s_{1} + a_{1} = 4,$$\nand the other constraints become\n$$2x_{2} + s_{2} = 12,$$\n$$3x_{1} + 2x_{2} + s_{3} = 18,$$\nwith $s_{1}, s_{2}, s_{3}, a_{1} \\geq 0$. The Big M objective is\n$$\\max Z = 3x_{1} + 5x_{2} - M a_{1},$$\nwith $M$ a very large positive constant. Under the Big M method, any optimal solution will set $a_{1} = 0$ to avoid the large penalty.\n\nNext, determine the true optimal solution of the original LP by examining the binding constraints at extreme points. Consider the intersection of the second and third constraints (since they are likely to bind at the optimum given the larger coefficient on $x_{2}$ in the objective):\n$$2x_{2} = 12 \\implies x_{2} = 6,$$\n$$3x_{1} + 2x_{2} = 18 \\implies 3x_{1} + 12 = 18 \\implies 3x_{1} = 6 \\implies x_{1} = 2.$$\nThis point $(x_{1}, x_{2}) = (2, 6)$ is feasible and yields\n$$Z = 3 \\cdot 2 + 5 \\cdot 6 = 6 + 30 = 36.$$\nAt this point, the first constraint is nonbinding since $x_{1} = 2  4$. The corresponding slacks and artificial variable values are\n$$s_{1} = 4 - x_{1} = 4 - 2 = 2 > 0,$$\n$$s_{2} = 12 - 2x_{2} = 12 - 12 = 0,$$\n$$s_{3} = 18 - (3x_{1} + 2x_{2}) = 18 - 18 = 0,$$\n$$a_{1} = 0$$\n(the last equality is enforced in any optimal solution by the $-Ma_{1}$ penalty).\n\nIn a simplex basic feasible solution, nonbasic variables are fixed at zero, so any variable that is strictly positive at the optimum must be basic. Since $x_{1} = 2 > 0$, $x_{2} = 6 > 0$, and $s_{1} = 2 > 0$, these three must be basic in the final optimal tableau. Variables $s_{2}$ and $s_{3}$ are zero at the optimum (their constraints are binding) and hence are nonbasic, and $a_{1}$ is driven to zero by the Big M penalty and is also nonbasic in the final tableau.\n\nTherefore, the set of basic variables in the final optimal tableau is $\\{x_{1}, x_{2}, s_{1}\\}$, which corresponds to option D. The problem is neither unbounded nor infeasible, and the artificial variable cannot remain in the optimal basis under the Big M method.", "answer": "$$\\boxed{D}$$", "id": "2203601"}]}