{"hands_on_practices": [{"introduction": "At the heart of Simulated Annealing is its unique ability to accept \"uphill\" moves—solutions that are worse than the current one—in order to escape local optima. This acceptance is not random; it is governed by a precise probabilistic rule. This first exercise focuses on the core mathematical relationship between the cost increase of a proposed move, $\\Delta C$, the system \"temperature,\" $T$, and the probability of acceptance, $P = \\exp(-\\Delta C / T)$. By working backward from a desired acceptance rate, you will practice manipulating this fundamental equation to determine the necessary system parameters, a crucial skill for configuring the algorithm [@problem_id:2202507].", "problem": "A data center is optimizing the allocation of computational tasks across its server farm using a simulated annealing algorithm. The objective is to minimize the total operational cost. In this context, the \"energy\" of a particular allocation configuration is defined by its projected operational cost, measured in abstract \"cost units.\"\n\nThe algorithm is currently evaluating a configuration, which we will call the current state, with a cost of $C_{current} = 85.5$ cost units. A new configuration, the neighboring state, is proposed by moving a specific task. This change results in a higher projected cost of $C_{neighbor} = 88.0$ cost units.\n\nThe simulated annealing algorithm sometimes accepts \"uphill\" moves (i.e., moves to states with higher cost) to escape local minima. The probability of accepting such a move is governed by a Boltzmann-like distribution dependent on a control parameter called \"temperature,\" $T$. In this model, the temperature $T$ has the same units as the cost.\n\nFor the algorithm to effectively explore the solution space at this stage, the system designers have determined that this specific uphill move should be accepted with a probability of exactly $0.15$. What is the required value of the temperature parameter $T$ to achieve this acceptance probability?\n\nRound your final answer to three significant figures.", "solution": "In simulated annealing, an uphill move with cost increase $\\Delta C$ is accepted with probability given by the Boltzmann-like factor:\n$$\nP_{\\text{accept}} = \\exp\\!\\left(-\\frac{\\Delta C}{T}\\right).\n$$\nHere, the current state has cost $C_{\\text{current}} = 85.5$ and the neighbor has cost $C_{\\text{neighbor}} = 88.0$, so the cost increase is\n$$\n\\Delta C = C_{\\text{neighbor}} - C_{\\text{current}} = 88.0 - 85.5 = 2.5.\n$$\nWe require this move to be accepted with probability $0.15$, so\n$$\n\\exp\\!\\left(-\\frac{2.5}{T}\\right) = 0.15.\n$$\nTaking the natural logarithm of both sides and solving for $T$ gives\n$$\n-\\frac{2.5}{T} = \\ln(0.15) \\quad \\Rightarrow \\quad T = -\\frac{2.5}{\\ln(0.15)} = \\frac{2.5}{\\ln\\!\\left(\\frac{1}{0.15}\\right)} = \\frac{2.5}{\\ln\\!\\left(\\frac{20}{3}\\right)}.\n$$\nEvaluating numerically and rounding to three significant figures,\n$$\nT \\approx 1.32.\n$$", "answer": "$$\\boxed{1.32}$$", "id": "2202507"}, {"introduction": "Building on the acceptance formula, we now explore the dynamic role of the temperature parameter, $T$. This parameter is the engine of the \"annealing\" process, directly controlling the balance between exploration (accepting many uphill moves at high temperatures) and exploitation (converging to a minimum at low temperatures). This practice problem will help you quantify how changing the temperature alters the algorithm's search behavior. Understanding this relationship is key to designing an effective cooling schedule, which is the sequence of temperatures the algorithm follows during optimization [@problem_id:2202501].", "problem": "An engineer is using a computational optimization algorithm to determine the optimal layout of components on a circuit board. The quality of any given layout is quantified by a cost function, $E$, where a lower cost represents a better design. The algorithm proceeds by iteratively proposing small changes to the layout. If a proposed change decreases the cost, it is always accepted. However, to avoid getting stuck in suboptimal solutions, the algorithm can sometimes accept a change that increases the cost.\n\nThe probability, $P$, of accepting a \"worse\" move that increases the cost by an amount $\\Delta E  0$ is governed by the relation:\n$$\nP = \\exp\\left(-\\frac{\\Delta E}{T}\\right)\n$$\nwhere $T$ is a positive control parameter known as the \"computational temperature\".\n\nDuring an optimization process, the algorithm considers a specific layout modification that is known to increase the cost function by $\\Delta E = 12.5$ units. In one version of the algorithm, the computational temperature at this stage is set to $T_1 = 25.0$. In a second, more exploratory version, the temperature for the same stage is set higher, at $T_2 = 40.0$.\n\nBy what factor is the probability of accepting this specific detrimental move multiplied when the computational temperature is increased from $T_1$ to $T_2$? Provide your answer as a numerical value rounded to three significant figures.", "solution": "The acceptance probability for a detrimental move is given by $P = \\exp\\left(-\\frac{\\Delta E}{T}\\right)$. Let $P_{1}$ be the probability at temperature $T_{1}$ and $P_{2}$ at temperature $T_{2}$. The factor by which the probability is multiplied when increasing the temperature from $T_{1}$ to $T_{2}$ is\n$$\n\\frac{P_{2}}{P_{1}}=\\frac{\\exp\\left(-\\frac{\\Delta E}{T_{2}}\\right)}{\\exp\\left(-\\frac{\\Delta E}{T_{1}}\\right)}=\\exp\\left(-\\frac{\\Delta E}{T_{2}}+\\frac{\\Delta E}{T_{1}}\\right)=\\exp\\left(\\Delta E\\left(\\frac{1}{T_{1}}-\\frac{1}{T_{2}}\\right)\\right).\n$$\nSubstitute $\\Delta E=12.5$, $T_{1}=25.0$, and $T_{2}=40.0$:\n$$\n\\frac{P_{2}}{P_{1}}=\\exp\\left(12.5\\left(\\frac{1}{25.0}-\\frac{1}{40.0}\\right)\\right)=\\exp\\left(12.5\\left(0.04-0.025\\right)\\right)=\\exp\\left(12.5\\times 0.015\\right)=\\exp(0.1875).\n$$\nNumerically,\n$$\n\\exp(0.1875)\\approx 1.20623,\n$$\nwhich to three significant figures is $1.21$.", "answer": "$$\\boxed{1.21}$$", "id": "2202501"}, {"introduction": "Moving from core principles to practical application, a critical task is selecting an appropriate initial temperature, $T_0$. If $T_0$ is too high, the algorithm wastes time exploring randomly; if it's too low, the search may get trapped in the first local minimum it finds. This exercise introduces a common and effective heuristic for setting $T_0$ based on data from a preliminary random walk. It requires using an important simplification—approximating the average of exponentials with the exponential of the average—to make the calculation tractable, highlighting how theory is adapted for practical implementation [@problem_id:2202487].", "problem": "In the context of optimization using simulated annealing, selecting an appropriate initial temperature $T_0$ is crucial. A common heuristic is to choose $T_0$ such that the average acceptance probability for moves that increase the energy (uphill moves) is high, for instance, around 80%. This ensures that the system can freely explore the search space at the beginning of the simulation.\n\nAn engineer is trying to minimize an energy function $E(x)$. To set the initial temperature, they perform a preliminary random walk consisting of a large number of proposed moves. For each proposed move from a state $x$ to a new state $x'$, the change in energy $\\Delta E = E(x') - E(x)$ is calculated.\n\nThe pre-run analysis yielded the following statistics for moves where the energy increased ($\\Delta E  0$):\n- The total number of observed uphill moves was $M = 2500$.\n- The sum of all positive energy changes was $\\sum_{\\Delta E  0} \\Delta E = 582.5$ (in arbitrary energy units).\n\nThe acceptance probability for an uphill move is given by the Metropolis criterion, $P(\\text{accept}) = \\exp(-\\Delta E / T)$, where $T$ is the temperature.\n\nYour task is to determine the initial temperature $T_0$ required to achieve a target average acceptance probability of $P_{\\text{target}} = 0.8$ for these uphill moves. To do this, you must use the approximation that the average of the exponential probabilities can be estimated by the exponential of the average energy change. That is, approximate $\\frac{1}{M}\\sum_{j=1}^{M} \\exp(-\\Delta E_j/T_0)$ with $\\exp(-\\overline{\\Delta E}/T_0)$, where $\\overline{\\Delta E}$ is the average energy change for uphill moves.\n\nCalculate the value of $T_0$ in the same arbitrary energy units. Round your final answer to three significant figures.", "solution": "We denote by $M$ the number of observed uphill moves and by $\\{\\Delta E_{j}\\}_{j=1}^{M}$ their positive energy increases. The sample mean for uphill changes is\n$$\n\\overline{\\Delta E}=\\frac{1}{M}\\sum_{j=1}^{M}\\Delta E_{j}=\\frac{582.5}{2500}=\\frac{233}{1000}=0.233.\n$$\nUsing the stated approximation for the average acceptance probability under the Metropolis criterion,\n$$\n\\frac{1}{M}\\sum_{j=1}^{M}\\exp\\!\\left(-\\frac{\\Delta E_{j}}{T_{0}}\\right)\\approx \\exp\\!\\left(-\\frac{\\overline{\\Delta E}}{T_{0}}\\right),\n$$\nand imposing the target $P_{\\text{target}}=0.8$, we set\n$$\n\\exp\\!\\left(-\\frac{\\overline{\\Delta E}}{T_{0}}\\right)=0.8.\n$$\nTaking the natural logarithm of both sides gives\n$$\n-\\frac{\\overline{\\Delta E}}{T_{0}}=\\ln(0.8),\n$$\nso\n$$\nT_{0}=-\\frac{\\overline{\\Delta E}}{\\ln(0.8)}=\\frac{\\overline{\\Delta E}}{-\\ln(0.8)}.\n$$\nSubstituting $\\overline{\\Delta E}=0.233$ yields\n$$\nT_{0}=\\frac{0.233}{-\\ln(0.8)}\\approx \\frac{0.233}{0.223143551}\\approx 1.044\\ldots\n$$\nRounded to three significant figures, this gives $T_{0}\\approx 1.04$.", "answer": "$$\\boxed{1.04}$$", "id": "2202487"}]}