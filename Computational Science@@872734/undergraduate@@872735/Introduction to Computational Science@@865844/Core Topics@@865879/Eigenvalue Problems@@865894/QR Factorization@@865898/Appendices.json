{"hands_on_practices": [{"introduction": "The QR factorization is often constructed using the Gram-Schmidt process, which systematically transforms a set of vectors into an orthonormal basis. This first exercise focuses on the most fundamental step of that process: taking the first vector of a set and normalizing it to produce the first column of the $Q$ matrix. Mastering this initial calculation is key to understanding how the entire orthogonalization is built [@problem_id:2195409].", "problem": "Consider the matrix $A$ given by:\n$$A = \\begin{pmatrix} 2 & 5 \\\\ -2 & 1 \\\\ 1 & -1 \\end{pmatrix}$$\nThe QR factorization of this matrix is given by $A = QR$, where $Q$ is a $3 \\times 2$ matrix with orthonormal columns and $R$ is a $2 \\times 2$ upper triangular matrix with positive diagonal entries. Determine the first column of the matrix $Q$.", "solution": "Let the columns of $A$ be $a_{1}$ and $a_{2}$, where\n$$\na_{1}=\\begin{pmatrix}2\\\\-2\\\\1\\end{pmatrix}, \\quad a_{2}=\\begin{pmatrix}5\\\\1\\\\-1\\end{pmatrix}.\n$$\nIn the QR factorization via Gram–Schmidt, the first column of $Q$ is\n$$\nq_{1}=\\frac{a_{1}}{\\|a_{1}\\|}.\n$$\nCompute the norm:\n$$\n\\|a_{1}\\|=\\sqrt{a_{1}^{T}a_{1}}=\\sqrt{2^{2}+(-2)^{2}+1^{2}}=\\sqrt{9}=3.\n$$\nTo ensure the diagonal entry $r_{11}=q_{1}^{T}a_{1}=\\|a_{1}\\|$ is positive, we take\n$$\nq_{1}=\\frac{1}{3}\\begin{pmatrix}2\\\\-2\\\\1\\end{pmatrix}=\\begin{pmatrix}\\frac{2}{3}\\\\ -\\frac{2}{3}\\\\ \\frac{1}{3}\\end{pmatrix}.\n$$\nThus, the first column of $Q$ is the unit vector above.", "answer": "$$\\boxed{\\begin{pmatrix}\\frac{2}{3}\\\\ -\\frac{2}{3}\\\\ \\frac{1}{3}\\end{pmatrix}}$$", "id": "2195409"}, {"introduction": "The Gram-Schmidt process is designed for a set of linearly independent vectors, but what happens if we apply it to a set that is linearly dependent? This practice explores that exact scenario, providing a crucial insight into how the algorithm behaves when encountering redundant information [@problem_id:2195393]. Understanding this outcome helps clarify the conditions required for a successful QR factorization and what a 'failure' in the process signifies.", "problem": "The Gram-Schmidt process is an algorithm used to construct an orthonormal basis for a vector space from an arbitrary set of spanning vectors. Consider a matrix $A$ whose columns are the vectors we wish to orthogonalize. Let the columns of $A$ be denoted by $a_1, a_2, \\dots, a_n$. The process generates a set of orthogonal vectors $v_1, v_2, \\dots, v_n$ using the following recurrence relation:\n\n$v_1 = a_1$\n$v_k = a_k - \\sum_{j=1}^{k-1} \\frac{a_k \\cdot v_j}{v_j \\cdot v_j} v_j$ for $k = 2, 3, \\dots, n$.\n\nNow, consider the specific matrix $A$ with linearly dependent columns given by\n$$ A = \\begin{pmatrix} 1 & 3 \\\\ -2 & -6 \\\\ 2 & 6 \\end{pmatrix} $$\nwhere the first column is $a_1 = \\begin{pmatrix} 1 \\\\ -2 \\\\ 2 \\end{pmatrix}$ and the second column is $a_2 = \\begin{pmatrix} 3 \\\\ -6 \\\\ 6 \\end{pmatrix}$.\n\nApply the Gram-Schmidt process as defined above to the columns of this matrix $A$. Determine the components of the second orthogonal vector, $v_2$.\n\nExpress your answer as a row matrix containing the components of the vector $v_2$.", "solution": "We apply the given (unnormalized) Gram-Schmidt process. Let $a_{1}=\\begin{pmatrix}1\\\\-2\\\\2\\end{pmatrix}$ and $a_{2}=\\begin{pmatrix}3\\\\-6\\\\6\\end{pmatrix}$.\n\nFirst vector:\n$$\nv_{1}=a_{1}=\\begin{pmatrix}1\\\\-2\\\\2\\end{pmatrix}.\n$$\n\nSecond vector using\n$$\nv_{2}=a_{2}-\\frac{a_{2}\\cdot v_{1}}{v_{1}\\cdot v_{1}}\\,v_{1}.\n$$\nCompute the dot products:\n$$\nv_{1}\\cdot v_{1}=1^{2}+(-2)^{2}+2^{2}=9,\n$$\n$$\na_{2}\\cdot v_{1}=3\\cdot 1+(-6)\\cdot(-2)+6\\cdot 2=3+12+12=27.\n$$\nHence\n$$\n\\frac{a_{2}\\cdot v_{1}}{v_{1}\\cdot v_{1}}=\\frac{27}{9}=3,\n$$\nand therefore\n$$\nv_{2}=a_{2}-3v_{1}=\\begin{pmatrix}3\\\\-6\\\\6\\end{pmatrix}-3\\begin{pmatrix}1\\\\-2\\\\2\\end{pmatrix}=\\begin{pmatrix}0\\\\0\\\\0\\end{pmatrix}.\n$$\nThus the components of $v_{2}$, written as a row matrix, are\n$$\n\\begin{pmatrix}0 & 0 & 0\\end{pmatrix}.\n$$", "answer": "$$\\boxed{\\begin{pmatrix} 0 & 0 & 0 \\end{pmatrix}}$$", "id": "2195393"}, {"introduction": "Beyond its theoretical elegance, the primary power of QR factorization lies in its applications, particularly in solving overdetermined systems of linear equations via the method of least squares. This exercise demonstrates how decomposing a matrix $A$ into $Q$ and $R$ can simplify the problem of minimizing $\\|A\\mathbf{x} - \\mathbf{b}\\|$ into solving a straightforward upper-triangular system $R\\mathbf{x} = Q^T\\mathbf{b}$. This practice bridges the gap between the mechanics of the algorithm and its practical utility in data analysis [@problem_id:1057054].", "problem": "Consider the overdetermined system $A \\mathbf{x} = \\mathbf{b}$, where $A = \\begin{bmatrix} 1 & 2 \\\\ 3 & 4 \\\\ 5 & 6 \\end{bmatrix}$ and $\\mathbf{b} = \\begin{bmatrix} 1 \\\\ 1 \\\\ 2 \\end{bmatrix}$. The least squares solution minimizes $\\|A\\mathbf{x} - \\mathbf{b}\\|_2$. Using the QR factorization of $A$, where $Q$ is a matrix with orthonormal columns and $R$ is upper triangular, solve the system and report the second component of $\\mathbf{x}$, denoted $x_2$. The QR factorization should be computed via the Gram-Schmidt process. Provide the exact value of $x_2$ as a simplified expression.", "solution": "1. Perform Gram–Schmidt on the columns $a_1=(1,3,5)^T$, $a_2=(2,4,6)^T$.\n\n   Compute \n   $$\n   r_{11}=\\|a_1\\|=\\sqrt{1^2+3^2+5^2}=\\sqrt{35},\\qquad\n   q_1=\\frac{a_1}{r_{11}}=\\frac{1}{\\sqrt{35}}(1,3,5)^T.\n   $$\n\n   Next,\n   $$\n   r_{12}=q_1^T a_2\n     =\\frac{1\\cdot2+3\\cdot4+5\\cdot6}{\\sqrt{35}}\n     =\\frac{44}{\\sqrt{35}},\n   $$\n   $$\n   u_2=a_2-r_{12}q_1\n      =(2,4,6)^T-\\frac{44}{\\sqrt{35}}\\frac{1}{\\sqrt{35}}(1,3,5)^T\n      =\\frac{1}{35}(26,8,-10)^T,\n   $$\n   $$\n   r_{22}=\\|u_2\\|\n     =\\frac{2\\sqrt{210}}{35},\\qquad\n   q_2=\\frac{u_2}{r_{22}}\n       =\\frac{1}{\\sqrt{210}}(13,4,-5)^T.\n   $$\n\n2. Form $Q=[q_1\\;q_2]$, $R=\\begin{pmatrix}r_{11}&r_{12}\\\\0&r_{22}\\end{pmatrix}$ and compute\n   $$\n   y=Q^T b,\\quad b=(1,1,2)^T.\n   $$\n   Then\n   $$\n   y_1=q_1^Tb=\\frac{1+3+10}{\\sqrt{35}}=\\frac{14}{\\sqrt{35}}=\\frac{2\\sqrt{35}}{5},\\quad\n   y_2=q_2^Tb=\\frac{13+4-10}{\\sqrt{210}}=\\frac{7}{\\sqrt{210}}=\\frac{\\sqrt{210}}{30}.\n   $$\n\n3. Solve $Rx=y$:\n   $$\n   \\begin{pmatrix}\\sqrt{35}&\\frac{44}{\\sqrt{35}}\\\\0&\\frac{2\\sqrt{210}}{35}\\end{pmatrix}\n   \\begin{pmatrix}x_1\\\\x_2\\end{pmatrix}\n   =\\begin{pmatrix}\\frac{2\\sqrt{35}}{5}\\\\ \\frac{\\sqrt{210}}{30}\\end{pmatrix}.\n   $$\n\n   From the second row,\n   $$\n   \\frac{2\\sqrt{210}}{35}\\,x_2=\\frac{\\sqrt{210}}{30}\n   \\quad\\Longrightarrow\\quad\n   x_2=\\frac{\\sqrt{210}/30}{2\\sqrt{210}/35}\n       =\\frac{35}{60}\n       =\\frac{7}{12}.\n   $$", "answer": "$$\\boxed{\\frac{7}{12}}$$", "id": "1057054"}]}