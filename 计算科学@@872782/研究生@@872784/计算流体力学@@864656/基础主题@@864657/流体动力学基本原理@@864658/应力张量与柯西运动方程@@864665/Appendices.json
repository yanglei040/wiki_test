{"hands_on_practices": [{"introduction": "要真正掌握柯西运动方程和应力张量的概念，最好的方法是将其应用于一个经典问题。本练习将引导你分析平面库埃特流——一个被广泛研究的剪切流模型，从而将抽象的控制方程简化为对特定流动场景的具体描述。通过这个过程，你将加深对本构关系如何将流体变形率与粘性应力联系起来的理解，并亲自推导出作用在流体上的剪切应力。[@problem_id:3382779]", "problem": "一种粘性、不可压缩、等温的牛顿流体，其动力粘度 $\\mu$ 和密度 $\\rho$ 均为常数，填充在位于 $y=0$ 和 $y=H$ 处的两个无限、平行、刚性平板之间的区域。位于 $y=0$ 处的下平板是静止的，而位于 $y=H$ 处的上平板以恒定速度 $U$ 沿 $+x$ 方向稳定平移。假设流动为二维、稳态、充分发展的流动，速度场形式为 $\\mathbf{v}(x,y,z) = \\big(u(y),\\,0,\\,0\\big)$，无体力，且无外部施加的压力梯度。实验观察到的速度剖面是线性的，$u(y)=Uy/H$。\n\n从柯西运动方程和柯西应力张量的一般牛顿本构关系出发，推导整个间隙内的剪应力分布，并验证其与动量平衡相符。然后，提取作用于单位法向量为 $+y$ 方向的任意平面上、方向为 $+x$ 方向的恒定剪应力，并将其表示为以 $\\mu$、$U$ 和 $H$ 表示的闭式解析表达式。\n\n将最终答案表示为以 $\\mu$、$U$ 和 $H$ 表示的单个解析表达式。您无需为最终表达式附加单位；将 $\\mu$ 的单位视为帕斯卡-秒， $U$ 的单位视为米/秒， $H$ 的单位视为米，这样得到的剪应力单位为帕斯卡。", "solution": "首先根据指定标准对问题进行验证。\n\n### 步骤1：提取已知条件\n- **流体性质**：粘性、不可压缩、等温的牛顿流体，具有恒定的动力粘度 $\\mu$ 和恒定的密度 $\\rho$。\n- **几何形状**：流体填充在两个无限、平行、刚性平板之间的区域。\n- **平板位置**：下平板位于 $y=0$，上平板位于 $y=H$。\n- **边界条件**：位于 $y=0$ 的下平板是静止的。位于 $y=H$ 的上平板以恒定速度 $U$ 沿 $+x$ 方向平移。\n- **流动假设**：\n    - 二维流动。\n    - 稳态流动（$\\frac{\\partial}{\\partial t} = 0$）。\n    - 充分发展的流动。\n    - 速度场形式指定为 $\\mathbf{v}(x,y,z) = \\big(u(y),\\,0,\\,0\\big)$。\n    - 无体力（$\\mathbf{b} = \\mathbf{0}$）。\n    - 无外部施加的压力梯度。\n- **观察到的速度剖面**：$u(y) = \\frac{Uy}{H}$。\n\n### 步骤2：使用提取的已知条件进行验证\n- **科学依据**：该问题描述了平面库埃特流，这是流体力学中一个基本而经典的问题。其控制方程——柯西运动方程和牛顿本构关系——是连续介质力学中公认的原理。该问题在科学上是合理的。\n- **适定性**：该问题提供了一套完整的边界条件、流体性质和简化假设，所有这些都是一致的。预计应力场存在唯一、稳定的解。该问题是适定的。\n- **客观性**：该问题使用精确、无歧义的科学语言陈述，不含主观论断。\n\n检查问题是否存在以下缺陷：\n1.  **科学或事实不成立**：无。所涉物理学是标准的。\n2.  **不可形式化或不相关**：无。这是应力张量和动量方程的直接应用。\n3.  **不完整或矛盾的设置**：给定的速度剖面 $u(y) = \\frac{Uy}{H}$ 与边界条件 $u(0)=0$ 和 $u(H)=U$ 一致。问题要求验证与动量平衡的一致性，这是求解过程的一部分，而非设置中的矛盾。\n4.  **不切实际或不可行**：对于间隙高度远小于平板尺寸的流动，“无限平板”是一种常见且有效的理想化处理。\n5.  **不适定或结构不良**：无。\n6.  **伪深刻、琐碎或同义反复**：无。这是一个基础问题，需要严格应用第一性原理。\n7.  **超出科学可验证范围**：无。\n\n### 步骤3：结论与行动\n问题有效。将提供完整解答。\n\n分析从连续介质力学的基本方程开始。对于一般流体，代表线性动量守恒的柯西运动方程为：\n$$ \\rho \\frac{D\\mathbf{v}}{Dt} = \\nabla \\cdot \\boldsymbol{\\sigma} + \\rho\\mathbf{b} $$\n其中 $\\rho$ 是流体密度，$\\mathbf{v}$ 是速度矢量，$\\frac{D}{Dt}$ 是物质导数，$\\boldsymbol{\\sigma}$ 是柯西应力张量，$\\mathbf{b}$ 是单位质量的体力。\n\n对于不可压缩牛顿流体，柯西应力张量 $\\boldsymbol{\\sigma}$ 通过本构关系与流体运动相关联：\n$$ \\boldsymbol{\\sigma} = -p\\mathbf{I} + \\boldsymbol{\\tau} = -p\\mathbf{I} + \\mu \\left( \\nabla\\mathbf{v} + (\\nabla\\mathbf{v})^T \\right) $$\n其中 $p$ 是热力学压力，$\\mathbf{I}$ 是单位张量，$\\boldsymbol{\\tau}$ 是粘性应力张量，$\\mu$ 是动力粘度，$\\nabla\\mathbf{v}$ 是速度梯度张量。\n\n问题陈述中说明没有体力，因此 $\\rho\\mathbf{b} = \\mathbf{0}$。流动是稳态的，因此所有时间导数 $\\frac{\\partial}{\\partial t}$ 均为零。给定的速度场为 $\\mathbf{v} = \\big(u(y), 0, 0\\big)$。物质导数为 $\\frac{D\\mathbf{v}}{Dt} = \\frac{\\partial\\mathbf{v}}{\\partial t} + (\\mathbf{v} \\cdot \\nabla)\\mathbf{v}$。由于 $\\frac{\\partial\\mathbf{v}}{\\partial t} = \\mathbf{0}$，该式简化为：\n$$ (\\mathbf{v} \\cdot \\nabla)\\mathbf{v} = \\left( u(y)\\frac{\\partial}{\\partial x} + 0\\frac{\\partial}{\\partial y} + 0\\frac{\\partial}{\\partial z} \\right) \\begin{pmatrix} u(y) \\\\ 0 \\\\ 0 \\end{pmatrix} = \\begin{pmatrix} u(y)\\frac{\\partial u(y)}{\\partial x} \\\\ 0 \\\\ 0 \\end{pmatrix} $$\n由于 $u$ 仅是 $y$ 的函数，其对 $x$ 的偏导数为零。因此，$(\\mathbf{v} \\cdot \\nabla)\\mathbf{v} = \\mathbf{0}$，这意味着加速度项 $\\frac{D\\mathbf{v}}{Dt}$ 恒等于零。柯西运动方程简化为动量平衡方程：\n$$ \\nabla \\cdot \\boldsymbol{\\sigma} = \\mathbf{0} $$\n\n接下来，我们确定应力张量 $\\boldsymbol{\\sigma}$ 的分量。首先，我们计算速度梯度张量 $\\nabla\\mathbf{v}$：\n$$ \\nabla\\mathbf{v} = \\begin{pmatrix} \\frac{\\partial u}{\\partial x}  \\frac{\\partial u}{\\partial y}  \\frac{\\partial u}{\\partial z} \\\\ \\frac{\\partial v}{\\partial x}  \\frac{\\partial v}{\\partial y}  \\frac{\\partial v}{\\partial z} \\\\ \\frac{\\partial w}{\\partial x}  \\frac{\\partial w}{\\partial y}  \\frac{\\partial w}{\\partial z} \\end{pmatrix} $$\n对于 $\\mathbf{v} = \\big(u(y), 0, 0\\big)$，我们有 $v=0$ 和 $w=0$。此外，$\\frac{\\partial u}{\\partial x} = 0$（充分发展的流动）以及 $\\frac{\\partial u}{\\partial z} = 0$（二维流动）。速度梯度的唯一非零分量是 $\\frac{\\partial u}{\\partial y} = \\frac{du}{dy}$。\n$$ \\nabla\\mathbf{v} = \\begin{pmatrix} 0  \\frac{du}{dy}  0 \\\\ 0  0  0 \\\\ 0  0  0 \\end{pmatrix} $$\n项 $\\nabla\\mathbf{v} + (\\nabla\\mathbf{v})^T$ 为：\n$$ \\nabla\\mathbf{v} + (\\nabla\\mathbf{v})^T = \\begin{pmatrix} 0  \\frac{du}{dy}  0 \\\\ 0  0  0 \\\\ 0  0  0 \\end{pmatrix} + \\begin{pmatrix} 0  0  0 \\\\ \\frac{du}{dy}  0  0 \\\\ 0  0  0 \\end{pmatrix} = \\begin{pmatrix} 0  \\frac{du}{dy}  0 \\\\ \\frac{du}{dy}  0  0 \\\\ 0  0  0 \\end{pmatrix} $$\n因此，柯西应力张量 $\\boldsymbol{\\sigma} = -p\\mathbf{I} + \\mu(\\nabla\\mathbf{v} + (\\nabla\\mathbf{v})^T)$ 为：\n$$ \\boldsymbol{\\sigma} = \\begin{pmatrix} -p  \\mu\\frac{du}{dy}  0 \\\\ \\mu\\frac{du}{dy}  -p  0 \\\\ 0  0  -p \\end{pmatrix} $$\n应力张量的分量为 $\\sigma_{xx} = -p$，$\\sigma_{yy} = -p$，$\\sigma_{zz} = -p$ 以及 $\\sigma_{xy} = \\sigma_{yx} = \\mu\\frac{du}{dy}$。所有其他分量均为零。\n\n现在，我们验证该应力分布与动量平衡 $\\nabla \\cdot \\boldsymbol{\\sigma} = \\mathbf{0}$ 相符。我们将此矢量方程展开为其分量：\n- $x$-分量：$\\frac{\\partial\\sigma_{xx}}{\\partial x} + \\frac{\\partial\\sigma_{yx}}{\\partial y} + \\frac{\\partial\\sigma_{zx}}{\\partial z} = 0 \\implies \\frac{\\partial(-p)}{\\partial x} + \\frac{\\partial}{\\partial y}\\left(\\mu\\frac{du}{dy}\\right) + 0 = 0$。由于 $\\mu$ 是常数，此式变为 $-\\frac{\\partial p}{\\partial x} + \\mu\\frac{d^2u}{dy^2} = 0$。\n- $y$-分量：$\\frac{\\partial\\sigma_{xy}}{\\partial x} + \\frac{\\partial\\sigma_{yy}}{\\partial y} + \\frac{\\partial\\sigma_{zy}}{\\partial z} = 0 \\implies \\frac{\\partial}{\\partial x}\\left(\\mu\\frac{du}{dy}\\right) + \\frac{\\partial(-p)}{\\partial y} + 0 = 0$。由于 $u$ 仅依赖于 $y$，$\\frac{du}{dy}$ 不是 $x$ 的函数，因此其对 $x$ 的偏导数为零。此式简化为 $-\\frac{\\partial p}{\\partial y} = 0$。\n- $z$-分量：$\\frac{\\partial\\sigma_{xz}}{\\partial x} + \\frac{\\partial\\sigma_{yz}}{\\partial y} + \\frac{\\partial\\sigma_{zz}}{\\partial z} = 0 \\implies 0 + 0 + \\frac{\\partial(-p)}{\\partial z} = 0$，这给出 $\\frac{\\partial p}{\\partial z} = 0$。\n\n从 $y$ 和 $z$ 方向的动量方程，我们得出压力 $p$ 仅是 $x$ 的函数，即 $p=p(x)$。于是 $x$ 方向的动量方程可以写为 $\\mu\\frac{d^2u}{dy^2} = \\frac{dp}{dx}$。问题陈述中说明没有外部施加的压力梯度，对于此几何构型，这意味着 $\\frac{dp}{dx}=0$。因此，给定流动的动量方程简化为：\n$$ \\frac{d^2u}{dy^2} = 0 $$\n问题给出了实验观察到的速度剖面 $u(y) = \\frac{Uy}{H}$。我们来检查它是否满足这个方程。\n一阶导数为 $\\frac{du}{dy} = \\frac{d}{dy}\\left(\\frac{Uy}{H}\\right) = \\frac{U}{H}$。\n二阶导数为 $\\frac{d^2u}{dy^2} = \\frac{d}{dy}\\left(\\frac{U}{H}\\right) = 0$。\n给定的速度剖面确实是简化动量方程的一个解，这证实了问题陈述的一致性。\n\n任务是推导整个间隙内的剪应力分布。唯一的非零剪应力分量是 $\\sigma_{xy}$（由于张量是对称的，它等于 $\\sigma_{yx}$）。\n作为 $y$ 的函数的剪应力分布由下式给出：\n$$ \\sigma_{xy}(y) = \\mu \\frac{du}{dy} $$\n代入给定速度剖面的导数，我们发现：\n$$ \\sigma_{xy}(y) = \\mu \\left(\\frac{U}{H}\\right) $$\n这表明剪应力在整个流体中是恒定的，与位置 $y$ 无关。\n\n最后，我们被要求提取作用在单位法向量为 $+y$ 方向、作用力方向为 $+x$ 方向的任意平面上的恒定剪应力。这精确地对应于应力分量 $\\sigma_{yx}$，或等效地 $\\sigma_{xy}$。如前所推导，该值为常数。\n$$ \\sigma_{xy} = \\mu \\frac{U}{H} $$\n这个表达式代表在给定 $y$ 处，流体层对其下方流体层施加的剪应力，并最终代表流体在 $y=0$ 处对静止底板施加的应力。根据牛顿第三定律，运动平板对流体施加的力大小相等、方向相反。上平板受到的剪应力也是 $\\mu \\frac{U}{H}$。\n最终答案就是这个解析表达式。", "answer": "$$\\boxed{\\mu \\frac{U}{H}}$$", "id": "3382779"}, {"introduction": "在理解了应力张量在流动中的作用后，下一个关键步骤是掌握其在任意给定表面上产生力的具体方式。本练习将让你直接使用一个给定的柯西应力张量 $\\boldsymbol{\\sigma}$，计算作用于特定平面的牵引力矢量 $\\mathbf{t}$。通过将此牵引力分解为法向和切向分量，你将对这个数学工具如何描述某一点的完整应力状态建立起精确的、可计算的认识。[@problem_id:3382720]", "problem": "在一个均匀、连续的流体中，该流体在一个惯性力和体力在所关注尺度上可以忽略不计的参考系中处于静止状态，考虑一个由无量纲形式给出的恒定柯西应力张量：\n$$\n\\boldsymbol{\\sigma}=\\begin{pmatrix}2  1  0\\\\ 1  3  0\\\\ 0  0  1\\end{pmatrix}.\n$$\n一个穿过流体中某点的平面，其单位法向量为\n$$\n\\mathbf{n}=\\frac{1}{\\sqrt{2}}\\,(1,\\,1,\\,0).\n$$\n从局部线性动量平衡和柯西应力原理（作用在平面上的面力与该平面的单位法向量呈线性关系）出发，确定作用在该平面上的面力向量，并将其分解为相对于该平面的法向分量和切向分量。所有分量都需以精确的解析形式表示，无需数值四舍五入。\n\n请将您的最终答案以单行矩阵的形式给出，依次列出面力向量的三个分量，然后是其法向分量向量的三个分量，最后是其切向分量向量的三个分量。无需四舍五入。由于应力是无量纲的，请报告无量纲的分量。", "solution": "用户提供的问题已经过验证，被确定为连续介质力学中一个适定、自洽且科学合理的问题。\n\n该问题要求计算流体内指定平面上的面力向量，并将其分解为法向和切向分量。出发点是局部线性动量平衡和柯西应力原理。\n\n局部线性动量平衡，即柯西第一运动定律，由以下方程表示：\n$$ \\rho \\frac{D\\mathbf{v}}{Dt} = \\nabla \\cdot \\boldsymbol{\\sigma} + \\mathbf{b} $$\n其中 $\\rho$ 是流体密度，$\\mathbf{v}$ 是速度场，$\\frac{D}{Dt}$ 是物质导数，$\\boldsymbol{\\sigma}$ 是柯西应力张量，$\\mathbf{b}$ 是单位质量的体力。\n\n问题陈述流体处于静止状态，这意味着速度场为零，即 $\\mathbf{v} = \\mathbf{0}$。因此，表示加速度的速度物质导数也为零，即 $\\frac{D\\mathbf{v}}{Dt} = \\mathbf{0}$。此外，题目给出体力可以忽略不计，所以 $\\mathbf{b} = \\mathbf{0}$。在这些条件下，动量平衡方程简化为静态平衡方程：\n$$ \\nabla \\cdot \\boldsymbol{\\sigma} = \\mathbf{0} $$\n问题指定了一个恒定的柯西应力张量。对于一个恒定张量，其所有空间导数均为零，因此其散度 $\\nabla \\cdot \\boldsymbol{\\sigma}$ 恒为零。这证实了给定的恒定应力场是静态平衡方程的一个有效解，从而确保了问题陈述的一致性。\n\n问题的核心在于应用柯西应力原理，该原理指出作用于一个表面上的面力向量 $\\mathbf{t}$（单位面积上的力）是该表面单位法向量 $\\mathbf{n}$ 的线性函数。这个关系由下式给出：\n$$ \\mathbf{t} = \\boldsymbol{\\sigma}^T \\mathbf{n} $$\n在没有体力偶的情况下，柯西应力张量是对称的，即 $\\boldsymbol{\\sigma} = \\boldsymbol{\\sigma}^T$。给定的应力张量确实是对称的。因此，公式简化为：\n$$ \\mathbf{t} = \\boldsymbol{\\sigma} \\mathbf{n} $$\n给定的无量纲柯西应力张量为：\n$$\n\\boldsymbol{\\sigma}=\\begin{pmatrix} 2  1  0 \\\\ 1  3  0 \\\\ 0  0  1 \\end{pmatrix}\n$$\n平面的单位法向量为：\n$$\n\\mathbf{n}=\\frac{1}{\\sqrt{2}}\\begin{pmatrix} 1 \\\\ 1 \\\\ 0 \\end{pmatrix}\n$$\n现在我们可以通过执行矩阵-向量乘法来计算面力向量 $\\mathbf{t}$：\n$$\n\\mathbf{t} = \\boldsymbol{\\sigma} \\mathbf{n} = \\begin{pmatrix} 2  1  0 \\\\ 1  3  0 \\\\ 0  0  1 \\end{pmatrix} \\left( \\frac{1}{\\sqrt{2}}\\begin{pmatrix} 1 \\\\ 1 \\\\ 0 \\end{pmatrix} \\right) = \\frac{1}{\\sqrt{2}} \\begin{pmatrix} (2)(1) + (1)(1) + (0)(0) \\\\ (1)(1) + (3)(1) + (0)(0) \\\\ (0)(1) + (0)(1) + (1)(0) \\end{pmatrix}\n$$\n$$\n\\mathbf{t} = \\frac{1}{\\sqrt{2}} \\begin{pmatrix} 3 \\\\ 4 \\\\ 0 \\end{pmatrix} = \\begin{pmatrix} \\frac{3}{\\sqrt{2}} \\\\ \\frac{4}{\\sqrt{2}} \\\\ 0 \\end{pmatrix} = \\begin{pmatrix} \\frac{3\\sqrt{2}}{2} \\\\ 2\\sqrt{2} \\\\ 0 \\end{pmatrix}\n$$\n下一步是将面力向量 $\\mathbf{t}$ 分解为垂直于平面的法向分量 $\\mathbf{t}_n$ 和与平面相切（或剪切）的切向分量 $\\mathbf{t}_s$。分解式由 $\\mathbf{t} = \\mathbf{t}_n + \\mathbf{t}_s$ 给出。\n\n法向分量 $\\mathbf{t}_n$ 是 $\\mathbf{t}$ 在单位法向量 $\\mathbf{n}$ 方向上的正交投影。其计算公式为：\n$$ \\mathbf{t}_n = (\\mathbf{t} \\cdot \\mathbf{n}) \\mathbf{n} $$\n首先，我们求出标量投影，也就是法向应力的大小：\n$$ t_n = \\mathbf{t} \\cdot \\mathbf{n} = \\left( \\frac{1}{\\sqrt{2}} \\begin{pmatrix} 3 \\\\ 4 \\\\ 0 \\end{pmatrix} \\right) \\cdot \\left( \\frac{1}{\\sqrt{2}} \\begin{pmatrix} 1 \\\\ 1 \\\\ 0 \\end{pmatrix} \\right) = \\frac{1}{(\\sqrt{2})^2} ((3)(1) + (4)(1) + (0)(0)) = \\frac{1}{2}(7) = \\frac{7}{2} $$\n现在，我们计算法向分量向量 $\\mathbf{t}_n$：\n$$ \\mathbf{t}_n = t_n \\mathbf{n} = \\frac{7}{2} \\left( \\frac{1}{\\sqrt{2}} \\begin{pmatrix} 1 \\\\ 1 \\\\ 0 \\end{pmatrix} \\right) = \\frac{7}{2\\sqrt{2}} \\begin{pmatrix} 1 \\\\ 1 \\\\ 0 \\end{pmatrix} = \\begin{pmatrix} \\frac{7\\sqrt{2}}{4} \\\\ \\frac{7\\sqrt{2}}{4} \\\\ 0 \\end{pmatrix} $$\n切向分量 $\\mathbf{t}_s$ 是面力向量减去法向分量后剩下的部分。它位于由法向量 $\\mathbf{n}$ 定义的平面内。\n$$ \\mathbf{t}_s = \\mathbf{t} - \\mathbf{t}_n $$\n代入已计算出的向量：\n$$ \\mathbf{t}_s = \\begin{pmatrix} \\frac{3\\sqrt{2}}{2} \\\\ 2\\sqrt{2} \\\\ 0 \\end{pmatrix} - \\begin{pmatrix} \\frac{7\\sqrt{2}}{4} \\\\ \\frac{7\\sqrt{2}}{4} \\\\ 0 \\end{pmatrix} = \\begin{pmatrix} \\frac{6\\sqrt{2}}{4} - \\frac{7\\sqrt{2}}{4} \\\\ \\frac{8\\sqrt{2}}{4} - \\frac{7\\sqrt{2}}{4} \\\\ 0 - 0 \\end{pmatrix} = \\begin{pmatrix} -\\frac{\\sqrt{2}}{4} \\\\ \\frac{\\sqrt{2}}{4} \\\\ 0 \\end{pmatrix} $$\n这三个向量是：\n面力向量：$\\mathbf{t} = \\begin{pmatrix} \\frac{3\\sqrt{2}}{2}  2\\sqrt{2}  0 \\end{pmatrix}^T$\n法向分量向量：$\\mathbf{t}_n = \\begin{pmatrix} \\frac{7\\sqrt{2}}{4}  \\frac{7\\sqrt{2}}{4}  0 \\end{pmatrix}^T$\n切向分量向量：$\\mathbf{t}_s = \\begin{pmatrix} -\\frac{\\sqrt{2}}{4}  \\frac{\\sqrt{2}}{4}  0 \\end{pmatrix}^T$\n\n最终答案要求一个单行矩阵，按指定顺序包含这三个向量的 $9$ 个分量。", "answer": "$$\n\\boxed{\\begin{pmatrix} \\frac{3\\sqrt{2}}{2}  2\\sqrt{2}  0  \\frac{7\\sqrt{2}}{4}  \\frac{7\\sqrt{2}}{4}  0  -\\frac{\\sqrt{2}}{4}  \\frac{\\sqrt{2}}{4}  0 \\end{pmatrix}}\n$$", "id": "3382720"}, {"introduction": "在理论上，柯西应力张量的对称性是角动量守恒的直接结果，但在数值计算中，离散误差有时会破坏这种对称性。这个练习探讨了这一实际问题，要求你量化一个非对称应力张量如何在一个控制体内产生虚假的力矩（即角动量源）。通过证明应力张量的对称化操作 $\\boldsymbol{\\sigma} \\leftarrow (\\boldsymbol{\\sigma}+\\boldsymbol{\\sigma}^{T})/2$ 可以消除这种数值伪影，你将深刻理解为何应力张量的对称性在构建稳定且物理上一致的CFD求解器中至关重要。[@problem_id:3382765]", "problem": "一个常数柯西应力场 $\\boldsymbol{\\sigma}$ 在计算流体动力学（CFD）的数值离散化中可能会出现轻微的非对称性。在没有体力矩的情况下，角动量平衡意味着真实（物理）的柯西应力必须是对称的。计算中采用的一种一致的修正方法是通过操作 $\\boldsymbol{\\sigma}\\leftarrow\\left(\\boldsymbol{\\sigma}+\\boldsymbol{\\sigma}^{T}\\right)/2$ 来对称化应力。从第一性原理出发，推导并实现一个闭合控制体的离散角动量残差，并定量评估应力对称化对此残差的影响。\n\n使用以下基本原理：\n- 连续介质形式的牛顿第二线性动量定律：$\\rho\\,\\dfrac{d\\boldsymbol{v}}{dt}=\\nabla\\cdot\\boldsymbol{\\sigma}+\\boldsymbol{b}$，其中 $\\rho$ 是质量密度，$\\boldsymbol{v}$ 是速度，$\\boldsymbol{b}$ 是单位体积的体力。\n- 在具有单位外法线 $\\boldsymbol{n}$ 的表面上的面力为 $\\boldsymbol{t}=\\boldsymbol{\\sigma}\\cdot\\boldsymbol{n}$。\n- 角动量平衡（无体力矩时）要求柯西应力张量是对称的。\n\n设控制体是一个以原点为中心、边长为 $L$ 的立方体，其各面与坐标轴正交。将由面力产生的净扭矩（离散角动量残差）近似为六个面上的总和：\n$$\n\\boldsymbol{\\tau}_{\\text{disc}}=\\sum_{f\\in\\{\\pm x,\\pm y,\\pm z\\}}\\left(\\boldsymbol{x}_{f}\\times\\left(\\boldsymbol{\\sigma}\\cdot\\boldsymbol{n}_{f}\\right)\\right)A_{f},\n$$\n其中 $\\boldsymbol{x}_{f}$ 是面 $f$ 的形心，$\\boldsymbol{n}_{f}$ 是其单位外法线，而 $A_{f}$ 是其面积。对于以原点为中心的立方体，使用六个面，其形心为 $\\boldsymbol{x}_{\\pm x}=\\left(\\pm L/2,0,0\\right)$、$\\boldsymbol{x}_{\\pm y}=\\left(0,\\pm L/2,0\\right)$、$\\boldsymbol{x}_{\\pm z}=\\left(0,0,\\pm L/2\\right)$，单位外法线为 $\\boldsymbol{n}_{\\pm x}=\\left(\\pm 1,0,0\\right)$、$\\boldsymbol{n}_{\\pm y}=\\left(0,\\pm 1,0\\right)$、$\\boldsymbol{n}_{\\pm z}=\\left(0,0,\\pm 1\\right)$，面积为 $A_{f}=L^{2}$。离散扭矩的大小为 $\\|\\boldsymbol{\\tau}_{\\text{disc}}\\|_{2}$。所有应力单位为帕斯卡（pascals），长度单位为米（meters），扭矩必须以牛顿-米（$\\mathrm{N\\cdot m}$）报告。\n\n将给定的常数应力分解为其对称部分 $\\boldsymbol{S}=\\left(\\boldsymbol{\\sigma}+\\boldsymbol{\\sigma}^{T}\\right)/2$ 和反对称部分 $\\boldsymbol{A}=\\left(\\boldsymbol{\\sigma}-\\boldsymbol{\\sigma}^{T}\\right)/2$。对于任何反对称张量 $\\boldsymbol{A}$，都存在一个轴向量 $\\boldsymbol{a}$，使得 $\\boldsymbol{A}\\cdot\\boldsymbol{n}=\\boldsymbol{a}\\times\\boldsymbol{n}$，其对应的矩阵表示为\n$$\n\\boldsymbol{A}=\\begin{bmatrix}\n0  -a_{z}  a_{y}\\\\\na_{z}  0  -a_{x}\\\\\n-a_{y}  a_{x}  0\n\\end{bmatrix}.\n$$\n\n任务：\n1. 对于下面的每个测试用例，构建常数应力 $\\boldsymbol{\\sigma}=\\boldsymbol{S}+\\boldsymbol{A}$，其中 $\\boldsymbol{A}$ 是通过上述矩阵由给定的轴向量 $\\boldsymbol{a}$ 构建的，$\\boldsymbol{S}$ 是给定的对称矩阵。计算离散扭矩的大小 $\\|\\boldsymbol{\\tau}_{\\text{disc}}(\\boldsymbol{\\sigma})\\|_{2}$。\n2. 通过 $\\boldsymbol{\\sigma}_{\\text{sym}}=\\left(\\boldsymbol{\\sigma}+\\boldsymbol{\\sigma}^{T}\\right)/2$ 对称化应力，并重新计算 $\\|\\boldsymbol{\\tau}_{\\text{disc}}(\\boldsymbol{\\sigma}_{\\text{sym}})\\|_{2}$。\n3. 以浮点数对 $\\left[\\|\\boldsymbol{\\tau}_{\\text{disc}}(\\boldsymbol{\\sigma})\\|_{2},\\|\\boldsymbol{\\tau}_{\\text{disc}}(\\boldsymbol{\\sigma}_{\\text{sym}})\\|_{2}\\right]$ 的形式报告每个测试用例的结果，单位为 $\\mathrm{N\\cdot m}$，并汇总成一个单一的扁平化逗号分隔列表。\n\n测试套件：\n- 案例 $1$ （正常路径，轻微反对称性）：$L=1\\,\\mathrm{m}$，\n$$\n\\boldsymbol{S}=\\begin{bmatrix}\n1.2\\times 10^{5}  2.5\\times 10^{4}  -1.0\\times 10^{4}\\\\\n2.5\\times 10^{4}  0.9\\times 10^{5}  3.0\\times 10^{4}\\\\\n-1.0\\times 10^{4}  3.0\\times 10^{4}  1.5\\times 10^{5}\n\\end{bmatrix}\\,\\mathrm{Pa},\\quad\n\\boldsymbol{a}=\\begin{bmatrix}1.0\\times 10^{2}\\\\-5.0\\times 10^{1}\\\\2.0\\times 10^{2}\\end{bmatrix}\\,\\mathrm{Pa}.\n$$\n- 案例 $2$ （边界：已对称）：$L=1\\,\\mathrm{m}$，\n$$\n\\boldsymbol{S}=\\begin{bmatrix}\n2.0\\times 10^{6}  5.0\\times 10^{5}  -3.0\\times 10^{5}\\\\\n5.0\\times 10^{5}  1.0\\times 10^{6}  0.0\\\\\n-3.0\\times 10^{5}  0.0  1.5\\times 10^{6}\n\\end{bmatrix}\\,\\mathrm{Pa},\\quad\n\\boldsymbol{a}=\\begin{bmatrix}0.0\\\\0.0\\\\0.0\\end{bmatrix}\\,\\mathrm{Pa}.\n$$\n- 案例 $3$ （边缘：纯反对称）：$L=1\\,\\mathrm{m}$，\n$$\n\\boldsymbol{S}=\\boldsymbol{0},\\quad\n\\boldsymbol{a}=\\begin{bmatrix}1.0\\times 10^{3}\\\\0.0\\\\0.0\\end{bmatrix}\\,\\mathrm{Pa}.\n$$\n- 案例 $4$ （边缘：接近舍入误差的反对称性）：$L=1\\,\\mathrm{m}$，\n$$\n\\boldsymbol{S}=\\begin{bmatrix}\n1.2\\times 10^{5}  2.5\\times 10^{4}  -1.0\\times 10^{4}\\\\\n2.5\\times 10^{4}  0.9\\times 10^{5}  3.0\\times 10^{4}\\\\\n-1.0\\times 10^{4}  3.0\\times 10^{4}  1.5\\times 10^{5}\n\\end{bmatrix}\\,\\mathrm{Pa},\\quad\n\\boldsymbol{a}=\\begin{bmatrix}1.0\\times 10^{-6}\\\\-2.0\\times 10^{-6}\\\\3.0\\times 10^{-6}\\end{bmatrix}\\,\\mathrm{Pa}.\n$$\n- 案例 $5$ （随体积缩放）：$L=2\\,\\mathrm{m}$，\n$$\n\\boldsymbol{S}=\\begin{bmatrix}\n3.0\\times 10^{4}  -2.0\\times 10^{4}  5.0\\times 10^{3}\\\\\n-2.0\\times 10^{4}  4.5\\times 10^{4}  -1.0\\times 10^{4}\\\\\n5.0\\times 10^{3}  -1.0\\times 10^{4}  2.5\\times 10^{4}\n\\end{bmatrix}\\,\\mathrm{Pa},\\quad\n\\boldsymbol{a}=\\begin{bmatrix}7.5\\times 10^{1}\\\\1.25\\times 10^{2}\\\\-3.0\\times 10^{1}\\end{bmatrix}\\,\\mathrm{Pa}.\n$$\n- 案例 $6$ （不同尺度）：$L=0.5\\,\\mathrm{m}$，\n$$\n\\boldsymbol{S}=\\begin{bmatrix}\n-1.0\\times 10^{3}  2.0\\times 10^{3}  1.0\\times 10^{3}\\\\\n2.0\\times 10^{3}  3.0\\times 10^{3}  -2.5\\times 10^{3}\\\\\n1.0\\times 10^{3}  -2.5\\times 10^{3}  5.0\\times 10^{2}\n\\end{bmatrix}\\,\\mathrm{Pa},\\quad\n\\boldsymbol{a}=\\begin{bmatrix}1.0\\times 10^{1}\\\\2.0\\times 10^{1}\\\\3.0\\times 10^{1}\\end{bmatrix}\\,\\mathrm{Pa}.\n$$\n\n您的程序应生成单行输出，其中包含一个用方括号括起来的逗号分隔列表形式的结果，按案例1的 $\\left[\\|\\boldsymbol{\\tau}_{\\text{disc}}(\\boldsymbol{\\sigma})\\|_{2},\\|\\boldsymbol{\\tau}_{\\text{disc}}(\\boldsymbol{\\sigma}_{\\text{sym}})\\|_{2}\\right]$，然后是案例2，依此类推的顺序排列，并扁平化为一个列表，例如 $\\left[\\text{case1\\_pre},\\text{case1\\_post},\\text{case2\\_pre},\\text{case2\\_post},\\ldots\\right]$。所有值必须以 $\\mathrm{N\\cdot m}$ 为单位。", "solution": "该问题要求计算一个常数柯西应力场 $\\boldsymbol{\\sigma}$ 在一个以原点为中心、边长为 $L$ 的立方控制体 $V$ 上的离散角动量残差（或扭矩）。需要量化应力张量对称化的效果。\n\n离散扭矩由立方体六个面上的总和给出：\n$$\n\\boldsymbol{\\tau}_{\\text{disc}}=\\sum_{f\\in\\{\\pm x,\\pm y,\\pm z\\}}\\left(\\boldsymbol{x}_{f}\\times\\left(\\boldsymbol{\\sigma}\\cdot\\boldsymbol{n}_{f}\\right)\\right)A_{f}\n$$\n其中 $\\boldsymbol{x}_f$ 是面的形心，$\\boldsymbol{n}_f$ 是其单位外法线， $A_f=L^2$ 是其面积。\n\n应力张量 $\\boldsymbol{\\sigma}$ 可以唯一地分解为其对称部分 $\\boldsymbol{S}$ 和反对称部分 $\\boldsymbol{A}$：\n$$\n\\boldsymbol{\\sigma} = \\boldsymbol{S} + \\boldsymbol{A}\n$$\n其中 $\\boldsymbol{S} = \\frac{1}{2}(\\boldsymbol{\\sigma} + \\boldsymbol{\\sigma}^T)$ 且 $\\boldsymbol{A} = \\frac{1}{2}(\\boldsymbol{\\sigma} - \\boldsymbol{\\sigma}^T)$。\n\n根据叉积和张量-向量积的线性性质，总离散扭矩可以写为对称部分和反对称部分贡献的总和：\n$$\n\\boldsymbol{\\tau}_{\\text{disc}}(\\boldsymbol{\\sigma}) = \\sum_{f} \\left(\\boldsymbol{x}_{f}\\times\\left((\\boldsymbol{S}+\\boldsymbol{A})\\cdot\\boldsymbol{n}_{f}\\right)\\right)A_{f} = \\sum_{f} \\left(\\boldsymbol{x}_{f}\\times\\left(\\boldsymbol{S}\\cdot\\boldsymbol{n}_{f}\\right)\\right)A_{f} + \\sum_{f} \\left(\\boldsymbol{x}_{f}\\times\\left(\\boldsymbol{A}\\cdot\\boldsymbol{n}_{f}\\right)\\right)A_{f}\n$$\n$$\n\\boldsymbol{\\tau}_{\\text{disc}}(\\boldsymbol{\\sigma}) = \\boldsymbol{\\tau}_{\\text{disc}}(\\boldsymbol{S}) + \\boldsymbol{\\tau}_{\\text{disc}}(\\boldsymbol{A})\n$$\n首先，我们分析对称部分 $\\boldsymbol{\\tau}_{\\text{disc}}(\\boldsymbol{S})$ 的扭矩贡献。根据定义，对称化应力张量为 $\\boldsymbol{\\sigma}_{\\text{sym}} = \\boldsymbol{S}$。在索引表示法中，来自 $\\boldsymbol{S}$ 的扭矩的第 $i$ 个分量为：\n$$\n(\\boldsymbol{\\tau}_{\\text{disc}}(\\boldsymbol{S}))_i = \\sum_{f} \\epsilon_{ijk} (\\boldsymbol{x}_f)_j ((\\boldsymbol{S}\\cdot\\boldsymbol{n}_f)_k) A_f = L^2 \\sum_{f} \\epsilon_{ijk} (\\boldsymbol{x}_f)_j S_{kl} (\\boldsymbol{n}_f)_l\n$$\n我们对成对的对面进行求和。对于位于 $x=\\pm L/2$ 的面，我们有 $\\boldsymbol{x}_{\\pm x} = (\\pm L/2, 0, 0)$ 和 $\\boldsymbol{n}_{\\pm x} = (\\pm 1, 0, 0)$。它们的贡献是：\n$$\nL^2 \\left( \\epsilon_{ijk} (L/2)\\delta_{j1} S_{kl} \\delta_{l1} + \\epsilon_{ijk} (-L/2)\\delta_{j1} S_{kl} (-\\delta_{l1}) \\right) = L^2 (L/2) (\\epsilon_{i1k}S_{k1}) + L^2 (L/2) (\\epsilon_{i1k}S_{k1}) = L^3 \\epsilon_{i1k}S_{k1}\n$$\n类似地，来自 $\\pm y$ 和 $\\pm z$ 面的贡献分别为 $L^3 \\epsilon_{i2k}S_{k2}$ 和 $L^3 \\epsilon_{i3k}S_{k3}$。将所有贡献相加：\n$$\n(\\boldsymbol{\\tau}_{\\text{disc}}(\\boldsymbol{S}))_i = L^3 (\\epsilon_{i1k}S_{k1} + \\epsilon_{i2k}S_{k2} + \\epsilon_{i3k}S_{k3}) = L^3 \\sum_{j=1}^3 \\epsilon_{ijk} S_{kj}\n$$\n由于 $\\boldsymbol{S}$ 是对称的，$S_{kj} = S_{jk}$。Levi-Civita 符号 $\\epsilon_{ijk}$ 在交换索引 $j$ 和 $k$ 时是反对称的。一个对称张量与一个反对称张量在这些索引上的缩并为零：\n$$\n\\sum_{j,k} \\epsilon_{ijk} S_{jk} = 0\n$$\n因此，来自应力对称部分的扭矩恒为零：$\\boldsymbol{\\tau}_{\\text{disc}}(\\boldsymbol{S}) = \\boldsymbol{0}$。对称化应力为 $\\boldsymbol{\\sigma}_{\\text{sym}} = \\boldsymbol{S}$，因此对于所有情况，$\\|\\boldsymbol{\\tau}_{\\text{disc}}(\\boldsymbol{\\sigma}_{\\text{sym}})\\|_{2} = 0$。\n\n接下来，我们分析反对称部分 $\\boldsymbol{\\tau}_{\\text{disc}}(\\boldsymbol{A})$ 的扭矩贡献。问题提供了将反对称张量的作用与其轴向量 $\\boldsymbol{a}$ 联系起来的恒等式：$\\boldsymbol{A}\\cdot\\boldsymbol{n} = \\boldsymbol{a}\\times\\boldsymbol{n}$。将此代入 $\\boldsymbol{\\tau}_{\\text{disc}}(\\boldsymbol{A})$ 的公式中：\n$$\n\\boldsymbol{\\tau}_{\\text{disc}}(\\boldsymbol{A}) = L^2 \\sum_{f} \\boldsymbol{x}_{f} \\times (\\boldsymbol{a} \\times \\boldsymbol{n}_{f})\n$$\n使用向量三重积恒等式 $\\boldsymbol{u}\\times(\\boldsymbol{v}\\times\\boldsymbol{w}) = (\\boldsymbol{u}\\cdot\\boldsymbol{w})\\boldsymbol{v} - (\\boldsymbol{u}\\cdot\\boldsymbol{v})\\boldsymbol{w}$：\n$$\n\\boldsymbol{\\tau}_{\\text{disc}}(\\boldsymbol{A}) = L^2 \\sum_{f} [ (\\boldsymbol{x}_f \\cdot \\boldsymbol{n}_f)\\boldsymbol{a} - (\\boldsymbol{x}_f \\cdot \\boldsymbol{a})\\boldsymbol{n}_f ]\n$$\n对于任何一对对面，例如在 $\\pm x$ 处，我们有 $\\boldsymbol{x}_{-x} = -\\boldsymbol{x}_{+x}$ 和 $\\boldsymbol{n}_{-x} = -\\boldsymbol{n}_{+x}$。形心为 $\\boldsymbol{x}_{\\pm x} = (\\pm L/2, 0, 0)$，所以 $\\boldsymbol{x}_{\\pm x} \\cdot \\boldsymbol{n}_{\\pm x} = L/2$。这对面的贡献是：\n$$\nL^2 \\left[ ((L/2)\\boldsymbol{a} - (\\boldsymbol{x}_{+x}\\cdot\\boldsymbol{a})\\boldsymbol{n}_{+x}) + ((L/2)\\boldsymbol{a} - (\\boldsymbol{x}_{-x}\\cdot\\boldsymbol{a})\\boldsymbol{n}_{-x}) \\right]\n$$\n$$\n= L^2 \\left[ L\\boldsymbol{a} - \\left( (L/2)a_x \\boldsymbol{e}_x \\right) - \\left( (-L/2)a_x (-\\boldsymbol{e}_x) \\right) \\right] = L^2 [ L\\boldsymbol{a} - L a_x \\boldsymbol{e}_x ] = L^3 (\\boldsymbol{a} - a_x\\boldsymbol{e}_x)\n$$\n对三对面（对于 $x, y, z$）求和：\n$$\n\\boldsymbol{\\tau}_{\\text{disc}}(\\boldsymbol{A}) = L^3 (\\boldsymbol{a} - a_x\\boldsymbol{e}_x) + L^3 (\\boldsymbol{a} - a_y\\boldsymbol{e}_y) + L^3 (\\boldsymbol{a} - a_z\\boldsymbol{e}_z)\n$$\n$$\n= L^3 [ 3\\boldsymbol{a} - (a_x\\boldsymbol{e}_x + a_y\\boldsymbol{e}_y + a_z\\boldsymbol{e}_z) ] = L^3 [ 3\\boldsymbol{a} - \\boldsymbol{a} ] = 2 L^3 \\boldsymbol{a}\n$$\n这个推导表明，总离散扭矩完全由应力张量的反对称部分决定，并由 $\\boldsymbol{\\tau}_{\\text{disc}}(\\boldsymbol{\\sigma}) = 2L^3 \\boldsymbol{a}$ 给出。立方体的体积是 $V=L^3$，所以 $\\boldsymbol{\\tau}_{\\text{disc}}(\\boldsymbol{\\sigma}) = 2V\\boldsymbol{a}$。这与连续介质力学中对于常数应力场的精确结果相符。\n\n因此，所需的计算简化为：\n$1$。对称化前的扭矩大小为 $\\|\\boldsymbol{\\tau}_{\\text{disc}}(\\boldsymbol{\\sigma})\\|_{2} = \\|2 L^3 \\boldsymbol{a}\\|_{2} = 2 L^3 \\|\\boldsymbol{a}\\|_{2}$。单位为 $(\\mathrm{m^3}) \\cdot (\\mathrm{Pa}) = (\\mathrm{m^3}) \\cdot (\\mathrm{N/m^2}) = \\mathrm{N \\cdot m}$，是正确的。\n$2$。对称化后的扭矩大小为 $\\|\\boldsymbol{\\tau}_{\\text{disc}}(\\boldsymbol{\\sigma}_{\\text{sym}})\\|_{2} = 0$。\n\n实现将把这些推导出的公式应用于每个测试用例。对于一个给定的用例，其参数为 $L$ 和向量 $\\boldsymbol{a} = [a_x, a_y, a_z]^T$，第一个值计算为 $2 \\cdot L^3 \\cdot \\sqrt{a_x^2 + a_y^2 + a_z^2}$，第二个值总是 $0.0$。", "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Calculates the discrete torque magnitude on a cubic control volume\n    before and after stress tensor symmetrization.\n    \"\"\"\n    # Define the test cases from the problem statement.\n    test_cases = [\n        # Case 1 (happy path, slight antisymmetry)\n        {'L': 1.0, 'a': np.array([1.0e2, -5.0e1, 2.0e2])},\n        # Case 2 (boundary: already symmetric)\n        {'L': 1.0, 'a': np.array([0.0, 0.0, 0.0])},\n        # Case 3 (edge: purely antisymmetric)\n        {'L': 1.0, 'a': np.array([1.0e3, 0.0, 0.0])},\n        # Case 4 (edge: near round-off antisymmetry)\n        {'L': 1.0, 'a': np.array([1.0e-6, -2.0e-6, 3.0e-6])},\n        # Case 5 (scaling with volume)\n        {'L': 2.0, 'a': np.array([7.5e1, 1.25e2, -3.0e1])},\n        # Case 6 (different scale)\n        {'L': 0.5, 'a': np.array([1.0e1, 2.0e1, 3.0e1])}\n    ]\n\n    results = []\n    for case in test_cases:\n        L = case['L']\n        a_vec = case['a']\n\n        # Based on the derivation, the discrete torque for a constant stress field sigma\n        # on a cubic control volume of side length L centered at the origin is\n        # tau_disc = 2 * L^3 * a, where 'a' is the axial vector of the\n        # antisymmetric part of sigma. The torque from the symmetric part is zero.\n        \n        # Torque magnitude before symmetrization:\n        # tau_disc(sigma) = tau_disc(S) + tau_disc(A) = 0 + 2 * L^3 * a\n        # ||tau_disc(sigma)||_2 = 2 * L^3 * ||a||_2\n        # The symmetric part S of the stress tensor is irrelevant for this calculation.\n        norm_a = np.linalg.norm(a_vec)\n        torque_mag_pre = 2.0 * (L**3) * norm_a\n        results.append(torque_mag_pre)\n        \n        # Torque magnitude after symmetrization:\n        # sigma_sym = S. The torque from a symmetric tensor is zero.\n        # ||tau_disc(sigma_sym)||_2 = 0\n        torque_mag_post = 0.0\n        results.append(torque_mag_post)\n\n    # Final print statement in the exact required format.\n    print(f\"[{','.join(map(str, results))}]\")\n\nsolve()\n```", "id": "3382765"}]}