{"hands_on_practices": [{"introduction": "理解多项式时间复杂度的第一步是分析一个算法需要执行的基本操作数量。这个练习将通过一个基础但重要的问题——在数据集中查找重复项——来引导你精确计算一个暴力搜索算法的比较次数。通过这个过程，你将亲眼看到算法的运行时间是如何表示为输入大小 $N$ 的一个多项式函数，这是P类问题的核心特征 [@problem_id:1423352]。", "problem": "一个数据完整性程序被设计用来测试数据集中是否存在重复条目。该数据集以一个包含 $N$ 个不同元素的列表形式提供。该程序实现了一个暴力比较算法来确定是否存在任何重复项。\n\n该算法的运行方式如下：\n1. 它选择列表的第一个元素，并将其与后面的每个元素（即第二个、第三个，...，直到第 $N$ 个元素）进行比较。\n2. 然后它选择第二个元素，并将其与后面的每个元素（即第三个、第四个，...，直到第 $N$ 个元素）进行比较。\n3. 这个过程会重复。对于任意给定的第 $i$ 个元素（其中 $i$ 的范围从 1 到 $N-1$），它会与从第 $(i+1)$ 个位置到第 $N$ 个位置的所有元素进行比较。\n4. 最后一次操作是比较第 $(N-1)$ 个元素和第 $N$ 个元素。\n\n该程序在一个包含 $N$ 个元素的列表上将执行的总比较次数究竟是多少？请用一个关于 $N$ 的函数来表示你的答案。", "solution": "设 $C(N)$ 表示所述算法在包含 $N$ 个元素的列表上执行的总比较次数。对于每个索引 $i$（其中 $1 \\leq i \\leq N-1$），第 $i$ 个元素会与位置 $i+1$ 到 $N$ 的每个元素进行比较，在第 $i$ 步产生 $N - i$ 次比较。因此，\n$$\nC(N) = \\sum_{i=1}^{N-1} (N - i).\n$$\n这个和可以通过分离各项来简化：\n$$\nC(N) = \\sum_{i=1}^{N-1} N - \\sum_{i=1}^{N-1} i = N(N-1) - \\frac{(N-1)N}{2}.\n$$\n合并同类项得到\n$$\nC(N) = \\frac{N(N-1)}{2}.\n$$\n等价地，这是从 $\\{1,2,\\ldots,N\\}$ 中选取不同索引的无序对的数量，即 $\\binom{N}{2}$，其计算结果与表达式 $\\frac{N(N-1)}{2}$ 相同。", "answer": "$$\\boxed{\\frac{N(N-1)}{2}}$$", "id": "1423352"}, {"introduction": "许多计算问题，例如解析代码或验证数据格式，都涉及到检查嵌套结构的正确性。这个问题 [@problem_id:1423326] 使用一个关于配对括号的场景，来模拟这类问题的核心逻辑。解决这个问题能让你体会到，如何通过巧妙的算法（通常基于栈的原理）在线性时间 $O(N)$ 内完成看似复杂的有效性检查，这展示了P类问题中高效算法的力量。", "problem": "在理论粒子物理学中，一种称为手性对称描述语言 (CSDL) 的简化表示法被用来表示特定量子场相互作用的拓扑结构。CSDL 中的表达式是一个由三种符号对组成的字符串：圆括号 `()`、方括号 `[]` 和花括号 `{}`。\n\n如果一个表达式满足以下标准，则被认为是“格式良好”的：\n1.  每个开符号（`(`、`[` 或 `{`）都有一个相同类型的对应闭符号（`)`、`]` 或 `}`）。\n2.  符号对被正确嵌套。这意味着对于任意两对符号，其中一对必须完全在另一对的内部，或者它们必须完全分离。例如，`[()]` 是格式良好的，但 `[(])` 不是。\n\n当一个格式良好的表达式被求值时，每个正确匹配的符号对都会“解析”并对表达式的总“对称完整性得分”做出贡献。得分贡献取决于符号类型：\n- 一对解析的 `()` 贡献 2 分。\n- 一对解析的 `[]` 贡献 3 分。\n- 一对解析的 `{}` 贡献 5 分。\n\n一个表达式的总对称完整性得分是其内部所有解析对得分的总和。如果一个表达式不是格式良好的，其结构被认为是不稳定的，其对称完整性得分定义为 0。\n\n计算以下 CSDL 表达式的总对称完整性得分：\n`S = \"{[()([{}])]({[]})}\"`", "solution": "一个格式良好的表达式可以通过将每个闭符号与最近的未匹配的同类型开符号相匹配来验证（栈原理）。从左到右追踪字符串 $S$ 中的匹配，可以得到以下匹配的索引对：\n- 圆括号： $\\{(3,4),(5,10),(12,17)\\}$，因此 $n_{p}=3$。\n- 方括号： $\\{(6,9),(2,11),(14,15)\\}$，因此 $n_{s}=3$。\n- 花括号： $\\{(7,8),(13,16),(1,18)\\}$，因此 $n_{c}=3$。\n由于每个符号都已匹配且正确嵌套，该表达式是格式良好的。总对称完整性得分是所有解析对的得分总和，其中 $()$ 的权重为 $2$，$[]$ 的权重为 $3$，$\\{\\}$ 的权重为 $5$：\n$$T=2n_{p}+3n_{s}+5n_{c}=2\\cdot 3+3\\cdot 3+5\\cdot 3=6+9+15=30.$$", "answer": "$$\\boxed{30}$$", "id": "1423326"}, {"introduction": "有些问题乍一看似乎需要巨大的计算量，比如在策略游戏中探索所有可能的走法。然而，一个深刻的数学见解有时能将问题“降维”，使其变得异常简单。这个关于尼姆游戏 (Nim) 的练习 [@problem_id:1422800] 就是一个绝佳的例子，它将向你展示如何运用位运算（具体来说是异或操作）来快速判断一个游戏状态是必胜还是必败，从而揭示出隐藏在复杂博弈背后的多项式时间解法。", "problem": "在一个策略模拟中，两个自主代理被编程来玩公平博弈——尼姆博弈。该游戏由几堆石子组成。在每个回合中，玩家必须选择一堆石子并从中移除至少一颗石子。移除的石子数量可以是从一颗到整堆石子中的任意数量。从最后一堆石子中取走最后一颗石子的代理赢得游戏。这被称为正常游戏规则。\n\n在尼姆博弈中，“必败态”是指从该状态出发的任何可能走法都会导致对方玩家进入“必胜态”。相反，“必胜态”是指存在至少一种走法可以导致对方进入“必败态”。拥有最优策略的代理在可能的情况下，总是会移动到一个必败态。\n\n考虑一个有四堆石子的游戏状态。各堆石子的大小分别为25、20、12和5。当前轮到一名代理行动。为确保获胜，该代理必须走一步，使另一名代理处于必败态。当前代理有多少种不同的走法可以实现这一目标？\n\nA. 0\n\nB. 1\n\nC. 2\n\nD. 3\n\nE. 4", "solution": "在正常游戏规则下的公平尼姆博弈中，一个局面是必败态当且仅当各堆石子数量的尼姆和（按位异或）为零。一个走法是必胜的，如果它导致一个尼姆和为零的局面。\n\n设各堆石子的大小为 $a_{1}=25$，$a_{2}=20$，$a_{3}=12$，$a_{4}=5$。计算尼姆和\n$$\nS \\equiv a_{1} \\oplus a_{2} \\oplus a_{3} \\oplus a_{4}.\n$$\n使用二进制表示，\n$$\n25=11001,\\quad 20=10100,\\quad 12=01100,\\quad 5=00101,\n$$\n所以\n$$\nS=11001 \\oplus 10100 \\oplus 01100 \\oplus 00101=00100=4.\n$$\n由于 $S \\neq 0$，当前局面是必胜态，而必胜的走法正是将某个 $a_{i}$ 变为\n$$\na_{i}'=a_{i} \\oplus S\n$$\n且满足 $a_{i}'  a_{i}$。我们对每个石堆检查此条件：\n- 对于 $a_1=25$: $a_1' = 25 \\oplus 4 = 29$。由于 $29 \\not 25$，此走法无效。\n- 对于 $a_2=20$: $a_2' = 20 \\oplus 4 = 16$。由于 $16  20$，此走法有效。\n- 对于 $a_3=12$: $a_3' = 12 \\oplus 4 = 8$。由于 $8  12$，此走法有效。\n- 对于 $a_4=5$: $a_4' = 5 \\oplus 4 = 1$。由于 $1  5$，此走法有效。\n总共有3种不同的制胜走法。", "answer": "$$\\boxed{D}$$", "id": "1422800"}]}