{"hands_on_practices": [{"introduction": "要掌握量化布尔公式（QBF），第一步是理解如何确定其真伪。这可以被看作一个双人游戏：对于全称量词（$\\forall$），“对手”选择一个变量值试图证伪公式；而对于存在量词（$\\exists$），我们则选择一个值来努力证实它。这个练习 [@problem_id:1440116] 提供了一个基础的QBF，让你亲身体验这个“博弈”过程，从而掌握评估QBF的核心方法。", "problem": "在计算复杂性理论中，量化布尔公式 (Quantified Boolean Formula, QBF) 是一种经典命题逻辑的公式，它通过对布尔变量进行量化而得到扩展。QBF 的真值是通过对量词求值来确定的，量词将变量绑定到真 (TRUE) 或假 (FALSE) 值。全称量词 $\\forall x$ 表示后续公式对于 $x$ 的所有可能取值都必须为真，而存在量词 $\\exists x$ 表示后续公式对于 $x$ 的至少一个可能取值必须为真。\n\n设逻辑运算符表示为 $\\land$ (与)、$\\lor$ (或) 和 $\\neg$ (非)。为了提供一个数值答案，设真值 TRUE 由整数 $1$ 表示，真值 FALSE 由整数 $0$ 表示。\n\n确定以下量化布尔公式的真值所对应的整数值：\n$$ \\forall a \\exists b ((a \\land b) \\lor (\\neg a \\land \\neg b)) $$", "solution": "我们首先化简量词内部的公式。根据双条件句的定义，命题等价式\n$$\n(a \\land b) \\lor (\\neg a \\land \\neg b) \\equiv a \\leftrightarrow b\n$$\n成立。因此，给定的 QBF 等价于\n$$\n\\forall a \\ \\exists b \\ (a \\leftrightarrow b).\n$$\n为了对此求值，我们固定 $a$ 的一个任意值。我们通过选择\n$$\nb := a.\n$$\n来为存在量词提供一个见证。将 $b=a$ 代入内部公式，得到\n$$\n(a \\land a) \\lor (\\neg a \\land \\neg a).\n$$\n根据幂等律，$a \\land a = a$ 且 $\\neg a \\land \\neg a = \\neg a$，所以该表达式化简为\n$$\na \\lor \\neg a,\n$$\n根据排中律，这是一个永真式，因此对任意 $a$ 其值都为真 (TRUE)。因此，对于每一个 $a$，都存在一个 $b$ (具体来说是 $b=a$) 使得内部公式为真。所以，这个全称量化语句为真。\n\n根据题目的约定，真 (TRUE) 对应于整数 $1$。", "answer": "$$\\boxed{1}$$", "id": "1440116"}, {"introduction": "在处理逻辑公式时，我们不仅需要评估它们，还需要能够将它们转换为等价但形式不同的样子，这在证明和标准化中至关重要。这个练习 [@problem_id:1440133] 将引导你应用量词的德摩根定律，将否定符号（$\\neg$）“推入”公式内部。掌握这项技能是进行更复杂QBF操作（如转换为前束范式）的基础。", "problem": "在计算复杂性理论的研究中，量化布尔公式 (QBF) 是在经典命题逻辑的基础上，增加了对布尔变量的量词的一种公式。考虑以下 QBF，其中 $x$ 和 $y$ 是布尔变量：\n$$ F = \\neg(\\exists x \\forall y (x \\lor \\neg y)) $$\n你的任务是找到一个等价的公式，其中否定算子 $\\neg$ 只直接作用于变量。这种转换通常被称为将否定向内推。下列哪个公式在逻辑上与 $F$ 等价？\n\nA. $\\exists x \\forall y (\\neg x \\land y)$\n\nB. $\\forall x \\exists y (\\neg x \\lor y)$\n\nC. $\\forall x \\exists y (\\neg x \\land y)$\n\nD. $\\exists x \\forall y (\\neg x \\lor y)$\n\nE. $\\forall x \\exists y (x \\land \\neg y)$", "solution": "题目要求我们为公式 $F = \\neg(\\exists x \\forall y (x \\lor \\neg y))$ 找到一个逻辑等价的公式，方法是将否定算子 $(\\neg)$ 向内移动，直到它只作用于变量。这个过程涉及到量词和命题的德摩根定律。\n\n原始公式为：\n$$ F = \\neg(\\exists x \\forall y (x \\lor \\neg y)) $$\n\n首先，我们处理最外层的否定和存在量词 $\\exists x$。量词的德摩根定律指出 $\\neg (\\exists z \\phi) \\equiv \\forall z (\\neg \\phi)$。应用此规则，我们将否定推过量词 $\\exists x$，这会将其翻转为全称量词 $\\forall x$：\n$$ F \\equiv \\forall x (\\neg(\\forall y (x \\lor \\neg y))) $$\n\n接下来，我们处理现在位于全称量词 $\\forall x$ 作用域内的否定。我们需要将这个否定推过全称量词 $\\forall y$。相应的量词德摩根定律是 $\\neg (\\forall z \\phi) \\equiv \\exists z (\\neg \\phi)$。应用此规则，我们将否定推过量词 $\\forall y$，这会将其翻转为存在量词 $\\exists y$：\n$$ F \\equiv \\forall x \\exists y (\\neg(x \\lor \\neg y)) $$\n\n现在，否定作用于公式的命题部分 $(x \\lor \\neg y)$。为了将否定进一步向内推，我们使用命题的德摩根定律，即 $\\neg(P \\lor Q) \\equiv \\neg P \\land \\neg Q$。在我们的例子中，$P=x$ 且 $Q=\\neg y$。应用此规则，我们得到：\n$$ F \\equiv \\forall x \\exists y (\\neg x \\land \\neg(\\neg y)) $$\n\n最后，我们使用双重否定律来简化双重否定 $\\neg(\\neg y)$，该定律指出 $\\neg(\\neg P) \\equiv P$。将此规则应用于 $\\neg(\\neg y)$ 得到 $y$：\n$$ F \\equiv \\forall x \\exists y (\\neg x \\land y) $$\n\n这是最终简化后的公式，其中否定算子只作用于变量 $x$。现在我们将这个结果与给定的选项进行比较。公式 $\\forall x \\exists y (\\neg x \\land y)$ 与选项 C 匹配。", "answer": "$$\\boxed{C}$$", "id": "1440133"}, {"introduction": "量化布尔公式的真正威力在于其作为一种强大的建模语言。通过巧妙地组合量词和逻辑联结词，我们可以精确描述复杂的计算问题。这个练习 [@problem_id:1464839] 挑战你构建一个QBF来表达“一个布尔公式恰好只有一个满足解”这一属性，这让你从简单的公式计算跃升到用QBF来编码和推理问题，是理解QBF在计算复杂性理论中核心地位的关键一步。", "problem": "在计算复杂性理论中，量化布尔公式 (Quantified Boolean Formula, QBF) 是一种在经典命题逻辑基础上扩展了对布尔变量的量词（$\\forall$ 表示“对所有”和 $\\exists$ 表示“存在”）的公式。真量化布尔公式 (True Quantified Boolean Formula, TQBF) 是指没有自由变量且其值或为真或为假的 QBF。\n\n考虑一个依赖于两个布尔变量 $x_1$ 和 $x_2$ 的命题公式 $\\phi(x_1, x_2)$。你的任务是选择一个 TQBF，它为当且仅当 $\\phi(x_1, x_2)$ 恰好有一个满足赋值时为真。\n\n为了使以下选项更清晰，我们引入一个表示两个赋值相等的简写表示法。令表达式 $((x_1, x_2) = (y_1, y_2))$ 等价于布尔公式 $((x_1 \\iff y_1) \\land (x_2 \\iff y_2))$。\n\n下列哪个 TQBF 正确地表达了 $\\phi(x_1, x_2)$ 恰好有一个满足赋值的性质？\n\nA. $\\exists x_1 \\exists x_2 \\left( \\phi(x_1, x_2) \\land \\forall y_1 \\forall y_2 \\left( \\phi(y_1, y_2) \\implies ((x_1, x_2) = (y_1, y_2)) \\right) \\right)$\n\nB. $\\exists x_1 \\exists x_2 \\left( \\phi(x_1, x_2) \\land \\forall y_1 \\forall y_2 \\left( ((x_1, x_2) = (y_1, y_2)) \\implies \\phi(y_1, y_2) \\right) \\right)$\n\nC. $\\exists x_1 \\exists x_2 \\exists y_1 \\exists y_2 \\left( \\phi(x_1,x_2) \\land \\phi(y_1,y_2) \\land \\neg((x_1,x_2)=(y_1,y_2)) \\right)$\n\nD. $\\forall x_1 \\forall x_2 \\forall y_1 \\forall y_2 \\left( (\\phi(x_1,x_2) \\land \\phi(y_1,y_2)) \\implies ((x_1,x_2)=(y_1,y_2)) \\right)$", "solution": "我们想要一个 TQBF，它为当且仅当存在唯一一个赋值 $(x_{1},x_{2}) \\in \\{0,1\\}^{2}$ 使得 $\\phi(x_{1},x_{2})$ 为真时，该 TQBF 为真。“恰好有一个满足赋值”的逻辑描述是存在性与唯一性的合取：\n1) 存在性：$\\exists x_{1}\\exists x_{2}\\,\\phi(x_{1},x_{2})$。\n2) 唯一性：对于特定的见证 $(x_{1},x_{2})$，有 $\\forall y_{1}\\forall y_{2}\\,(\\phi(y_{1},y_{2}) \\implies ((x_{1},x_{2})=(y_{1},y_{2})))$。\n\n将这两者合并成一个公式得到：\n$$\n\\exists x_{1}\\exists x_{2}\\left(\\phi(x_{1},x_{2}) \\land \\forall y_{1}\\forall y_{2}\\left(\\phi(y_{1},y_{2}) \\implies ((x_{1},x_{2})=(y_{1},y_{2}))\\right)\\right),\n$$\n这与选项 A 相符。\n\n现在精确地验证每个选项：\n\n- 选项 A 陈述：\n$$\n\\exists x_{1}\\exists x_{2}\\left(\\phi(x_{1},x_{2}) \\land \\forall y_{1}\\forall y_{2}\\left(\\phi(y_{1},y_{2}) \\implies ((x_{1},x_{2})=(y_{1},y_{2}))\\right)\\right).\n$$\n它断言存在一个满足赋值 $(x_{1},x_{2})$，并且任何满足赋值 $(y_{1},y_{2})$ 都必须与它相等。这正是“恰好有一个满足赋值”的定义。\n\n- 选项 B 陈述：\n$$\n\\exists x_{1}\\exists x_{2}\\left(\\phi(x_{1},x_{2}) \\land \\forall y_{1}\\forall y_{2}\\left(((x_{1},x_{2})=(y_{1},y_{2})) \\implies \\phi(y_{1},y_{2})\\right)\\right).\n$$\n对于任何固定的、使得 $\\phi(x_{1},x_{2})$ 为真的 $(x_{1},x_{2})$，蕴含式 $((x_{1},x_{2})=(y_{1},y_{2})) \\implies \\phi(y_{1},y_{2})$ 对所有 $(y_{1},y_{2})$ 都成立：如果 $(y_{1},y_{2})=(x_{1},x_{2})$，那么由于 $\\phi(x_{1},x_{2})$ 为真，$\\phi(y_{1},y_{2})$ 也为真；如果 $(y_{1},y_{2})\\neq(x_{1},x_{2})$，则前件为假，蕴含式为真。因此，在 $\\phi(x_{1},x_{2})$ 为真的前提下，这个全称条件总是被满足的，整个公式等价于 $\\exists x_{1}\\exists x_{2}\\,\\phi(x_{1},x_{2})$，它表达的是“至少有一个满足赋值”，而不是唯一性。\n\n- 选项 C 陈述：\n$$\n\\exists x_{1}\\exists x_{2}\\exists y_{1}\\exists y_{2}\\left(\\phi(x_{1},x_{2}) \\land \\phi(y_{1},y_{2}) \\land \\neg((x_{1},x_{2})=(y_{1},y_{2}))\\right),\n$$\n它断言存在两个不同的满足赋值。这表达的是“至少有两个”，与唯一性相反。\n\n- 选项 D 陈述：\n$$\n\\forall x_{1}\\forall x_{2}\\forall y_{1}\\forall y_{2}\\left((\\phi(x_{1},x_{2}) \\land \\phi(y_{1},y_{2})) \\implies ((x_{1},x_{2})=(y_{1},y_{2}))\\right),\n$$\n它断言不存在两个不同的满足赋值。这表达的是“至多有一个满足赋值”，但并不保证存在性。因此它允许零个满足赋值，而不是恰好一个。\n\n因此，只有选项 A 正确地表达了 $\\phi(x_{1},x_{2})$ 恰好有一个满足赋值。", "answer": "$$\\boxed{A}$$", "id": "1464839"}]}