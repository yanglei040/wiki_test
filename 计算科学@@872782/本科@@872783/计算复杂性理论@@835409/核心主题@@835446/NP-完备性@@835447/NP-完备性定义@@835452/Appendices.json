{"hands_on_practices": [{"introduction": "要证明一个问题是NP完备的，你需要满足两个关键条件。这个练习 [@problem_id:1419755] 提供了一个理想的场景，让你直接应用NP完备性的定义，检验你是否掌握了这两个核心要素：问题本身属于NP，并且一个已知的NP完备问题可以多项式时间归约到它。", "problem": "计算机科学专业的学生 Alex 正在研究一个名为 `GRAPH-COLOR-VARIANT` (GCV) 的新判定问题。经过数周的研究，Alex 成功地确定了 GCV 的两个关键性质：\n\n1.  GCV 属于复杂度类 NP (非确定性多项式时间)。这一点是通过证明 GCV 的任何“是”实例的提议解都有一个证书，该证书可以由一个确定性算法在多项式时间内验证其正确性来证明的。\n2.  Alex 还证明了著名的 NP-完全问题 `3-SATISFIABILITY` (3-SAT) 可以多项式时间归约到 GCV。这意味着存在一个多项式时间算法，可以将任何 3-SAT 实例转换为 GCV 实例，当且仅当相应的 GCV 实例是“是”实例时，该 3-SAT 实例是可满足的。\n\n基于这两个已确立的事实，关于 `GRAPH-COLOR-VARIANT` 问题的计算复杂性，Alex 能得出的最强正确结论是什么？\n\nA. GCV 属于复杂度类 P。\n\nB. GCV 是 NP-难的，但不一定是 NP-完全的。\n\nC. GCV 是 NP-完全的。\n\nD. GCV 是可解的，但根据所提供的信息，无法确定其在 P、NP-难或 NP-完全中的具体复杂度类。\n\nE. GCV 可在指数时间内求解，但关于其与 P 和 NP 的关系，无法得出更具体的结论。", "solution": "我们已知两个事实：\n1) GCV 属于 NP。形式上，GCV 对“是”实例的证书有一个多项式时间的验证算法，因此 $\\mathrm{GCV} \\in \\mathrm{NP}$。\n2) 存在一个从 3-SAT 到 GCV 的多项式时间多一归约。形式上，$\\text{3-SAT} \\leq_{p} \\mathrm{GCV}$，并且该归约保留了是/否的答案。\n\n根据定义，如果对于每个语言 $L \\in \\mathrm{NP}$，都有 $L \\leq_{p} A$，则语言 $A$ 是 NP-难的。要证明 $A$ 是 NP-难的，只需证明某个 NP-完全问题在多项式时间内归约到 $A$ 即可。由于 3-SAT 是 NP-完全的，我们有：\n- 对于每个 $L \\in \\mathrm{NP}$，都有 $L \\leq_{p} \\text{3-SAT}$（根据 3-SAT 的 NP-完全性）。\n- 已知 $\\text{3-SAT} \\leq_{p} \\mathrm{GCV}$，根据多项式时间多一归约的传递性，对于每个 $L \\in \\mathrm{NP}$，我们有 $L \\leq_{p} \\mathrm{GCV}$。\n因此，GCV 是 NP-难的。\n\n将 NP-难性与已知的 $\\mathrm{GCV} \\in \\mathrm{NP}$ 相结合，根据定义，GCV 是 NP-完全的。\n\n因此，最强的正确结论是 GCV 是 NP-完全的，这对应于选项 C。", "answer": "$$\\boxed{C}$$", "id": "1419755"}, {"introduction": "在证明NP困难性时，一个最常见的错误是弄反归约的方向。这个练习 [@problem_id:1419806] 旨在阐明这个关键的逻辑陷阱：为什么将你的新问题归约到一个已知的NP完备问题（如3-SAT）并不能证明你的问题是NP困难的。理解这一点对于构建正确的复杂性证明至关重要。", "problem": "一位修读计算复杂性理论课程的学生试图证明一个她称之为 $L$ 的新判定问题是 NP难的。她知道 3-合取范式公式的布尔可满足性问题 (3-SAT) 是一个著名的 NP完全问题。\n\n她提出的证明策略如下：\n1.  取问题 $L$ 的一个任意实例 $i_L$。\n2.  构建一个算法，其运行时间相对于 $i_L$ 的大小是多项式时间的。\n3.  该算法将实例 $i_L$ 转换为一个 3-SAT 的实例，我们称之为 $i_{3SAT}$。\n4.  该转换的设计使得 $i_L$ 是 $L$ 的一个“是”实例，当且仅当 $i_{3SAT}$ 是一个可满足的公式（一个 3-SAT 的“是”实例）。\n\n她声称，既然她能将自己的问题在多项式时间内转换为一个已知的 NP完全问题，那么她的问题 $L$ 必定至少一样难，因此是 NP难的。\n\n下列哪个陈述正确地指出了她证明 $L$ 是 NP难的推理中的基本逻辑缺陷？\n\nA. 她的策略不完整。为了证明 NP难度，归约必须是可逆的，这意味着她还必须展示一个从 3-SAT 到她的问题 $L$ 的多项式时间归约。\n\nB. 这个归约是无效的，因为 3-SAT 属于 NP 类（非确定性多项式时间）。一个问题不能通过将其归约到一个已知属于 NP 的问题来证明其 NP难度。\n\nC. 归约的方向是错误的。为了证明 $L$ 是 NP难的，她必须证明一个已知的 NP难问题（如 3-SAT）可以在多项式时间内归约*到*她的问题 $L$，而不是反过来。\n\nD. 这种方法只有在能够将得到的 3-SAT 实例的一个满足赋值在多项式时间内转换回原始 $L$ 实例的一个有效解时才有效。她的证明没有提到这一步。\n\nE. 对于一个新问题，任何到 3-SAT 的归约都是不充分的。要从第一性原理确立 NP难度，必须证明一个问题对于 NP 中的*所有*问题都是难的，这需要从一个更一般的问题（如非确定性图灵机的接受问题）进行归约。", "solution": "将从语言 $A$ 到语言 $B$ 的多项式时间多一归约定义为一个函数 $f$，该函数可在关于 $|x|$ 的多项式时间内计算，使得对于所有输入 $x$，\n$$x \\in A \\iff f(x) \\in B.$$\n我们用 $A \\leq_{p} B$ 来表示。直观上，$A \\leq_{p} B$ 意味着在多项式时间可解性方面，$A$ 不比 $B$ 更难，因为一个用于 $B$ 的多项式时间判定过程，通过计算 $f(x)$ 并运行该过程，可以得出一个用于 $A$ 的多项式时间判定过程。\n\n如果对于每个语言 $X \\in \\mathrm{NP}$ 都有\n$$X \\leq_{p} L,$$\n那么语言 $L$ 就是 NP难的。在实践中，要证明 $L$ 是 NP难的，只需对某个已知的 NP难语言 $H$（例如 $3\\text{-SAT}$）证明 $H \\leq_{p} L$ 即可，因为 NP难度在 $\\leq_{p}$ 关系下是向上封闭的。\n\n该学生的构建产生了一个归约\n$$L \\leq_{p} 3\\text{-SAT},$$\n即，她从一个实例 $i_{L}$ 出发，在多项式时间内计算出一个实例 $i_{3SAT}$，该实例具有性质\n$$i_{L} \\in L \\iff i_{3SAT} \\in 3\\text{-SAT}.$$\n这只表明 $L$ 不比 $3\\text{-SAT}$ 更难。特别是，如果 $3\\text{-SAT} \\in \\mathrm{P}$，那么通过与该归约的复合，$L$ 也将属于 $\\mathrm{P}$；这并不意味着 $L$ 是 NP难的。为了证明 $L$ 的 NP难度，所需的方向是\n$$3\\text{-SAT} \\leq_{p} L,$$\n这样，一个用于 $L$ 的多项式时间算法将会产生一个用于 $3\\text{-SAT}$ 的算法。\n\n现在评估各个选项：\n- A 是不正确的：不需要可逆性；只需要一个从已知 NP难问题到 $L$ 的单一归约。\n- B 是不正确的：没有禁止使用 $\\mathrm{NP}$ 中的问题；问题在于归约的方向，而不是是否属于 $\\mathrm{NP}$。\n- C 是正确的：归约方向颠倒了；她必须证明 $3\\text{-SAT} \\leq_{p} L$。\n- D 对于 Karp（多一）归约是不正确的；只需要实例映射并保持“是”/“否”的判定结果，而不需要解的映射。\n- E 是不正确的：将一个已知的 NP难问题（如 $3\\text{-SAT}$）归约到 $L$ 是足够的。\n\n因此，基本缺陷在于归约方向错误，如选项 C 所述。", "answer": "$$\\boxed{C}$$", "id": "1419806"}, {"introduction": "理论知识最终需要通过实践来巩固。这个练习 [@problem_id:1419768] 将我们从抽象的逻辑带入一个具体的归约构造过程：将顶点覆盖问题（VERTEX-COVER）归约到集合覆盖问题（SET-COVER）。通过分析这个经典归约的转换机制，你将对“归约”这一概念获得更深入、更具体的理解。", "problem": "在计算复杂性理论领域，问题之间通常通过多项式时间归约相互关联。这种归约将一个问题的实例转换为另一个问题的等价实例，从而证明第二个问题至少与第一个问题一样难。\n\n考虑以下两个著名的 NP 完全决策问题：\n\n1.  **顶点覆盖 (VERTEX-COVER, VC):** 给定一个无向图 $G=(V, E)$ 和一个正整数 $k$，是否存在一个顶点子集 $V' \\subseteq V$，使得 $|V'| \\le k$ 且对于每条边 $(u, v) \\in E$，$u$ 或 $v$ 中至少有一个在 $V'$ 中？\n2.  **集合覆盖 (SET-COVER, SC):** 给定一个有限的全集 $U$，一个由 $U$ 的子集构成的集合族 $\\mathcal{S}$，以及一个正整数 $k'$，是否存在一个子集合族 $\\mathcal{S}' \\subseteq \\mathcal{S}$，使得 $|\\mathcal{S}'| \\le k'$ 且 $\\mathcal{S}'$ 中集合的并集等于 $U$？\n\n一位软件工程师正在开发一个实用函数，该函数实现了从 VERTEX-COVER 到 SET-COVER 的标准多项式时间归约。该函数接收一个 VERTEX-COVER 问题的实例，该实例由一个图 $G$（其顶点集为 $V$，边集为 $E$）和一个整数 $k$ 指定。然后，它输出一个等价的 SET-COVER 问题的实例，该实例由一个全集 $U$、一个子集集合族 $\\mathcal{S}$ 和一个整数 $k'$ 指定。\n\n假设输入的 VERTEX-COVER 实例由一个包含 $n$ 个顶点和 $m$ 条边的图 $G$ 描述。为了评估生成输出的复杂性，该工程师想要计算集合族 $\\mathcal{S}$ 中所有单个子集的基数之和。这个总和用 $n$ 和/或 $m$ 的解析表达式表示是什么？", "solution": "我们回顾一下从 VERTEX-COVER 到 SET-COVER 的标准多项式时间归约：\n- 给定一个无向图 $G=(V,E)$（其中 $|V|=n$ 且 $|E|=m$）和一个整数 $k$，按如下方式构造一个 SET-COVER 实例，其全集为 $U$，集合族为 $\\mathcal{S}$。\n- 令全集为 $U=E$。\n- 对于每个顶点 $v \\in V$，创建一个子集 $S_{v} \\subseteq U$，定义为 $S_{v}=\\{e \\in E : e \\text{ 与 } v \\text{ 相关联}\\}$。\n- 设置 $k'=k$。\n\n在此构造中，集合族 $\\mathcal{S}$ 由 $n$ 个子集 $\\{S_{v} : v \\in V\\}$ 组成。每个子集的基数是 $G$ 中对应顶点的度，即 $|S_{v}|=\\deg_{G}(v)$。\n\n因此，$\\mathcal{S}$ 中所有子集的基数总和为\n$$\n\\sum_{v \\in V} |S_{v}|=\\sum_{v \\in V} \\deg_{G}(v).\n$$\n根据无向图的握手引理，我们有\n$$\n\\sum_{v \\in V} \\deg_{G}(v)=2|E|.\n$$\n由于 $|E|=m$，总和为\n$$\n2m.\n$$\n因此，构造的 $\\mathcal{S}$ 中所有子集的基数之和等于 $2m$。", "answer": "$$\\boxed{2m}$$", "id": "1419768"}]}