{"hands_on_practices": [{"introduction": "在深入研究解决分区问题的复杂算法之前，我们先从一个基本但至关重要的第一步开始。这个练习旨在培养一种计算思维，即在投入大量计算资源之前，先进行快速的有效性检查。通过检验一个简单的必要条件，我们有时可以立即证明某个问题实例无解，从而节省宝贵的时间和算力 [@problem_id:1460698]。", "problem": "划分问题（PARTITION problem）是计算机科学中的一个经典问题，它询问一个给定的正整数多重集是否可以被划分为两个不相交的子集，例如 $S_1$ 和 $S_2$，使得 $S_1$ 中数字的总和等于 $S_2$ 中数字的总和。虽然找到这样的划分可能是一个计算上很困难的任务，但有一个非常简单快速的初步检查，有时可以立即证明不存在这样的划分。\n\n考虑以下五个整数多重集：\nA. $S_A = \\{1, 5, 11, 5\\}$\n\nB. $S_B = \\{2, 4, 6, 8, 10\\}$\n\nC. $S_C = \\{7, 13, 2, 4, 9\\}$\n\nD. $S_D = \\{3, 4, 5, 6\\}$\n\nE. $S_E = \\{1, 1, 1, 1, 1, 1, 1, 1\\}$\n\n通过仅应用这个最基本、最初步的检查，可以确定这些多重集中哪一个没有分区问题的解？", "solution": "分区问题的基本初步检查是：如果一个多重集可以被划分为两个总和相等的子集，那么其总和必须是偶数。形式上，如果总和为 $T$ 且两个子集的总和相等，那么 $T = \\sum S_{1} + \\sum S_{2}$ 且 $\\sum S_{1} = \\sum S_{2}$ 意味着 $T = 2\\sum S_{1}$，这是一个偶数。因此，如果 $T$ 是奇数，则不存在这样的划分。\n\n计算总和：\n$$\\sum S_{A} = 1 + 5 + 11 + 5 = 22 \\text{（偶数）}$$\n$$\\sum S_{B} = 2 + 4 + 6 + 8 + 10 = 30 \\text{（偶数）}$$\n$$\\sum S_{C} = 7 + 13 + 2 + 4 + 9 = 35 \\text{（奇数）}$$\n$$\\sum S_{D} = 3 + 4 + 5 + 6 = 18 \\text{（偶数）}$$\n$$\\sum S_{E} = 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 = 8 \\text{（偶数）}$$\n\n只有 $S_{C}$ 的总和是奇数，因此通过这个初步检查，它不可能被划分为两个总和相等的子集。", "answer": "$$\\boxed{C}$$", "id": "1460698"}, {"introduction": "通过了初始的可行性检查后，我们的下一个任务是尝试找到一个实际的划分。这个问题将引导你完成这个过程的核心步骤：计算目标和，并在给定的集合中寻找一个子集来匹配它。这个练习不仅是一个直接的应用，也暗示了解决这类问题的暴力搜索方法，比如位掩码技术，这对于理解问题的计算复杂度至关重要 [@problem_id:1460707]。", "problem": "划分问题（PARTITION problem）是计算机科学中的一个经典问题，它询问一个给定的正整数多重集是否可以被分割成两个子集 $A$ 和 $B$，使得 $A$ 中数字的和等于 $B$ 中数字的和。这样的分割被称为“等和分割”。这个问题出现在各种现实世界的场景中，例如，将一组具有不同运行时间的计算任务优化分配给两个相同的处理器，以确保两者同时完成工作。\n\n考虑由任务运行时间（单位为分钟）给出的多重集 $M = \\{1, 5, 5, 8, 11, 12\\}$。划分问题的一个“是实例”（yes-instance）指的是存在等和分割的实例。\n\n如果给定的多重集 $M$ 是一个“是实例”，那么以下哪个子集可以是分割中的两个子集之一？\n\nA. $\\{1, 8, 12\\}$\n\nB. $\\{1, 5, 5, 8\\}$\n\nC. $\\{12, 11\\}$\n\nD. $\\{5, 8, 11\\}$\n\nE. $\\{1, 5, 12\\}$", "solution": "问题要求我们判断多重集 $M = \\{1, 5, 5, 8, 11, 12\\}$ 是否可以被分割成两个和相等的子集，如果可以，从给定选项中找出一个这样的子集。\n\n首先，让我们确定存在等和分割的条件。如果多重集 $M$ 可以被分割成两个和相等的子集 $A$ 和 $B$，设这个和为 $S_{sub}$。那么，$M$ 中所有元素的总和，我们称之为 $S_{total}$，必须等于 $A$ 中元素的和加上 $B$ 中元素的和。即，$S_{total} = S_{sub} + S_{sub} = 2S_{sub}$。这意味着，要存在一个完美的分割，多重集中所有元素的总和必须是一个偶数。每个子集的目标和则为 $S_{sub} = S_{total} / 2$。\n\n让我们计算 $M$ 中元素的总和：\n$$S_{total} = 1 + 5 + 5 + 8 + 11 + 12 = 42$$\n\n总和是42，是一个偶数。因此，可能存在等和分割。如果存在，那么两个子集中的元素之和都必须等于目标值：\n$$S_{sub} = \\frac{S_{total}}{2} = \\frac{42}{2} = 21$$\n\n因此，问题现在简化为寻找是否存在一个 $M$ 的子集，其元素之和为21。对于像这样的小型多重集，可以通过穷举搜索来找到这样的子集。\n\n然而，因为这是一个选择题，一个更直接的方法是检查每个提供选项的和，看它是否等于我们的目标和21。\n\n让我们评估每个选项：\n\nA. 对于子集 $\\{1, 8, 12\\}$：\n和为 $1 + 8 + 12 = 21$。\n这个和与我们的目标和 $S_{sub}$ 相匹配。为确认这是一个有效的分割，我们可以检查剩余元素的和。剩余元素构成另一个子集，即 $\\{5, 5, 11\\}$。这些元素的和是 $5 + 5 + 11 = 21$。由于两个子集的和都是21，这确实是一个有效的等和分割。\n\nB. 对于子集 $\\{1, 5, 5, 8\\}$：\n和为 $1 + 5 + 5 + 8 = 19$。\n这与目标和21不符。\n\nC. 对于子集 $\\{12, 11\\}$：\n和为 $12 + 11 = 23$。\n这与目标和21不符。\n\nD. 对于子集 $\\{5, 8, 11\\}$：\n和为 $5 + 8 + 11 = 24$。\n这与目标和21不符。\n\nE. 对于子集 $\\{1, 5, 12\\}$：\n和为 $1 + 5 + 12 = 18$。\n这与目标和21不符。\n\n只有选项A提供了一个元素和为21的子集。因此，多重集 $M$ 是划分问题的一个“是实例”，且 $\\{1, 8, 12\\}$ 是该等和分割中的一个子集。", "answer": "$$\\boxed{A}$$", "id": "1460707"}, {"introduction": "划分问题是 NP-难的，这意味着对于大型实例，找到精确解可能非常耗时。因此，在实践中我们常常依赖于启发式算法，它们能快速提供一个近似解。这个练习探讨了一种常见且直观的“最大优先”贪心策略，并揭示了它的一个关键弱点：它并不总是能找到存在的完美划分。通过这个例子 [@problem_id:1460724]，我们可以更深刻地理解为什么划分问题是“困难”的，以及为什么算法的正确性保证是如此重要。", "problem": "计算机科学中的划分问题 (PARTITION problem) 旨在判断一个给定的正整数多重集 $S$ 是否可以被划分成两个子集 $S_1$ 和 $S_2$，使得 $S_1$ 中数字的总和等于 $S_2$ 中数字的总和。这样的划分被称为“完美划分”。划分问题是 NP难 的，这意味着没有已知的算法可以对所有输入都有效地解决它。\n\n解决该问题的一个常用方法是被称为“最大数优先法”的贪心启发式算法。该启发式算法的工作方式如下：首先，将集合 $S$ 中的数字按降序排序。然后，遍历排序后的数字，将每个数字放入当前总和较小的子集中。如果两个子集的总和相等，则可以将该数字放入任意一个子集中。\n\n虽然这种启发式算法很简单，但即使存在完美划分，它也并不总能找到。你的任务是确定下列哪个整数集是这种失败的一个例子，即，一个存在完美划分，但最大数优先贪心启发式算法未能找到它的集合。\n\nA. $S = \\{7, 6, 5, 4\\}$\n\nB. $S = \\{8, 7, 6, 5, 4\\}$\n\nC. $S = \\{10, 7, 6, 4, 2\\}$\n\nD. $S = \\{10, 9, 8, 7, 6, 5, 1\\}$", "solution": "最大数优先贪心启发式算法将下一个最大的元素放入当前总和较小的子集中；如果总和相等，则可以将元素放入任一子集。一个失败的例子必须满足两个条件：存在一个完美划分（总和为偶数，且该多重集可以被分成两个总和相等的子集），并且贪心启发式算法结束时两个子集的总和不相等。\n\n分析选项 A：$S=\\{7,6,5,4\\}$。总和为 $7+6+5+4=22$，所以每个子集的总和必须为 $11$。存在一个完美划分：$\\{7,4\\}$ 和 $\\{6,5\\}$ 的总和均为 $11$。对排序后的序列 $7,6,5,4$ 模拟贪心算法：\n- 开始时 $S_{1}$ 和 $S_{2}$ 的总和都为 $0$。将 $7$ 放入 $S_{1}$（平局），总和变为 $7$ 和 $0$。\n- 将 $6$ 放入 $S_{2}$（因为 $67$），总和变为 $7$ 和 $6$。\n- 将 $5$ 放入 $S_{2}$（因为 $67$），总和变为 $7$ 和 $11$。\n- 将 $4$ 放入 $S_{1}$（因为 $711$），总和变为 $11$ 和 $11$。\n贪心算法成功，所以 A 不是一个失败的例子。\n\n分析选项 B：$S=\\{8,7,6,5,4\\}$。总和为 $8+7+6+5+4=30$，所以每个子集的总和必须为 $15$。存在一个完美划分：$\\{8,7\\}$ 和 $\\{6,5,4\\}$ 的总和均为 $15$。对序列 $8,7,6,5,4$ 模拟贪心算法：\n- 将 $8$ 放入 $S_{1}$，总和为 $8$ 和 $0$。\n- 将 $7$ 放入 $S_{2}$（因为 $08$），总和为 $8$ 和 $7$。\n- 将 $6$ 放入 $S_{2}$（因为 $78$），总和为 $8$ 和 $13$。\n- 将 $5$ 放入 $S_{1}$（因为 $813$），总和为 $13$ 和 $13$。\n- 然后将 $4$ 放入任一子集（平局），例如 $S_1$，导致总和为 $17$ 和 $13$。由于无法使两个子集的总和相等，贪心启发式算法未能找到完美划分。\n\n分析选项 C：$S=\\{10,7,6,4,2\\}$。总和为 $10+7+6+4+2=29$，是奇数，所以不存在完美划分。因此 C 不可能是一个失败的例子。\n\n分析选项 D：$S=\\{10,9,8,7,6,5,1\\}$。总和为 $10+9+8+7+6+5+1=46$，所以每个子集的总和必须为 $23$。存在一个完美划分：$\\{10,8,5\\}$ 的总和为 $23$，$\\{9,7,6,1\\}$ 的总和也为 $23$。对序列 $10,9,8,7,6,5,1$ 模拟贪心算法：\n- 将 $10$ 放入 $S_{1}$，总和为 $10$ 和 $0$。\n- 将 $9$ 放入 $S_{2}$，总和为 $10$ 和 $9$。\n- 将 $8$ 放入 $S_{2}$（因为 $910$），总和为 $10$ 和 $17$。\n- 将 $7$ 放入 $S_{1}$（因为 $1017$），总和为 $17$ 和 $17$。\n- 将 $6$ 放入任一子集（平局）。如果放入 $S_{1}$，总和变为 $23$ 和 $17$；然后将 $5$ 放入 $S_{2}$ 得到 $23$ 和 $22$，最后将 $1$ 放入 $S_{2}$ 得到 $23$ 和 $23$。如果将 $6$ 放入 $S_{2}$，总和变为 $17$ 和 $23$，然后将 $5$ 放入 $S_{1}$ 得到 $22$ 和 $23$，再将 $1$ 放入 $S_{1}$ 得到 $23$ 和 $23$。在所有情况下，贪心算法都成功了，所以 D 不是一个失败的例子。\n\n因此，唯一一个存在完美划分但最大数优先贪心启发式算法未能找到它的集合是选项 B。", "answer": "$$\\boxed{B}$$", "id": "1460724"}]}