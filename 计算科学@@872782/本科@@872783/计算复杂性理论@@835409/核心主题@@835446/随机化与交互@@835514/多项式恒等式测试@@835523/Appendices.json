{"hands_on_practices": [{"introduction": "多项式恒等性检验 (Polynomial Identity Testing, PIT) 的核心思想是利用随机化来高效地判断一个多项式是否恒为零。这个实践练习将引导你完成一个基础的随机化测试，通过计算在特定情况下出现“假阳性”的精确概率，来验证两个多项式是否等价 [@problem_id:1435754]。这个过程可以让你直观地理解为何随机取点能够成为一个强大而可靠的验证工具。", "problem": "一位软件验证工程师的任务是检查两个算术模块的等价性，这两个模块设计用于对一对输入变量 $x$ 和 $y$ 进行计算。第一个模块指定计算多项式 $P_1(x, y) = x(x+y)^2$。第二个模块计算多项式 $P_2(x, y) = x^2(x+y) + y(x^2+y)$。\n\n为了验证这两个模块是否等价（即 $P_1$ 和 $P_2$ 是否表示同一个多项式），该工程师采用了一种随机化测试。该测试包含单次运行，其中通过从集合 $S = \\{0, 1, 2, \\dots, 99\\}$ 中独立且均匀随机地选择 $r_x$ 和 $r_y$，来选取一对整数输入 $(r_x, r_y)$。然后比较这两个模块对于这组输入的输出。\n\n如果模块功能上是不同的（意味着 $P_1$ 和 $P_2$ 不是同一个多项式），但为测试选择的特定随机输入 $(r_x, r_y)$ 恰好产生相同的输出，即 $P_1(r_x, r_y) = P_2(r_x, r_y)$，则认为该测试产生了“假阳性”。\n\n测试产生假阳性的确切概率是多少？\n\nA. $\\frac{199}{10000}$\n\nB. $\\frac{3}{100}$\n\nC. $\\frac{1}{50}$\n\nD. $\\frac{3}{10000}$", "solution": "我们首先对每个多项式进行符号展开。对于 $P_{1}$，\n$$\nP_{1}(x,y)=x(x+y)^{2}=x(x^{2}+2xy+y^{2})=x^{3}+2x^{2}y+xy^{2}.\n$$\n对于 $P_{2}$，\n$$\nP_{2}(x,y)=x^{2}(x+y)+y(x^{2}+y)=x^{3}+x^{2}y+x^{2}y+y^{2}=x^{3}+2x^{2}y+y^{2}.\n$$\n因此，它们的差是\n$$\nP_{1}(x,y)-P_{2}(x,y)=xy^{2}-y^{2}=y^{2}(x-1).\n$$\n两个模块在一对输入 $(r_{x},r_{y})$ 上产生相同输出，当且仅当 $P_{1}(r_{x},r_{y})=P_{2}(r_{x},r_{y})$，即当\n$$\ny^{2}(x-1)=0.\n$$\n在整数上，这种情况发生当且仅当 $y=0$ 或 $x=1$。\n\n由于 $r_{x}$ 和 $r_{y}$ 是从 $S=\\{0,1,2,\\dots,99\\}$ 中独立且均匀地选择的，输入对的总数为 $|S|\\cdot|S|=100\\cdot 100=10000$。其中 $y=0$ 的数对有 $100$ 对（任意 $x\\in S$），$x=1$ 的数对有 $100$ 对（任意 $y\\in S$），而重叠部分 $(x=1,y=0)$ 被计算了两次，因此根据容斥原理，产生相等结果的总数对为\n$$\n100+100-1=199.\n$$\n因此，（在已知多项式不恒等的情况下）出现假阳性的确切概率是\n$$\n\\frac{199}{10000},\n$$\n对应于选项A。", "answer": "$$\\boxed{A}$$", "id": "1435754"}, {"introduction": "随机化测试的有效性依赖于测试点集的不可预测性。如果测试点集是固定的且规模过小，那么算法就可能被“欺骗”。在这个练习中，你的任务是构造一个特定的非零多项式，它能在所有给定的测试点上都取值为零，从而揭示确定性测试的局限性 [@problem_id:1435764]。这个过程将加深你对随机化在 PIT 中扮演关键角色的理解。", "problem": "在计算复杂性理论中，多项式恒等式检验 (Polynomial Identity Testing, PIT) 是一个问题，旨在高效地确定一个给定的多项式是否恒等于零多项式。一类常见的 PIT 算法涉及在一组测试点上对多项式进行求值。如果所有求值结果都为零，算法就断定该多项式是零多项式。然而，如果测试点的集合太小或选择不当，这样的算法可能会被“欺骗”。\n\n考虑一个简单的随机化 PIT 算法，它通过在集合 $S = \\{(0,0), (0,1), (1,0), (1,1)\\}$ 中的所有点上对一个二元多项式 $P(x,y)$ 进行求值来测试它。如果对于 $S$ 中的所有四个点都有 $P(x,y)=0$，该算法就报告 $P$ 是零多项式。\n\n您的任务是找到一个特定的、能欺骗该算法的非零多项式。请找出满足以下所有三个条件的唯一非零多项式 $P(x,y)$：\n1. 它具有通用形式 $P(x,y) = x^2 + A y^2 + B x + C y + D$，其中 $A, B, C, D$ 是有理常数。\n2. 它关于其变量对称，即对于所有的 $x,y$，都有 $P(x,y) = P(y,x)$。\n3. 对于集合 $S$ 中的所有点对 $(x,y)$，它的求值结果都为零。\n\n请将得到的多项式表达式 $P(x,y)$ 作为最终答案呈现。", "solution": "我们寻找一个形式为 $P(x,y) = x^{2} + A y^{2} + B x + C y + D$ 的多项式，其中 $A,B,C,D$ 为有理常数，该多项式是对称的，即对所有 $x,y$ 都有 $P(x,y) = P(y,x)$，并且在集合 $S = \\{(0,0),(0,1),(1,0),(1,1)\\}$ 上为零。\n\n交换 $x$ 和 $y$ 后的对称性要求 $P(x,y)$ 与 $P(y,x) = y^{2} + A x^{2} + B y + C x + D$ 的系数相匹配。对所有 $x,y$ 令系数相等，可得：\n$$A = 1,\\quad C = B.$$\n因此，该多项式简化为\n$$P(x,y) = x^{2} + y^{2} + B(x + y) + D.$$\n\n施加在 $S$ 上的为零条件：\n- 在 $(0,0)$ 点：$P(0,0) = D = 0$，因此 $D = 0$。\n- 在 $(1,0)$ 点：$P(1,0) = 1 + B + D = 0 \\Rightarrow 1 + B = 0 \\Rightarrow B = -1$。\n- 在 $(0,1)$ 点：$P(0,1) = 1 + B + D = 0 \\Rightarrow B = -1$ (结果一致)。\n- 在 $(1,1)$ 点：$P(1,1) = 2 + 2B + D = 0 \\Rightarrow 2 + 2(-1) + 0 = 0$ (结果一致)。\n\n因此，唯一的系数是 $A = 1$，$B = -1$，$C = -1$，$D = 0$，从而得到\n$$P(x,y) = x^{2} + y^{2} - x - y.$$\n该多项式非零、对称，并且在 $S$ 中的所有点上求值均为零，因此它欺骗了给定的 PIT 算法。", "answer": "$$\\boxed{x^{2} + y^{2} - x - y}$$", "id": "1435764"}, {"introduction": "既然小规模的固定点集可能失效，一个自然的问题是：是否存在一个足够好的确定性点集，能够保证“捕获”所有非零多项式？这个练习引入了“命中集” (hitting set) 的概念，它正是对这个问题的肯定回答。你将通过几何直觉和代数推理，为一个特定的线性多项式族构建一个最小命中集，从而体会去随机化思想的精妙之处 [@problem_id:1435790]。", "problem": "在计算复杂性理论领域，多项式恒等式检验（Polynomial Identity Testing, PIT）问题是指，给定一个以某种简洁形式（如算术电路）表示的多项式，判断它是否恒等于零多项式。解决此问题的一个常用方法是使用“击中集”。\n\n令 $\\mathcal{F}$ 为所有形如 $P(x,y) = ax+by+c$ 的非零二元线性多项式的族，其中系数 $a, b, c$ 为有理数。\n\n如果对于族 $\\mathcal{F}$ 中的每一个多项式 $P(x,y) \\in \\mathcal{F}$，都存在至少一个点 $(x_0, y_0) \\in H$ 使得 $P(x_0, y_0) \\neq 0$，则称点集 $H \\subset \\mathbb{Z}^2$ 为族 $\\mathcal{F}$ 的一个 **击中集** 。\n\n请确定族 $\\mathcal{F}$ 的最小击中集的大小。最小击中集是指包含尽可能最少点数的击中集。", "solution": "我们要求的是一个集合 $H \\subset \\mathbb{Z}^{2}$ 的最小大小，该集合满足：对于每一个系数 $a,b,c$ 为有理数的非零线性多项式 $P(x,y)=ax+by+c$，都存在点 $(x_{0},y_{0}) \\in H$ 使得 $P(x_{0},y_{0}) \\neq 0$。等价地，$H$ 不能被包含在该族中任何非零多项式的零点集内。任何此类多项式 $P$ 的零点集是平面上的一条具有有理系数的直线。\n\n下界（大小至多为2的集合不构成击中集）：\n1) 如果 $|H|=0$，则不存在点来见证 $P(x,y) \\neq 0$，所以它不是一个击中集。\n2) 如果 $H=\\{(u,v)\\}$ 是一个单点集，取多项式 $P(x,y)=x-u$，其系数为有理数且非零。此时 $P(u,v)=0$，所以在 $H$ 中没有点能使 $P \\neq 0$。因此，没有单点集是击中集。\n3) 如果 $H=\\{(x_{1},y_{1}),(x_{2},y_{2})\\}$ 且 $(x_{1},y_{1}) \\neq (x_{2},y_{2})$，定义\n$$\nP(x,y)=(y_{1}-y_{2})x+(x_{2}-x_{1})y+(x_{1}y_{2}-x_{2}y_{1}).\n$$\n它的系数是整数，因此是有理数，并且由于两点不同，$P$ 是非零的。直接验证可得\n$$\nP(x_{1},y_{1})=(y_{1}-y_{2})x_{1}+(x_{2}-x_{1})y_{1}+(x_{1}y_{2}-x_{2}y_{1})=0,\n$$\n类似地，$P(x_{2},y_{2})=0$。因此 $P$ 在 $H$ 的所有点上都为零，所以 $H$ 不是一个击中集。因此，任何击中集都必须满足 $|H| \\geq 3$。\n\n上界（存在大小为3的击中集）：\n选择三个不共线的整数点 $(x_{1},y_{1}),(x_{2},y_{2}),(x_{3},y_{3})$；这样的选择是可能的（例如，任何顶点为整数点的三角形）。假设一个系数 $a,b,c$ 为有理数的非零多项式 $P(x,y)=ax+by+c$ 在这三个点上都为零。那么\n$$\n\\begin{pmatrix}\nx_{1}  y_{1}  1 \\\\\nx_{2}  y_{2}  1 \\\\\nx_{3}  y_{3}  1\n\\end{pmatrix}\n\\begin{pmatrix}\na \\\\ b \\\\ c\n\\end{pmatrix}\n=\n\\begin{pmatrix}\n0 \\\\ 0 \\\\ 0\n\\end{pmatrix}.\n$$\n这三点的不共线性意味着这个 $3 \\times 3$ 矩阵的行列式非零，因此唯一的解是 $a=b=c=0$，这与 $P$ 是非零多项式的假设相矛盾。因此，该族中没有非零多项式能在这三个点上都为零，这意味着对于每个非零多项式 $P$，这三个点中至少有一个点能使其值不为零。所以，$\\mathbb{Z}^{2}$ 中任意一个由三个不共线点组成的集合都是一个击中集。\n\n结合下界 $|H| \\geq 3$ 和通过具体构造给出的上界，可知最小击中集的大小是 $3$。", "answer": "$$\\boxed{3}$$", "id": "1435790"}]}