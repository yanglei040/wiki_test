{"hands_on_practices": [{"introduction": "掌握公共硬币协议的第一步是理解其基本结构。这个练习将带你分析一个典型的亚瑟-梅林（Arthur-Merlin）协议，即 $\\mathrm{AM}[2]$，它代表了“亚瑟发送挑战，梅林回应证明”这一核心交互模式。通过确定正确的协议流程，你将巩固对公共硬币在交互式证明中如何运作的基础认识 [@problem_id:1439640]。", "problem": "在计算复杂性理论领域，一个交互式证明系统包含一个验证者（名为 Arthur）和一个证明者（名为 Merlin）。Arthur 是一台概率多项式时间图灵机，而 Merlin 拥有无限的计算能力但不可信。他们参与一个协议，以确定给定的输入字符串 $x$ 是否属于一个语言 $L$。\n\n复杂性类 $\\mathrm{AM}[k]$ 包含所有具有 $k$ 条消息的交互式证明系统的语言，其中 Arthur 首先行动，并且 Arthur 的随机选择（“硬币”）是“公共的”，即向 Merlin 公开。\n\n考虑一个属于类 $\\mathrm{AM}[2]$ 的语言 $L$。以下哪个动作序列正确地描述了用于判断输入字符串 $x$ 是否在 $L$ 中的基本协议？\n\nA. Arthur 接收输入 $x$，生成一个长度为 $|x|$ 的多项式次方的随机字符串 $r$，并将其发送给 Merlin。Merlin 计算并返回一条消息 $m$。然后 Arthur 对 $(x, r, m)$ 执行一个确定性的多项式时间计算，以决定接受还是拒绝。\n\nB. Arthur 接收输入 $x$。同样可以访问 $x$ 的 Merlin 计算一个证明消息 $m$ 并将其发送给 Arthur。然后 Arthur 生成一个随机字符串 $r$ 并对 $(x, m, r)$ 执行一个确定性的多项式时间计算，以决定接受还是拒绝。\n\nC. Arthur 接收输入 $x$，生成一个随机字符串 $r_1$ 并将其发送给 Merlin。Merlin 返回一条消息 $m$。然后 Arthur 生成第二个随机字符串 $r_2$ 并将其发送给 Merlin，后者提供最终响应。然后 Arthur 做出决定。\n\nD. Arthur 接收输入 $x$。Merlin 生成一个他声称是随机的字符串 $r$，以及一个证明消息 $m$。Merlin 将这对 $(r, m)$ 发送给 Arthur。然后 Arthur 对 $(x, r, m)$ 执行一个确定性的多项式时间计算，以决定接受还是拒绝。\n\nE. Arthur 接收输入 $x$，生成一个随机字符串 $r$ 并将其发送给 Merlin。Merlin 计算并返回一条消息 $m$。然后 Arthur 使用一组新的私有随机硬币对 $(x, r, m)$ 执行一个概率多项式时间计算，以决定接受还是拒绝。", "solution": "我们回顾一下 $\\mathrm{AM}[k]$ 协议的定义：它是一个具有 $k$ 条消息的公共硬币交互式证明，其中 Arthur（一个概率多项式时间验证者）首先行动，并且 Arthur 的所有随机选择都是公共的，即向 Merlin 公开。具体对于 $\\mathrm{AM}[2]$，典型的协议恰好包含两条消息：Arthur 发送一个单一的公共随机挑战，Merlin 回复一条消息；然后 Arthur 基于输入、公共随机性和 Merlin 的回复的一个确定性多项式时间谓词来做出决定。\n\n我们根据这个定义来分析每个选项。\n\n1. 在选项 A 中，Arthur 在输入 $x$ 时生成一个长度为 $|x|$ 多项式次方的随机字符串 $r$，并将其发送给 Merlin。Merlin 用一条消息 $m$ 回应。然后 Arthur 对 $(x, r, m)$ 执行一个确定性的多项式时间计算来接受或拒绝。这符合标准的 $\\mathrm{AM}[2]$ 模型：两条消息，Arthur 使用公共硬币首先行动，并且在给定公共硬币的情况下，最终的决定可以被认为是确定性的，因为任何额外的公共随机性都可以被并入 $r$ 中而不会改变模型。\n\n2. 在选项 B 中，Merlin 首先发送一个证明 $m$，然后 Arthur 生成随机性 $r$ 并做出决定。这是 $\\mathrm{MA}$ 模式（Merlin 先，Arthur 后），在 Merlin 形成 $m$ 时，Arthur 的硬币不一定对 Merlin 公开。这不符合 $\\mathrm{AM}[2]$，因为不是 Arthur 开始。\n\n3. 在选项 C 中，有多于两条消息：Arthur 发送 $r_{1}$，Merlin 回复 $m$，Arthur 发送 $r_{2}$，Merlin 再次回复，然后 Arthur 做出决定。这不是 $\\mathrm{AM}[2]$，而是一个更长的公共硬币协议（至少是 $\\mathrm{AM}[3]$）。\n\n4. 在选项 D 中，Merlin 生成“随机”字符串 $r$ 并与 $m$ 一起发送给 Arthur。在公共硬币协议中，随机性由 Arthur 生成并公开；不能信任 Merlin 来生成 Arthur 的随机性。因此这违反了该模型。\n\n5. 在选项 E 中，Arthur 发送一个公共随机字符串 $r$ 给 Merlin，Merlin 回复 $m$，然后 Arthur 使用一组新的私有随机硬币来做出决定。这违反了公共硬币的条件，因为 Arthur 的新硬币是私有的。在公共硬币设置中，Arthur 使用的任何随机性都必须是公共的；此外，即使 Arthur 在最后使用了额外的公共随机性，它也可以被并入初始的 $r$ 中，使得在给定 $(x, r, m)$ 的情况下最终的决定是确定性的。\n\n因此，只有选项 A 正确地描述了基本的 $\\mathrm{AM}[2]$ 协议。", "answer": "$$\\boxed{A}$$", "id": "1439640"}, {"introduction": "现在，让我们将注意力从公共硬币转向私有硬币，后者的保密性是协议安全性的基石。本练习将分析一个经典的私有硬币协议，用于证明一个图是不可三着色的 [@problem_id:1439692]。你需要站在一个试图“作弊”的证明者（Prover）的角度进行思考，计算其成功的最大概率，从而理解为何验证者（Verifier）的随机性必须保密。", "problem": "一个全能的证明者（P）试图说服一个概率性验证者（V），让他们相信一个给定的具有 $n$ 个顶点的简单图 $G$ 是不可3-着色的。他们同意使用以下单轮私有硬币协议：\n\n1.  验证者（V）秘密选择一个比特 $b$。选择 $b=0$ 的概率为 $q$，选择 $b=1$ 的概率为 $1-q$。\n2.  如果 $b=0$，V通过对 $G$ 的顶点进行均匀随机置换来生成一个图 $H$。\n3.  如果 $b=1$，V在 $n$ 个顶点上生成一个“变色龙图”$H$。为此，V首先定义一个3-着色 $C$，方法是将 $n$ 个顶点中的每一个独立且均匀地分配到三个颜色集 $S_1, S_2,$ 或 $S_3$ 之一。然后，对于每对顶点 $\\{u, v\\}$，如果 $u$ 和 $v$ 在 $C$ 下的颜色不同，则以 $1/2$ 的概率向 $H$ 添加一条边；如果它们的颜色相同，则不添加边。\n4.  V将图 $H$ 发送给P。比特 $b$ 仍然是V的秘密。\n5.  P拥有无限的计算能力，必须回应 $H$ 的一个有效3-着色，或者如果不存在这样的着色，则回应符号 $\\bot$。\n6.  V做出决定：V接受P的原始声明（即 $G$ 不可3-着色）当且仅当（P返回 $\\bot$ 且 $b=0$）或（P返回一个有效的3-着色且 $b=1$）。在所有其他情况下，V拒绝。\n\n假设证明者是一个作弊者：事实上，图 $G$ 是可3-着色的。证明者知道这一点，并致力于采用最优策略来最大化V接受其错误声明的概率。如果验证者设置概率 $q = 1/3$，那么这个作弊证明者成功的最大概率是多少？请将您的答案表示为最简分数。", "solution": "我们分析验证者的隐藏比特 $b$ 的两种可能值。\n\n根据假设，$G$ 是可3-着色的。在步骤2中，如果 $b=0$，验证者发送通过对 $G$ 的顶点进行均匀随机置换得到的图 $H$。图同构保持3-可着色性，所以当 $b=0$ 时，$H$ 总是可3-着色的。\n\n在步骤3中，如果 $b=1$，验证者通过首先将每个顶点独立且均匀地分配到三个颜色类 $S_{1},S_{2},S_{3}$ 之一，然后仅在不同类别的顶点之间以 $1/2$ 的概率添加边，而在同一类别内的顶点之间不添加任何边，来构造一个“变色龙图”$H$。根据构造，任何 $S_{i}$ 内部都没有边，因此由划分 $\\{S_{1},S_{2},S_{3}\\}$ 定义的3-着色 $C$ 是 $H$ 的一个正常3-着色。因此，当 $b=1$ 时，$H$ 总是可3-着色的。\n\n因此，在 $b=0$ 和 $b=1$ 这两种情况下，证明者总能输出 $H$ 的一个有效3-着色。验证者的接受标准是：当且仅当证明者返回 $\\bot$ 且 $b=0$，或返回一个有效的3-着色且 $b=1$ 时接受。由于 $H$ 总是可3-着色的，证明者只有通过匹配隐藏比特 $b$ 才能确保被接受：当 $b=0$ 时返回 $\\bot$，或当 $b=1$ 时返回一个有效的3-着色。任何总是返回 $\\bot$ 的固定策略成功的概率为 $\\Pr[b=0]=q$，而任何总是返回有效3-着色的固定策略成功的概率为 $\\Pr[b=1]=1-q$。\n\n为了最大化成功概率，证明者应该选择与 $b$ 更可能的值相对应的回应。给定 $q=\\frac{1}{3}$，我们有 $1-q=\\frac{2}{3}$，所以最优策略是总是返回一个有效的3-着色，这带来的成功概率为 $1-q=\\frac{2}{3}$。\n\n因此，在 $q=\\frac{1}{3}$ 的情况下，作弊证明者成功的最大概率是 $\\frac{2}{3}$。", "answer": "$$\\boxed{\\frac{2}{3}}$$", "id": "1439692"}]}