{"hands_on_practices": [{"introduction": "交互式证明系统的一个核心特点是其概率性。单轮交互可能不足以完全说服验证者，因为证明者可能通过猜测成功。这个练习将向您介绍“可靠性放大”（soundness amplification）这一基本技术，即通过重复协议来将一个可靠性较差的协议转变为一个几乎绝对可信的协议。理解如何量化和降低错误率是设计实用交互式证明系统的关键第一步 [@problem_id:1428475]。", "problem": "一家名为“CryptoSolve”的密码学初创公司声称，他们开发出一种革命性的算法，可以解决著名的NP完全问题——图三着色问题。为了从持怀疑态度的投资者“Veritas Capital”那里获得资金，CryptoSolve 必须在不泄露其专有算法的情况下，证明其主张的有效性。为此，他们同意使用一个交互式证明（IP）系统。\n\n他们设计的协议在单轮交互中具有以下性质：\n- **完备性**：如果CryptoSolve的算法是正确的，他们总能说服Veritas Capital。在这种情况下，说服验证者的概率为1。\n- **可靠性**：如果CryptoSolve的算法有缺陷或他们在虚张声势，他们仍有一定概率欺骗Veritas Capital。这个概率被称为可靠性误差。对于所选的协议，可靠性误差为 $2/3$。\n\n$2/3$ 的错误率对投资者来说太高了。为了增加结果的可信度，该协议将被并行重复 $k$ 次。为了使整个演示被认为是成功的，CryptoSolve 必须同时通过所有 $k$ 轮。投资者同意，只有当这种并行执行将总的可靠性误差降低到严格小于 $1.0 \\times 10^{-6}$ 的值时，才会提供资金。\n\n要满足投资者的条件，所需的最小并行重复整数次数 $k$ 是多少？", "solution": "在一轮中，可靠性误差是一个不诚实的证明者说服验证者的概率，即 $s = \\frac{2}{3}$。在 $k$ 次并行重复中，所有 $k$ 个实例必须同时被接受，总的可靠性误差最多为 $s^{k} = \\left(\\frac{2}{3}\\right)^{k}$。投资者要求这个值严格小于 $1.0 \\times 10^{-6}$，因此我们需要\n$$\n\\left(\\frac{2}{3}\\right)^{k}  10^{-6}.\n$$\n对两边取自然对数，得到\n$$\nk \\ln\\!\\left(\\frac{2}{3}\\right)  \\ln\\!\\left(10^{-6}\\right) = -6 \\ln 10.\n$$\n由于 $\\ln\\!\\left(\\frac{2}{3}\\right)  0$，用它来除会反转不等号：\n$$\nk  \\frac{-6 \\ln 10}{\\ln\\!\\left(\\frac{2}{3}\\right)} = \\frac{6 \\ln 10}{\\ln\\!\\left(\\frac{3}{2}\\right)}.\n$$\n因此最小整数为\n$$\nk_{\\min} = \\left\\lceil \\frac{6 \\ln 10}{\\ln\\!\\left(\\frac{3}{2}\\right)} \\right\\rceil.\n$$\n数值上，$\\frac{6 \\ln 10}{\\ln\\!\\left(\\frac{3}{2}\\right)} \\approx 34.073\\ldots$，所以 $k_{\\min} = 35$。确实，$\\left(\\frac{2}{3}\\right)^{34} \\approx 1.03 \\times 10^{-6}$，这并不严格小于 $1.0 \\times 10^{-6}$，而 $\\left(\\frac{2}{3}\\right)^{35} \\approx 6.86 \\times 10^{-7}$，满足要求。", "answer": "$$\\boxed{35}$$", "id": "1428475"}, {"introduction": "在理解了如何放大可靠性之后，让我们来分析一个具体的协议。这个问题提供了一个简单的单轮交互协议，用于证明一个图包含一个4-团（4-clique）。通过计算验证者的接受概率，您将亲身体验一个协议的可靠性是如何由验证者的随机挑战和问题实例本身的结构共同决定的。这个练习有助于将可靠性的抽象概念与具体的图论问题联系起来 [@problem_id:1428478]。", "problem": "一个证明者 (Merlin) 希望说服一个验证者 (Arthur)，给定的图 $G=(V, E)$ 包含一个4-团 (4-clique)，即一个包含4个顶点的集合，其中集合内的任意两个顶点都由一条边相连。他们使用以下单轮交互式协议：\n\n1.  Arthur 从所有边的集合 $E$ 中均匀随机地选择一条边 $(u, v)$。\n2.  Arthur 将顶点 $u$ 和 $v$ 发送给 Merlin。\n3.  拥有无限计算能力且了解整个图结构的 Merlin 必须从顶点集 $V$ 中回应另外两个顶点 $x$ 和 $y$。\n4.  如果这四个顶点 $\\{u, v, x, y\\}$ 在 $G$ 中构成一个4-团，Arthur 就接受。否则，Arthur 拒绝。为了进行此检查，Arthur 会验证与初始边 $(u,v)$ 一起构成该团所需的另外五条边——即 $(u,x), (u,y), (v,x), (v,y),$ 和 $(x,y)$——是否都存在于 $E$ 中。\n\n考虑一个特定的图 $G$，它构建在8个标记为 $\\{v_1, v_2, v_3, v_4, u_1, u_2, u_3, u_4\\}$ 的顶点上。边集 $E$ 的构成如下：\n- 在顶点集 $\\{v_1, v_2, v_3, v_4\\}$ 上存在一个完全子图（一个团）。\n- 另外四条边将顶点 $v_1$ 连接到其他四个顶点中的每一个：$(v_1, u_1), (v_1, u_2), (v_1, u_3), (v_1, u_4)$。\n- 图中不存在其他边。\n\n假设 Merlin 是诚实的，并且会以最优策略来说服 Arthur（即，如果可能通过选择顶点 $x$ 和 $y$ 来构成一个4-团，Merlin 就会这样做）。Arthur 接受 Merlin 声明的概率是多少？请用最简分数表示你的答案。", "solution": "Arthur 从 $E$ 中均匀地抽取一条边。Arthur 接受当且仅当存在顶点 $x$ 和 $y$ 使得 $\\{u,v,x,y\\}$ 构成一个4-团。这仅在抽样的边 $(u,v)$ 位于 $G$ 的某个4-团之内时才可能。\n\n在给定的图 $G$ 中，唯一的4-团在顶点集 $\\{v_{1},v_{2},v_{3},v_{4}\\}$ 上。任何顶点 $u_{i}$ 都不能参与任何4-团，因为每个 $u_{i}$ 只与 $v_{1}$ 相邻，没有其他关联边。\n\n因此：\n- 位于一个4-团内的边的数量，即在 $\\{v_{1},v_{2},v_{3},v_{4}\\}$ 上的 $K_{4}$ 内部的边的数量：\n$$\n|E_{\\text{clique}}|=\\binom{4}{2}=6.\n$$\n- $G$ 中的总边数是 $K_{4}$ 的6条边加上4条边 $(v_{1},u_{i})$：\n$$\n|E|=\\binom{4}{2}+4=10.\n$$\n\n如果 Arthur 抽样到 $K_{4}$ 内的6条边中的任意一条，Merlin 就可以选择 $\\{v_{1},v_{2},v_{3},v_{4}\\}$ 中剩下的两个顶点作为 $x$ 和 $y$，Arthur 对所需的五条边的检查将会成功。如果 Arthur 抽样到其他4条边 $(v_{1},u_{i})$ 中的任意一条，则无法补全为一个4-团，Arthur 将会拒绝。\n\n因此，接受概率为\n$$\n\\frac{|E_{\\text{clique}}|}{|E|}=\\frac{6}{10}=\\frac{3}{5}.\n$$", "answer": "$$\\boxed{\\frac{3}{5}}$$", "id": "1428478"}, {"introduction": "协议设计充满了微妙之处，微小的细节可能会产生巨大的影响。最后的这个练习将探讨一个针对著名的图同构问题而设计的有缺陷的协议。您将计算该协议的“完备性”（completeness）——即诚实的证明者成功说服验证者的概率。通过这个过程，您会发现一个看似合理的设计选择（使用随机置换代替随机同构）是如何无意中损害协议有效性的，这对于培养批判性的协议分析能力至关重要 [@problem_id:1428430]。", "problem": "在交互式证明系统的研究中，图同构问题是一个经典的例子。考虑一个有缺陷的协议，该协议旨在让证明者 (P) 说服验证者 (V) 两个图 $G_0$ 和 $G_1$ 是同构的。\n\n图 $G_0$ 和 $G_1$ 定义在共享的 $n$ 个顶点集上，标记为 $1, 2, \\dots, n$，其中 $n \\geq 4$。已知图 $G_0$ 是“刚性”的，这意味着它唯一的自同构（保持图结构的顶点置换）是单位置换。图 $G_1$ 与 $G_0$ 不相同，但与它同构。具体的同构由置换 $\\phi$ 给出，它循环置换前三个顶点：$\\phi(1)=2$，$\\phi(2)=3$，$\\phi(3)=1$，并保持所有其他顶点不变（对于所有 $i  3$，$\\phi(i)=i$）。\n\n这个有缺陷的协议过程如下：\n1.  验证者 V 秘密地、均匀随机地选择一个比特 $b \\in \\{0, 1\\}$。\n2.  然后，验证者 V 从 $n$ 个顶点的集合中均匀随机地选择一对不同的顶点 $\\{u, v\\}$。\n3.  验证者 V 通过取图 $G_b$ 并交换顶点 $u$ 和 $v$ 的标签来构造一个新图 $H$。\n4.  验证者 V 将图 $H$ 发送给证明者 P。\n5.  拥有无限计算能力的证明者 P 必须回复一个比特 $b'$，这是 P 对 $b$ 值的猜测。\n6.  如果证明者的猜测是正确的，即 $b'=b$，验证者 V 就接受。\n\n假设证明者采取最优策略以最大化其成功概率，该协议的完备性是多少？完备性定义为在输入图确实同构（在本场景中即是如此）的情况下，证明者的成功概率。\n\n请用关于 $n$ 的公式表达你的最终答案。", "solution": "设 $G_{1}=\\phi(G_{0})$，其中 $\\phi=(1\\ 2\\ 3)$ 且 $G_{0}$ 是刚性的，所以 $\\operatorname{Aut}(G_{0})=\\{ \\operatorname{id} \\}$。刚性意味着对于任何与 $G_{0}$ 同构的图 $H$，存在一个唯一的置换 $\\psi$ 使得 $H=\\psi(G_{0})$。\n\n在协议中，验证者均匀地选择 $b\\in\\{0,1\\}$ 和一个均匀随机的无序顶点对 $\\{u,v\\}$，这等价于一个均匀随机的对换 $\\tau=(u\\ v)$。于是 $H=\\tau(G_{b})$。因此，从 $G_{0}$ 到 $H$ 的唯一同构 $\\psi$ 满足：\n- 如果 $b=0$，则 $H=\\tau(G_{0})$，因此 $\\psi=\\tau$，这是一个对换。\n- 如果 $b=1$，则 $H=\\tau(G_{1})=\\tau(\\phi(G_{0}))=(\\tau\\circ\\phi)(G_{0})$，因此 $\\psi=\\tau\\circ\\phi$。\n\n设 $T$ 是 $S_{n}$ 中所有对换的集合，所以 $|T|=\\binom{n}{2}$。当 $b=0$ 时，$\\psi$ 在 $T$ 上均匀分布。当 $b=1$ 时，$\\psi$ 在集合 $S=\\{\\sigma:\\ \\sigma\\circ\\phi^{-1}\\in T\\}$ 上均匀分布，该集合的大小也是 $\\binom{n}{2}$，因为 $\\tau\\mapsto\\tau\\circ\\phi$ 是从 $T$ 到 $S$ 的一个双射。\n\n一个最优的证明者会计算从 $G_{0}$ 到 $H$ 的唯一同构 $\\psi$（由于刚性和无限计算能力，这是可行的），并通过比较 $\\psi$ 属于 $T$ 还是 $S$ 来区分 $b$。如果 $\\psi\\in T\\setminus S$，则可以肯定 $b=0$；如果 $\\psi\\in S\\setminus T$，则可以肯定 $b=1$；如果 $\\psi\\in T\\cap S$，那么两个 $b$ 值的可能性相等，因此最好的成功概率是 $\\frac{1}{2}$。\n\n因此，总的成功概率等于\n$$\n1-\\frac{1}{2}\\cdot \\Pr(\\psi\\in T\\cap S).\n$$\n由于在随机选择 $b$ 和 $\\tau$ 的情况下，$\\psi\\in T\\cap S$ 的概率等于 $\\frac{|T\\cap S|}{|T|}$，我们得到\n$$\n\\text{完备性}=1-\\frac{1}{2}\\cdot \\frac{|T\\cap S|}{\\binom{n}{2}}.\n$$\n\n剩下的任务是计算 $|T\\cap S|$，即满足 $\\tau\\circ\\phi$ 也是一个对换的对换 $\\tau$ 的数量。根据 $\\{a,b\\}$ 中有多少个元素属于 $\\phi$ 的支撑集 $\\{1,2,3\\}$，对对换 $\\tau=(a\\ b)$ 进行分类：\n- 如果 $a,b$ 都不在 $\\{1,2,3\\}$ 中，那么 $\\tau$ 与 $\\phi$ 不相交，所以 $\\tau\\circ\\phi$ 包含一个 3-轮换，而不是一个对换。\n- 如果 $\\{a,b\\}$ 中只有一个元素在 $\\{1,2,3\\}$ 中，比如说 $\\tau=(1\\ b)$ 且 $b3$，那么直接计算可知 $\\tau\\circ\\phi$ 是一个 4-轮换，因此不是一个对换。\n- 如果 $a,b$ 都在 $\\{1,2,3\\}$ 中，那么恰好有三个这样的对换，即 $(1\\ 2)$、$(2\\ 3)$ 和 $(1\\ 3)$，并且可以验证它们中的每一个都满足 $\\tau\\circ\\phi$ 是一个对换。\n\n因此 $|T\\cap S|=3$。因此，\n$$\n\\text{完备性}=1-\\frac{1}{2}\\cdot \\frac{3}{\\binom{n}{2}}\n=1-\\frac{1}{2}\\cdot \\frac{3}{\\frac{n(n-1)}{2}}\n=1-\\frac{3}{n(n-1)}.\n$$", "answer": "$$\\boxed{1-\\frac{3}{n(n-1)}}$$", "id": "1428430"}]}