{"hands_on_practices": [{"introduction": "第一个练习将通过经典的三元可满足性（3-SAT）问题，向你介绍概率性验证者的基本概念。你将分析一个简单的“抽查”协议的有效性，这个过程展示了验证者如何仅通过检查少量信息位就能发现存疑证明中的错误。这个实践突显了在查询数量和发现错误的概率之间存在的权衡，这是PCP理论的一个中心主题 [@problem_id:1437153]。", "problem": "一位计算机科学家正在设计一个简单的概率性验证器，用于对 3-可满足性 (3-SAT) 问题的声称解进行“抽查”。一个 3-SAT 公式是 $m$ 个子句的集合，其中每个子句是三个文字（一个变量或其否定）的逻辑或。一个声称的解是为公式中的每个变量赋予一个布尔值（真/假）的赋值。\n\n验证器的协议如下：\n1.  从公式中的 $m$ 个子句中均匀随机地选择一个。\n2.  从声称的解中，读取所选子句中出现的三个变量所赋的布尔值。\n3.  如果这个赋值使子句为真，验证器输出“接受”（ACCEPT）。否则，它输出“拒绝”（REJECT）。\n\n现在，考虑一个特定的、大的且*不可满足*的 3-SAT 公式。由于该公式是不可满足的，任何声称的满足性赋值都必定是错误的。一个对手提供了一个精心构造的赋值，该赋值虽然不能满足整个公式，但能最大化被满足的子句数量。对于这个特定的公式，已知任何单个赋值可以同时满足的子句的最大比例恰好是 $\\frac{7}{8}$。\n\n如果验证器将其抽查协议应用于这个“最佳可能”但最终不正确的赋值，那么验证器被欺骗并输出“接受”（ACCEPT）的概率是多少？请以精确分数形式给出您的答案。", "solution": "设该 3-SAT 公式有 $m$ 个子句 $\\{C_{1},\\dots,C_{m}\\}$。验证器均匀随机地选择一个子句，因此每个子句被选中的概率为 $\\frac{1}{m}$。\n\n固定一个声称的赋值 $a$。对每个子句 $C_{i}$，定义指示变量\n$$\nI_{i}(a)=\\begin{cases}\n1,  \\text{如果 }C_{i}\\text{ 被 }a\\text{ 满足,}\\\\\n0,  \\text{否则.}\n\\end{cases}\n$$\n验证器输出“接受”（ACCEPT）当且仅当随机选择的子句被满足。因此，根据对子句进行均匀选择的期望定义，\n$$\n\\Pr(\\text{ACCEPT}\\mid a)=\\sum_{i=1}^{m}\\frac{1}{m}\\,I_{i}(a)=\\frac{1}{m}\\sum_{i=1}^{m}I_{i}(a).\n$$\n量 $\\frac{1}{m}\\sum_{i=1}^{m}I_{i}(a)$ 正是被 $a$ 所满足的子句的比例。对于问题中给出的对手的最优赋值 $a^{\\ast}$，这个比例是 $\\frac{7}{8}$。因此，\n$$\n\\Pr(\\text{ACCEPT}\\mid a^{\\ast})=\\frac{7}{8}.\n$$\n从而，验证器被欺骗并输出“接受”（ACCEPT）的概率是 $\\frac{7}{8}$。", "answer": "$$\\boxed{\\frac{7}{8}}$$", "id": "1437153"}, {"introduction": "许多强大的PCP构造都依赖于代数方法，其中最基础的就是线性测试。本练习要求你分析一个简单的非线性函数，并衡量它与线性函数之间的“距离”，以及它通过标准线性测试的概率。理解这种关系是构建计算复杂性理论中复杂代数验证器的第一步 [@problem_id:1437137]。", "problem": "概率可检查证明（PCPs）构建中的一个关键组成部分是线性性测试的概念，它用于验证一个给定函数是否表现得像一个线性函数。本问题在此背景下探讨一个简单的非线性函数的性质。\n\n考虑域 $\\mathbb{F}_2$ 上的向量空间 $V = \\{0,1\\}^3$。在这个空间中，向量是3比特的字符串，向量加法是逐分量模2运算（等同于按位异或）。一个函数 $f: V \\to \\mathbb{F}_2$ 被定义为**线性**的，如果对于所有 $x, y \\in V$ 都有 $f(x+y) = f(x)+f(y)$，其中函数值的加法也在 $\\mathbb{F}_2$ 中（模2）。\n\n两个函数 $f,g: V \\to \\mathbb{F}_2$ 之间的**距离**定义为它们在输入上取值不同的比例：$\\delta(f,g) = \\Pr_{x \\in V}[f(x) \\neq g(x)]$，其中 $x$ 是从 $V$ 中均匀随机选择的。\n\n现在，考虑一个特定的函数 $F: V \\to \\mathbb{F}_2$，定义如下：\n$$\nF(x) = \\begin{cases} 1  \\text{if } x = (1,1,1) \\\\ 0  \\text{otherwise} \\end{cases}\n$$\n\n你需要计算与这个函数 $F$ 相关的两个量：\n1.  $F$ 与所有线性函数集合之间的最小距离 $d$。即，$d = \\min_{g \\text{ is linear}} \\delta(F,g)$。\n2.  $F$ 在单次随机试验中通过线性性测试的概率 $P$。这是指等式 $F(x)+F(y) = F(x+y)$ 成立的概率，其中 $x$ 和 $y$ 是从 $V$ 中独立且均匀随机选择的。\n\n下列哪个选项表示正确的有序对 $(d, P)$？\n\nA) $(1/8, 23/32)$\n\nB) $(1/8, 7/8)$\n\nC) $(3/8, 23/32)$\n\nD) $(3/8, 5/8)$\n\nE) $(1/2, 1/2)$", "solution": "设 $V=\\{0,1\\}^{3}$ 是在 $\\mathbb{F}_{2}$ 上的向量空间，并设 $p=(1,1,1)$。函数 $F$ 定义为：当 $x=p$ 时 $F(x)=1$，否则 $F(x)=0$。\n\n1) 与线性函数集合的最小距离 $d$：\n每个线性函数 $g:V\\to\\mathbb{F}_{2}$ 都有 $g_{a}(x)=a\\cdot x$（模2内积）的形式，其中 $a\\in V$，包括零函数 $a=0$ 的情况。对于任何非零的 $a$，$g_{a}$ 是一个非零线性泛函，所以其核的大小为 $2^{3-1}=4$，因此在 $V$ 上恰好有4个零和4个一。\n\n比较 $F$ 和 $g$：\n- 如果 $g$ 是零函数，那么 $g(p)=0$ 而 $F(p)=1$，对于所有 $x\\neq p$，$F(x)=0=g(x)$。因此 $\\delta(F,g)=\\frac{1}{8}$。\n- 如果 $g$ 非零且 $g(p)=0$，那么 $g$ 有4个1，都在 $\\neq p$ 的点上，所以那里有4个不匹配，再加上在 $p$ 处的不匹配，总共得到 $\\delta(F,g)=\\frac{5}{8}$。\n- 如果 $g$ 非零且 $g(p)=1$，那么 $g$ 在剩下的7个点中还有3个1，在那里造成3个不匹配（因为当输入不是 $p$ 时 $F=0$），而在 $p$ 处匹配，所以 $\\delta(F,g)=\\frac{3}{8}$。\n\n因此，最小距离由零函数达到：\n$$\nd=\\min_{g\\ \\text{linear}}\\delta(F,g)=\\frac{1}{8}.\n$$\n\n2) $F$ 通过线性性测试的概率 $P$：\n测试接受的条件是 $F(x)+F(y)=F(x+y)$，其中 $x,y$ 在 $V$ 中是均匀且独立的。记 $I(z)=\\mathbf{1}[z=p]$，则条件是在 $\\mathbb{F}_{2}$ 中 $I(x)+I(y)=I(x+y)$。\n\n测试失败的情况恰好是三个事件 $E_{1}:\\{x=p\\}$, $E_{2}:\\{y=p\\}$, $E_{3}:\\{x+y=p\\}$ 中恰好有一个发生时（三个事件都发生的情况是不可能的，因为 $p+p\\neq p$）。计算 $V\\times V$ 中的点对数量：\n$$\n|E_{1}|=8,\\quad |E_{2}|=8,\\quad |E_{3}|=8,\n$$\n$$\n|E_{1}\\cap E_{2}|=1\\ \\ ((x,y)=(p,p)),\\quad |E_{1}\\cap E_{3}|=1\\ \\ ((x,y)=(p,0)),\\quad |E_{2}\\cap E_{3}|=1\\ \\ ((x,y)=(0,p)),\n$$\n$$\n|E_{1}\\cap E_{2}\\cap E_{3}|=0.\n$$\n因此，恰好发生 $E_{1},E_{2},E_{3}$ 中一个事件的数量是\n$$\nN_{\\text{exactly }1}=\\big(|E_{1}|+|E_{2}|+|E_{3}|\\big)-2\\big(|E_{1}\\cap E_{2}|+|E_{1}\\cap E_{3}|+|E_{2}\\cap E_{3}|\\big)=24-2\\cdot 3=18.\n$$\n在总共64个点对中，失败的概率是 $\\frac{18}{64}$，所以接受的概率是\n$$\nP=1-\\frac{18}{64}=\\frac{46}{64}=\\frac{23}{32}.\n$$\n\n因此，正确的有序对是 $\\left(\\frac{1}{8},\\frac{23}{32}\\right)$，这对应于选项 A。", "answer": "$$\\boxed{A}$$", "id": "1437137"}, {"introduction": "在线性测试的基础上，本实践将探索更通用、更强大的低次多项式测试，这是PCP定理的基石。在这里，你将看到验证者如何通过在单条随机直线上测试函数属性，来检查一个高维函数是否为低次多项式。这个练习展示了局部检查如何能够强制实现全局结构，这正是概率可检查证明背后的奥秘所在 [@problem_id:1437147]。", "problem": "在计算复杂性理论的研究中，低次测试是概率可检验证明（PCPs）的一个基本组成部分。本问题探讨了此类测试的一个简化版本。\n\n设 $\\mathbb{F}_q$ 是包含 $q=11$ 个元素的有限域。考虑维数 $m=3$ 的向量空间 $\\mathbb{F}_q^m$。一个函数 $f: \\mathbb{F}_q^m \\to \\mathbb{F}_q$ 被称为一个总次数至多为 $d$ 的多项式，如果它可以写成一个 $m$ 元多项式，其中任何项的幂次之和至多为 $d$。\n\n假设我们被赋予了对一个函数 $f: \\mathbb{F}_{11}^3 \\to \\mathbb{F}_{11}$ 的预言机访问权限。我们被告知，这个函数是某个总次数至多为 $d=5$ 的未知多项式 $p: \\mathbb{F}_{11}^3 \\to \\mathbb{F}_{11}$ 的一个修改版本。具体来说，$f$ 的定义如下：\n- 对所有 $\\mathbf{z} \\in \\mathbb{F}_{11}^3$ 且 $\\mathbf{z} \\neq \\mathbf{0}$（原点）的情况，$f(\\mathbf{z}) = p(\\mathbf{z})$。\n- $f(\\mathbf{0}) = p(\\mathbf{0}) + 1$。\n\n一个验证者想要测试所提供的函数 $f$ 是否是一个总次数至多为 $d=5$ 的多项式。该验证者使用以下随机化协议：\n1.  从 $\\mathbb{F}_{11}^3$ 中独立且均匀随机地选择两个点 $\\mathbf{x}$ 和 $\\mathbf{y}$。如果 $\\mathbf{x} = \\mathbf{y}$，则丢弃这对点并重复选择过程，直到获得两个不同的点。\n2.  考虑 $\\mathbb{F}_{11}^3$ 中穿过点 $\\mathbf{x}$ 和 $\\mathbf{y}$ 的唯一一条直线 $L$。这条直线包含11个不同的点，可以参数化为 $L = \\{\\mathbf{x} + t(\\mathbf{y}-\\mathbf{x}) \\mid t \\in \\mathbb{F}_{11}\\}$。\n3.  验证者查询预言机以获取函数 $f$ 在直线 $L$ 上所有11个点的值。这定义了一个单变量函数 $g: \\mathbb{F}_{11} \\to \\mathbb{F}_{11}$，由 $g(t) = f(\\mathbf{x} + t(\\mathbf{y}-\\mathbf{x}))$ 给出。\n4.  当且仅当函数 $g(t)$ 是一个关于变量 $t$ 的次数至多为5的多项式时，验证者接受。\n\n计算验证者接受的概率。将你的最终答案表示为一个精确分数。", "solution": "让我们在推导过程中将 $q$ 视为通用值，并在最后代入 $q=11$。设 $p:\\mathbb{F}_{q}^{3}\\to\\mathbb{F}_{q}$ 是一个总次数至多为 $d=5$ 的多项式，并定义 $f$ 如下：对于 $\\mathbf{z}\\neq \\mathbf{0}$，$f(\\mathbf{z})=p(\\mathbf{z})$，且 $f(\\mathbf{0})=p(\\mathbf{0})+1$。\n\n给定不同的 $\\mathbf{x},\\mathbf{y}\\in \\mathbb{F}_{q}^{3}$，直线 $L=\\{\\mathbf{x}+t(\\mathbf{y}-\\mathbf{x}):t\\in\\mathbb{F}_{q}\\}$ 包含 $q$ 个点。定义\n$$\nh(t)=p\\big(\\mathbf{x}+t(\\mathbf{y}-\\mathbf{x})\\big).\n$$\n由于将一个次数为 $d$ 的多元多项式限制在一条仿射线上会得到一个次数至多为 $d$ 的单变量多项式，因此 $h(t)$ 是一个次数 $\\deg h\\leq 5$ 的单变量多项式。验证者计算\n$$\ng(t)=f\\big(\\mathbf{x}+t(\\mathbf{y}-\\mathbf{x})\\big).\n$$\n\n有两种情况：\n1) 如果 $\\mathbf{0}\\notin L$，那么在 $L$ 的所有点上都有 $f=p$，因此对所有 $t\\in\\mathbb{F}_{q}$ 都有 $g(t)=h(t)$。所以 $g$ 是一个次数至多为5的多项式，验证者接受。\n\n2) 如果 $\\mathbf{0}\\in L$，则存在唯一的 $t^{\\ast}\\in\\mathbb{F}_{q}$ 使得 $\\mathbf{x}+t^{\\ast}(\\mathbf{y}-\\mathbf{x})=\\mathbf{0}$。对于所有 $t\\neq t^{\\ast}$，我们有 $g(t)=h(t)$，而在 $t^{\\ast}$ 处，我们有 $g(t^{\\ast})=h(t^{\\ast})+1$。反设 $g$ 是一个次数至多为5的单变量多项式。那么 $r(t)=g(t)-h(t)$ 是一个次数至多为5的单变量多项式，它至少有 $q-1$ 个零点（所有 $t\\neq t^{\\ast}$），但在 $t^{\\ast}$ 处不为零。在一个域上，一个非零的次数至多为5的单变量多项式最多只能有5个根，所以 $r$ 必须恒等于零，这构成了一个矛盾。因此，如果 $\\mathbf{0}\\in L$，验证者会拒绝。\n\n因此，验证者接受当且仅当随机直线 $L$ 不经过原点。在此选择过程（$\\mathbf{x},\\mathbf{y}$ 独立均匀选择且 $\\mathbf{x}\\neq\\mathbf{y}$）下，直线的分布是均匀的，因此我们只需计算一个随机有序对 $(\\mathbf{x},\\mathbf{y})$（其中 $\\mathbf{x}\\neq\\mathbf{y}$）与原点共线的概率。\n\n设 $V=\\mathbb{F}_{q}^{3}$。满足 $\\mathbf{x}\\neq\\mathbf{y}$ 的有序对的总数为\n$$\nN_{\\text{tot}}=q^{3}(q^{3}-1).\n$$\n计算直线经过原点的“坏”有序对的数量，即 $\\mathbf{x}$ 和 $\\mathbf{y}$ 位于同一个一维子空间中（等价于 $\\mathbf{y}\\in\\langle \\mathbf{x}\\rangle$），且 $\\mathbf{y}\\neq\\mathbf{x}$：\n- 如果 $\\mathbf{x}=\\mathbf{0}$，那么任何 $\\mathbf{y}\\neq\\mathbf{0}$ 都可以，这会产生 $q^{3}-1$ 对。\n- 如果 $\\mathbf{x}\\neq\\mathbf{0}$，那么 $\\langle \\mathbf{x}\\rangle$ 有 $q$ 个元素。排除 $\\mathbf{y}=\\mathbf{x}$ 后，对于 $q^{3}-1$ 个非零的 $\\mathbf{x}$ 中的每一个，$\\mathbf{y}$ 都有 $q-1$ 个有效选择。\n\n因此\n$$\nN_{\\text{bad}}=(q^{3}-1)+(q^{3}-1)(q-1)=q(q^{3}-1).\n$$\n因此拒绝概率是\n$$\n\\frac{N_{\\text{bad}}}{N_{\\text{tot}}}=\\frac{q(q^{3}-1)}{q^{3}(q^{3}-1)}=\\frac{1}{q^{2}},\n$$\n而接受概率是\n$$\n1-\\frac{1}{q^{2}}.\n$$\n代入 $q=11$ 得到\n$$\n1-\\frac{1}{11^{2}}=1-\\frac{1}{121}=\\frac{120}{121}.\n$$", "answer": "$$\\boxed{\\frac{120}{121}}$$", "id": "1437147"}]}