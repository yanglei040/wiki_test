{"hands_on_practices": [{"introduction": "在深入研究电路族的复杂性之前，让我们从最基本的构建模块开始：一个能够精确识别单个输入的电路。这个练习 ([@problem_id:1414500]) 要求你为一个特定的二进制字符串设计一个最小尺寸的布尔电路。通过这个实践，你将掌握如何利用与门、或门和非门来实现一个高度选择性的函数，这个函数仅在其目标输入上输出1，而在所有其他输入上输出0，这是理解电路如何对特定模式或数据进行编码和识别的坚实第一步。", "problem": "一个安全系统使用一组称为“访问码”的特殊二进制字符串。对于任意给定的正整数长度 $n$，存在且仅存在一个该长度的有效访问码。针对给定长度 $n$ 的硬件验证器实现为一个布尔电路，记作 $C_n$。该电路以一个 $n$ 位字符串为输入，如果该字符串是长度为 $n$ 的有效访问码，则输出1，否则输出0。\n\n这些电路仅使用以下标准门构建：2输入与门、2输入或门和1输入非门。电路的“大小”定义为其包含的总门数。\n\n对于特定长度 $n=12$，有效的访问码是由字符串 $s = 110100101110$ 给出。\n\n计算能正确识别此访问码的电路 $C_{12}$ 的最小可能大小。", "solution": "设输入为 $x=(x_{1},\\ldots,x_{12})$，唯一接受的字符串为 $s=110100101110$。要计算的函数是单个最小项\n$$\nf(x)=\\bigwedge_{i=1}^{12} \\ell_{i}, \\quad \\text{where } \\ell_{i}=\\begin{cases}\nx_{i}  \\text{if } s_{i}=1,\\\\\n\\neg x_{i}  \\text{if } s_{i}=0.\n\\end{cases}\n$$\n一个直接的实现是在12个文字上使用一个二叉与树，并对每个 $s_{i}=0$ 的变量使用一个非门。由于仅使用2输入与门实现的 $k$ 输入与门至少需要 $k-1$ 个门，因此合取操作需要 $12-1=11$ 个与门。字符串 $s$ 在位置 $3,5,6,8,12$ 处为零，因此恰好有5个否定的文字，所以需要恰好5个非门。这给出了一个大小为 $11+5=16$ 的电路。\n\n为了证明其最优性：\n- 任何仅在 $x=s$ 时输出1的电路都必须强制执行所有12个文字约束；使用仅2输入的门将12个独立输入组合成一个输出，至少需要11个二元门（每个这样的门最多能将独立分量的数量减少一个）。\n- 对于每个 $s_{i}=0$ 的索引 $i$，函数在 $x_{i}$ 上是递减的，因此在通往输出的某条路径上必须出现 $\\neg x_{i}$；否则电路在 $x_{i}$ 上将是单调的，并且无法在唯一接受的赋值处区分 $x_{i}=0$ 和 $x_{i}=1$。每个这样的变量至少需要一个非门，而单个非门只能反转一个信号，所以至少需要5个非门。\n\n因此，任何实现的大小至少为 $11+5=16$，而上述构造达到了这个下界。使用或门无法减少这个数量，因为对于这个单调最小项，其最小表示已经使用了最少数量的二元门和非门。\n\n因此，最小可能的大小是16。", "answer": "$$\\boxed{16}$$", "id": "1414500"}, {"introduction": "构建了单个电路之后，下一步自然是思考如何将为不同目的设计的电路组合起来。这个练习 ([@problem_id:1414484]) 探讨了复杂度类 P/poly 的一个基本闭包性质——交集运算。它引导你通过组合两个现有的电路来构建一个新电路，以判定一个新语言，从而证明 P/poly 对交集是封闭的。这个过程不仅强化了将电路视为模块化组件的思想，还让你能够具体计算组合后电路的规模，这是分析更复杂计算的关键技能。", "problem": "在计算复杂性理论中，如果一个语言 $L$ 可以由一个多项式规模的布尔电路族判定，那么它就属于复杂度类 P/poly（多项式规模电路）。这意味着存在一个多项式 $p(n)$ 和一个电路序列 $\\{C_n\\}_{n \\in \\mathbb{N}}$，其中对于每个整数 $n \\ge 0$，$C_n$ 是一个有 $n$ 个输入和一个输出的电路。对于任何长度为 $n$ 的二进制串 $x$，电路 $C_n$ 在输入 $x$ 时输出一个比特 $C_n(x)$，当且仅当 $x \\in L$ 时，$C_n(x)=1$。电路的大小定义为其包含的逻辑门数量，并且 $C_n$ 的大小必须以多项式 $p(n)$ 为上界。\n\n考虑两个语言 $L_A$ 和 $L_B$，它们用于对科学数据模型进行分类。已知这两个语言都在 P/poly 中。\n- 对于一个 $n$ 比特的输入串，语言 $L_A$ 由一个电路 $C_{A,n}$ 判定，其大小恰好为 $S_A(n) = n^3 + 6n^2 + 5n + 10$ 个门。\n- 对于一个 $n$ 比特的输入串，语言 $L_B$ 由一个电路 $C_{B,n}$ 判定，其大小恰好为 $S_B(n) = 2n^3 + 3n + 25$ 个门。\n\n仅当一个数据模型对应的二进制串同时属于 $L_A$ 和 $L_B$ 时，该模型才被认为是“已确认”的。这定义了已确认模型的语言 $L_C = L_A \\cap L_B$。我们想要构建一个电路族 $\\{C_{C,n}\\}$ 来判定 $L_C$。如果我们将现有的电路 $C_{A,n}$ 和 $C_{B,n}$ 作为不可分割的黑盒组件来构建每个电路 $C_{C,n}$，那么得到的电路 $C_{C,n}$ 的总大小是多少？将您的答案表示为关于 $n$ 的多项式。", "solution": "问题要求计算判定语言 $L_C = L_A \\cap L_B$ 的电路 $C_{C,n}$ 的大小。给定条件是，这个新电路将使用用于 $L_A$ 和 $L_B$ 的电路 $C_{A,n}$ 和 $C_{B,n}$ 分别作为黑盒组件来构建。\n\n语言 $L_C$ 是 $L_A$ 和 $L_B$ 的交集。根据交集的定义，一个长度为 $n$ 的串 $x$ 属于 $L_C$ 当且仅当 $x$ 属于 $L_A$ 并且 $x$ 属于 $L_B$。\n\n电路 $C_{A,n}$ 和 $C_{B,n}$ 是它们各自语言的判定器。这意味着：\n- 如果 $x \\in L_A$，$C_{A,n}(x) = 1$；否则 $C_{A,n}(x) = 0$。\n- 如果 $x \\in L_B$，$C_{B,n}(x) = 1$；否则 $C_{B,n}(x) = 0$。\n\n为了让电路 $C_{C,n}$ 判定 $L_C$，它必须当且仅当 $x \\in L_C$ 时输出 1。使用上述条件，这意味着 $C_{C,n}(x)$ 必须为 1，当且仅当 $C_{A,n}(x) = 1$ 和 $C_{B,n}(x) = 1$ 同时成立。这个逻辑条件“A AND B”由一个单独的与门实现。\n\n所以，我们可以如下构建电路 $C_{C,n}$：\n1. 字符串 $x$ 的 $n$ 个输入比特同时馈入电路 $C_{A,n}$ 和电路 $C_{B,n}$ 的输入端。\n2. $C_{A,n}$ 的单比特输出和 $C_{B,n}$ 的单比特输出随后作为两个输入馈入一个新的与门。\n3. 这个与门的输出是电路 $C_{C,n}$ 的最终输出。\n\n这个组合电路的总大小 $S_C(n)$ 是其各组件大小的总和。因为我们将 $C_{A,n}$ 和 $C_{B,n}$ 作为黑盒组件使用，我们将它们的大小相加，并加上新门的数量。在这个构造中，我们恰好增加了一个与门。\n\n$C_{A,n}$ 的大小由 $S_A(n) = n^3 + 6n^2 + 5n + 10$ 给出。\n$C_{B,n}$ 的大小由 $S_B(n) = 2n^3 + 3n + 25$ 给出。\n额外增加的门数量是 1。\n\n因此，$C_{C,n}$ 的总大小是：\n$S_C(n) = S_A(n) + S_B(n) + 1$\n$S_C(n) = (n^3 + 6n^2 + 5n + 10) + (2n^3 + 3n + 25) + 1$\n\n现在，我们合并多项式的各项：\n$S_C(n) = (1+2)n^3 + (6)n^2 + (5+3)n + (10+25+1)$\n$S_C(n) = 3n^3 + 6n^2 + 8n + 36$\n\n这个多项式表示了通过这种构造方法构建的电路 $C_{C,n}$ 的确切大小。", "answer": "$$\\boxed{3n^3 + 6n^2 + 8n + 36}$$", "id": "1414484"}, {"introduction": "到目前为止，我们的实践都集中在电路本身，并假设它们是“给定的”。然而，在计算复杂性中，一个至关重要的问题是：这些电路是如何被生成的？这个最后的练习 ([@problem_id:1414520]) 将我们的注意力转移到电路族的*一致性*（uniformity）概念上，特别是对数空间一致性。它挑战你思考的不是电路本身如何工作，而是生成其描述的算法过程，强调了生成电路的计算资源（如空间复杂度）与电路自身规模之间的区别，这是一致性电路族理论的核心。", "problem": "在计算复杂性理论中，一个电路族是电路序列 $\\{C_n\\}_{n \\in \\mathbb{N}}$，其中 $C_n$ 是为长度为 $n$ 的输入设计的电路。如果一个确定性图灵机（称为对数空间转换器）在给定输入 $1^n$（一个由 $n$ 个1组成的字符串）时，仅使用其工作带上的对数数量级的空间（即 $O(\\log n)$ 空间）就能生成电路 $C_n$ 的描述，那么这个电路族就被称为是 **对数空间一致的** (log-space uniform)。\n\n电路的描述以门序列的形式提供。电路的主要输入 $x_1, x_2, \\dots, x_n$ 被赋予从 $1$ 到 $n$ 的整数ID。电路中每个后续的门都由一个元组描述，门的编号从 $n+1$ 开始顺序递增。一个 `NOT` 门由 `(gate_ID, NOT, input_ID)` 描述，一个双输入门由 `(gate_ID, gate_type, input1_ID, input2_ID)` 描述，其中 `gate_type` 是 `AND` 或 `OR`。`input_ID` 必须引用主要输入ID（$1, \\dots, n$）之一，或序列中已定义的门的ID。序列中的最后一个门被视为电路的单个输出门。\n\n考虑语言 $L_{=1}$，它包含所有恰好有一个 '1' 的二进制字符串。我们希望设计一个对数空间一致的电路族 $\\{C_n\\}$ 来判定 $L_{=1}$。\n\n下列哪个陈述最准确地描述了正确生成 $C_n$ 电路描述的对数空间转换器的关键组成部分或属性？\n\nA. 为确保所有输入变量都已连接，转换器必须首先将整个输入字符串 $x_1x_2\\dots x_n$ 加载到其工作带上，这需要 $O(n)$ 的空间。\n\nB. 验证输入中最多只有一个 '1' 的子电路需要检查所有输入对 $(x_i, x_j)$。因此，转换器必须分配与 $n^2$ 成正比的工作带空间来管理所有 $\\binom{n}{2}$ 个对。\n\nC. 该电路需要组合 $\\Theta(n^2)$ 个中间信号。转换器可以通过使用计数器（需要 $O(\\log n)$ 空间）来系统地生成一个规则的、树状的门结构来连接这些信号，从而实现这一点。\n\nD. 对于一个对数空间一致的电路族，生成的电路 $C_n$ 的规模必须是 $n$ 的对数级别，即规模为 $O(\\log n)$。\n\nE. 构建这种电路的唯一方法是构造一个二进制加法器来对输入位求和。转换器必须在其对数空间工作带上存储该加法器对于任何给定 $n$ 的完整架构方案。", "solution": "要确定哪个选项是正确的，我们首先需要理解如何为语言 $L_{=1}$（恰好包含一个'1'的字符串）构建一个电路族，以及如何用一个对数空间的图灵机来生成这个电路族的描述。\n\n一个字符串恰好有一个'1'，等价于它“至少有一个'1'”并且“至多有一个'1'”。\n1.  **至少一个'1'**: 这可以通过计算所有输入位的逻辑或来实现：$S_1 = x_1 \\lor x_2 \\lor \\dots \\lor x_n$。这可以用一个由 $n-1$ 个OR门组成的树形电路来实现。\n2.  **至多有一个'1'**: 这意味着任意两个不同的输入位 $x_i$ 和 $x_j$ 不能同时为'1'。这个条件可以表示为所有位对 $(x_i, x_j)$ 的逻辑与的否定，即 $\\neg(x_i \\land x_j)$，对所有 $1 \\le i  j \\le n$ 都成立。要组合所有这些条件，我们需要计算一个大的逻辑与：$S_2 = \\bigwedge_{1 \\le i  j \\le n} \\neg(x_i \\land x_j)$。这个子电路需要 $\\binom{n}{2} = \\frac{n(n-1)}{2}$ 个AND门，$\\binom{n}{2}$ 个NOT门，以及一个大的AND树来组合这些结果。总规模是 $\\Theta(n^2)$。\n\n最终的电路 $C_n$ 计算 $S_1 \\land S_2$。\n\n现在，考虑生成这个电路描述的对数空间转换器：\n- 转换器的输入是 $1^n$。它的工作空间限制在 $O(\\log n)$。\n- 它可以轻松生成 $S_1$ 部分的OR树。这只需要一个循环计数器（需要 $O(\\log n)$ 空间）来生成 $n-1$ 个OR门。\n- 对于 $S_2$ 部分，转换器需要两个嵌套的循环，用计数器 $i$ 从 $1$ 到 $n-1$，用计数器 $j$ 从 $i+1$ 到 $n$。这两个计数器也只需要 $O(\\log n)$ 的空间。在每次循环中，它输出一个AND门和一个NOT门的描述。\n- 最后，它需要生成一个大的AND树来组合来自 $S_2$ 的 $\\Theta(n^2)$ 个信号，以及最终的AND门来组合 $S_1$ 和 $S_2$。这同样可以通过使用计数器以系统、规则的方式完成。\n\n现在我们来评估这些选项：\n- **A**: 转换器以 $1^n$ 为输入，不访问输入字符串 $x$。该陈述是错误的。\n- **B**: 电路的规模是 $\\Theta(n^2)$，但生成它的转换器的工作空间是 $O(\\log n)$。它通过循环迭代生成门描述，而不需要在工作带上同时存储所有 $\\binom{n}{2}$ 个对的信息。该陈述是错误的。\n- **C**: 这准确地描述了情况。电路确实需要组合 $\\Theta(n^2)$ 个中间信号（主要来自 $S_2$ 部分）。转换器正是通过使用需要 $O(\\log n)$ 空间的计数器（例如，用于循环变量 $i$ 和 $j$）来系统地、有条不紊地生成连接这些信号的门结构（如AND树）。该陈述是正确的。\n- **D**: 对数空间一致性是关于生成器的资源限制，而不是对最终电路规模的限制。电路规模可以是多项式的，如此处的 $\\Theta(n^2)$。该陈述是错误的。\n- **E**: 使用二进制加法器是另一种方法，但不是“唯一方法”。此外，对数空间转换器是动态生成描述，而不是在其工作带上“存储”一个完整的静态方案。该陈述是错误的。\n\n因此，陈述 C 是最准确的描述。", "answer": "$$\\boxed{C}$$", "id": "1414520"}]}