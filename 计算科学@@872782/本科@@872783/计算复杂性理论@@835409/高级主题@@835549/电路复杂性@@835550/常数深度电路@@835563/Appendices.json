{"hands_on_practices": [{"introduction": "我们从一个构建性的练习开始，来感受恒定深度电路的计算能力。阈值函数是电路复杂性中一类重要的对称函数。通过为“至少为二”的阈值函数 $T_2^n$ 设计一个 $AC^0$ 电路 [@problem_id:1418903]，你将亲手实践如何将一个逻辑描述转化为具体的、具有多项式规模和恒定深度的电路结构。", "problem": "在计算复杂性理论中，**AC⁰**类（交替电路，常数深度）由一系列电路族 $\\{C_n\\}_{n \\in \\mathbb{N}}$ 组成，其中每个电路对应一个输入大小 $n$，且满足两个条件：$C_n$ 的大小受一个关于 $n$ 的多项式限制，并且 $C_n$ 的深度是一个与 $n$ 无关的常数。这些电路由具有无界扇入（即它们可以有任意数量的输入）的与门和或门，以及只直接作用于电路输入的非门构成。一个电路的大小是其门的总数，其深度是从任意输入变量到输出门的最长路径的长度。\n\n考虑阈值为2的函数，记作 $T_2^n(x_1, \\dots, x_n)$，它接受 $n$ 个布尔输入，当且仅当至少有两个输入为1时，输出1。你的任务是设计一个 AC⁰ 类中的电路族 $\\{C_n\\}_{n \\in \\mathbb{N}}$，用于计算 $T_2^n$ 函数。\n\n确定你所提出的电路 $C_n$ 的精确大小和深度。将大小表示为关于 $n$ 的简化多项式，将深度表示为整数。以有序对（大小，深度）的形式给出你的答案。", "solution": "我们想要一个常数深度、多项式大小的电路，它由无界扇入的与/或门（且非门只允许作用于输入）构成，用于计算阈值为2的函数 $T_{2}^{n}(x_{1},\\dots,x_{n})$，该函数当且仅当至少有两个输入为1时输出1。\n\n定义如下电路族。对每个 $n$，为每一对满足 $1 \\leq i  j \\leq n$ 的不同索引的无序对 $(i,j)$，引入一个与门\n$$\nA_{i,j} \\;=\\; x_{i} \\land x_{j}.\n$$\n将所有这些 $A_{i,j}$ 的输出连接到一个位于输出端的或门：\n$$\nC_{n}(x_{1},\\dots,x_{n}) \\;=\\; \\bigvee_{1 \\leq i  j \\leq n} \\left(x_{i} \\land x_{j}\\right).\n$$\n\n正确性：如果至少有两个输入为1，那么存在索引 $i \\neq j$ 使得 $x_i = 1$ 和 $x_j = 1$。因此，对应的与门 $A_{i,j}$ 会输出1，这使得最终的或门输出1。反之，如果只有一个或没有输入为1，那么对于所有的对 $(i,j)$，至少有一个输入（$x_i$ 或 $x_j$）为0，所以所有的与门 $A_{i,j}$ 都输出0，最终的或门也输出0。因此，该电路是正确的。", "answer": "$$\\boxed{\\left(\\frac{n^2-n+2}{2}, 2\\right)}$$", "id": "1418903"}, {"introduction": "现在，让我们转向一个更具挑战性的函数——奇偶校验（PARITY）函数，它在揭示 $AC^0$ 的局限性方面起着核心作用。在直接处理一般情况的证明之前，我们先通过为一个具体的4位输入构建一个深度为2的电路来建立直觉 [@problem_id:1418856]。这个练习将揭示为什么奇偶校验函数对于简单的“与或”结构来说是如此难以捕捉。", "problem": "在计算复杂性理论的研究中，布尔电路提供了一种形式化的计算模型。一个布尔电路由输入节点和逻辑门构成。对于本问题，我们考虑一种具有以下性质的特定类型的电路：\n1.  电路的输入是一组布尔变量及其否定形式。这些被称为文字（literal）。我们可以认为它们在电路的“输入层”，即深度为0的位置可用。\n2.  电路由与门（AND gate）和或门（OR gate）组成。这些门被假定为具有无界扇入（unbounded fan-in），意味着它们可以接受任意数量的输入。\n3.  电路的深度是指从任何输入文字到最终输出门的最长路径上的门数。\n\n考虑布尔函数 $f: \\{0,1\\}^4 \\to \\{0,1\\}$，它接受四个输入变量 $x_1, x_2, x_3, x_4$，当且仅当这些输入中等于1的变量个数为偶数时，输出为1。否则，函数输出为0。\n\n你的任务是，在最终层（深度2）的门必须是或门的约束下，确定实现该函数 $f$ 所需的深度为2的电路的最小门数。", "solution": "我们被限制在深度为2的电路，其最终（深度2）的门是或门。任何这样的电路计算的公式形式如下\n$$\nf=\\bigvee_{j=1}^{m} g_{j},\n$$\n其中每个深度为1的门的输出 $g_{j}$ 是文字的与（AND）或文字的或（OR）。如果某个 $g_{j}$ 是文字的或，例如 $g_{j}=\\bigvee_{\\ell \\in S_{j}} \\ell$，那么\n$$\n\\bigvee_{j=1}^{m} g_{j}=\\left(\\bigvee_{\\substack{j:\\ g_{j}\\ \\text{is AND}}} g_{j}\\right)\\ \\vee\\ \\left(\\bigvee_{\\substack{j:\\ g_{j}\\ \\text{is OR}}}\\ \\bigvee_{\\ell \\in S_{j}} \\ell\\right),\n$$\n因此，将底部的或门替换为将其输入文字直接连接到顶部的或门，会严格减少门的数量，而不会改变函数或深度。因此，在所述约束下的任何规模最小的电路中，所有深度为1的门都可以假定为与门，该电路是与的或（即析取范式，DNF）。\n\n假设一个深度为1的与门计算一个文字的合取\n$$\nA=\\left(\\bigwedge_{i \\in P} x_{i}\\right)\\ \\wedge\\ \\left(\\bigwedge_{j \\in N} \\neg x_{j}\\right),\n$$\n其中 $P,N \\subseteq \\{1,2,3,4\\}$ 是不相交的集合。如果 $P \\cup N \\subsetneq \\{1,2,3,4\\}$，任取一个 $t \\in \\{1,2,3,4\\} \\setminus (P \\cup N)$。固定 $P \\cup N$ 中的变量使得 $A=1$。那么存在两个仅在 $x_{t}$ 上不同的赋值，一个具有偶数汉明权重，另一个具有奇数汉明权重，两者都满足 $A=1$。由于函数 $f$ 仅在偶校验输入上输出1，所以 $A$ 不能是 $f$ 的一个蕴含项（implicant），除非它固定了所有四个变量。因此，$f$ 的析取范式（DNF）中的每个有效合取都必须包含所有四个变量（每个变量以 $x_{i}$ 或 $\\neg x_{i}$ 的形式出现），也就是说，必须是一个最小项（minterm）。\n\n每个这样的最小项仅在一个输入赋值上为真。因此，任何 $f$ 的析取范式（DNF）都必须为每个使 $f=1$ 的输入包含至少一个不同的最小项。四个比特位上偶校验赋值的数量是\n$$\n\\sum_{\\substack{k=0 \\\\ k\\ \\text{even}}}^{4} \\binom{4}{k} \\;=\\; \\binom{4}{0}+\\binom{4}{2}+\\binom{4}{4}\\;=\\;1+6+1\\;=\\;8.\n$$\n因此，至少需要8个深度为1的与门。这个下界是紧的，因为由这8个最小项构成的析取范式（DNF）能正确计算 $f$。加上在深度2处聚合这8个输出所需的最终或门，总门数为\n$$\n8\\ (\\text{与门})\\ +\\ 1\\ (\\text{最终或门})\\ =\\ 9.\n$$\n因此，最小门数是 $9$。", "answer": "$$\\boxed{9}$$", "id": "1418856"}, {"introduction": "在具体构建了4位奇偶校验函数电路之后，我们现在将这一经验推广，以形式化地证明 $AC^0$ 的一个基本限制。这个练习将引导你证明，任何用于计算 $n$ 位奇偶校验函数的析取范式（DNF）——一种深度为2的电路——都必须具有指数级的子句数量 [@problem_id:1418880]。这个结果是理解恒定深度电路计算能力边界的一个里程碑式的结论。", "problem": "在计算复杂性理论中，一个布尔函数可以用各种逻辑公式来表示。如果一个公式是一个或多个子句的析取（OR），其中每个子句是一个或多个文字的合取（AND），则该公式处于析取范式（DNF）中。一个文字是变量 $x_i$ 或其否定 $\\neg x_i$。例如，如果我们有变量 $x_1, x_2, x_3$，则表达式 $(x_1 \\land \\neg x_2) \\lor (\\neg x_3)$ 是一个包含两个子句的 DNF。DNF 公式的大小通常由其包含的子句数量来衡量。\n\n考虑 $n$ 变量的奇偶校验函数，记为 $\\text{PARITY}_n(x_1, \\dots, x_n)$，如果值为 $1$ 的输入变量数量为奇数，则输出 $1$，否则输出 $0$。\n\n对于任何能正确表示 $n \\ge 1$ 的 $\\text{PARITY}_n$ 函数的 DNF 公式，所需的最小子句数是多少？请用 $n$ 的函数表示你的答案。", "solution": "令 $f=\\text{PARITY}_{n}$，其中对于任意 $x=(x_{1},\\dots,x_{n})\\in\\{0,1\\}^{n}$，\n$$\nf(x)=\\left(\\sum_{i=1}^{n} x_{i}\\right)\\bmod 2.\n$$\n一个关于变量 $x_{1},\\dots,x_{n}$ 的 DNF 子句具有以下形式\n$$\nC=\\bigwedge_{i\\in P} x_{i}\\ \\wedge\\ \\bigwedge_{j\\in N} \\neg x_{j},\n$$\n其中 $P,N\\subseteq [n]$ 为不相交的索引集，它固定了 $k=|P|+|N|$ 个变量，剩下 $n-k$ 个变量是自由的。$C$ 的满足赋值构成一个维度为 $n-k$ 的子立方体。\n\n奇偶校验的关键性质：翻转任何单个变量都会改变奇偶性。形式上，对于任何 $\\ell\\in[n]$ 和任何赋值 $x$，令 $x^{(\\ell)}$ 为 $x$ 的第 $\\ell$ 位翻转后的结果，我们有\n$$\nf\\bigl(x^{(\\ell)}\\bigr)=f(x)+1 \\pmod{2}.\n$$\n因此，任何维度至少为 1 的子立方体（即，任何具有 $k  n$ 个固定变量的子句 $C$）中都包含汉明权重为奇数和偶数的两种赋值。由于 $\\text{PARITY}_n$ 在这些赋值上必须取不同的值（1 和 0），所以子句 $C$ 不能成为 $\\text{PARITY}_n$ 函数的一个蕴含项（implicant）。因此，任何能正确计算 $\\text{PARITY}_n$ 的DNF公式中的每个子句都必须固定所有 $n$ 个变量，即每个子句都必须是一个最小项（minterm）。一个最小项只对应一个输入赋值。奇偶校验函数在所有汉明权重为奇数的输入上输出 1。这样的输入的总数是 $\\sum_{k \\text{ odd}, k=1}^n \\binom{n}{k} = 2^{n-1}$。因此，至少需要 $2^{n-1}$ 个子句（最小项）来覆盖所有使函数输出为 1 的情况。这个下界是可达的，即由所有这些最小项构成的 DNF 确实计算了奇偶校验函数。", "answer": "$$\\boxed{2^{n-1}}$$", "id": "1418880"}]}