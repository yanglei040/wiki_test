{"hands_on_practices": [{"introduction": "要理解 ⊕P 的核心概念，最好的方法就是亲自动手计算。这个练习提供了一个小规模的“模约束系统”，其任务是确定满足所有逻辑约束的“稳定构型”的数量是奇数还是偶数。通过直接枚举和检查这些构型[@problem_id:1454442]，您可以建立对“解的奇偶性”这一概念的直观认识。", "problem": "“模约束系统”（Modular Constraint System, MCS）由一组 $n$ 个二进制变量 $x_1, x_2, \\ldots, x_n$ 定义，其中每个 $x_i \\in \\{0, 1\\}$。对这些变量的一组特定赋值构成一个配置 $(x_1, x_2, \\ldots, x_n)$。如果一个配置满足给定的主导布尔逻辑公式，则该配置被认为是“稳定的”。\n\n该系统有一个诊断测试，用于检查一个称为“奇偶完整性”（Parity-Integrity）的全局属性。测试过程如下：一个特殊的奇偶校验位 $P$ 初始化为 $0$，每存在一个稳定的配置，该位就翻转一次。如果比特 $P$ 的最终值为 $1$，则称该 MCS 具有“奇偶完整性”。\n\n考虑一个基本系统 $S_0$，它有 $n=3$ 个变量 ($x_1, x_2, x_3$)，其稳定配置是满足以下公式的配置：\n$$ \\phi_0 = (x_1 \\lor x_2) \\land (\\neg x_1 \\lor \\neg x_3) $$\n\n现在，考虑四个修改后的系统 $S_A, S_B, S_C,$ 和 $S_D$，每个系统都是通过在基本系统 $S_0$ 上精确地增加一个新约束而创建的。这些修改后的系统中，哪一个具有奇偶完整性？\n\nA. 系统 $S_A$：将约束 $(x_2 \\lor x_3)$ 添加到 $S_0$ 中。\nB. 系统 $S_B$：将约束 $(x_2 \\leftrightarrow x_3)$ 添加到 $S_0$ 中。符号 $\\leftrightarrow$ 代表逻辑双条件（同或）。\nC. 系统 $S_C$：将约束 $(x_1 \\oplus x_2 \\oplus x_3 = 1)$ 添加到 $S_0$ 中。符号 $\\oplus$ 代表异或 (XOR) 运算。\nD. 系统 $S_D$：将约束 $(\\neg x_2 \\lor x_3)$ 添加到 $S_0$ 中。", "solution": "如果一个配置满足 $\\phi_{0}=(x_{1}\\lor x_{2})\\land(\\neg x_{1}\\lor \\neg x_{3})$，则该配置是稳定的。奇偶完整性测试为每个稳定配置翻转一次比特 $P$；因此，当且仅当稳定配置的数量为奇数时，系统才具有奇偶完整性。\n\n首先，根据 $x_{1}$ 的取值情况，枚举满足 $\\phi_{0}$ 的配置。\n\n1) 如果 $x_1=0$，则 $(x_{1}\\lor x_{2})$ 简化为 $x_{2}$，所以 $x_2=1$。子句 $(\\neg x_{1}\\lor \\neg x_{3})$ 变为 $(1\\lor \\neg x_{3})=1$，这对 $x_{3}$ 没有施加任何条件。因此，当 $x_1=0$ 时，满足条件的赋值为 $(0,1,0)$ 和 $(0,1,1)$。\n\n2) 如果 $x_1=1$，则 $(x_{1}\\lor x_{2})$ 为 $1$，这对 $x_{2}$ 没有施加任何条件，而 $(\\neg x_{1}\\lor \\neg x_{3})$ 变为 $\\neg x_{3}$，所以 $x_3=0$。因此，当 $x_1=1$ 时，满足条件的赋值为 $(1,0,0)$ 和 $(1,1,0)$。\n\n因此，满足 $\\phi_{0}$ 的稳定配置恰好是\n$$(0,1,0),\\quad (0,1,1),\\quad (1,0,0),\\quad (1,1,0)。$$\n\n现在施加每个新增的约束，并计算剩余的配置数量。\n\nA. 添加 $(x_{2}\\lor x_{3})$。对这四个配置进行评估：\n- $(0,1,0)$: $1\\lor 0=1$ (保留)。\n- $(0,1,1)$: $1\\lor 1=1$ (保留)。\n- $(1,0,0)$: $0\\lor 0=0$ (舍弃)。\n- $(1,1,0)$: $1\\lor 0=1$ (保留)。\n数量 $=3$ (奇数) $\\Rightarrow$ 具有奇偶完整性。\n\nB. 添加 $(x_{2}\\leftrightarrow x_{3})$，即 $x_2=x_3$。评估：\n- $(0,1,0)$: $1\\neq 0$ (舍弃)。\n- $(0,1,1)$: $1=1$ (保留)。\n- $(1,0,0)$: $0=0$ (保留)。\n- $(1,1,0)$: $1\\neq 0$ (舍弃)。\n数量 $=2$ (偶数) $\\Rightarrow$ 不具有奇偶完整性。\n\nC. 添加 $(x_{1}\\oplus x_{2}\\oplus x_{3}=1)$，即 1 的数量为奇数。评估：\n- $(0,1,0)$: 一个 $1$ (保留)。\n- $(0,1,1)$: 两个 $1$ (舍弃)。\n- $(1,0,0)$: 一个 $1$ (保留)。\n- $(1,1,0)$: 两个 $1$ (舍弃)。\n数量 $=2$ (偶数) $\\Rightarrow$ 不具有奇偶完整性。\n\nD. 添加 $(\\neg x_{2}\\lor x_{3})$，即 $x_2 \\Rightarrow x_3$。评估：\n- $(0,1,0)$: $\\neg 1\\lor 0=0\\lor 0=0$ (舍弃)。\n- $(0,1,1)$: $\\neg 1\\lor 1=0\\lor 1=1$ (保留)。\n- $(1,0,0)$: $\\neg 0\\lor 0=1\\lor 0=1$ (保留)。\n- $(1,1,0)$: $\\neg 1\\lor 0=0\\lor 0=0$ (舍弃)。\n数量 $=2$ (偶数) $\\Rightarrow$ 不具有奇偶完整性。\n\n只有系统 $S_{A}$ 产生奇数个稳定配置，因此只有 $S_{A}$ 具有奇偶完整性。", "answer": "$$\\boxed{A}$$", "id": "1454442"}, {"introduction": "将一个具体问题与计算复杂性类联系起来是理论计算机科学中的一项基本技能。本练习要求您分析 PARITY-VC 语言的复杂性，该语言涉及计算图中特定大小的顶点覆盖数量的奇偶性[@problem_id:1454450]。这个过程将指导您如何构建一个非确定性图灵机，其接受路径的数量恰好对应于问题的解的数量，这是证明一个问题属于 ⊕P 的标准方法。", "problem": "在图论中，一个无向图 $G=(V, E)$ 的**顶点覆盖**（vertex cover）是顶点集 $V$ 的一个子集 $S \\subseteq V$，使得对于图中的每一条边 $(u, v) \\in E$，$u$ 和 $v$ 中至少有一个顶点在 $S$ 中。顶点覆盖的大小是集合 $S$ 中的顶点数量。\n\n在计算复杂性理论中，复杂性类 $\\oplus\\text{P}$（读作“Parity P”）被定义为所有语言 $A$ 的集合，其中存在一个多项式时间的非确定性图灵机 (NTM) $M$，使得对于任何输入字符串 $x$，$x$ 属于 $A$ 当且仅当 $M$ 在输入 $x$ 上的接受计算路径的数量为奇数。\n\n考虑以下语言，我们称之为 PARITY-VC：\n$$L = \\{ \\langle G, k \\rangle \\mid G \\text{ 是一个无向图，其大小恰好为 } k \\text{ 的不同顶点覆盖的数量为奇数} \\}$$\n在这里，$\\langle G, k \\rangle$ 表示图 $G$ 和整数 $k$ 的一个合适的编码。\n\n下列哪个陈述最准确地描述了语言 $L$ 的复杂性？\n\nA. $L$ 属于 P（可在多项式时间内解决的问题类）。\nB. $L$ 是 NP-完备的。\nC. $L$ 属于 $\\oplus\\text{P}$。\nD. 判定 $L$ 的成员资格是不可判定的。", "solution": "我们需要刻画以下语言的复杂性\n$$L=\\{\\langle G,k\\rangle \\mid G \\text{ 拥有奇数个大小恰好为 } k \\text{ 的不同顶点覆盖}\\}.$$\n根据 $\\oplus\\text{P}$ 的定义，一个语言 $A$ 属于 $\\oplus\\text{P}$，如果存在一个多项式时间的非确定性图灵机 $M$，使得对于每个输入 $x$，$x\\in A$ 当且仅当 $M$ 在输入 $x$ 上的接受计算路径数量为奇数。\n\n为了证明 $L\\in\\oplus\\text{P}$，我们构造一个这样的图灵机 $M$，它在输入 $\\langle G=(V,E),k\\rangle$ 上在多项式时间内执行以下操作：\n\n1. 令 $V=\\{v_{1},\\dots,v_{n}\\}$。非确定性地猜测一个二进制字符串 $b_{1}\\dots b_{n}$，我们将其解释为子集 $S\\subseteq V$ 的特征向量，其中 $v_{i}\\in S$ 当且仅当 $b_{i}=1$。\n\n2. 确定性地计算 $s=\\sum_{i=1}^{n} b_{i}$。如果 $s\\neq k$，则在此路径上拒绝。\n\n3. 如果 $s=k$，则形成集合 $S=\\{v_{i}:b_{i}=1\\}$ 并确定性地验证 $S$ 是否为一个顶点覆盖，即，对于每条边 $(u,v)\\in E$，检查是否有 $u\\in S$ 或 $v\\in S$。如果这个条件成立，则接受；否则，拒绝。\n\n所有检查都在 $|V|+|E|$ 的多项式时间内完成。在子集 $S\\subseteq V$ 和比特串 $b_{1}\\dots b_{n}$ 之间存在一一对应关系，因此每个大小恰好为 $k$ 的子集 $S$ 都会产生恰好一条计算路径，该路径在 $s=k$ 时到达步骤 3。因此，$M$ 在输入 $\\langle G,k\\rangle$ 上的接受路径数量恰好是图 $G$ 中大小为 $k$ 的顶点覆盖的数量。因此，\n$$\\langle G,k\\rangle\\in L \\iff M \\text{ 在输入 } \\langle G,k\\rangle \\text{ 上的接受路径数量为奇数}，$$\n根据定义，这蕴含了 $L\\in \\oplus\\text{P}$。\n\n因此，在给定的选项中，最准确的陈述是 $L$ 属于 $\\oplus\\text{P}$。\n\n为了完整性，关于其他选项：我们不知道或不期望它属于 $\\text{P}$；它不是一个 $\\text{NP}$-完备语言，因为它不是一个标准的 $\\text{NP}$ 判定谓词（它关心的是奇偶性而不是存在性）；并且它显然是可判定的，所以不是不可判定的。正确的选项是 C。", "answer": "$$\\boxed{C}$$", "id": "1454450"}, {"introduction": "复杂性类不仅是问题的容器，它们之间还存在着丰富的结构和关系。这个练习探讨了 ODD-SAT 和一个密切相关的变体 EVEN-SAT 之间的关系，挑战您思考如何利用一个问题的“神谕”（oracle）来解决另一个问题[@problem_id:1454447]。通过构建一个从 ODD-SAT 到 EVEN-SAT 的归约，您将更深入地理解这些问题之间的相对难度以及 ⊕P 内部的计算能力。", "problem": "在计算复杂性理论中，我们通常根据解决问题所需的资源对问题进行分类。除了判定问题，我们还可以考虑计数问题。对于一个给定的布尔公式 $\\phi$，令 $\\text{\\#SAT}(\\phi)$ 表示 $\\phi$ 的不同满足赋值的数量。函数复杂性类 $\\#\\text{P}$ 由计数在多项式时间内运行的非确定性图灵机的接受路径数量的函数组成。计算 $\\text{\\#SAT}$ 是该类的一个典型的完全问题。\n\n从计数类中，我们可以定义新的判定类。其中一类是 Parity-P (⊕P)，它包含所有可由多项式时间非确定性图灵机解决的判定问题，该图灵机当且仅当其接受计算路径的数量为奇数时接受输入。⊕P 的典型完全问题是 $\\text{ODD-SAT}$，即所有具有奇数个满足赋值的布尔公式的语言。\n\n考虑一个相关的语言 $\\text{EVEN-SAT}$，定义为所有具有正偶数个满足赋值的布尔公式的集合。形式上：\n$$ \\text{EVEN-SAT} = \\{\\phi \\mid \\#\\text{SAT}(\\phi) > 0 \\text{ and } \\#\\text{SAT}(\\phi) \\equiv 0 \\pmod 2 \\} $$\n\n根据这些定义，下列关于 $\\text{EVEN-SAT}$ 复杂性的陈述中哪一个是正确的？\n\nA. $\\text{EVEN-SAT}$ 属于 NP 类。\nB. $\\text{EVEN-SAT}$ 属于 co-NP 类。\nC. $\\text{EVEN-SAT}$ 是 $\\text{ODD-SAT}$ 的补集。\nD. $\\text{ODD-SAT}$ 可以在多项式时间内由一台可以访问 $\\text{EVEN-SAT}$ 预言机的确定性图灵机解决。", "solution": "问题要求我们确定关于语言 $\\text{EVEN-SAT}$ 复杂性的正确陈述。我们将逐步分析每个选项。\n\n设 $\\phi$ 是一个有 $n$ 个变量的布尔公式。\n语言 $\\text{ODD-SAT}$ 定义为 $\\{\\phi \\mid \\#\\text{SAT}(\\phi) \\equiv 1 \\pmod 2\\}$。\n语言 $\\text{EVEN-SAT}$ 定义为 $\\{\\phi \\mid \\#\\text{SAT}(\\phi) > 0 \\text{ and } \\#\\text{SAT}(\\phi) \\equiv 0 \\pmod 2\\}$。\n\n**选项A分析：$\\text{EVEN-SAT}$ 属于 NP。**\n如果对于语言 $L$ 中的每个实例 $x \\in L$，都存在一个可以在多项式时间内验证的多项式长度的证据（certificate），那么 $L$ 就在 NP 中。对于 $\\phi \\in \\text{EVEN-SAT}$，一个潜在的证据可以是它的一个满足赋值。验证者当然可以在多项式时间内检查一个给定的赋值是否满足 $\\phi$。然而，这只证明了 $\\#\\text{SAT}(\\phi) > 0$。它没有提供关于满足赋值的总数是否为偶数的信息。要知道总数是偶数，似乎需要将它们全部计数，这是一个 $\\#\\text{P}$-难问题。对于“偶数性”这一属性，目前没有已知的可在多项式时间内验证的多项式长度的证据。因此，$\\text{EVEN-SAT}$ 不被认为属于 NP。\n\n**选项B分析：$\\text{EVEN-SAT}$ 属于 co-NP。**\n如果一个语言 $L$ 的补集 $\\bar{L}$ 属于 NP，那么 $L$ 属于 co-NP。$\\text{EVEN-SAT}$ 的补集是所有不属于 $\\text{EVEN-SAT}$ 的公式的集合。\n$$ \\overline{\\text{EVEN-SAT}} = \\{\\phi \\mid \\neg(\\#\\text{SAT}(\\phi) > 0 \\text{ and } \\#\\text{SAT}(\\phi) \\text{ is even})\\} $$\n$$ \\overline{\\text{EVEN-SAT}} = \\{\\phi \\mid \\#\\text{SAT}(\\phi) = 0 \\text{ or } \\#\\text{SAT}(\\phi) \\text{ is odd}\\} $$\n这是语言 $\\text{UNSAT}$（解为0的公式）和 $\\text{ODD-SAT}$ 的并集。要证明 $\\overline{\\text{EVEN-SAT}}$ 属于 NP，我们需要为任何不可满足或具有奇数个解的公式 $\\phi$ 提供一个证据。如果 $\\phi$ 有奇数个解，单个满足赋值可以作为证据，但验证者将面临与选项A中相同的问题：无法确认解的总数是奇数。如果 $\\phi$ 是不可满足的，则没有已知的短证据（这就是 $\\text{UNSAT}$ 是 co-NP-完全问题的本质）。由于没有已知的统一证据适用于 $\\overline{\\text{EVEN-SAT}}$ 中的所有情况，因此它不被认为属于 NP。因此，$\\text{EVEN-SAT}$ 也不被认为属于 co-NP。\n\n**选项C分析：$\\text{EVEN-SAT}$ 是 $\\text{ODD-SAT}$ 的补集。**\n语言 $\\text{ODD-SAT}$ 是 $\\{\\phi \\mid \\#\\text{SAT}(\\phi) \\text{ is odd}\\}$。\n它的补集 $\\overline{\\text{ODD-SAT}}$ 是所有不具有奇数个满足赋值的公式的集合。\n$$ \\overline{\\text{ODD-SAT}} = \\{\\phi \\mid \\#\\text{SAT}(\\phi) \\text{ is even}\\} $$\n这包括满足 $\\#\\text{SAT}(\\phi) = 0$ 的公式。\n语言 $\\text{EVEN-SAT}$ 是 $\\{\\phi \\mid \\#\\text{SAT}(\\phi) > 0 \\text{ and } \\#\\text{SAT}(\\phi) \\text{ is even}\\}$。\n这两个集合是不同的。例如，一个不可满足的公式 $\\phi$（例如，$x \\land \\neg x$）有 $\\#\\text{SAT}(\\phi)=0$，这是一个偶数。所以，$\\phi \\in \\overline{\\text{ODD-SAT}}$，但 $\\phi \\notin \\text{EVEN-SAT}$，因为解的数量不是正数。因此，$\\text{EVEN-SAT}$ 不是 $\\text{ODD-SAT}$ 的补集。\n\n**选项D分析：$\\text{ODD-SAT}$ 可以在多项式时间内由一台可以访问 $\\text{EVEN-SAT}$ 预言机的确定性图灵机解决。**\n这个陈述声称存在一个从 $\\text{ODD-SAT}$ 到 $\\text{EVEN-SAT}$ 的多项式时间归约。让我们尝试构造一个使用 $\\text{EVEN-SAT}$ 预言机的算法来解决 $\\text{ODD-SAT}$。设预言机为 `isEvenSat(formula)`。\n\n一个判定给定公式 $\\phi$ 是否在 $\\text{ODD-SAT}$ 中的算法如下：\n1. 调用预言机 `isEvenSat`($\\phi$)。\n2. 如果 `isEvenSat`($\\phi$) 返回 TRUE，这意味着 $\\#\\text{SAT}(\\phi)$ 是正偶数。因此，$\\#\\text{SAT}(\\phi)$ 不是奇数。算法返回 FALSE。\n3. 如果 `isEvenSat`($\\phi$) 返回 FALSE，根据 `EVEN-SAT` 的定义，这意味着 $\\#\\text{SAT}(\\phi) = 0$ 或 $\\#\\text{SAT}(\\phi)$ 是奇数。我们必须区分这两种情况。\n4. 为了区分它们，我们构造一个新公式 $\\phi'$。设 $\\phi$ 有 $n$ 个变量 $x_1, \\dots, x_n$。我们创建一个带有额外新变量 $y$ 的 $\\phi'$：\n   $$ \\phi' = \\phi \\lor y $$\n   $\\phi'$ 的变量是 $(x_1, \\dots, x_n, y)$。让我们来计算 $\\phi'$ 的满足赋值的数量。\n   一个赋值如果满足 $\\phi$ 或者满足 $y$，那么它就满足 $\\phi'$。这些赋值可以根据 $y$ 的值分为两组：\n   - 如果 $y=1$：公式 $\\phi'$ 变为 $\\phi \\lor 1$，这永远为 TRUE。任何对 $x_1, \\dots, x_n$ 的赋值都将满足 $\\phi'$。有 $2^n$ 个这样的赋值。\n   - 如果 $y=0$：公式 $\\phi'$ 变为 $\\phi \\lor 0$，这等价于 $\\phi$。对于 $x_1, \\dots, x_n$ 的满足赋值数量为 $\\#\\text{SAT}(\\phi)$。\n   $\\phi'$ 的满足赋值总数是这两个不相交情况的和：\n   $$ \\#\\text{SAT}(\\phi') = \\#\\text{SAT}(\\phi) + 2^n $$\n   我们假设变量数量 $n \\ge 1$，所以 $2^n$ 是一个正偶数。\n   \n5. 现在，我们根据第3步中 $\\#\\text{SAT}(\\phi)$ 的两种可能性来分析 $\\#\\text{SAT}(\\phi')$：\n   - 情况3a：如果 $\\#\\text{SAT}(\\phi) = 0$，那么 $\\#\\text{SAT}(\\phi') = 0 + 2^n = 2^n$。由于 $n \\ge 1$，$\\#\\text{SAT}(\\phi')$ 是一个正偶数。因此，在这种情况下，$\\phi' \\in \\text{EVEN-SAT}$。\n   - 情况3b：如果 $\\#\\text{SAT}(\\phi)$ 是奇数，那么 $\\#\\text{SAT}(\\phi') = \\text{奇数} + \\text{偶数} = \\text{奇数}$。奇数不可能是0。所以 $\\#\\text{SAT}(\\phi')$ 是一个正奇数。因此，在这种情况下，$\\phi' \\notin \\text{EVEN-SAT}$。\n   \n6. 现在我们可以使用我们的预言机对 $\\phi'$ 进行判断来区分这两种情况。\n   调用 `isEvenSat`($\\phi'$)。\n   - 如果 `isEvenSat`($\\phi'$) 返回 TRUE，我们处于情况3a，意味着 $\\#\\text{SAT}(\\phi) = 0$。这不是奇数。算法返回 FALSE。\n   - 如果 `isEvenSat`($\\phi'$) 返回 FALSE，我们处于情况3b，意味着 $\\#\\text{SAT}(\\phi)$ 是奇数。算法返回 TRUE。\n\n这个完整的算法在多项式时间内判定 $\\text{ODD-SAT}$。它对 `EVEN-SAT` 进行了两次预言机调用，并涉及 $\\phi'$ 的多项式时间构造。因此，选项D中的陈述是正确的。\n\n最终结论：选项A、B和C不正确。选项D正确。", "answer": "$$\\boxed{D}$$", "id": "1454447"}]}