{"hands_on_practices": [{"introduction": "虽然矩阵积和式（permanent）的计算通常很复杂，但它与我们更熟悉的行列式（determinant）共享一些特性。本练习将通过一个基础性的检验，将积和式的定义应用于一种特殊矩阵——上三角矩阵，来观察是否会出现类似的简化规律。这项实践有助于巩固对“遍历所有置换求和”这一核心定义的理解。[@problem_id:1461317]", "problem": "在计算复杂性理论中，矩阵的积和式是一个通常计算困难的函数，与行列式不同。本题探讨一个特例。一个 $n \\times n$ 矩阵 $A = (a_{ij})$ 的积和式由以下公式定义：\n$$\n\\text{perm}(A) = \\sum_{\\sigma \\in S_n} \\prod_{i=1}^n a_{i, \\sigma(i)}\n$$\n其中 $S_n$ 是集合 $\\{1, 2, \\dots, n\\}$ 上所有排列的集合。\n\n考虑以下 $4 \\times 4$ 上三角矩阵 $M$：\n$$\nM = \\begin{pmatrix}\nm_{11}  m_{12}  m_{13}  m_{14} \\\\\n0  m_{22}  m_{23}  m_{24} \\\\\n0  0  m_{33}  m_{34} \\\\\n0  0  0  m_{44}\n\\end{pmatrix}\n$$\n其中当 $i \\le j$ 时，元素 $m_{ij}$ 为任意非零值，而当 $i  j$ 时，所有元素 $m_{ij}$ 均为零。\n\n使用所给定义，计算矩阵 $M$ 的积和式。将您的答案表示为以 $M$ 的元素表示的闭式解析表达式。", "solution": "根据积和式的定义，$\\text{perm}(A) = \\sum_{\\sigma \\in S_n} \\prod_{i=1}^n a_{i, \\sigma(i)}$。\n对于给定的上三角矩阵 $M$，一个乘积项 $\\prod_{i=1}^4 m_{i, \\sigma(i)}$ 要非零，必须满足其所有因子 $m_{i, \\sigma(i)}$ 都非零。\n由于 $M$ 是上三角矩阵，当 $i > j$ 时 $m_{ij} = 0$。这意味着对于一个非零项，每个 $i$ 都必须满足 $\\sigma(i) \\ge i$。\n唯一满足此条件的置换 $\\sigma \\in S_4$ 是恒等置换（identity permutation），即 $\\sigma(i) = i$ 对所有 $i$ 成立。\n因此，在求和式的所有 $4!$ 项中，只有对应于恒等置换的一项是非零的。\n这一项的值是 $\\prod_{i=1}^4 m_{i,i} = m_{11}m_{22}m_{33}m_{44}$。\n所以，矩阵 $M$ 的积和式就是其对角元素的乘积。", "answer": "$$\\boxed{m_{11} m_{22} m_{33} m_{44}}$$", "id": "1461317"}, {"introduction": "积和式与行列式之间的关键区别仅在于一个符号。本练习将在最简单的非平凡情况——$2 \\times 2$ 矩阵中，探讨这一差异所带来的直接后果。通过找出所有由 $0$ 和 $1$ 组成的矩阵中使得这两个函数值相等的情况，你将对它们行为上的分歧获得一种具体的直观感受。[@problem_id:1461350]", "problem": "在一个用于研究计算问题的简化模型中，我们考虑一类特殊的二分图。这些图的连通性可以用一个 $2 \\times 2$ 矩阵 $A$ 来表示，其中每个元素 $a_{ij}$ 为 $0$ 或 $1$。元素 $1$ 代表存在连接，而 $0$ 代表不存在连接。\n\n给定这样一个矩阵 $A = \\begin{pmatrix} a  b \\\\ c  d \\end{pmatrix}$，定义了两个重要的函数：\n1.  矩阵的行列式，由 $\\det(A) = ad - bc$ 给出。\n2.  矩阵的积和式，一个相关的函数，由 $\\text{perm}(A) = ad + bc$ 给出。对于一般矩阵，积和式的计算是出了名的困难，并且是计算复杂性理论中的一个核心课题。\n\n你的任务是确定有多少个不同的 $2 \\times 2$ 矩阵，其元素完全来自集合 $\\{0, 1\\}$，且其积和式的值等于行列式的值。", "solution": "设 $A=\\begin{pmatrix} a  b \\\\ c  d \\end{pmatrix}$，其中 $a,b,c,d \\in \\{0,1\\}$。行列式和积和式分别为\n$$\n\\det(A)=ad-bc, \\quad \\text{perm}(A)=ad+bc.\n$$\n要求 $\\text{perm}(A)=\\det(A)$，可得\n$$\nad+bc=ad-bc \\quad \\Longrightarrow \\quad 2bc=0.\n$$\n因为 $b,c \\in \\{0,1\\}$，所以我们有 $bc \\in \\{0,1\\}$。在整数范围内，方程 $2bc=0$ 成立当且仅当 $bc=0$。因此，条件恰好是 $b$ 和 $c$ 不都为 $1$。\n\n为了计算这类矩阵的数量，我们选择满足 $bc=0$ 的 $(b,c)$。有 $3$ 种这样的数对：$(0,0)$、$(0,1)$ 和 $(1,0)$。对于 $(b,c)$ 的每一种选择，元素 $a$ 和 $d$ 都是自由的，可以各自取 $0$ 或 $1$，这给出了 $2 \\times 2 = 4$ 种可能性。因此总数为\n$$\n3 \\times 4 = 12.\n$$\n等价地，从所有 $2^{4}=16$ 个矩阵中，排除那些 $b=c=1$ 的矩阵（由于 $a$ 和 $d$ 是自由的，这样的矩阵有 $4$ 个），得到 $16-4=12$。", "answer": "$$\\boxed{12}$$", "id": "1461350"}, {"introduction": "尽管计算积和式的精确值是一个著名的困难问题（#P-complete），但并非其所有方面都是棘手的。本练习探讨了一个连接积和式与行列式模 $2$ 的非凡恒等式 $\\text{perm}(A) \\equiv \\text{det}(A) \\pmod{2}$。通过理解这一关系，我们可以对其奇偶性的计算复杂度得出一个强有力的结论，从而揭示计算难度世界中的一个迷人而微妙之处。[@problem_id:1461368]", "problem": "在计算复杂性理论中，一个 $n \\times n$ 矩阵 $A = (a_{ij})$ 的积和式（permanent）定义为：\n$$\n\\text{perm}(A) = \\sum_{\\sigma \\in S_n} \\prod_{i=1}^n a_{i, \\sigma(i)}\n$$\n其中 $S_n$ 是集合 $\\{1, 2, \\dots, n\\}$ 的所有排列的集合。这个定义与行列式（determinant）的定义非常相似，只是它省略了排列的符号。计算矩阵的积和式是一个出了名的难题，已知它属于复杂性类 #P完全（Sharp-P-complete）。这类问题包含了其相应判定问题在 NP 类中的计数问题，并且 #P完全问题被认为即使对于量子计算机也是难解的。\n\n然而，一个显著的恒等式将积和式与行列式联系起来，适用于任何整数项矩阵 $A$：\n$$\n\\text{perm}(A) \\equiv \\text{det}(A) \\pmod{2}\n$$\n计算行列式的问题是已知的可以在多项式时间内解决，因此它属于复杂性类 P（多项式时间），这被认为是计算上可行的。\n\n基于这个恒等式，关于计算整数矩阵模2的积和式的计算复杂性，最准确的结论是什么？\n\nA. 计算 $\\text{perm}(A) \\pmod{2}$ 仍然是 #P完全问题，因为积和式函数本身是复杂的。\nB. 计算 $\\text{perm}(A) \\pmod{2}$ 可以在多项式时间内完成。\nC. 该恒等式意味着 P = #P，从而导致复杂性层次结构的坍缩。\nD. 该恒等式仅对元素仅为0或1的矩阵在计算上有用，并且对于任意整数矩阵没有提供通用的简化方法。", "solution": "我们从定义开始。对于一个整数上的 $n \\times n$ 矩阵 $A=(a_{ij})$，积和式和行列式的展开式为\n$$\n\\text{perm}(A) = \\sum_{\\sigma \\in S_{n}} \\prod_{i=1}^{n} a_{i,\\sigma(i)}, \\qquad\n\\det(A) = \\sum_{\\sigma \\in S_{n}} \\operatorname{sgn}(\\sigma)\\prod_{i=1}^{n} a_{i,\\sigma(i)}.\n$$\n考虑模 $2$ 简化，即，在环 $R=\\mathbb{Z}/2\\mathbb{Z}$ 中进行计算。在 $R$ 中，我们有 $-1 \\equiv 1 \\pmod{2}$。因此，对任意排列 $\\sigma$，因子 $\\operatorname{sgn}(\\sigma)$ 都满足 $\\operatorname{sgn}(\\sigma) \\equiv 1 \\pmod{2}$。由此得出\n$$\n\\det(A) \\equiv \\sum_{\\sigma \\in S_{n}} \\prod_{i=1}^{n} a_{i,\\sigma(i)} \\equiv \\text{perm}(A) \\pmod{2}.\n$$\n因此，对于任何整数矩阵 $A$，$\\text{perm}(A) \\pmod{2}$ 等于 $\\det(A) \\pmod{2}$。\n\n从计算的角度来看，使用诸如高斯消元法之类的标准算法，计算整数上的 $\\det(A)$ 或直接在环 $R$ 上计算 $\\det(A) \\bmod 2$ 都可以在多项式时间内完成，这些算法的运行时间是 $n$ 的多项式。由于 $\\text{perm}(A) \\bmod 2$ 等于 $\\det(A) \\bmod 2$，我们可以通过计算 $\\det(A) \\bmod 2$ 在多项式时间内计算出 $\\text{perm}(A) \\bmod 2$。\n\n这并不意味着任何诸如 $\\text{P}=\\#\\text{P}$ 的复杂性类的坍缩；它只表明模2这个特定的模运算变体是容易计算的，而精确的积和式（以及许多其他模运算变体）仍然是 $\\#\\text{P}$难的。\n\n因此，最准确的结论是计算 $\\text{perm}(A) \\pmod{2}$ 可以在多项式时间内完成。", "answer": "$$\\boxed{B}$$", "id": "1461368"}]}