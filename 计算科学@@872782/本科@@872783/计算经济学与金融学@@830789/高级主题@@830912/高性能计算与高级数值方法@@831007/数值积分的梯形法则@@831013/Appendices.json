{"hands_on_practices": [{"introduction": "我们将从一个资源经济学中的经典问题入手，来练习梯形法则的应用。这个练习将帮助你掌握如何建立和计算数值积分，从一个给定的变化率函数（例如资源开采速率）来求得一个累计总量 [@problem_id:2444238]。这是一个将理论付诸实践的基础步骤。", "problem": "一家资源开采公司根据符合霍特林法则的跨期模型来运营一个石油储备。在时间 $t$（单位为年）的瞬时开采率为 $E(t) = E_{0}\\exp(r t)$，其中 $E_{0}$ 是初始开采率（单位为桶/年），$r$ 是一个恒定的增长率（单位为年$^{-1}$）。在时间区间 $[0,T]$ 内的累计开采量是时间积分 $\\int_{0}^{T} E(t)\\,dt$。该公司在时间点 $t_{k} = k$（其中 $k=0,1,2,\\dots,20$）每年记录一次开采率。\n\n使用复合梯形法则在此年度网格上估计该积分，计算当 $E_{0} = 5.0 \\times 10^{7}$ 且 $r = 0.03$ 时，在 $T=20$ 年内开采的石油总量。请用十亿桶作为单位表示最终答案，并将答案四舍五入到四位有效数字。", "solution": "该问题要求计算在 $T=20$ 年期间开采的石油总量，该总量由开采率 $E(t)$ 的定积分给出。开采率由函数 $E(t) = E_{0}\\exp(r t)$ 建模。我们被要求使用复合梯形法则，并利用给定的网格和参数来估计这个积分。\n\n首先，我们必须验证问题陈述。\n\n**第一步：提取已知条件**\n- 瞬时开采率：$E(t) = E_{0}\\exp(r t)$\n- 时间 $t$ 的单位是年。\n- $E_{0}$ 是初始开采率，单位为桶/年。\n- $r$ 是恒定增长率，单位为年$^{-1}$。\n- 在 $[0,T]$ 上的累计开采量：$\\int_{0}^{T} E(t)\\,dt$。\n- 数据记录时间点：$t_{k} = k$，其中 $k=0,1,2,\\dots,20$。\n- 数值方法：复合梯形法则。\n- 时间范围：$T=20$ 年。\n- 初始开采率：$E_{0} = 5.0 \\times 10^{7}$ 桶/年。\n- 增长率：$r = 0.03$ 年$^{-1}$。\n- 最终答案要求：以十亿桶为单位表示，并四舍五入到四位有效数字。\n\n**第二步：使用提取的已知条件进行验证**\n该问题具有科学依据，因为它采用了一个标准的指数增长模型和一个基本的数值积分技术（梯形法则）。它是适定的，提供了计算唯一数值结果所需的所有参数（$E_0$、$r$、$T$）和离散化（$t_k=k$）的明确定义。语言客观而精确。该问题不违反任何无效标准。例如，它在科学上并非不合理，因为指数模型在经济学中很常见。它也不是不完整的，因为计算所需的所有数据都已提供。\n\n**第三步：结论与行动**\n问题有效。我将继续进行解答。\n\n问题要求对代表累计开采量的积分进行数值近似，我们将其表示为 $Q$：\n$$ Q = \\int_{0}^{20} E(t) \\, dt = \\int_{0}^{20} E_{0}\\exp(r t) \\, dt $$\n我们将使用复合梯形法则。时间点由 $t_k = k$ 给出，其中 $k=0, 1, \\dots, 20$。这定义了区间 $[0, 20]$ 的一个划分，分为 $n=20$ 个子区间，每个子区间的宽度 $h = t_{k+1} - t_k = 1$ 年。\n\n复合梯形法则的公式为：\n$$ Q_{T} = h \\left( \\frac{E(t_0) + E(t_n)}{2} + \\sum_{k=1}^{n-1} E(t_k) \\right) $$\n代入给定的参数和函数：$n=20$，$h=1$，$t_k=k$，$E(t_k) = E_0 \\exp(r t_k) = E_0 \\exp(rk)$。\n$$ Q_{T} = 1 \\cdot \\left( \\frac{E_0 \\exp(0) + E_0 \\exp(20r)}{2} + \\sum_{k=1}^{19} E_0 \\exp(rk) \\right) $$\n提出常数 $E_0$：\n$$ Q_{T} = E_0 \\left( \\frac{1 + \\exp(20r)}{2} + \\sum_{k=1}^{19} \\exp(rk) \\right) $$\n现在，我们代入给定的数值：$E_{0} = 5.0 \\times 10^{7}$ 和 $r = 0.03$。积分范围给出 $20r = 20 \\times 0.03 = 0.6$。\n首先计算指数项的值：\n$\\exp(0.03) \\approx 1.0304545$\n$\\exp(0.6) \\approx 1.8221188$\n\n接下来计算求和部分 $\\sum_{k=1}^{19} \\exp(0.03k)$。这是一个公比为 $q = \\exp(0.03)$ 的几何级数。\n$$ \\sum_{k=1}^{19} q^k = q \\frac{q^{19}-1}{q-1} \\approx 1.0304545 \\frac{1.0304545^{19}-1}{1.0304545-1} \\approx 1.0304545 \\frac{1.75876 - 1}{0.0304545} \\approx 24.9125 $$\n现在，将所有值代入 $Q_T$ 的表达式中：\n$$ Q_T \\approx 5.0 \\times 10^7 \\left( \\frac{1 + 1.8221188}{2} + 24.9125 \\right) $$\n$$ Q_T \\approx 5.0 \\times 10^7 \\left( \\frac{2.8221188}{2} + 24.9125 \\right) $$\n$$ Q_T \\approx 5.0 \\times 10^7 \\left( 1.4110594 + 24.9125 \\right) $$\n$$ Q_T \\approx 5.0 \\times 10^7 \\left( 26.3235594 \\right) $$\n$$ Q_T \\approx 1316177970 \\text{ 桶} $$\n*为避免中间步骤的舍入误差，并保持与解析推导一致，我们重新使用 solution 中更精确的代数方法：*\n$$ Q_{T} = \\frac{E_{0}}{2} (1 + \\exp(r)) \\frac{\\exp(20r) - 1}{\\exp(r) - 1} $$\n代入数值：$E_{0} = 5.0 \\times 10^{7}$ 和 $r = 0.03$。\n$$ Q_{T} = \\frac{5.0 \\times 10^{7}}{2} (1 + \\exp(0.03)) \\frac{\\exp(0.6) - 1}{\\exp(0.03) - 1} $$\n使用计算器获得更高精度的值：\n$\\exp(0.03) \\approx 1.0304545336$\n$\\exp(0.6) \\approx 1.8221188004$\n$$ Q_{T} \\approx (2.5 \\times 10^{7}) \\cdot (2.0304545336) \\frac{0.8221188004}{0.0304545336} $$\n$$ Q_{T} \\approx (2.5 \\times 10^{7}) \\cdot (2.0304545336) \\cdot (26.99420028) $$\n$$ Q_{T} \\approx (2.5 \\times 10^{7}) \\cdot (54.81434191) $$\n$$ Q_{T} \\approx 1370358547.75 \\text{ 桶} $$\n问题要求答案以十亿桶为单位表示（$1 \\text{ 十亿} = 10^9$）。\n$$ Q_{T} \\approx \\frac{1370358547.75}{10^9} \\text{ 十亿桶} $$\n$$ Q_{T} \\approx 1.37035854775 \\text{ 十亿桶} $$\n最后，我们必须将结果四舍五入到四位有效数字。\n$$ Q_{T} \\approx 1.370 \\text{ 十亿桶} $$", "answer": "$$\n\\boxed{1.370}\n$$", "id": "2444238"}, {"introduction": "任何数值近似的价值都取决于我们对其精度的了解。这个练习将我们的重点从简单的计算转移到误差分析上 [@problem_id:2170478]。你将学习如何使用梯形法则的误差界限公式，来确定需要多少个子区间才能确保我们的计算结果满足预设的精度要求，这是工程和经济建模中的一项关键技能。", "problem": "一个工程团队正在为一座现代建筑的立面设计一个装饰性的建筑元素。该元素顶部的弯曲轮廓横跨两根柱子之间的水平距离，由函数 $f(x) = h_0 \\cos\\left(\\frac{\\pi x}{2L}\\right)$ 描述。此处，$x$ 是以米为单位的水平位置，其中 $x=0$ 位于两根柱子之间的中点。柱子位于 $x=-L$ 和 $x=L$ 处。参数 $h_0$ 是拱形的最大高度，$2L$ 是总跨度。\n\n为了估算材料成本，团队需要计算此曲线下的横截面积，该面积由积分 $\\int_{-L}^{L} f(x) \\,dx$ 给出。他们决定使用复合梯形法则进行此数值近似计算。设计规格为 $h_0 = 10 \\text{ m}$ 和 $L = 20 \\text{ m}$。\n\n为确保成本估算的准确性，面积计算的绝对误差必须小于 $E_{max} = 0.1 \\text{ m}^2$。为保证达到此精度水平，梯形法则中必须使用的最小整数子区间数 $n$ 是多少？", "solution": "我们希望使用复合梯形法则，在区间 $[a,b]=[-L,L]$ 上用 $n$ 个子区间来近似计算函数 $f(x)=h_{0}\\cos\\left(\\frac{\\pi x}{2L}\\right)$ 的积分 $\\int_{-L}^{L} f(x)\\,dx$。对于在 $[a,b]$ 上具有连续二阶导数的函数，复合梯形法则的误差界为\n$$\n|E_{T}| \\leq \\frac{(b-a)^{3}}{12 n^{2}} \\max_{x \\in [a,b]} |f''(x)|.\n$$\n\n首先，计算 $f''(x)$。令 $k=\\frac{\\pi}{2L}$。那么\n$$\nf(x)=h_{0}\\cos(kx),\\quad f'(x)=-h_{0}k\\sin(kx),\\quad f''(x)=-h_{0}k^{2}\\cos(kx).\n$$\n因此\n$$\n|f''(x)|=h_{0}k^{2}|\\cos(kx)| \\leq h_{0}k^{2}=h_{0}\\left(\\frac{\\pi}{2L}\\right)^{2}.\n$$\n当 $a=-L$，$b=L$ 时，我们有 $b-a=2L$。代入误差界公式，\n$$\n|E_{T}| \\leq \\frac{(2L)^{3}}{12 n^{2}} \\cdot h_{0}\\left(\\frac{\\pi}{2L}\\right)^{2}\n= \\frac{8L^{3}}{12 n^{2}} \\cdot h_{0}\\frac{\\pi^{2}}{4L^{2}}\n= \\frac{\\pi^{2}}{6}\\cdot \\frac{h_{0}L}{n^{2}}.\n$$\n\n为保证 $|E_{T}| \\leq E_{\\max}$，只需满足\n$$\n\\frac{\\pi^{2}}{6}\\cdot \\frac{h_{0}L}{n^{2}} \\leq E_{\\max}\n\\quad\\Longrightarrow\\quad\nn^{2} \\geq \\frac{\\pi^{2}}{6}\\cdot \\frac{h_{0}L}{E_{\\max}}\n\\quad\\Longrightarrow\\quad\nn \\geq \\sqrt{\\frac{\\pi^{2}}{6}\\cdot \\frac{h_{0}L}{E_{\\max}}}.\n$$\n\n当 $h_{0}=10$，$L=20$ 且 $E_{\\max}=0.1$ 时，这变为\n$$\nn \\geq \\sqrt{\\frac{\\pi^{2}}{6}\\cdot \\frac{10\\cdot 20}{0.1}}\n= \\sqrt{\\frac{\\pi^{2}}{6}\\cdot 2000}\n= \\sqrt{\\frac{1000}{3}\\,\\pi^{2}}.\n$$\n数值上，$\\frac{1000}{3}\\pi^{2} \\approx 3289.87$，所以 $n \\geq \\sqrt{3289.87} \\approx 57.357$。因此，保证所需精度的最小整数 $n$ 是 $58$。", "answer": "$$\\boxed{58}$$", "id": "2170478"}, {"introduction": "现在，让我们来解决一个更巧妙的问题，它要求我们逆向思考。如果我们已知积分的精确值（例如，从基尼系数 $G$ 推导），我们能否反过来推算出缺失的数据点？这个问题 [@problem_id:2444241] 让你像侦探一样，利用梯形法则的代数结构来揭示未知信息，这能加深你对该方法在经济数据分析中灵活应用的理解。", "problem": "在收入分配分析中，基尼系数 $G$ 由洛伦兹曲线 $L(p)$ 通过关系式 $G = 1 - 2 \\int_{0}^{1} L(p) \\, dp$ 定义，其中 $p \\in [0,1]$ 表示累积人口份额，$L(p)$ 表示相应的累积收入份额。某国家统计局报告某一年的基尼系数为 $G = 0.336$。通过微观数据汇总，洛伦兹曲线已在均匀网格 $p \\in \\{0, 0.2, 0.4, 0.6, 0.8, 1\\}$ 上制成表格，除一点外，其余各点的值已知如下：\n- $L(0) = 0$，\n- $L(0.2) = 0.05$，\n- $L(0.4) = 0.15$，\n- $L(0.6) = \\text{未知}$，\n- $L(0.8) = 0.60$，\n- $L(1) = 1$。\n\n在此网格上，积分 $\\int_{0}^{1} L(p) \\, dp$ 将使用复合梯形法则进行近似。\n\n仅使用上述信息，确定缺失值 $L(0.6)$。请将最终答案表示为小数。", "solution": "根据定义，基尼系数 $G$ 和洛伦兹曲线 $L(p)$ 满足\n$$\nG \\;=\\; 1 \\;-\\; 2 \\int_{0}^{1} L(p) \\, dp.\n$$\n因此，洛伦兹曲线的积分为\n$$\n\\int_{0}^{1} L(p) \\, dp \\;=\\; \\frac{1 - G}{2}.\n$$\n当 $G = 0.336$ 时，可得\n$$\n\\int_{0}^{1} L(p) \\, dp \\;=\\; \\frac{1 - 0.336}{2} \\;=\\; \\frac{0.664}{2} \\;=\\; 0.332.\n$$\n\n我们使用复合梯形法则在步长 $h = 0.2$ 的均匀网格 $p_i = 0, 0.2, 0.4, 0.6, 0.8, 1$ 上近似 $\\int_{0}^{1} L(p) \\, dp$。记未知值 $L(0.6)$ 为 $x$。复合梯形法则给出\n$$\n\\int_{0}^{1} L(p) \\, dp \\;\\approx\\; h \\left( \\frac{L(0)+L(1)}{2} + L(0.2) + L(0.4) + L(0.6) + L(0.8) \\right).\n$$\n代入已知值和 $h = 0.2$，\n$$\n\\int_{0}^{1} L(p) \\, dp \\;\\approx\\; 0.2 \\left( \\frac{0 + 1}{2} + 0.05 + 0.15 + x + 0.60 \\right)\n\\;=\\; 0.2 \\left( 0.5 + 0.05 + 0.15 + 0.60 + x \\right)\n\\;=\\; 0.2 \\left( 1.30 + x \\right)\n\\;=\\; 0.26 + 0.2 x.\n$$\n将此近似值与由 $G$ 推导出的值相等，\n$$\n0.26 + 0.2 x \\;=\\; 0.332.\n$$\n解出 $x$，\n$$\n0.2 x \\;=\\; 0.332 - 0.26 \\;=\\; 0.072,\n\\qquad\nx \\;=\\; \\frac{0.072}{0.2} \\;=\\; 0.36.\n$$\n因此，缺失的洛伦兹曲线值为 $L(0.6) = 0.36$。", "answer": "$$\\boxed{0.36}$$", "id": "2444241"}]}