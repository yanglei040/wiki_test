{"hands_on_practices": [{"introduction": "在应用任何压缩算法之前，分析数据的内在结构是至关重要的一步。行程长度编码（RLE）的效率直接取决于数据中连续重复字符（即“行程”）的长度。本练习将通过计算一个二进制序列的平均行程长度，帮助您掌握评估数据对RLE友好程度的基本技能 [@problem_id:1655619]。", "problem": "一个简单的二进制成像传感器产生一维数据流，其中 '1' 代表白色像素，'0' 代表黑色像素。为了压缩这些数据以便传输，我们分析相同连续比特的序列。一个“游程”被定义为相同比特的连续子序列。“游程长度”是一个游程中的比特数。例如，序列 `111001` 包含三个游程：一个长度为3的 '1' 游程，一个长度为2的 '0' 游程，以及一个长度为1的 '1' 游程。\n\n考虑从传感器接收到的以下36比特的数据流：\n`100111000011111000000111111100000000`\n\n计算此整个数据流的平均游程长度。请用一个精确的数值表示您的最终答案。", "solution": "一个游程是相同比特的最大连续块。令游程长度表示为 $\\ell_{1}, \\ell_{2}, \\dots, \\ell_{R}$，其中 $R$ 是游程的总数。平均游程长度是算术平均值\n$$\nL_{\\text{avg}}=\\frac{1}{R}\\sum_{i=1}^{R}\\ell_{i}=\\frac{\\text{total number of bits}}{\\text{number of runs}}.\n$$\n将数据流 $100111000011111000000111111100000000$ 解析为游程，得到游程长度序列\n$$\n1,\\ 2,\\ 3,\\ 4,\\ 5,\\ 6,\\ 7,\\ 8,\n$$\n对应于 $R=8$ 个游程。比特总数是这些长度之和，即\n$$\n1+2+3+4+5+6+7+8=36.\n$$\n因此，\n$$\nL_{\\text{avg}}=\\frac{36}{8}=\\frac{9}{2}.\n$$", "answer": "$$\\boxed{\\frac{9}{2}}$$", "id": "1655619"}, {"introduction": "尽管行程长度编码（RLE）原理简单，但它并非万能。在某些情况下，特别是当数据缺乏连续重复时，应用RLE反而会导致数据“膨胀”而非压缩。本练习将通过一个经典的“棋盘格”最坏情景，让您亲身体验并计算压缩率，从而深刻理解RLE的适用边界 [@problem_id:1655653]。", "problem": "运行长度编码 (RLE) 是一种简单的无损数据压缩形式，其中连续出现的相同数据值的序列被存储为单个数据值及其计数，而不是原始的运行序列。\n\n考虑一个由像素网格表示的单色数字图像。每个像素由单个比特表示：'0' 代表白色像素，'1' 代表黑色像素。对于此图像，使用一种RLE方案，其中一段长度为 `n` 的相同像素（值为 `s`）被编码为一个数对。运行长度 `n` 存储为5比特的无符号整数，像素值 `s` 存储为1比特的值。\n\n该图像是一个 $16 \\times 16$ 像素的棋盘格。左上角（第0行，第0列）的像素是白色的。我们关心的是压缩此图像的第一条水平扫描线（第0行）。\n\n压缩比定义为原始数据大小（以比特为单位）与压缩后数据大小（以比特为单位）的比率。\n\n计算此棋盘格图像第一条扫描线的压缩比。请将您的答案表示为小数，并四舍五入到三位有效数字。", "solution": "一个左上角像素为白色的 $16 \\times 16$ 棋盘格，其每行的像素值是交替的。对于第一条扫描线（第0行），像素模式为 $0,1,0,1,\\ldots$，没有两个相邻像素是相同的。\n\n该扫描线的原始数据大小（以比特为单位）：\n$$\nB_{o} = 16 \\times 1 = 16.\n$$\n由于每个像素都交替出现，所以每个运行的长度都是 $n=1$，共有 $R=16$ 个运行。每个运行使用5比特表示计数，1比特表示像素值，每个运行总共需要6比特。因此，压缩后的大小为\n$$\nB_{c} = R \\times 6 = 16 \\times 6 = 96.\n$$\n压缩比（原始大小除以压缩后的大小）为\n$$\nC = \\frac{B_{o}}{B_{c}} = \\frac{16}{96} = \\frac{1}{6}.\n$$\n表示为小数并四舍五入到三位有效数字：\n$$\nC \\approx 0.167.\n$$", "answer": "$$\\boxed{0.167}$$", "id": "1655653"}, {"introduction": "认识到朴素RLE算法的局限性后，我们可以设计更智能的策略来优化其性能。本练习介绍了一种名为“选择性行程长度编码”（SRLE）的改进方案，它只对足够长的行程进行压缩，从而避免了短行程带来的数据膨胀问题。通过解决这个问题，您将学习如何通过调整算法规则来提高实际压缩效果 [@problem_id:1655629]。", "problem": "一种名为“选择性行程编码”（Selective Run-Length Encoding, SRLE）的新型无损数据压缩算法被设计用于压缩二进制数据流。该算法通过将输入流分割成连续相同比特的行程，并根据每个行程的长度对其进行编码来运作。\n\nSRLE 的规则如下：\n1.  长度为 $L  3$ 的行程被归类为“短行程”。短行程被认为是不可压缩的，并被原样写入输出流，不作任何修改。\n2.  长度为 $L \\ge 3$ 的行程被归类为“长行程”。长行程被压缩成一个固定长度的8比特码字。该码字由以下三部分连接构成：\n    *   一个3比特的标记序列 `111`。\n    *   一个代表行程数字的比特（`0` 代表0的行程，`1` 代表1的行程）。\n    *   一个4比特的无符号二进制整数，表示行程的长度 $L$。此格式可以表示从0到15的长度。\n\n给定以下21比特的二进制序列 $S$：\n$$S = 110000010011111111110$$\n\n计算将此 SRLE 方案应用于序列 $S$ 后生成的压缩二进制序列的总长度（以比特为单位）。", "solution": "题目要求我们将选择性行程编码（SRLE）算法应用于给定的二进制序列 $S$，并确定最终压缩序列的总长度。我们必须首先将输入序列解析为连续相同比特的行程，然后对每个行程应用相应的规则。\n\n输入序列为 $S = 110000010011111111110$。\n\n首先，我们将 $S$ 分割成连续相同比特的行程：\n*   行程 1: `11` (1的行程，长度为2)\n*   行程 2: `00000` (0的行程，长度为5)\n*   行程 3: `1` (1的行程，长度为1)\n*   行程 4: `00` (0的行程，长度为2)\n*   行程 5: `1111111111` (1的行程，长度为10)\n*   行程 6: `0` (0的行程，长度为1)\n\n接下来，我们根据 SRLE 规则处理每个行程，并计算其压缩表示的长度。\n\n**行程 1:** `11`\n此行程的长度为 $L=2$。根据规则，由于 $L  3$，这是一个“短行程”。它被原样写入输出。\n压缩后的表示为 `11`。\n这部分压缩后的长度为2比特。\n\n**行程 2:** `00000`\n此行程的长度为 $L=5$。由于 $L \\ge 3$，这是一个“长行程”，必须进行编码。编码包括：\n1.  3比特的标记：`111`。\n2.  代表数字的比特：`0`。\n3.  长度 $L=5$ 的4比特二进制表示：`0101`。\n完整的编码表示为 `11100101`。\n这部分压缩后的长度为 $3 + 1 + 4 = 8$ 比特。\n\n**行程 3:** `1`\n此行程的长度为 $L=1$。由于 $L  3$，这是一个“短行程”。它被原样写入。\n压缩后的表示为 `1`。\n这部分压缩后的长度为1比特。\n\n**行程 4:** `00`\n此行程的长度为 $L=2$。由于 $L  3$，这是一个“短行程”。它被原样写入。\n压缩后的表示为 `00`。\n这部分压缩后的长度为2比特。\n\n**行程 5:** `1111111111`\n此行程的长度为 $L=10$。由于 $L \\ge 3$，这是一个“长行程”，必须进行编码。编码包括：\n1.  3比特的标记：`111`。\n2.  代表数字的比特：`1`。\n3.  长度 $L=10$ 的4比特二进制表示：`1010`。\n完整的编码表示为 `11111010`。\n这部分压缩后的长度为 $3 + 1 + 4 = 8$ 比特。\n\n**行程 6:** `0`\n此行程的长度为 $L=1$。由于 $L  3$，这是一个“短行程”。它被原样写入。\n压缩后的表示为 `0`。\n这部分压缩后的长度为1比特。\n\n最后，为了求出压缩序列的总长度，我们将所有单个压缩部分的长度相加。\n总长度 = (行程1的长度) + (行程2的长度) + (行程3的长度) + (行程4的长度) + (行程5的长度) + (行程6的长度)\n总长度 = $2 + 8 + 1 + 2 + 8 + 1 = 22$ 比特。\n\n原始序列长21比特，而压缩后的序列长22比特。在这种情况下，“压缩”算法实际上增加了数据大小，这对于无损算法处理某些特定输入序列是可能发生的。", "answer": "$$\\boxed{22}$$", "id": "1655629"}]}