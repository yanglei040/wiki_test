{"hands_on_practices": [{"introduction": "理论学习的最佳方式是付诸实践。这个练习将带你从头开始，为一个具有给定概率分布的信源构建一个最优二进制前缀码。通过解决这个问题 [@problem_id:1623278]，你将掌握霍夫曼编码算法的核心步骤，并计算出实现最大数据压缩效率所需的最小平均码长。", "problem": "一个深空探测器被设计用于监测和分类五种不同类型的宇宙射线事件，标记为 A、B、C、D 和 E。该探测器自主运行，并且由于其发射器的功率限制，必须使用尽可能高效的方案将每个探测到的事件的分类编码为一串二进制数字（比特）。根据大量的先前观测，已经确定了在一个标准观测窗口内探测到每种事件类型的长期概率。事件 A 和 B 各自以 $1/3$ 的概率发生。事件 C、D 和 E 各自以 $1/9$ 的概率发生。\n\n假设目标是最小化每个事件传输的平均比特数，这个可能的最小平均长度是多少？请用一个分数表示你的答案。", "solution": "我们将此问题建模为构造一个二进制前缀码以最小化期望码长。设符号概率为 $p_{A}=p_{B}=\\frac{1}{3}$ 和 $p_{C}=p_{D}=p_{E}=\\frac{1}{9}$。为了在二进制前缀码中达到最优性，我们应用霍夫曼编码。\n\n使用最小概率进行逐步的霍夫曼合并：\n1. 合并两个概率为 $\\frac{1}{9}$ 的符号，形成一个权重为 $\\frac{2}{9}$ 的节点。这将使这两个符号的码长增加 $1$。\n2. 将 $\\frac{2}{9}$ 与剩下的 $\\frac{1}{9}$ 合并，形成一个权重为 $\\frac{3}{9}=\\frac{1}{3}$ 的节点。这将使三个概率为 $\\frac{1}{9}$ 的符号的码长各增加 $1$（到目前为止累计：前两个增加了 $2$，最后一个增加了 $1$）。\n3. 现在权重的多重集是 $\\left\\{\\frac{1}{3},\\frac{1}{3},\\frac{1}{3}\\right\\}$。合并任意两个 $\\frac{1}{3}$ 得到一个权重为 $\\frac{2}{3}$ 的节点。这将使这两个符号的码长增加 $1$。\n4. 将 $\\frac{2}{3}$ 与剩下的 $\\frac{1}{3}$ 合并形成根节点。这将使这些节点下的所有三个符号的码长增加 $1$。\n\n追踪深度（码长）：\n根据霍夫曼树的构造，我们可以确定码长。一种可能的有效码长集合是 $l_A=2, l_B=2, l_C=2, l_D=3, l_E=3$。\n因此，期望码长为\n$$\nL=\\frac{1}{3}\\cdot l_{A}+\\frac{1}{3}\\cdot l_{B}+\\frac{1}{9}\\cdot l_{C}+\\frac{1}{9}\\cdot l_{D}+\\frac{1}{9}\\cdot l_{E}\n= \\frac{1}{3}\\cdot 2+\\frac{1}{3}\\cdot 2+\\frac{1}{9}\\cdot 2+\\frac{1}{9}\\cdot 3+\\frac{1}{9}\\cdot 3.\n$$\n计算：\n$$\nL=\\frac{2}{3}+\\frac{2}{3}+\\frac{2}{9}+\\frac{3}{9}+\\frac{3}{9}=\\frac{4}{3}+\\frac{8}{9}=\\frac{12}{9}+\\frac{8}{9}=\\frac{20}{9}.\n$$\n根据霍夫曼编码的最优性，这是每个事件可能的最小平均比特数。作为一致性检查，信源熵（以比特为单位）为\n$$\nH=-2\\cdot \\frac{1}{3}\\log_{2}\\left(\\frac{1}{3}\\right)-3\\cdot \\frac{1}{9}\\log_{2}\\left(\\frac{1}{9}\\right)=\\frac{4}{3}\\log_{2}(3),\n$$\n且确实有 $H \\approx 2.11 \\leq \\frac{20}{9} \\approx 2.22$，这与编码界相符。", "answer": "$$\\boxed{\\frac{20}{9}}$$", "id": "1623278"}, {"introduction": "数字系统并不总是基于二进制。这个练习将你的技能扩展到三元逻辑系统，你需要应用广义霍夫曼算法 [@problem_id:1644609]。通过解决这个问题，你将学会如何处理非二进制编码的挑战，并理解通用算法的适用性及其重要细节，例如在需要时添加“哑”符号。", "problem": "一个研究团队正在为一种使用三元逻辑的数字系统开发一种新的数据压缩方案。该系统使用三种不同的状态（0、1和2）处理信息，通常称为“三进制位”（trits）。该系统的数据源从一个五符号字母表 $\\mathcal{S} = \\{s_1, s_2, s_3, s_4, s_5\\}$ 中产生符号。这些符号的出现概率为 $P(s_1) = 0.30$、$P(s_2) = 0.25$、$P(s_3) = 0.20$、$P(s_4) = 0.15$ 和 $P(s_5) = 0.10$。\n\n为确保高效无误的传输，该压缩方案必须使用一种唯一可解码的三元码，并且该码是即时码（即，没有码字是另一个码字的前缀）。你的任务是确定这种编码的最小可能平均码长，这代表了在该约束条件下此信源压缩的理论极限。\n\n请用单位“trits/符号”表示平均长度，并四舍五入到三位有效数字。", "solution": "问题要求计算给定信源的即时（无前缀）且唯一可解码码的最小平均长度。这可以通过构建霍夫曼编码来实现。由于编码字母表是三元的（$\\{0, 1, 2\\}$），我们必须使用针对 $D$ 元码的广义霍夫曼算法，其中 $D=3$。\n\n目标是找到平均码长 $\\bar{L} = \\sum_{i=1}^{N} p_i l_i$，其中 $p_i$ 是第 $i$ 个符号的概率，$l_i$ 是其码长。\n\n首先，我们列出符号及其概率：\n$s_1: 0.30$\n$s_2: 0.25$\n$s_3: 0.20$\n$s_4: 0.15$\n$s_5: 0.10$\n\n广义霍夫曼算法要求在每一步合并 $D$ 个符号。如果初始符号数 $N$ 满足条件 $(N-1) \\pmod{D-1} = 0$，则该过程保证能终止于一个单一的根节点。如果不满足，则必须添加概率为零的伪符号，直到满足该条件。\n\n在本问题中，我们有 $N=5$ 个符号和一个三元码，所以 $D=3$。我们检查该条件：\n$(N-1) \\pmod{D-1} = (5-1) \\pmod{3-1} = 4 \\pmod 2 = 0$。\n条件已满足，因此不需要伪符号。我们可以通过在每一步合并 $D=3$ 个概率最小的符号来继续。\n\n**第1步：第一次归并**\n我们找出概率最低的三个符号：$s_5(0.10)$、$s_4(0.15)$ 和 $s_3(0.20)$。我们将它们合并成一个新的节点。这个新节点的概率是各个概率的总和：\n$p_{345} = 0.10 + 0.15 + 0.20 = 0.45$。\n\n我们待编码的符号（和节点）列表现在从五个减少到三个。按概率排序后的新列表是：\n$s_2: 0.25$\n$s_1: 0.30$\n节点 $(s_3, s_4, s_5): 0.45$\n\n**第2步：第二次归并**\n现在我们的列表中有三个项目。我们将它们全部合并，因为 $D=3$：\n$p_{12345} = 0.25 + 0.30 + 0.45 = 1.00$。\n这就创建了霍夫曼树的根，构建过程完成。\n\n**第3步：确定码长**\n每个符号的码长由其在我们刚刚构建的树中的深度决定。\n- 在第二次归并步骤中，我们合并了三个节点：$s_2$、$s_1$ 和节点 $(s_3, s_4, s_5)$。这三者构成了从根节点出发的第一层分支。因此，符号 $s_1$ 和 $s_2$ 的码长为 $l_1=1$ 和 $l_2=1$。\n- 节点 $(s_3, s_4, s_5)$ 的深度也为1。符号 $s_3、s_4、s_5$ 是该节点的子节点，因此它们的深度要再深一层。它们相对于根的深度是 $1+1=2$。\n- 因此，这些符号的码长为 $l_3=2$、$l_4=2$ 和 $l_5=2$。\n\n码长总结：\n- $l(s_1)$ (p=0.30) 是 1。\n- $l(s_2)$ (p=0.25) 是 1。\n- $l(s_3)$ (p=0.20) 是 2。\n- $l(s_4)$ (p=0.15) 是 2。\n- $l(s_5)$ (p=0.10) 是 2。\n\n**第4步：计算平均码长**\n平均长度 $\\bar{L}$ 是每个符号的概率乘以其码长的总和：\n$$ \\bar{L} = \\sum_{i=1}^{5} P(s_i) l_i $$\n$$ \\bar{L} = (0.30 \\times 1) + (0.25 \\times 1) + (0.20 \\times 2) + (0.15 \\times 2) + (0.10 \\times 2) $$\n$$ \\bar{L} = 0.30 + 0.25 + 0.40 + 0.30 + 0.20 $$\n$$ \\bar{L} = 1.45 $$\n\n平均码长为 $1.45$ trits/符号。问题要求答案四舍五入到三位有效数字。值 $1.45$ 已经有三位有效数字。", "answer": "$$\\boxed{1.45}$$", "id": "1644609"}, {"introduction": "真正的理解超越了简单的计算。这个练习提出了一个关于最优码性质的猜想，并要求你通过寻找反例来评估其正确性 [@problem_id:1644600]。这个思想实验将挑战你的直觉，并加深你对霍夫曼码独特属性的认识，揭示概率分布与码长之间微妙且并非一一对应的关系。", "problem": "一位信息论专业的学生正在研究一个信源的最优前缀码属性，该信源生成的符号来自字母表 $\\mathcal{S} = \\{s_1, s_2, s_3, s_4, s_5\\}$。这位学生提出了以下猜想：\n\n“如果信源分布中所有五个符号的概率都不同，那么在最优前缀码中，五个对应码字的长度也必定各不相同。”\n\n你的任务是评估这一论断。以下哪个概率分布 $P = (p(s_1), p(s_2), p(s_3), p(s_4), p(s_5))$ 为该学生的猜想提供了一个有效的反例？一个有效的反例必须满足猜想的前提（所有符号的概率都不同），并且证伪其结论（至少有两个码字的长度相同）。\n\nA) $P_A = (0.40, 0.20, 0.20, 0.10, 0.10)$\n\nB) $P_B = (0.33, 0.24, 0.19, 0.12, 0.12)$\n\nC) $P_C = (0.40, 0.30, 0.15, 0.11, 0.04)$\n\nD) $P_D = (0.50, 0.25, 0.125, 0.0625, 0.0625)$\n\nE) 该猜想是正确的；所给的分布都不能作为反例。", "solution": "为了找到该学生猜想的一个反例，我们必须找到一个满足以下两个条件的概率分布：\n1.  **满足前提：** 所有符号的概率必须各不相同。\n2.  **证伪结论：** 当为该分布构造一个最优前缀码时，至少有两个码字的长度必须相同。\n\n最优前缀码可以使用霍夫曼算法来构造。对于给定的概率分布，霍夫曼算法产生的码字长度集合是唯一的。让我们逐一分析每个选项。\n\n**分析选项 A: $P_A = (0.40, 0.20, 0.20, 0.10, 0.10)$**\n该集合中的概率并非各不相同。例如，$p(s_2) = p(s_3) = 0.20$ 且 $p(s_4) = p(s_5) = 0.10$。由于此分布不满足猜想的前提（“如果概率……都不同”），因此它不能作为反例。\n\n**分析选项 B: $P_B = (0.33, 0.24, 0.19, 0.12, 0.12)$**\n该集合中的概率并非各不相同，因为 $p(s_4) = p(s_5) = 0.12$。此分布不满足猜想的前提，因此不能作为反例。\n\n**分析选项 D: $P_D = (0.50, 0.25, 0.125, 0.0625, 0.0625)$**\n该集合中的概率并非各不相同，因为 $p(s_4) = p(s_5) = 0.0625$。此分布同样不满足猜想的前提，不能作为反例。\n\n**分析选项 C: $P_C = (0.40, 0.30, 0.15, 0.11, 0.04)$**\n该集合中的概率为 $0.40, 0.30, 0.15, 0.11, 0.04$。这五个值各不相同。此分布满足猜想的前提。现在，我们必须通过构造霍夫曼码并检查码字长度，来验证它是否证伪了结论。\n\n我们应用霍夫曼算法。我们从已排序的概率开始：\n初始列表：$\\{0.40, 0.30, 0.15, 0.11, 0.04\\}$\n\n步骤1：合并两个最小的概率，$0.04$ 和 $0.11$。它们的和是 $0.15$。\n概率列表变为：$\\{0.40, 0.30, 0.15, 0.15\\}$\n\n步骤2：合并两个最小的概率，现在是 $0.15$ 和 $0.15$。它们的和是 $0.30$。\n概率列表变为：$\\{0.40, 0.30, 0.30\\}$\n\n步骤3：合并两个最小的概率，$0.30$ 和 $0.30$。它们的和是 $0.60$。\n概率列表变为：$\\{0.60, 0.40\\}$\n\n步骤4：合并最后两个概率，$0.60$ 和 $0.40$。它们的和是 $1.00$。算法终止。\n\n现在，我们可以回溯来构建树并找出码字长度。\n- 符号 $p=0.40$ 的码长为 $1$。\n- 符号 $p=0.30$ 的码长为 $2$。\n- 符号 $p=0.15$ 的码长为 $3$。\n- 符号 $p=0.11$ 的码长为 $4$。\n- 符号 $p=0.04$ 的码长为 $4$。\n\n对于概率分布 $(0.40, 0.30, 0.15, 0.11, 0.04)$，得到的码字长度集合是 $\\{1, 2, 3, 4, 4\\}$。\n由于有两个码字的长度为4，所以码字长度并非各不相同。\n因此，分布 $P_C$ 满足了前提（概率不同），并证伪了结论（码字长度并非各不相同）。这使得 $P_C$ 成为一个有效的反例。\n\n**分析选项 E：该猜想是正确的...**\n由于我们在选项C中找到了一个有效的反例，该猜想被证明是错误的，因此这个选项不正确。\n\n唯一能作为有效反例的分布是 $P_C$。", "answer": "$$\\boxed{C}$$", "id": "1644600"}]}