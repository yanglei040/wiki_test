{"hands_on_practices": [{"introduction": "我们从最简单的功率分配策略入手：将总功率平均分配给所有可用信道。这个练习是一个基础的起点，它能让你将香non容量公式应用于一个多信道系统，并建立一个性能基准 [@problem_id:1644845]。通过计算这种简单策略下的信道容量，我们可以为后续学习更复杂的优化分配策略提供一个直观的对比。", "problem": "一个无线通信系统被建模为包含三个并行、独立的加性高斯白噪声（AWGN）信道。这些信道工作在独立、不相互干扰的频段上。这三个信道中的每一个都具有相同的带宽 $W = 1.0$ MHz。由于每个频段的环境干扰不同，三个信道的噪声功率也不同；测量值分别为 $N_1 = 1.0$ 瓦，$N_2 = 2.0$ 瓦和 $N_3 = 5.0$ 瓦。\n\n系统的总可用发射功率为 $P_{total} = 15.0$ 瓦。采用一种简单的功率分配策略，将此总功率平均分配给三个信道。\n\n在指定的功率分配策略下，计算该系统的总理论容量。答案以百万比特每秒（Mbps）为单位表示。将最终答案四舍五入到三位有效数字。", "solution": "对于一个带宽为 $W$、信号功率为 $P$、该频带上噪声功率为 $N$ 的AWGN信道，其香non容量为\n$$\nC = W \\log_{2}\\!\\left(1+\\frac{P}{N}\\right).\n$$\n对于三个独立、不相互干扰的并行信道，总容量是各个信道容量之和：\n$$\nC_{\\text{total}} = \\sum_{i=1}^{3} W \\log_{2}\\!\\left(1+\\frac{P_{i}}{N_{i}}\\right).\n$$\n总可用功率被平均分配，因此\n$$\nP_{1} = P_{2} = P_{3} = \\frac{P_{\\text{total}}}{3}.\n$$\n已知 $W = 1.0 \\times 10^{6}$ Hz，$P_{\\text{total}} = 15.0$ W，以及 $(N_{1},N_{2},N_{3})=(1.0,2.0,5.0)$ W，我们有\n$$\nP_{1}=P_{2}=P_{3}=5.0 \\text{ W}.\n$$\n因此，\n$$\nC_{\\text{total}} = W\\left[\\log_{2}\\!\\left(1+\\frac{5.0}{1.0}\\right)+\\log_{2}\\!\\left(1+\\frac{5.0}{2.0}\\right)+\\log_{2}\\!\\left(1+\\frac{5.0}{5.0}\\right)\\right].\n$$\n计算每一项：\n$$\n\\log_{2}(1+5.0)=\\log_{2}(6), \\quad \\log_{2}\\!\\left(1+\\frac{5.0}{2.0}\\right)=\\log_{2}(3.5), \\quad \\log_{2}\\!\\left(1+\\frac{5.0}{5.0}\\right)=\\log_{2}(2)=1.\n$$\n于是，\n$$\nC_{\\text{total}} = \\left(1.0 \\times 10^{6}\\right)\\left[\\log_{2}(6)+\\log_{2}(3.5)+1\\right] \\text{ bits per second}.\n$$\n以百万比特每秒（Mbps）为单位表示，即\n$$\nC_{\\text{total}} \\text{ (in Mbps)} = \\log_{2}(6)+\\log_{2}(3.5)+1.\n$$\n数值上，\n$$\n\\log_{2}(6) \\approx 2.5849625007, \\quad \\log_{2}(3.5) \\approx 1.8073549221,\n$$\n所以\n$$\nC_{\\text{total}} \\approx 2.5849625007+1.8073549221+1 = 5.3923174228 \\text{ Mbps}.\n$$\n四舍五入到三位有效数字，得到 $5.39$ Mbps。", "answer": "$$\\boxed{5.39}$$", "id": "1644845"}, {"introduction": "与平均分配不同，最优功率分配策略会考虑信道质量的差异。这个问题聚焦于“注水”算法的一个关键洞察：并非总是最优地使用所有信道 [@problem_id:1644871]。通过这个练习，你将计算一个精确的功率阈值，只有当总功率超过该阈值时，为噪声较大的信道分配功率才是有益的，这有助于你深入理解优先将资源分配给更优信道的核心原则。", "problem": "一个深空探测器被设计用于通过 $N$ 个并行、独立的通信信道将数据传回地球，其中 $N$ 是一个正偶数。所有信道都被建模为加性高斯白噪声 (AWGN) 信道。由于变化的背景辐射和干扰，这些信道的质量并不完全相同。具体来说，一半的信道（$N/2$个）被归类为“好”信道，每个信道的噪声功率方差较低，为 $\\sigma_g^2$。另一半（$N/2$个）是“坏”信道，每个信道都承受着显著更高的噪声功率方差 $\\sigma_b^2$，且 $\\sigma_b^2  \\sigma_g^2$。\n\n探测器上的一个中央功率控制器必须将总可用功率 $P_{total}$ 分配给这 $N$ 个信道。分配给第 $i$ 个信道的功率用 $P_i$ 表示，使得 $\\sum_{i=1}^{N} P_i = P_{total}$ 且对所有 $i$ 都有 $P_i \\ge 0$。进行功率分配是为了最大化系统的总香non容量。\n\n找出总功率的精确阈值，记为 $P_{threshold}$，当总功率达到该阈值时，最优功率分配策略开始为“坏”信道分配非零功率。换句话说，对于任何总功率 $P_{total} \\le P_{threshold}$，所有功率都分配给“好”信道；而对于任何 $P_{total}  P_{threshold}$，至少有一个“坏”信道会获得部分功率。\n\n请用包含 $N$、$\\sigma_g^2$ 和 $\\sigma_b^2$ 的解析表达式来表示你的答案。", "solution": "我们将第 $i$ 个 AWGN 信道建模为噪声方差为 $\\sigma_{i}^{2}$，功率分配为 $P_{i} \\ge 0$。总容量（单位为奈特/信道使用，这已足够，因为对数的底不影响最优化求解）为\n$$\nC=\\sum_{i=1}^{N}\\ln\\!\\left(1+\\frac{P_{i}}{\\sigma_{i}^{2}}\\right),\n$$\n约束条件为 $\\sum_{i=1}^{N}P_{i}=P_{total}$ 且对所有 $i$ 都有 $P_{i}\\ge 0$。\n\n这是一个带线性约束的凹最大化问题，因此 Karush-Kuhn-Tucker (KKT) 条件是其充要条件。构建拉格朗日函数\n$$\n\\mathcal{L}=\\sum_{i=1}^{N}\\ln\\!\\left(1+\\frac{P_{i}}{\\sigma_{i}^{2}}\\right)-\\lambda\\!\\left(\\sum_{i=1}^{N}P_{i}-P_{total}\\right)-\\sum_{i=1}^{N}\\nu_{i}P_{i},\n$$\n其中 $\\lambda$ 是总功率约束的乘子，$\\nu_{i}\\ge 0$ 是 $P_{i}\\ge 0$ 约束的乘子。平稳性条件给出，对每个 $i$ 有，\n$$\n\\frac{\\partial \\mathcal{L}}{\\partial P_{i}}=\\frac{1}{\\sigma_{i}^{2}+P_{i}}-\\lambda-\\nu_{i}=0.\n$$\n根据互补松弛性，如果 $P_{i}0$，则 $\\nu_{i}=0$，得到\n$$\n\\frac{1}{\\sigma_{i}^{2}+P_{i}}=\\lambda \\quad \\Longrightarrow \\quad P_{i}=\\frac{1}{\\lambda}-\\sigma_{i}^{2}.\n$$\n如果 $P_{i}=0$，则调整 $\\nu_{i}\\ge 0$ 以满足平稳性条件。因此，最优分配是注水解\n$$\nP_{i}=\\max\\!\\left\\{0,\\,\\mu-\\sigma_{i}^{2}\\right\\}, \\quad \\text{其中 } \\mu=\\frac{1}{\\lambda},\n$$\n并且选择 $\\mu$ 以满足 $\\sum_{i=1}^{N}P_{i}=P_{total}$。\n\n在当前问题中，有 $\\frac{N}{2}$ 个噪声方差为 $\\sigma_{g}^{2}$ 的好信道，以及 $\\frac{N}{2}$ 个噪声方差为 $\\sigma_{b}^{2}$ 的坏信道，且 $\\sigma_{b}^{2}\\sigma_{g}^{2}$。根据对称性，在注水算法下，所有好信道接收相同的功率，所有坏信道也接收相同的功率。当 $\\mu$ 从 $\\sigma_{g}^{2}$ 向上增加时，功率首先只分配给好信道；当水位达到坏信道的噪声基底时，即当 $\\mu=\\sigma_{b}^{2}$ 时，坏信道才开始接收非零功率。\n\n当只有好信道被激活时，使用的总功率为\n$$\nP_{total}=\\frac{N}{2}\\bigl(\\mu-\\sigma_{g}^{2}\\bigr), \\quad \\text{对于 } \\sigma_{g}^{2}\\le \\mu \\le \\sigma_{b}^{2}.\n$$\n在坏信道即将被激活的阈值处，设 $\\mu=\\sigma_{b}^{2}$ 以获得\n$$\nP_{threshold}=\\frac{N}{2}\\bigl(\\sigma_{b}^{2}-\\sigma_{g}^{2}\\bigr).\n$$\n对于任何 $P_{total}\\le P_{threshold}$，最优分配将所有坏信道的 $P_i$ 设为 0，并将功率平均分配给所有好信道。对于任何 $P_{total}P_{threshold}$，水位超过 $\\sigma_{b}^{2}$，最优分配会为每个坏信道分配正功率。", "answer": "$$\\boxed{\\frac{N}{2}\\left(\\sigma_{b}^{2}-\\sigma_{g}^{2}\\right)}$$", "id": "1644871"}, {"introduction": "现在，我们来弥合连续理论与数字现实之间的差距，在实际系统中，像功率这样的资源通常被量化为离散的单元。这个问题引入了动态规划，将其作为一个强大的工具来解决这类离散优化问题 [@problem_id:1644884]。通过完成这个练习，你将学会如何系统地找到不可分割的功率单元的最优分配方案以最大化总容量，这是现代通信系统中一个非常实用的场景。", "problem": "现代无线通信系统采用一种技术，将一个宽频带划分为一组并行的、互不干扰的子信道。每个子信道都可以建模为一个独立的加性高斯白噪声（AWGN）信道。这种系统的总容量是其所有子信道容量的总和。\n\n考虑一个简化的系统，该系统有 $N=3$ 个并行子信道，每个子信道的带宽相同，均为 $B = 1000$ Hz。当功率 $P_i$ 分配给第 $i$ 个子信道时，其容量 $C_i$ 由香农-哈特利定理（Shannon-Hartley theorem）给出：\n$$C_i = B \\log_2\\left(1 + \\frac{|h_i|^2 P_i}{N_0 B}\\right)$$\n其中 $|h_i|^2$ 是第 $i$ 个信道的功率增益，$N_0$ 是噪声的恒定单边功率谱密度。\n\n该系统有一个总功率预算，该预算已被离散化为 $M=3$ 个不可分割的整数功率单位。可以将这些单位的整数个，$m_i \\in \\{0, 1, 2, 3\\}$，分配给每个信道 $i$，使得使用的总单位数不超过 $M$。因此，分配给信道 $i$ 的功率为 $P_i = m_i \\Delta P$，其中 $\\Delta P$ 是单个单位的功率。因此，具有 $m_i$ 个功率单位的信道 $i$ 的容量为：\n$$C_i(m_i) = B \\log_2(1 + \\gamma_i m_i)$$\n其中 $\\gamma_i = \\frac{|h_i|^2 \\Delta P}{N_0 B}$ 是一个无量纲参数，表示第 $i$ 个信道每单位功率的归一化增益噪声比。\n\n三个信道的值如下：\n$\\gamma_1 = 1.0$\n$\\gamma_2 = 0.5$\n$\\gamma_3 = 3.0$\n\n你的任务是通过确定 $M=3$ 个功率单位的最优分配，来找到该系统的最大可能总容量 $C_{\\text{total}} = \\sum_{i=1}^{3} C_i(m_i)$。分配的功率单位总和必须满足 $\\sum_{i=1}^{3} m_i \\le 3$。\n\n使用动态规划方法，计算可实现的最大总容量。将你的最终答案以比特/秒为单位表示，并四舍五入到四位有效数字。", "solution": "该问题要求计算一个由 $N=3$ 个并行高斯信道组成的系统的最大总容量，该系统共有 $M=3$ 个不可分割的功率单位。具有 $m_i$ 个功率单位的信道 $i$ 的容量由 $C_i(m_i) = B \\log_2(1 + \\gamma_i m_i)$ 给出，其中 $B=1000$ Hz。目标是在约束条件 $\\sum_{i=1}^{3} m_i \\le 3$ 下最大化 $C_{\\text{total}} = \\sum_{i=1}^{3} C_i(m_i)$，其中每个 $m_i$ 是非负整数。\n\n这是一个经典的资源分配问题，可以用动态规划来解决。设 $V(k, m)$ 是将 $m$ 个功率单位分配给前 $k$ 个信道（从信道1到信道$k$）所能实现的最大容量。\n\n动态规划的递推关系可以表述如下：为了计算 $V(k, m)$，我们决定将多少个功率单位 $j$ 分配给信道 $k$。这为前 $k-1$ 个信道留下了 $m-j$ 个单位。此决策带来的容量是信道 $k$ 使用 $j$ 个单位功率的容量 $C_k(j)$，与利用剩余资源可获得的最大容量 $V(k-1, m-j)$ 之和。我们必须在所有可能的 $j$ 选择（其中 $0 \\le j \\le m$）中取最大值。\n\n递推公式为：\n$$V(k, m) = \\max_{0 \\le j \\le m} \\{ C_k(j) + V(k-1, m-j) \\}$$\n\n基本情况是 $k=0$（没有信道），此时无论可用功率多少，容量始终为零：\n$$V(0, m) = 0 \\quad \\text{for all } m \\in \\{0, 1, 2, 3\\}$$\n\n首先，我们预先计算 $i \\in \\{1, 2, 3\\}$ 和 $j \\in \\{0, 1, 2, 3\\}$ 时各个信道的容量 $C_i(j)$。我们使用 $B=1000$ 和给定的 $\\gamma_i$ 值。所有容量的单位都是比特/秒（bits/sec）。\n$C_i(j) = 1000 \\log_2(1 + \\gamma_i j)$\n\n对于信道1 ($\\gamma_1 = 1.0$):\n$C_1(0) = 1000 \\log_2(1) = 0$\n$C_1(1) = 1000 \\log_2(2) = 1000$\n$C_1(2) = 1000 \\log_2(3) \\approx 1584.96$\n$C_1(3) = 1000 \\log_2(4) = 2000$\n\n对于信道2 ($\\gamma_2 = 0.5$):\n$C_2(0) = 1000 \\log_2(1) = 0$\n$C_2(1) = 1000 \\log_2(1.5) \\approx 584.96$\n$C_2(2) = 1000 \\log_2(2) = 1000$\n$C_2(3) = 1000 \\log_2(2.5) \\approx 1321.93$\n\n对于信道3 ($\\gamma_3 = 3.0$):\n$C_3(0) = 1000 \\log_2(1) = 0$\n$C_3(1) = 1000 \\log_2(4) = 2000$\n$C_3(2) = 1000 \\log_2(7) \\approx 2807.35$\n$C_3(3) = 1000 \\log_2(10) \\approx 3321.93$\n\n现在，我们为 $V(k, m)$ 构建动态规划表。\n\n**步骤1：k=1 (信道1)**\n$V(1, m) = \\max_{0 \\le j \\le m} \\{ C_1(j) + V(0, m-j) \\} = C_1(m) + V(0, 0) = C_1(m)$。\n$V(1, 0) = C_1(0) = 0$\n$V(1, 1) = C_1(1) = 1000$\n$V(1, 2) = C_1(2) \\approx 1584.96$\n$V(1, 3) = C_1(3) = 2000$\n\n**步骤2：k=2 (信道1和2)**\n$V(2, m) = \\max_{0 \\le j \\le m} \\{ C_2(j) + V(1, m-j) \\}$。\n$V(2, 0) = C_2(0) + V(1, 0) = 0 + 0 = 0$。\n$V(2, 1) = \\max\\{ C_2(0)+V(1,1), C_2(1)+V(1,0) \\} = \\max\\{ 0+1000, 584.96+0 \\} = 1000$。\n$V(2, 2) = \\max\\{ C_2(0)+V(1,2), C_2(1)+V(1,1), C_2(2)+V(1,0) \\} = \\max\\{ 0+1584.96, 584.96+1000, 1000+0 \\} = \\max\\{ 1584.96, 1584.96, 1000 \\} \\approx 1584.96$。\n$V(2, 3) = \\max\\{ C_2(0)+V(1,3), C_2(1)+V(1,2), C_2(2)+V(1,1), C_2(3)+V(1,0) \\} = \\max\\{ 0+2000, 584.96+1584.96, 1000+1000, 1321.93+0 \\} = \\max\\{ 2000, 2169.92, 2000, 1321.93 \\} \\approx 2169.92$。\n\n**步骤3：k=3 (信道1、2和3)**\n最终答案是 $V(3, 3)$。\n$V(3, 3) = \\max_{0 \\le j \\le 3} \\{ C_3(j) + V(2, 3-j) \\}$。\n我们对 $j$ 的每个可能值（即分配给信道3的功率）计算max函数内的项。\n\n- 如果 $j=0$ (0个单位给信道3)： $C_3(0) + V(2, 3) = 0 + 2169.92 = 2169.92$。\n- 如果 $j=1$ (1个单位给信道3)： $C_3(1) + V(2, 2) = 2000 + 1584.96 = 3584.96$。\n- 如果 $j=2$ (2个单位给信道3)： $C_3(2) + V(2, 1) = 2807.35 + 1000 = 3807.35$。\n- 如果 $j=3$ (3个单位给信道3)： $C_3(3) + V(2, 0) = 3321.93 + 0 = 3321.93$。\n\n比较这些值：\n$\\max\\{2169.92, 3584.96, 3807.35, 3321.93\\} \\approx 3807.35$。\n\n最大总容量约为 $3807.35$ 比特/秒。\n四舍五入到四位有效数字，答案是 3807。\n\n实现该容量的最优分配可以通过回溯找到。$V(3,3)$ 的最大值出现在 $j=2$ 时，因此 $m_3=2$。这为信道1和2留下了1个功率单位，所以我们查看 $V(2,1)$ 的决策。对于 $V(2,1)$，最大值出现在 $j=0$ 时，因此 $m_2=0$。这为信道1留下了1个单位，因此 $m_1=1$。最优分配是 $(m_1, m_2, m_3) = (1, 0, 2)$。\n检验此分配：\n$C_{\\text{total}} = C_1(1) + C_2(0) + C_3(2) = 1000 + 0 + 2807.35 = 3807.35$ 比特/秒。这证实了我们的结果。", "answer": "$$\\boxed{3807}$$", "id": "1644884"}]}