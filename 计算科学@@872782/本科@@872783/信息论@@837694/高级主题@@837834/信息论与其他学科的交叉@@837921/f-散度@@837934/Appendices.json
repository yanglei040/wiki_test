{"hands_on_practices": [{"introduction": "为了真正掌握f-散度的概念，我们需要从理论走向实践。第一个练习是一个基础性的计算，我们将计算两个简单但普遍存在的伯努利分布之间的特定f-散度——卡方散度。这个练习将帮助您熟悉f-散度的核心定义以及如何将其应用于具体的概率模型。[@problem_id:1623955]", "problem": "在信息论中，f-散度为衡量两个概率分布之间的差异提供了一个广义框架。对于定义在同一有限结果集 $\\mathcal{X}$ 上的两个离散概率分布 $P$ 和 $Q$，从 $Q$ 到 $P$ 的f-散度由以下公式给出：\n$$D_f(P \\| Q) = \\sum_{x \\in \\mathcal{X}} Q(x) f\\left(\\frac{P(x)}{Q(x)}\\right)$$\n其中 $f$ 是一个凸函数，满足 $f(1) = 0$。\n\n考虑两个独立的随机实验，每个实验的结果可以是“成功”（结果 1）或“失败”（结果 0）。第一个实验由参数为 $p_1$ 的伯努利分布 $P_1$ 描述，第二个实验由参数为 $p_2$ 的伯努利分布 $P_2$ 描述。参数为 $p$ 的伯努利分布的概率质量函数由 $P(x=1) = p$ 和 $P(x=0) = 1-p$ 给出。假设 $p_1$ 和 $p_2$ 都严格介于 0 和 1 之间，即 $p_1, p_2 \\in (0, 1)$。\n\n使用函数 $f(u) = (u-1)^2$，计算这两个伯努利分布之间的特定f-散度 $D_f(P_1 \\| P_2)$。将你的答案表示为一个用 $p_1$ 和 $p_2$ 表示的单一、简化的代数表达式。", "solution": "我们使用离散分布的f-散度定义：\n$$D_{f}(P\\|Q)=\\sum_{x\\in\\mathcal{X}}Q(x)\\,f\\!\\left(\\frac{P(x)}{Q(x)}\\right).$$\n这里，$P=P_{1}$ 和 $Q=P_{2}$ 是在 $\\mathcal{X}=\\{0,1\\}$ 上的伯努利分布，其中 $P_{1}(1)=p_{1}$，$P_{1}(0)=1-p_{1}$，$P_{2}(1)=p_{2}$，以及 $P_{2}(0)=1-p_{2}$。所选函数为 $f(u)=(u-1)^{2}$，它是一个凸函数且满足 $f(1)=0$。\n\n代入定义可得\n$$D_{f}(P_{1}\\|P_{2})=P_{2}(0)\\,f\\!\\left(\\frac{P_{1}(0)}{P_{2}(0)}\\right)+P_{2}(1)\\,f\\!\\left(\\frac{P_{1}(1)}{P_{2}(1)}\\right).$$\n计算每一项：\n$$P_{2}(0)\\,f\\!\\left(\\frac{P_{1}(0)}{P_{2}(0)}\\right)=(1-p_{2})\\left(\\frac{1-p_{1}}{1-p_{2}}-1\\right)^{2}\n=(1-p_{2})\\left(\\frac{-p_{1}+p_{2}}{1-p_{2}}\\right)^{2}\n=\\frac{(p_{1}-p_{2})^{2}}{1-p_{2}},$$\n$$P_{2}(1)\\,f\\!\\left(\\frac{P_{1}(1)}{P_{2}(1)}\\right)=p_{2}\\left(\\frac{p_{1}}{p_{2}}-1\\right)^{2}\n=p_{2}\\left(\\frac{p_{1}-p_{2}}{p_{2}}\\right)^{2}\n=\\frac{(p_{1}-p_{2})^{2}}{p_{2}}.$$\n将这些贡献相加可得\n$$D_{f}(P_{1}\\|P_{2})=\\frac{(p_{1}-p_{2})^{2}}{1-p_{2}}+\\frac{(p_{1}-p_{2})^{2}}{p_{2}}\n=(p_{1}-p_{2})^{2}\\left(\\frac{1}{p_{2}}+\\frac{1}{1-p_{2}}\\right)\n=\\frac{(p_{1}-p_{2})^{2}}{p_{2}(1-p_{2})}.$$\n由于 $p_{2}\\in(0,1)$，分母不为零，因此该表达式有效。", "answer": "$$\\boxed{\\frac{(p_{1}-p_{2})^{2}}{p_{2}(1-p_{2})}}$$", "id": "1623955"}, {"introduction": "并非所有的散度度量都是对称的；例如，KL散度 $D_{KL}(P || Q)$ 通常不等于 $D_{KL}(Q || P)$。这个练习探讨了f-散度具有对称性的形式化条件。通过检验一个特定的生成函数 $f$，您将学习到函数 $f$ 的性质如何直接决定了其生成的散度度量的性质。[@problem_id:1623941]", "problem": "在信息论中，f-散度是一族用来量化两个概率分布之间差异的度量。对于一对概率分布 $P$ 和 $Q$，其各自的概率密度函数为 $p(x)$ 和 $q(x)$，$P$ 相对于 $Q$ 的f-散度定义为：\n$$ D_f(P || Q) = \\int q(x) f\\left(\\frac{p(x)}{q(x)}\\right) dx $$\n此处，$f: (0, \\infty) \\to \\mathbb{R}$ 是一个满足条件 $f(1) = 0$ 的凸函数。\n\n如果对于所有可能的分布 $P$ 和 $Q$ 都有 $D_f(P || Q) = D_f(Q || P)$，则称该散度度量是对称的。此对称性属性成立的充要条件是，生成函数 $f$ 对所有 $u > 0$ 都满足关系式 $f(u) = u f\\left(\\frac{1}{u}\\right)$。\n\n考虑函数 $f(u) = u^2 - u$。该函数是凸函数且满足 $f(1)=0$，因此它是一个有效的f-散度生成函数。你的任务是判断由这个特定函数生成的f-散度是否对称。\n\nA. 是的，该散度是对称的，因为对称性条件对所有 $u > 0$ 都成立。\n\nB. 不，该散度不是对称的，因为对称性条件不成立。\n\nC. 该散度的对称性取决于分布 $P$ 和 $Q$ 的具体选择。\n\nD. 该散度仅在 $P=Q$ 的特殊情况下对称。\n\nE. 不，因为函数 $f(u) = u^2-u$ 不是一个有效的生成函数。", "solution": "f-散度的对称性条件是，对于所有分布 $P,Q$，$D_{f}(P \\parallel Q) = D_{f}(Q \\parallel P)$ 成立的充要条件是生成函数 $f$ 满足\n$$\nf(u) = u f\\left(\\frac{1}{u}\\right) \\quad \\text{对所有 } u>0.\n$$\n给定 $f(u) = u^{2} - u$，计算\n$$\nf\\left(\\frac{1}{u}\\right) = \\left(\\frac{1}{u}\\right)^{2} - \\left(\\frac{1}{u}\\right) = u^{-2} - u^{-1},\n$$\n所以\n$$\nu f\\left(\\frac{1}{u}\\right) = u\\left(u^{-2} - u^{-1}\\right) = u^{-1} - 1.\n$$\n为了满足对称性条件，我们需要\n$$\nu^{2} - u = u^{-1} - 1 \\quad \\text{对所有 } u>0.\n$$\n两边同乘以 $u$ 以消去分母：\n$$\nu^{3} - u^{2} = 1 - u,\n$$\n整理可得\n$$\nu^{3} - u^{2} + u - 1 = 0.\n$$\n分组因式分解：\n$$\nu^{2}(u - 1) + (u - 1) = (u - 1)(u^{2} + 1) = 0.\n$$\n对于 $u>0$，唯一的实数解是 $u=1$。因此，等式 $f(u) = u f(1/u)$ 仅在 $u=1$ 时成立，而非对所有 $u>0$ 成立，所以对称性条件不满足。因此，由 $f(u)=u^{2}-u$ 生成的散度通常不是对称的。注意，$f$ 是一个有效的生成函数，因为它是凸的（其中 $f''(u)=2>0$）且 $f(1)=0$，所以缺乏对称性并非因为 $f$ 无效。", "answer": "$$\\boxed{B}$$", "id": "1623941"}, {"introduction": "链式法则是KL散度的一个强大性质，它允许对联合分布的散度进行分解。一个自然的问题是，这个法则是否适用于其他的f-散度？最后一个练习将挑战您通过构建一个具体的反例来研究皮尔逊 $\\chi^2$-散度的这个问题，从而加深您对不同散度族独特特性的理解。[@problem_id:1623987]", "problem": "在信息论中，f-散度是衡量两个概率分布之间差异的一种度量。对于在相同符号集 $\\mathcal{X}$ 上的离散分布 $P$ 和 $Q$，f-散度定义为 $D_f(P || Q) = \\sum_{x \\in \\mathcal{X}} Q(x) f\\left(\\frac{P(x)}{Q(x)}\\right)$，其中 $f$ 是一个满足 $f(1)=0$ 的凸函数。\n\n一种特殊情况是 Pearson $\\chi^2$-散度，它对应于选择函数 $f(u) = (u-1)^2$。因此，其公式为：\n$$ D_{\\chi^2}(P || Q) = \\sum_{x \\in \\mathcal{X}} \\frac{(P(x) - Q(x))^2}{Q(x)} $$\n\n对于著名的 Kullback-Leibler (KL) 散度，联合分布的链式法则成立：\n$$ D_{KL}(P(X,Y) || Q(X,Y)) = D_{KL}(P(X) || Q(X)) + \\mathbb{E}_{P(X)}[D_{KL}(P(Y|X) || Q(Y|X))] $$\n其中 $\\mathbb{E}_{P(X)}[\\cdot]$ 表示关于边缘分布 $P(X)$ 的期望。\n\n本题旨在探究类似的链式法则是否适用于 Pearson $\\chi^2$-散度。考虑两个随机变量 $X$ 和 $Y$，它们都在集合 $\\{0, 1\\}$ 中取值。两个联合概率分布 $P(X,Y)$ 和 $Q(X,Y)$ 定义如下：\n\n对于分布 $P(X,Y)$：\n$P(X=0, Y=0) = \\frac{1}{2}$\n$P(X=0, Y=1) = \\frac{1}{4}$\n$P(X=1, Y=0) = \\frac{1}{8}$\n$P(X=1, Y=1) = \\frac{1}{8}$\n\n对于分布 $Q(X,Y)$：\n对于所有四种可能的结果 $(x,y)$，均有 $Q(X=x, Y=y) = \\frac{1}{4}$。\n\n我们定义以下三个量：\n1. 联合散度：$A = D_{\\chi^2}(P(X,Y) || Q(X,Y))$\n2. 边缘散度：$B = D_{\\chi^2}(P(X) || Q(X))$\n3. 条件散度的期望：$C = \\sum_{x \\in \\{0,1\\}} P(X=x) \\cdot D_{\\chi^2}(P(Y|X=x) || Q(Y|X=x))$\n\n计算量 $A - (B + C)$ 的值。将你的答案表示为最简分数形式。", "solution": "目标是计算 $A - (B + C)$ 的值，这将检验 Pearson $\\chi^2$-散度的链式法则是否成立。我们将分步计算 $A$、$B$ 和 $C$ 这几个量。\n\n首先，我们需要从给定的联合分布 $P(X,Y)$ 和 $Q(X,Y)$ 中确定边缘分布和条件分布。\n\n**1. 推导边缘分布和条件分布**\n\n对于分布 $P(X,Y)$：\n边缘分布 $P(X)$ 通过对 $Y$ 求和得到：\n$P(X=0) = P(X=0, Y=0) + P(X=0, Y=1) = \\frac{1}{2} + \\frac{1}{4} = \\frac{3}{4}$\n$P(X=1) = P(X=1, Y=0) + P(X=1, Y=1) = \\frac{1}{8} + \\frac{1}{8} = \\frac{2}{8} = \\frac{1}{4}$\n\n条件分布 $P(Y|X)$ 使用公式 $P(Y|X) = P(X,Y)/P(X)$ 求得：\n对于 $X=0$：\n$P(Y=0|X=0) = \\frac{P(X=0, Y=0)}{P(X=0)} = \\frac{1/2}{3/4} = \\frac{2}{3}$\n$P(Y=1|X=0) = \\frac{P(X=0, Y=1)}{P(X=0)} = \\frac{1/4}{3/4} = \\frac{1}{3}$\n\n对于 $X=1$：\n$P(Y=0|X=1) = \\frac{P(X=1, Y=0)}{P(X=1)} = \\frac{1/8}{1/4} = \\frac{1}{2}$\n$P(Y=1|X=1) = \\frac{P(X=1, Y=1)}{P(X=1)} = \\frac{1/8}{1/4} = \\frac{1}{2}$\n\n对于分布 $Q(X,Y)$：\n边缘分布 $Q(X)$ 为：\n$Q(X=0) = Q(X=0, Y=0) + Q(X=0, Y=1) = \\frac{1}{4} + \\frac{1}{4} = \\frac{1}{2}$\n$Q(X=1) = Q(X=1, Y=0) + Q(X=1, Y=1) = \\frac{1}{4} + \\frac{1}{4} = \\frac{1}{2}$\n\n条件分布 $Q(Y|X)$ 为：\n对于 $X=0$：\n$Q(Y=0|X=0) = \\frac{Q(X=0, Y=0)}{Q(X=0)} = \\frac{1/4}{1/2} = \\frac{1}{2}$\n$Q(Y=1|X=0) = \\frac{Q(X=0, Y=1)}{Q(X=0)} = \\frac{1/4}{1/2} = \\frac{1}{2}$\n\n对于 $X=1$：\n$Q(Y=0|X=1) = \\frac{Q(X=1, Y=0)}{Q(X=1)} = \\frac{1/4}{1/2} = \\frac{1}{2}$\n$Q(Y=1|X=1) = \\frac{Q(X=1, Y=1)}{Q(X=1)} = \\frac{1/4}{1/2} = \\frac{1}{2}$\n\n**2. 计算 A：联合散度**\n$A = D_{\\chi^2}(P(X,Y) || Q(X,Y)) = \\sum_{x,y} \\frac{(P(x,y) - Q(x,y))^2}{Q(x,y)}$\n$A = \\frac{(P(0,0)-Q(0,0))^2}{Q(0,0)} + \\frac{(P(0,1)-Q(0,1))^2}{Q(0,1)} + \\frac{(P(1,0)-Q(1,0))^2}{Q(1,0)} + \\frac{(P(1,1)-Q(1,1))^2}{Q(1,1)}$\n$A = \\frac{(\\frac{1}{2} - \\frac{1}{4})^2}{\\frac{1}{4}} + \\frac{(\\frac{1}{4} - \\frac{1}{4})^2}{\\frac{1}{4}} + \\frac{(\\frac{1}{8} - \\frac{1}{4})^2}{\\frac{1}{4}} + \\frac{(\\frac{1}{8} - \\frac{1}{4})^2}{\\frac{1}{4}}$\n$A = \\frac{(\\frac{1}{4})^2}{\\frac{1}{4}} + 0 + \\frac{(-\\frac{1}{8})^2}{\\frac{1}{4}} + \\frac{(-\\frac{1}{8})^2}{\\frac{1}{4}}$\n$A = \\frac{1}{4} + \\frac{1/64}{1/4} + \\frac{1/64}{1/4} = \\frac{1}{4} + \\frac{1}{16} + \\frac{1}{16} = \\frac{1}{4} + \\frac{2}{16} = \\frac{1}{4} + \\frac{1}{8} = \\frac{3}{8}$\n\n**3. 计算 B：边缘散度**\n$B = D_{\\chi^2}(P(X) || Q(X)) = \\sum_{x} \\frac{(P(x) - Q(x))^2}{Q(x)}$\n$B = \\frac{(P(X=0) - Q(X=0))^2}{Q(X=0)} + \\frac{(P(X=1) - Q(X=1))^2}{Q(X=1)}$\n$B = \\frac{(\\frac{3}{4} - \\frac{1}{2})^2}{\\frac{1}{2}} + \\frac{(\\frac{1}{4} - \\frac{1}{2})^2}{\\frac{1}{2}}$\n$B = \\frac{(\\frac{1}{4})^2}{\\frac{1}{2}} + \\frac{(-\\frac{1}{4})^2}{\\frac{1}{2}} = \\frac{1/16}{1/2} + \\frac{1/16}{1/2} = \\frac{1}{8} + \\frac{1}{8} = \\frac{2}{8} = \\frac{1}{4}$\n\n**4. 计算 C：条件散度的期望**\n$C = P(X=0) D_{\\chi^2}(P(Y|X=0) || Q(Y|X=0)) + P(X=1) D_{\\chi^2}(P(Y|X=1) || Q(Y|X=1))$\n\n首先，计算各个条件散度：\n对于 $X=0$：\n$D_{\\chi^2}(P(Y|X=0) || Q(Y|X=0)) = \\frac{(P(Y=0|X=0) - Q(Y=0|X=0))^2}{Q(Y=0|X=0)} + \\frac{(P(Y=1|X=0) - Q(Y=1|X=0))^2}{Q(Y=1|X=0)}$\n$= \\frac{(\\frac{2}{3} - \\frac{1}{2})^2}{\\frac{1}{2}} + \\frac{(\\frac{1}{3} - \\frac{1}{2})^2}{\\frac{1}{2}} = \\frac{(\\frac{1}{6})^2}{\\frac{1}{2}} + \\frac{(-\\frac{1}{6})^2}{\\frac{1}{2}}$\n$= \\frac{1/36}{1/2} + \\frac{1/36}{1/2} = \\frac{1}{18} + \\frac{1}{18} = \\frac{2}{18} = \\frac{1}{9}$\n\n对于 $X=1$：\n$P(Y|X=1)$ 和 $Q(Y|X=1)$ 都是均匀分布 $\\{\\frac{1}{2}, \\frac{1}{2}\\}$。由于这两个分布相同，其散度为 0。\n$D_{\\chi^2}(P(Y|X=1) || Q(Y|X=1)) = 0$\n\n现在，计算期望 $C$：\n$C = P(X=0) \\cdot (\\frac{1}{9}) + P(X=1) \\cdot (0) = \\frac{3}{4} \\cdot \\frac{1}{9} + \\frac{1}{4} \\cdot 0 = \\frac{3}{36} = \\frac{1}{12}$\n\n**5. 最终计算**\n我们需要计算 $A - (B + C)$。\n$B + C = \\frac{1}{4} + \\frac{1}{12} = \\frac{3}{12} + \\frac{1}{12} = \\frac{4}{12} = \\frac{1}{3}$\n$A - (B + C) = \\frac{3}{8} - \\frac{1}{3} = \\frac{9}{24} - \\frac{8}{24} = \\frac{1}{24}$\n这个非零结果表明，在这种情况下，简单的加性链式法则对 Pearson $\\chi^2$-散度不成立。", "answer": "$$\\boxed{\\frac{1}{24}}$$", "id": "1623987"}]}