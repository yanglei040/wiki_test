{"hands_on_practices": [{"introduction": "掌握标量量化的第一步是理解其核心工作机制。这个练习将指导你计算单个数据点的量化误差，从而巩固对量化范围、量化级别和步长等基本概念的理解[@problem_id:1656261]。这是一个基础但至关重要的计算，为你后续学习更复杂的概念奠定坚实基础。", "problem": "一个数字信号处理系统采用均匀标量量化器将连续时间模拟信号转换为一组离散值。该量化器设计用于处理已知范围在 $[0, 6]$ 内的输入信号。该量化器具有 $L=12$ 个不同的输出电平。一个值为 $x = 2.34$ 的特定信号样本被送入此量化器。量化器将此输入值映射到最接近的量化电平。计算量化误差，其定义为量化输出值与原始输入值之差 ($e = \\hat{x} - x$)。将您的答案报告为一个实数，四舍五入到三位有效数字。", "solution": "一个在范围 $[x_{\\min}, x_{\\max}]$ 内具有 $L$ 个电平的均匀标量量化器，其步长为\n$$\\Delta=\\frac{x_{\\max}-x_{\\min}}{L}.$$\n在此，$x_{\\min}=0$，$x_{\\max}=6$，且 $L=12$，所以\n$$\\Delta=\\frac{6-0}{12}=0.5.$$\n对于一个在有界范围内具有 $L$ 个电平的中升型均匀量化器，其判决阈值为\n$$t_{k}=x_{\\min}+k\\Delta,\\quad k=0,1,\\ldots,L,$$\n且重构（量化）电平为\n$$r_{k}=x_{\\min}+\\left(k-\\frac{1}{2}\\right)\\Delta,\\quad k=1,2,\\ldots,L.$$\n对于 $x=2.34$，我们需要找到它所在的量化区间。判决阈值为 $t_k = 0 + k(0.5) = 0.5k$。我们有 $t_4 = 2.0$ 和 $t_5 = 2.5$。由于 $2.0  2.34 \\leq 2.5$，所以输入值 $x$ 落在第5个量化区间 $(t_4, t_5]$ 内。\n该区间的重构电平为\n$$r_5 = 0 + \\left(5 - \\frac{1}{2}\\right) \\times 0.5 = 4.5 \\times 0.5 = 2.25.$$\n这个重构电平 $\\hat{x} = 2.25$ 是量化器的输出。\n量化误差 $e$ 定义为输出与输入之差：\n$$e = \\hat{x} - x = 2.25 - 2.34 = -0.09.$$\n四舍五入到三位有效数字，结果为 -0.0900。", "answer": "$$\\boxed{-0.0900}$$", "id": "1656261"}, {"introduction": "仅仅了解如何计算是不够的，评估量化器的性能同样重要。本练习引入了信噪比（SQNR）这一关键性能指标，并探讨了量化器设计中的一个核心问题：动态范围失配。通过这个思想实验[@problem_id:1656250]，你将定量地看到，当一个为大信号范围设计的量化器被用于处理小信号时，其性能会如何急剧下降。", "problem": "一位工程师负责设计一个数字音频系统。其中一个关键组件是均匀标量量化器，其性能通过信号量化噪声比（SQNR）来评估。\n\n该工程师最初设计了一个$N$级均匀量化器（我们称之为量化器A），其假设是输入信号电压是一个在$[-V_{max}, V_{max}]$范围内均匀分布的随机变量$X$。然而，在构建系统后，他们用一段非常安静的音频段落对其进行测试。测量结果显示，对于这段特定的音频，信号电压更适合建模为一个在$[-V_{max}/10, V_{max}/10]$这个小得多的范围内均匀分布的随机变量$Y$。\n\n一位同事建议，对于这段安静的音频，如果使用一个专为实际信号范围$[-V_{max}/10, V_{max}/10]$设计的、不同的$N$级均匀量化器（量化器B），可以获得显著更优的SQNR。\n\n您的任务是比较这两个量化器在处理安静音频信号时的性能。在您的分析中，请使用信息论中的以下标准定义和近似：\n- 一个在区间$[-L, L]$上均匀分布的随机变量，其概率密度函数（PDF）为：当$x \\in [-L, L]$时，$f(x) = 1/(2L)$，否则$f(x)=0$。\n- 零均值信号的信号功率$P_S$是其均方值。\n- 一个为范围$[-L, L]$设计的$N$级均匀量化器，其量化步长为$\\Delta = 2L/N$。\n- 量化噪声的功率$P_Q$可近似为$P_Q \\approx \\Delta^2/12$，假设量化级别数$N$足够大且量化器未过载（即输入信号在设计范围内）。\n- 信号量化噪声比定义为线性比率$SQNR = P_S / P_Q$。\n\n请计算当两个量化器都用于处理安静信号时，建议的、正确匹配的量化器B所实现的SQNR（$SQNR_B$）与原始的、不匹配的量化器A所实现的SQNR（$SQNR_A$）之比。将您的最终答案表示为单个实数。", "solution": "问题要求计算比率 $\\frac{SQNR_B}{SQNR_A}$，其中两个量化器都在处理安静信号，该信号是一个在$[-V_{max}/10, V_{max}/10]$上均匀分布的随机变量$Y$。\n\n首先，我们确定输入信号$Y$的属性。该信号在区间$[-L_Y, L_Y]$上均匀分布，其中$L_Y = V_{max}/10$。\n信号功率$P_S$是$Y$的均方值，由于它是零均值信号，因此也就是它的方差。\n$$P_S = E[Y^2] = \\int_{-L_Y}^{L_Y} y^2 f_Y(y) dy$$\n$Y$的概率密度函数为$f_Y(y) = \\frac{1}{2L_Y}$。\n$$P_S = \\int_{-L_Y}^{L_Y} y^2 \\frac{1}{2L_Y} dy = \\frac{1}{2L_Y} \\left[ \\frac{y^3}{3} \\right]_{-L_Y}^{L_Y} = \\frac{1}{2L_Y} \\left( \\frac{L_Y^3}{3} - \\frac{(-L_Y)^3}{3} \\right) = \\frac{1}{2L_Y} \\left( \\frac{2L_Y^3}{3} \\right) = \\frac{L_Y^2}{3}$$\n代入$L_Y = V_{max}/10$：\n$$P_S = \\frac{(V_{max}/10)^2}{3} = \\frac{V_{max}^2}{300}$$\n这个信号功率$P_S$在两种情况下是相同的，因为它是输入信号本身的属性。\n\n现在，我们分析量化器A（不匹配的情况）。\n量化器A是为范围$[-V_{max}, V_{max}]$设计的。其步长$\\Delta_A$为：\n$$\\Delta_A = \\frac{2V_{max}}{N}$$\n当安静信号$Y$（其范围为$[-V_{max}/10, V_{max}/10]$）输入到量化器A时，它没有过载。我们可以使用给定的量化噪声功率近似公式，该公式取决于量化器的步长$\\Delta_A$。\n$$P_{Q,A} \\approx \\frac{\\Delta_A^2}{12} = \\frac{1}{12} \\left( \\frac{2V_{max}}{N} \\right)^2 = \\frac{4V_{max}^2}{12N^2} = \\frac{V_{max}^2}{3N^2}$$\n量化器A的SQNR为：\n$$SQNR_A = \\frac{P_S}{P_{Q,A}} = \\frac{V_{max}^2 / 300}{V_{max}^2 / (3N^2)} = \\frac{3N^2}{300} = \\frac{N^2}{100}$$\n\n接下来，我们分析量化器B（匹配的情况）。\n量化器B是专门为安静信号的范围$[-V_{max}/10, V_{max}/10]$设计的。其步长$\\Delta_B$为：\n$$\\Delta_B = \\frac{2(V_{max}/10)}{N} = \\frac{2V_{max}}{10N} = \\frac{V_{max}}{5N}$$\n量化器B的量化噪声功率为：\n$$P_{Q,B} \\approx \\frac{\\Delta_B^2}{12} = \\frac{1}{12} \\left( \\frac{V_{max}}{5N} \\right)^2 = \\frac{V_{max}^2}{12 \\cdot 25 N^2} = \\frac{V_{max}^2}{300N^2}$$\n量化器B的SQNR为：\n$$SQNR_B = \\frac{P_S}{P_{Q,B}} = \\frac{V_{max}^2 / 300}{V_{max}^2 / (300N^2)} = N^2$$\n\n最后，我们需要计算比率$\\frac{SQNR_B}{SQNR_A}$。\n$$\\frac{SQNR_B}{SQNR_A} = \\frac{N^2}{N^2 / 100} = 100$$\n该比率为100。这意味着对于安静信号，正确匹配的量化器比不匹配的量化器提供了100倍更好的SQNR（提升20 dB）。这是因为对于低幅度信号而言，量化器A的步长太粗，导致相对量化误差大得多。", "answer": "$$\\boxed{100}$$", "id": "1656250"}, {"introduction": "现实世界中的信号，如语音和图像，其幅值分布通常是不均匀的。为了在这种情况下实现最佳性能，我们需要使用非均匀量化器。这个练习[@problem_id:1656236]将让你亲手体验Lloyd-Max算法，这是一种为任意信号分布设计最优标量量化器的强大迭代方法，你将为具有拉普拉斯分布的信源完成一次完整的算法迭代。", "problem": "一个连续信号源由一个随机变量 $X$ 建模，该随机变量具有零均值拉普拉斯概率密度函数 (PDF)：\n$$p(x) = \\frac{1}{2b} \\exp\\left(-\\frac{|x|}{b}\\right)$$\n其中尺度参数设置为 $b=1$。\n\n我们希望使用 Lloyd-Max 算法为该信号源设计一个 2比特（$M=4$ 个电平）的标量量化器。我们从一组初始重建电平开始迭代过程：$q_1 = -3$、$q_2 = -1$、$q_3 = 1$ 和 $q_4 = 3$。\n\n执行一次完整的 Lloyd-Max 算法迭代。首先，根据初始重建电平确定新的判决边界。然后，使用这些新的判决边界来计算更新后的重建电平。\n\n求出两个新的正重建电平（记为 $q'_3$ 和 $q'_4$）的值。请以有序对 $(q'_3, q'_4)$ 的形式提供答案，每个值需舍入到四位有效数字。", "solution": "我们使用针对均方误差的 Lloyd-Max 最优性条件：\n1) 判决边界的最近邻条件，以及\n2) 重建电平的质心条件。\n\n给定初始重建电平 $q_{1}=-3$、$q_{2}=-1$、$q_{3}=1$、$q_{4}=3$，判决边界是相邻电平之间的中点：\n$$\nb_{1}=\\frac{q_{1}+q_{2}}{2}=-2,\\quad b_{2}=\\frac{q_{2}+q_{3}}{2}=0,\\quad b_{3}=\\frac{q_{3}+q_{4}}{2}=2.\n$$\n\n在这些固定的边界下，更新后的重建电平是其对应区间上的条件均值。对于 $b=1$ 的拉普拉斯 PDF，$p(x)=\\frac{1}{2}\\exp(-|x|)$。在 $(0,\\infty)$ 上，我们有 $p(x)=\\frac{1}{2}\\exp(-x)$。\n\n$q'_{3}$ 对应的区间是 $(0,2)$，因此\n$$\nq'_{3}=\\frac{\\int_{0}^{2} x\\,p(x)\\,dx}{\\int_{0}^{2} p(x)\\,dx}\n=\\frac{\\frac{1}{2}\\int_{0}^{2} x \\exp(-x)\\,dx}{\\frac{1}{2}\\int_{0}^{2} \\exp(-x)\\,dx}.\n$$\n使用 $\\int x\\exp(-x)\\,dx=-(x+1)\\exp(-x)$，我们得到\n$$\n\\int_{0}^{2} x \\exp(-x)\\,dx=\\left[-(x+1)\\exp(-x)\\right]_{0}^{2}=1-3\\exp(-2),\n$$\n和\n$$\n\\int_{0}^{2} \\exp(-x)\\,dx=1-\\exp(-2).\n$$\n因此，\n$$\nq'_{3}=\\frac{1-3\\exp(-2)}{1-\\exp(-2)}=1-\\frac{2}{\\exp(2)-1}.\n$$\n\n$q'_{4}$ 对应的区间是 $(2,\\infty)$，因此\n$$\nq'_{4}=\\frac{\\int_{2}^{\\infty} x\\,p(x)\\,dx}{\\int_{2}^{\\infty} p(x)\\,dx}\n=\\frac{\\frac{1}{2}\\int_{2}^{\\infty} x \\exp(-x)\\,dx}{\\frac{1}{2}\\int_{2}^{\\infty} \\exp(-x)\\,dx}.\n$$\n使用相同的原函数，\n$$\n\\int_{2}^{\\infty} x \\exp(-x)\\,dx=\\lim_{b\\to\\infty}\\left[-(x+1)\\exp(-x)\\right]_{2}^{b}=3\\exp(-2),\n$$\n和\n$$\n\\int_{2}^{\\infty} \\exp(-x)\\,dx=\\exp(-2).\n$$\n因此，\n$$\nq'_{4}=\\frac{3\\exp(-2)}{\\exp(-2)}=3.\n$$\n\n数值上，精确到四位有效数字，\n$$\nq'_{3}=1-\\frac{2}{\\exp(2)-1}\\approx 0.6870,\\qquad q'_{4}=3.000.\n$$", "answer": "$$\\boxed{(0.6870, 3.000)}$$", "id": "1656236"}]}