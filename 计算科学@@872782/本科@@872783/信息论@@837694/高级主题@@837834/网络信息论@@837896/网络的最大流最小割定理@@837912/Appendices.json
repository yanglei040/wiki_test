{"hands_on_practices": [{"introduction": "本问题提供了一个化工厂的实际场景。您的任务是将这个真实世界的系统转化为一个流网络模型，并应用最大流最小割定理来确定其最大生产能力。这项练习对于学习如何将物理或后勤约束抽象为基于图的模型至关重要，这是解决许多现实世界优化问题的第一步。", "problem": "一家特种化学品制造厂旨在从一股原材料流中生产最终产品Z化合物。该工厂可以建模为一个由管道连接的处理单元组成的有向网络。原材料从 `Input` 单元进入，最终的Z化合物从 `Output` 单元收集。有四个中间处理单元：一个 `Mixer`、一个 `Reactor`、一个 `Separator` 和一个 `Purifier`。\n\n这些单元之间的物料流受到连接管道最大容量的限制，单位为千克/小时（kg/hr）。连接及其各自的最大流速如下：\n\n*   从 `Input` 到 `Mixer`：30 kg/hr\n*   从 `Input` 到 `Reactor`：20 kg/hr\n*   从 `Mixer` 到 `Reactor`：15 kg/hr\n*   从 `Mixer` 到 `Separator`：10 kg/hr\n*   从 `Reactor` 到 `Purifier`：25 kg/hr\n*   从 `Separator` 到 `Purifier`：5 kg/hr\n*   从 `Separator` 到 `Output`：15 kg/hr\n*   从 `Purifier` 到 `Output`：25 kg/hr\n\n假设处理单元本身具有无限容量，并且系统在稳态下运行，那么Z化合物可能的最大生产速率是多少？请用一个以 kg/hr 为单位的数字表示你的答案。", "solution": "将工厂建模为一个有向图，源点为 $s$ (Input)，汇点为 $t$ (Output)。设中间节点为 $M$ (Mixer)，$R$ (Reactor)，$S$ (Separator) 和 $P$ (Purifier)。对于每个有向边 $(i,j)$，用 $u_{ij}$ 表示容量，用 $f_{ij}$ 表示流量，约束条件为 $0 \\le f_{ij} \\le u_{ij}$。在稳态下，流量守恒在每个中间节点 $v \\in \\{M,R,S,P\\}$ 处成立：\n$$\n\\sum_{j} f_{jv} = \\sum_{k} f_{vk}.\n$$\n目标是最大化总流量值\n$$\n|f| = \\sum_{j} f_{sj} = \\sum_{i} f_{it}.\n$$\n\n给定的容量为：\n$u_{sM}=30$, $u_{sR}=20$, $u_{MR}=15$, $u_{MS}=10$, $u_{RP}=25$, $u_{SP}=5$, $u_{St}=15$, $u_{Pt}=25$.\n\n根据最大流最小割定理，最大流量等于最小 $s$-$t$ 割的容量。考虑一个割，其左集合为 $\\{s,M,R\\}$，右集合为 $\\{S,P,t\\}$。该割中从左到右的唯一边是 $M \\to S$ 和 $R \\to P$，因此割容量为\n$$\nu_{MS} + u_{RP} = 10 + 25 = 35.\n$$\n因此，任何 $s$-$t$ 流都满足 $|f| \\le 35$。\n\n接下来，构造一个值为 $35$ 的可行流来证明可达性。沿三条路径发送流量：\n1) 沿路径 $s \\to M \\to R \\to P \\to t$ 发送流量 $15$：\n$f_{sM}=15, f_{MR}=15, f_{RP}=15, f_{Pt}=15.$\n2) 沿路径 $s \\to R \\to P \\to t$ 发送流量 $10$：\n$f_{sR}=10, f_{RP}=10, f_{Pt}=10.$\n3) 沿路径 $s \\to M \\to S \\to t$ 发送流量 $10$：\n$f_{sM}=f_{sM}+10=25, f_{MS}=10, f_{St}=10.$\n\n汇总各边流量：\n$f_{sM}=25 \\le 30, f_{sR}=10 \\le 20, f_{MR}=15 \\le 15, f_{MS}=10 \\le 10,$\n$f_{RP}=25 \\le 25, f_{SP}=0 \\le 5, f_{St}=10 \\le 15, f_{Pt}=25 \\le 25.$\n\n流量守恒在每个中间节点处成立：\n- 在 $M$ 处：流入量 $25$ 等于流出量 $15+10=25$。\n- 在 $R$ 处：流入量 $15+10=25$ 等于流出量 $25$。\n- 在 $S$ 处：流入量 $10$ 等于流出量 $10$。\n- 在 $P$ 处：流入量 $25$ 等于流出量 $25$。\n\n总流量值为\n$|f| = f_{sM} + f_{sR} = 25 + 10 = 35,$\n这与割的上限相符。因此，Z化合物的最大可能生产速率为每小时35千克。", "answer": "$$\\boxed{35}$$", "id": "1639598"}, {"introduction": "本问题超越了简单的计算，将您置于网络管理员的角色，负责提高系统吞吐量。通过分析由最小割代表的网络瓶颈，您将做出战略决策，确定哪项单一升级能带来最大收益。这项实践强调了最小割概念不仅用于寻找最大流，还用于识别系统中进行改进的最关键薄弱点或机会。[@problem_id:1387855]", "problem": "一个数据中心的网络被建模为一个有向图，其中节点代表服务器，边代表光纤链路。每条链路的容量，表示其最大数据传输速率，以千兆比特每秒 (Gbps) 为单位，是已知的。该网络由六台服务器组成：一个源服务器 $S$，一个汇服务器 $K$，以及四个中间服务器 $A, B, C, D$。\n\n有向链路及其容量如下：\n- 从 $S$ 到 $A$：10 Gbps\n- 从 $S$ 到 $B$：8 Gbps\n- 从 $A$ 到 $C$：5 Gbps\n- 从 $A$ 到 $D$：6 Gbps\n- 从 $B$ 到 $C$：7 Gbps\n- 从 $C$ 到 $K$：12 Gbps\n- 从 $D$ 到 $K$：4 Gbps\n\n一位网络管理员打算升级单条链路，以增加从服务器 $S$ 到服务器 $K$ 的总数据吞吐量。升级操作包括将一条链路的容量增加到一个可以被认为是实际上无限大的值。您的任务是确定哪一次单链路升级能够最大化 S-K 总吞吐量的增量。\n\n为了简化分析，已知当前网络的最大吞吐量为 16 Gbps。此外，已经确定网络中恰好有四个不同的 $S-K$ 割，其总容量小于 20 Gbps。一个 $S-K$ 割是将服务器划分为两个集合 $V_S$ 和 $V_K$ 的一种方式，其中 $S \\in V_S$ 且 $K \\in V_K$。割的容量是所有满足 $u \\in V_S$ 和 $v \\in V_K$ 的链路 $(u,v)$ 的容量之和。四个相关的割由以下划分定义：\n- $C_1$：$V_S = \\{S, A, B, D\\}$ 和 $V_K = \\{C, K\\}$\n- $C_2$：$V_S = \\{S, A, B, C, D\\}$ 和 $V_K = \\{K\\}$\n- $C_3$：$V_S = \\{S, B\\}$ 和 $V_K = \\{A, C, D, K\\}$\n- $C_4$：$V_S = \\{S\\}$ 和 $V_K = \\{A, B, C, D, K\\}$\n\n下列哪项链路升级能带来最大的 S-K 最大流增量？\n\nA. 链路 $(A, C)$\nB. 链路 $(B, C)$\nC. 链路 $(C, K)$\nD. 链路 $(D, K)$\nE. 链路 $(S, A)$", "solution": "根据最大流最小割定理，最大 $S$-$K$ 流等于所有 $S$-$K$ 割中的最小容量。给定的四个容量小于 20 Gbps 的割，其容量计算如下。\n\n对于 $C_{1}$，其中 $V_{S}=\\{S,A,B,D\\}$ 且 $V_{K}=\\{C,K\\}$，其跨越链路为 $(A,C)$、$(B,C)$、$(D,K)$，因此\n$$\n\\text{cap}(C_{1})=5+7+4=16.\n$$\n对于 $C_{2}$，其中 $V_{S}=\\{S,A,B,C,D\\}$ 且 $V_{K}=\\{K\\}$，其跨越链路为 $(C,K)$、$(D,K)$，因此\n$$\n\\text{cap}(C_{2})=12+4=16.\n$$\n对于 $C_{3}$，其中 $V_{S}=\\{S,B\\}$ 且 $V_{K}=\\{A,C,D,K\\}$，其跨越链路为 $(S,A)$、$(B,C)$，因此\n$$\n\\text{cap}(C_{3})=10+7=17.\n$$\n对于 $C_{4}$，其中 $V_{S}=\\{S\\}$ 且 $V_{K}=\\{A,B,C,D,K\\}$，其跨越链路为 $(S,A)$、$(S,B)$，因此\n$$\n\\text{cap}(C_{4})=10+8=18.\n$$\n因此，当前的最大流为 $16$ Gbps，与题设一致。\n\n将单条链路的容量升级到任意大，意味着可以不必考虑任何包含该链路的割（因为其容量也变得任意大）。因此，新的最大流等于不包含该升级链路的剩余割中的最小容量（所有未列出的其他割的容量至少为 $20$ Gbps）。\n\n通过确定 $C_{1},C_{2},C_{3},C_{4}$ 中哪些割包含给定的链路作为其跨越边来评估每个选项：\n\nA. $(A,C)$ 只出现在 $C_{1}$ 中。剩余割的容量为：$\\text{cap}(C_{2})=16$, $\\text{cap}(C_{3})=17$, $\\text{cap}(C_{4})=18$。新的最大流 $=16$。\n\nB. $(B,C)$ 出现在 $C_{1}$ 和 $C_{3}$ 中。剩余割的容量为：$\\text{cap}(C_{2})=16$, $\\text{cap}(C_{4})=18$。新的最大流 $=16$。\n\nC. $(C,K)$ 只出现在 $C_{2}$ 中。剩余割的容量为：$\\text{cap}(C_{1})=16$, $\\text{cap}(C_{3})=17$, $\\text{cap}(C_{4})=18$。新的最大流 $=16$。\n\nD. $(D,K)$ 出现在 $C_{1}$ 和 $C_{2}$ 中。剩余割的容量为：$\\text{cap}(C_{3})=17$, $\\text{cap}(C_{4})=18$。新的最大流 $=17$。\n\nE. $(S,A)$ 出现在 $C_{3}$ 和 $C_{4}$ 中。剩余割的容量为：$\\text{cap}(C_{1})=16$, $\\text{cap}(C_{2})=16$。新的最大流 $=16$。\n\n因此，升级 $(D,K)$ 带来的增量最大，它将最大流从 $16$ Gbps 提高到 $17$ Gbps。", "answer": "$$\\boxed{D}$$", "id": "1387855"}, {"introduction": "本练习挑战您更抽象地思考最大流最小割定理的推论。您将不再为特定网络计算流量，而是探索当单个瓶颈链路略有改善时，流量可以增加的理论极限。这加深了您对局部边容量与全局最大流之间紧密关系的理解，这是网络流理论的核心原则。[@problem_id:1531962]", "problem": "在管理一个大型数据中心的内部网络时，您的任务是分析其数据吞吐能力。该网络被建模为一个有向图 $G=(V, E)$，称为流网络。在这个网络中，有一个指定的源节点 $s$（代表主服务器集群）和一个汇点 $t$（代表主数据出口点）。每条有向边 $(u,v) \\in E$都有一个非负容量 $c(u,v)$，表示它能处理的最大数据流速率。\n\n一个 s-t 流是一个函数 $f: V \\times V \\to \\mathbb{R}$，它满足容量限制、斜对称性和流守恒。流的值，记为 $|f|$，是从源点 $s$ 流出的净流量。一个 s-t 割是顶点集 $V$ 的一个划分，将其分为两个集合 $S$ 和 $T$，使得 $s \\in S$ 且 $t \\in T$。割的容量，记为 $c(S,T)$，是所有从 $S$ 中的顶点 $u$ 指向 $T$ 中的顶点 $v$ 的边 $(u,v)$ 的容量之和。最大流最小割定理指出，一个 s-t 流的最大可能值等于一个 s-t 割的最小容量。\n\n假设您在网络中找到了一个最小 s-t 割 $(S,T)$。为了提高网络的整体吞吐量，一位工程师提议升级一条通信链路。他们选择了一条特定的、跨越已识别的最小割的边 $(u,v)$，其中 $u \\in S$ 且 $v \\in T$。这条边的容量增加了 1 个单位，从而创建了一个新网络 $G'$。所有其他边的容量保持不变。\n\n设 $|f_{\\max}|$ 是原始网络 $G$ 中最大 s-t 流的值，设 $|f'_{\\max}|$ 是新网络 $G'$ 中最大 s-t 流的值。最大流的增加量的最大可能值是多少，即 $|f'_{\\max}| - |f_{\\max}|$ 的最大可能值是多少？\n\nA. 0\nB. 1\nC. 2\nD. 答案取决于最小割 $(S,T)$ 中边的总数。\nE. 没有上限；增加量可以任意大。", "solution": "设 $(S,T)$ 是 $G$ 中的一个最小 $s$-$t$ 割，其容量为 $c(S,T)$。根据最大流最小割定理，$G$ 中最大 $s$-$t$ 流的值满足\n$$\n|f_{\\max}|=\\min_{(X,Y)} c(X,Y)=c(S,T).\n$$\n将一条边 $(u,v)$（其中 $u \\in S$ 且 $v \\in T$）的容量增加 $1$，得到一个新的容量函数 $c'$，其中\n$$\nc'(x,y)=\\begin{cases}\nc(u,v)+1  & \\text{if } (x,y)=(u,v),\\\\\nc(x,y)  & \\text{otherwise.}\n\\end{cases}\n$$\n对于任何割 $(X,Y)$，其新容量满足\n$$\nc'(X,Y)=\\begin{cases}\nc(X,Y)+1  & \\text{if } u \\in X \\text{ and } v \\in Y,\\\\\nc(X,Y)  & \\text{otherwise.}\n\\end{cases}\n$$\n特别地，\n$$\nc'(S,T)=c(S,T)+1.\n$$\n设 $C'=\\min_{(X,Y)} c'(X,Y)$ 是 $G'$ 中的最小割容量。那么\n$$\nC' \\leq c'(S,T)=c(S,T)+1.\n$$\n将最大流最小割定理应用于 $G'$，新的最大流值满足\n$$\n|f'_{\\max}|=C' \\leq c(S,T)+1=|f_{\\max}|+1,\n$$\n因此\n$$\n|f'_{\\max}|-|f_{\\max}| \\leq 1.\n$$\n此外，由于没有割的容量减少，所以增加量是非负的：\n$$\n|f'_{\\max}| \\geq |f_{\\max}|.\n$$\n因此，\n$$\n0 \\leq |f'_{\\max}|-|f_{\\max}| \\leq 1.\n$$\n为了证明这个界是紧的，考虑一个网络，其中已识别的最小割 $(S,T)$ 是唯一的，并且从 $S$ 到 $T$ 的唯一跨越边是 $(u,v)$。那么 $c(S,T)=c(u,v)$，将 $c(u,v)$ 增加 $1$ 会得到\n$$\nc'(S,T)=c(S,T)+1,\n$$\n而其他所有割的容量要么保持不变，要么如果它包含 $(u,v)$ 的话，其容量也增加 $1$。由于在这种情况下，每个最小割都包含 $(u,v)$，所以新的最小割容量恰好是 $c(S,T)+1$，因此\n$$\n|f'_{\\max}|-|f_{\\max}|=1.\n$$\n因此，最大可能的增加量等于 $1$。", "answer": "$$\\boxed{B}$$", "id": "1531962"}]}