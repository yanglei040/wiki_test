{"hands_on_practices": [{"introduction": "首先，让我们来练习香农熵的基本计算。这个练习 [@problem_id:1620545] 提出了一个假设性的数据源，其符号的概率由统计力学原理决定，将物理系统的能量状态与信息内容联系起来。通过计算该数据源的熵，你将巩固对如何将熵公式 $H = -\\sum p_i \\log_2 p_i$ 应用于给定概率分布的理解。", "problem": "一个数据源（例如监测物理系统的传感器）的简化模型会从包含四种不同类型符号的集合 $\\{S_0, S_1, S_2, S_3\\}$ 中生成符号。生成符号 $S_i$ 的概率 $P(S_i)$ 受统计力学原理支配，其中每种符号类型对应一个离散能级 $E_i$。其概率分布由下式给出：\n$$ P(S_i) = \\frac{1}{Z} \\exp(-\\alpha E_i) $$\n其中 $\\alpha$ 是一个与系统属性相关的正常数，$Z$ 是配分函数，定义为 $Z = \\sum_{j=0}^{3} \\exp(-\\alpha E_j)$。\n四种符号类型的能级已确定为：\n- $E_0 = 0$\n- $E_1 = \\frac{\\ln(2)}{\\alpha}$\n- $E_2 = \\frac{2\\ln(2)}{\\alpha}$\n- $E_3 = \\frac{2\\ln(2)}{\\alpha}$\n\n计算此数据源的香农熵 $H$。熵衡量的是每个符号的平均不确定性或信息内容。请用比特作为单位表示你的答案。在熵的计算中，对数的底数必须为2。", "solution": "给定四个符号上的玻尔兹曼型分布，其能量为 $E_{i}$，概率为 $P(S_{i}) = Z^{-1}\\exp(-\\alpha E_{i})$，其中配分函数为 $Z = \\sum_{j=0}^{3} \\exp(-\\alpha E_{j})$。已知 $E_{0} = 0$，$E_{1} = \\frac{\\ln(2)}{\\alpha}$，$E_{2} = \\frac{2\\ln(2)}{\\alpha}$ 以及 $E_{3} = \\frac{2\\ln(2)}{\\alpha}$，我们计算未归一化的权重 $w_{i} = \\exp(-\\alpha E_{i})$：\n$$\nw_{0} = \\exp(0) = 1,\\quad\nw_{1} = \\exp\\!\\left(-\\alpha\\cdot\\frac{\\ln(2)}{\\alpha}\\right) = \\exp(-\\ln 2) = 2^{-1},\n$$\n$$\nw_{2} = \\exp\\!\\left(-\\alpha\\cdot\\frac{2\\ln(2)}{\\alpha}\\right) = \\exp(-2\\ln 2) = 2^{-2},\\quad\nw_{3} = 2^{-2}.\n$$\n配分函数为\n$$\nZ = w_{0} + w_{1} + w_{2} + w_{3} = 1 + 2^{-1} + 2^{-2} + 2^{-2} = 1 + 2^{-1} + 2\\cdot 2^{-2} = 1 + 2^{-1} + 2^{-1} = 2.\n$$\n因此，概率为\n$$\nP(S_{0}) = \\frac{1}{2},\\quad P(S_{1}) = \\frac{2^{-1}}{2} = \\frac{1}{4},\\quad P(S_{2}) = \\frac{2^{-2}}{2} = \\frac{1}{8},\\quad P(S_{3}) = \\frac{1}{8}.\n$$\n以比特为单位的香农熵为\n$$\nH = -\\sum_{i=0}^{3} P(S_{i})\\,\\log_{2} P(S_{i}) = -\\left[\\frac{1}{2}\\log_{2}\\!\\left(\\frac{1}{2}\\right) + \\frac{1}{4}\\log_{2}\\!\\left(\\frac{1}{4}\\right) + \\frac{1}{8}\\log_{2}\\!\\left(\\frac{1}{8}\\right) + \\frac{1}{8}\\log_{2}\\!\\left(\\frac{1}{8}\\right)\\right].\n$$\n使用 $\\log_{2}(1/2) = -1$，$\\log_{2}(1/4) = -2$ 和 $\\log_{2}(1/8) = -3$，我们得到\n$$\nH = \\frac{1}{2}\\cdot 1 + \\frac{1}{4}\\cdot 2 + 2\\cdot\\frac{1}{8}\\cdot 3 = \\frac{1}{2} + \\frac{1}{2} + \\frac{3}{4} = \\frac{7}{4}.\n$$\n因此，熵为 $\\frac{7}{4}$ 比特。", "answer": "$$\\boxed{\\frac{7}{4}}$$", "id": "1620545"}, {"introduction": "熵不仅仅是一个静态的公式，它还是一个衡量不确定性的动态指标。这个练习 [@problem_id:1620519] 旨在探索当我们通过将不同的结果合并为一个类别来简化系统时，熵会如何变化。这个过程通常被称为“粗粒化”，它直观地展示了当我们丧失区分某些可能性的能力时，系统整体的不确定性是如何降低的。", "problem": "一个简化的无线通信网络诊断系统监控传输数据包，并将其分为四个互斥状态之一：{S1, S2, S3, S4}。最初，在正常操作条件下，观察到所有四种状态以相等的概率发生。\n\n为了简化监控过程，进行了一次系统升级。升级后，该诊断工具不再区分状态S3和S4。取而代之的是，任何S3或S4的出现都被报告为一个单一的组合状态，我们称之为S-prime (S')。状态S1和S2的概率保持不变，新状态S'的概率是S3和S4原始概率之和。\n\n系统输出的不确定性由香农熵 $H$ 量化，其定义为 $H(X) = -\\sum_{i=1}^{n} p(x_i) \\log_2(p(x_i))$，其中 $p(x_i)$ 是第 $i$ 个结果的概率。\n\n计算升级后系统报告的状态的概率分布的熵。答案以比特为单位，并四舍五入到四位有效数字。", "solution": "设初始状态集为 $X = \\{S1, S2, S3, S4\\}$。问题陈述这四种状态以相等的概率发生。由于概率之和必须为1，每个状态的概率是：\n$P(S1) = P(S2) = P(S3) = P(S4) = \\frac{1}{4}$。\n\n系统升级后，状态S3和S4合并成一个新状态S'。新的可观察状态集是 $X' = \\{S1, S2, S'\\}$。我们需要确定这个新状态集的概率分布。\n\nS1和S2的概率不变：\n$P_{new}(S1) = P(S1) = \\frac{1}{4}$\n$P_{new}(S2) = P(S2) = \\frac{1}{4}$\n\n新状态S'的概率是形成它的原始状态的概率之和：\n$P_{new}(S') = P(S3) + P(S4) = \\frac{1}{4} + \\frac{1}{4} = \\frac{1}{2}$\n\n我们可以检查新的概率之和是否为1：\n$P_{new}(S1) + P_{new}(S2) + P_{new}(S') = \\frac{1}{4} + \\frac{1}{4} + \\frac{1}{2} = \\frac{2}{4} + \\frac{1}{2} = \\frac{1}{2} + \\frac{1}{2} = 1$。\n所以，新的概率分布是 $p_{new} = \\{\\frac{1}{4}, \\frac{1}{4}, \\frac{1}{2}\\}$。\n\n现在，我们使用香农熵公式 $H = -\\sum_{i} p_i \\log_2(p_i)$ 来计算这个新分布的熵。\n这个和将有三项，对应于 $X'$ 中的每个状态。\n\n$$H_{new} = - \\left[ P_{new}(S1) \\log_2(P_{new}(S1)) + P_{new}(S2) \\log_2(P_{new}(S2)) + P_{new}(S') \\log_2(P_{new}(S')) \\right]$$\n\n将概率值代入公式：\n$$H_{new} = - \\left[ \\frac{1}{4} \\log_2\\left(\\frac{1}{4}\\right) + \\frac{1}{4} \\log_2\\left(\\frac{1}{4}\\right) + \\frac{1}{2} \\log_2\\left(\\frac{1}{2}\\right) \\right]$$\n\n为了简化，我们计算对数项：\n$\\log_2\\left(\\frac{1}{4}\\right) = \\log_2(2^{-2}) = -2$\n$\\log_2\\left(\\frac{1}{2}\\right) = \\log_2(2^{-1}) = -1$\n\n现在，将这些值代回熵方程：\n$$H_{new} = - \\left[ \\frac{1}{4}(-2) + \\frac{1}{4}(-2) + \\frac{1}{2}(-1) \\right]$$\n$$H_{new} = - \\left[ -\\frac{2}{4} - \\frac{2}{4} - \\frac{1}{2} \\right]$$\n$$H_{new} = - \\left[ -\\frac{1}{2} - \\frac{1}{2} - \\frac{1}{2} \\right]$$\n$$H_{new} = - \\left[ -\\frac{3}{2} \\right]$$\n$$H_{new} = \\frac{3}{2} = 1.5$$\n\n问题要求答案以比特为单位，并四舍五入到四位有效数字。\n计算出的值恰好是1.5。为了用四位有效数字表示，我们将其写为1.500。", "answer": "$$\\boxed{1.500}$$", "id": "1620519"}, {"introduction": "最后，让我们将对熵的理解应用于一个源于密码学的实际场景。这个问题 [@problem_id:1620533] 探讨了当一个密钥的部分信息被泄露时的情形。你的任务是量化密钥的“剩余”不确定性，这将揭示一个基本关系：所获得的信息量恰好等于系统熵的减少量。", "problem": "一个容错内存系统被设计用于存储一个8位加密密钥，该密钥表示为位向量 $K = (K_1, K_2, \\dots, K_8)$。最初，密钥是从所有可能的 $2^8$ 个位串中均匀随机选择的。该内存系统有一个内置的错误检查机制，但由于一个设计缺陷，它会无意中向潜在的攻击者泄露一些信息。这个攻击者无法直接获知任何密钥位，但能够确定前四位和后四位的奇偶性。具体来说，攻击者获知了两个量的值：$P_1 = K_1 \\oplus K_2 \\oplus K_3 \\oplus K_4$ 和 $P_2 = K_5 \\oplus K_6 \\oplus K_7 \\oplus K_8$，其中 $\\oplus$ 表示异或（XOR）操作。\n\n在已知此信息泄露的情况下，计算秘密密钥 $K$ 的平均剩余熵。答案以比特为单位表示。熵应使用以2为底的对数计算。", "solution": "设 $K=(K_{1},\\dots,K_{8})$ 在 $\\{0,1\\}^{8}$ 上均匀分布，且设 $P_{1}=K_{1}\\oplus K_{2}\\oplus K_{3}\\oplus K_{4}$ 和 $P_{2}=K_{5}\\oplus K_{6}\\oplus K_{7}\\oplus K_{8}$。攻击者获知 $(P_{1},P_{2})$，因此关于 $K$ 的平均剩余不确定性是以2为底的对数计算的条件熵 $H(K\\,|\\,P_{1},P_{2})$。\n\n使用确定性泄露的恒等式：因为 $(P_{1},P_{2})$ 是 $K$ 的一个确定性函数，我们有 $H(P_{1},P_{2}\\,|\\,K)=0$，因此互信息满足 $I(K;(P_{1},P_{2}))=H(P_{1},P_{2})$。因此，\n$$\nH(K\\,|\\,P_{1},P_{2}) \\;=\\; H(K)-I(K;(P_{1},P_{2})) \\;=\\; H(K)-H(P_{1},P_{2}).\n$$\n因为 $K$ 在 $2^{8}$ 个值上均匀分布， \n$$\nH(K)=\\log_{2}(2^{8})=8.\n$$\n接下来，$P_{1}$ 只依赖于 $(K_{1},\\dots,K_{4})$，而 $P_{2}$ 只依赖于 $(K_{5},\\dots,K_{8})$。在均匀分布下，这两部分是独立的，并且每个奇偶校验位服从 $\\mathrm{Bernoulli}\\!\\left(\\frac{1}{2}\\right)$ 分布。因此\n$$\nH(P_{1})=-\\sum_{p\\in\\{0,1\\}}\\frac{1}{2}\\log_{2}\\!\\left(\\frac{1}{2}\\right)=1,\\qquad H(P_{2})=1,\n$$\n且根据独立性可得\n$$\nH(P_{1},P_{2})=H(P_{1})+H(P_{2})=2.\n$$\n因此，\n$$\nH(K\\,|\\,P_{1},P_{2})=8-2=6.\n$$\n\n作为一种计数交叉检验：固定 $(P_{1},P_{2})$ 会对每组四个位施加一个线性约束，每组留下 $4-1=3$ 个自由度，因此有 $2^{3}\\cdot 2^{3}=2^{6}$ 个可能的密钥与任何给定的 $(P_{1},P_{2})$ 一致。在 $2^{6}$ 种可能性上的均匀后验分布的熵为 $\\log_{2}(2^{6})=6$，与上述结果一致。", "answer": "$$\\boxed{6}$$", "id": "1620533"}]}