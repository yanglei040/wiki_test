{"hands_on_practices": [{"introduction": "第一个练习是拉格朗日乘数法的一个经典入门案例。我们将尝试在一个圆形路径上寻找一个简单线性函数的最大值和最小值。这个练习 [@problem_id:2216764] 之所以基础，是因为它直观地展示了该方法的核心原理：最优点出现在目标函数的等值线与约束曲线相切的位置，这在数学上等价于两者的梯度向量相互平行。", "problem": "一个传感器只能在一个二维平面内沿圆形路径 $x^2 + y^2 = 1$ 移动。传感器测量一个随位置变化的量 $f(x,y)$，该量由函数 $f(x, y) = 2x + 3y$ 给出。求出传感器在其路径上测得的量 $f(x,y)$ 的绝对最小值和最大值。将你的答案表示为行矩阵 $\\begin{pmatrix} \\text{min\\_value}  \\text{max\\_value} \\end{pmatrix}$，其中第一个元素是最小值，第二个元素是最大值。", "solution": "我们要求在约束条件 $x^{2} + y^{2} = 1$ 下，$f(x,y) = 2x + 3y$ 的极值。使用拉格朗日乘数法，其拉格朗日函数为\n$$\n\\mathcal{L}(x,y,\\lambda) = 2x + 3y - \\lambda \\left(x^{2} + y^{2} - 1\\right).\n$$\n将偏导数设为零：\n$$\n\\frac{\\partial \\mathcal{L}}{\\partial x} = 2 - 2\\lambda x = 0,\\quad \\frac{\\partial \\mathcal{L}}{\\partial y} = 3 - 2\\lambda y = 0,\\quad \\frac{\\partial \\mathcal{L}}{\\partial \\lambda} = x^{2} + y^{2} - 1 = 0.\n$$\n由前两个方程可得，\n$$\nx = \\frac{1}{\\lambda}, \\quad y = \\frac{3}{2\\lambda}.\n$$\n代入约束条件 $x^{2} + y^{2} = 1$：\n$$\n\\left(\\frac{1}{\\lambda}\\right)^{2} + \\left(\\frac{3}{2\\lambda}\\right)^{2} = 1 \\;\\;\\Rightarrow\\;\\; \\frac{1}{\\lambda^{2}} + \\frac{9}{4\\lambda^{2}} = 1 \\;\\;\\Rightarrow\\;\\; \\frac{13}{4\\lambda^{2}} = 1 \\;\\;\\Rightarrow\\;\\; \\lambda^{2} = \\frac{13}{4}.\n$$\n因此 $\\lambda = \\pm \\frac{\\sqrt{13}}{2}$。使用 $x = \\frac{1}{\\lambda}$ 和 $y = \\frac{3}{2\\lambda}$ 来计算 $f$：\n$$\nf = 2x + 3y = \\frac{2}{\\lambda} + \\frac{9}{2\\lambda} = \\frac{13}{2\\lambda}.\n$$\n当 $\\lambda = \\frac{\\sqrt{13}}{2}$ 时，\n$$\nf_{\\max} = \\frac{13}{2}\\cdot \\frac{2}{\\sqrt{13}} = \\sqrt{13}.\n$$\n当 $\\lambda = -\\frac{\\sqrt{13}}{2}$ 时，\n$$\nf_{\\min} = \\frac{13}{2}\\cdot \\left(-\\frac{2}{\\sqrt{13}}\\right) = -\\sqrt{13}.\n$$\n因此，$f$ 在单位圆上的绝对最小值和最大值分别是 $-\\sqrt{13}$ 和 $\\sqrt{13}$。", "answer": "$$\\boxed{\\begin{pmatrix}-\\sqrt{13}  \\sqrt{13}\\end{pmatrix}}$$", "id": "2216764"}, {"introduction": "在掌握了基础之后，这个练习将我们带入一个更复杂的三维设计问题：在一个椭球形穹顶内，如何设计一个房间以最大化其“宜居性得分”。该练习 [@problem_id:2216756] 介绍了一种非常强大的技巧，即使用对数变换来简化涉及多变量乘积的优化问题。这种方法从工程设计到经济学建模都有着广泛的应用。", "problem": "一位建筑师正在一栋带有大型椭球穹顶的建筑内设计一个特殊的展览室。该房间必须是一个长方体，其边与椭球的轴平行。该长方体的八个顶点必须位于椭球表面上，该椭球由方程 $\\frac{x^2}{a^2} + \\frac{y^2}{b^2} + \\frac{z^2}{c^2} = 1$ 描述。参数 $a, b, c$ 是椭球的正半轴。\n\n房间的“宜居性得分”是衡量其美学和功能质量的指标，由其半维度 $(x, y, z)$ 的加权乘积决定。该得分由函数 $S(x,y,z) = x^{\\alpha} y^{\\beta} z^{\\gamma}$ 给出，其中 $\\alpha, \\beta, \\gamma$ 是正常数，分别代表对长度、宽度和高度的设计优先级。\n\n使用拉格朗日乘数法，确定使此宜居性得分最大化的长方体的半维度 $(x, y, z)$。你的答案应为一组关于 $a, b, c, \\alpha, \\beta,$ 和 $\\gamma$ 的 $x, y, z$ 的解析表达式。", "solution": "我们需要在椭球约束条件\n$$\n\\frac{x^{2}}{a^{2}} + \\frac{y^{2}}{b^{2}} + \\frac{z^{2}}{c^{2}} = 1,\n$$\n下，最大化加权乘积 $S(x,y,z) = x^{\\alpha} y^{\\beta} z^{\\gamma}$，其中 $x,y,z  0$ 是半维度。由于 $\\ln$ 函数是严格递增的，最大化 $S$ 等价于在相同约束条件下最大化\n$$\nf(x,y,z) = \\alpha \\ln x + \\beta \\ln y + \\gamma \\ln z\n$$。\n\n为约束条件 $g(x,y,z) = \\frac{x^{2}}{a^{2}} + \\frac{y^{2}}{b^{2}} + \\frac{z^{2}}{c^{2}} - 1 = 0$ 引入一个拉格朗日乘子 $\\lambda$，并构造拉格朗日函数\n$$\n\\mathcal{L}(x,y,z,\\lambda) = \\alpha \\ln x + \\beta \\ln y + \\gamma \\ln z - \\lambda \\left( \\frac{x^{2}}{a^{2}} + \\frac{y^{2}}{b^{2}} + \\frac{z^{2}}{c^{2}} - 1 \\right).\n$$\n平稳性要求关于 $x,y,z$ 的偏导数为零：\n$$\n\\frac{\\partial \\mathcal{L}}{\\partial x} = \\frac{\\alpha}{x} - \\lambda \\frac{2x}{a^{2}} = 0,\\quad\n\\frac{\\partial \\mathcal{L}}{\\partial y} = \\frac{\\beta}{y} - \\lambda \\frac{2y}{b^{2}} = 0,\\quad\n\\frac{\\partial \\mathcal{L}}{\\partial z} = \\frac{\\gamma}{z} - \\lambda \\frac{2z}{c^{2}} = 0.\n$$\n分别求解 $x^{2}, y^{2}, z^{2}$ 可得\n$$\nx^{2} = \\frac{\\alpha a^{2}}{2\\lambda},\\quad\ny^{2} = \\frac{\\beta b^{2}}{2\\lambda},\\quad\nz^{2} = \\frac{\\gamma c^{2}}{2\\lambda}.\n$$\n将这些代入约束条件：\n$$\n\\frac{x^{2}}{a^{2}} + \\frac{y^{2}}{b^{2}} + \\frac{z^{2}}{c^{2}} = \\frac{\\alpha}{2\\lambda} + \\frac{\\beta}{2\\lambda} + \\frac{\\gamma}{2\\lambda} = \\frac{\\alpha + \\beta + \\gamma}{2\\lambda} = 1,\n$$\n这意味着\n$$\n\\lambda = \\frac{\\alpha + \\beta + \\gamma}{2}.\n$$\n因此，\n$$\nx^{2} = \\frac{\\alpha a^{2}}{\\alpha + \\beta + \\gamma},\\quad\ny^{2} = \\frac{\\beta b^{2}}{\\alpha + \\beta + \\gamma},\\quad\nz^{2} = \\frac{\\gamma c^{2}}{\\alpha + \\beta + \\gamma}.\n$$\n由于 $x,y,z$ 代表半维度，我们取正平方根：\n$$\nx = a \\sqrt{\\frac{\\alpha}{\\alpha + \\beta + \\gamma}},\\quad\ny = b \\sqrt{\\frac{\\beta}{\\alpha + \\beta + \\gamma}},\\quad\nz = c \\sqrt{\\frac{\\gamma}{\\alpha + \\beta + \\gamma}}.\n$$\n因为在 $x,y,z0$ 上 $f(x,y,z)$ 是严格凹函数，并且可行集与正卦限平滑相交，所以这些一阶条件得出了在 $x,y,z0$ 的椭球表面上的唯一最大值点。", "answer": "$$\\boxed{\\begin{pmatrix}\na \\sqrt{\\frac{\\alpha}{\\alpha+\\beta+\\gamma}}  b \\sqrt{\\frac{\\beta}{\\alpha+\\beta+\\gamma}}  c \\sqrt{\\frac{\\gamma}{\\alpha+\\beta+\\gamma}}\n\\end{pmatrix}}$$", "id": "2216756"}, {"introduction": "最后一个练习是一个挑战，它将我们带到标准拉格朗日乘数法应用的边界。我们将研究一个涉及1-范数（$L_1$-norm）的优化问题，而1-范数并非处处可导。通过分析为何该方法在这种情况下无法找到全局最优解 [@problem_id:2216763]，你将更深刻地理解可导性这一关键假设所扮演的角色，并认识到为什么最优点有时会出现在约束集的“尖角”处。", "problem": "实矩阵 $A \\in \\mathbb{R}^{m \\times n}$ 的诱导1-范数由约束优化问题 $\\|A\\|_1 = \\max_{\\mathbf{x} \\in \\mathbb{R}^n, \\|\\mathbf{x}\\|_1=1} \\|A\\mathbf{x}\\|_1$ 定义，其中 $\\|\\mathbf{v}\\|_1 = \\sum_{i} |v_i|$ 是向量1-范数。将标准的拉格朗日乘子法直接应用于此问题是复杂的，因为目标函数 $f(\\mathbf{x}) = \\|A\\mathbf{x}\\|_1$ 和约束函数 $g(\\mathbf{x}) = \\|\\mathbf{x}\\|_1 - 1$ 并非处处可微。\n\n考虑特定矩阵 $A = \\begin{pmatrix} 5  1 \\\\ 1  -3 \\end{pmatrix}$。为了理解该优化的行为，我们可以在函数可微的定义域的一个“片区”上对其进行分析。设 $R$ 是 $\\mathbb{R}^2$ 中由以下不等式组定义的区域：\n$$x_1  0, \\quad x_2  0, \\quad \\text{和} \\quad x_1 - 3x_2  0$$\n在此区域 $R$ 内，$f(\\mathbf{x})$ 和 $g(\\mathbf{x})$ 都是连续可微的。设 $V_{cand}$ 为目标函数 $f(\\mathbf{x})$ 在某点 $\\mathbf{x}$ 处的值，该点 $\\mathbf{x}$ 同时位于约束曲面 $\\|\\mathbf{x}\\|_1=1$ 上和区域 $R$ 内，并且对于某个拉格朗日乘子 $\\lambda$ 满足拉格朗日乘子一阶必要条件 $\\nabla f(\\mathbf{x}) = \\lambda \\nabla g(\\mathbf{x})$。\n\n该问题的真正全局最大值 $\\|A\\|_1$ 是在约束集边界上一个梯度没有良好定义的点上达到的。计算比值 $\\frac{V_{cand}}{\\|A\\|_1}$ 的精确值。", "solution": "给定 $A=\\begin{pmatrix}5  1 \\\\ 1  -3\\end{pmatrix}$ 和诱导1-范数 $\\|A\\|_{1}=\\max_{\\mathbf{x}\\in\\mathbb{R}^{2},\\ \\|\\mathbf{x}\\|_{1}=1}\\|A\\mathbf{x}\\|_{1}$，其中 $f(\\mathbf{x})=\\|A\\mathbf{x}\\|_{1}$ 和 $g(\\mathbf{x})=\\|\\mathbf{x}\\|_{1}-1$。在区域 $R=\\{\\mathbf{x}=(x_{1},x_{2})^{\\top}:\\ x_{1}0,\\ x_{2}0,\\ x_{1}-3x_{2}0\\}$ 上，$A\\mathbf{x}$ 各分量的符号是固定的，因此 $f$ 和 $g$ 在此区域上是连续可微的。\n\n计算 $A\\mathbf{x}$：\n$$\nA\\mathbf{x}=\\begin{pmatrix}5  1 \\\\ 1  -3\\end{pmatrix}\\begin{pmatrix}x_{1}\\\\x_{2}\\end{pmatrix}\n=\\begin{pmatrix}5x_{1}+x_{2}\\\\x_{1}-3x_{2}\\end{pmatrix}。\n$$\n在 $R$ 上，我们有 $x_{1}0$ 和 $x_{2}0$，因此 $5x_{1}+x_{2}0$，并且给定 $x_{1}-3x_{2}0$。因此，绝对值可以化简为\n$$\n|5x_{1}+x_{2}|=5x_{1}+x_{2},\\qquad |x_{1}-3x_{2}|=-(x_{1}-3x_{2})=3x_{2}-x_{1}。\n$$\n因此\n$$\nf(\\mathbf{x})=\\|A\\mathbf{x}\\|_{1}=(5x_{1}+x_{2})+(3x_{2}-x_{1})=4x_{1}+4x_{2}=4(x_{1}+x_{2})。\n$$\n在约束 $\\|\\mathbf{x}\\|_{1}=1$ 且 $x_{1},x_{2}0$ 的条件下，我们有 $x_{1}+x_{2}=1$，因此对于任何可行点 $\\mathbf{x}\\in R$，\n$$\nf(\\mathbf{x})=4。\n$$\n在 $R$ 中计算梯度：$\\nabla f(\\mathbf{x})=4\\begin{pmatrix}1\\\\1\\end{pmatrix}$ 和 $\\nabla g(\\mathbf{x})=\\begin{pmatrix}1\\\\1\\end{pmatrix}$。拉格朗日乘子一阶条件 $\\nabla f(\\mathbf{x})=\\lambda \\nabla g(\\mathbf{x})$ 对于 $R$ 中的每个 $\\mathbf{x}$ 均以 $\\lambda=4$ 满足。因此，任何这样的点都是候选点，且对应的目标函数值为常数\n$$\nV_{cand}=4。\n$$\n\n接下来，计算 $A$ 的诱导1-范数。对于任何矩阵，$\\|A\\|_{1}$ 等于最大绝对列和：\n$$\n\\|A\\|_{1}=\\max_{j}\\sum_{i}|a_{ij}|。\n$$\n列和为 $|5|+|1|=6$ 和 $|1|+|-3|=4$，因此\n$$\n\\|A\\|_{1}=6。\n$$\n因此所求的比值为\n$$\n\\frac{V_{cand}}{\\|A\\|_{1}}=\\frac{4}{6}=\\frac{2}{3}。\n$$", "answer": "$$\\boxed{\\frac{2}{3}}$$", "id": "2216763"}]}