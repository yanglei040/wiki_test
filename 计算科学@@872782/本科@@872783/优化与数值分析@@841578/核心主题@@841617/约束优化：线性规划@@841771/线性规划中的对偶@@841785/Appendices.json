{"hands_on_practices": [{"introduction": "理解对偶性的最佳方式是从头开始构建一个原始-对偶问题对。这个练习 [@problem_id:2167651] 将引导您将一个现实世界的生产场景转化为一个原始线性规划问题，然后构建其对应的对偶问题。通过求解这两个问题，您将亲眼见证强对偶定理的体现，即它们的原始和对偶目标函数值在最优点上是相等的。这个实践有助于巩固对偶形式的构建技巧，并为理解核心理论提供了坚实的直观基础。", "problem": "一家公司生产两种产品，产品 A 和产品 B。产品 A 的单位利润为 3 个货币单位，产品 B 的单位利润为 5 个货币单位。这两种产品的生产受到两种资源的限制：劳动力和原材料。\n- 生产一单位产品 A 需要 1 小时劳动力和 3 单位原材料。\n- 生产一单位产品 B 需要 2 小时劳动力和 1 单位原材料。\n公司每天总共有 10 小时劳动力和 15 单位原材料可用。\n设 $x_1$ 为每天生产的产品 A 的数量，$x_2$ 为每天生产的产品 B 的数量。公司的目标是最大化其每日利润。\n\n首先，将此情景构建为一个线性规划问题（原问题）。然后，构建该问题的对偶问题。\n\n确定原问题的最优目标值 $Z_{P}^*$ 及其对偶问题的最优目标值 $Z_{D}^*$。将您的答案表示为一个有序数值对 $(Z_{P}^*, Z_{D}^*)$。", "solution": "**第一部分：构建并求解原问题**\n\n首先，我们根据给定信息构建原线性规划问题 (P)。\n设 $x_1$ 为产品 A 的单位数，$x_2$ 为产品 B 的单位数。\n目标是最大化总利润 $Z_P$。利润函数为：\n$$Z_P = 3x_1 + 5x_2$$\n约束条件基于可用资源（劳动力和原材料）。\n劳动力约束：$1x_1 + 2x_2 \\le 10$\n原材料约束：$3x_1 + 1x_2 \\le 15$\n此外，生产的单位数不能为负：\n$x_1 \\ge 0$, $x_2 \\ge 0$\n\n因此，原问题 (P) 为：\n$$\n\\begin{align*}\n\\text{Maximize }  Z_P = 3x_1 + 5x_2 \\\\\n\\text{subject to }  x_1 + 2x_2 \\le 10 \\\\\n 3x_1 + x_2 \\le 15 \\\\\n x_1, x_2 \\ge 0\n\\end{align*}\n$$\n我们用图解法求解此问题。我们在第一象限绘制约束条件的边界线：\n1. $x_1 + 2x_2 = 10$ (经过点 $(10,0)$ 和 $(0,5)$)\n2. $3x_1 + x_2 = 15$ (经过点 $(5,0)$ 和 $(0,15)$)\n3. $x_1 = 0$ (纵轴)\n4. $x_2 = 0$ (横轴)\n\n可行域是由这些线相交的顶点定义的多边形。顶点为：\n- 顶点 O：$x_1=0$ 和 $x_2=0$ 的交点，即 $(0,0)$。\n- 顶点 A：$x_1=0$ 和 $x_1 + 2x_2 = 10$ 的交点，得出 $2x_2 = 10 \\implies x_2 = 5$。因此，A 为 $(0,5)$。\n- 顶点 B：$x_2=0$ 和 $3x_1 + x_2 = 15$ 的交点，得出 $3x_1 = 15 \\implies x_1 = 5$。因此，B 为 $(5,0)$。\n- 顶点 C：$x_1 + 2x_2 = 10$ 和 $3x_1 + x_2 = 15$ 的交点。由第二个方程得 $x_2 = 15 - 3x_1$。将其代入第一个方程：\n$x_1 + 2(15 - 3x_1) = 10$\n$x_1 + 30 - 6x_1 = 10$\n$-5x_1 = -20 \\implies x_1 = 4$\n则，$x_2 = 15 - 3(4) = 15 - 12 = 3$。因此，C 为 $(4,3)$。\n\n现在，我们计算目标函数 $Z_P = 3x_1 + 5x_2$ 在每个顶点处的值：\n- 在 O(0,0) 点：$Z_P = 3(0) + 5(0) = 0$\n- 在 A(0,5) 点：$Z_P = 3(0) + 5(5) = 25$\n- 在 B(5,0) 点：$Z_P = 3(5) + 5(0) = 15$\n- 在 C(4,3) 点：$Z_P = 3(4) + 5(3) = 12 + 15 = 27$\n\n目标函数的最大值为 27，在点 $(x_1, x_2) = (4,3)$ 处取得。\n因此，原问题的最优值为 $Z_{P}^* = 27$。\n\n**第二部分：构建并求解对偶问题**\n\n接下来，我们构建对偶问题 (D)。原问题是一个带有 '$\\le$' 约束的最大化问题。其对偶问题将是一个带有 '$\\ge$' 约束的最小化问题。设 $y_1$ 和 $y_2$ 分别是与劳动力和原材料约束相关的对偶变量。\n\n对偶问题 (D) 为：\n$$\n\\begin{align*}\n\\text{Minimize }  Z_D = 10y_1 + 15y_2 \\\\\n\\text{subject to }  y_1 + 3y_2 \\ge 3 \\\\\n 2y_1 + y_2 \\ge 5 \\\\\n y_1, y_2 \\ge 0\n\\end{align*}\n$$\n我们也可以用图解法求解此对偶问题。我们绘制对偶约束的边界线：\n1. $y_1 + 3y_2 = 3$ (经过点 $(3,0)$ 和 $(0,1)$)\n2. $2y_1 + y_2 = 5$ (经过点 $(2.5,0)$ 和 $(0,5)$)\n\n可行域在上方和右侧是无界的。由于这是一个最小化问题，最优解必定位于可行域边界的某个顶点上。顶点为：\n- 顶点 P：$y_1=0$ 和 $2y_1 + y_2 = 5$ 的交点，得出 $y_2 = 5$。因此，P 为 $(0,5)$。\n- 顶点 Q：$y_2=0$ 和 $y_1 + 3y_2 = 3$ 的交点，得出 $y_1 = 3$。因此，Q 为 $(3,0)$。\n- 顶点 R：$y_1 + 3y_2 = 3$ 和 $2y_1 + y_2 = 5$ 的交点。由第二个方程得 $y_2 = 5 - 2y_1$。将其代入第一个方程：\n$y_1 + 3(5 - 2y_1) = 3$\n$y_1 + 15 - 6y_1 = 3$\n$-5y_1 = -12 \\implies y_1 = \\frac{12}{5}$\n则，$y_2 = 5 - 2(\\frac{12}{5}) = 5 - \\frac{24}{5} = \\frac{25-24}{5} = \\frac{1}{5}$。因此，R 为 $(\\frac{12}{5}, \\frac{1}{5})$。\n\n现在，我们计算对偶目标函数 $Z_D = 10y_1 + 15y_2$ 在每个顶点处的值：\n- 在 P(0,5) 点：$Z_D = 10(0) + 15(5) = 75$\n- 在 Q(3,0) 点：$Z_D = 10(3) + 15(0) = 30$\n- 在 R($\\frac{12}{5}, \\frac{1}{5}$) 点：$Z_D = 10(\\frac{12}{5}) + 15(\\frac{1}{5}) = 2(12) + 3(1) = 24 + 3 = 27$\n\n对偶目标函数的最小值为 27。\n因此，对偶问题的最优值为 $Z_{D}^* = 27$。\n\n**结论**\n\n原问题的最优目标值为 $Z_{P}^* = 27$，对偶问题的最优目标值为 $Z_{D}^* = 27$。正如强对偶定理所预期的，最优值是相等的。\n所要求的有序对为 $(Z_{P}^*, Z_{D}^*) = (27, 27)$。", "answer": "$$\\boxed{\\begin{pmatrix} 27 & 27 \\end{pmatrix}}$$", "id": "2167651"}, {"introduction": "除了寻找最优解之外，验证一个给定的解是否确实最优也是一项至关重要的技能。互补松弛性为此提供了一套优雅而强大的条件。在这个练习 [@problem_id:2167646] 中，您将应用这些条件来检验一个给定的原始和对偶可行解是否是最优的。这项实践不仅能加深您对互补松弛性定理的理解，还能让您洞察资源利用（原始松弛变量）和其影子价格（对偶变量）之间的深刻经济联系。", "problem": "一个电网运营商旨在最小化每小时的发电成本。该系统由三种类型的发电机组组成：一个天然气发电厂、一个太阳能发电场和一个风力发电场。设 $x_g$、$x_s$ 和 $x_w$ 分别是天然气、太阳能和风力机组的功率输出，单位为兆瓦 (MW)。运营商的优化模型，称为原始问题 (P)，其公式如下：\n\n最小化总成本 $Z_P = 50x_g + 20x_s + 25x_w$\n\n约束条件：\n1.  $x_g + x_s + x_w \\ge 500$ (总需求)\n2.  $x_g - 0.5x_s - 0.5x_w \\ge 0$ (电网稳定性)\n3.  $x_g \\le 300$ (天然气发电厂容量限制)\n4.  $x_g, x_s, x_w \\ge 0$\n\n对偶问题 (D) 的对偶变量为 $y_1$、$y_2$ 和 $y_3$，分别对应于 (P) 的第一、第二和第三个约束。在这种标准形式中，一个原始的 '$\\ge$' 约束对应一个非负的对偶变量 ($y_i \\ge 0$)，一个原始的 '$\\le$' 约束对应一个非正的对偶变量 ($y_i \\le 0$)。\n\n一位运营分析师提出了以下可行的原始解：$\\hat{\\mathbf{x}} = (\\hat{x}_g, \\hat{x}_s, \\hat{x}_w) = \\left(\\frac{500}{3}, \\frac{1000}{3}, 0\\right)$。\n同时，也提出了一个可行的对偶解：$\\hat{\\mathbf{y}} = (\\hat{y}_1, \\hat{y}_2, \\hat{y}_3) = (30, 20, 0)$。\n\n使用互补松弛性原理，判断这些提出的解是否是其各自问题的最优解。以下哪个陈述是正确的？\n\nA. 解是最优的。\n\nB. 解不是最优的，因为至少有一个原始松弛条件被违反。\n\nC. 解不是最优的，因为至少有一个对偶松弛条件被违反。\n\nD. 解不是最优的，因为原始和对偶松弛条件都被违反。\n\nE. 提供的解不是可行的，因此无法确定最优性。", "solution": "我们首先以标准配对形式写出原始问题 (P) 及其对偶问题 (D)。原始问题是：\n最小化 $Z_{P} = 50x_{g} + 20x_{s} + 25x_{w}$\n约束条件：\n$x_{g} + x_{s} + x_{w} \\ge 500$,\n$x_{g} - 0.5x_{s} - 0.5x_{w} \\ge 0$,\n$x_{g} \\le 300$,\n$x_{g}, x_{s}, x_{w} \\ge 0$.\n根据所述约定，对偶变量满足 $y_{1} \\ge 0$、$y_{2} \\ge 0$、$y_{3} \\le 0$，对偶问题是：\n最大化 $Z_{D} = 500y_{1} + 0\\cdot y_{2} + 300y_{3}$\n约束条件：\n$y_{1} + y_{2} + y_{3} \\le 50$,\n$y_{1} - 0.5y_{2} + 0\\cdot y_{3} \\le 20$,\n$y_{1} - 0.5y_{2} + 0\\cdot y_{3} \\le 25$.\n\n步骤 1：验证原始解 $\\hat{\\mathbf{x}} = \\left(\\frac{500}{3}, \\frac{1000}{3}, 0\\right)$ 的可行性。\n计算每个约束的左侧：\n(1) $\\frac{500}{3} + \\frac{1000}{3} + 0 = \\frac{1500}{3} = 500 \\ge 500$ (紧约束)。\n(2) $\\frac{500}{3} - 0.5\\cdot \\frac{1000}{3} - 0 = \\frac{500}{3} - \\frac{500}{3} = 0 \\ge 0$ (紧约束)。\n(3) $\\frac{500}{3} \\le 300$ (松弛为正，因为 $300 - \\frac{500}{3} = \\frac{400}{3} > 0$)。\n并且 $x_{g}, x_{s}, x_{w} \\ge 0$。因此 $\\hat{\\mathbf{x}}$ 是原始可行的。\n\n步骤 2：验证对偶解 $\\hat{\\mathbf{y}} = (30, 20, 0)$ 的可行性。\n符号条件：$30 \\ge 0$，$20 \\ge 0$，$0 \\le 0$ 成立。\n检查对偶不等式：\n$y_{1} + y_{2} + y_{3} = 30 + 20 + 0 = 50 \\le 50$,\n$y_{1} - 0.5y_{2} = 30 - 10 = 20 \\le 20$,\n$y_{1} - 0.5y_{2} = 20 \\le 25$.\n因此 $\\hat{\\mathbf{y}}$ 是对偶可行的。\n\n步骤 3：应用互补松弛性。\n对于每个原始约束 $i$，设其松弛量为 $s_{i}$，并要求 $y_{i}\\,s_{i} = 0$。\n约束 1 ($\\ge$): $s_{1} = (x_{g} + x_{s} + x_{w}) - 500 = 0$, 所以 $y_{1}\\,s_{1} = 30\\cdot 0 = 0$。\n约束 2 ($\\ge$): $s_{2} = (x_{g} - 0.5x_{s} - 0.5x_{w}) - 0 = 0$, 所以 $y_{2}\\,s_{2} = 20\\cdot 0 = 0$。\n约束 3 ($\\le$): $s_{3} = 300 - x_{g} = \\frac{400}{3} > 0$, 所以我们要求 $y_{3} = 0$，此条件成立。\n\n对于每个对偶约束 $j$，设其残差为 $r_{j} = c_{j} - (A^{\\top}y)_{j} \\ge 0$，并要求 $x_{j}\\,r_{j} = 0$。\n对于 $x_{g}$: $r_{g} = 50 - (y_{1} + y_{2} + y_{3}) = 50 - 50 = 0$，且 $x_{g} = \\frac{500}{3} > 0$，所以 $x_{g}\\,r_{g} = 0$。\n对于 $x_{s}$: $r_{s} = 20 - (y_{1} - 0.5y_{2}) = 20 - 20 = 0$，且 $x_{s} = \\frac{1000}{3} > 0$，所以 $x_{s}\\,r_{s} = 0$。\n对于 $x_{w}$: $r_{w} = 25 - (y_{1} - 0.5y_{2}) = 25 - 20 = 5 > 0$，且 $x_{w} = 0$，所以 $x_{w}\\,r_{w} = 0$。\n\n所有互补松弛性条件都成立。作为额外的一致性检查，目标函数值一致：\n$Z_{P} = 50\\cdot \\frac{500}{3} + 20\\cdot \\frac{1000}{3} + 25\\cdot 0 = \\frac{25000}{3} + \\frac{20000}{3} = \\frac{45000}{3} = 15000$,\n$Z_{D} = 500\\cdot 30 + 0\\cdot 20 + 300\\cdot 0 = 15000$.\n\n因此，根据可行性和互补松弛性，这两个解都是最优的。正确选项是 A。", "answer": "$$\\boxed{A}$$", "id": "2167646"}, {"introduction": "对偶性不仅是一个优美的理论概念，它还是高效优化算法的支柱，例如对偶单纯形法。当一个迭代解对于对偶问题是可行的，但对于原始问题却是不可行时（例如，在单纯形表中的右侧项出现负值），对偶单纯形法就显得特别有用。这个练习 [@problem_id:2167656] 为您提供了一个亲手执行对偶单纯形法关键一步——枢轴变换——的机会。通过这个过程，您将更好地理解该算法如何在保持对偶可行性的同时，系统地向原始可行解和最终的最优解迈进。", "problem": "考虑一个为最大化目标函数 $z$ 而建立的线性规划问题。该问题包含决策变量 $x_1, x_2$ 和松弛变量 $s_1, s_2$。在使用基于单纯形法的算法进行若干次迭代后，得到以下单纯形表：\n\n$$\n\\begin{array}{c|cccccc|c}\n\\text{基变量} & z & x_1 & x_2 & s_1 & s_2 & s_3 & \\text{右端项} \\\\\n\\hline\nz & 1 & 0 & 5 & 2 & 0 & 4 & 80 \\\\\nx_1 & 0 & 1 & -2 & -1 & 0 & -3 & -15 \\\\\ns_2 & 0 & 0 & 3 & 4 & 1 & 1 & 25 \\\\\n\\end{array}\n$$\n\n此单纯形表表示一个对偶问题可行但原始问题不可行的状态。您的任务是应用一次对偶单纯形法的轴心变换操作，以向原始可行解推进。\n\n确定在这次单次轴心变换后，目标函数行（$z$ 行）中每一列的结果项。您的答案应该是一个行向量，按顺序包含对应于 $z, x_1, x_2, s_1, s_2, s_3$ 的系数以及右端项 (RHS) 的值。将所有非整数值表示为精确分数。", "solution": "给定一个单纯形表，它是对偶可行的（$z$ 行中所有非基变量的检验数均为非负），但原始不可行（某个基变量的右端项为负）。对偶单纯形法选择右端项 (RHS) 最负的基行作为出基变量，并选择该行中系数为负且使对偶比例检验最小的列作为入基变量。\n\n从单纯形表中：\n$$\n\\begin{array}{c|cccccc|c}\n\\text{基变量} & z & x_{1} & x_{2} & s_{1} & s_{2} & s_{3} & \\text{右端项} \\\\\n\\hline\nz & 1 & 0 & 5 & 2 & 0 & 4 & 80 \\\\\nx_{1} & 0 & 1 & -2 & -1 & 0 & -3 & -15 \\\\\ns_{2} & 0 & 0 & 3 & 4 & 1 & 1 & 25 \\\\\n\\end{array}\n$$\n确定出基行：最负的右端项在 $x_1$ 行，其值为 $-15$，因此出基变量是 $x_1$。\n\n在出基行中，考虑系数为负的列：$x_2$ 的系数为 $-2$，$s_1$ 的系数为 $-1$，$s_3$ 的系数为 $-3$。使用 $z$ 行的系数 $c_j$ 进行对偶比例检验：\n- 对于 $x_{2}$：比率为 $\\frac{c_{x_{2}}}{-a_{r,x_{2}}}=\\frac{5}{2}$。\n- 对于 $s_{1}$：比率为 $\\frac{c_{s_{1}}}{-a_{r,s_{1}}}=\\frac{2}{1}=2$。\n- 对于 $s_{3}$：比率为 $\\frac{c_{s_{3}}}{-a_{r,s_{3}}}=\\frac{4}{3}$。\n\n最小比率为 $\\frac{4}{3}$，因此 $s_3$ 入基，轴心元素是位于 $x_1$ 行和 $s_3$ 列交点处的 $-3$。\n\n执行轴心变换。首先，将轴心行除以 $-3$ 进行归一化：\n$$\n\\text{新轴心行} = \\frac{1}{-3}\\,[0,\\;1,\\;-2,\\;-1,\\;0,\\;-3\\;|\\;-15] = [0,\\;-\\tfrac{1}{3},\\;\\tfrac{2}{3},\\;\\tfrac{1}{3},\\;0,\\;1\\;|\\;5].\n$$\n用此结果消去其他行中 $s_3$ 的系数。\n\n通过减去 4 倍的新轴心行来更新 $z$ 行：\n$$\n\\text{新 }z\\text{ 行} = [1,\\;0,\\;5,\\;2,\\;0,\\;4\\;|\\;80] - 4\\,[0,\\;-\\tfrac{1}{3},\\;\\tfrac{2}{3},\\;\\tfrac{1}{3},\\;0,\\;1\\;|\\;5]\n$$\n$$\n=[1,\\; \\tfrac{4}{3},\\; \\tfrac{7}{3},\\; \\tfrac{2}{3},\\; 0,\\; 0\\;|\\;60].\n$$\n\n为完整起见（最终答案无需此步骤），通过减去新轴心行来更新 $s_2$ 行：\n$$\n\\text{新 }s_{2}\\text{ 行} = [0,\\;0,\\;3,\\;4,\\;1,\\;1\\;|\\;25] - [0,\\;-\\tfrac{1}{3},\\;\\tfrac{2}{3},\\;\\tfrac{1}{3},\\;0,\\;1\\;|\\;5]\n$$\n$$\n=[0,\\;\\tfrac{1}{3},\\;\\tfrac{7}{3},\\;\\tfrac{11}{3},\\;1,\\;0\\;|\\;20].\n$$\n\n因此，在这次单次的对偶单纯形轴心变换之后，目标函数行中对应于列 $(z, x_{1}, x_{2}, s_{1}, s_{2}, s_{3}, \\text{RHS})$ 的各项为\n$$\n[1,\\; \\tfrac{4}{3},\\; \\tfrac{7}{3},\\; \\tfrac{2}{3},\\; 0,\\; 0,\\; 60].\n$$", "answer": "$$\\boxed{\\begin{pmatrix}1 & \\frac{4}{3} & \\frac{7}{3} & \\frac{2}{3} & 0 & 0 & 60\\end{pmatrix}}$$", "id": "2167656"}]}