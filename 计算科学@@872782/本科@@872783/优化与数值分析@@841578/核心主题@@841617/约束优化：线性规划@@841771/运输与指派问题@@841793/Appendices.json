{"hands_on_practices": [{"introduction": "此问题介绍了基本的指派问题，这是运筹学中的一个核心概念。通过将场景建模为二分图，我们可以确定两组不同元素之间可能的最大成功配对数。这个练习 [@problem_id:2223405] 提供了将现实世界中的资源分配难题转化为形式化数学结构，并利用图论原理解题的动手实践机会。", "problem": "一所大学的学术成功中心正试图为一个即将到来的学期优化其同伴辅导项目。他们有一组导师和一组请求特定课程辅导的学生。一名导师最多可以分配给一名学生，一名学生最多可以分配给一名导师。只有当导师精通学生所请求的科目时，该分配才被认为是“成功的”。\n\n该中心有四名可用的导师：Alex、Brenda、Charles和Diana。\n请求帮助的学生有Frank、Grace、Henry和Irene。\n\n导师们精通的科目如下：\n- Alex精通Math 101和Physics 101。\n- Brenda精通Math 101。\n- Charles精通Chemistry 201。\n- Diana精通Chemistry 201和Biology 101。\n\n学生们的需求如下：\n- Frank需要Math 101的帮助。\n- Grace需要Physics 101的帮助。\n- Henry需要Chemistry 201的帮助。\n- Irene需要Biology 101的帮助。\n\n确定可以进行的最大成功导师-学生分配数量。", "solution": "将此情况建模为二分图$G=(U,V,E)$，其中$U$是学生集合，$V$是导师集合。令$U=\\{F,G,H,I\\}$分别表示Frank、Grace、Henry和Irene，令$V=\\{A,B,C,D\\}$分别表示Alex、Brenda、Charles和Diana。当且仅当导师精通学生所需的科目时，才有一条边连接该学生和导师。\n\n根据导师的专业能力和学生的需求：\n- $A$可以辅导$F$ (Math 101) 和$G$ (Physics 101)。\n- $B$可以辅导$F$ (Math 101)。\n- $C$可以辅导$H$ (Chemistry 201)。\n- $D$可以辅导$H$ (Chemistry 201) 和$I$ (Biology 101)。\n\n因此，边集为\n$$\nE=\\{(A,F),(A,G),(B,F),(C,H),(D,H),(D,I)\\}.\n$$\n我们要求解最大匹配数$\\nu(G)$。根据Hall婚配定理，一个完美匹配（匹配所有学生）存在的充要条件是，对于$U$的每一个子集$S \\subseteq U$，其邻域$N(S) \\subseteq V$都满足$|N(S)| \\ge |S|$，其中$N(S)=\\{v \\in V:\\exists\\, u \\in S \\text{ with } (v,u) \\in E\\}$。\n\n计算相关子集的$N(S)$：\n- 单元素集：\n  - $N(\\{F\\})=\\{A,B\\}$，所以$|N(\\{F\\})|=2 \\ge 1$。\n  - $N(\\{G\\})=\\{A\\}$，所以$|N(\\{G\\})|=1 \\ge 1$。\n  - $N(\\{H\\})=\\{C,D\\}$，所以$|N(\\{H\\})|=2 \\ge 1$。\n  - $N(\\{I\\})=\\{D\\}$，所以$|N(\\{I\\})|=1 \\ge 1$。\n- 双元素集：\n  - $N(\\{F,G\\})=\\{A,B\\}$，所以$|N(\\{F,G\\})|=2 = 2$。\n  - $N(\\{F,H\\})=\\{A,B,C,D\\}$，所以$|N(\\{F,H\\})|=4 \\ge 2$。\n  - $N(\\{F,I\\})=\\{A,B,D\\}$，所以$|N(\\{F,I\\})|=3 \\ge 2$。\n  - $N(\\{G,H\\})=\\{A,C,D\\}$，所以$|N(\\{G,H\\})|=3 \\ge 2$。\n  - $N(\\{G,I\\})=\\{A,D\\}$，所以$|N(\\{G,I\\})|=2 = 2$。\n  - $N(\\{H,I\\})=\\{C,D\\}$，所以$|N(\\{H,I\\})|=2 = 2$。\n- 三元素集：\n  - $N(\\{F,G,H\\})=\\{A,B,C,D\\}$，所以$|N(\\{F,G,H\\})|=4 \\ge 3$。\n  - $N(\\{F,G,I\\})=\\{A,B,D\\}$，所以$|N(\\{F,G,I\\})|=3 = 3$。\n  - $N(\\{F,H,I\\})=\\{A,B,C,D\\}$，所以$|N(\\{F,H,I\\})|=4 \\ge 3$。\n  - $N(\\{G,H,I\\})=\\{A,C,D\\}$，所以$|N(\\{G,H,I\\})|=3 = 3$。\n- 所有四个元素：\n  - $N(\\{F,G,H,I\\})=\\{A,B,C,D\\}$，所以$|N(\\{F,G,H,I\\})|=4 = 4$。\n\n在所有情况下，都有$|N(S)| \\ge |S|$，所以Hall条件成立，存在一个完美匹配。因此，最大成功分配数量为\n$$\n\\nu(G)=4.\n$$\n一个具体的完美匹配是$(A,G)$、$(B,F)$、$(C,H)$、$(D,I)$，对应于Alex–Grace、Brenda–Frank、Charles–Henry和Diana–Irene的配对。", "answer": "$$\\boxed{4}$$", "id": "2223405"}, {"introduction": "在基本指派问题的基础上，此问题深入探讨了经典的运输问题，这在物流和供应链管理中至关重要。其目标是在满足供给和需求限制的同时，找到一个总成本最低的初始运输方案。此实践 [@problem_id:2223366] 演示了最小成本法的应用，这是一种广泛使用的启发式算法，可为更复杂的优化算法提供一个良好的初始解。", "problem": "一家特种咖啡公司在南美洲经营着三个种植园，并将其生咖啡豆分销到欧洲的四个烘焙厂。这些种植园的供应能力和烘焙厂的需求量在即将到来的季节是固定的。\n\n这些种植园位于哥伦比亚（S1）、巴西（S2）和秘鲁（S3），其每周供应能力（以吨为单位）如下：\n- S1: 300 吨\n- S2: 400 吨\n- S3: 500 吨\n\n这些烘焙厂位于汉堡（D1）、的里雅斯特（D2）、勒阿弗尔（D3）和瓦伦西亚（D4），其每周需求量（以吨为单位）如下：\n- D1: 250 吨\n- D2: 350 吨\n- D3: 400 吨\n- D4: 200 吨\n\n从每个种植园运输一吨咖啡豆到每个烘焙厂的成本以欧元计。成本如下：\n- 从 S1（哥伦比亚）：到 D1 为 8，到 D2 为 10，到 D3 为 14，到 D4 为 12。\n- 从 S2（巴西）：到 D1 为 9，到 D2 为 7，到 D4 为 11。由于存在无法克服的物流困难，从 S2 直接运往 D3 是不可能的，因此该路线被视为禁止路线，其成本用 $M$ 表示，为无限大。\n- 从 S3（秘鲁）：到 D1 为 13，到 D2 为 12，到 D3 为 6，到 D4 为 10。\n\n为了启动物流计划，公司决定使用最小成本法（也称为矩阵最小法）来确定一个初始基本可行解。计算此初始运输计划的总运输成本。\n\n请用欧元表示您的最终答案。", "solution": "我们建立运输问题模型，其供应量为 $s_{1}=300$、$s_{2}=400$、$s_{3}=500$，需求量为 $d_{1}=250$、$d_{2}=350$、$d_{3}=400$、$d_{4}=200$。成本矩阵 $c_{ij}$（单位：欧元/吨）如下：\n- 从 $S_{1}$：$c_{11}=8$, $c_{12}=10$, $c_{13}=14$, $c_{14}=12$。\n- 从 $S_{2}$：$c_{21}=9$, $c_{22}=7$, $c_{23}=M$ （禁止，实际上为无限大），$c_{24}=11$。\n- 从 $S_{3}$：$c_{31}=13$, $c_{32}=12$, $c_{33}=6$, $c_{34}=10$。\n\n总供应量为 $300+400+500=1200$，总需求量为 $250+350+400+200=1200$，因此该问题是平衡的。\n\n我们应用最小成本法。在每一步中，选择具有最小有限成本的可用单元格，并分配 $x_{ij}=\\min(\\text{supply at }S_{i},\\text{ demand at }D_{j})$，然后更新剩余的供应量和需求量。成本为 $M$ 的禁止路线 $(S_{2},D_{3})$ 永远不会被选中。\n\n步骤 1：最小成本为 $(S_{3},D_{3})$ 处的 $c_{33}=6$。分配\n$$\nx_{33}=\\min(500,400)=400.\n$$\n更新：$s_{3}\\leftarrow 500-400=100$， $d_{3}\\leftarrow 400-400=0$（$D_{3}$ 列已耗尽）。\n\n步骤 2：剩余单元格中的下一个最小成本为 $(S_{2},D_{2})$ 处的 $c_{22}=7$。分配\n$$\nx_{22}=\\min(400,350)=350.\n$$\n更新：$s_{2}\\leftarrow 400-350=50$， $d_{2}\\leftarrow 350-350=0$（$D_{2}$ 列已耗尽）。\n\n步骤 3：剩余单元格中的下一个最小成本为 $(S_{1},D_{1})$ 处的 $c_{11}=8$。分配\n$$\nx_{11}=\\min(300,250)=250.\n$$\n更新：$s_{1}\\leftarrow 300-250=50$， $d_{1}\\leftarrow 250-250=0$（$D_{1}$ 列已耗尽）。\n\n此时，仅剩需求量 $d_{4}=200$，供应量为 $s_{1}=50$、$s_{2}=50$、$s_{3}=100$。\n\n步骤 4：在通往 $D_{4}$ 的单元格中，最小成本为 $(S_{3},D_{4})$ 处的 $c_{34}=10$。分配\n$$\nx_{34}=\\min(100,200)=100.\n$$\n更新：$s_{3}\\leftarrow 100-100=0$， $d_{4}\\leftarrow 200-100=100$。\n\n步骤 5：通往 $D_{4}$ 的下一个最小成本为 $(S_{2},D_{4})$ 处的 $c_{24}=11$。分配\n$$\nx_{24}=\\min(50,100)=50.\n$$\n更新：$s_{2}\\leftarrow 50-50=0$， $d_{4}\\leftarrow 100-50=50$。\n\n步骤 6：$D_{4}$ 的剩余单元格为 $(S_{1},D_{4})$ 处的 $c_{14}=12$。分配\n$$\nx_{14}=\\min(50,50)=50.\n$$\n更新：$s_{1}\\leftarrow 50-50=0$， $d_{4}\\leftarrow 50-50=0$。\n\n所有供应和需求都已完全满足。基本分配为\n$$\nx_{11}=250,\\quad x_{14}=50,\\quad x_{22}=350,\\quad x_{24}=50,\\quad x_{33}=400,\\quad x_{34}=100.\n$$\n\n总运输成本计算如下：\n$$\nC=\\sum_{i=1}^{3}\\sum_{j=1}^{4} c_{ij} x_{ij}\n=8\\cdot 250+12\\cdot 50+7\\cdot 350+11\\cdot 50+6\\cdot 400+10\\cdot 100.\n$$\n逐项计算，\n$$\n8\\cdot 250=2000,\\quad 12\\cdot 50=600,\\quad 7\\cdot 350=2450,\\quad 11\\cdot 50=550,\\quad 6\\cdot 400=2400,\\quad 10\\cdot 100=1000,\n$$\n求和得，\n$$\nC=2000+600+2450+550+2400+1000=9000.\n$$\n因此，最小成本法初始计划的总运输成本等于 $9000$ 欧元。", "answer": "$$\\boxed{9000}$$", "id": "2223366"}, {"introduction": "本练习探讨了指派问题的一个动态、多阶段的版本，反映了现实世界调度的复杂性。我们不再是寻找单一的最优指派，而是必须找出一系列跨越多个时间段的指派，以最小化累积成本。这个问题 [@problem_id:2223382] 挑战您顺序地应用指派逻辑，在每个阶段做出贪心最优选择，以构建一个完整的多周期调度方案。", "problem": "一家咨询公司需要安排其四名审计员，记为 $A_1, A_2, A_3, A_4$，在连续四个月的时间里访问四个公司分部 $B_1, B_2, B_3, B_4$。\n\n该安排必须满足两个主要约束条件：\n1. 在任何一个月内，每个分部必须由且仅由一名审计员访问，并且每名审计员必须被分配到不同的分部。\n2. 在整个四个月期间，每名审计员必须访问所有四个分部各一次。\n\n在任意两个连续月份之间，一名审计员从分部 $B_i$ 移动到分部 $B_j$ 的差旅成本由成本矩阵 $C$ 给出，其中 $C_{ij}$ 是第 $i$ 行第 $j$ 列的元素。从一个分部到其自身的差旅成本被视为无穷大。\n\n$$\nC = \\begin{pmatrix}\n\\infty  10  25  22 \\\\\n12  \\infty  15  18 \\\\\n20  13  \\infty  16 \\\\\n21  17  19  \\infty\n\\end{pmatrix}\n$$\n\n安排是按顺序进行的。第一个月的分配是固定的：审计员 $A_i$ 被分配到分部 $B_i$（对于 $i=1, 2, 3, 4$）。对于接下来的每个月，即第2个月和第3个月，选择的分配方案旨在最小化从上一个月过渡的总差旅成本，同时遵守所有安排约束。最后一个月（第4个月）的分配则由每位审计员剩余未访问的分部唯一确定。\n\n计算整个四个月安排的总差旅成本。总成本是从第1个月到第2个月、第2个月到第3个月以及第3个月到第4个月的过渡成本之和。", "solution": "设第1个月的分配固定为 $P_{1}(i)=i$（对于 $i\\in\\{1,2,3,4\\}$）。对于第2个月，我们必须选择一个 $\\{1,2,3,4\\}$ 的错排 $\\sigma$ 以最小化 $\\sum_{i=1}^{4} C_{i,\\sigma(i)}$，因为停留在同一分部的成本是无穷大，并且违反了每位审计员必须访问每个分部各一次的总体约束。\n\n列举所有错排及其成本：\n- $(1\\,2)(3\\,4)$: $C_{1,2}+C_{2,1}+C_{3,4}+C_{4,3}=10+12+16+19=57$。\n- $(1\\,3)(2\\,4)$: $C_{1,3}+C_{3,1}+C_{2,4}+C_{4,2}=25+20+18+17=80$。\n- $(1\\,4)(2\\,3)$: $C_{1,4}+C_{4,1}+C_{2,3}+C_{3,2}=22+21+15+13=71$。\n- $(1\\,2\\,3\\,4)$: $C_{1,2}+C_{2,3}+C_{3,4}+C_{4,1}=10+15+16+21=62$。\n- $(1\\,2\\,4\\,3)$: $C_{1,2}+C_{2,4}+C_{4,3}+C_{3,1}=10+18+19+20=67$。\n- $(1\\,3\\,2\\,4)$: $C_{1,3}+C_{3,2}+C_{2,4}+C_{4,1}=25+13+18+21=77$。\n- $(1\\,3\\,4\\,2)$: $C_{1,3}+C_{3,4}+C_{4,2}+C_{2,1}=25+16+17+12=70$。\n- $(1\\,4\\,2\\,3)$: $C_{1,4}+C_{4,2}+C_{2,3}+C_{3,1}=22+17+15+20=74$。\n- $(1\\,4\\,3\\,2)$: $C_{1,4}+C_{4,3}+C_{3,2}+C_{2,1}=22+19+13+12=66$。\n\n最小值为 $57$，由 $\\sigma_{2}=(1\\,2)(3\\,4)$ 得到。因此，$P_{2}$ 由 $1\\mapsto 2$，$2\\mapsto 1$，$3\\mapsto 4$，$4\\mapsto 3$ 给出，从第1个月到第2个月的成本是\n$$\n\\sum_{i=1}^{4} C_{i,P_{2}(i)}=57.\n$$\n\n对于第3个月，每位审计员必须从其当前分部 $P_{2}(i)$ 移动到一个新的分部 $k(i)$，该分部既不同于 $i$ 也不同于 $P_{2}(i)$，并且集合 $\\{k(1),k(2),k(3),k(4)\\}$ 必须是 $\\{1,2,3,4\\}$ 的一个排列。成本来自 $C_{P_{2}(i),k(i)}$。\n\n根据 $P_{2}$，当前的分部分配为：$A_{1}$ 在 $2$，$A_{2}$ 在 $1$，$A_{3}$ 在 $4$，$A_{4}$ 在 $3$。允许的移动和相应的成本如下：\n- $A_{1}$：允许移动到 $\\{3,4\\}$，成本为 $C_{2,3}=15$，$C_{2,4}=18$。\n- $A_{2}$：允许移动到 $\\{3,4\\}$，成本为 $C_{1,3}=25$，$C_{1,4}=22$。\n- $A_{3}$：允许移动到 $\\{1,2\\}$，成本为 $C_{4,1}=21$，$C_{4,2}=17$。\n- $A_{4}$：允许移动到 $\\{1,2\\}$，成本为 $C_{3,1}=20$，$C_{3,2}=13$。\n\n这可以分解为两个独立的 $2\\times 2$ 分配问题：\n- 对于分部 $\\{3,4\\}$：在 $(A_{1}\\to 3,\\ A_{2}\\to 4)$（成本 $15+22=37$）和 $(A_{1}\\to 4,\\ A_{2}\\to 3)$（成本 $18+25=43$）之间选择。最小值为 $37$，所以 $A_{1}\\to 3$，$A_{2}\\to 4$。\n- 对于分部 $\\{1,2\\}$：在 $(A_{3}\\to 1,\\ A_{4}\\to 2)$（成本 $21+13=34$）和 $(A_{3}\\to 2,\\ A_{4}\\to 1)$（成本 $17+20=37$）之间选择。最小值为 $34$，所以 $A_{3}\\to 1$，$A_{4}\\to 2$。\n\n因此，$P_{3}$ 是 $1\\mapsto 3$，$2\\mapsto 4$，$3\\mapsto 1$，$4\\mapsto 2$，从第2个月到第3个月的成本是\n$$\nC_{2,3}+C_{1,4}+C_{4,1}+C_{3,2}=15+22+21+13=71.\n$$\n\n对于第4个月，每位审计员前往唯一剩下的未访问过的分部。剩下的分部分别是：\n- $A_{1}$：剩下 $4$，所以从 $3\\to 4$，成本为 $C_{3,4}=16$。\n- $A_{2}$：剩下 $3$，所以从 $4\\to 3$，成本为 $C_{4,3}=19$。\n- $A_{3}$：剩下 $2$，所以从 $1\\to 2$，成本为 $C_{1,2}=10$。\n- $A_{4}$：剩下 $1$，所以从 $2\\to 1$，成本为 $C_{2,1}=12$。\n\n因此，从第3个月到第4个月的成本是\n$$\n16+19+10+12=57.\n$$\n\n因此，整个四个月安排的总差旅成本是\n$$\n57+71+57=185.\n$$", "answer": "$$\\boxed{185}$$", "id": "2223382"}]}