{"hands_on_practices": [{"introduction": "在构建任何优化模型时，第一步也是最关键的一步，是清晰地区分我们能够控制的因素和我们必须接受的外部条件。这个练习将我们置于一个日常的商业场景——为新餐厅定价——来实践这项基本技能[@problem_id:2165343]。通过将问题分解为可控选择和给定事实，我们为建立一个有效的利润最大化模型奠定了基础。", "problem": "一位餐厅经营者正在创建一个数学优化模型，为一家新开的农场直供餐厅设定菜单价格。其主要目标是最大化每日的总利润。为了建立这个模型，必须正确识别和分类各种商业信息。\n\n为了构建一个日常价格优化模型，您需要对一系列项目进行分类。这些类别定义如下：\n- **决策变量**是决策者（餐厅经营者）可以直接控制并选择其值的量。优化模型旨在为这些变量找到最优值。\n- **参数**是从模型的角度来看被认为是固定的或给定的值。这些是模型的输入，决策者在短期内无法改变。\n- 如果一个项目是模型的结果（例如最终的目标函数值），或者是在模型的数学结构中未被直接用作变量或参数的信息，则它被归类为**均不是**。\n\n请考虑以下项目：\n1.  菜单上某道菜的售价。\n2.  某道菜所用关键食材的每公斤批发成本。\n3.  餐厅的每日总利润。\n4.  餐厅用餐区可用的桌子数量。\n\n以下哪个选项正确地对所有四个项目进行了分类？\n\nA. 项目 1：决策变量，项目 2：参数，项目 3：均不是，项目 4：参数\n\nB. 项目 1：参数，项目 2：决策变量，项目 3：均不是，项目 4：参数\n\nC. 项目 1：决策变量，项目 2：参数，项目 3：决策变量，项目 4：均不是\n\nD. 项目 1：参数，项目 2：参数，项目 3：均不是，项目 4：决策变量\n\nE. 项目 1：决策变量，项目 2：均不是，项目 3：参数，项目 4：参数", "solution": "我们首先应用给定的定义：\n\n- 决策变量由餐厅经营者在优化过程中直接选择（例如，价格）。\n- 参数是一个外生输入，在短期内从模型的角度看是固定的（例如，成本、容量）。\n- “均不是”类别包括模型的结果（例如，目标值）或未被用作变量或参数的项目。\n\n项目 1（某道菜的售价）由餐厅经营者在定价模型中选择，因此它是一个决策变量。\n\n项目 2（关键食材的每公斤批发成本）由供应商给出，在短期内不受控制，因此它是一个参数。\n\n项目 3（每日总利润）是模型在给定决策和参数后产生的目标函数值，因此它属于“均不是”类别。\n\n项目 4（可用桌子数量）是一个固定的资源约束，在短期内不受定价控制，因此它是一个参数。\n\n与选项比较，这与选项 A 相匹配。", "answer": "$$\\boxed{A}$$", "id": "2165343"}, {"introduction": "从概念分类过渡到数学形式化是优化建模的核心。本练习通过一个人道主义援助分配的案例，展示了如何将一个现实世界问题转化为一个具有明确目标和约束的优化问题[@problem_id:2165349]。你的任务是识别出模型旨在求解的核心未知量——即决策变量。", "problem": "全球援助基金会（GAF）正在开发一个数学模型，以优化向多个难民营分配有限食品供应。对于即将到来的分配周期，已收集到以下信息：\n\n有 $N$ 个难民营，索引从 $i=1$ 到 $N$。\n- 营地 $i$ 的人口是一个已知值，记为 $p_i$。\n- 可用于分配的紧急食品供应总量为 $S$ 公斤。\n- GAF 决定分配给每个营地 $i$ 的食物数量。这个数量记为 $x_i$ 公斤。分配必须是非负的。\n- 将一公斤食物运输到营地 $i$ 的成本是一个固定费率，$c_i$。此分配周期的总运输预算为 $B$。\n- GAF 的目标是最大化所有营地的总“满意度分数”。营地 $i$ 的满意度分数是其获得的分配量及其人口的函数，由表达式 $\\ln(1 + \\frac{x_i}{p_i})$ 给出。\n\n在将此场景表述为优化问题的背景下，我们必须区分 GAF 可以控制的量（决策变量）和问题的固定输入量（参数）。\n\n以下哪项代表了此优化模型的**决策变量**集合？\n\nA. 食物分配集合 $\\{x_1, x_2, \\dots, x_N\\}$\n\nB. 难民营人口集合 $\\{p_1, p_2, \\dots, p_N\\}$\n\nC. 食品供应总量 $S$ 和总运输预算 $B$\n\nD. 难民营数量 $N$ 和运输成本集合 $\\{c_1, c_2, \\dots, c_N\\}$\n\nE. 总满意度分数，$\\sum_{i=1}^{N} \\ln(1 + \\frac{x_i}{p_i})$", "solution": "我们将决策变量定义为 GAF 在优化过程中可以选择的量，而参数是固定的输入。明确地构建优化问题。令 $x_{i}$ 表示分配给营地 $i$ 的食物公斤数，它必须满足非负性和资源约束。目标是最大化总满意度：\n$$\n\\max_{x_{1},\\dots,x_{N}} \\;\\sum_{i=1}^{N} \\ln\\!\\left(1+\\frac{x_{i}}{p_{i}}\\right)\n$$\n受总食品供应约束和运输预算约束：\n$$\n\\sum_{i=1}^{N} x_{i} \\leq S, \\qquad \\sum_{i=1}^{N} c_{i} x_{i} \\leq B, \\qquad x_{i} \\geq 0 \\text{ 对所有 } i.\n$$\n在这个公式中，可控量是分配量 $x_{i}$，由 GAF 选择以满足约束并最大化目标函数。值 $p_{i}$、$c_{i}$、$S$、$B$ 和 $N$ 是作为输入提供的固定参数。总满意度 $\\sum_{i=1}^{N} \\ln\\!\\left(1+\\frac{x_{i}}{p_{i}}\\right)$ 是由 $x_{i}$ 的选择决定的目标函数值，其本身不是决策变量。\n\n因此，决策变量的集合是 $\\{x_{1},x_{2},\\dots,x_{N}\\}$，这对应于选项A。", "answer": "$$\\boxed{A}$$", "id": "2165349"}, {"introduction": "决策变量和参数的概念在处理不确定性的高级模型中尤为重要。这个练习探讨了一个金融领域的复杂问题：在满足特定风险容忍度的前提下，构建最优投资组合[@problem_id:2165348]。在这里，精确区分投资权重（我们的决策）和市场统计数据（环境参数）是成功解决问题的关键。", "problem": "一位“全球韧性基金”的基金经理的任务是从 $n$ 种不同资产的集合中创建一个投资组合。目标是使用机会约束优化方法，在管理下行风险的同时最大化预期回报。\n\n该模型公式如下：\n令 $\\mathbf{w} = [w_1, w_2, \\dots, w_n]^T$ 表示每种资产的投资分数（权重）向量。资产回报被建模为一个随机向量，其均值向量 $\\boldsymbol{\\mu} \\in \\mathbb{R}^n$ 和正定协方差矩阵 $\\Sigma \\in \\mathbb{R}^{n \\times n}$ 已知。投资组合的回报 $R_p = \\mathbf{w}^T \\mathbf{R}$ 是一个随机变量，其中 $\\mathbf{R}$ 是随机资产回报的向量。\n\n该经理的优化问题是最大化预期投资组合回报 $E[R_p] = \\mathbf{w}^T \\boldsymbol{\\mu}$，并遵循以下约束条件：\n1.  完全投资：权重之和必须为一，即 $\\mathbf{1}^T \\mathbf{w} = 1$。\n2.  无卖空：所有权重必须为非负，即 $w_i \\ge 0$ 对所有 $i=1, \\dots, n$ 成立。\n3.  风险管理：投资组合回报 $R_p$ 低于指定的最低目标回报 $R_{target}$ 的概率，不得超过一个小的风险容忍概率 $\\delta$。这就是机会约束：$P(R_p  R_{target}) \\le \\delta$。\n\n为了使此问题在计算上是可行的，假设资产回报服从多元正态分布。在此假设下，机会约束等价于以下确定性的非线性约束：\n$$\n\\mathbf{w}^T \\boldsymbol{\\mu} - \\Phi^{-1}(1-\\delta) \\sqrt{\\mathbf{w}^T \\Sigma \\mathbf{w}} \\ge R_{target}\n$$\n其中 $\\Phi^{-1}(\\cdot)$ 是标准正态分布的逆累积分布函数（也称为分位数函数）。\n\n在此优化模型的背景下，以下哪个列表正确且完整地区分了**决策变量**（由优化过程决定的量）和**参数**（定义问题实例的固定输入）？\n\nA. 决策变量: $\\{\\mathbf{w}\\}$; 参数: $\\{\\boldsymbol{\\mu}, \\Sigma, R_{target}, \\delta, n\\}$\n\nB. 决策变量: $\\{\\mathbf{w}, R_p\\}$; 参数: $\\{\\boldsymbol{\\mu}, \\Sigma, R_{target}, \\delta\\}$\n\nC. 决策变量: $\\{\\mathbf{w}, \\boldsymbol{\\mu}\\}$; 参数: $\\{\\Sigma, R_{target}, \\delta, n\\}$\n\nD. 决策变量: $\\{\\mathbf{w}\\}$; 参数: $\\{\\boldsymbol{\\mu}, \\Sigma, R_{target}, \\delta, n, R_p\\}$\n\nE. 决策变量: $\\{\\mathbf{w}, \\delta\\}$; 参数: $\\{\\boldsymbol{\\mu}, \\Sigma, R_{target}, n\\}$", "solution": "我们将决策变量识别为优化过程为在满足约束条件的同时最大化目标函数而选择的量，并将参数识别为定义问题实例的固定输入。\n\n目标是最大化 $E[R_{p}] = \\mathbf{w}^{T}\\boldsymbol{\\mu}$，约束条件为：\n$$\n\\mathbf{1}^{T}\\mathbf{w} = 1,\\quad w_{i} \\ge 0\\ \\forall i,\\quad P(R_{p}  R_{target}) \\le \\delta.\n$$\n在多元正态假设 $\\mathbf{R} \\sim \\mathcal{N}(\\boldsymbol{\\mu}, \\Sigma)$ 下，投资组合回报 $R_{p} = \\mathbf{w}^{T}\\mathbf{R}$ 服从\n$$\nR_{p} \\sim \\mathcal{N}\\!\\left(\\mathbf{w}^{T}\\boldsymbol{\\mu},\\ \\mathbf{w}^{T}\\Sigma \\mathbf{w}\\right).\n$$\n因此，\n$$\nP(R_{p}  R_{target}) = \\Phi\\!\\left(\\frac{R_{target} - \\mathbf{w}^{T}\\boldsymbol{\\mu}}{\\sqrt{\\mathbf{w}^{T}\\Sigma \\mathbf{w}}}\\right) \\le \\delta,\n$$\n这（根据 $\\Phi$ 的单调性）等价于\n$$\n\\frac{R_{target} - \\mathbf{w}^{T}\\boldsymbol{\\mu}}{\\sqrt{\\mathbf{w}^{T}\\Sigma \\mathbf{w}}} \\le \\Phi^{-1}(\\delta)\n\\quad\\Longleftrightarrow\\quad\n\\mathbf{w}^{T}\\boldsymbol{\\mu} - \\Phi^{-1}(1-\\delta)\\sqrt{\\mathbf{w}^{T}\\Sigma \\mathbf{w}} \\ge R_{target},\n$$\n使用了 $\\Phi^{-1}(1-\\delta) = -\\Phi^{-1}(\\delta)$。在所有这些表达式中，只有 $\\mathbf{w}$ 是由优化器选择的；所有其他符号都是固定输入或引致的随机变量。\n\n因此：\n- 决策变量：$\\mathbf{w}$，因为它被直接优化，并出现在目标函数和约束条件中。\n- 参数：$\\boldsymbol{\\mu}$ 和 $\\Sigma$（分布输入）、$R_{target}$（指定的最低回报）、$\\delta$（风险容忍度）以及 $n$（资产数量，决定了 $\\mathbf{w}$ 的维度）。\n- 随机变量 $R_{p} = \\mathbf{w}^{T}\\mathbf{R}$ 既不是决策变量，也不是固定参数；它是由 $\\mathbf{w}$ 和 $\\mathbf{R}$ 的分布引致的，所以它不应该被列在决策变量或参数之中。\n\n评估选项：\n- A 正确地将决策变量列为 $\\{\\mathbf{w}\\}$，将参数列为 $\\{\\boldsymbol{\\mu}, \\Sigma, R_{target}, \\delta, n\\}$。\n- B 是不正确的，因为 $R_{p}$ 不是一个决策变量。\n- C 是不正确的，因为 $\\boldsymbol{\\mu}$ 不是一个决策变量。\n- D 是不正确的，因为 $R_{p}$ 不是一个固定参数。\n- E 是不正确的，因为 $\\delta$ 不是一个决策变量。\n\n因此，正确选项是 A。", "answer": "$$\\boxed{A}$$", "id": "2165348"}]}