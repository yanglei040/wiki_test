{"hands_on_practices": [{"introduction": "切割平面法的旅程始于一个关键的初始步骤：求解线性规划（$LP$）松弛问题。通过暂时忽略整数约束，我们可以快速找到一个理论上的最优解，这个解为我们的整数规划问题提供了一个重要的目标值上界。这个练习将带你实践如何构建并求解一个整数规划问题的$LP$松弛形式，为后续应用切割平面法奠定基础。[@problem_id:2211982]", "problem": "一名计算机科学专业的学生正在为一个竞赛项目训练两种不同类型的机器学习模型：一个分类器模型和一个生成器模型。该学生的目标是根据他们成功训练的模型，最大化一个总“性能得分”。\n\n学生的资源受到图形处理单元（GPU）时间和可用数据存储空间的限制。\n- 每训练一个分类器模型可获得8分的性能得分。\n- 每训练一个生成器模型可获得5分的性能得分。\n\n限制条件如下：\n1.  **GPU时间**：训练一个分类器模型需要2小时的GPU时间，而一个生成器模型需要1小时。该学生总共有16小时的GPU可用时间。\n2.  **数据存储**：训练一个分类器模型消耗3太字节（TB）的数据，而一个生成器模型消耗5 TB。该学生总共有40 TB的可用数据。\n\n实际上，每种类型的模型数量必须是整数。然而，为了确定项目性能的理论上限，学生首先分析了一种可以训练分数个模型的宽松情况（例如，通过将训练过程运行到部分完成）。\n\n在这种可以训练分数个模型的假设下，学生能获得的最大可能总性能得分是多少？将你的答案四舍五入到三位有效数字。", "solution": "令 $C$ 表示（可能为分数的）分类器模型的数量，$G$ 表示生成器模型的数量。目标是最大化总性能得分\n$$\nZ = 8C + 5G\n$$\n受以下资源约束：\n$$\n2C + G \\le 16 \\quad \\text{(GPU time)}, \\quad 3C + 5G \\le 40 \\quad \\text{(storage)}, \\quad C \\ge 0,\\; G \\ge 0.\n$$\n这是一个线性规划问题；因此，最大值出现在可行域的一个顶点上。候选顶点是坐标轴截距点以及两条约束线的交点。坐标轴截距点如下：\n- 当 $G=0$ 时：从 $2C \\le 16$ 可得 $C \\le 8$，从 $3C \\le 40$ 可得 $C \\le \\frac{40}{3}$。因此，$C$ 轴上的有效约束是 $C=8$，得到点 $(C,G)=(8,0)$。\n- 当 $C=0$ 时：从 $G \\le 16$ 和 $5G \\le 40$ 可得 $G \\le 8$，得到点 $(C,G)=(0,8)$。\n\n接下来，求解 $2C + G = 16$ 和 $3C + 5G = 40$ 的交点。从第一个方程得到 $G = 16 - 2C$。将其代入第二个方程：\n$$\n3C + 5(16 - 2C) = 40 \\;\\;\\Rightarrow\\;\\; 3C + 80 - 10C = 40 \\;\\;\\Rightarrow\\;\\; -7C + 80 = 40 \\;\\;\\Rightarrow\\;\\; C = \\frac{40}{7}.\n$$\n则\n$$\nG = 16 - 2\\cdot \\frac{40}{7} = \\frac{112}{7} - \\frac{80}{7} = \\frac{32}{7}.\n$$\n在各候选点处计算目标函数值：\n- 在点 $(C,G)=(8,0)$ 处：$Z = 8\\cdot 8 + 5\\cdot 0 = 64$。\n- 在点 $(C,G)=(0,8)$ 处：$Z = 8\\cdot 0 + 5\\cdot 8 = 40$。\n- 在点 $\\left(C,G\\right)=\\left(\\frac{40}{7},\\frac{32}{7}\\right)$ 处：\n$$\nZ = 8\\cdot \\frac{40}{7} + 5\\cdot \\frac{32}{7} = \\frac{320}{7} + \\frac{160}{7} = \\frac{480}{7}.\n$$\n因此，最大宽松性能得分为 $Z_{\\max} = \\frac{480}{7} \\approx 68.5714$，四舍五入到三位有效数字为 $68.6$。", "answer": "$$\\boxed{68.6}$$", "id": "2211982"}, {"introduction": "当$LP$松弛问题的解包含分数值时，我们就需要引入一个“切割平面”来“切掉”这个非整数解，同时确保不移除任何可行的整数解。Gomory割是一种系统性的方法，可以从单纯形表的某一行生成这样的切割。这个练习的核心是掌握从一个给定的最优单纯形表行中推导Gomory分数割的具体代数步骤。[@problem_id:2211934]", "problem": "考虑以下整数规划 (IP) 问题：\n\n最大化 $Z = x_1 + x_2$\n约束条件为：\n1. $-x_1 + x_2 \\le 1$\n2. $3x_1 + 2x_2 \\le 12$\n3. $2x_1 + 3x_2 \\le 12$\n其中 $x_1$ 和 $x_2$ 必须为非负整数。\n\n为求解此问题，我们首先通过为约束 1、2 和 3 分别引入非负松弛变量 $s_1, s_2, s_3$ 来求解其线性规划 (LP) 松弛问题。应用单纯形法，发现 LP 松弛问题的最优解为非整数。最优单纯形表中的基变量集合为 $\\{x_1, x_2, s_1\\}$，非基变量集合为 $\\{s_2, s_3\\}$。\n\n该最终单纯形表中对应于基变量 $x_1$ 的其中一行的方程为：\n$$x_1 + \\frac{3}{5}s_2 - \\frac{2}{5}s_3 = \\frac{12}{5}$$\n\n使用此单纯形表行，推导 Gomory 分数割。下列哪个用原始决策变量 $x_1$ 和 $x_2$ 表示的不等式是正确的 Gomory 割？\n\nA. $3x_1 + 3x_2 \\le 14$\n\nB. $13x_1 + 12x_2 \\le 58$\n\nC. $3x_1 + 3x_2 \\le 12$\n\nD. $3x_1 + 3x_2 \\ge 14$\n\nE. $x_1 + x_2 \\le 4$", "solution": "我们已知基整数变量 $x_{1}$ 的最终单纯形表行为：\n$$\nx_{1} + \\frac{3}{5}s_{2} - \\frac{2}{5}s_{3} = \\frac{12}{5}.\n$$\n在这个纯整数规划问题中，所有变量，包括松弛变量 $s_{2}$ 和 $s_{3}$，都必须是非负整数。从形式为\n$$\nx_{B} + \\sum_{j} a_{j} y_{j} = b,\n$$\n的单纯形表行推导出的 Gomory 分数割，其中 $x_{B}$ 和所有 $y_{j}$ 均为整数变量，而 $b$ 为分数，是通过取小数部分得到的：\n$$\n\\sum_{j} f(a_{j})\\, y_{j} \\ge f(b),\n$$\n其中对于任意实数 $t$，$f(t) = t - \\lfloor t \\rfloor \\in [0,1)$（此定义同样适用于负系数，因为 $\\lfloor t \\rfloor$ 是小于或等于 $t$ 的最大整数）。\n\n将此方法应用于给定的行：\n- $f\\!\\left(\\frac{12}{5}\\right) = \\frac{12}{5} - \\left\\lfloor \\frac{12}{5} \\right\\rfloor = \\frac{12}{5} - 2 = \\frac{2}{5}$,\n- $f\\!\\left(\\frac{3}{5}\\right) = \\frac{3}{5}$,\n- $f\\!\\left(-\\frac{2}{5}\\right) = -\\frac{2}{5} - \\left\\lfloor -\\frac{2}{5} \\right\\rfloor = -\\frac{2}{5} - (-1) = \\frac{3}{5}$.\n\n因此，用 $s_{2}$ 和 $s_{3}$ 表示的 Gomory 分数割为\n$$\n\\frac{3}{5}s_{2} + \\frac{3}{5}s_{3} \\ge \\frac{2}{5},\n$$\n两边乘以 $5$ 后，变为\n$$\n3s_{2} + 3s_{3} \\ge 2.\n$$\n现在，根据约束 2 和 3，用原始变量表示松弛变量：\n$$\ns_{2} = 12 - 3x_{1} - 2x_{2}, \\qquad s_{3} = 12 - 2x_{1} - 3x_{2}.\n$$\n代入割平面方程中：\n$$\n3(12 - 3x_{1} - 2x_{2}) + 3(12 - 2x_{1} - 3x_{2}) \\ge 2,\n$$\n$$\n36 - 9x_{1} - 6x_{2} + 36 - 6x_{1} - 9x_{2} \\ge 2,\n$$\n$$\n72 - 15x_{1} - 15x_{2} \\ge 2,\n$$\n$$\n15x_{1} + 15x_{2} \\le 70,\n$$\n两边除以 $5$ 得\n$$\n3x_{1} + 3x_{2} \\le 14.\n$$\n在给定的选项中，这对应于选项 A。", "answer": "$$\\boxed{A}$$", "id": "2211934"}, {"introduction": "生成一个有效的切割只是切割平面法迭代过程的一半。下一步是把这个新的约束条件添加到现有的线性规划问题中，并重新求解以找到一个新的最优解。这个练习将引导你完成切割平面法的一个完整循环，并让你体会到该方法通常需要多次迭代，逐步逼近最终的整数解。[@problem_id:2211919]", "problem": "考虑一个整数线性规划（ILP）问题，其目标是在约束条件下最大化目标函数 $Z$，使得决策变量 $x_1, x_2$ 和松弛变量 $s_1, s_2$ 都必须是非负整数。初始的线性规划（LP）松弛问题已经求解，其最终最优单纯形表由以下方程组给出，其中基变量为 $x_1$ 和 $x_2$：\n\n目标行：$Z + 1.5 s_1 + 2.5 s_2 = 10$\n$x_1$-行：$x_1 + 0.5 s_1 - 0.2 s_2 = 3.5$\n$x_2$-行：$x_2 - 0.1 s_1 + 1.2 s_2 = 2$\n\n当前解不是整数解。为了找到一个整数解，将从对应于基变量 $x_1$ 的行生成一个 Gomory 割平面。将这个新的割平面约束添加到单纯形表中后，求解更新后的 LP 问题的新最优解。\n\n根据你的计算，决策变量 $(x_1, x_2)$ 的新最优解是什么，并且这个解是否满足这些变量的整数要求？\n\nA. $(x_1, x_2) = (3, 2.1)$，非整数解。\n\nB. $(x_1, x_2) = (3, 2)$，整数解。\n\nC. $(x_1, x_2) = (4, 1.5)$，非整数解。\n\nD. $(x_1, x_2) = (3.5, 2)$，非整数解。\n\nE. 添加割平面后问题变得不可行。", "solution": "LP松弛问题的最终最优单纯形表（基变量为 $x_{1},x_{2}$，非基变量为 $s_{1},s_{2}$）为\n$$\nZ + 1.5\\,s_{1} + 2.5\\,s_{2} = 10,\\quad\nx_{1} + 0.5\\,s_{1} - 0.2\\,s_{2} = 3.5,\\quad\nx_{2} - 0.1\\,s_{1} + 1.2\\,s_{2} = 2.\n$$\n令 $s_{1}=s_{2}=0$ 得到LP松弛解 $x_{1}=3.5$，$x_{2}=2$，$Z=10$，该解不是整数解。\n\n为了切掉分数基变量 $x_{1}$，我们从 $x_{1}$-行生成一个 Gomory 分数割平面，该行可写为\n$$\nx_{1} = 3.5 - 0.5\\,s_{1} + 0.2\\,s_{2}.\n$$\n令 $f(b)$ 表示 $b$ 的小数部分。计算各小数部分：\n$$\nf(3.5)=0.5,\\quad f(0.5)=0.5,\\quad f(-0.2)=(-0.2)-\\lfloor -0.2\\rfloor=(-0.2)-(-1)=0.8.\n$$\n纯整数情况下的 Gomory 割平面为\n$$\n0.5\\,s_{1} + 0.8\\,s_{2} \\ge 0.5.\n$$\n\n使用单纯形表中的关系，将基变量和目标函数用 $s_{1},s_{2}$ 表示：\n$$\nx_{1} = 3.5 - 0.5\\,s_{1} + 0.2\\,s_{2},\\quad\nx_{2} = 2 + 0.1\\,s_{1} - 1.2\\,s_{2},\\quad\nZ = 10 - 1.5\\,s_{1} - 2.5\\,s_{2}.\n$$\n添加割平面后，我们必须在 $s_{1}\\ge 0$，$s_{2}\\ge 0$，$x_{1}\\ge 0$，$x_{2}\\ge 0$ 和 $0.5\\,s_{1}+0.8\\,s_{2}\\ge 0.5$ 的约束下最大化 $Z$。因为 $Z$ 随 $s_{1}$ 和 $s_{2}$ 的增加而减小，所以在最优解处，割平面约束将是紧的：\n$$\n0.5\\,s_{1}+0.8\\,s_{2}=0.5 \\;\\Longrightarrow\\; s_{1}=1-1.6\\,s_{2},\\quad 0\\le s_{2}\\le 0.625.\n$$\n代入 $x_{1},x_{2},Z$ 的表达式：\n$$\nx_{1}=3.5-0.5(1-1.6\\,s_{2})+0.2\\,s_{2}=3+s_{2}\\ge 0,\n$$\n$$\nx_{2}=2+0.1(1-1.6\\,s_{2})-1.2\\,s_{2}=2.1-1.36\\,s_{2}\\ge 0 \\text{ for } s_{2}\\le \\frac{105}{68},\n$$\n因此，对于 $0\\le s_{2}\\le 0.625$，非负性约束是满足的。目标函数变为\n$$\nZ=10-1.5(1-1.6\\,s_{2})-2.5\\,s_{2}=8.5-0.1\\,s_{2},\n$$\n该式通过最小化 $s_{2}$ 来最大化，即在 $s_{2}=0$ 时取最大值，此时 $s_{1}=1$。\n\n因此，新的最优解是\n$$\nx_{1}=3.0,\\quad x_{2}=2.1,\n$$\n这个解不满足 $x_{2}$ 的整数性要求。在所有选项中，这对应于选项A。", "answer": "$$\\boxed{A}$$", "id": "2211919"}]}