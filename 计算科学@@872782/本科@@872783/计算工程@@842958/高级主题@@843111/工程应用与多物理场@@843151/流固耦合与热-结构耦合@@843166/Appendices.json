{"hands_on_practices": [{"introduction": "工业部件（如管道）常常同时承受机械压力和温度波动。本练习探讨周期性的热应力与稳定的机械载荷相结合，如何导致一种名为“热棘轮”的失效模式，即每个周期都会累积塑性应变。通过分析一次膜应力（$S_m$）与二次热应力（$S_b$）之间的相互作用，您将学习应用工程准则来预测这种失效，这是设计耐用高温系统的一项关键技能。[@problem_id:2394061]", "problem": "一根薄壁圆柱管承受周期性的内部流体段塞作用，这些流体段塞交替为热态和冷态，同时始终施加稳定的内压。我们关注的现象是流固耦合 (FSI) 下的热棘轮效应，通过内外表面的热-结构耦合进行建模，其中包括对流、穿过管壁的传导，以及在一次薄膜应力和二次热弯曲应力联合作用下的结构弹塑性响应。\n\n假设和模型定义：\n- 几何：内半径 $r$ 和壁厚 $t$，且 $t \\ll r$ 以便应用薄壁理论。\n- 材料：均匀、各向同性、线弹性，杨氏模量为 $E$，热膨胀系数为 $\\alpha$；在单轴屈服应力 $\\sigma_y$ 下发生理想弹塑性屈服。环向为平面应力状态。\n- 热学性质：壁的导热系数为 $k$。内表面与温度为 $T_f$ 的充分混合内部流体发生对流，传热系数为 $h_i$；外表面与温度为 $T_\\infty$ 的环境发生对流，传热系数为 $h_o$。\n- 载荷：恒定内压 $p$；每个周期有两个稳态热阶段：一个热流体段，其中 $T_f = T_h$；一个冷流体段，其中 $T_f = T_c$。每个流体段的持续时间足够长，以使管壁在该阶段达到稳态。\n- 热场：在稳态下，传热是沿壁厚的一维过程，且穿过壁厚的温度是厚度坐标的线性函数。\n- 一次环向薄膜应力：根据薄壁理论，$S_m = \\dfrac{p\\,r}{t}$。\n- 在稳态阶段 $j \\in \\{\\text{hot},\\text{cold}\\}$ 内表面上的热弯曲应力：设稳态热通量大小为 $q_j$，穿透厚度的温降为 $\\Delta T_{\\text{thru},j} = q_j \\,\\dfrac{t}{k}$。在平面应力、无牵引力边界和线性穿透厚度温度分布的条件下，内表面处偏离平均值的自平衡热应力为 $S_{\\text{th},j} = E\\,\\alpha\\,\\dfrac{\\Delta T_{\\text{thru},j}}{2}$。热应力范围为 $S_b = \\left| S_{\\text{th},\\text{hot}} - S_{\\text{th},\\text{cold}} \\right|$。\n- 稳态阶段 $j$ 的热通量：内部流体与环境之间的总热阻为 $R = \\dfrac{1}{h_i} + \\dfrac{t}{k} + \\dfrac{1}{h_o}$，因此单位面积的稳态热通量为 $q_j = \\dfrac{T_f^{(j)} - T_\\infty}{R}$，其中 $T_f^{(\\text{hot})} = T_h$ 且 $T_f^{(\\text{cold})} = T_c$。\n- 本问题的棘轮效应定义：当且仅当以下不等式成立时，判定发生棘轮效应，\n$$\n\\frac{S_m}{\\sigma_y} + \\frac{S_b}{2\\,\\sigma_y} > 1,\n$$\n否则判定不发生棘轮效应。\n\n所有量必须使用国际单位制 (SI)。具体而言：$r$ 和 $t$ 以米为单位，$p$、$E$ 和 $\\sigma_y$ 以帕斯卡为单位，$k$ 以瓦特每米开尔文为单位，$h_i$ 和 $h_o$ 以瓦特每平方米开尔文为单位，$\\alpha$ 以每开尔文为单位，$T_h$、$T_c$、$T_\\infty$ 以开尔文为单位。不涉及角度。不涉及百分比。\n\n任务：对于下方的每个测试用例，根据上述不等式计算一个布尔标志，用以指示是否发生棘轮效应。每个测试用例的答案必须是一个布尔值。您的程序应生成单行输出，其中包含一个用方括号括起来的逗号分隔列表（例如，[$b_1$,$b_2$,$b_3$]）。\n\n测试套件（每个用例由有序元组 $(r,t,p,E,\\alpha,\\sigma_y,k,h_i,h_o,T_h,T_c,T_\\infty)$ 指定）：\n- 案例 A（具有中等梯度的一般情况；预计低于阈值）：($0.1$, $0.005$, $2.0\\times 10^6$, $2.00\\times 10^{11}$, $12.0\\times 10^{-6}$, $2.50\\times 10^8$, $16.0$, $2000.0$, $20.0$, $600.0$, $350.0$, $300.0$)。\n- 案例 B（强一次和二次作用；预计超过阈值）：($0.15$, $0.03$, $3.0\\times 10^7$, $2.10\\times 10^{11}$, $11.0\\times 10^{-6}$, $1.80\\times 10^8$, $3.0$, $2000.0$, $20.0$, $800.0$, $320.0$, $300.0$)。\n- 案例 C（热主导的棘轮效应，屈服强度极低且壁阻大；预计即使在零压力下也会超过阈值）：($0.10$, $0.02$, $0.0$, $7.0\\times 10^{10}$, $23.0\\times 10^{-6}$, $6.0\\times 10^7$, $1.0$, $10000.0$, $10000.0$, $900.0$, $300.0$, $300.0$)。\n- 案例 D（壁阻可忽略不计且压力较低的边缘情况；预计远低于阈值）：($0.05$, $0.005$, $1.0\\times 10^6$, $2.00\\times 10^{11}$, $12.0\\times 10^{-6}$, $4.00\\times 10^8$, $500.0$, $10000.0$, $10000.0$, $350.0$, $310.0$, $300.0$)。\n\n您的程序必须根据上述定义计算每个案例的布尔棘轮效应结果，并以 [$b_A$,$b_B$,$b_C$,$b_D$] 的确切格式打印单行输出，其中每个 $b_\\cdot$ 为 True 或 False。", "solution": "我们从热传导的第一性原理、对流边界条件和线性热弹性力学出发，结合理想弹塑性棘轮准则，推导出所需的量。\n\n稳态下的热场和热通量：对于一个温度为 $T_f$ 的充分混合内部流体和外部环境温度为 $T_\\infty$ 的情况，在平壁近似下，通过串联热阻可以得到垂直于壁面的稳态一维热通量大小 $q$。内对流热阻为 $R_i = \\dfrac{1}{h_i}$，穿过壁面的传导热阻为 $R_w = \\dfrac{t}{k}$，外对流热阻为 $R_o = \\dfrac{1}{h_o}$。总热阻为\n$$\nR = R_i + R_w + R_o = \\frac{1}{h_i} + \\frac{t}{k} + \\frac{1}{h_o}.\n$$\n根据热阻的定义，单位面积的稳态热通量为\n$$\nq = \\frac{T_f - T_\\infty}{R}.\n$$\n穿过壁厚的温降即为传导温降\n$$\n\\Delta T_{\\text{thru}} = q\\,R_w = q\\,\\frac{t}{k}.\n$$\n由于系统处于稳态且是一维的，温度沿厚度呈线性变化，因此内外表面的温度分别为\n$$\nT_i = T_f - q\\,R_i = T_f - \\frac{q}{h_i}, \\qquad T_o = T_\\infty + q\\,R_o = T_\\infty + \\frac{q}{h_o},\n$$\n并且可以通过 $T_i - T_o = \\Delta T_{\\text{thru}}$ 检验一致性。\n\n由线性穿透厚度温度分布引起的热弹性应力：考虑一个厚度为 $t$ 的平板，其面内坐标为 $x$（环向），厚度坐标为 $y \\in [-t/2, t/2]$。温度场是线性的，\n$$\nT(y) = T_\\text{avg} + \\beta\\,y,\n$$\n其中 $T_\\text{avg}$ 是厚度平均值，$\\beta$ 是一个与热通量成正比的常数。在平面应力、无牵引力边界且无外部面内力的情况下，轴向应变场 $\\varepsilon_x(y)$ 可以调整为 $y$ 的线性函数以适应曲率，同时净轴向力和弯矩必须为零。轴向应变的本构关系为\n$$\n\\varepsilon_x(y) = \\frac{\\sigma_x(y)}{E} + \\alpha\\,T(y).\n$$\n因为没有外部轴向力或弯矩作用在自由板上，所以内应力合力满足\n$$\n\\int_{-t/2}^{t/2}\\sigma_x(y)\\,dy = 0, \\qquad \\int_{-t/2}^{t/2}\\sigma_x(y)\\,y\\,dy = 0.\n$$\n寻求一个线性应变场 $\\varepsilon_x(y) = a + b y$，可以解出使这些合力为零的应力分布。与线性热场兼容的唯一解是\n$$\n\\sigma_x(y) = E\\,\\alpha\\,\\left[\\,T(y) - T_\\text{avg}\\,\\right] = E\\,\\alpha\\,\\beta\\,y.\n$$\n因此，在内表面（当内表面较热以致 $\\beta > 0$ 时，$y = +t/2$），偏离平均值的热应力为\n$$\nS_{\\text{th}} = \\sigma_x\\left(\\frac{t}{2}\\right) = E\\,\\alpha\\,\\beta\\,\\frac{t}{2}.\n$$\n注意到 $\\beta\\,t = T\\!\\left(\\frac{t}{2}\\right) - T\\!\\left(-\\frac{t}{2}\\right) = \\Delta T_{\\text{thru}}$，我们得到\n$$\nS_{\\text{th}} = E\\,\\alpha\\,\\frac{\\Delta T_{\\text{thru}}}{2}.\n$$\n\n由压力引起的一次环向薄膜应力：对于内半径为 $r$、厚度为 $t$、承受内压 $p$ 的薄壁圆柱体，其薄膜环向应力为\n$$\nS_m = \\frac{p\\,r}{t}.\n$$\n\n在一个热-冷循环中的热应力范围：用 $q_{\\text{hot}}$ 和 $q_{\\text{cold}}$ 表示在热流体段和冷流体段阶段的稳态热通量大小，由\n$$\nq_j = \\frac{T_f^{(j)} - T_\\infty}{\\frac{1}{h_i} + \\frac{t}{k} + \\frac{1}{h_o}}, \\quad j \\in \\{\\text{hot},\\text{cold}\\}\n$$\n得到。\n穿透厚度的温降为\n$$\n\\Delta T_{\\text{thru},j} = q_j\\,\\frac{t}{k},\n$$\n相应的内表面热应力为\n$$\nS_{\\text{th},j} = E\\,\\alpha\\,\\frac{\\Delta T_{\\text{thru},j}}{2}.\n$$\n热应力范围为\n$$\nS_b = \\left| S_{\\text{th},\\text{hot}} - S_{\\text{th},\\text{cold}} \\right|.\n$$\n\n棘轮准则：对于一个承受恒定一次薄膜应力 $S_m$ 和由线性穿透厚度温度分布产生的自平衡二次热弯曲应力范围 $S_b$ 的理想弹塑性薄壁圆柱体，当且仅当\n$$\n\\frac{S_m}{\\sigma_y} + \\frac{S_b}{2\\,\\sigma_y} > 1.\n$$\n时，预测会发生增量塑性棘轮效应。对于此类载荷，该条件通过要求最关键层面处组合应力的“平均值加半程”超过屈服应力，从而足以排除闭合弹塑性循环，来区分安定与棘轮效应。\n\n我们现在评估四个测试用例，计算 $R$、$q_j$、$\\Delta T_{\\text{thru},j}$、$S_{\\text{th},j}$、$S_b$、$S_m$ 以及棘轮不等式。\n\n案例 A: $(r,t,p,E,\\alpha,\\sigma_y,k,h_i,h_o,T_h,T_c,T_\\infty) = (0.1, 0.005, 2.0\\times 10^6, 2.00\\times 10^{11}, 12.0\\times 10^{-6}, 2.50\\times 10^8, 16.0, 2000.0, 20.0, 600.0, 350.0, 300.0)$。\n- 总热阻: $R = \\frac{1}{2000.0} + \\frac{0.005}{16.0} + \\frac{1}{20.0} = 0.0005 + 0.0003125 + 0.05 = 0.0508125 \\,\\text{K m}^2\\text{/W}$。\n- 热态阶段: $q_{\\text{hot}} = \\frac{600.0 - 300.0}{0.0508125} \\approx 5905.875\\,\\text{W/m}^2$, $\\Delta T_{\\text{thru,hot}} = 5905.875\\cdot \\frac{0.005}{16} \\approx 1.845586\\,\\text{K}$, $S_{\\text{th,hot}} = 2.00\\times 10^{11}\\cdot 12.0\\times 10^{-6} \\cdot \\frac{1.845586}{2} \\approx 2.2147\\times 10^{6}\\,\\text{Pa}$。\n- 冷态阶段: $q_{\\text{cold}} = \\frac{350.0 - 300.0}{0.0508125} \\approx 984.312\\,\\text{W/m}^2$, $\\Delta T_{\\text{thru,cold}} \\approx 0.3076\\,\\text{K}$, $S_{\\text{th,cold}} \\approx 3.691\\times 10^{5}\\,\\text{Pa}$。\n- 热范围: $S_b \\approx \\left| 2.2147\\times 10^{6} - 3.691\\times 10^{5} \\right| \\approx 1.8456\\times 10^{6}\\,\\text{Pa}$。\n- 一次薄膜应力: $S_m = \\frac{2.0\\times 10^{6}\\cdot 0.1}{0.005} = 4.0\\times 10^{7}\\,\\text{Pa}$。\n- 不等式: $\\frac{S_m}{\\sigma_y} + \\frac{S_b}{2\\sigma_y} \\approx \\frac{4.0\\times 10^{7}}{2.5\\times 10^{8}} + \\frac{1.8456\\times 10^{6}}{2\\cdot 2.5\\times 10^{8}} \\approx 0.16 + 0.003691 = 0.163691  1$, 因此棘轮效应为 False。\n\n案例 B: $(0.15, 0.03, 3.0\\times 10^7, 2.10\\times 10^{11}, 11.0\\times 10^{-6}, 1.80\\times 10^8, 3.0, 2000.0, 20.0, 800.0, 320.0, 300.0)$。\n- $R = \\frac{1}{2000.0} + \\frac{0.03}{3.0} + \\frac{1}{20.0} = 0.0005 + 0.01 + 0.05 = 0.0605\\,\\text{K m}^2\\text{/W}$。\n- 热态: $q_{\\text{hot}} = \\frac{800.0 - 300.0}{0.0605} \\approx 8264.463\\,\\text{W/m}^2$, $\\Delta T_{\\text{thru,hot}} \\approx 82.6446\\,\\text{K}$, $S_{\\text{th,hot}} = 2.10\\times 10^{11}\\cdot 11.0\\times 10^{-6}\\cdot \\frac{82.6446}{2} \\approx 9.5456\\times 10^{7}\\,\\text{Pa}$。\n- 冷态: $q_{\\text{cold}} = \\frac{320.0 - 300.0}{0.0605} \\approx 330.579\\,\\text{W/m}^2$, $\\Delta T_{\\text{thru,cold}} \\approx 3.30579\\,\\text{K}$, $S_{\\text{th,cold}} \\approx 3.8203\\times 10^{6}\\,\\text{Pa}$。\n- 热范围: $S_b \\approx \\left| 9.5456\\times 10^{7} - 3.8203\\times 10^{6} \\right| \\approx 9.1636\\times 10^{7}\\,\\text{Pa}$。\n- 一次薄膜应力: $S_m = \\frac{3.0\\times 10^{7}\\cdot 0.15}{0.03} = 1.5\\times 10^{8}\\,\\text{Pa}$。\n- 不等式: $\\frac{S_m}{\\sigma_y} + \\frac{S_b}{2\\sigma_y} \\approx \\frac{1.5\\times 10^{8}}{1.8\\times 10^{8}} + \\frac{9.1636\\times 10^{7}}{2\\cdot 1.8\\times 10^{8}} \\approx 0.8333 + 0.2545 = 1.0878 > 1$, 因此棘轮效应为 True。\n\n案例 C: $(0.10, 0.02, 0.0, 7.0\\times 10^{10}, 23.0\\times 10^{-6}, 6.0\\times 10^7, 1.0, 10000.0, 10000.0, 900.0, 300.0, 300.0)$。\n- $R = \\frac{1}{10000.0} + \\frac{0.02}{1.0} + \\frac{1}{10000.0} = 0.0001 + 0.02 + 0.0001 = 0.0202\\,\\text{K m}^2\\text{/W}$。\n- 热态: $q_{\\text{hot}} = \\frac{900.0 - 300.0}{0.0202} \\approx 29703.0\\,\\text{W/m}^2$, $\\Delta T_{\\text{thru,hot}} \\approx 594.059\\,\\text{K}$, $S_{\\text{th,hot}} = 7.0\\times 10^{10}\\cdot 23.0\\times 10^{-6}\\cdot \\frac{594.059}{2} \\approx 4.782\\times 10^{8}\\,\\text{Pa}$。\n- 冷态: $q_{\\text{cold}} = \\frac{300.0 - 300.0}{0.0202} = 0.0\\,\\text{W/m}^2$, $\\Delta T_{\\text{thru,cold}} = 0.0\\,\\text{K}$, $S_{\\text{th,cold}} = 0.0\\,\\text{Pa}$。\n- 热范围: $S_b \\approx 4.782\\times 10^{8}\\,\\text{Pa}$。\n- 一次薄膜应力: $S_m = \\frac{0.0\\cdot 0.10}{0.02} = 0.0\\,\\text{Pa}$。\n- 不等式: $\\frac{S_m}{\\sigma_y} + \\frac{S_b}{2\\sigma_y} \\approx 0 + \\frac{4.782\\times 10^{8}}{2\\cdot 6.0\\times 10^{7}} \\approx 3.985 > 1$, 因此棘轮效应为 True。\n\n案例 D: $(0.05, 0.005, 1.0\\times 10^6, 2.00\\times 10^{11}, 12.0\\times 10^{-6}, 4.00\\times 10^8, 500.0, 10000.0, 10000.0, 350.0, 310.0, 300.0)$。\n- $R = \\frac{1}{10000.0} + \\frac{0.005}{500.0} + \\frac{1}{10000.0} = 0.0001 + 0.00001 + 0.0001 = 0.00021\\,\\text{K m}^2\\text{/W}$。\n- 热态: $q_{\\text{hot}} = \\frac{350.0 - 300.0}{0.00021} \\approx 238095.238\\,\\text{W/m}^2$, $\\Delta T_{\\text{thru,hot}} \\approx 2.38095\\,\\text{K}$, $S_{\\text{th,hot}} = 2.00\\times 10^{11}\\cdot 12.0\\times 10^{-6}\\cdot \\frac{2.38095}{2} \\approx 2.85714\\times 10^{6}\\,\\text{Pa}$。\n- 冷态: $q_{\\text{cold}} = \\frac{310.0 - 300.0}{0.00021} \\approx 47619.0476\\,\\text{W/m}^2$, $\\Delta T_{\\text{thru,cold}} \\approx 0.47619\\,\\text{K}$, $S_{\\text{th,cold}} \\approx 5.71429\\times 10^{5}\\,\\text{Pa}$。\n- 热范围: $S_b \\approx \\left| 2.85714\\times 10^{6} - 5.71429\\times 10^{5} \\right| \\approx 2.28571\\times 10^{6}\\,\\text{Pa}$。\n- 一次薄膜应力: $S_m = \\frac{1.0\\times 10^{6}\\cdot 0.05}{0.005} = 1.0\\times 10^{7}\\,\\text{Pa}$。\n- 不等式: $\\frac{S_m}{\\sigma_y} + \\frac{S_b}{2\\sigma_y} \\approx \\frac{1.0\\times 10^{7}}{4.0\\times 10^{8}} + \\frac{2.28571\\times 10^{6}}{2\\cdot 4.0\\times 10^{8}} \\approx 0.025 + 0.002857 = 0.027857  1$, 因此棘轮效应为 False。\n\n因此，按顺序 $(A,B,C,D)$ 的布尔输出为 (False, True, True, False)。程序必须使用上述定义实现这些计算，并以 [$b_A$,$b_B$,$b_C$,$b_D$] 的确切格式打印单行输出。", "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\n\ndef ratchet_flag(r, t, p, E, alpha, sigma_y, k, h_i, h_o, T_h, T_c, T_amb):\n    # Total thermal resistance (m^2 K/W)\n    R = (1.0 / h_i) + (t / k) + (1.0 / h_o)\n    # Heat fluxes (W/m^2) for hot and cold steady stages\n    q_hot = (T_h - T_amb) / R\n    q_cold = (T_c - T_amb) / R\n    # Through-thickness temperature drops (K)\n    dT_thru_hot = q_hot * (t / k)\n    dT_thru_cold = q_cold * (t / k)\n    # Inner-surface thermal stresses (Pa)\n    S_th_hot = E * alpha * (dT_thru_hot / 2.0)\n    S_th_cold = E * alpha * (dT_thru_cold / 2.0)\n    # Thermal stress range (Pa)\n    S_b = abs(S_th_hot - S_th_cold)\n    # Primary membrane hoop stress (Pa)\n    S_m = p * r / t\n    # Ratcheting criterion: S_m/sigma_y + S_b/(2*sigma_y) > 1\n    value = (S_m / sigma_y) + (S_b / (2.0 * sigma_y))\n    return value > 1.0\n\ndef solve():\n    # Define the test cases from the problem statement.\n    # Each tuple: (r, t, p, E, alpha, sigma_y, k, h_i, h_o, T_h, T_c, T_amb)\n    test_cases = [\n        (0.1, 0.005, 2.0e6, 2.00e11, 12.0e-6, 2.50e8, 16.0, 2000.0, 20.0, 600.0, 350.0, 300.0),    # Case A\n        (0.15, 0.03, 3.0e7, 2.10e11, 11.0e-6, 1.80e8, 3.0, 2000.0, 20.0, 800.0, 320.0, 300.0),     # Case B\n        (0.10, 0.02, 0.0, 7.0e10, 23.0e-6, 6.0e7, 1.0, 10000.0, 10000.0, 900.0, 300.0, 300.0),     # Case C\n        (0.05, 0.005, 1.0e6, 2.00e11, 12.0e-6, 4.00e8, 500.0, 10000.0, 10000.0, 350.0, 310.0, 300.0), # Case D\n    ]\n\n    results = []\n    for case in test_cases:\n        r, t, p, E, alpha, sigma_y, k, h_i, h_o, T_h, T_c, T_amb = case\n        result = ratchet_flag(r, t, p, E, alpha, sigma_y, k, h_i, h_o, T_h, T_c, T_amb)\n        results.append(result)\n\n    # Final print statement in the exact required format: [bA,bB,bC,bD]\n    print(f\"[{','.join(map(str, results))}]\")\n\nsolve()\n```", "id": "2394061"}, {"introduction": "形状记忆合金（SMA）等智能材料可以响应温度改变其形状或刚度，使其能够充当致动器。本练习要求您通过将瞬态热模型（焦耳热和对流）与考虑温度相关相变的准静态力学模型耦合，来模拟SMA线的致动过程。您将通过实施一个第一性原理模型来预测金属线的位移，从而获得将热能通过材料相变转化为机械功的实践经验。[@problem_id:2394080]", "problem": "一根笔直的形状记忆合金 (SMA) 单丝通过焦耳加热，当温度超过其奥氏体相变温度时，会提起一个悬挂的重物。请使用热能平衡和带有简单相分数模型的一维线性弹性的第一性原理，对热驱动收缩以及在准静态力学平衡下产生的向上位移进行建模。所有独立和派生量必须在国际单位制 (SI) 中处理。最终的向上位移必须以米为单位表示，为四舍五入到六位小数的十进制浮点数。\n\n假设和定义：\n- 将 SMA 合金丝视为一维杆模型，具有均匀的横截面、长度和属性。设金属丝长度为 $L$，圆形横截面半径为 $r$，因此面积 $A = \\pi r^2$，侧表面积 $A_{\\text{surf}} = 2 \\pi r L$。\n- 设金属丝悬挂的质量为 $m$。重力大小为 $g$。\n- 设环境温度为 $T_{\\text{amb}}$。金属丝的初始温度为 $T(0) = T_{\\text{amb}}$，并从 $t=0$ 到 $t=t_{\\text{end}}$ 期间由恒定电流 $I$ 加热。\n- 金属丝的热能平衡（集总电容）由以下公式决定：\n  $$ C_{\\text{th}} \\, \\frac{dT}{dt} = I^2 R - h A_{\\text{surf}} \\left( T - T_{\\text{amb}} \\right), $$\n  其中 $C_{\\text{th}} = \\rho c A L$ 是热容，$\\rho$ 是密度，$c$ 是比热，$h$ 是对流传热系数，$R$ 是金属丝的电阻。假设电阻率 $\\rho_e$ 恒定，则 $R = \\rho_e \\, \\dfrac{L}{A}$。\n- 奥氏体体积分数 $\\xi(T)$ 近似为温度的分段线性函数：\n  $$ \\xi(T) = \\begin{cases}\n  0,  T \\le A_s,\\\\\n  \\dfrac{T - A_s}{A_f - A_s},  A_s  T  A_f,\\\\\n  1,  T \\ge A_f,\n  \\end{cases} $$\n  其中 $A_s$ 是奥氏体相变开始温度，$A_f$ 是奥氏体相变结束温度。\n- 有效杨氏模量是一个线性混合体，\n  $$ E(T) = \\xi(T) \\, E_A + \\left(1 - \\xi(T)\\right) E_M, $$\n  其中 $E_A$ 是奥氏体模量，$E_M$ 是马氏体模量。\n- 可恢复相变应变建模为\n  $$ \\varepsilon_{\\text{tr}}(T) = \\left(1 - \\xi(T)\\right) \\, \\varepsilon_L, $$\n  其中 $\\varepsilon_L$ 是完全马氏体状态下的最大可恢复应变。\n- 在一维杆的准静态力学平衡下，拉伸应力为 $\\sigma = \\dfrac{m g}{A}$，弹性应变为 $\\varepsilon_{\\text{el}}(T) = \\dfrac{\\sigma}{E(T)}$。\n- 相对于无应力奥氏体参考长度的总轴向应变为\n  $$ \\varepsilon_{\\text{tot}}(T) = \\varepsilon_{\\text{tr}}(T) + \\varepsilon_{\\text{el}}(T) $$\n  相对于初始状态 $T(0) = T_{\\text{amb}}$ 时，重物的向上位移是金属丝长度的减少量，\n  $$ u_{\\uparrow} = L \\left[ \\varepsilon_{\\text{tot}}\\left(T(0)\\right) - \\varepsilon_{\\text{tot}}\\left(T(t_{\\text{end}})\\right) \\right] $$\n  您必须根据热能平衡计算 $T(t_{\\text{end}})$，然后相应地评估 $\\xi(T)$、$E(T)$、$\\varepsilon_{\\text{tr}}(T)$ 和 $\\varepsilon_{\\text{el}}(T)$。在每个温度下，将整个过程视为准静态力学过程。\n\n给定常量（请精确使用这些值）：\n- 几何与重力：$L = 0.1$ m, $r = 2.5 \\times 10^{-4}$ m, $g = 9.81$ m/s$^2$。\n- 热学与电学：$\\rho = 6450$ kg/m$^3$, $c = 837$ J/(kg K), $\\rho_e = 7.6 \\times 10^{-7}$ $\\Omega \\cdot$ m, $h = 30$ W/(m$^2$ K)。\n- 相变与弹性：$A_s = 333$ K, $A_f = 353$ K, $E_M = 28 \\times 10^9$ Pa, $E_A = 70 \\times 10^9$ Pa, $\\varepsilon_L = 0.04$。\n\n测试套件：\n对于下面的每个元组 $(m, I, t_{\\text{end}}, T_{\\text{amb}})$，计算向上位移 $u_{\\uparrow}$（单位：米），并四舍五入到六位小数。\n\n- 情况 1：$(0.2, 2.0, 5.0, 293.0)$。\n- 情况 2：$(0.2, 0.4, 5.0, 293.0)$。\n- 情况 3：$(0.2, 0.8, 50.0, 293.0)$。\n- 情况 4：$(2.0, 2.0, 5.0, 293.0)$。\n\n程序要求：\n- 使用上述定律和定义实现解决方案。求解热学常微分方程以获得 $T(t_{\\text{end}})$，然后从第一性原理评估位移 $u_{\\uparrow}$。\n- 所有输入均由测试套件固定；没有用户输入。\n- 最终输出格式：生成单行文本，包含一个 Python 风格的列表，其中按顺序列出四个四舍五入的结果，以逗号分隔，并用方括号括起来。例如，输出形式为 $[x_1,x_2,x_3,x_4]$，其中每个 $x_i$ 是以米为单位、四舍五入到六位小数的十进制浮点数。", "solution": "问题陈述已经过严格验证，被认为是有效的。它具有科学依据，定义明确，客观，并为模拟形状记忆合金（SMA）丝的热机械行为提供了一套独立的定义、常数和方程。该模型基于已确立的传热学和固体力学原理。我们现在可以进行正式求解。\n\n问题要求我们确定由长度为 $L$ 的 SMA 合金丝悬挂的质量为 $m$ 的物体，在焦耳加热收缩时的向上位移 $u_{\\uparrow}$。解决方案分为两个主要阶段：进行热分析以找出金属丝随时间变化的温度，以及进行力学分析以计算应变和由此产生的位移。\n\n首先，我们分析热行为。金属丝的温度 $T(t)$ 由集总电容模型控制，这是一个一阶线性常微分方程（ODE）：\n$$ C_{\\text{th}} \\, \\frac{dT}{dt} = I^2 R - h A_{\\text{surf}} \\left( T - T_{\\text{amb}} \\right) $$\n其中 $C_{\\text{th}} = \\rho c A L$ 是热容，$R = \\rho_e L / A$ 是电阻，$A_{\\text{surf}} = 2 \\pi r L$ 是金属丝的侧表面积。其他参数包括：电流 $I$、对流传热系数 $h$、环境温度 $T_{\\text{amb}}$、密度 $\\rho$、比热 $c$ 和电阻率 $\\rho_e$。金属丝的圆形横截面半径为 $r$，因此其面积为 $A = \\pi r^2$。\n\n为求解此 ODE，我们将其重新排列为标准形式：\n$$ \\frac{dT}{dt} + \\frac{h A_{\\text{surf}}}{C_{\\text{th}}} \\left( T - T_{\\text{amb}} \\right) = \\frac{I^2 R}{C_{\\text{th}}} $$\n$$ \\frac{dT}{dt} + \\frac{h A_{\\text{surf}}}{C_{\\text{th}}} T = \\frac{I^2 R}{C_{\\text{th}}} + \\frac{h A_{\\text{surf}}}{C_{\\text{th}}} T_{\\text{amb}} $$\n我们来定义特征时间常数 $\\tau$ 和稳态温度 $T_{ss}$：\n$T$ 的系数是 $\\frac{1}{\\tau} = \\alpha = \\frac{h A_{\\text{surf}}}{C_{\\text{th}}}$。代入 $A_{\\text{surf}}$ 和 $C_{\\text{th}}$ 的表达式：\n$$ \\alpha = \\frac{h (2 \\pi r L)}{\\rho c (\\pi r^2) L} = \\frac{2h}{\\rho c r} $$\n当 $\\frac{dT}{dt} = 0$ 时达到稳态温度 $T_{ss}$，这给出：\n$$ I^2 R = h A_{\\text{surf}} (T_{ss} - T_{\\text{amb}}) \\implies T_{ss} = T_{\\text{amb}} + \\frac{I^2 R}{h A_{\\text{surf}}} $$\n现在 ODE 可以写成：\n$$ \\frac{dT}{dt} + \\alpha T = \\alpha T_{ss} $$\n这是一个一阶线性 ODE，其通解为 $T(t) = C e^{-\\alpha t} + T_{ss}$。我们使用初始条件 $T(0) = T_{\\text{amb}}$ 来找到积分常数 $C$：\n$$ T(0) = C e^0 + T_{ss} = C + T_{ss} = T_{\\text{amb}} \\implies C = T_{\\text{amb}} - T_{ss} $$\n因此，金属丝温度随时间 $t$ 变化的特解是：\n$$ T(t) = T_{ss} + \\left( T_{\\text{amb}} - T_{ss} \\right) e^{-\\alpha t} $$\n我们必须使用此方程计算每个测试用例的最终温度 $T(t_{\\text{end}})$。\n\n其次，我们在准静态假设下分析力学行为。在给定温度 $T$ 下的总应变 $\\varepsilon_{\\text{tot}}(T)$ 是相变应变 $\\varepsilon_{\\text{tr}}(T)$ 和弹性应变 $\\varepsilon_{\\text{el}}(T)$ 的和。\n$$ \\varepsilon_{\\text{tot}}(T) = \\varepsilon_{\\text{tr}}(T) + \\varepsilon_{\\text{el}}(T) $$\n奥氏体体积分数 $\\xi(T)$ 是一个分段线性函数：\n$$ \\xi(T) = \\begin{cases}\n0,  T \\le A_s \\\\\n\\frac{T - A_s}{A_f - A_s},  A_s  T  A_f \\\\\n1,  T \\ge A_f\n\\end{cases} $$\n其中 $A_s$ 和 $A_f$ 分别是奥氏体相变开始和结束温度。\n\n相变应变 $\\varepsilon_{\\text{tr}}(T)$ 是相对于奥氏体相定义的，并取决于马氏体分数 $(1 - \\xi(T))$：\n$$ \\varepsilon_{\\text{tr}}(T) = (1 - \\xi(T)) \\varepsilon_L $$\n其中 $\\varepsilon_L$ 是完全马氏体状态金属丝的最大可恢复应变。\n\n弹性应变 $\\varepsilon_{\\text{el}}(T)$ 由胡克定律给出，即 $\\varepsilon_{\\text{el}}(T) = \\sigma / E(T)$，其中应力 $\\sigma = mg/A$ 是由悬挂的质量 $m$ 引起的。有效杨氏模量 $E(T)$ 由线性混合法则确定：\n$$ E(T) = \\xi(T) E_A + (1 - \\xi(T)) E_M $$\n其中 $E_A$ 和 $E_M$ 分别是奥氏体和马氏体的模量。\n\n向上位移 $u_{\\uparrow}$ 是金属丝从其初始状态 $t=0$（此时 $T(0) = T_{\\text{amb}}$）到其最终状态 $t=t_{\\text{end}}$ 的总收缩量。这由总应变的变化量乘以原始长度 $L$ 给出：\n$$ u_{\\uparrow} = L \\left[ \\varepsilon_{\\text{tot}}(T(0)) - \\varepsilon_{\\text{tot}}(T(t_{\\text{end}})) \\right] $$\n代入 $T(0) = T_{\\text{amb}}$：\n$$ u_{\\uparrow} = L \\left[ \\varepsilon_{\\text{tot}}(T_{\\text{amb}}) - \\varepsilon_{\\text{tot}}(T(t_{\\text{end}})) \\right] $$\n对于每个测试用例 $(m, I, t_{\\text{end}}, T_{\\text{amb}})$，计算步骤如下：\n1.  计算与几何相关的常数：$A = \\pi r^2$, $A_{\\text{surf}} = 2 \\pi r L$。\n2.  计算与材料相关的常数：$R = \\rho_e L / A$, $\\alpha = 2h / (\\rho c r)$。\n3.  计算稳态温度 $T_{ss} = T_{\\text{amb}} + I^2 R / (h A_{\\text{surf}})$。\n4.  使用导出的解析解计算最终温度 $T(t_{\\text{end}})$。\n5.  确定初始温度下的总应变 $\\varepsilon_{\\text{tot}}(T_{\\text{amb}})$。这需要计算 $\\xi(T_{\\text{amb}})$、$E(T_{\\text{amb}})$、$\\varepsilon_{\\text{tr}}(T_{\\text{amb}})$ 和 $\\varepsilon_{\\text{el}}(T_{\\text{amb}})$。\n6.  确定最终温度下的总应变 $\\varepsilon_{\\text{tot}}(T(t_{\\text{end}}))$。这需要计算 $\\xi(T(t_{\\text{end}}))$、$E(T(t_{\\text{end}}))$、$\\varepsilon_{\\text{tr}}(T(t_{\\text{end}}))$ 和 $\\varepsilon_{\\text{el}}(T(t_{\\text{end}}))$。\n7.  计算最终向上位移 $u_{\\uparrow} = L (\\varepsilon_{\\text{tot}}(T_{\\text{amb}}) - \\varepsilon_{\\text{tot}}(T(t_{\\text{end}})))$。\n\n这个基于第一性原理的严谨、分步的程序将被执行，以解决给定测试套件的问题。", "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Computes the upward displacement of a mass suspended by a Shape Memory Alloy (SMA) wire.\n    The wire contracts when heated by an electrical current. The model combines a lumped\n    capacitance thermal model with a one-dimensional quasi-static mechanical model.\n    \"\"\"\n\n    # --- Given constants (SI units) ---\n    # Geometry and gravity\n    L = 0.1  # m\n    r = 2.5e-4  # m\n    g = 9.81  # m/s^2\n\n    # Thermal and electrical properties\n    rho = 6450.0  # kg/m^3\n    c = 837.0  # J/(kg*K)\n    rho_e = 7.6e-7  # Ohm*m\n    h = 30.0  # W/(m^2*K)\n\n    # Phase transformation and elasticity\n    A_s = 333.0  # K (Austenite start)\n    A_f = 353.0  # K (Austenite finish)\n    E_M = 28.0e9  # Pa (Martensite modulus)\n    E_A = 70.0e9  # Pa (Austenite modulus)\n    epsilon_L = 0.04  # Dimensionless (Max recoverable strain)\n\n    # --- Derived constants ---\n    A = np.pi * r**2  # Cross-sectional area (m^2)\n    A_surf = 2 * np.pi * r * L  # Lateral surface area (m^2)\n    R = rho_e * L / A  # Electrical resistance (Ohm)\n    alpha = (2 * h) / (rho * c * r)  # Thermal decay constant (1/s)\n\n    # --- Helper functions for the constitutive model ---\n    def get_austenite_fraction(T):\n        \"\"\"Calculates the austenite volume fraction xi(T).\"\"\"\n        if T = A_s:\n            return 0.0\n        elif T >= A_f:\n            return 1.0\n        else:\n            return (T - A_s) / (A_f - A_s)\n\n    def get_total_strain(T, m):\n        \"\"\"Calculates the total strain epsilon_tot(T, m).\"\"\"\n        xi_T = get_austenite_fraction(T)\n        \n        # Transformation strain\n        eps_tr = (1.0 - xi_T) * epsilon_L\n        \n        # Effective Young's modulus\n        E_T = xi_T * E_A + (1.0 - xi_T) * E_M\n        \n        # Stress\n        sigma = (m * g) / A\n        \n        # Elastic strain\n        eps_el = sigma / E_T\n        \n        return eps_tr + eps_el\n\n    # --- Test suite ---\n    test_cases = [\n        (0.2, 2.0, 5.0, 293.0),  # Case 1: (m, I, t_end, T_amb)\n        (0.2, 0.4, 5.0, 293.0),  # Case 2\n        (0.2, 0.8, 50.0, 293.0), # Case 3\n        (2.0, 2.0, 5.0, 293.0),  # Case 4\n    ]\n\n    results = []\n    for case in test_cases:\n        m, I, t_end, T_amb = case\n\n        # --- Thermal Analysis ---\n        # 1. Calculate steady-state temperature\n        joule_heating = I**2 * R\n        convective_cooling_rate = h * A_surf\n        T_ss = T_amb + joule_heating / convective_cooling_rate\n        \n        # 2. Calculate wire temperature at t_end\n        T_final = T_ss + (T_amb - T_ss) * np.exp(-alpha * t_end)\n\n        # --- Mechanical Analysis ---\n        # 3. Calculate initial total strain at T_amb\n        epsilon_tot_initial = get_total_strain(T_amb, m)\n\n        # 4. Calculate final total strain at T_final\n        epsilon_tot_final = get_total_strain(T_final, m)\n\n        # 5. Calculate upward displacement\n        u_upward = L * (epsilon_tot_initial - epsilon_tot_final)\n        \n        # 6. Round and store result\n        results.append(round(u_upward, 6))\n\n    # --- Final Output ---\n    # Convert results to strings for joining\n    formatted_results = [f\"{res:.6f}\" for res in results]\n    print(f\"[{','.join(formatted_results)}]\")\n\nsolve()\n```", "id": "2394080"}, {"introduction": "从建筑穹顶到航空航天栖息地，大型充气结构依赖于内部流体压力、温度和薄膜张力之间复杂的相互作用。本练习挑战您构建一个充气球形结构的完整动态模型，该模型集成了流体动力学（理想气体的质量和能量守恒）与结构力学（薄壳理论）。通过推导和求解耦合的微分方程组，您将处理一个真正的流-固-热耦合问题，从而更深入地理解控制此类复杂系统的双向反馈机制。[@problem_id:2394098]", "problem": "你需要从第一性原理出发，为一个球形建筑充气结构（一个包裹着空气的薄弹性球形薄膜）的动态充气过程，建立一个零维（集总参数）的流固耦合与热-结构耦合模型。该过程受到来自一个线性阀门供应的质量流入以及与环境的对流换热的影响。结构动力学被假定为准静态的，因此薄膜始终处于薄膜平衡状态。该模型必须实现为一个程序，该程序对一个常微分方程组进行时间积分，并为提供的测试套件输出一个单一的聚合结果。\n\n你的模型必须仅使用以下基本原理和定义进行推导：\n- 内部空气控制体积的质量守恒。\n- 包含理想气体的开放系统的能量守恒（热力学第一定律），包括流动功和热传递。\n- 空气的理想气体定律。\n- 均匀内压和小应变条件下，薄球形薄膜的力平衡与线性弹性。\n- 作为工程近似的质量流入的线性阀门定律。\n方程中出现的所有符号、变量、函数、运算符和数字都必须按其标准数学意义处理。\n\n假设：\n- 内部填充的空气被建模为理想气体，其比气体常数 $R = 287\\,\\mathrm{J/(kg\\cdot K)}$，定压比热 $c_p = 1005\\,\\mathrm{J/(kg\\cdot K)}$，定容比热 $c_v = 718\\,\\mathrm{J/(kg\\cdot K)}$，且满足 $c_p - c_v = R$。\n- 薄膜是一个薄球形壳体，初始（未变形）半径为 $R_0$，厚度为 $t$，杨氏模量为 $E$，泊松比为 $\\nu$，包裹着气体。外部环境压力恒定为 $p_\\mathrm{ext}$，环境温度为 $T_\\mathrm{amb}$。\n- 流入温度为 $T_\\mathrm{in}$，质量流入速率由线性阀门定律 $\\dot{m}_\\mathrm{in} = C_f \\max\\{0, p_\\mathrm{sup} - p\\}$ 控制，其中 $p_\\mathrm{sup}$ 是供应压力，$C_f$ 是阀门系数。\n- 没有质量流出。\n- 气体与环境之间通过薄膜存在对流换热，其特征在于一个传热系数 $h$ 和气体侧的瞬时薄膜面积。\n\n推导的出发点：\n- 内部气体的质量守恒：$\\dfrac{d m}{d t} = \\dot{m}_\\mathrm{in}$。\n- 内部气体作为只有一个入口且无出口的开放系统的能量守恒：$\\dfrac{d}{d t}(m c_v T) = \\dot{m}_\\mathrm{in} c_p T_\\mathrm{in} + \\dot{Q} - p \\dfrac{d V}{d t}$，其中 $\\dot{Q}$ 表示进入气体的净热传递。\n- 理想气体定律：$p V = m R T$。\n- 薄球形薄膜平衡与线性弹性：将内部超压和薄膜应力状态与子午向和周向应变联系起来，并将这些应变与半径的变化联系起来。\n- 对流换热：$\\dot{Q} = - h A (T - T_\\mathrm{amb})$，其中 $A$ 是内表面积，$T$ 是内部气体温度。\n\n目标：\n- 推导出一组封闭的耦合常微分方程组，用于描述内部气体质量 $m(t)$ 和温度 $T(t)$ 的时间演化，并通过由准静态薄膜平衡决定的体积 $V(t)$ 与结构耦合。压力 $p(t)$ 在每个时刻都必须满足理想气体定律和结构平衡关系。你可以根据需要消去变量或引入代数关系，以获得一个可进行数值积分的系统。\n- 实现一个具有固定时间步长的数值稳定的时间积分器，以模拟每个案例直至测试套件中要求的最终时间。任何一致的高阶显式方法都是可接受的，只要你在每个时间阶段通过同时强制执行理想气体关系和薄膜平衡来精确地处理耦合。\n- 对于每个测试案例，报告最终的内部绝对压力 $p(t_\\mathrm{final})$，单位为帕斯卡，四舍五入到最近的整数。\n\n测试套件：\n使用以下物理上一致的测试案例。在所有案例中，在环境条件 $p(0) = p_\\mathrm{ext}$ 和 $T(0) = T_\\mathrm{amb}$ 下初始化穹顶，初始内部质量 $m(0)$ 由体积 $V(0) = \\dfrac{4}{3}\\pi R_0^3$ 下的理想气体定律设定。薄膜面积为 $A(t) = 4\\pi R(t)^2$。对于每个案例，使用固定的时间步长 $\\Delta t = 0.01\\,\\mathrm{s}$ 进行模拟，直到指定的 $t_\\mathrm{final}$。\n\n- 案例1（带热损失的基准充气）：\n  $R_0 = 2.0\\,\\mathrm{m}$，$t = 0.002\\,\\mathrm{m}$，$E = 2.0\\times 10^8\\,\\mathrm{Pa}$，$\\nu = 0.3$，$p_\\mathrm{ext} = 101325\\,\\mathrm{Pa}$，$T_\\mathrm{amb} = 293.15\\,\\mathrm{K}$，$T_\\mathrm{in} = 300.0\\,\\mathrm{K}$，$h = 5.0\\,\\mathrm{W/(m^2\\cdot K)}$，$C_f = 5.0\\times 10^{-7}\\,\\mathrm{kg/(s\\cdot Pa)}$，$p_\\mathrm{sup} = 200000\\,\\mathrm{Pa}$，$t_\\mathrm{final} = 60.0\\,\\mathrm{s}$。\n\n- 案例2（类绝热充气）：\n  $R_0 = 2.0\\,\\mathrm{m}$，$t = 0.002\\,\\mathrm{m}$，$E = 2.0\\times 10^8\\,\\mathrm{Pa}$，$\\nu = 0.3$，$p_\\mathrm{ext} = 101325\\,\\mathrm{Pa}$，$T_\\mathrm{amb} = 293.15\\,\\mathrm{K}$，$T_\\mathrm{in} = 300.0\\,\\mathrm{K}$，$h = 0.0\\,\\mathrm{W/(m^2\\cdot K)}$，$C_f = 5.0\\times 10^{-7}\\,\\mathrm{kg/(s\\cdot Pa)}$，$p_\\mathrm{sup} = 200000\\,\\mathrm{Pa}$，$t_\\mathrm{final} = 60.0\\,\\mathrm{s}$。\n\n- 案例3（近刚性壳体）：\n  $R_0 = 2.0\\,\\mathrm{m}$，$t = 0.002\\,\\mathrm{m}$，$E = 1.0\\times 10^{12}\\,\\mathrm{Pa}$，$\\nu = 0.3$，$p_\\mathrm{ext} = 101325\\,\\mathrm{Pa}$，$T_\\mathrm{amb} = 293.15\\,\\mathrm{K}$，$T_\\mathrm{in} = 300.0\\,\\mathrm{K}$，$h = 5.0\\,\\mathrm{W/(m^2\\cdot K)}$，$C_f = 5.0\\times 10^{-7}\\,\\mathrm{kg/(s\\cdot Pa)}$，$p_\\mathrm{sup} = 200000\\,\\mathrm{Pa}$，$t_\\mathrm{final} = 60.0\\,\\mathrm{s}$。\n\n- 案例4（小流量、慢速充气）：\n  $R_0 = 2.0\\,\\mathrm{m}$，$t = 0.002\\,\\mathrm{m}$，$E = 2.0\\times 10^8\\,\\mathrm{Pa}$，$\\nu = 0.3$，$p_\\mathrm{ext} = 101325\\,\\mathrm{Pa}$，$T_\\mathrm{amb} = 293.15\\,\\mathrm{K}$，$T_\\mathrm{in} = 300.0\\,\\mathrm{K}$，$h = 5.0\\,\\mathrm{W/(m^2\\cdot K)}$，$C_f = 1.0\\times 10^{-7}\\,\\mathrm{kg/(s\\cdot Pa)}$，$p_\\mathrm{sup} = 200000\\,\\mathrm{Pa}$，$t_\\mathrm{final} = 60.0\\,\\mathrm{s}$。\n\n输出要求：\n- 对于每个案例，计算最终的内部绝对压力 $p(t_\\mathrm{final})$，单位为帕斯卡。\n- 你的程序应生成一行输出，其中包含一个用方括号括起来的逗号分隔列表形式的结果，顺序与上述案例相同，每个条目都四舍五入到最近的整数并以 $\\mathrm{Pa}$ 表示，例如 [...]。", "solution": "问题陈述经过审阅，被认为是有效的。它在科学上基于连续介质力学、热力学和固体力学的原理。它被适定地表述为一个耦合常微分方程(ODEs)组的初值问题，并提供了所有必要的参数和初始条件。语言客观而精确。\n\n目标是推导并实现一个用于球形弹性薄膜充气的集总参数模型。系统在任意时刻 $t$ 的状态由薄膜内部空气的质量 $m(t)$ 和温度 $T(t)$ 描述。必须为这些状态变量建立一个包含两个耦合常微分方程的系统。\n\n首先，我们建立耦合流体域和结构域的代数关系。在准静态假设下，系统涉及三个必须在任何时刻都同时满足的关键物理定律：\n1. 理想气体定律：内部空气的压力 $p$、体积 $V$、质量 $m$ 和温度 $T$ 通过 $p V = m R_{gas} T$ 相关联，其中 $R_{gas}$ 是空气的比气体常数。球体的体积是 $V = \\frac{4}{3}\\pi R^3$，其中 $R$ 是瞬时半径。\n2. 薄球形薄膜平衡：表压 $\\Delta p = p - p_\\mathrm{ext}$ 由薄膜应力 $\\sigma$ 支撑。平衡方程为 $\\Delta p = \\frac{2 \\sigma t}{R}$，其中 $t$ 是薄膜厚度。\n3. 线性弹性：对于均匀双轴拉伸下的薄球形壳体，应力与应变 $\\epsilon$ 的关系为 $\\sigma = \\frac{E}{1-\\nu}\\epsilon$，其中 $E$ 是杨氏模量，$\\nu$ 是泊松比。应变由半径的变化给出：$\\epsilon = \\frac{R - R_0}{R_0}$，其中 $R_0$ 是初始未变形半径。\n\n通过组合结构方程，我们得到压力和半径之间的关系：\n$$p(R) = p_\\mathrm{ext} + \\frac{2t}{R} \\left( \\frac{E}{1-\\nu} \\frac{R-R_0}{R_0} \\right) = p_\\mathrm{ext} + K_s \\left(1 - \\frac{R_0}{R}\\right)$$\n这里我们定义了一个结构刚度参数 $K_s = \\frac{2Et}{(1-\\nu)R_0}$。\n\n将理想气体定律得到的压力 $p = \\frac{m R_{gas} T}{V} = \\frac{3 m R_{gas} T}{4\\pi R^3}$ 与结构平衡得到的压力相等，可以得到一个关于半径 $R$ 的单一非线性代数方程，该方程是状态变量 $m$ 和 $T$ 的函数：\n$$g(R; m, T) = \\frac{3 m R_{gas} T}{4 \\pi R^3} - p_\\mathrm{ext} - K_s \\left( 1 - \\frac{R_0}{R} \\right) = 0$$\n这个方程必须在每个时间瞬间求解 $R$。由于它是非线性的，需要一种数值求根方法，例如 Newton-Raphson 法。\n\n接下来，我们推导状态变量 $m(t)$ 和 $T(t)$ 的常微分方程组。\n\n1. **质量守恒**：质量的变化率由净质量流率给出。只有流入时，即为：\n    $$\\frac{dm}{dt} = \\dot{m}_\\mathrm{in}$$\n    质量流入率 $\\dot{m}_\\mathrm{in}$ 由线性阀门定律控制：\n    $$\\dot{m}_\\mathrm{in} = C_f \\max\\{0, p_\\mathrm{sup} - p\\}$$\n    其中 $p_\\mathrm{sup}$ 是供应压力，$C_f$ 是阀门系数，$p$ 是内部压力，它通过代数耦合依赖于状态 $(m, T)$。\n\n2. **能量守恒**：开放系统（内部空气）的热力学第一定律是：\n    $$\\frac{d}{dt}(m c_v T) = c_p T_\\mathrm{in} \\dot{m}_\\mathrm{in} + \\dot{Q} - p \\frac{dV}{dt}$$\n    其中 $c_v$ 和 $c_p$ 是定容比热和定压比热，$T_\\mathrm{in}$ 是流入温度，$\\dot{Q}$ 是热传递率。热传递是对流性的：$\\dot{Q} = -hA(T - T_\\mathrm{amb})$，其中 $h$ 是传热系数，$A=4\\pi R^2$ 是薄膜面积，$T_\\mathrm{amb}$ 是环境温度。项 $p \\frac{dV}{dt}$ 表示气体对扩张的薄膜做功的速率。\n\n项 $\\frac{dV}{dt}$ 使方程变为隐式。为了得到一个关于 $T$ 的显式常微分方程，我们处理能量方程。对理想气体定律 $pV=mR_{gas}T$ 求导得到 $p\\frac{dV}{dt} + V\\frac{dp}{dt} = R_{gas}(m\\frac{dT}{dt} + T\\frac{dm}{dt})$。代入 $p\\frac{dV}{dt}$ 并使用 $R_{gas} = c_p - c_v$，能量方程可以重写为：\n$$m c_p \\frac{dT}{dt} = \\dot{m}_\\mathrm{in} c_p (T_\\mathrm{in} - T) - h A (T - T_\\mathrm{amb}) + V \\frac{dp}{dt}$$\n这个形式包含 $\\frac{dp}{dt}$。由于 $p$ 是通过半径 $R(m, T)$ 成为状态变量 $(m, T)$ 的代数函数，我们可以使用链式法则：$\\frac{dp}{dt} = \\frac{\\partial p}{\\partial m}\\frac{dm}{dt} + \\frac{\\partial p}{\\partial T}\\frac{dT}{dt}$。将此代入能量方程并求解 $\\frac{dT}{dt}$ 得到：\n$$\\frac{dT}{dt} = \\frac{\\dot{m}_\\mathrm{in} \\left[ c_p (T_\\mathrm{in} - T) + V \\frac{\\partial p}{\\partial m} \\right] - h A (T - T_\\mathrm{amb})}{m c_p - V \\frac{\\partial p}{\\partial T}}$$\n偏导数 $\\frac{\\partial p}{\\partial m}$ 和 $\\frac{\\partial p}{\\partial T}$ 通过对代数约束 $g(R; m, T)=0$ 进行隐式微分求得。这得到：\n$$\\frac{\\partial p}{\\partial m} = \\frac{\\partial p}{\\partial R} \\frac{\\partial R}{\\partial m} = \\frac{K_s R_0 p / m}{3pR + K_s R_0} \\quad \\text{以及} \\quad \\frac{\\partial p}{\\partial T} = \\frac{\\partial p}{\\partial R} \\frac{\\partial R}{\\partial T} = \\frac{K_s R_0 p / T}{3pR + K_s R_0}$$\n这样就完成了常微分方程组的构建。\n\n该系统使用四阶龙格-库塔(RK4)方法以固定时间步长 $\\Delta t$ 进行数值积分。在RK4积分器的每个阶段，使用牛顿法求解关于 $R$ 的代数方程，以确保流体和结构之间的耦合得到精确执行。\n\n在 $t=0$ 时的初始条件是：\n$T(0) = T_\\mathrm{amb}$\n$p(0) = p_\\mathrm{ext}$ (意味着 $R(0) = R_0$)\n$m(0) = \\frac{p_\\mathrm{ext} V_0}{R_{gas} T_\\mathrm{amb}}$，其中 $V_0 = \\frac{4}{3}\\pi R_0^3$。\n\n实现将对每个测试案例遵循此程序，模拟直至 $t_\\mathrm{final}$，并报告最终压力 $p(t_\\mathrm{final})$，四舍五入到最近的整数。", "answer": "```python\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Solves the fluid-structure interaction problem for a set of test cases.\n    \"\"\"\n    \n    # Define physical constants\n    R_gas = 287.0  # J/(kg.K)\n    c_p = 1005.0   # J/(kg.K)\n\n    test_cases = [\n        # Case 1: baseline inflation with heat loss\n        {'R0': 2.0, 't_mem': 0.002, 'E': 2.0e8, 'nu': 0.3, 'p_ext': 101325.0, 'T_amb': 293.15, 'T_in': 300.0, 'h': 5.0, 'Cf': 5.0e-7, 'p_sup': 200000.0, 't_final': 60.0},\n        # Case 2: adiabatic-like inflation\n        {'R0': 2.0, 't_mem': 0.002, 'E': 2.0e8, 'nu': 0.3, 'p_ext': 101325.0, 'T_amb': 293.15, 'T_in': 300.0, 'h': 0.0, 'Cf': 5.0e-7, 'p_sup': 200000.0, 't_final': 60.0},\n        # Case 3: nearly rigid shell\n        {'R0': 2.0, 't_mem': 0.002, 'E': 1.0e12, 'nu': 0.3, 'p_ext': 101325.0, 'T_amb': 293.15, 'T_in': 300.0, 'h': 5.0, 'Cf': 5.0e-7, 'p_sup': 200000.0, 't_final': 60.0},\n        # Case 4: small inflow, slower inflation\n        {'R0': 2.0, 't_mem': 0.002, 'E': 2.0e8, 'nu': 0.3, 'p_ext': 101325.0, 'T_amb': 293.15, 'T_in': 300.0, 'h': 5.0, 'Cf': 1.0e-7, 'p_sup': 200000.0, 't_final': 60.0},\n    ]\n    \n    dt = 0.01\n    results = []\n\n    for case in test_cases:\n        p_final = run_simulation(case, dt, R_gas, c_p)\n        results.append(str(int(round(p_final))))\n\n    print(f\"[{','.join(results)}]\")\n\ndef run_simulation(params, dt, R_gas, c_p):\n    \"\"\"\n    Runs a single simulation case.\n    \"\"\"\n    # Unpack parameters\n    R0, t_mem, E, nu, p_ext, T_amb = params['R0'], params['t_mem'], params['E'], params['nu'], params['p_ext'], params['T_amb']\n    T_in, h, Cf, p_sup, t_final = params['T_in'], params['h'], params['Cf'], params['p_sup'], params['t_final']\n\n    # Structural constant\n    K_s = (2.0 * E * t_mem) / ((1.0 - nu) * R0)\n\n    # Initial conditions\n    V0 = (4.0 / 3.0) * np.pi * R0**3\n    T0 = T_amb\n    m0 = (p_ext * V0) / (R_gas * T0)\n    \n    y = np.array([m0, T0])\n    R_current = R0\n\n    def get_derivatives(y_state, R_guess, p_dict):\n        m, T = y_state\n\n        # 1. Solve for Radius R using Newton's method\n        R = R_guess\n        for _ in range(10):\n            R2, R3 = R**2, R**3\n            p_gas_term = (3.0 * m * R_gas * T) / (4.0 * np.pi * R3)\n            g_R = p_gas_term - p_dict['p_ext'] - p_dict['K_s'] * (1.0 - p_dict['R0'] / R)\n            g_prime_R = -3.0 * p_gas_term / R - p_dict['K_s'] * p_dict['R0'] / R2\n            \n            if abs(g_prime_R)  1e-12: break\n            delta_R = -g_R / g_prime_R\n            R = R + delta_R\n            if abs(delta_R)  1e-9 * R: break\n\n        # 2. Calculate algebraic quantities\n        p = p_dict['p_ext'] + p_dict['K_s'] * (1.0 - p_dict['R0'] / R)\n        V = (4.0 / 3.0) * np.pi * R**3\n        A = 4.0 * np.pi * R**2\n        m_dot_in = p_dict['Cf'] * max(0, p_dict['p_sup'] - p)\n        \n        # 3. Calculate ODE derivatives dy/dt\n        dm_dt = m_dot_in\n        \n        D_denom = 3.0 * p * R + p_dict['K_s'] * p_dict['R0']\n        if abs(D_denom)  1e-9 or m  1e-9 or T  1e-9:\n            dp_dm, dp_dT = 0.0, 0.0\n        else:\n            dp_dm = (p_dict['K_s'] * p_dict['R0'] * p / m) / D_denom\n            dp_dT = (p_dict['K_s'] * p_dict['R0'] * p / T) / D_denom\n\n        num_dT_dt = m_dot_in * (c_p * (p_dict['T_in'] - T) + V * dp_dm) - p_dict['h'] * A * (T - p_dict['T_amb'])\n        den_dT_dt = m * c_p - V * dp_dT\n        \n        dT_dt = num_dT_dt / den_dT_dt if abs(den_dT_dt) > 1e-9 else 0.0\n        \n        return np.array([dm_dt, dT_dt]), R\n\n    param_dict = {\n        'R0': R0, 'K_s': K_s, 'p_ext': p_ext, 'T_in': T_in,\n        'h': h, 'Cf': Cf, 'p_sup': p_sup, 'T_amb': T_amb\n    }\n\n    num_steps = int(t_final / dt)\n    for _ in range(num_steps):\n        # 4th-order Runge-Kutta (RK4)\n        k1, R1 = get_derivatives(y, R_current, param_dict)\n        k2, R2 = get_derivatives(y + 0.5 * dt * k1, R1, param_dict)\n        k3, R3 = get_derivatives(y + 0.5 * dt * k2, R2, param_dict)\n        k4, _ = get_derivatives(y + dt * k3, R3, param_dict)\n        \n        y += (dt / 6.0) * (k1 + 2.0 * k2 + 2.0 * k3 + k4)\n        \n        # Update R_current as an initial guess for the next step's Newton solver\n        _, R_current = get_derivatives(y, R_current, param_dict)\n\n    # Final pressure calculation\n    m_final, T_final = y\n    \n    # Solve for final radius R_final\n    R_final = R_current\n    for _ in range(10):\n        R_f2, R_f3 = R_final**2, R_final**3\n        p_gas_term = (3.0 * m_final * R_gas * T_final) / (4.0 * np.pi * R_f3)\n        g_R = p_gas_term - p_ext - K_s * (1.0 - R0 / R_final)\n        g_prime_R = -3.0 * p_gas_term / R_final - K_s * R0 / R_f2\n        if abs(g_prime_R)  1e-12: break\n        delta_R = -g_R / g_prime_R\n        R_final += delta_R\n        if abs(delta_R)  1e-9 * R_final: break\n            \n    p_final = p_ext + K_s * (1.0 - R0 / R_final)\n    return p_final\n\nif __name__ == '__main__':\n    solve()\n```", "id": "2394098"}]}