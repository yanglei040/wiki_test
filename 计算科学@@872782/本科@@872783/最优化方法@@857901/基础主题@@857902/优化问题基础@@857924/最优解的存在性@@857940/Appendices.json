{"hands_on_practices": [{"introduction": "在最小值存在性得到保证的基础上，本问题展示了一个寻找光滑（可微）函数在紧集上最小值的实用工作流程。我们将首先检查无约束最小值点是否位于可行域内部；如果不在，魏尔斯特拉斯定理则向我们保证解一定位于边界上，从而指导我们后续的搜索策略。这个练习将理论与求解算法紧密地联系在一起。[@problem_id:3127039]", "problem": "考虑约束二次优化问题\n$$\n\\text{minimize } f(x,y) = \\frac{(x-3)^{2}}{4} + (y+1)^{2} \\quad \\text{subject to} \\quad \\left(\\frac{x}{2}\\right)^{2} + y^{2} \\leq 1.\n$$\n这是一个在 $\\mathbb{R}^{2}$ 中的闭有界集上最小化一个连续函数的问题实例。\n\n任务：\n1. 仅使用 $\\mathbb{R}^{n}$ 中连续性和紧致性的定义以及 Weierstrass 极值定理的陈述，证明在可行集上存在 $f$ 的全局最小值点。\n2. 首先确定 $f$ 的无约束最小值点并评估其可行性，然后判断最小值点位于可行集的内部还是边界上。\n3. 计算 $f$ 在可行集上的确切最小值。将最终答案表示为一个精确的代数表达式（无需四舍五入）。\n\n你的最终答案必须是一个实数或一个封闭形式的表达式。", "solution": "我们从第一性原理出发，依赖于连续性和紧致性的定义以及 Weierstrass 极值定理（紧集上的连续函数必达到其极值）。\n\n步骤 1：目标函数的连续性和可行集的紧致性。\n- 函数 $f(x,y) = \\frac{(x-3)^{2}}{4} + (y+1)^{2}$ 是一个关于 $x$ 和 $y$ 的多项式，因此在 $\\mathbb{R}^{2}$ 上是连续的。\n- 定义可行集\n$$\nS = \\left\\{(x,y) \\in \\mathbb{R}^{2} : \\left(\\frac{x}{2}\\right)^{2} + y^{2} \\leq 1 \\right\\}.\n$$\n令 $g(x,y) = \\left(\\frac{x}{2}\\right)^{2} + y^{2}$。函数 $g$ 是连续的（因为它是一个多项式）。那么 $S = g^{-1}((-\\infty,1])$ 是一个闭集在连续映射下的逆像，所以 $S$ 是闭集。此外，$S$ 是有界的，因为 $\\left(\\frac{x}{2}\\right)^{2} + y^{2} \\leq 1$ 意味着 $|x| \\leq 2$ 和 $|y| \\leq 1$。在 $\\mathbb{R}^{2}$ 中，根据 Heine–Borel 定理（闭有界集是紧集），$S$ 是紧集。\n- 根据 Weierstrass 极值定理，由于 $f$ 是连续的且 $S$ 是紧集，所以 $f$ 在 $S$ 上必达到其最小值。\n\n步骤 2：通过无约束最小值点判断最小值点是在内部还是在边界。\n- $f$ 的无约束最小值点可以通过将其梯度设为零来找到。计算偏导数：\n$$\n\\frac{\\partial f}{\\partial x} = \\frac{1}{2}(x-3), \\qquad \\frac{\\partial f}{\\partial y} = 2(y+1).\n$$\n将它们设为零得到\n$$\n\\frac{1}{2}(x-3) = 0 \\Rightarrow x = 3, \\qquad 2(y+1) = 0 \\Rightarrow y = -1.\n$$\n因此，无约束最小值点是 $(x,y) = (3,-1)$。\n- 检查 $(3,-1)$ 的可行性：\n$$\n\\left(\\frac{3}{2}\\right)^{2} + (-1)^{2} = \\frac{9}{4} + 1 = \\frac{13}{4} > 1.\n$$\n因此 $(3,-1)$ 位于 $S$ 之外。所以，约束最小值点不可能在内部，而必定在边界\n$$\n\\partial S = \\left\\{(x,y) \\in \\mathbb{R}^{2} : \\left(\\frac{x}{2}\\right)^{2} + y^{2} = 1 \\right\\}\n$$\n上。\n\n步骤 3：使用边界上的一阶最优性条件（拉格朗日乘子法）计算最小值。\n- 为在等式约束 $h(x,y) = \\left(\\frac{x}{2}\\right)^{2} + y^{2} - 1 = 0$ 下最小化 $f$，构造拉格朗日函数\n$$\n\\mathcal{L}(x,y,\\lambda) = \\frac{(x-3)^{2}}{4} + (y+1)^{2} + \\lambda\\left(\\left(\\frac{x}{2}\\right)^{2} + y^{2} - 1\\right).\n$$\n- 平稳性条件 $\\nabla_{x,y} \\mathcal{L} = 0$ 给出\n$$\n\\frac{\\partial \\mathcal{L}}{\\partial x} = \\frac{1}{2}(x-3) + \\lambda \\cdot \\frac{x}{2} = 0 \\quad \\Rightarrow \\quad (x-3) + \\lambda x = 0,\n$$\n$$\n\\frac{\\partial \\mathcal{L}}{\\partial y} = 2(y+1) + \\lambda \\cdot 2y = 0 \\quad \\Rightarrow \\quad (y+1) + \\lambda y = 0,\n$$\n以及约束条件\n$$\n\\left(\\frac{x}{2}\\right)^{2} + y^{2} = 1.\n$$\n- 解出关于 $\\lambda$ 的 $x$ 和 $y$ 的线性方程：\n$$\nx(1+\\lambda) = 3 \\quad \\Rightarrow \\quad x = \\frac{3}{1+\\lambda}, \\qquad y(1+\\lambda) = -1 \\quad \\Rightarrow \\quad y = -\\frac{1}{1+\\lambda}.\n$$\n- 代入约束条件：\n$$\n\\left(\\frac{x}{2}\\right)^{2} + y^{2} = \\frac{1}{4}\\left(\\frac{3}{1+\\lambda}\\right)^{2} + \\left(\\frac{1}{1+\\lambda}\\right)^{2} = \\frac{1}{(1+\\lambda)^{2}}\\left(\\frac{9}{4} + 1\\right) = \\frac{1}{(1+\\lambda)^{2}}\\cdot \\frac{13}{4} = 1.\n$$\n因此 $(1+\\lambda)^{2} = \\frac{13}{4}$，得到 $1+\\lambda = \\pm \\frac{\\sqrt{13}}{2}$。符号对应于两个对跖的边界点；最小值点位于最接近 $(3,-1)$ 的方向上，所以我们取 $1+\\lambda = \\frac{\\sqrt{13}}{2}$，即 $\\lambda = \\frac{\\sqrt{13}}{2} - 1$。\n- 计算 $f$ 在此点的最小值。从上述表达式可以得到一个方便的恒等式：\n$$\nf(x,y) = \\frac{(x-3)^{2}}{4} + (y+1)^{2}\n= \\frac{\\left(-\\frac{3\\lambda}{1+\\lambda}\\right)^{2}}{4} + \\left(\\frac{\\lambda}{1+\\lambda}\\right)^{2}\n= \\frac{\\lambda^{2}}{(1+\\lambda)^{2}}\\left(\\frac{9}{4} + 1\\right)\n= \\frac{\\lambda^{2}}{(1+\\lambda)^{2}} \\cdot \\frac{13}{4}.\n$$\n使用 $(1+\\lambda)^{2} = \\frac{13}{4}$ 得到\n$$\nf_{\\min} = \\lambda^{2} = \\left(\\frac{\\sqrt{13}}{2} - 1\\right)^{2}.\n$$\n\n解释以及内部与边界上的极值点：\n- 目标函数可以看作是由椭圆导出的加权范数下的平方距离：$f(x,y) = \\left(\\frac{x-3}{2}\\right)^{2} + (y+1)^{2}$ 是范数平方 $\\|(x,y) - (3,-1)\\|_{E}^{2}$，其中 $\\|(x,y)\\|_{E}^{2} = \\left(\\frac{x}{2}\\right)^{2} + y^{2}$。可行集是此范数下的闭单位球。\n- 无约束最小值点 $(3,-1)$ 的范数为 $\\|(3,-1)\\|_{E} = \\sqrt{\\frac{13}{4}} = \\frac{\\sqrt{13}}{2} > 1$，因此其到该球上的投影点位于边界上，最小平方距离等于 $\\left(\\|(3,-1)\\|_{E} - 1\\right)^{2} = \\left(\\frac{\\sqrt{13}}{2} - 1\\right)^{2}$，这与上面的拉格朗日乘子法计算结果一致。\n- 对于这类问题，一般而言，如果无约束最小值点 $(a,b)$ 满足 $\\left(\\frac{a}{2}\\right)^{2} + b^{2} \\leq 1$，则最小值在内部的 $(a,b)$ 点达到；如果 $\\left(\\frac{a}{2}\\right)^{2} + b^{2} > 1$，则最小值在边界上达到，等于加权投影点，对于加权范数平方目标，边界上的最小值为 $\\left(\\sqrt{\\left(\\frac{a}{2}\\right)^{2} + b^{2}} - 1\\right)^{2}$。", "answer": "$$\\boxed{\\left(\\frac{\\sqrt{13}}{2}-1\\right)^{2}}$$", "id": "3127039"}, {"introduction": "魏尔斯特拉斯定理的威力不止局限于光滑函数。本练习引入了一个分段线性目标函数 $f(x,y)=\\max\\{y-x, 2x+y-5\\}$，这类函数在物流和运筹学等领域中十分常见。我们将看到，对于定义在多边形域上的此类函数，寻找最小值的过程可以被简化为检查有限个候选点，即区域的顶点和边上的特定点。[@problem_id:3127053]", "problem": "考虑多边形可行域 $K \\subset \\mathbb{R}^{2}$，它是一个凸四边形，顶点按逆时针顺序列出为 $V_{1}=(0,0)$、$V_{2}=(4,0)$、$V_{3}=(3,3)$ 和 $V_{4}=(0,2)$。定义连续分段线性目标函数 $f:\\mathbb{R}^{2}\\to\\mathbb{R}$ 为\n$$\nf(x,y)=\\max\\{y-x, 2x+y-5\\}\n$$\n仅使用分析学和最优化的基本定义和已验证的结论，完成以下任务：\n\n1) 证明集合 $K$ 是紧集，并且函数 $f$ 在 $K$ 上是连续的。根据这些性质，推断出 $f$ 在 $K$ 上达到最小值。\n\n2) 根据 $f$ 作为两个仿射函数的最大值的结构，通过考察以下两种情况，找出所有可能出现最小值的候选点：\n- $K$ 的顶点，以及\n- $K$ 的边上使得 $f$ 的两个仿射部分相等的任何点。\n\n3) 通过在第2部分中找出的有限候选点集上计算 $f$ 的值并比较这些值，来确定 $f$ 在 $K$ 上的最小值。将你的最终答案表示为精确数（不要四舍五入）。", "solution": "该问题要求在一个紧凑的多边形区域 $K$ 上求一个连续分段线性目标函数 $f(x,y)$ 的最小值。解题过程按要求分为三部分。\n\n1) 证明最小值存在的合理性。\n最小值的存在性由魏尔斯特拉斯极值定理（Weierstrass Extreme Value Theorem）确立，该定理指出，紧集上的连续函数在该集合上必能达到其最小值和最大值。我们必须验证函数 $f$ 是连续的，且定义域 $K$ 是紧集。\n\n定义域 $K$ 是 $\\mathbb{R}^2$ 中的一个凸四边形，其顶点为 $V_1=(0,0)$、$V_2=(4,0)$、$V_3=(3,3)$ 和 $V_4=(0,2)$。作为一个多边形，$K$ 是一个闭集，因为它是由其边对应的四个闭半平面的交集定义的。集合 $K$ 也是有界的，因为它被包含在以原点为中心、半径有限的球内（例如，半径 $R=5$ 的球就足够了，因为所有顶点 $(x,y)$ 都满足 $\\sqrt{x^2+y^2}  5$）。在 $\\mathbb{R}^n$ 中，一个集合是紧集当且仅当它是有界闭集（海涅-博雷尔定理）。因此，$K$ 是 $\\mathbb{R}^2$ 的一个紧子集。\n\n目标函数为 $f(x,y)=\\max\\{y-x, 2x+y-5\\}$。我们定义两个函数 $g_1(x,y) = y-x$ 和 $g_2(x,y) = 2x+y-5$。$g_1(x,y)$ 和 $g_2(x,y)$ 都是 $(x,y)$ 的仿射函数，因此在整个 $\\mathbb{R}^2$ 上都是连续的。函数 $f(x,y)$ 是这两个连续函数的逐点最大值。有限个连续函数的最大值本身也是一个连续函数。因此，$f(x,y)$ 在 $\\mathbb{R}^2$ 上是连续的，所以它在 $K$ 上也是连续的。\n\n因为 $f$ 是一个连续函数且 $K$ 是一个紧集，所以根据魏尔斯特拉斯极值定理，$f$ 必在 $K$ 上达到其最小值。\n\n2) 确定最小值的候选点。\n函数 $f(x,y)$ 是一个凸函数，因为它是两个仿射函数（因此也是凸函数）的最大值。定义域 $K$ 是一个凸集。凸函数在紧凸集上的最小值总是在其边界上达到。因为 $f$ 是分段线性的，所以最小值可能出现在 $K$ 的顶点处，或者在 $K$ 的边上，特别是在函数 $f$ 性质改变的地方。这种改变发生在两个仿射分量相等的地方。\n\n因此，候选点为：\ni) $K$ 的顶点：$V_1=(0,0)$、$V_2=(4,0)$、$V_3=(3,3)$ 和 $V_4=(0,2)$。\n\nii) $K$ 的边上使得 $f$ 的两个仿射部分相等的点。我们通过设 $y-x = 2x+y-5$ 来找到这些点的轨迹。\n$$\ny-x = 2x+y-5 \\\\\n-x = 2x-5 \\\\\n3x = 5 \\\\\nx = \\frac{5}{3}\n$$\n这是一条垂直线。我们必须找到这条线与 $K$ 边界的交点。\n$K$ 的边是线段：\n- 边 $V_1V_2$：直线为 $y=0$，其中 $x \\in [0, 4]$。与 $x=\\frac{5}{3}$ 的交点为 $P_1 = (\\frac{5}{3}, 0)$。该点在边上，因为 $0 \\le \\frac{5}{3} \\le 4$。\n- 边 $V_2V_3$：连接 $(4,0)$ 和 $(3,3)$ 的线段，其 $x$ 坐标在区间 $[3, 4]$ 内。因为 $\\frac{5}{3}  3$，所以直线 $x=\\frac{5}{3}$ 不与该线段相交。\n- 边 $V_3V_4$：连接 $(3,3)$ 和 $(0,2)$ 的直线，其斜率为 $m = \\frac{2-3}{0-3} = \\frac{1}{3}$，方程为 $y-2 = \\frac{1}{3}(x-0)$，即 $y = \\frac{1}{3}x+2$，其中 $x \\in [0, 3]$。我们求其与 $x=\\frac{5}{3}$ 的交点：\n$$\ny = \\frac{1}{3}\\left(\\frac{5}{3}\\right) + 2 = \\frac{5}{9} + \\frac{18}{9} = \\frac{23}{9}\n$$\n交点是 $P_2 = (\\frac{5}{3}, \\frac{23}{9})$。该点在边上，因为 $0 \\le \\frac{5}{3} \\le 3$。\n- 边 $V_4V_1$：直线为 $x=0$，其中 $y \\in [0, 2]$。直线 $x=\\frac{5}{3}$ 不与该线段相交。\n\n完整的候选点集是 $\\{V_1, V_2, V_3, V_4, P_1, P_2\\} = \\left\\{(0,0), (4,0), (3,3), (0,2), \\left(\\frac{5}{3}, 0\\right), \\left(\\frac{5}{3}, \\frac{23}{9}\\right)\\right\\}$。\n\n3) 确定最小值。\n我们在每个候选点上计算 $f(x,y)=\\max\\{y-x, 2x+y-5\\}$ 的值。\n- $f(V_1) = f(0,0) = \\max\\{0-0, 2(0)+0-5\\} = \\max\\{0, -5\\} = 0$。\n- $f(V_2) = f(4,0) = \\max\\{0-4, 2(4)+0-5\\} = \\max\\{-4, 3\\} = 3$。\n- $f(V_3) = f(3,3) = \\max\\{3-3, 2(3)+3-5\\} = \\max\\{0, 4\\} = 4$。\n- $f(V_4) = f(0,2) = \\max\\{2-0, 2(0)+2-5\\} = \\max\\{2, -3\\} = 2$。\n- $f(P_1) = f(\\frac{5}{3}, 0) = \\max\\{0-\\frac{5}{3}, 2(\\frac{5}{3})+0-5\\} = \\max\\{-\\frac{5}{3}, \\frac{10}{3}-5\\} = \\max\\{-\\frac{5}{3}, -\\frac{5}{3}\\} = -\\frac{5}{3}$。\n- $f(P_2) = f(\\frac{5}{3}, \\frac{23}{9}) = \\max\\{\\frac{23}{9}-\\frac{5}{3}, 2(\\frac{5}{3})+\\frac{23}{9}-5\\} = \\max\\{\\frac{23-15}{9}, \\frac{30+23-45}{9}\\} = \\max\\{\\frac{8}{9}, \\frac{8}{9}\\} = \\frac{8}{9}$。\n\n$f$ 在候选点处的值的集合是 $\\{0, 3, 4, 2, -\\frac{5}{3}, \\frac{8}{9}\\}$。比较这些值，最小值为 $-\\frac{5}{3}$。该最小值在点 $(\\frac{5}{3}, 0)$ 处取得。", "answer": "$$\n\\boxed{-\\frac{5}{3}}\n$$", "id": "3127053"}]}