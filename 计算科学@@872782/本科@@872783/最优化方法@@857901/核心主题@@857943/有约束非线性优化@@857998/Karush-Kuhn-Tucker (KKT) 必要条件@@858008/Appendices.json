{"hands_on_practices": [{"introduction": "这第一个练习将引导你完成KKT条件的一个经典应用。通过在一个由抛物线界定的区域上最小化一个线性函数，你将看到KKT框架如何用代数方法捕捉到最优点处几何相切的直观概念 [@problem_id:3140454]。这个练习对于建立KKT条件如何将梯度、约束和最优性联系起来的坚实理解至关重要。", "problem": "考虑一个在两个变量 $x_1$ 和 $x_2$ 上的最小化问题，其目标函数为 $f(x) = x_1 + x_2$，并带有一个不等式约束 $g(x) = x_1^{2} - x_2 \\le 0$。从拉格朗日函数和不等式约束优化的Karush-Kuhn-Tucker (KKT) 必要条件的基本定义出发，并引用一个从第一性原理出发的有效约束规范，完成以下任务：\n\n- 确定此问题是否满足约束规范，并解释为何KKT条件适用。\n- 使用KKT框架确定候选最优点 $(x_1^{\\star}, x_2^{\\star})$ 及相应的拉格朗日乘子 $\\lambda^{\\star}$。\n- 利用源于第一性原理的几何或微分论证，证明解位于可行集的边界上，并且目标函数的等值线在最优点与由 $x_2 = x_1^{2}$ 描述的抛物线边界相切。\n- 报告精确的最优目标值 $f(x^{\\star})$。\n\n将最终报告的值表示为精确的简化数。不要四舍五入。", "solution": "首先根据所需标准对问题进行验证。\n\n### 问题验证\n\n**步骤1：提取已知条件**\n- **目标函数**：$f(x) = x_1 + x_2$，其中 $x = (x_1, x_2)$。\n- **变量**：$x_1$ 和 $x_2$。\n- **约束**：$g(x) = x_1^{2} - x_2 \\le 0$。\n- **任务**：在约束 $g(x) \\le 0$ 下最小化 $f(x)$。使用Karush-Kuhn-Tucker (KKT) 框架，包括验证约束规范，确定最优点 $(x_1^{\\star}, x_2^{\\star})$ 和乘子 $\\lambda^{\\star}$，对解进行几何分析，并计算最优目标值 $f(x^{\\star})$。\n\n**步骤2：使用提取的已知条件进行验证**\n- **科学依据**：该问题是非线性约束优化中的一个标准练习，这是应用数学和工程学的核心课题。它基于完善的数学原理。\n- **适定性**：该问题是适定的。目标函数是线性的（因此是凸的），约束函数 $g(x_1, x_2) = x_1^2 - x_2$ 是凸的。$g$ 的海森矩阵是 $\\nabla^2 g(x) = \\begin{pmatrix} 2  0 \\\\ 0  0 \\end{pmatrix}$，它是半正定的。因此，这是一个凸优化问题，预计存在唯一的全局最小值。\n- **目标**：问题陈述清晰、精确，并使用标准的数学术语。\n- **完整性与一致性**：问题是自洽的，并提供了所有必要的信息。没有矛盾之处。\n- **其他缺陷**：该问题并非不切实际、不适定、微不足道或超出科学可验证范围。它是指定方法的直接应用。\n\n**步骤3：结论与行动**\n该问题被判定为**有效**。将提供完整解答。\n\n### 求解过程\n\n该优化问题是在不等式约束 $g(x_1, x_2) = x_1^2 - x_2 \\le 0$ 下，最小化目标函数 $f(x_1, x_2) = x_1 + x_2$。\n\n**约束规范**\n在应用KKT条件之前，我们必须验证约束规范（CQ）是否成立。CQ确保了可行集在边界处的几何形状是“良好”的，这保证了KKT条件是某点为局部最小值的必要条件。\n\n我们将使用线性无关约束规范（LICQ）。对于一个点 $x$，如果一组约束 $\\{g_i(x)=0\\}$ 在该点是激活的，LICQ要求这些激活约束的梯度 $\\{\\nabla g_i(x)\\}$ 是线性无关的。\n\n在这个问题中，只有一个约束，$g(x_1, x_2) = x_1^2 - x_2 \\le 0$。约束函数的梯度是：\n$$ \\nabla g(x_1, x_2) = \\begin{pmatrix} \\frac{\\partial g}{\\partial x_1} \\\\ \\frac{\\partial g}{\\partial x_2} \\end{pmatrix} = \\begin{pmatrix} 2x_1 \\\\ -1 \\end{pmatrix} $$\n要使LICQ不成立，激活约束的梯度集必须是线性相关的。对于单个约束，这意味着梯度向量必须是零向量。然而，$\\nabla g(x_1, x_2)$ 永远不可能是零向量，因为它的第二个分量总是-1。因此，对于所有点 $(x_1, x_2)$，梯度都是非零的。这意味着LICQ对所有可行点都成立。由于满足了CQ，KKT条件对于最优性是必要的。\n\n**Karush-Kuhn-Tucker (KKT) 条件**\n此问题的拉格朗日函数是：\n$$ L(x_1, x_2, \\lambda) = f(x_1, x_2) + \\lambda g(x_1, x_2) = (x_1 + x_2) + \\lambda(x_1^2 - x_2) $$\n对于候选最优点 $(x_1^{\\star}, x_2^{\\star})$ 和相应的拉格朗日乘子 $\\lambda^{\\star}$，KKT条件如下：\n\n1.  **平稳性 (Stationarity)**：拉格朗日函数关于 $x$ 的梯度必须为零。\n    $$ \\nabla_x L(x_1^{\\star}, x_2^{\\star}, \\lambda^{\\star}) = \\begin{pmatrix} 1 + 2\\lambda^{\\star}x_1^{\\star} \\\\ 1 - \\lambda^{\\star} \\end{pmatrix} = \\begin{pmatrix} 0 \\\\ 0 \\end{pmatrix} $$\n2.  **原始可行性 (Primal Feasibility)**：该点必须满足问题的约束。\n    $$ x_1^{\\star 2} - x_2^{\\star} \\le 0 $$\n3.  **对偶可行性 (Dual Feasibility)**：对于 $g(x) \\le 0$ 形式的不等式约束，拉格朗日乘子必须是非负的。\n    $$ \\lambda^{\\star} \\ge 0 $$\n4.  **互补松弛性 (Complementary Slackness)**：拉格朗日乘子与约束函数的乘积必须为零。\n    $$ \\lambda^{\\star}(x_1^{\\star 2} - x_2^{\\star}) = 0 $$\n\n现在，我们求解这个方程和不等式组。\n根据平稳性条件（1）的第二个分量：\n$$ 1 - \\lambda^{\\star} = 0 \\implies \\lambda^{\\star} = 1 $$\n该值满足对偶可行性条件（3），因为 $1 \\ge 0$。\n\n因为 $\\lambda^{\\star} = 1 \\neq 0$，互补松弛性条件（4）要求约束必须是激活的：\n$$ x_1^{\\star 2} - x_2^{\\star} = 0 \\implies x_2^{\\star} = x_1^{\\star 2} $$\n这个结果表明，最优解必须位于可行域的边界上，即抛物线 $x_2 = x_1^2$。\n\n现在，我们使用平稳性条件（1）的第一个分量，并代入 $\\lambda^{\\star} = 1$：\n$$ 1 + 2\\lambda^{\\star}x_1^{\\star} = 0 \\implies 1 + 2(1)x_1^{\\star} = 0 \\implies 2x_1^{\\star} = -1 \\implies x_1^{\\star} = -\\frac{1}{2} $$\n使用关系式 $x_2^{\\star} = x_1^{\\star 2}$，我们求得 $x_2^{\\star}$：\n$$ x_2^{\\star} = \\left(-\\frac{1}{2}\\right)^2 = \\frac{1}{4} $$\n候选最优点是 $(x_1^{\\star}, x_2^{\\star}) = (-\\frac{1}{2}, \\frac{1}{4})$，对应的拉格朗日乘子是 $\\lambda^{\\star} = 1$。\n我们必须验证该点满足原始可行性条件（2）：\n$$ \\left(-\\frac{1}{2}\\right)^2 - \\frac{1}{4} = \\frac{1}{4} - \\frac{1}{4} = 0 $$\n由于 $0 \\le 0$，该条件得到满足。所有KKT条件均已满足。\n\n**几何解释**\nKKT框架要求在最优点，目标函数的等值线与可行集的边界相切。这个几何条件在代数上由平稳性条件 $\\nabla f(x^{\\star}) + \\lambda^{\\star} \\nabla g(x^{\\star}) = 0$ 所体现，它意味着 $\\nabla f(x^{\\star}) = -\\lambda^{\\star} \\nabla g(x^{\\star})$。目标函数和激活约束的梯度必须是平行的。\n\n让我们在解点 $x^{\\star} = (-\\frac{1}{2}, \\frac{1}{4})$ 验证这一点。\n目标函数的梯度是恒定的：\n$$ \\nabla f(x_1, x_2) = \\begin{pmatrix} 1 \\\\ 1 \\end{pmatrix} $$\n约束函数在解点处的梯度是：\n$$ \\nabla g(x_1^{\\star}, x_2^{\\star}) = \\begin{pmatrix} 2x_1^{\\star} \\\\ -1 \\end{pmatrix} = \\begin{pmatrix} 2(-\\frac{1}{2}) \\\\ -1 \\end{pmatrix} = \\begin{pmatrix} -1 \\\\ -1 \\end{pmatrix} $$\n平稳性条件要求：\n$$ \\nabla f(x^{\\star}) = -\\lambda^{\\star} \\nabla g(x^{\\star}) \\implies \\begin{pmatrix} 1 \\\\ 1 \\end{pmatrix} = -(1) \\begin{pmatrix} -1 \\\\ -1 \\end{pmatrix} $$\n此式成立，证实了梯度是平行的。\n\n或者，我们可以比较斜率。目标函数的等值线是直线 $x_1 + x_2 = c$，可以写成 $x_2 = -x_1 + c$。这些直线的斜率是 $\\frac{dx_2}{dx_1} = -1$。\n可行域的边界是抛物线 $x_2 = x_1^2$。此抛物线的切线斜率由其导数给出：$\\frac{dx_2}{dx_1} = 2x_1$。\n在最优点 $x_1^{\\star} = -\\frac{1}{2}$，抛物线的切线斜率为：\n$$ \\frac{dx_2}{dx_1}\\bigg|_{x_1 = -1/2} = 2\\left(-\\frac{1}{2}\\right) = -1 $$\n由于目标函数等值线的斜率（-1）等于约束边界在点 $(-\\frac{1}{2}, \\frac{1}{4})$ 处的斜率，因此两条曲线在该点相切。这满足了几何要求。\n\n**最优目标值**\n最优点是 $(x_1^{\\star}, x_2^{\\star}) = (-\\frac{1}{2}, \\frac{1}{4})$。目标函数的最优值是：\n$$ f(x^{\\star}) = f\\left(-\\frac{1}{2}, \\frac{1}{4}\\right) = x_1^{\\star} + x_2^{\\star} = -\\frac{1}{2} + \\frac{1}{4} = -\\frac{2}{4} + \\frac{1}{4} = -\\frac{1}{4} $$", "answer": "$$ \\boxed{-\\frac{1}{4}} $$", "id": "3140454"}, {"introduction": "现实世界中的优化问题通常涉及多种类型的约束。这个练习引入了一个同时包含等式和不等式约束的场景，要求你扩展KKT框架的应用 [@problem_id:3140554]。此外，它还引导你分析不同的约束规范（如LICQ和MFCQ），这些是保证KKT条件适用性的关键理论前提。", "problem": "考虑一个同时包含等式约束和不等式约束的约束最小化问题。设目标函数为 $f(x)=x_{1}^{2}+x_{2}$，等式约束为 $h(x)=x_{1}-x_{2}=0$，不等式约束为 $g(x)=x_{2}-1\\le 0$。仅使用 Karush-Kuhn-Tucker (KKT) 条件、互补松弛性、对偶可行性的基本定义，以及线性无关约束规范 (LICQ) 和 Mangasarian-Fromovitz 约束规范 (MFCQ) 的定义，完成以下任务：\n\n- 从第一性原理出发，推导该问题的 KKT 必要条件（用给定的 $f$、$h$ 和 $g$ 陈述平稳性、原始可行性、对偶可行性和互补松弛性），并求解它们以找到 KKT 点 $(x^{\\star},\\lambda^{\\star},\\mu^{\\star})$。\n- 判断 LICQ 是否在 $x^{\\star}$ 处成立，并判断 MFCQ 是否在 $x^{\\star}$ 处成立。通过引用积极约束的梯度，并在适当时根据 MFCQ 的定义展示一个可行方向，来解释你的推理过程。\n- 通过二次目标函数和仿射约束的基本凸性事实，判断你找到的 KKT 点是否为全局最小值点。\n\n你最终报告的量必须是表示为单个精确实数的最优目标值 $f(x^{\\star})$。不需要四舍五入，也不涉及单位。该值将作为最终答案进行评分。", "solution": "约束最小化问题定义如下：\n最小化 $f(x) = x_{1}^{2} + x_{2}$\n约束条件为：\n$h(x) = x_{1} - x_{2} = 0$\n$g(x) = x_{2} - 1 \\le 0$\n其中 $x = \\begin{pmatrix} x_1 \\\\ x_2 \\end{pmatrix} \\in \\mathbb{R}^2$。\n\n首先，我们推导并求解该问题的 Karush-Kuhn-Tucker (KKT) 必要条件。通过为等式约束引入拉格朗日乘子 $\\lambda \\in \\mathbb{R}$ 和为不等式约束引入拉格朗日乘子 $\\mu \\in \\mathbb{R}$，定义拉格朗日函数 $L(x, \\lambda, \\mu)$。\n$$L(x_1, x_2, \\lambda, \\mu) = f(x_1, x_2) + \\lambda h(x_1, x_2) + \\mu g(x_1, x_2)$$\n$$L(x_1, x_2, \\lambda, \\mu) = x_{1}^{2} + x_{2} + \\lambda(x_{1} - x_{2}) + \\mu(x_{2} - 1)$$\n\nKKT 条件如下：\n1.  **平稳性 (Stationarity)**：拉格朗日函数关于 $x$ 的梯度在最优点 $x^{\\star}$ 处必须为零：$\\nabla_x L(x^{\\star}, \\lambda^{\\star}, \\mu^{\\star}) = 0$。\n    $$\\frac{\\partial L}{\\partial x_1} = 2x_1 + \\lambda = 0$$\n    $$\\frac{\\partial L}{\\partial x_2} = 1 - \\lambda + \\mu = 0$$\n2.  **原始可行性 (Primal Feasibility)**：最优点 $x^{\\star}$ 必须满足所有约束。\n    $$h(x^{\\star}) = x_1 - x_2 = 0$$\n    $$g(x^{\\star}) = x_2 - 1 \\le 0$$\n3.  **对偶可行性 (Dual Feasibility)**：不等式约束的乘子必须为非负数。\n    $$\\mu^{\\star} \\ge 0$$\n4.  **互补松弛性 (Complementary Slackness)**：不等式乘子与不等式约束函数的乘积必须为零。\n    $$\\mu^{\\star} g(x^{\\star}) = \\mu^{\\star}(x_2 - 1) = 0$$\n\n我们求解这个方程和不等式组。\n根据原始可行性，$x_1 - x_2 = 0$，这意味着 $x_1 = x_2$。\n互补松弛性条件 $\\mu(x_2 - 1) = 0$ 意味着两种情况。\n\n情况 1：$\\mu = 0$。\n平稳性条件变为：\n$2x_1 + \\lambda = 0$\n$1 - \\lambda + 0 = 0 \\implies \\lambda = 1$。\n将 $\\lambda = 1$ 代入第一个方程：$2x_1 + 1 = 0 \\implies x_1 = -\\frac{1}{2}$。\n由于 $x_1 = x_2$，我们得到 $x_2 = -\\frac{1}{2}$。\n我们验证不等式约束的原始可行性：$g(x) = x_2 - 1 = -\\frac{1}{2} - 1 = -\\frac{3}{2}$。由于 $-\\frac{3}{2} \\le 0$，此条件满足。\n对偶可行性条件 $\\mu \\ge 0$ 也得到满足，因为我们假设了 $\\mu = 0$。\n因此，我们找到了一个 KKT 点：$(x^{\\star}, \\lambda^{\\star}, \\mu^{\\star}) = \\left(\\left(-\\frac{1}{2}, -\\frac{1}{2}\\right), 1, 0\\right)$。\n\n情况 2：$x_2 - 1 = 0 \\implies x_2 = 1$。\n由于 $x_1 = x_2$，我们得到 $x_1 = 1$。\n平稳性条件变为：\n$2x_1 + \\lambda = 0 \\implies 2(1) + \\lambda = 0 \\implies \\lambda = -2$。\n$1 - \\lambda + \\mu = 0 \\implies 1 - (-2) + \\mu = 0 \\implies 3 + \\mu = 0 \\implies \\mu = -3$。\n这个结果 $\\mu = -3$ 违反了对偶可行性条件 $\\mu \\ge 0$。因此，这种情况不会产生有效的 KKT 点。\n\n唯一的 KKT 点是 $x^{\\star} = \\begin{pmatrix} -1/2 \\\\ -1/2 \\end{pmatrix}$，对应的乘子为 $\\lambda^{\\star} = 1$ 和 $\\mu^{\\star} = 0$。\n\n接下来，我们检查在 $x^{\\star} = \\begin{pmatrix} -1/2 \\\\ -1/2 \\end{pmatrix}$ 处的约束规范 (CQ)。\n首先，我们必须确定在 $x^{\\star}$ 处的积极约束集。\n等式约束 $h(x) = x_1 - x_2 = 0$ 根据定义是积极的。在 $x^{\\star}$ 处，$h(x^{\\star}) = -\\frac{1}{2} - \\left(-\\frac{1}{2}\\right) = 0$。\n不等式约束为 $g(x) = x_2 - 1 \\le 0$。在 $x^{\\star}$ 处，$g(x^{\\star}) = -\\frac{1}{2} - 1 = -\\frac{3}{2}  0$。该不等式是严格的，所以此约束是非积极的。\n积极约束集仅包含 $h(x)$。约束函数的梯度为：\n$\\nabla h(x) = \\begin{pmatrix} 1 \\\\ -1 \\end{pmatrix}$\n$\\nabla g(x) = \\begin{pmatrix} 0 \\\\ 1 \\end{pmatrix}$\n在 $x^{\\star}$ 处积极约束的梯度为 $\\nabla h(x^{\\star}) = \\begin{pmatrix} 1 \\\\ -1 \\end{pmatrix}$。\n\n**线性无关约束规范 (LICQ)**：如果所有积极约束（包括等式约束和积极的不等式约束）的梯度是线性无关的，则 LICQ 成立。\n在 $x^{\\star}$ 处，积极约束梯度的集合是 $\\{\\nabla h(x^{\\star})\\} = \\left\\{ \\begin{pmatrix} 1 \\\\ -1 \\end{pmatrix} \\right\\}$。\n根据定义，包含单个非零向量的集合是线性无关的。由于 $\\nabla h(x^{\\star}) \\neq \\begin{pmatrix} 0 \\\\ 0 \\end{pmatrix}$，所以在 $x^{\\star}$ 处 LICQ 成立。\n\n**Mangasarian-Fromovitz 约束规范 (MFCQ)**：如果满足以下条件，则 MFCQ 成立：\n1. 等式约束的梯度是线性无关的。\n2. 存在一个向量 $d \\in \\mathbb{R}^n$，使得对于所有等式约束 $i$，都有 $\\nabla h_i(x)^T d = 0$；并且对于所有积极的不等式约束 $j$，都有 $\\nabla g_j(x)^T d  0$。\n在 $x^{\\star}$ 处：\n1. 等式约束的梯度集为 $\\{\\nabla h(x^{\\star})\\} = \\left\\{ \\begin{pmatrix} 1 \\\\ -1 \\end{pmatrix} \\right\\}$，这是一个线性无关集。此条件满足。\n2. 积极的不等式约束集是空的。因此，条件 $\\nabla g_j(x^{\\star})^T d  0$ 对于任何 $d$ 都空泛地成立。我们只需要找到一个向量 $d = \\begin{pmatrix} d_1 \\\\ d_2 \\end{pmatrix}$ 使得 $\\nabla h(x^{\\star})^T d = 0$。\n这个方程是 $\\begin{pmatrix} 1  -1 \\end{pmatrix} \\begin{pmatrix} d_1 \\\\ d_2 \\end{pmatrix} = d_1 - d_2 = 0$。\n一个满足此条件的非零向量是，例如，$d = \\begin{pmatrix} 1 \\\\ 1 \\end{pmatrix}$。由于存在这样的向量，MFCQ 的第二个条件得到满足。\n因此，在 $x^{\\star}$ 处 MFCQ 也成立。这是预料之中的，因为 LICQ 蕴含 MFCQ。\n\n最后，我们通过分析问题的凸性来确定 $x^{\\star}$ 是否为全局最小值点。\n对于凸优化问题，KKT 点是全局最小值点。如果目标函数是凸函数且可行集是凸集，则该问题是凸问题。\n1.  **目标函数的凸性**：$f(x) = x_{1}^{2} + x_{2}$。\n    $f(x)$ 的海森矩阵 (Hessian matrix) 是 $\\nabla^2 f(x) = \\begin{pmatrix} \\frac{\\partial^2 f}{\\partial x_1^2}  \\frac{\\partial^2 f}{\\partial x_1 \\partial x_2} \\\\ \\frac{\\partial^2 f}{\\partial x_2 \\partial x_1}  \\frac{\\partial^2 f}{\\partial x_2^2} \\end{pmatrix} = \\begin{pmatrix} 2  0 \\\\ 0  0 \\end{pmatrix}$。\n    这个常数海森矩阵的特征值为 $\\lambda_1 = 2$ 和 $\\lambda_2 = 0$。由于所有特征值都是非负的，所以该海森矩阵对所有 $x$ 都是半正定的。因此，目标函数 $f(x)$ 是凸函数。\n2.  **可行集的凸性**：\n    等式约束是 $h(x) = x_1 - x_2 = 0$。函数 $h(x)$ 是仿射（线性）的。由仿射函数定义的等式约束构成一个凸集（在本例中是一条直线）。\n    不等式约束是 $g(x) = x_2 - 1 \\le 0$。函数 $g(x)$ 也是仿射的。当 $g(x)$ 是凸函数时，不等式约束 $g(x) \\le 0$ 定义了一个凸集（在本例中是一个半平面）。由于仿射函数是凸函数，此条件成立。\n    可行集是这两个凸集的交集，因此它本身也是一个凸集。\n\n由于目标函数是凸函数且可行集是凸集，这是一个凸优化问题。我们找到了一个 KKT 点 $x^{\\star}$ 并证明了约束规范 (LICQ) 成立。对于凸问题，KKT 条件是全局最优性的充分条件。因此，$x^{\\star} = \\begin{pmatrix} -1/2 \\\\ -1/2 \\end{pmatrix}$ 是全局最小值点。\n\n最优目标值为 $f(x^{\\star})$：\n$$f\\left(-\\frac{1}{2}, -\\frac{1}{2}\\right) = \\left(-\\frac{1}{2}\\right)^2 + \\left(-\\frac{1}{2}\\right) = \\frac{1}{4} - \\frac{1}{2} = -\\frac{1}{4}$$", "answer": "$$\\boxed{-\\frac{1}{4}}$$", "id": "3140554"}, {"introduction": "KKT条件是最优性的必要条件，但并非总是充分条件，尤其是在非凸问题中。本练习将处理一个非凸目标函数的问题，其中KKT条件会识别出多个候选点，包括局部最大值点 [@problem_id:3140538]。你将应用二阶条件来对这些点进行分类，这是区分真正的局部最小值点与其他驻点的关键技能。", "problem": "考虑具有非凸目标和凸可行集的约束优化问题：\n$$\\text{minimize } f(x,y) = x^{2} + y^{4} - 2 y^{2} \\quad \\text{subject to } h(x,y) = x + y = 0.$$\n可行集是由线性等式约束定义的仿射子空间，它是凸的。假设所有函数都可微，并且线性无关约束规范 (LICQ) 在所有可行点上都成立。从约束优化的基本定义出发，不使用任何现成的分类捷径，按以下步骤进行：\n\n1. 通过引入拉格朗日函数并结合原始可行性强制执行平稳性，推导出等式约束问题的 Karush-Kuhn-Tucker (KKT) 必要条件。为给定问题明确写下这些条件，并求解所有 KKT 点。\n\n2. 为了区分局部最小值与 KKT 点处的其他平稳行为，从二阶必要条件开始：对于局部最小值，拉格朗日函数在每个可行方向上的二阶方向导数必须为非负。将注意力限制在每个 KKT 点处约束的切空间上，刻画可行方向，并沿这些方向评估拉格朗日函数的海森矩阵的二次型，以将每个 KKT 点分类为局部最小值、局部最大值或两者皆非。\n\n3. 报告所有局部最小值中达到的最低目标值。最终答案以一个精确的实数形式给出，不带单位。如果需要近似值，会告知有效数字，但这里要求的是精确值。\n\n你的最终答案必须是一个实数。", "solution": "问题要求解一个约束优化问题在局部最小值处达到的最小值。根据问题描述，求解过程分三个阶段：首先，我们找到所有满足 Karush-Kuhn-Tucker (KKT) 必要条件的点；其次，我们使用二阶条件对这些点进行分类；最后，我们计算局部最小值处的目标函数值以找到最低值。\n\n该优化问题为：\n$$\n\\begin{aligned}\n\\text{minimize }  f(x,y) = x^{2} + y^{4} - 2 y^{2} \\\\\n\\text{subject to }  h(x,y) = x + y = 0\n\\end{aligned}\n$$\n\n**1. KKT 条件的推导与求解**\n\n对于形式为 $\\min f(x)$ subject to $h(x) = 0$ 的等式约束优化问题，其中函数可微且像 LICQ 这样的约束规范成立，一个点 $x^*$ 成为局部最小值的必要条件是存在一个拉格朗日乘子 $\\lambda^*$ 使得 KKT 条件得到满足。这些条件是平稳性和原始可行性。\n\n首先，我们定义拉格朗日函数 $\\mathcal{L}(x, y, \\lambda)$：\n$$\n\\mathcal{L}(x, y, \\lambda) = f(x,y) + \\lambda h(x,y) = (x^{2} + y^{4} - 2 y^{2}) + \\lambda(x + y)\n$$\n\nKKT 条件是：\n- **平稳性：** 拉格朗日函数关于决策变量 $(x, y)$ 的梯度必须为零向量。\n$$\n\\nabla_{x,y} \\mathcal{L}(x, y, \\lambda) = 0\n$$\n- **原始可行性：** 点 $(x, y)$ 必须满足原始约束。\n$$\nh(x,y) = 0\n$$\n\n让我们为给定问题明确写下这些条件。\n\n拉格朗日函数的偏导数是：\n$$\n\\frac{\\partial \\mathcal{L}}{\\partial x} = 2x + \\lambda = 0 \\quad (1)\n$$\n$$\n\\frac{\\partial \\mathcal{L}}{\\partial y} = 4y^{3} - 4y + \\lambda = 0 \\quad (2)\n$$\n\n原始可行性条件是：\n$$\nx + y = 0 \\quad (3)\n$$\n\n我们现在求解这个由三个方程组成的方程组，以求出 $x$、$y$ 和 $\\lambda$。\n由(3)可知，$x = -y$。\n将 $x = -y$ 代入(1)得到 $\\lambda = -2x = -2(-y) = 2y$。\n现在，我们将 $\\lambda$ 的这个表达式代入(2)：\n$$\n4y^{3} - 4y + (2y) = 0\n$$\n$$\n4y^{3} - 2y = 0\n$$\n$$\n2y(2y^{2} - 1) = 0\n$$\n该方程产生三个可能的 $y$ 解：\n- $y = 0$\n- $2y^{2} - 1 = 0 \\implies y^{2} = \\frac{1}{2} \\implies y = \\pm \\frac{1}{\\sqrt{2}} = \\pm \\frac{\\sqrt{2}}{2}$\n\n对于每个 $y$ 值，我们找到相应的 $x$ 和 $\\lambda$ 来确定 KKT 点 $(x, y, \\lambda)$。\n\n- **情况 1：$y_1 = 0$**\n  - $x_1 = -y_1 = 0$\n  - $\\lambda_1 = 2y_1 = 0$\n  - 第一个 KKT 点是 $(x_1, y_1) = (0, 0)$，乘子为 $\\lambda_1 = 0$。\n\n- **情况 2：$y_2 = \\frac{\\sqrt{2}}{2}$**\n  - $x_2 = -y_2 = -\\frac{\\sqrt{2}}{2}$\n  - $\\lambda_2 = 2y_2 = 2\\left(\\frac{\\sqrt{2}}{2}\\right) = \\sqrt{2}$\n  - 第二个 KKT 点是 $(x_2, y_2) = (-\\frac{\\sqrt{2}}{2}, \\frac{\\sqrt{2}}{2})$，乘子为 $\\lambda_2 = \\sqrt{2}$。\n\n- **情况 3：$y_3 = -\\frac{\\sqrt{2}}{2}$**\n  - $x_3 = -y_3 = \\frac{\\sqrt{2}}{2}$\n  - $\\lambda_3 = 2y_3 = 2\\left(-\\frac{\\sqrt{2}}{2}\\right) = -\\sqrt{2}$\n  - 第三个 KKT 点是 $(x_3, y_3) = (\\frac{\\sqrt{2}}{2}, -\\frac{\\sqrt{2}}{2})$，乘子为 $\\lambda_3 = -\\sqrt{2}$。\n\n我们找到了三个 KKT 点：$(0, 0)$、$(-\\frac{\\sqrt{2}}{2}, \\frac{\\sqrt{2}}{2})$ 和 $(\\frac{\\sqrt{2}}{2}, -\\frac{\\sqrt{2}}{2})$。\n\n**2. 二阶分析**\n\n为了对这些平稳点进行分类，我们使用二阶必要和充分条件。对于一个 KKT 点 $(x^*, \\lambda^*)$，要成为局部最小值，拉格朗日函数关于决策变量的海森矩阵 $\\nabla^2_{x,y} \\mathcal{L}(x^*, \\lambda^*)$ 在 $x^*$ 处约束的切空间上必须是半正定的。也就是说，对于所有可行方向 $d$，都有 $d^T \\nabla^2_{x,y} \\mathcal{L}(x^*, \\lambda^*) d \\geq 0$。如果对于所有非零可行方向，该不等式是严格的（$>0$），则该点是严格局部最小值。\n\n首先，我们找到切空间。约束是 $h(x,y) = x+y=0$。约束的梯度是 $\\nabla h(x,y) = \\begin{pmatrix} 1 \\\\ 1 \\end{pmatrix}$。在任何可行点处的切空间是向量 $d = \\begin{pmatrix} d_x \\\\ d_y \\end{pmatrix}$ 的集合，使得 $\\nabla h(x,y)^T d = 0$。\n$$\n\\begin{pmatrix} 1  1 \\end{pmatrix} \\begin{pmatrix} d_x \\\\ d_y \\end{pmatrix} = d_x + d_y = 0\n$$\n这意味着 $d_y = -d_x$。因此，任何可行方向向量 $d$ 都与 $\\begin{pmatrix} 1 \\\\ -1 \\end{pmatrix}$ 成比例。我们可以选择 $d = \\begin{pmatrix} 1 \\\\ -1 \\end{pmatrix}$ 作为切空间的基向量。\n\n接下来，我们计算拉格朗日函数的海森矩阵 $\\nabla^2_{x,y} \\mathcal{L}$：\n$$\n\\frac{\\partial^2 \\mathcal{L}}{\\partial x^2} = 2\n$$\n$$\n\\frac{\\partial^2 \\mathcal{L}}{\\partial y \\partial x} = \\frac{\\partial^2 \\mathcal{L}}{\\partial x \\partial y} = 0\n$$\n$$\n\\frac{\\partial^2 \\mathcal{L}}{\\partial y^2} = 12y^{2} - 4\n$$\n海森矩阵是：\n$$\n\\nabla^2_{x,y} \\mathcal{L}(x,y,\\lambda) = \\begin{pmatrix} 2  0 \\\\ 0  12y^{2} - 4 \\end{pmatrix}\n$$\n注意海森矩阵仅依赖于 $y$。我们现在在每个 KKT 点为 $d = \\begin{pmatrix} 1 \\\\ -1 \\end{pmatrix}$ 评估二次型 $d^T \\nabla^2_{x,y} \\mathcal{L} d$。\n$$\nd^T \\nabla^2_{x,y} \\mathcal{L} d = \\begin{pmatrix} 1  -1 \\end{pmatrix} \\begin{pmatrix} 2  0 \\\\ 0  12y^{2} - 4 \\end{pmatrix} \\begin{pmatrix} 1 \\\\ -1 \\end{pmatrix} = 2(1)^2 + (12y^{2} - 4)(-1)^2 = 2 + 12y^{2} - 4 = 12y^{2} - 2\n$$\n\n现在我们检验每个 KKT 点：\n- **对于点 $(0, 0)$：**\n  这里 $y=0$。二次型的值是 $12(0)^2 - 2 = -2$。因为 $-2  0$，点 $(0,0)$ 是一个 **局部最大值**。\n\n- **对于点 $(-\\frac{\\sqrt{2}}{2}, \\frac{\\sqrt{2}}{2})$：**\n  这里 $y = \\frac{\\sqrt{2}}{2}$，所以 $y^2 = \\frac{1}{2}$。二次型的值是 $12(\\frac{1}{2}) - 2 = 6 - 2 = 4$。因为 $4 > 0$，点 $(-\\frac{\\sqrt{2}}{2}, \\frac{\\sqrt{2}}{2})$ 是一个 **严格局部最小值**。\n\n- **对于点 $(\\frac{\\sqrt{2}}{2}, -\\frac{\\sqrt{2}}{2})$：**\n  这里 $y = -\\frac{\\sqrt{2}}{2}$，所以 $y^2 = \\frac{1}{2}$。二次型的值是 $12(\\frac{1}{2}) - 2 = 6 - 2 = 4$。因为 $4 > 0$，点 $(\\frac{\\sqrt{2}}{2}, -\\frac{\\sqrt{2}}{2})$ 也是一个 **严格局部最小值**。\n\n**3. 最低目标值**\n\n问题要求在所有局部最小值中达到的最低目标值。我们有两个这样的点。我们在这两点上评估目标函数 $f(x,y) = x^2 + y^4 - 2y^2$。\n\n- 在点 $(x,y) = (-\\frac{\\sqrt{2}}{2}, \\frac{\\sqrt{2}}{2})$：\n  $x^2 = (-\\frac{\\sqrt{2}}{2})^2 = \\frac{1}{2}$\n  $y^2 = (\\frac{\\sqrt{2}}{2})^2 = \\frac{1}{2}$\n  $y^4 = (\\frac{1}{2})^2 = \\frac{1}{4}$\n  $f(-\\frac{\\sqrt{2}}{2}, \\frac{\\sqrt{2}}{2}) = \\frac{1}{2} + \\frac{1}{4} - 2\\left(\\frac{1}{2}\\right) = \\frac{1}{2} + \\frac{1}{4} - 1 = \\frac{3}{4} - 1 = -\\frac{1}{4}$。\n\n- 在点 $(x,y) = (\\frac{\\sqrt{2}}{2}, -\\frac{\\sqrt{2}}{2})$：\n  $x^2 = (\\frac{\\sqrt{2}}{2})^2 = \\frac{1}{2}$\n  $y^2 = (-\\frac{\\sqrt{2}}{2})^2 = \\frac{1}{2}$\n  $y^4 = (\\frac{1}{2})^2 = \\frac{1}{4}$\n  $f(\\frac{\\sqrt{2}}{2}, -\\frac{\\sqrt{2}}{2}) = \\frac{1}{2} + \\frac{1}{4} - 2\\left(\\frac{1}{2}\\right) = \\frac{1}{2} + \\frac{1}{4} - 1 = \\frac{3}{4} - 1 = -\\frac{1}{4}$。\n\n两个局部最小值都得到相同的目标值 $-\\frac{1}{4}$。因此，所有局部最小值中达到的最低目标值是 $-\\frac{1}{4}$。\n由于可行集 $x+y=0$ 是无界的（$y \\to \\pm \\infty$），我们必须考虑函数在该集合上是否下方无界。将 $x=-y$ 代入 $f(x,y)$ 得到 $g(y) = y^4 - y^2$。当 $y \\to \\pm \\infty$ 时，$g(y) \\to +\\infty$。所以函数有下界，我们找到的值 $-\\frac{1}{4}$ 是全局最小值。", "answer": "$$\n\\boxed{-\\frac{1}{4}}\n$$", "id": "3140538"}]}