{"hands_on_practices": [{"introduction": "有效不等式的一个最常见和最直观的应用来自于背包约束。在这个练习中，我们将从一个实际的容量限制聚类问题出发，学习如何识别出一个背包结构，并推导出相应的覆盖不等式 (cover inequality)，这是一种强有力的切割平面，能够显著加强整数规划模型的线性松弛。通过这个练习[@problem_id:3196864]，你将掌握从具体问题中提炼出核心约束并加以强化的实用技能。", "problem": "一家公司求解一个容量限制聚类混合整数线性规划 (MILP) 问题，以将客户分配给一个潜在的聚类中心。设 $N$ 表示客户集合，每个客户 $i \\in N$ 有一个非负需求 $d_i$。考虑单个候选中心 $k$，其容量为 $\\mathrm{cap}_k > 0$。决策变量如下：\n- $y_k \\in \\{0,1\\}$，表示中心 $k$ 是否开放，\n- $x_{ik} \\ge 0$，代表客户 $i$ 由中心 $k$ 服务的需求量，\n- $z_{ik} \\in \\{0,1\\}$，表示客户 $i$ 是否被分配到中心 $k$。\n\n假设以下建模原语，这些原语基于物理资源约束和分配逻辑：\n- 如果中心 $k$ 开放，总服务需求不能超过其容量；如果关闭，则不能服务任何需求。总服务需求由 $\\sum_{i \\in N} x_{ik}$ 衡量。\n- 每个客户的服务量不能超过其自身的需求，并且一个分配指示变量控制着对该客户的任何正服务：对于所有 $i \\in N$，有 $0 \\le x_{ik} \\le d_i z_{ik}$。\n- 客户只能被分配到一个开放的中心，这一点通过 $y_k$ 的容量门控和分配可行性间接强制执行。\n\n你的任务是：\n1) 从这些原语出发，不引用任何预先推导的有效不等式，推导出连接中心 $k$ 的总服务流量与开放决策 $y_k$ 的基准容量不等式。\n2) 将你的推导特化到 $y_k = 1$ 的情况。使用界限关系 $x_{ik} \\le d_i z_{ik}$ 消除连续服务变量，从而得到一个关于分配变量 $z_{ik}$ 的背包类型约束。然后，仅使用背包覆盖的定义（即一个子集 $S \\subseteq N$ 使得 $\\sum_{i \\in S} d_i > \\mathrm{cap}_k$），推导出一个有效不等式，该不等式限制了来自这样一个覆盖中的多少客户可以同时被分配到 $k$。\n3) 现在考虑具体数据：\n- 客户 $N = \\{1,2,3,4,5,6\\}$，需求为 $(d_1,d_2,d_3,d_4,d_5,d_6) = (6,5,5,4,4,3)$。\n- 中心容量 $\\mathrm{cap}_k = 20$。\n\n选择 $S$ 为通过首先选择需求最高的客户所形成的、使得 $\\sum_{i \\in S} d_i > \\mathrm{cap}_k$ 成立的基数最小的子集。写出关于分配变量 $z_{ik}$ 的相应加强有效不等式，并报告其右侧常数的数值。\n\n请将最终答案以该单个数值常数的形式提供。不需要单位，也不需要四舍五入。", "solution": "问题陈述经评估是有效的。它在优化方法领域是自洽的，具有数学和科学基础，是适定且客观的。不存在矛盾、歧义或不成立的前提。我们开始进行解答。\n\n该问题要求对一个容量限制聚类问题进行三部分的推导和计算。设 $N$ 为客户集合，$d_i \\ge 0$ 为客户 $i \\in N$ 的需求，$\\mathrm{cap}_k > 0$ 为潜在中心 $k$ 的容量。决策变量为：$y_k \\in \\{0,1\\}$ 表示是否开放中心 $k$，$x_{ik} \\ge 0$ 表示客户 $i$ 由中心 $k$ 服务的需求量，$z_{ik} \\in \\{0,1\\}$ 表示客户 $i$ 是否分配到中心 $k$。\n\n**1) 基准容量不等式的推导**\n\n问题提供了对容量约束的以下原始描述：“如果中心 $k$ 开放，总服务需求不能超过其容量；如果关闭，则不能服务任何需求。” 总服务需求由 $\\sum_{i \\in N} x_{ik}$ 给出。\n\n我们可以将此条件语句形式化如下：\n- 如果中心 $k$ 开放，则 $y_k=1$。总服务需求受容量限制：$\\sum_{i \\in N} x_{ik} \\le \\mathrm{cap}_k$。\n- 如果中心 $k$ 关闭，则 $y_k=0$。该中心不能服务任何需求。由于对所有 $i \\in N$ 都有 $x_{ik} \\ge 0$，这意味着 $\\sum_{i \\in N} x_{ik} = 0$。\n\n我们寻求一个使用二元变量 $y_k$ 结合这两种情况的单一线性不等式。考虑不等式：\n$$ \\sum_{i \\in N} x_{ik} \\le \\mathrm{cap}_k y_k $$\n让我们对 $y_k$ 的两个可能值验证此不等式：\n- 如果 $y_k=1$，不等式变为 $\\sum_{i \\in N} x_{ik} \\le \\mathrm{cap}_k$，这正确地建模了开放中心的容量限制。\n- 如果 $y_k=0$，不等式变为 $\\sum_{i \\in N} x_{ik} \\le 0$。考虑到非负约束 $x_{ik} \\ge 0$，这会强制 $\\sum_{i \\in N} x_{ik} = 0$，这正确地建模了关闭中心的零服务条件。\n\n因此，基准容量不等式为 $\\sum_{i \\in N} x_{ik} \\le \\mathrm{cap}_k y_k$。\n\n**2) 背包覆盖不等式的推导**\n\n首先，我们将分析特化到中心 $k$ 开放的情况，即 $y_k=1$。基准不等式简化为 $\\sum_{i \\in N} x_{ik} \\le \\mathrm{cap}_k$。\n\n问题陈述了另一个原语：对于所有 $i \\in N$，$0 \\le x_{ik} \\le d_i z_{ik}$。这将连续流量变量 $x_{ik}$ 与二元分配变量 $z_{ik}$ 联系起来。在许多标准的容量限制分配模型中，假设如果一个客户被分配到一个设施（$z_{ik}=1$），他们的全部需求 $d_i$ 都会计入容量使用。这种解释导致了一个背包类型的约束。任何可行的整数解都必须满足已分配客户的总需求不超过容量。这得出了有效不等式：\n$$ \\sum_{i \\in N} d_i z_{ik} \\le \\mathrm{cap}_k $$\n这就是对于一个开放的中心 $k$，一组分配必须满足的背包类型约束。\n\n接下来，我们使用所提供的覆盖定义来推导一个有效不等式。一个覆盖 $S$ 是客户的一个子集，$S \\subseteq N$，使得他们的总需求超过容量：\n$$ \\sum_{i \\in S} d_i > \\mathrm{cap}_k $$\n让我们考虑由 $z_{ik}$ 的值表示的任何可行分配集。覆盖集 $S$ 中的所有客户不可能同时被分配到中心 $k$。如果他们都被分配了，那么对于所有 $i \\in S$，我们有 $z_{ik}=1$。这将意味着仅这个已分配客户子集的需求总和为 $\\sum_{i \\in S} d_i z_{ik} = \\sum_{i \\in S} d_i$。根据覆盖的定义，这个总和大于 $\\mathrm{cap}_k$。这将违反背包约束 $\\sum_{i \\in N} d_i z_{ik} \\le \\mathrm{cap}_k$，因为仅子集 $S$ 上的总和就已经超过了容量。\n\n因此，任何可行解都不能对所有 $i \\in S$ 都有 $z_{ik}=1$。这可以表示为一个不等式。$S$ 中客户的分配指示变量之和必须严格小于 $S$ 中的客户数量：\n$$ \\sum_{i \\in S} z_{ik}  |S| $$\n由于每个 $z_{ik}$ 必须是整数（$0$ 或 $1$），所以总和 $\\sum_{i \\in S} z_{ik}$ 也必须是整数。严格小于 $|S|$ 的最大整数是 $|S|-1$。这导出了著名的背包覆盖有效不等式：\n$$ \\sum_{i \\in S} z_{ik} \\le |S| - 1 $$\n这个不等式通常被称为“加强”不等式，因为它加强了 MILP 的线性规划松弛，切掉了否则可行的分数解。\n\n**3) 应用于具体数据**\n\n给定的数据是：\n- 客户 $N = \\{1,2,3,4,5,6\\}$\n- 需求 $(d_1,d_2,d_3,d_4,d_5,d_6) = (6,5,5,4,4,3)$\n- 中心容量 $\\mathrm{cap}_k = 20$\n\n我们被要求找到通过首先选择需求最高的客户所形成的、使得 $\\sum_{i \\in S} d_i  \\mathrm{cap}_k$ 成立的基数最小的子集 $S$。按降序排列的需求为 $6, 5, 5, 4, 4, 3$，分别对应客户 $1, (2,3), (4,5), 6$。让我们按此顺序累加需求来构建 $S$：\n- 添加客户 1 ($d_1=6$)：当前总需求 = $6$。\n- 添加客户 2 ($d_2=5$)：当前总需求 = $6+5=11$。\n- 添加客户 3 ($d_3=5$)：当前总需求 = $11+5=16$。\n- 添加客户 4 ($d_4=4$)：当前总需求 = $16+4=20$。此时总需求仍不大于容量 $\\mathrm{cap}_k=20$。\n- 添加客户 5 ($d_5=4$)：当前总需求 = $20+4=24$。此时总需求 $24$ 严格大于 $20$。\n\n得到的集合是 $S = \\{1,2,3,4,5\\}$。这是一个覆盖，因为 $\\sum_{i \\in S}d_i = 24  20$。该集合的基数为 $|S|=5$。任何少于 $5$ 个客户的子集都不可能成为一个覆盖，因为 $4$ 个客户的最大需求总和是 $6+5+5+4=20$，不大于容量。因此，$S=\\{1,2,3,4,5\\}$ 是一个遵循指定规则的最小基数覆盖。\n\n使用第 2) 部分推导出的有效不等式公式 $\\sum_{i \\in S} z_{ik} \\le |S| - 1$，我们可以写出针对此覆盖的具体不等式：\n$$ z_{1k} + z_{2k} + z_{3k} + z_{4k} + z_{5k} \\le 5 - 1 $$\n$$ z_{1k} + z_{2k} + z_{3k} + z_{4k} + z_{5k} \\le 4 $$\n问题要求此加强有效不等式右侧常数的数值。\n\n右侧常数是 $4$。", "answer": "$$\\boxed{4}$$", "id": "3196864"}, {"introduction": "除了源于数值约束（如背包问题）的不等式，我们还可以从问题的组合结构中发现有效的切割。这个练习[@problem_id:3196773]将引导你处理一个图论问题，其中边的选择受到三角形冲突的限制。你将学习如何构建一个“冲突图”来表示这些逻辑不相容性，并从中推导出团不等式 (clique inequality)，这展示了如何将抽象的组合关系转化为能有效收紧可行域的线性约束。", "problem": "考虑一个无向简单图 $G$，其顶点集为 $V(G) = \\{1, 2, 3, 4, 5\\}$，边集为 $E(G) = \\{\\{1,2\\}, \\{1,3\\}, \\{2,3\\}, \\{2,4\\}, \\{3,4\\}, \\{3,5\\}, \\{4,5\\}, \\{1,5\\}\\}$。设每条边 $\\{i,j\\} \\in E(G)$ 都有一个关联的二元选择变量 $x_{ij} \\in \\{0,1\\}$，表示边 $\\{i,j\\}$ 是否被选中。选择必须满足三角冲突：任意两条被选中的边不能属于 $G$ 的同一个三角形。\n\n仅使用基本定义，按以下步骤进行：\n1. 定义冲突图 $H$，其顶点对应于 $G$ 的边变量，并且如果 $H$ 中的两个顶点对应的 $G$ 中的边被三角冲突规则同时禁止，则这两个顶点是相邻的。\n2. 根据 $H$ 中团的定义以及变量的二元、非负性质，为 $H$ 中的每个团推导出一个有效不等式，该不等式限制了该团中变量的总和。\n3. 如果满足不等式 $a^{\\top} x \\leq \\beta$ 的每个向量 $x$ 也都满足不等式 $a'^{\\top} x \\leq \\beta'$，则称不等式 $a^{\\top} x \\leq \\beta$ 支配另一个不等式 $a'^{\\top} x \\leq \\beta'$。使用此定义以及仅利用 $H$ 和变量的性质，在移除所有被其他不等式所蕴含的不等式后，识别出哪些推导出的不等式是未被支配的。\n\n该实例的非支配团不等式的数量是多少？请提供一个整数。无需四舍五入。", "solution": "该问题要求我们找到一个给定图问题的非支配团不等式的数量。这是一个多步骤的过程，涉及识别冲突、构建冲突图，然后找到其极大团。\n\n图 $G$ 定义在顶点集 $V(G) = \\{1, 2, 3, 4, 5\\}$ 上。其边集为 $E(G) = \\{\\{1,2\\}, \\{1,3\\}, \\{2,3\\}, \\{2,4\\}, \\{3,4\\}, \\{3,5\\}, \\{4,5\\}, \\{1,5\\}\\}$。对于每条边 $\\{i,j\\} \\in E(G)$，我们有一个二元变量 $x_{ij} \\in \\{0,1\\}$。核心约束是任意两条被选中的边不能属于 $G$ 中的同一个三角形。\n\n步骤 $1$：识别 $G$ 中的三角形。\n三角形是由三个顶点 $\\{u,v,w\\}$ 组成的集合，使得边 $\\{u,v\\}, \\{v,w\\}, \\{w,u\\}$ 都属于 $E(G)$。我们系统地搜索这样的三顶点集：\n-   $\\{1,2,3\\}$：边 $\\{1,2\\}, \\{2,3\\}, \\{1,3\\}$ 都在 $E(G)$ 中。这构成一个三角形，我们称之为 $T_1$。\n-   $\\{2,3,4\\}$：边 $\\{2,3\\}, \\{3,4\\}, \\{2,4\\}$ 都在 $E(G)$ 中。这构成一个三角形 $T_2$。\n-   $\\{3,4,5\\}$：边 $\\{3,4\\}, \\{4,5\\}, \\{3,5\\}$ 都在 $E(G)$ 中。这构成一个三角形 $T_3$。\n-   $\\{1,3,5\\}$：边 $\\{1,3\\}, \\{3,5\\}, \\{1,5\\}$ 都在 $E(G)$ 中。这构成一个三角形 $T_4$。\n检查其他组合后发现没有其他三角形。例如，对于 $\\{1,2,4\\}$，缺少边 $\\{1,4\\}$。对于 $\\{2,3,5\\}$，缺少边 $\\{2,5\\}$。因此，$G$ 中恰好有 $4$ 个三角形。\n\n步骤 $2$：定义冲突图 $H$。\n$H$ 的顶点（表示为 $V(H)$）对应于 $G$ 的边变量。$G$ 中有 $8$ 条边，所以 $|V(H)| = 8$。我们可以用它们对应的变量来标记 $H$ 的顶点：$V(H) = \\{x_{12}, x_{13}, x_{23}, x_{24}, x_{34}, x_{35}, x_{45}, x_{15}\\}$。\n如果 $H$ 中的两个顶点在 $G$ 中对应的边被“三角冲突规则同时禁止”，则它们是相邻的。这意味着这两个对应的边属于 $G$ 中的同一个三角形。\n约束“任意两条被选中的边不能属于同一个三角形”意味着对于一个三角形 $T$ 中的任意两条边 $\\{i,j\\}$ 和 $\\{k,l\\}$，我们不能同时有 $x_{ij}=1$ 和 $x_{kl}=1$。这等价于约束 $x_{ij} + x_{kl} \\leq 1$。\n因此，在 $H$ 中，任何两个顶点，若它们在 $G$ 中对应的边位于同一个三角形内，则这两个顶点之间存在一条边。这种结构意味着，对于 $G$ 中的每个三角形，其边变量的集合在 $H$ 中形成一个团。\n\n步骤 $3$：推导团不等式。\n$H$ 中的团是一个顶点子集 $K \\subseteq V(H)$，其中每两个不同的顶点都相邻。设 $K$ 是 $H$ 中的一个团。根据定义，$K$ 中变量对应的 $G$ 中的任意两条边都属于同一个三角形。问题约束规定，我们从任何给定的三角形中最多只能选择一条边。更进一步，对于任何一组边，若其中每对边都位于同一个三角形中（这是 $H$ 中团的性质），我们最多只能选择一条。\n鉴于变量是二元的，$x_{ij} \\in \\{0,1\\}$，这个条件可以用以下不等式来表达：\n$$ \\sum_{x_{ij} \\in K} x_{ij} \\leq 1 $$\n这是 $H$ 中任何团 $K$ 的有效不等式的一般形式。\n\n步骤 $4$：识别非支配不等式。\n问题定义，如果满足不等式 $a^{\\top} x \\leq \\beta$ 的可行解集合是满足不等式 $a'^{\\top} x \\leq \\beta'$ 的可行解集合的子集，则不等式 $a^{\\top} x \\leq \\beta$ 支配 $a'^{\\top} x \\leq \\beta'$。\n考虑 $H$ 中的两个团 $K_1$ 和 $K_2$，使得 $K_1 \\subset K_2$。对应的不等式是 $I_1: \\sum_{x \\in K_1} x \\leq 1$ 和 $I_2: \\sum_{x \\in K_2} x \\leq 1$。\n由于所有变量 $x_{ij} \\geq 0$，任何满足 $I_2$ 的解向量 $x$ 也必须满足 $\\sum_{x \\in K_1} x \\leq \\sum_{x \\in K_2} x \\leq 1$。因此，对应较大团 $K_2$ 的不等式 $I_2$ 支配对应较小团 $K_1$ 的不等式 $I_1$。\n为了找到非支配的团不等式，我们必须找到那些不是任何其他团的真子集的团。根据定义，这些是 $H$ 的极大团。问题现在简化为计算 $H$ 中极大团的数量。\n\n步骤 $5$：找到 $H$ 的极大团。\n从步骤 $2$ 可知，$G$ 中每个三角形的边在 $H$ 中形成一个团。让我们列出这些团，称之为 $C_1, C_2, C_3, C_4$：\n-   $T_1 = \\{1,2,3\\} \\implies C_1 = \\{x_{12}, x_{13}, x_{23}\\}$ 是 $H$ 中的一个团。\n-   $T_2 = \\{2,3,4\\} \\implies C_2 = \\{x_{23}, x_{24}, x_{34}\\}$ 是 $H$ 中的一个团。\n-   $T_3 = \\{3,4,5\\} \\implies C_3 = \\{x_{34}, x_{35}, x_{45}\\}$ 是 $H$ 中的一个团。\n-   $T_4 = \\{1,3,5\\} \\implies C_4 = \\{x_{13}, x_{35}, x_{15}\\}$ 是 $H$ 中的一个团。\n\n现在我们必须确定这 $4$ 个团是否是极大的，以及是否存在任何其他极大团。\n如果一个团不能通过从图中添加任何其他顶点来形成一个更大的团，那么它就是极大的。\n让我们分析 $C_1 = \\{x_{12}, x_{13}, x_{23}\\}$。要扩展这个团，我们需要一个顶点 $v \\in V(H) \\setminus C_1$，它与 $C_1$ 中的所有三个顶点都相邻。\n-   考虑 $x_{24}$。边 $\\{2,4\\}$ 与 $\\{2,3\\}$ 同属于 $T_2$，所以 $x_{24}$ 与 $x_{23}$ 相邻。然而，$\\{2,4\\}$ 和 $\\{1,2\\}$ 需要边 $\\{1,4\\}$ 才能构成三角形，但 $\\{1,4\\}$ 不在 $E(G)$ 中。所以 $x_{24}$ 与 $x_{12}$ 不相邻。因此，$x_{24}$ 不能被添加到 $C_1$ 中。\n-   类似的分析表明，$H$ 中没有其他顶点与 $C_1$ 的所有三个顶点都相邻。例如，$x_{34}$ 不与 $x_{12}$ 相邻；$x_{35}$ 不与 $x_{12}$ 或 $x_{23}$ 相邻。\n因此，$C_1$ 是一个极大团。根据 $H$ 的构造对称性（一个由 $4$ 个大小为 $3$ 的团组成的环），$C_2$、$C_3$ 和 $C_4$ 也都是极大团。\n\n是否存在其他极大团？极大团必须由 $H$ 的顶点构成。任何不属于 $\\{C_1, C_2, C_3, C_4\\}$ 的此类团，都必须由不同的顶点组合而成。让我们分析一下最初四个团之间共享的顶点的邻域。\n-   顶点 $x_{23}$ 在 $C_1$ 和 $C_2$ 中。它在 $H$ 中的邻居是 $N(x_{23}) = \\{x_{12}, x_{13}\\} \\cup \\{x_{24}, x_{34}\\}$。任何包含 $x_{23}$ 的团都必须是 $\\{x_{23}\\} \\cup N(x_{23})$ 的子集。由 $N(x_{23})$ 诱导的图有边 $\\{x_{12},x_{13}\\}$（来自 $T_1$）和 $\\{x_{24},x_{34}\\}$（来自 $T_2$），但这两对之间没有边（例如，$\\{x_{12},x_{24}\\}$ 不是 $H$ 中的边，因为 $\\{1,2,4\\}$ 不是 $G$ 中的三角形）。这个诱导子图中的极大团是 $\\{x_{12},x_{13}\\}$ 和 $\\{x_{24},x_{34}\\}$。将 $x_{23}$ 加回去，我们得到 $\\{x_{12}, x_{13}, x_{23}\\} = C_1$ 和 $\\{x_{23}, x_{24}, x_{34}\\} = C_2$。这证实了包含 $x_{23}$ 的仅有的极大团是 $C_1$ 和 $C_2$。\n-   同样，顶点 $x_{34}$ 在 $C_2$ 和 $C_3$ 中。相同的分析表明，包含它的仅有的极大团是 $C_2$ 和 $C_3$。\n-   顶点 $x_{35}$ 在 $C_3$ 和 $C_4$ 中，导出极大团 $C_3$ 和 $C_4$。\n-   顶点 $x_{13}$ 在 $C_4$ 和 $C_1$ 中，导出极大团 $C_4$ 和 $C_1$。\n-   剩下的顶点（$x_{12}, x_{24}, x_{45}, x_{15}$）每个只属于这四个团中的一个。例如，$x_{12} \\in C_1$。任何包含 $x_{12}$ 的团都必须是 $\\{x_{12}\\} \\cup N(x_{12}) = \\{x_{12}, x_{13}, x_{23}\\}$ 的子集，也就是 $C_1$。由于 $C_1$ 本身就是一个团，它是包含 $x_{12}$ 的唯一极大团。\n\n这个穷举检查证实了冲突图 $H$ 中唯一的极大团就是从 $G$ 的四个三角形生成的四个团 $C_1, C_2, C_3, C_4$。\n\n由于非支配团不等式与冲突图的极大团一一对应，因此恰好有 $4$ 个这样的不等式。", "answer": "$$\\boxed{4}$$", "id": "3196773"}, {"introduction": "理论学习的最终目的是解决实际问题，而有效不等式的威力体现在它能够精确地“切掉”线性松弛模型产生的非整数解。本练习[@problem_id:3196872]模拟了切割平面法中的一个核心步骤：给定一个非整数组分点，你的任务是应用多种工具——包括覆盖不等式、团不等式，以及更具普适性的 Chvátal-Gomory (CG) 割平面——来证明该点并非整数可行域凸包的一部分。这个综合性练习将加深你对不同类型割平面适用场景的理解，并让你亲身体验“切割”的乐趣。", "problem": "考虑一个混合整数线性规划 (MILP) 的线性规划 (LP) 松弛，该规划包含四个二元决策变量 $x_1, x_2, x_3, x_4 \\in [0,1]$。该 LP 松弛通过以下系统定义了一个多面体 $\\mathcal{P} \\subseteq \\mathbb{R}^4$：\n$$\n\\begin{aligned}\n0 \\leq x_i \\leq 1 \\quad \\text{for } i \\in \\{1,2,3,4\\},\\\\\nx_1 + x_2 \\leq 1,\\quad x_1 + x_3 \\leq 1,\\quad x_2 + x_3 \\leq 1,\\quad x_3 + x_4 \\leq 1,\\\\\n5x_1 + 4x_2 + 3x_3 + 3x_4 \\leq 7,\\\\\n2x_2 + 2x_3 + 2x_4 \\leq 3.\n\\end{aligned}\n$$\n设分数点为\n$$\n\\bar{x} = (x_1, x_2, x_3, x_4) = (0.7,\\,0.2,\\,0.3,\\,0.6),\n$$\n该点满足 $\\mathcal{P}$ 的所有约束。\n\n从有效不等式的基本定义（即所有整数可行点——此处指满足给定系统的所有 $\\{0,1\\}^4$ 中的向量——都满足的任何线性不等式）出发，完成以下任务：\n\n1. 使用背包约束 $5x_1 + 4x_2 + 3x_3 + 3x_4 \\leq 7$，识别一个覆盖 $C \\subseteq \\{1,2,3,4\\}$，其权重之和严格超过 7，并写出相应的覆盖不等式。使用覆盖 $C = \\{1,4\\}$。\n\n2. 使用 $\\{1,2,3\\}$ 之间的成对约束所隐含的冲突结构，为团 $K = \\{1,2,3\\}$ 写出一个团不等式。\n\n3. 将 Chvátal-Gomory (CG) 取整原理应用于不等式 $2x_2 + 2x_3 + 2x_4 \\leq 3$，乘数为 $y = \\frac{1}{2}$，推导出相应的 CG 割。\n\n对于这三个不等式中的每一个，解释为什么它对 $\\mathcal{P}$ 的整数包是有效的，并验证它切割了分数点 $\\bar{x}$（即，在 $\\bar{x}$ 处计算的左侧值超过了右侧值）。将不等式 $a^{\\top}x \\leq b$ 在 $\\bar{x}$ 处的违背量定义为 $\\max\\{0,\\,a^{\\top}\\bar{x} - b\\}$。计算在 $\\bar{x}$ 处这三个违背量之和。\n\n你的最终答案必须是一个实数。不需要进行四舍五入。", "solution": "首先验证问题以确保其自洽、一致且科学上合理。\n已知条件如下：\n二元决策变量集为 $\\{x_1, x_2, x_3, x_4\\}$，对于混合整数线性规划 (MILP)，$x_i \\in \\{0,1\\}$，对于其线性规划 (LP) 松弛，$x_i \\in [0,1]$。\nLP 松弛的多面体 $\\mathcal{P}$ 由以下约束定义：\n1. $0 \\leq x_i \\leq 1$ 对于 $i \\in \\{1,2,3,4\\}$\n2. $x_1 + x_2 \\leq 1$\n3. $x_1 + x_3 \\leq 1$\n4. $x_2 + x_3 \\leq 1$\n5. $x_3 + x_4 \\leq 1$\n6. $5x_1 + 4x_2 + 3x_3 + 3x_4 \\leq 7$\n7. $2x_2 + 2x_3 + 2x_4 \\leq 3$\n给定的分数点为 $\\bar{x} = (x_1, x_2, x_3, x_4) = (0.7, 0.2, 0.3, 0.6)$。\n\n首先，我们验证 $\\bar{x}$ 是 $\\mathcal{P}$ 中的一个可行点：\n1. 所有分量 $0.7, 0.2, 0.3, 0.6$ 都在区间 $[0,1]$ 内。\n2. $x_1 + x_2 = 0.7 + 0.2 = 0.9 \\leq 1$。满足。\n3. $x_1 + x_3 = 0.7 + 0.3 = 1.0 \\leq 1$。满足。\n4. $x_2 + x_3 = 0.2 + 0.3 = 0.5 \\leq 1$。满足。\n5. $x_3 + x_4 = 0.3 + 0.6 = 0.9 \\leq 1$。满足。\n6. $5x_1 + 4x_2 + 3x_3 + 3x_4 = 5(0.7) + 4(0.2) + 3(0.3) + 3(0.6) = 3.5 + 0.8 + 0.9 + 1.8 = 7.0 \\leq 7$。满足。\n7. $2x_2 + 2x_3 + 2x_4 = 2(0.2) + 2(0.3) + 2(0.6) = 0.4 + 0.6 + 1.2 = 2.2 \\leq 3$。满足。\n点 $\\bar{x}$ 对于 LP 松弛是可行的。该问题定义明确、客观，并在优化方法领域有科学依据。因此，该问题是有效的。我们继续求解。\n\n问题要求推导和分析三个有效不等式。\n\n1.  **覆盖不等式**\n    我们从背包约束 $5x_1 + 4x_2 + 3x_3 + 3x_4 \\leq 7$ 开始。如果索引集 $C \\subseteq \\{1,2,3,4\\}$ 满足 $\\sum_{i \\in C} a_i  b$（其中 $a_i$ 是系数，$b$ 是右侧项），则该集合是一个覆盖。问题指定了覆盖 $C = \\{1,4\\}$。\n    相应系数之和为 $a_1 + a_4 = 5 + 3 = 8$。因为 $8  7$，所以 $C = \\{1,4\\}$ 确实是一个覆盖。\n    覆盖不等式由 $\\sum_{i \\in C} x_i \\leq |C| - 1$ 给出。\n    对于 $C=\\{1,4\\}$，我们有 $|C|=2$。因此不等式为 $x_1 + x_4 \\leq 2 - 1$，简化为 $x_1 + x_4 \\leq 1$。\n\n    *有效性*：此不等式必须对所有整数可行点成立，即满足原始约束的 $\\{0,1\\}^4$ 中的点。如果一个整数解同时有 $x_1=1$ 和 $x_4=1$，则背包约束将变为 $5(1) + 4x_2 + 3x_3 + 3(1) \\leq 7$，即 $8 + 4x_2 + 3x_3 \\leq 7$。由于 $x_2, x_3 \\geq 0$，这是不可能的。因此，在任何整数可行解中，不可能同时有 $x_1=1$ 和 $x_4=1$。这意味着对于任何整数解，$x_1 + x_4 \\leq 1$。所以，该不等式对于 $\\mathcal{P}$ 的整数包是有效的。\n\n    *违背情况*：我们检查该不等式是否切割了点 $\\bar{x} = (0.7, 0.2, 0.3, 0.6)$。\n    在 $\\bar{x}$ 处计算左侧 (LHS)：$x_1 + x_4 = 0.7 + 0.6 = 1.3$。\n    因为 $1.3  1$，所以不等式被违背。违背量为 $\\max\\{0, (x_1 + x_4) - 1\\} = 1.3 - 1 = 0.3$。\n\n2.  **团不等式**\n    约束 $x_1 + x_2 \\leq 1$、$x_1 + x_3 \\leq 1$ 和 $x_2 + x_3 \\leq 1$ 定义了一个冲突结构。在任何整数解中，如果对于 $i,j \\in \\{1,2,3\\}, i \\neq j$ 有 $x_i=1$ 和 $x_j=1$，则相应的约束 $x_i+x_j \\leq 1$ 将被违背 ($1+1 \\not\\leq 1$)。这意味着集合 $\\{x_1, x_2, x_3\\}$ 中至多有一个变量可以等于 1。在冲突图中，节点代表变量，如果两个变量不能同时为 1，则它们之间有一条边相连，节点集 $\\{1,2,3\\}$ 形成一个团。问题指定了团 $K=\\{1,2,3\\}$。\n    团不等式由 $\\sum_{i \\in K} x_i \\leq 1$ 给出。\n    对于 $K=\\{1,2,3\\}$，不等式为 $x_1 + x_2 + x_3 \\leq 1$。\n\n    *有效性*：如上所述，对于任何整数可行解，$\\{x_1, x_2, x_3\\}$ 中的任意两个变量都不能同时为 1。这直接意味着它们的和最多为 1。因此，该不等式对于 $\\mathcal{P}$ 的整数包是有效的。\n\n    *违背情况*：我们检查该不等式是否切割了 $\\bar{x}$。\n    在 $\\bar{x}$ 处计算左侧：$x_1 + x_2 + x_3 = 0.7 + 0.2 + 0.3 = 1.2$。\n    因为 $1.2  1$，所以不等式被违背。违背量为 $\\max\\{0, (x_1 + x_2 + x_3) - 1\\} = 1.2 - 1 = 0.2$。\n\n3.  **Chvátal-Gomory (CG) 割**\n    我们从不等式 $2x_2 + 2x_3 + 2x_4 \\leq 3$ 开始。问题指定使用乘数 $y = \\frac{1}{2}$。\n    将不等式乘以 $y$：$\\frac{1}{2} (2x_2 + 2x_3 + 2x_4) \\leq \\frac{1}{2} (3)$，简化为 $x_2 + x_3 + x_4 \\leq 1.5$。\n    Chvátal-Gomory 过程涉及对所有系数和右侧项向下取整，因为变量是整数约束的。由于 $x_i \\in \\{0, 1\\}$，它们是整数。对于任何整数解，左侧 $x_2+x_3+x_4$ 必须是一个整数。如果一个整数小于或等于 1.5，它必须小于或等于 $\\lfloor 1.5 \\rfloor = 1$。\n    得到的 CG 割为 $x_2 + x_3 + x_4 \\leq 1$。\n\n    *有效性*：不等式 $x_2+x_3+x_4 \\leq 1.5$ 是原始约束的一个有效推论。对于 $\\mathcal{P}$ 中的任何整数点 $x$，和 $x_2+x_3+x_4$ 必须是一个整数。一个小于或等于 1.5 的整数最多为 1。因此，对于所有整数可行点，$x_2 + x_3 + x_4 \\leq 1$ 成立，该不等式是有效的。\n\n    *违背情况*：我们检查该不等式是否切割了 $\\bar{x}$。\n    在 $\\bar{x}$ 处计算左侧：$x_2 + x_3 + x_4 = 0.2 + 0.3 + 0.6 = 1.1$。\n    因为 $1.1  1$，所以不等式被违背。违背量为 $\\max\\{0, (x_2 + x_3 + x_4) - 1\\} = 1.1 - 1 = 0.1$。\n\n**违背量之和**\n三个违背量之和是上面计算的各个违背量之和。\n总违背量 = (覆盖不等式的违背量) + (团不等式的违背量) + (CG 割的违背量)\n总违背量 = $0.3 + 0.2 + 0.1 = 0.6$。", "answer": "$$\\boxed{0.6}$$", "id": "3196872"}]}