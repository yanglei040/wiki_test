{"hands_on_practices": [{"introduction": "掌握Gomory割平面的第一步是学习其核心构建过程。本练习将提供单纯形法表中的一行，要求你从第一性原理出发，推导出相应的分数Gomory割平面，并重点关注其中小数部分和模算术所扮演的角色[@problem_id:3133803]。", "problem": "考虑一个标准形式的纯整数线性规划（ILP）问题，其中所有决策变量都要求为整数且非负。假设其线性规划（LP）松弛问题已通过单纯形法求解，得到了一个当前基。关注对应于一个基变量的单纯形表中的某一行，该行写为如下规范形式：\n$$\nx_{B} \\;=\\; b \\;-\\; a_{1}\\,x_{1} \\;-\\; a_{2}\\,x_{2} \\;-\\; a_{3}\\,x_{3},\n$$\n其中 $x_{1}, x_{2}, x_{3} \\ge 0$ 且在ILP问题中 $x_{1}, x_{2}, x_{3}$ 也要求为整数。构建 Gomory 分数割的基本依据是小数部分和模算术的定义：对于任意实数 $t$，其小数部分为 $\\{t\\} = t - \\lfloor t \\rfloor$；而模 1 同余满足 $u \\equiv v \\;(\\mathrm{mod}\\;1)$ 当且仅当 $u - v$ 是一个整数。对于右端项 $b$ 是小数的一行， $x_{B}$ 的整数性意味着一个模关系，这个关系可以被转换成一个包含单纯形表系数小数部分的有效不等式（即 Gomory 分数割）。\n\n给定具体的行数据\n$$\nb \\;=\\; 5.75, \n\\qquad \n(a_{1}, a_{2}, a_{3}) \\;=\\; (0.25,\\, 1.5,\\, 2.75),\n$$\n请执行以下操作：\n- 计算 $j \\in \\{1,2,3\\}$ 时的小数部分 $\\{b\\}$ 和 $\\{a_{j}\\}$。\n- 基于 $x_{B}$ 的整数性和模算术，从基本原理推导相应的关于 $x_{1}, x_{2}, x_{3}$ 的 Gomory 分数割。\n- 使用模 1 同余简要解释割平面系数。\n最后，令 $S$ 表示所推导出的 Gomory 分数割左侧系数之和。$S$ 的精确值是多少？请将最终答案以单个实数形式给出，无需四舍五入。", "solution": "我们从规范的单纯形表行开始\n$$\nx_{B} \\;=\\; b \\;-\\; a_{1}\\,x_{1} \\;-\\; a_{2}\\,x_{2} \\;-\\; a_{3}\\,x_{3},\n$$\n其中 $x_{1}, x_{2}, x_{3} \\ge 0$ 且在原始的整数线性规划（ILP）问题中要求为整数。Gomory 分数割的构建使用了以下基本思想：\n1. 对于任意实数 $t$，小数部分算子定义为 $\\{t\\} = t - \\lfloor t \\rfloor$。\n2. 如果一个数是整数，那么它模 1 同余于 0。\n3. 模 1 同余以及将实数分解为其整数部分和小数部分。\n\n步骤 1：计算小数部分。根据所提供的数据，\n$$\nb \\;=\\; 5.75, \n\\qquad \n(a_{1}, a_{2}, a_{3}) \\;=\\; (0.25,\\, 1.5,\\, 2.75).\n$$\n计算\n$$\n\\{b\\} \\;=\\; 5.75 - \\lfloor 5.75 \\rfloor \\;=\\; 5.75 - 5 \\;=\\; 0.75,\n$$\n$$\n\\{a_{1}\\} \\;=\\; 0.25 - \\lfloor 0.25 \\rfloor \\;=\\; 0.25 - 0 \\;=\\; 0.25,\n$$\n$$\n\\{a_{2}\\} \\;=\\; 1.5 - \\lfloor 1.5 \\rfloor \\;=\\; 1.5 - 1 \\;=\\; 0.5,\n$$\n$$\n\\{a_{3}\\} \\;=\\; 2.75 - \\lfloor 2.75 \\rfloor \\;=\\; 2.75 - 2 \\;=\\; 0.75.\n$$\n\n步骤 2：通过模推理推导 Gomory 分数割。因为在 ILP 中 $x_{B}$ 必须是整数，所以我们将该单纯形表行模 1 规约：\n$$\nx_{B} \\equiv b - a_{1}\\,x_{1} - a_{2}\\,x_{2} - a_{3}\\,x_{3} \\pmod{1}.\n$$\n由于 $x_{B}$ 是整数，所以 $x_{B} \\equiv 0 \\pmod{1}$。将每个实数分解为整数部分和小数部分：$b = \\lfloor b \\rfloor + \\{b\\}$ 和 $a_{j} = \\lfloor a_{j} \\rfloor + \\{a_{j}\\}$。使用模 1 同余可以消去整数部分，得到\n$$\n0 \\equiv \\{b\\} - \\{a_{1}\\}\\,x_{1} - \\{a_{2}\\}\\,x_{2} - \\{a_{3}\\}\\,x_{3} \\pmod{1}.\n$$\n等价地，\n$$\n\\{a_{1}\\}\\,x_{1} + \\{a_{2}\\}\\,x_{2} + \\{a_{3}\\}\\,x_{3} \\equiv \\{b\\} \\pmod{1}.\n$$\n因为 $x_{1}, x_{2}, x_{3}$ 是非负整数，所以左侧是一个非负实数。一个标准的论证（Gomory 分数割平面）将此同余关系转换为对所有整数可行解 $(x_{1},x_{2},x_{3})$ 均成立的有效不等式：\n$$\n\\{a_{1}\\}\\,x_{1} + \\{a_{2}\\}\\,x_{2} + \\{a_{3}\\}\\,x_{3} \\;\\ge\\; \\{b\\}.\n$$\n代入计算出的小数部分，得到明确的割平面\n$$\n0.25\\,x_{1} \\;+\\; 0.5\\,x_{2} \\;+\\; 0.75\\,x_{3} \\;\\ge\\; 0.75.\n$$\n\n步骤 3：对系数进行模 1 解释。左侧的系数正是单纯形表系数 $(a_{1}, a_{2}, a_{3})$ 模 1 的余数，即，\n$$\na_{j} \\equiv \\{a_{j}\\} \\pmod{1},\n$$\n而右侧是 $b$ 模 1 的余数：\n$$\nb \\equiv \\{b\\} \\pmod{1}.\n$$\n$x_{B}$ 的整数性强制了同余关系\n$$\n\\sum_{j=1}^{3} \\{a_{j}\\}\\,x_{j} \\equiv \\{b\\} \\pmod{1},\n$$\n并且在所有满足原始行方程的非负整数元组 $(x_{1},x_{2},x_{3})$ 中，该同余关系蕴含了有效不等式\n$$\n\\sum_{j=1}^{3} \\{a_{j}\\}\\,x_{j} \\;\\ge\\; \\{b\\}.\n$$\n\n最后，令 $S$ 表示所推导出的 Gomory 分数割左侧系数之和：\n$$\nS \\;=\\; \\{a_{1}\\} + \\{a_{2}\\} + \\{a_{3}\\} \\;=\\; 0.25 + 0.5 + 0.75 \\;=\\; 1.5.\n$$\n因此，$S$ 的精确值为 $1.5$。", "answer": "$$\\boxed{1.5}$$", "id": "3133803"}, {"introduction": "Gomory割平面的系数由其来源的单纯形法表行中对应系数的小数部分直接决定。本练习将挑战你逆向应用这层关系，通过寻找一个参数使得最终的割平面不包含某个特定变量，从而加深你对割平面结构的理解[@problem_id:3133750]。", "problem": "考虑一个规范形式的纯整数线性规划问题，其中所有决策变量都约束为非负整数。通过单纯形法求解其线性规划（LP）松弛问题后，假设得到一个关于基本整数变量 $x_{B}$ 的字典行，其形式如下：\n$$\nx_{B} \\;=\\; b \\;-\\; a_{1}\\,x_{1} \\;-\\; a_{2}\\,x_{2} \\;-\\; a_{3}\\,x_{3},\n$$\n其中 $x_{1}, x_{2}, x_{3} \\geq 0$ 且都约束为整数。在这种情况下，当 $b$ 不是整数时，便可从此行生成Gomory分数割。\n\n给定具体的单纯形表行：\n$$\nx_{B} \\;=\\; \\frac{41}{12} \\;-\\; \\frac{n}{6}\\,x_{1} \\;-\\; \\frac{25}{8}\\,x_{2} \\;-\\; \\frac{17}{10}\\,x_{3},\n$$\n其中 $n$ 是一个待选的正整数参数。从整数线性规划的基本原理和分数部分的定义出发，确定最小的正整数 $n$，使得从此行生成的Gomory分数割中 $x_{1}$ 的系数为零，即变量 $x_{1}$ 不出现在该割平面中。\n\n请以 $n$ 的值作为最终答案。无需四舍五入。", "solution": "Gomory分数割的推导基于将单纯形表中的行方程的系数分解为整数和小数部分。对于给定的字典行：\n$$\nx_{B} \\;=\\; b \\;-\\; a_{1}\\,x_{1} \\;-\\; a_{2}\\,x_{2} \\;-\\; a_{3}\\,x_{3}\n$$\n其对应的Gomory分数割具有以下形式：\n$$\n\\{a_{1}\\}\\,x_{1} + \\{a_{2}\\}\\,x_{2} + \\{a_{3}\\}\\,x_{3} \\;\\ge\\; \\{b\\}\n$$\n其中，对于任意实数 $y$，其小数部分定义为 $\\{y\\} = y - \\lfloor y \\rfloor$。\n\n问题要求在生成的Gomory分数割中，$x_1$ 的系数为零。这意味着我们需要找到一个正整数 $n$ 使得：\n$$\n\\{a_1\\} = 0\n$$\n根据问题中给出的单纯形表行，我们有：\n$$\na_1 = \\frac{n}{6}\n$$\n因此，条件变为：\n$$\n\\left\\{\\frac{n}{6}\\right\\} = 0\n$$\n一个数的小数部分为零，当且仅当这个数是一个整数。所以，$\\frac{n}{6}$ 必须是一个整数。我们可以将其写作：\n$$\n\\frac{n}{6} = k, \\quad \\text{其中 } k \\in \\mathbb{Z}\n$$\n这意味着 $n = 6k$。\n\n问题还规定 $n$ 必须是一个正整数。为了使 $n=6k$ 为正，整数 $k$ 也必须是正的，即 $k \\in \\{1, 2, 3, \\dots\\}$。\n我们需要找到满足条件的最小正整数 $n$。这对应于 $k$ 的最小可能值，即 $k=1$。\n当 $k=1$ 时，我们得到：\n$$\nn = 6 \\times 1 = 6\n$$\n因此，能使Gomory割中 $x_1$ 系数为零的最小正整数 $n$ 是6。\n\n为了验证，当 $n=6$ 时，$a_1 = 6/6 = 1$，因此 $\\{a_1\\} = \\{1\\} = 0$。$x_1$ 的系数确实为零。\n其他系数的小数部分为：\n- $\\{\\frac{41}{12}\\} = \\{\\frac{36+5}{12}\\} = \\{3 + \\frac{5}{12}\\} = \\frac{5}{12}$\n- $\\{\\frac{25}{8}\\} = \\{\\frac{24+1}{8}\\} = \\{3 + \\frac{1}{8}\\} = \\frac{1}{8}$\n- $\\{\\frac{17}{10}\\} = \\{\\frac{10+7}{10}\\} = \\{1 + \\frac{7}{10}\\} = \\frac{7}{10}$\n当 $n=6$ 时，生成的Gomory割为 $0 \\cdot x_1 + \\frac{1}{8}x_2 + \\frac{7}{10}x_3 \\ge \\frac{5}{12}$，变量 $x_1$ 的确没有出现。", "answer": "$$\n\\boxed{6}\n$$", "id": "3133750"}, {"introduction": "切割平面法的最终威力在于其能够将线性规划可行域在几何上逐步雕琢成真正的整数凸包。这个进阶练习将引导你完成这一迭代过程，你将通过生成一系列Gomory割平面来系统地排除非整数解，并最终揭示整数可行解空间的确切形状[@problem_id:3133821]。", "problem": "考虑以下纯整数线性规划 (ILP)，其中整数线性规划 (ILP) 是指所有决策变量都必须取整数值，且约束是线性的：\n- 决策变量：$x$, $y$。\n- 目标：最大化 $z = x + y$。\n- 约束条件：\n  - $2x + y \\leq 5$，\n  - $x + 2y \\leq 5$，\n  - $x \\geq 0$，\n  - $y \\geq 0$，\n  - $x, y \\in \\mathbb{Z}$。\n\n处理通过将 $x, y \\in \\mathbb{Z}$ 替换为 $x, y \\in \\mathbb{R}$ 得到的标准线性规划 (LP) 松弛。您的任务是：\n1. 确定 ILP 的整数可行点的凸包，并通过按循环顺序列出其顶点来验证它是一个五边形。\n2. 从目标函数为 $\\max\\{x+y\\}$ 的 LP 松弛的最优基本可行解 (BFS) 开始，生成 Gomory 分数切割。在每一步中：\n   - 识别一个分数 BFS，并写出一个被该 BFS 违反的 Gomory 分数切割，该切割可以从 LP 单纯形表中推导，或者等价地，通过选择非负乘数进行适当的 Chvátal–Gomory 聚合来推导，使得 $(x,y)$ 上的所得系数向量是整数。\n   - 仅用 $(x,y)$ 表示每个切割（消除所有松弛变量）。\n   - 说明您添加的每个切割的 Gomory–Chvátal 秩（定义为从原始系统推导出该不等式所需的 Chvátal–Gomory 轮次的最小数量）。\n3. 继续添加此类切割，直到 LP 松弛与您在第 1 部分中找到的整数包重合，即直到整数包的所有刻面定义不等式都出现。\n4. 设 $r$ 是从原始约束推导出该 ILP 整数包的所有刻面定义不等式所需的 Gomory–Chvátal 轮次的最小数量。给出 $r$ 的值。\n\n您的最终答案必须是单个数字 $r$。不需要单位。如果您的计算产生非整数的中间值，请执行精确的有理数算术，不要四舍五入。最终的 $r$ 必须是精确的。", "solution": "该问题要求使用Gomory割平面法和Gomory-Chvátal秩的概念来分析一个给定的整数线性规划（ILP）问题。\n\n### 步骤 1：确定整数包\n\n首先，我们找出所有满足给定约束的整数点 $(x, y)$。可行整数点集合为 $S = \\{(0,0), (0,1), (0,2), (1,0), (1,1), (1,2), (2,0), (2,1)\\}$。\n这些点的凸包 $conv(S)$ 是一个五边形，其顶点为 $(0,0), (2,0), (2,1), (1,2), (0,2)$。\n该五边形的刻面（facet）定义不等式为：\n1.  $x \\geq 0$\n2.  $y \\geq 0$\n3.  $x \\leq 2$\n4.  $y \\leq 2$\n5.  $x+y \\leq 3$\n整数包 $conv(S)$ 由这五个不等式共同定义。\n\n### 步骤 2：求解LP松弛并生成Gomory割\n\nLP松弛问题的可行域由 $2x+y \\le 5$, $x+2y \\le 5$, $x \\ge 0$, $y \\ge 0$ 定义。最优解出现在约束 $2x+y=5$ 和 $x+2y=5$ 的交点，即 $(x,y) = (5/3, 5/3)$。这是一个非整数解。\n\n为了生成Gomory割，我们引入松弛变量 $s_1 = 5-2x-y \\ge 0$ 和 $s_2 = 5-x-2y \\ge 0$。在最优单纯形表中，基变量 $x, y$ 可以用非基变量 $s_1, s_2$ 表示：\n$x + \\frac{2}{3}s_1 - \\frac{1}{3}s_2 = \\frac{5}{3}$\n$y - \\frac{1}{3}s_1 + \\frac{2}{3}s_2 = \\frac{5}{3}$\n\n我们从第一行（$x$ 的方程）生成一个Gomory割。该行的分数Gomory割公式为：$\\{\\frac{2}{3}\\}s_1 + \\{-\\frac{1}{3}\\}s_2 \\ge \\{\\frac{5}{3}\\}$。\n计算小数部分：$\\{\\frac{2}{3}\\} = \\frac{2}{3}$，$\\{-\\frac{1}{3}\\} = \\frac{2}{3}$，$\\{\\frac{5}{3}\\} = \\frac{2}{3}$。\n得到的割为：$\\frac{2}{3}s_1 + \\frac{2}{3}s_2 \\geq \\frac{2}{3}$，即 $s_1 + s_2 \\geq 1$。\n\n将 $s_1$ 和 $s_2$ 的定义代回，用 $(x,y)$ 表示该割：\n$(5 - 2x - y) + (5 - x - 2y) \\geq 1 \\implies 10 - 3x - 3y \\geq 1 \\implies x+y \\leq 3$。\n我们得到的第一个Gomory割是 $x+y \\leq 3$，这是整数包的一个刻面。\n\n### 步骤 3：计算刻面的Gomory-Chvátal秩\n\nGomory-Chvátal秩为1的不等式可以通过对原始LP约束进行一次非负线性组合并向下取整得到。\n原始约束系统 $P_0$ 为：\n(1) $2x + y \\leq 5$\n(2) $x + 2y \\leq 5$\n(3) $-x \\leq 0$\n(4) $-y \\leq 0$\n\n- **$x+y \\leq 3$ 的秩**：\n将 (1) 和 (2) 分别乘以 $1/3$ 并相加：$\\frac{1}{3}(2x+y) + \\frac{1}{3}(x+2y) \\leq \\frac{5}{3} + \\frac{5}{3} \\implies x+y \\leq \\frac{10}{3}$。\n向下取整得到 $x+y \\leq 3$。因此，该不等式的秩为1。\n\n- **$x \\leq 2$ 的秩**：\n将 (1) 乘以 $1/2$：$\\frac{1}{2}(2x+y) \\leq \\frac{5}{2} \\implies x + \\frac{1}{2}y \\leq 2.5$。\n向下取整得到 $x \\leq 2$。因此，该不等式的秩为1。\n\n- **$y \\leq 2$ 的秩**：\n同理，将 (2) 乘以 $1/2$：$\\frac{1}{2}(x+2y) \\leq \\frac{5}{2} \\implies \\frac{1}{2}x + y \\leq 2.5$。\n向下取整得到 $y \\leq 2$。因此，该不等式的秩也为1。\n\n### 步骤 4：确定问题的Gomory-Chvátal秩\n\n整数包 $conv(S)$ 的所有刻面定义不等式（$x \\le 2, y \\le 2, x+y \\le 3$）要么是原始约束，要么是秩为1的Gomory-Chvátal割。这意味着在第一轮割平面生成后，LP松弛的可行域就已经被收紧为整数包本身。\n因此，从原始约束推导出该ILP整数包的所有刻面定义不等式所需的最小轮次数 $r$ 为1。", "answer": "$$\\boxed{1}$$", "id": "3133821"}]}