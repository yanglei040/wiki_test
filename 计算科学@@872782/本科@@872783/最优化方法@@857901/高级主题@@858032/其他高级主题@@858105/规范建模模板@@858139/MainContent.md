## 引言
在复杂的现代世界中，从[供应链管理](@entry_id:266646)到金融投资，做出最优决策至关重要。运筹学提供了一套强大的数学工具来应对这些挑战，而其核心在于**建模**——将模糊的现实问题转化为清晰、可解的数学形式。然而，对于初学者而言，从一个实际问题描述到建立一个严谨的优化模型之间存在着巨大的鸿沟。如何识别问题的内在结构？如何选择合适的变量和约束？这正是典范建模模板（Canonical Modeling Templates）能够发挥关键作用的地方。本文将系统性地引导您掌握这些核心模板。在“**原理与机制**”一章中，我们将深入剖析[线性规划](@entry_id:138188)、[整数规划](@entry_id:178386)和[网络流](@entry_id:268800)等基本[范式](@entry_id:161181)，揭示其构建模块。接着，在“**应用与跨学科联系**”一章中，您将看到这些理论模板如何被灵活地应用于制造业、物流、技术和金融等多个领域，解决真实世界的问题。最后，通过“**动手实践**”环节，您将有机会亲手构建和解决具体的[优化问题](@entry_id:266749)，巩固所学知识，将理论转化为实践能力。让我们首先进入“原理与机制”的世界，探索这些强大建模工具的基石。

## 原理与机制

本章旨在系统性地介绍一系列在运筹学和优化领域中广泛应用的核心建模[范式](@entry_id:161181)。这些[范式](@entry_id:161181)，或称为“[典范模型](@entry_id:198268)”，是构建复杂[优化问题](@entry_id:266749)的基础模块。正如工程师使用标准组件（如螺栓、梁、电路）来设计复杂系统一样，[优化建模](@entry_id:170993)者也依赖这些经过验证的模板来将现实世界的问题转化为精确的数学语言。掌握这些模板不仅能加快建模速度，更能深化对问题内在结构的理解。

本章将从最基础的[线性规划](@entry_id:138188)模型出发，逐步引入处理[非线性](@entry_id:637147)目标和离散决策的更高级技术，最终探讨网络结构和组合复杂性。每个[范式](@entry_id:161181)都将通过一个或多个具体示例进行阐释，这些示例旨在揭示其核心原理和机制。

### 线性规划：资源分配与[混合问题](@entry_id:634383)的基石

[线性规划](@entry_id:138188) (Linear Programming, LP) 是优化领域的基石，它处理的是在一组线性等式和[不等式约束](@entry_id:176084)下，最大化或最小化一个线性[目标函数](@entry_id:267263)的问题。其优雅之处在于，尽管形式简单，却能捕捉众多现实问题的本质。

#### [资源分配模型](@entry_id:267822)

最经典和直观的[优化问题](@entry_id:266749)之一是**资源分配**。其核心思想是将有限的、可分割的[资源分配](@entry_id:136615)给多个相互竞争的活动，以期获得最大的总收益或产出。每个活动对资源的需求以及其产生的收益都被假定为线性的，即分配加倍，消耗和收益也随之加倍。

一个典型的场景是在计算环境中分配计算资源，例如中央处理器 (CPU) 和内存 (Memory)。[@problem_id:3106526] 假设我们有 $n$ 个任务，每个任务 $i$ 都可以被部分执行。我们用决策变量 $x_i \in [0, 1]$ 表示任务 $i$ 的完成比例。每个任务 $i$ 每完成一个单位，会消耗 $c_i$ 单位的 CPU 和 $m_i$ 单位的内存，并产生 $r_i$ 的[吞吐量](@entry_id:271802)（收益）。如果总的 CPU 和内存容量分别为 $C$ 和 $M$，我们的目标就是确定每个任务的最佳完成比例，以最大化总[吞吐量](@entry_id:271802)。

该问题的数学模型可以清晰地表述如下：

**目标函数**: 最大化总吞吐量
$$
\text{最大化} \quad \sum_{i=1}^n r_i x_i
$$

**约束条件**:
1.  **CPU 容量约束**: 所有任务消耗的 CPU 总量不能超过可用总量。
    $$
    \sum_{i=1}^n c_i x_i \le C
    $$
2.  **内存容量约束**: 所有任务消耗的内存总量不能超过可用总量。
    $$
    \sum_{i=1}^n m_i x_i \le M
    $$
3.  **变量边界**: 每个任务的完成比例必须在 $0$ 和 $1$ 之间。
    $$
    0 \le x_i \le 1 \quad \text{对于所有 } i \in \{1, \dots, n\}
    $$

这个模型完美地体现了线性规划的特点：目标函数是决策变量的[线性组合](@entry_id:154743)，约束条件也是线性的。其可行域是由这些[线性不等式](@entry_id:174297)定义的一个多胞体。由于变量有界，该[可行域](@entry_id:136622)是[紧集](@entry_id:147575)，因此最优解必然存在。这个模型可以推广到任意数量的资源和活动，是生产计划、投资组合初步筛选等众多应用的基础。

#### [混合问题](@entry_id:634383)模型

**[混合问题](@entry_id:634383) (Blending Problem)** 是[资源分配模型](@entry_id:267822)的一个重要变种。它通常涉及将多种原材料混合成一种或多种最终产品，要求产品在满足特定质量指标（如[化学成分](@entry_id:138867)、物理特性）的同时，实现成本最小化或利润最大化。

考虑一个为电动汽车生产电池的制造商 [@problem_id:3106516]。制造商希望通过混合 $n$ 种不同的[正极材料](@entry_id:161536)来制造一种新的电池配方。设决策变量 $x_i$ 为材料 $i$ 在混合物中所占的比例（按质量计）。每种材料 $i$ 都有其自身的能量密度 $e_i$、[循环寿命](@entry_id:275737) $\ell_i$ 和成本 $c_i$。混合模型的关键假设是，最终产品的某些属性是各组分属性的线性加权平均。因此，混合物的能量密度为 $E = \sum_{i=1}^n e_i x_i$，[循环寿命](@entry_id:275737)为 $L = \sum_{i=1}^n \ell_i x_i$，成本为 $C = \sum_{i=1}^n c_i x_i$。

如果市场要求最终电池的能量密度不低于 $E^*$，[循环寿命](@entry_id:275737)不低于 $L^*$，制造商的目标就是找到成本最低的混合方案。

**[目标函数](@entry_id:267263)**: 最小化单位质量成本
$$
\text{最小化} \quad \sum_{i=1}^n c_i x_i
$$

**约束条件**:
1.  **能量密度约束**: 混合物的能量密度必须达到或超过阈值。
    $$
    \sum_{i=1}^n e_i x_i \ge E^*
    $$
2.  **[循环寿命](@entry_id:275737)约束**: 混合物的[循环寿命](@entry_id:275737)必须达到或超过阈值。
    $$
    \sum_{i=1}^n \ell_i x_i \ge L^*
    $$
3.  **比例总和约束**: 所有材料的比例之和必须为 $1$。这是[混合问题](@entry_id:634383)的标志性约束。
    $$
    \sum_{i=1}^n x_i = 1
    $$
4.  **变量边界**: 每个比例必须是非负的，且不大于 $1$。
    $$
    0 \le x_i \le 1 \quad \text{对于所有 } i \in \{1, \dots, n\}
    $$

[混合问题](@entry_id:634383)广泛应用于石油炼制、食品加工、合金制造等行业，其核心在于通过线性组合来精确控制最终产品的属性。

### 在线性框架内处理[非线性](@entry_id:637147)目标

尽管[线性规划](@entry_id:138188)功能强大，但许多现实世界的目标函数并非严格线性。幸运的是，某些特定结构的[非线性](@entry_id:637147)函数可以通过引入辅助变量和额外的[线性约束](@entry_id:636966)来进行“线性化”，从而纳入[线性规划](@entry_id:138188)的框架。

#### 最小化[绝对偏差](@entry_id:265592)（[目标规划](@entry_id:177187)）

在许多建模场景中，我们的目标不是最大化或最小化某个量，而是尽可能地接近一个预设的目标值。例如，在混合咖啡豆时，我们可能希望最终产品的风味[特征向量](@entry_id:151813) $y = (y_1, \dots, y_K)$ 尽可能接近目标风味 $t = (t_1, \dots, t_K)$ [@problem_id:3106594]。一个自然的目标是最小化加权[绝对偏差](@entry_id:265592)之和，即 $\sum_k w_k |y_k - t_k|$。

[绝对值函数](@entry_id:160606) $|z|$ 是[非线性](@entry_id:637147)的，但它是凸的。我们可以利用这一性质进行线性化。对于每一个偏差 $z_k = y_k - t_k$，我们引入两个非负的辅助变量 $d_k^+$ 和 $d_k^-$，分别表示正向偏差和负向偏差。我们用以下等式来定义它们之间的关系：
$$
y_k - t_k = d_k^+ - d_k^-
$$
同时，[绝对偏差](@entry_id:265592)可以表示为：
$$
|y_k - t_k| = d_k^+ + d_k^-
$$
这个关系成立的条件是，在任何最优解中，对于每个 $k$， $d_k^+$ 和 $d_k^-$ 中至少有一个为零。当我们将[目标函数](@entry_id:267263)设定为最小化 $\sum_k w_k (d_k^+ + d_k^-)$ 时，这个条件自然会得到满足。因为如果对于某个 $k$， $d_k^+$ 和 $d_k^-$ 都为正，我们可以同时将它们减去一个小的正数 $\epsilon$，[等式约束](@entry_id:175290) $y_k - t_k = (d_k^+ - \epsilon) - (d_k^- - \epsilon)$ 仍然成立，但目标函数的值会减小 $2 w_k \epsilon$，这与最优性相矛盾。

因此，带[绝对值](@entry_id:147688)偏差最小化的[优化问题](@entry_id:266749)可以转化为以下线性规划：

**目标函数**: 最小化加权偏差之和
$$
\text{最小化} \quad \sum_{k=1}^K w_k (d_k^+ + d_k^-)
$$

**约束条件**:
1.  **偏差定义**: 对于每个风味维度 $k \in \{1, \dots, K\}$：
    $$
    \sum_{i=1}^n a_{ik} x_i - t_k = d_k^+ - d_k^-
    $$
    其中 $x_i$ 是咖啡豆 $i$ 的用量，$a_{ik}$ 是其在维度 $k$ 上的风味得分。
2.  **其他[线性约束](@entry_id:636966)**: 例如总量约束 $\sum x_i = B$、预算约束等。
3.  **变量非负性**: $x_i \ge 0$, $d_k^+ \ge 0$, $d_k^- \ge 0$。

这种技术被称为**[目标规划](@entry_id:177187) (Goal Programming)**，它在质量控制、财务规划和统计回归（如最小一乘回归）等领域有重要应用。

#### 最大化分段线性[凹函数](@entry_id:274100)

另一类重要的[非线性](@entry_id:637147)问题涉及**[边际效用递减](@entry_id:138128)**。例如，在为科学实验分配研究时间时，投入的第一个小时可能产出巨大，但随着时间投入的增加，每增加一小时带来的新发现可能会越来越少 [@problem_id:3106558]。这种现象可以用**[分段线性](@entry_id:201467)[凹函数](@entry_id:274100)**来建模。一个函数 $u(x)$ 是凹的，意味着其斜率（即边际效用）是递减的。

假设实验 $i$ 的[效用函数](@entry_id:137807) $u_i(x_i)$ 由多个线性段组成。第 $k$ 段的长度为 $\Delta_{i,k}$，斜率为 $a_{i,k}$。由于是[凹函数](@entry_id:274100)，我们有 $a_{i,1} \ge a_{i,2} \ge \dots$。我们的目标是最大化总效用 $\sum_i u_i(x_i)$，受限于总时间预算 $\sum_i x_i \le B$。

我们可以将分配给实验 $i$ 的总时间 $x_i$ 分解为分配到每个线性段上的时间 $y_{i,k}$，即 $x_i = \sum_k y_{i,k}$，其中 $0 \le y_{i,k} \le \Delta_{i,k}$。总效用则为 $\sum_i \sum_k a_{i,k} y_{i,k}$。

完整的模型需要确保这些时间段是按顺序“填充”的，即只有当第 $k-1$ 段被完全利用 ($y_{i,k-1} = \Delta_{i,k-1}$) 时，才能开始向第 $k$ 段分配时间 ($y_{i,k} > 0$)。这种[逻辑约束](@entry_id:635151)通常需要整数变量来强制执行（例如，使用特殊有序集 SOS2）。

然而，当目标是**最大化一个[凹函数](@entry_id:274100)**时，存在一个优雅的简化。我们可以忽略这个顺序填充的[逻辑约束](@entry_id:635151)，直接求解以下更简单的线性规划：

**目标函数**: 最大化总效用
$$
\text{最大化} \quad \sum_{i,k} a_{i,k} y_{i,k}
$$

**约束条件**:
1.  **总预算约束**: $\sum_{i,k} y_{i,k} \le B$
2.  **段长度约束**: $0 \le y_{i,k} \le \Delta_{i,k}$ 对所有 $i, k$

这个简化的 LP 问题之所以有效，是因为最大化的目标和[凹函数](@entry_id:274100)的性质（$a_{i,1} \ge a_{i,2} \ge \dots$）共同作用，会自然地优先选择斜率最高的段进行填充。任何一个最优解都会自动满足顺序填充的条件。这个问题本质上是一个**连续背包问题**，可以通过[贪心算法](@entry_id:260925)高效求解：不断将[资源分配](@entry_id:136615)给当前具有最高边际效用（斜率）的可用段。

#### Max-Min 公平性目标

在资源分配中，除了追求总效率，**公平性**也是一个重要的考量。**Max-Min 公平性**是一种常见的公平准则，其目标是最大化分配给所有代理中最少的份额。例如，我们要在 $n$ 个代理之间分配总预算为 $B$ 的资源，目标是让最不幸的那个代理得到的也尽可能多 [@problem_id:3106601]。

这个目标函数 $\text{最大化} \min(x_1, x_2, \dots, x_n)$ 是[非线性](@entry_id:637147)的。同样，我们可以通过引入一个辅助变量 $z$ 来将其线性化。我们让 $z$ 代表所有分配的共同下界，即 $z \le x_i$ 对所有 $i$ 都成立。然后，我们将目标从最大化 $\min_i x_i$ 转变为最大化 $z$。

**[目标函数](@entry_id:267263)**: 最大化公平水平
$$
\text{最大化} \quad z
$$

**约束条件**:
1.  **公平性约束**: 对于每个代理 $i$，其分配额不低于公平水平 $z$。
    $$
    x_i \ge z
    $$
2.  **总预算约束**: $\sum_{i=1}^n x_i \le B$
3.  **其他约束**: 例如个体上限 $x_i \le U_i$。
4.  **变量非负性**: $x_i \ge 0, z \ge 0$。

在最大化 $z$ 的过程中，优化器会不断推高这个共同的“地板”，直到某个其他约束（如总预算或个体上限）限制了它的进一步增长。这个简单的转换将一个复杂的[非线性](@entry_id:637147)目标变成了一个标准的[线性规划](@entry_id:138188)问题，广泛应用于网络带宽分配、公共资源分配等领域。

### 离散选择的力量：整数与[混合整数规划](@entry_id:173755)

当决策不仅涉及“多少”，还涉及“是否”时，我们就进入了[整数规划](@entry_id:178386) (Integer Programming, IP) 和[混合整数规划](@entry_id:173755) (Mixed-Integer Linear Programming, MILP) 的领域。通过引入值为 $0$ 或 $1$ 的**[二元变量](@entry_id:162761) (binary variables)**，我们可以为模型赋予逻辑判断和开关的能力。

#### 分配与调度问题

**调度问题**是 MILP 的一个核心应用领域，它处理的是将资源（如人员、机器）分配给在时间上展开的任务。

以护士排班为例 [@problem_id:3106521]，医院需要为一周内的一系列班次安排护士。我们可以定义一个二元决策变量 $y_{i,t} \in \{0, 1\}$，如果护士 $i$ 被分配到班次 $t$，则 $y_{i,t} = 1$，否则为 $0$。目标可能是最小化由于不满足护士偏好而产生的总惩罚成本，即 $\sum_{i,t} p_{i,t} y_{i,t}$，其中 $p_{i,t}$ 是分配护士 $i$ 到班次 $t$ 的惩罚。

典型的约束包括：
1.  **覆盖约束**: 每个班次 $t$ 都需要至少 $R_t$ 名护士。
    $$
    \sum_{i=1}^N y_{i,t} \ge R_t \quad \text{对于所有班次 } t
    $$
2.  **[逻辑约束](@entry_id:635151)**: 例如，为了保证休息，护士不能连续上两个班次。这个“非此即彼”的逻辑可以用一个简单的[线性不等式](@entry_id:174297)来表达：
    $$
    y_{i,t} + y_{i,t+1} \le 1 \quad \text{对于所有护士 } i \text{ 和相邻班次 } t, t+1
    $$
    这个约束巧妙地禁止了 $y_{i,t}$ 和 $y_{i,t+1}$ 同时为 $1$ 的情况。

这类模型通过[二元变量](@entry_id:162761)将复杂的逻辑规则和组合选择转化为标准的数学约束，是解决人员排班、项目调度、飞机航线规划等问题的有力工具。

#### 固定成本与逻辑关联

[二元变量](@entry_id:162761)最强大的功能之一是模拟**固定成本**和决策之间的逻辑关联。许多决策问题中，选择执行一个活动不仅会产生与活动水平相关的可变成本，还会产生一次性的固定成本（例如，开启一个设施、购买一台设备）。

考虑一个**枢纽与辐射[网络设计](@entry_id:267673)**问题 (hub-and-spoke network design) [@problem_id:3106587]。我们要在多个候选地点中选择一些建立枢纽，然后通过这些枢纽来转运货物。建立一个枢纽 $h$ 会产生固定成本 $F_h$，而通过[网络路由](@entry_id:272982)货物的成本则与流量成正比。

我们引入[二元变量](@entry_id:162761) $z_h \in \{0, 1\}$ 表示是否在地点 $h$ 建立枢纽。同时，我们有连续变量 $f_{ih}$ 和 $f_{hj}$ 表示从供应点 $i$ 到枢纽 $h$ 以及从枢纽 $h$ 到需求点 $j$ 的流量。关键的建模技巧是将二元决策与连续流动联系起来，这通过 **“Big-M”** 方法实现：

**[目标函数](@entry_id:267263)**: 最小化总成本（固定成本 + 路由成本）
$$
\text{最小化} \quad \sum_{h \in H} F_h z_h + \sum_{i,h} c_{ih} f_{ih} + \sum_{h,j} c_{hj} f_{hj}
$$

**约束条件**:
1.  **流量与枢纽激活的关联**: 只有当枢纽 $h$ 被激活 ($z_h = 1$) 时，才能有流量进出该枢纽。这可以通过容量约束来实现：
    $$
    \sum_{i \in I} f_{ih} \le K_h \cdot z_h \quad \text{对于所有枢纽 } h
    $$
    其中 $K_h$ 是枢纽 $h$ 的总处理能力。如果 $z_h = 0$，右侧变为零，迫使所有进入枢纽 $h$ 的流量 $f_{ih}$ 也为零。如果 $z_h = 1$，该约束变为标准的容量限制 $\sum_{i \in I} f_{ih} \le K_h$。这里的 $K_h$ 扮演了 “Big-M” 的角色，它是一个足够大的数，确保在枢纽激活时不会不必要地限制流量。

这个“开关”机制在许多模型中都至关重要。例如，在一个[资本预算](@entry_id:140068)问题中 [@problem_id:3106619]，决策者需要决定是否投资于某个项目 ($z_i=1$)，以及投资多少 ($x_i$)。只有当项目被选中时，投资才有意义。这同样可以用约束 $x_i \le M z_i$ 来建模，其中 $M$ 是该项目的最大可能投资额。

### [网络流模型](@entry_id:637762)

许多[优化问题](@entry_id:266749)天然地存在于网络结构之上，涉及在图的节点和边之间流动或分配实体。[网络流模型](@entry_id:637762)为此提供了一个强大的专用框架。

#### 多商品流问题

在基础的[网络流问题](@entry_id:166966)中，我们通常只考虑一种同质的流。然而，在电信、物流和交通等许多现实系统中，多种不同类型但共享网络资源的“商品”需要同时被路由。这就是**多商品流问题 (Multi-commodity Flow Problem)** [@problem_id:3106590]。

假设一个[有向图](@entry_id:272310) $(V, E)$ 代表一个通信网络，有 $K$ 种不同的[数据流](@entry_id:748201)（商品）。我们用 $f_{ij}^k$ 表示商品 $k$ 在边 $(i, j)$ 上的流量。模型的关键要素是：

1.  **[流量守恒](@entry_id:273629)**: 对于每一种商品 $k$ 和每一个节点 $i$，进入节点的总流量必须等于流出节点的总流量，除非该节点是该商品的源点（有净流出）或汇点（有净流入）。这体现了物理世界中的[守恒定律](@entry_id:269268)。
    $$
    \sum_{j:(i,j) \in E} f_{ij}^k - \sum_{j:(j,i) \in E} f_{ji}^k = b_i^k \quad \text{对所有节点 } i \text{ 和商品 } k
    $$
    其中 $b_i^k$ 是节点 $i$ 对商品 $k$ 的净供给（正值为源，负值为需求）。

2.  **共享容量约束**: 网络中的所有商品流必须共享每条边的有限容量。对于每条边 $(i, j)$，所有商品在该边上的总流量不能超过其容量 $u_{ij}$。
    $$
    \sum_{k=0}^{K-1} f_{ij}^k \le u_{ij} \quad \text{对所有边 } (i, j)
    $$

目标函数可以是最小化总路由成本（例如，与拥塞相关的成本 $\sum_{(i,j)} c_{ij} (\sum_k f_{ij}^k)$）。多商品流模型是设计和分析共享基础设施网络的核心工具。

#### 生产调度中的网络视角

复杂的调度问题，如**[作业车间调度](@entry_id:166517) (Job Shop Scheduling)**，也可以从网络的角度来理解。在这个问题中，一组作业必须按照各自预定的工序路线，在一系列机器上进行加工。目标通常是最小化**完工时间 (makespan)**，即完成所有作业所需的总时间。

[作业车间调度](@entry_id:166517)的核心挑战在于**析取约束 (disjunctive constraints)**：在任何一台机器上，任意两个需要该机器的作业不能同时加工。例如，如果作业 $i$ 和作业 $j$ 都需要在机器 $k$ 上加工，那么要么 $i$ 在 $j$ 之前，要么 $j$ 在 $i$ 之前。

这种“非此即彼”的逻辑可以用 MILP 中的“Big-M”约束和[二元变量](@entry_id:162761)来建模 [@problem_id:3106519]。设 $t_{i,k}$ 是作业 $i$ 在机器 $k$ 上的开始时间，$p_{i,k}$ 是其处理时间。引入[二元变量](@entry_id:162761) $y_{ijk} \in \{0,1\}$，当 $i$ 在 $j$ 之前时为 $1$，否则为 $0$。那么，析取约束可以被分解为两个条件约束：
$$
t_{j,k} \ge t_{i,k} + p_{i,k} - M(1 - y_{ijk})
$$
$$
t_{i,k} \ge t_{j,k} + p_{j,k} - M y_{ijk}
$$
其中 $M$ 是一个足够大的数。如果 $y_{ijk}=1$，第一个约束生效，确保 $j$ 在 $i$ 完成后才能开始；第二个约束则因 $M$ 的存在而变得松弛。反之亦然。

这个问题还可以通过**析取图 (disjunctive graph)** 来可视化。图的节点代表每个作业的每道工序。两种类型的边存在于图中：一种是连接同一作业的连续工序的**合取边 (conjunctive edges)**，代表技术约束；另一种是连接需要在同一台机器上加工的不同作业工序的**析取边 (disjunctive edges)**，代表[资源竞争](@entry_id:191325)。选择一个调度方案，就等同于为每一对析取边选择一个方向。一个合法的调度对应于图的一个无环有向图 (DAG)，而其完工时间等于该 DAG 中从源到汇的最长路径。因此，解决[作业车间调度](@entry_id:166517)问题等价于在所有可能的方向选择中，找到一个使得最长路径最短的方案。这是一个NP-难问题，展示了[优化建模](@entry_id:170993)所能达到的复杂度和[表达能力](@entry_id:149863)。

### 更高级的[范式](@entry_id:161181)：基于模式的组合模型

最后，有些[优化问题](@entry_id:266749)的决策变量不是简单的数值或开关，而是从一个预定义的、复杂的“模式”集合中进行选择。例如，在大学课程表编排中 [@problem_id:3106616]，一门课程的授课时间可能不是任意的，而是必须遵循几种可行的模式（如“周一/周三/周五上午10-11点”或“周二/周四下午2-3:30”）。

在这种**基于模式的建模**中，决策变量 $y_p \in \{0, 1\}$ 表示是否[选择模式](@entry_id:144214) $p$。约束条件通常要求为每个实体（如每门课程）恰好选择一种模式。
$$
\sum_{p \in P_c} y_p = 1 \quad \text{对于每门课程 } c
$$
其中 $P_c$ 是课程 $c$ 的所有可行模式集合。

目标函数则衡量所选模式组合的质量。例如，在排课问题中，目标可能是最小化因两门有共同学生选修的课程被安排在同一时间段而产生的冲突。如果 $S_{ij}$ 是同时选修课程 $i$ 和 $j$ 的学生人数，而模式 $p_i$ 和 $p_j$ 的时间交集为 $T_{p_i, p_j}$，则冲突成本可以表示为 $\sum_{i,j} S_{ij} |T_{p_i, p_j}|$。这个目标函数可能是所选模式变量的二次函数，进一步增加了问题的复杂性。这类问题通常与**集合覆盖 (Set Covering)** 或**二次分配 (Quadratic Assignment)** 问题相关，代表了[组合优化](@entry_id:264983)中更具挑战性的一类问题。

通过本章的学习，我们建立了一个从简单到复杂的[优化建模](@entry_id:170993)工具箱。这些[典范模型](@entry_id:198268)——资源分配、混合、调度、网络流、固定成本设计——是解决实际问题的强大起点。真正的建模艺术在于识别一个新问题的核心结构，并将其与这些基本[范式](@entry_id:161181)中的一个或多个进行匹配、组合和调整。