{"hands_on_practices": [{"introduction": "理论学习的最佳补充是动手实践。本节的第一个练习将直接验证最大流最小割定理的核心。通过在一个具体网络中分别计算最大流值和最小割容量，你将亲眼见证这两个看似不同的量是如何完美相等的，从而深刻理解该定理的对偶性之美。[@problem_id:1408993]", "problem": "考虑一个由有向图表示的小规模数据传输网络。该网络有一个源节点$S$、一个汇节点$T$和四个中间路由节点$A$、$B$、$C$和$D$。有向链接及其对应的最大数据传输容量（以任意流量单位计）如下所示：\n- 从$S$到$A$，容量为10。\n- 从$S$到$C$，容量为12。\n- 从$A$到$B$，容量为7。\n- 从$A$到$D$，容量为4。\n- 从$B$到$T$，容量为10。\n- 从$C$到$D$，容量为9。\n- 从$D$到$B$，容量为3。\n- 从$D$到$T$，容量为8。\n\n所有链接均为指定的单向链接。网络中没有其他链接。目标是确定该网络的吞吐量。\n\n计算从源点$S$到汇点$T$的最大流量值，并计算最小$S-T$割的容量。按指定顺序提供这两个整数值：首先是最大流量值，然后是最小割容量。", "solution": "设 $G=(V,E)$ 为有向图，其中 $S$ 是源点，$T$ 是汇点，$A,B,C,D$ 是中间节点。对于每条有向边 $(u,v)\\in E$，设其容量为 $c_{uv}$，流量为 $f_{uv}$，且满足 $0\\leq f_{uv}\\leq c_{uv}$。流量守恒在中间节点成立：对于每个 $v\\in\\{A,B,C,D\\}$，\n$$\n\\sum_{u:(u,v)\\in E} f_{uv}=\\sum_{w:(v,w)\\in E} f_{vw}.\n$$\n各边容量如下：\n$$\nc_{S,A}=10,\\quad c_{S,C}=12,\\quad c_{A,B}=7,\\quad c_{A,D}=4,\\quad c_{B,T}=10,\\quad c_{C,D}=9,\\quad c_{D,B}=3,\\quad c_{D,T}=8.\n$$\n\n应用 Ford–Fulkerson 方法，使用增广路径和残余容量。\n\n1) 沿路径 $S\\to A\\to B\\to T$ 进行增广。瓶颈容量是\n$$\n\\min\\{c_{S,A},c_{A,B},c_{B,T}\\}=\\min\\{10,7,10\\}=7.\n$$\n发送 7 个单位的流量：设置 $f_{S,A}=7$, $f_{A,B}=7$, $f_{B,T}=7$。\n\n2) 沿路径 $S\\to C\\to D\\to T$ 进行增广。瓶颈容量是\n$$\n\\min\\{c_{S,C},c_{C,D},c_{D,T}\\}=\\min\\{12,9,8\\}=8.\n$$\n发送 8 个单位的流量：设置 $f_{S,C}=8$, $f_{C,D}=8$, $f_{D,T}=8$。\n\n3) 在残余网络中考虑路径 $S\\to A\\to D\\to B\\to T$。这些弧上的当前正向残余容量为\n$$\nr_{S,A}=c_{S,A}-f_{S,A}=10-7=3,\\quad r_{A,D}=c_{A,D}-f_{A,D}=4-0=4,\n$$\n$$\nr_{D,B}=c_{D,B}-f_{D,B}=3-0=3,\\quad r_{B,T}=c_{B,T}-f_{B,T}=10-7=3.\n$$\n瓶颈容量是 $\\min\\{3,4,3,3\\}=3$。沿此路径增广 3 个单位的流量：更新\n$$\nf_{S,A}=7+3=10,\\quad f_{A,D}=0+3=3,\\quad f_{D,B}=0+3=3,\\quad f_{B,T}=7+3=10.\n$$\n\n在这些增广之后，计算总流量值。在汇点处，\n$$\n|f|=f_{B,T}+f_{D,T}=10+8=18.\n$$\n或者，在源点处，\n$$\n|f|=f_{S,A}+f_{S,C}=10+8=18.\n$$\n\n验证不存在更多增广路径。在残余图中，从 $S$ 出发可达的节点集合为 $S^*=\\{S,A,C,D\\}$。这是通过在最终的残余图中进行图搜索确定的。\n因此，最小割是将顶点集划分为 $S^*=\\{S,A,C,D\\}$ 和 $T^*=V \\setminus S^*=\\{B,T\\}$。\n\n割 $(S^*, T^*)$ 的容量是从 $S^*$ 到 $T^*$ 的边的容量之和：\n$$\nc(S^*, T^*) = c(A,B) + c(D,B) + c(D,T) = 7 + 3 + 8 = 18.\n$$\n根据最大流最小割定理，最大流量等于最小割容量，这与我们构造的流量值相匹配。因此，最大 $S$–$T$ 流量为 18，最小割容量为 18。", "answer": "$$\\boxed{\\begin{pmatrix} 18 & 18 \\end{pmatrix}}$$", "id": "1408993"}, {"introduction": "掌握了定理的基本原理后，让我们将其应用于一个更具现实背景的场景。这个问题模拟了大学校园网络的数据传输，要求你确定其最大吞吐量。在解决这类问题时，最小割的概念不仅是理论上的界限，更是一种强大的启发式工具，帮助我们快速定位网络的“瓶颈”所在。[@problem_id:1408954]", "problem": "一所大学的校园网络旨在处理其主要建筑之间的大量数据流量。该网络由一个中央服务器机房 (S)、一个图书馆 (L)、工程学院 (E)、物理楼 (P)、一个中央网络枢纽 (H) 和研究超级计算机中心 (T) 组成。数据流沿着具有特定最大带宽的光纤电缆进行定向传输。连接及其对应的最大带宽如下：\n- 从服务器机房 (S) 到图书馆 (L)：10 Gbps\n- 从服务器机房 (S) 到工程学院 (E)：8 Gbps\n- 从图书馆 (L) 到工程学院 (E)：4 Gbps\n- 从图书馆 (L) 到物理楼 (P)：5 Gbps\n- 从工程学院 (E) 到网络枢纽 (H)：9 Gbps\n- 从物理楼 (P) 到超级计算机 (T)：7 Gbps\n- 从网络枢纽 (H) 到物理楼 (P)：3 Gbps\n- 从网络枢纽 (H) 到超级计算机 (T)：6 Gbps\n\n假设数据流可以被分割并沿任何可用路径进行路由，从服务器机房 (S) 到超级计算机 (T) 的最大可持续数据传输速率是多少？请以 Gbps 为单位，用一个数字表示你的答案。", "solution": "将网络建模为一个有向容量图，其中源点为 $S$，汇点为 $T$，各边的容量如题所述。根据最大流最小割定理，最大流等于最小割的容量。\n\n我们尝试寻找一个 $S-T$ 割来为最大流提供一个上界。考虑将网络划分为两个集合 $S_{set} = \\{S, L, E, H\\}$ 和 $T_{set} = \\{P, T\\}$。这是一个有效的 $S-T$ 割，因为 $S \\in S_{set}$ 且 $T \\in T_{set}$。\n穿过这个割的边（从 $S_{set}$ 到 $T_{set}$）是：\n- $L \\to P$，容量为 5 Gbps。\n- $H \\to P$，容量为 3 Gbps。\n- $H \\to T$，容量为 6 Gbps。\n这个割的容量是 $5 + 3 + 6 = 14$ Gbps。\n\n再考虑另一个割，其汇点侧仅包含汇点 $T$ 本身：$S_{set} = \\{S, L, E, P, H\\}$，$T_{set} = \\{T\\}$。\n穿过这个割的边是：\n- $P \\to T$，容量为 7 Gbps。\n- $H \\to T$，容量为 6 Gbps。\n这个割的容量是 $7 + 6 = 13$ Gbps。\n由于最大流不能超过任何割的容量，我们知道最大流 $\\le 13$ Gbps。\n\n为了证明最大流确实是 13 Gbps，我们需要构造一个值为 13 的可行流。\n我们尝试饱和构成上述最小割的边，即 $f_{PT} = 7$ 和 $f_{HT} = 6$。\n1.  要使 $f_{PT} = 7$，节点 $P$ 必须有 7 单位的流入。$P$ 的输入来自 $L$ 和 $H$。我们可以设置 $f_{LP} = 4$ 和 $f_{HP} = 3$。这满足了容量 $c_{LP}=5$ 和 $c_{HP}=3$。\n2.  要使 $f_{HT} = 6$，加上 $f_{HP} = 3$，节点 $H$ 必须有 $6+3=9$ 单位的流入。$H$ 的唯一输入来自 $E$，其容量为 $c_{EH}=9$。因此我们设置 $f_{EH}=9$。\n3.  要使 $f_{EH}=9$，节点 $E$ 必须有 9 单位的流入。$E$ 的输入来自 $S$ 和 $L$。我们可以设置 $f_{SE} = 5$ 和 $f_{LE} = 4$。这满足了容量 $c_{SE}=8$ 和 $c_{LE}=4$。\n4.  节点 $L$ 的流出为 $f_{LE}=4$ 和 $f_{LP}=4$，总共 8 单位。因此，流入 $L$ 的流量必须为 8。我们可以设置 $f_{SL}=8$，这满足了容量 $c_{SL}=10$。\n5.  最后，从源点 $S$ 流出的总流量为 $f_{SL} + f_{SE} = 8 + 5 = 13$。\n\n我们已经构建了一个所有流量均在容量限制内且满足流量守恒的可行流，其值为 13。\n由于我们找到了一个值为13的流和一个容量为13的割，根据最大流最小割定理，从 $S$ 到 $T$ 的最大可持续数据传输速率是 13 Gbps。", "answer": "$$\\boxed{13}$$", "id": "1408954"}, {"introduction": "真实世界的网络系统是动态变化的，工程师常常需要评估局部改动对系统整体性能的影响。这个练习就模拟了这样一种情景：对网络中的一条边进行容量升级。通过计算升级后的最大流，你将学会分析局部优化是否能有效提升全局性能，这对于理解瓶颈的转移和制定有效的升级策略至关重要。[@problem_id:1408934]", "problem": "考虑一个从源节点 $S$ 到汇节点 $T$ 传输数据的有向网络。该网络由一组节点 $V = \\{S, A, B, C, D, T\\}$ 和一组具有指定整数容量的有向边组成，这些容量表示以单位/秒为单位的最大数据流速率。边及其对应的容量 $c(u, v)$ 如下所示：\n- $c(S, A) = 10$\n- $c(S, B) = 8$\n- $c(A, C) = 5$\n- $c(A, D) = 6$\n- $c(B, C) = 4$\n- $c(B, D) = 5$\n- $c(C, T) = 9$\n- $c(D, T) = 7$\n\n所有其他节点对之间没有直接的边。假设进行了一次系统升级，将从节点 $D$ 到节点 $T$ 的单条边的容量增加了 1 个单位，而所有其他容量保持不变。\n\n计算升级后网络中从源节点 $S$ 到汇节点 $T$ 的新的最大流。", "solution": "设升级后边 $D \\to T$ 的容量为 $c'(D,T) = 7 + 1 = 8$，所有其他容量保持不变。\n\n根据最大流最小割定理，最大 $S-T$ 流等于最小 $S-T$ 割的容量。\n首先，我们寻找一个割来为最大流提供一个上界。考虑一个将所有中间节点都放在源点侧的割，即 $S_{set} = \\{S,A,B,C,D\\}$ 和 $T_{set} = \\{T\\}$。\n这个割的容量是所有从 $S_{set}$ 指向 $T_{set}$ 的边的容量之和：\n$$\n\\text{cap}(S_{set}, T_{set}) = c(C,T) + c'(D,T) = 9 + 8 = 17.\n$$\n这表明网络的最大流不会超过 17。\n\n为了证明最大流确实是 17，我们构造一个值为 17 的可行流 $f$。\n1.  我们希望饱和所有进入汇点 $T$ 的边，即 $f(C,T)=9$ 和 $f(D,T)=8$。\n2.  为了满足 $f(C,T)=9$，节点 $C$ 必须有 9 单位的流入。$C$ 的输入来自 $A$ 和 $B$。我们可以设置 $f(A,C)=5$ 和 $f(B,C)=4$，这饱和了这两条边并满足 $5+4=9$。\n3.  为了满足 $f(D,T)=8$，节点 $D$ 必须有 8 单位的流入。$D$ 的输入来自 $A$ 和 $B$。我们可以设置 $f(A,D)=4$ 和 $f(B,D)=4$。这满足了容量 $c(A,D)=6$ 和 $c(B,D)=5$。\n4.  现在，我们检查源点侧的流守恒：\n    - 在节点 $A$：流出为 $f(A,C)+f(A,D)=5+4=9$。因此，流入必须为 9。我们设置 $f(S,A)=9$，这在容量 $c(S,A)=10$ 之内。\n    - 在节点 $B$：流出为 $f(B,C)+f(B,D)=4+4=8$。因此，流入必须为 8。我们设置 $f(S,B)=8$，这饱和了边 $S \\to B$。\n5.  所有流量分配都满足容量约束和中间节点的流量守恒。\n6.  从源点 $S$ 流出的总流量为 $|f|=f(S,A)+f(S,B)=9+8=17$。\n\n由于我们找到了一个值为 17 的可行流，并且我们知道最大流不能超过 17（由我们找到的割的容量所限），因此新的最大流恰好为 17。", "answer": "$$\\boxed{17}$$", "id": "1408934"}]}