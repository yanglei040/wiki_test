{"hands_on_practices": [{"introduction": "在深入研究复杂的深度学习模型之前，掌握基本的数据预处理技术至关重要。此练习将引导您手动完成最小-最大缩放（min-max scaling）的计算，这是一种将特征值重新调整到特定区间的常用方法。通过亲手计算，您将能更好地理解该缩放公式的内部工作原理及其对数据产生的影响。[@problem_id:1425867]", "problem": "在一个系统生物学实验中，一种特定蛋白质的丰度在受到刺激后的五个连续时间点上被测量。记录的丰度值（以任意荧光单位表示）被收集到一个向量 $x = [5, 10, 20, 25, 90]$ 中。在将此数据整合到一个更大的计算模型之前，需要对其进行归一化。你的任务是执行最小-最大缩放（min-max scaling），将数据转换到 $[-1, 1]$ 的标准化范围内。\n\n将原始数据集中的数据点 $x_i$（其最小值为 $x_{\\min}$，最大值为 $x_{\\max}$）进行最小-最大缩放至新范围 $[a, b]$ 的通用公式是：\n\n$$x'_{i} = a + \\frac{(x_i - x_{\\min})(b - a)}{x_{\\max} - x_{\\min}}$$\n\n计算包含缩放后丰度值的新向量 $x'$。将你的答案表示为一个包含五个精确分数的行向量。", "solution": "给定数据向量 $x=[5, 10, 20, 25, 90]$，要求应用最小-最大缩放将其转换到范围 $[-1, 1]$。最小-最大缩放公式为\n$$\nx'_{i} = a + \\frac{(x_i - x_{\\min})(b - a)}{x_{\\max} - x_{\\min}},\n$$\n其中 $a=-1$, $b=1$, $x_{\\min}=5$ 且 $x_{\\max}=90$。将这些值代入公式得到\n$$\nx'_{i} = -1 + \\frac{(x_i - 5)(1 - (-1))}{90 - 5} = -1 + \\frac{2(x_i - 5)}{85}.\n$$\n现在我们精确计算每个缩放后的值：\n- 对于 $x_{1}=5$：$x'_{1} = -1 + \\frac{2(5-5)}{85} = -1 + 0 = \\frac{-1}{1}$。\n- 对于 $x_{2}=10$：$x'_{2} = -1 + \\frac{2(10-5)}{85} = -1 + \\frac{10}{85} = -1 + \\frac{2}{17} = \\frac{-15}{17}$。\n- 对于 $x_{3}=20$：$x'_{3} = -1 + \\frac{2(20-5)}{85} = -1 + \\frac{30}{85} = -1 + \\frac{6}{17} = \\frac{-11}{17}$。\n- 对于 $x_{4}=25$：$x'_{4} = -1 + \\frac{2(25-5)}{85} = -1 + \\frac{40}{85} = -1 + \\frac{8}{17} = \\frac{-9}{17}$。\n- 对于 $x_{5}=90$：$x'_{5} = -1 + \\frac{2(90-5)}{85} = -1 + \\frac{170}{85} = -1 + 2 = \\frac{1}{1}$。\n\n因此，以精确分数表示的缩放后向量为\n$$\n\\begin{pmatrix}\n\\frac{-1}{1}  \\frac{-15}{17}  \\frac{-11}{17}  \\frac{-9}{17}  \\frac{1}{1}\n\\end{pmatrix}.\n$$", "answer": "$$\\boxed{\\begin{pmatrix}\\frac{-1}{1}  \\frac{-15}{17}  \\frac{-11}{17}  \\frac{-9}{17}  \\frac{1}{1}\\end{pmatrix}}$$", "id": "1425867"}, {"introduction": "数据缩放并非“一招鲜吃遍天”，选择合适的缩放方法对于模型的性能至关重要。本练习将通过一个包含极端异常值的数据集，直观地对比标准缩放器（基于均值和标准差）与稳健缩放器（基于中位数和四分位距）的效果。这有助于您理解为何在处理现实世界中不完美的数据时，对异常值不敏感的稳健方法往往是更明智的选择。[@problem_id:1425850]", "problem": "一位系统生物学专业的学生正在分析某个特定基因 `Gene-Y` 在七个不同细胞培养样本中的表达数据。测量得到的表达水平（以任意单位计）记录如下：\n`[22.5, 25.0, 24.1, 150.0, 26.2, 23.3, 22.8]`\n该学生观察到，与其余数据相比，测量值 `150.0` 是一个极端离群值。为了量化这个离群值对数据归一化的影响，该学生将使用两种不同的方法对数据点 `x = 26.2` 进行归一化：标准缩放和稳健缩放。\n\n**方法1：标准缩放**\n标准化值 $z_{std}$ 使用以下公式计算：\n$$z_{std} = \\frac{x - \\mu}{\\sigma}$$\n其中 $x$ 是要归一化的数据点，$\\mu$ 是整个数据集的算术平均值，$\\sigma$ 是样本标准差。对于一个包含 $N$ 个数据点的数据集，样本标准差定义为 $\\sigma = \\sqrt{\\frac{1}{N-1}\\sum_{i=1}^{N}(x_i - \\mu)^2}$。\n\n**方法2：稳健缩放**\n稳健缩放值 $z_{rob}$ 使用以下公式计算：\n$$z_{rob} = \\frac{x - \\text{median}}{ \\text{IQR}}$$\n其中 $x$ 是数据点，中位数 (median) 是排序后数据集的中间值，而四分位距 (IQR) 是第三四分位数 ($Q_3$) 与第一四分位数 ($Q_1$) 之差。对于本题，您必须使用以下方法计算四分位数：对数据集进行排序，找到整体中位数，然后将 $Q_1$ 定义为严格小于整体中位数的数据点的中位数，将 $Q_3$ 定义为严格大于整体中位数的数据点的中位数。\n\n您的任务是计算数据点 $x = 26.2$ 的 $z_{std}$ 和 $z_{rob}$ 的值。以一对值的形式给出您的答案，其中 $z_{std}$ 在前，$z_{rob}$ 在后。最终答案中的两个值都应四舍五入到三位有效数字。", "solution": "我们有数据集 $N=7$：$[22.5, 25.0, 24.1, 150.0, 26.2, 23.3, 22.8]$ 和目标点 $x=26.2$。\n\n对于标准缩放，计算算术平均值 $\\mu$ 和样本标准差 $\\sigma$。平均值为\n$$\n\\mu=\\frac{1}{7}\\sum_{i=1}^{7}x_{i}=\\frac{293.9}{7}=\\frac{2939}{70}.\n$$\n使用 $\\sigma=\\sqrt{\\frac{1}{N-1}\\sum_{i=1}^{N}(x_{i}-\\mu)^{2}}$，其中 $N-1=6$，首先以精确分数的形式计算偏差：\n$$\n\\begin{aligned}\n22.5-\\mu=\\frac{1575}{70}-\\frac{2939}{70}=-\\frac{1364}{70}=-\\frac{682}{35},\\\\\n25.0-\\mu=\\frac{1750}{70}-\\frac{2939}{70}=-\\frac{1189}{70},\\\\\n24.1-\\mu=\\frac{1687}{70}-\\frac{2939}{70}=-\\frac{626}{35},\\\\\n150.0-\\mu=\\frac{10500}{70}-\\frac{2939}{70}=\\frac{7561}{70},\\\\\n26.2-\\mu=\\frac{1834}{70}-\\frac{2939}{70}=-\\frac{1105}{70}=-\\frac{221}{14},\\\\\n23.3-\\mu=\\frac{1631}{70}-\\frac{2939}{70}=-\\frac{1308}{70}=-\\frac{654}{35},\\\\\n22.8-\\mu=\\frac{1596}{70}-\\frac{2939}{70}=-\\frac{1343}{70}.\n\\end{aligned}\n$$\n平方并求和：\n$$\n\\sum_{i=1}^{7}(x_{i}-\\mu)^{2}=\\frac{465124}{1225}+\\frac{1413721}{4900}+\\frac{391876}{1225}+\\frac{57168721}{4900}+\\frac{48841}{196}+\\frac{427716}{1225}+\\frac{1803649}{4900}.\n$$\n将所有项通分到分母 $4900$ 并对分子求和，得到\n$$\n\\sum_{i=1}^{7}(x_{i}-\\mu)^{2}=\\frac{66745980}{4900}=\\frac{476757}{35}.\n$$\n因此，样本方差和标准差为\n$$\n\\sigma^{2}=\\frac{1}{6}\\cdot\\frac{476757}{35}=\\frac{476757}{210}=\\frac{158919}{70},\\qquad \\sigma=\\sqrt{\\frac{158919}{70}}.\n$$\n因此，对于 $x=26.2$，\n$$\nz_{std}=\\frac{x-\\mu}{\\sigma}=\\frac{-\\frac{221}{14}}{\\sqrt{\\frac{158919}{70}}}=-\\frac{221}{14}\\sqrt{\\frac{70}{158919}}\\approx -0.3313024.\n$$\n\n对于稳健缩放，对数据进行排序：$[22.5, 22.8, 23.3, 24.1, 25.0, 26.2, 150.0]$。整体中位数是第四个值：$\\text{median}=24.1$。使用指定的四分位数方法，严格小于中位数的下半部分数据为 $[22.5, 22.8, 23.3]$，因此 $Q_{1}=22.8$；严格大于中位数的上半部分数据为 $[25.0, 26.2, 150.0]$，因此 $Q_{3}=26.2$。因此\n$$\n\\text{IQR}=Q_{3}-Q_{1}=26.2-22.8=3.4,\n$$\n并且\n$$\nz_{rob}=\\frac{x-\\text{median}}{\\text{IQR}}=\\frac{26.2-24.1}{3.4}=\\frac{2.1}{3.4}\\approx 0.61764706.\n$$\n\n将两个值都四舍五入到三位有效数字，得到 $z_{std}\\approx -0.331$ 和 $z_{rob}\\approx 0.618$。", "answer": "$$\\boxed{\\begin{pmatrix}-0.331 & 0.618\\end{pmatrix}}$$", "id": "1425850"}, {"introduction": "在机器学习实践中，一些看似无害的操作可能会引入严重的逻辑谬误，例如数据泄漏。本练习是一个思想实验，旨在揭示在验证阶段不当使用标签信息进行“按类别归一化”（per-class normalization）的危害。通过分析这个假设情景，您将学会识别并避免这种会导致模型评估结果过于乐观的常见陷阱，从而建立起严谨的科学评估思维。[@problem_id:3111750]", "problem": "定义一个二元分类任务，其标签为 $y \\in \\{0,1\\}$，特征为单个实值 $x \\in \\mathbb{R}$。该数据集是不平衡的，类别先验概率为 $p(y=0)=0.9$ 和 $p(y=1)=0.1$。原始特征的类别条件分布为\n$$\nx \\mid y=0 \\sim \\mathcal{N}(10, 25), \\quad x \\mid y=1 \\sim \\mathcal{N}(10, 1).\n$$\n在训练和验证一个符合 Bayes 决策规则的分类器之前，考虑两种预处理流水线。\n\n- 流水线 $\\mathrm{G}$ (全局归一化)：计算所有训练样本（不区分类别）的全局训练均值 $\\mu_{\\mathrm{train}}$ 和标准差 $\\sigma_{\\mathrm{train}}$，并通过 $z=(x-\\mu_{\\mathrm{train}})/\\sigma_{\\mathrm{train}}$ 对每个样本进行变换。此变换仅在训练集上拟合，并应用于验证集，不使用验证集标签。\n\n- 流水线 $\\mathrm{PC}$ (带标签的按类别单位方差缩放)：对于每个类别 $c \\in \\{0,1\\}$，从训练集中估计特定类别的标准差 $\\sigma_c$。在验证时，通过 $z=x/\\sigma_y$ 变换每个样本，即除以样本真实验证标签 $y$ 对应的标准差。此变换需要验证集标签来选择应用哪个 $\\sigma_c$。\n\n假设数据无限，并且分类器在其给定的空间中（即，对于流水线 $\\mathrm{G}$ 是在 $x$ 空间，对于流水线 $\\mathrm{PC}$ 是在 $z$ 空间）实现 Bayes 决策规则。在这种情况下，以下哪些陈述是正确的？\n\nA. 使用流水线 $\\mathrm{PC}$ 会在验证时泄露标签信息，因为变换依赖于真实标签 $y$，并且它可能将验证准确率夸大到远高于多数类基线。\n\nB. 使用流水线 $\\mathrm{G}$ 不会泄露验证集标签，并且对于给定的类别条件分布和先验概率，Bayes 最优验证准确率不能超过 $0.9$ 的多数类基线。\n\nC. 如果在验证时使用真实标签执行按类别标准化 $z=(x-\\mu_y)/\\sigma_y$（其中 $\\mu_0=10, \\sigma_1=10$ 且 $\\sigma_0=5, \\sigma_1=1$），而不是仅除以 $\\sigma_y$，这会在预处理步骤中泄露标签信息，但在这种特定的数据配置下，它不会夸大验证准确率，因为两个类别条件的 $z$ 分布变得相同。\n\nD. 在不平衡数据集中，应在验证时使用真实标签应用按类别归一化，因为它总能提高泛化能力。\n\nE. 为避免信息泄露，归一化参数应在训练集上计算，在验证时不依赖标签，并且应将相同的固定变换应用于验证集和测试集数据，而不查看它们的标签。", "solution": "用户提供了一个关于二元分类任务的问题陈述，并要求评估关于两种不同数据预处理流水线的五个陈述的真实性。\n\n### 问题验证\n\n**第 1 步：提取已知信息**\n-   二元分类任务，标签 $y \\in \\{0, 1\\}$。\n-   单个实值特征 $x \\in \\mathbb{R}$。\n-   类别先验概率为 $p(y=0)=0.9$ 和 $p(y=1)=0.1$。\n-   类别条件分布为：\n    -   $x \\mid y=0 \\sim \\mathcal{N}(10, 25)$，即均值 $\\mu_0=10$，方差 $\\sigma_0^2=25$。\n    -   $x \\mid y=1 \\sim \\mathcal{N}(10, 1)$，即均值 $\\mu_1=10$，方差 $\\sigma_1^2=1$。\n-   流水线 G (全局归一化)：变换为 $z=(x-\\mu_{\\mathrm{train}})/\\sigma_{\\mathrm{train}}$，其中 $\\mu_{\\mathrm{train}}$ 和 $\\sigma_{\\mathrm{train}}$ 是训练数据的全局均值和标准差。该变换仅在训练集上拟合，并应用于验证集，不使用验证集标签。\n-   流水线 PC (按类别单位方差缩放)：变换为 $z=x/\\sigma_y$，其中 $\\sigma_y$ 是样本真实类别 $y$ 的标准差。该变换需要访问验证集标签。\n-   假设：数据集大小无限，这意味着样本统计量（如均值和标准差）等于其真实的总体值。\n-   假设：分类器在其操作的特征空间中实现 Bayes 决策规则。\n\n**第 2 步：使用提取的已知信息进行验证**\n-   **科学依据**：该问题在 Bayes 决策理论、概率论和标准机器学习实践方面有充分的理论依据。使用正态分布是标准做法。\n-   **适定性**：问题定义清晰。“无限数据”的假设简化了统计参数的计算，使问题具有确定性且可解。问题要求评估特定陈述，这是一个适定的任务。\n-   **客观性**：问题以精确的数学和技术语言陈述，没有主观性。\n-   问题设置没有违反任何无效性标准。流水线 PC 中描述的有争议的做法是测试内容的一部分，而不是问题陈述本身的缺陷。\n\n**第 3 步：结论与行动**\n问题陈述是**有效的**。将推导完整的解决方案。\n\n### 推导与分析\n\n首先，我们分析 Bayes 最优分类器在原始、未变换的特征 $x$ 上的性能。Bayes 决策规则是预测能使后验概率 $p(y=k|x)$ 最大化的类别 $k$。这等价于最大化联合概率 $p(x,y=k) = p(x|y=k)p(y=k)$。\n\n我们已知：\n-   $p(y=0)=0.9$ 和 $p(y=1)=0.1$。\n-   $p(x|y=0) = \\frac{1}{\\sqrt{2\\pi \\cdot 25}} \\exp\\left(-\\frac{(x-10)^2}{50}\\right)$。\n-   $p(x|y=1) = \\frac{1}{\\sqrt{2\\pi \\cdot 1}} \\exp\\left(-\\frac{(x-10)^2}{2}\\right)$。\n\n如果 $p(x|y=1)p(y=1) > p(x|y=0)p(y=0)$，分类器将预测 $y=1$。我们来评估这个不等式：\n$$\n\\frac{1}{\\sqrt{2\\pi}} \\exp\\left(-\\frac{(x-10)^2}{2}\\right) \\cdot 0.1 > \\frac{1}{5\\sqrt{2\\pi}} \\exp\\left(-\\frac{(x-10)^2}{50}\\right) \\cdot 0.9\n$$\n$$\n0.1 \\cdot \\exp\\left(-\\frac{(x-10)^2}{2}\\right) > 0.18 \\cdot \\exp\\left(-\\frac{(x-10)^2}{50}\\right)\n$$\n两边同时除以右侧的指数项（该项恒为正）：\n$$\n\\frac{0.1}{0.18} > \\exp\\left(\\frac{(x-10)^2}{2} - \\frac{(x-10)^2}{50}\\right)\n$$\n$$\n\\frac{1}{1.8} > \\exp\\left((x-10)^2 \\left(\\frac{25-1}{50}\\right)\\right)\n$$\n$$\n\\frac{1}{1.8} > \\exp\\left(\\frac{12(x-10)^2}{25}\\right)\n$$\n指数函数的参数 $\\frac{12(x-10)^2}{25}$ 总是非负的。这意味着指数项 $\\exp\\left(\\frac{12(x-10)^2}{25}\\right)$ 总是大于或等于 $1$。然而，不等式的左边是 $\\frac{1}{1.8} < 1$。因此，该不等式永远不会成立。\n\n这意味着对于任何 $x$ 值，都有 $p(x, y=1) < p(x, y=0)$。因此，Bayes 最优分类器将总是预测 $y=0$。\n该分类器的准确率是正确预测类别标签的概率。由于它总是预测 $y=0$：\n$$\n\\text{准确率} = p(\\text{预测 } 0, y=0) + p(\\text{预测 } 1, y=1) = p(\\text{预测 } 0|y=0)p(y=0) + p(\\text{预测 } 1|y=1)p(y=1)\n$$\n$$\n\\text{准确率} = 1 \\cdot p(y=0) + 0 \\cdot p(y=1) = 0.9\n$$\n准确率为 $0.9$，也就是多数类基线。\n\n### 选项评估\n\n**A. 使用流水线 PC 会在验证时泄露标签信息，因为变换依赖于真实标签 $y$，并且它可能将验证准确率夸大到远高于多数类基线。**\n\n流水线 PC 使用变换 $z=x/\\sigma_y$。在验证时，对于一个样本 $(x_{\\text{val}}, y_{\\text{val}})$，应用的变换是 $z_{\\text{val}} = x_{\\text{val}}/\\sigma_{y_{\\text{val}}}$。标准差（$\\sigma_0=5$ 或 $\\sigma_1=1$）的选择取决于真实的验证集标签 $y_{\\text{val}}$。这是一种数据泄露，因为来自验证集标签的信息被用在了特征准备步骤中。\n\n我们来分析其对分布的影响。\n-   如果 $y=0$，$x \\sim \\mathcal{N}(10, 25)$。变换为 $z=x/\\sigma_0 = x/5$。得到的 $z$ 的分布是 $\\mathcal{N}(10/5, 25/5^2) = \\mathcal{N}(2, 1)$。\n-   如果 $y=1$，$x \\sim \\mathcal{N}(10, 1)$。变换为 $z=x/\\sigma_1 = x/1$。得到的 $z$ 的分布是 $\\mathcal{N}(10, 1)$。\n\n分类器现在面临的问题是区分 $z|y=0 \\sim \\mathcal{N}(2, 1)$ 和 $z|y=1 \\sim \\mathcal{N}(10, 1)$。这两个分布是高度可分的。Bayes 最优分类器将为 $z$ 设定一个决策边界，并能达到很高的准确率。准确率将约为 $p(y=0) \\cdot \\Phi(z^*-2) + p(y=1) \\cdot (1-\\Phi(z^*-10))$，其中 $z^*$ 是决策边界。由于均值（$2$ 和 $10$）相对于标准差（$1$）相距很远，两个 $\\Phi(\\cdot)$ 项都将非常接近 $1$。因此，准确率将接近 $0.9 \\cdot 1 + 0.1 \\cdot 1 = 1.0$。这比真实世界性能估计和 $0.9$ 的基线有显著的夸大。\n\n因此，该陈述是**正确的**。\n\n**B. 使用流水线 G 不会泄露验证集标签，并且对于给定的类别条件分布和先验概率，Bayes 最优验证准确率不能超过 $0.9$ 的多数类基线。**\n\n流水线 G 使用 $z=(x-\\mu_{\\mathrm{train}})/\\sigma_{\\mathrm{train}}$。参数仅在训练数据上计算。在数据无限的情况下，我们使用混合分布 $p(x) = p(x|y=0)p(y=0) + p(x|y=1)p(y=1)$ 的真实总体参数。\n-   全局均值 $\\mu = E[X] = E[X|Y=0]p(Y=0) + E[X|Y=1]p(Y=1) = 10 \\cdot 0.9 + 10 \\cdot 0.1 = 10$。\n-   全局方差 $\\sigma^2 = E[X^2] - \\mu^2$。\n    $E[X^2|Y=c] = \\sigma_c^2 + \\mu_c^2$。\n    $E[X^2] = E[X^2|Y=0]p(Y=0) + E[X^2|Y=1]p(Y=1) = (25+10^2) \\cdot 0.9 + (1+10^2) \\cdot 0.1 = 125 \\cdot 0.9 + 101 \\cdot 0.1 = 112.5 + 10.1 = 122.6$。\n    $\\sigma^2 = 122.6 - 10^2 = 22.6$。所以 $\\sigma = \\sqrt{22.6}$。\n\n变换是 $z=(x-10)/\\sqrt{22.6}$。这是一个应用于所有样本的固定仿射变换，与其标签无关。因此，它不会泄露验证集标签。\n该变换将分布映射如下：\n-   $x|y=0 \\sim \\mathcal{N}(10, 25) \\implies z|y=0 \\sim \\mathcal{N}(0, 25/22.6)$。\n-   $x|y=1 \\sim \\mathcal{N}(10, 1) \\implies z|y=1 \\sim \\mathcal{N}(0, 1/22.6)$。\n在 $z$ 空间中的问题是区分两个具有相同均值（$0$）但不同方差的正态分布。这在结构上与原始 $x$ 空间中的问题相同。一个可逆的仿射变换不会改变 Bayes 分类器对类别的可分性。与初始推导中完全相同的逻辑适用：Bayes 最优分类器将总是预测多数类 $y=0$，并达到 $0.9$ 的准确率。准确率不超过多数类基线。\n\n因此，该陈述是**正确的**。\n\n**C. 如果在验证时使用真实标签执行按类别标准化 $z=(x-\\mu_y)/\\sigma_y$（其中 $\\mu_0=10, \\sigma_1=10$ 且 $\\sigma_0=5, \\sigma_1=1$），而不是仅除以 $\\sigma_y$，这会在预处理步骤中泄露标签信息，但在这种特定的数据配置下，它不会夸大验证准确率，因为两个类别条件的 $z$ 分布变得相同。**\n\n这个过程根据验证集标签 $y$ 使用了 $\\mu_y$ 和 $\\sigma_y$，所以它肯定泄露了标签信息。让我们应用这个变换：\n-   如果 $y=0$：$x \\sim \\mathcal{N}(\\mu_0=10, \\sigma_0^2=25)$。变换为 $z=(x-\\mu_0)/\\sigma_0 = (x-10)/5$。得到的分布是 $z|y=0 \\sim \\mathcal{N}\\left(\\frac{10-10}{5}, \\frac{25}{5^2}\\right) = \\mathcal{N}(0,1)$。\n-   如果 $y=1$：$x \\sim \\mathcal{N}(\\mu_1=10, \\sigma_1^2=1)$。变换为 $z=(x-\\mu_1)/\\sigma_1 = (x-10)/1$。得到的分布是 $z|y=1 \\sim \\mathcal{N}\\left(\\frac{10-10}{1}, \\frac{1}{1^2}\\right) = \\mathcal{N}(0,1)$。\n\n经过这个变换后，两个类别的分布都变成了标准正态分布 $\\mathcal{N}(0,1)$。由于类别条件分布相同，特征 $z$ 不提供任何用于区分类别 0 和类别 1 的信息。后验概率等于先验概率：$p(y|z) = p(y)$。Bayes 最优分类器必须总是预测多数类 $y=0$。准确率将是 $p(y=0)=0.9$。这是基线准确率，所以它没有被夸大。该陈述准确地描述了结果。\n\n因此，该陈述是**正确的**。\n\n**D. 在不平衡数据集中，应在验证时使用真实标签应用按类别归一化，因为它总能提高泛化能力。**\n\n这个陈述提倡一种有缺陷的方法论。在验证或测试时使用真实标签进行任何变换都是一种数据泄露（或“数据窥探”）。验证集的目的是估计模型在未来、标签未知的未见数据上的表现。使用标签来处理特征会为分类器创造一个被人为简化的任务，导致对其真实泛化性能的估计过于乐观且无效。以这种方式训练的模型学会了利用这种泄露，而不是底层的数据模式。当部署在一个真实的测试集上（其中标签不可用于预处理）时，其性能可能会很差。“总能提高泛化能力”的说法是错误的；它使泛化能力的*估计*无效，并且不会提高在真正新数据上的性能。如选项 C 的分析所示，它甚至可能使类别不可分，从而降低了可能达到的准确率。\n\n因此，该陈述是**不正确的**。\n\n**E. 为避免信息泄露，归一化参数应在训练集上计算，在验证时不依赖标签，并且应将相同的固定变换应用于验证集和测试集数据，而不查看它们的标签。**\n\n该陈述描述了在机器学习工作流程中应用预处理变换的规范、正确的程序。\n1.  仅在**训练数据**上拟合预处理器（例如，为标准化器计算均值和标准差）。\n2.  将**已拟合**的变换（即，使用从训练数据中学到的参数）应用于训练数据、验证数据和测试数据。\n这确保了验证集和测试集在拟合过程中保持“未见”，并且对它们的评估提供了模型泛化性能的无偏估计。它防止了来自验证/测试集的任何信息泄露到模型或评估程序中。这正是流水线 G 所描述的一部分，也是标准的最佳实践。\n\n因此，该陈述是**正确的**。\n\n最终正确的选项统计：A、B、C、E。", "answer": "$$\\boxed{ABCE}$$", "id": "3111750"}]}