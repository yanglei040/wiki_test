{"hands_on_practices": [{"introduction": "逻辑简化的核心在于应用布尔代数的基本定律，将复杂的表达式化为更简洁的形式。这不仅是理论上的练习，更直接关系到电路的成本和效率。本练习 [@problem_id:1907226] 将通过一个具体案例，展示如何利用吸收律等基本规则来简化逻辑函数，并进一步探讨如何用通用的逻辑门（如此处所用的或非门）来实现最终的最小化电路。", "problem": "正在设计一个用于简化工业过程的数字控制系统。该系统依赖于四个二进制传感器输入，标记为 $A$、$B$、$C$ 和 $D$。当且仅当以下两个条件中至少有一个为真时，输出信号 $F$ 必须被置为有效（变为逻辑高电平）：\n- 条件1：传感器 $A$ 激活，且（传感器 $A$ 激活或传感器 $B$ 激活）。\n- 条件2：传感器 $C$ 激活，且（传感器 $C$ 激活或传感器 $D$ 激活）。\n\n您的任务是分析此逻辑。首先，确定函数 $F$ 的代数最小化“积之和”（SOP）表达式。其次，确定构建一个实现此最小化函数的电路所需的双输入或非门的绝对最小数量。\n\n以下哪个选项同时正确地给出了最小化函数和所需的双输入或非门的最小数量？\n\nA. 最小化函数：$F=A+C$；或非门数量：2\n\nB. 最小化函数：$F=A+C$；或非门数量：3\n\nC. 最小化函数：$F=AB+CD$；或非门数量：8\n\nD. 最小化函数：$F=A(A+B)+C(C+D)$；或非门数量：2\n\nE. 最小化函数：$F=B+D$；或非门数量：2", "solution": "根据所述条件定义逻辑函数。条件1是“传感器 $A$ 激活，且（传感器 $A$ 激活或传感器 $B$ 激活）”，这可以转换为 $A(A+B)$。条件2是“传感器 $C$ 激活，且（传感器 $C$ 激活或传感器 $D$ 激活）”，这可以转换为 $C(C+D)$。当且仅当至少有一个条件为真时，输出被置为有效，因此函数为\n$$\nF=A(A+B)+C(C+D).\n$$\n使用布尔代数的吸收律简化每一项。具体来说，使用 $X(X+Y)=X$：\n$$\nA(A+B)=A,\\quad C(C+D)=C.\n$$\n因此，\n$$\nF=A+C.\n$$\n这已经是一个代数最小化的“积之和”表达式。\n\n接下来，确定仅使用双输入或非门来实现 $F=A+C$ 所需的绝对最小数量。一个双输入或非门实现 $(X+Y)'$。为了从或非门得到或门，将表达式写为\n$$\nF=A+C=\\left((A+C)'\\right)'.\n$$\n这可以用两个双输入或非门实现如下：\n- 第一个门：$N_{1}=A \\downarrow C=(A+C)'$。\n- 第二个门（自或非以实现反相）：$F=N_{1} \\downarrow N_{1}=\\left(N_{1}+N_{1}\\right)'=\\left((A+C)'\\right)'=A+C$。\n单个双输入或非门不能直接产生 $A+C$（它产生 $(A+C)'$），因此需要至少一个额外的或非门来反相结果。因此，绝对最小数量是两个双输入或非门。\n\n因此，正确的选项是指出最小化函数为 $F=A+C$ 且或非门数量为 $2$ 的那一个。", "answer": "$$\\boxed{A}$$", "id": "1907226"}, {"introduction": "当变量增多时，单纯依靠代数运算法则进行化简会变得困难且容易出错。卡诺图（K-map）提供了一种直观的图形化方法，能够系统地找出最优解。本练习 [@problem_id:1952637] 将引导你使用卡诺图，为同一个逻辑函数分别推导其最简“与或”式（SOP）和最简“或与”式（POS），并通过比较它们的“文字量成本”（literal cost）来体会不同实现形式之间的设计权衡。", "problem": "在数字电路设计中，优化逻辑函数对于降低成本、功耗和传播延迟至关重要。\n\n一种常见的优化指标是文字量计数，其中文字是单个变量或其补码（例如，$X$ 或 $\\overline{X}$）。\n\n考虑一个4变量逻辑函数 $F(W,X,Y,Z)$，它由其最大项集合定义为：\n$$F(W,X,Y,Z) = \\Pi M(0, 4, 5, 7, 8, 12, 13, 15)$$\n您的任务是找到该函数的简化表示。首先，确定最小“积之和”(SOP)表达式。其次，确定最小“和之积”(POS)表达式。最小表达式是指在该形式（SOP或POS）下具有最低可能文字量的表达式。\n\n根据您的发现，以下哪个陈述正确地比较了两种最小形式的文字成本？\n\nA. 最小POS形式的文字成本较低。\n\nB. 最小SOP形式的文字成本较低。\n\nC. 两种最小形式具有相同的文字成本。\n\nD. 由于存在循环主蕴涵项，无法唯一确定最小形式。\n\nE. 最小POS形式的文字成本为4，最小SOP形式的文字成本为8。", "solution": "给定 $F(W,X,Y,Z)=\\Pi M(0,4,5,7,8,12,13,15)$，该函数在这些索引处为零，在其补集处为一。因此，\n$$F=\\Sigma m(1,2,3,6,9,10,11,14).$$\n\n通过在 $4\\times 4$ 卡诺图上对“1”进行分组来推导最小SOP：\n- $YZ=10$ 的整个列（索引 $2,6,10,14$）是一个四元组，得出蕴涵项 $Y\\overline{Z}$。\n- 在 $X=0$ 的行和 $Z=1$ 的列处的 $2\\times 2$ 方块（索引 $1,3,9,11$）是一个四元组，得出蕴涵项 $\\overline{X}Z$。\n因此，\n$$F_{\\text{SOP}}=\\overline{X}Z+Y\\overline{Z}.$$\nSOP的文字成本为 $2+2=4$。\n\n通过在卡诺图上对“0”进行分组来推导最小POS：\n- $YZ=00$ 的整个列（索引 $0,4,8,12$）是一个由“0”组成的四元组，得出和项 $(Y+Z)$。\n- 在 $X=1$ 和 $Z=1$ 处的 $2\\times 2$ 方块（索引 $5,7,13,15$）是一个由“0”组成的四元组，得出和项 $(\\overline{X}+\\overline{Z})$。\n因此，\n$$F_{\\text{POS}}=(Y+Z)(\\overline{X}+\\overline{Z}).$$\nPOS的文字成本为 $2+2=4$。\n\n因此，两种最小形式具有相同的文字成本。", "answer": "$$\\boxed{C}$$", "id": "1952637"}, {"introduction": "在数字电路设计中，一个逻辑上“最简”的电路未必是“最好”的。由于逻辑门存在延迟，某些输入变化可能导致输出端产生短暂的错误信号，即“逻辑冒险”（logic hazard）。本练习 [@problem_id:3653692] 将带你深入卡诺图的应用，不仅用它来求得最简表达式，更重要的是学会如何通过它来识别和消除静态冒险，从而设计出在动态变化中依然稳定可靠的电路。", "problem": "处理器控制路径中的一个数字组合逻辑块产生一个输出，该输出由三变量布尔函数 $f(A,B,C)$ 描述，其中 $A$、$B$ 和 $C$ 是二进制值信号。该函数以规范的最小项和形式指定：在最小项索引 $\\{1,3,6,7\\}$ 处“$f$ 为 $1$”，而在其他地方“$f$ 为 $0$”，使用的常规索引为 $m_{0}=000$, $m_{1}=001$, $m_{2}=010$, $m_{3}=011$, $m_{4}=100$, $m_{5}=101$, $m_{6}=110$, $m_{7}=111$。目标是分析并修改其实现，以确保当单个输入翻转而其他输入保持不变时，输出不会产生毛刺。\n\n从布尔代数的基本定义和卡诺图（Karnaugh map, K-map）的邻接结构出发，为 $f$ 构建卡诺图，仅使用素蕴涵项推导出一个最小化的“积之和”实现，并判断此最小化实现是否在任何单变量转换下表现出静态-1冒险。如果存在静态-1冒险，则利用卡诺图的邻接关系推理，添加最少的共识项来消除冒险，同时不改变 $f$ 的真值表。\n\n作为最终答案，请提供一个针对 $f(A,B,C)$ 的单一封闭形式的无冒险“积之和”表达式。无需进行数值取整，也不涉及任何单位。您的答案必须是单个符号表达式。", "solution": "指定的布尔函数以规范的最小项和形式给出，即 $f(A,B,C) = \\sum m(1, 3, 6, 7)$。最小项索引对应于函数输出为 $1$ 时输入变量 $(A,B,C)$ 的二进制值。这些最小项是：\n-   $m_1$: $(A,B,C)=(0,0,1)$，对应于乘积项 $\\overline{A}\\overline{B}C$。\n-   $m_3$: $(A,B,C)=(0,1,1)$，对应于乘积项 $\\overline{A}BC$。\n-   $m_6$: $(A,B,C)=(1,1,0)$，对应于乘积项 $AB\\overline{C}$。\n-   $m_7$: $(A,B,C)=(1,1,1)$，对应于乘积项 $ABC$。\n\n完整的规范“积之和”表达式为 $f(A,B,C) = \\overline{A}\\overline{B}C + \\overline{A}BC + AB\\overline{C} + ABC$。\n\n为了简化此函数并分析其冒险，我们构建一个三变量卡诺图（K-map）。该卡诺图的结构是：变量 $A$ 作为行索引，变量 $BC$（按格雷码顺序）作为列索引。\n\n$f(A,B,C)$ 的卡诺图如下：\n$$\n\\begin{array}{c|c|c|c|c}\n\\multicolumn{1}{r}{A \\backslash BC}  \\multicolumn{1}{c}{00}  \\multicolumn{1}{c}{01}  \\multicolumn{1}{c}{11}  \\multicolumn{1}{c}{10} \\\\\n\\cline{2-5}\n0  0  1_{m_1}  1_{m_3}  0 \\\\\n\\cline{2-5}\n1  0  0  1_{m_7}  1_{m_6} \\\\\n\\cline{2-5}\n\\end{array}\n$$\n下一步是通过组合相邻的 $1$ 来形成素蕴涵项，以找到最小“积之和”表达式。\n首先确定必要素蕴涵项。必要素蕴涵项是指覆盖了至少一个其他任何素蕴涵项都无法覆盖的最小项的素蕴涵项。\n1.  最小项 $m_1$（对应 $A=0, BC=01$ 的单元格）只能与 $m_3$ 组合。这个 $(m_1, m_3)$ 的组合对应于 $A=0$ 和 $C=1$，而 $B$ 在变化。这产生素蕴涵项 $\\overline{A}C$。由于它是覆盖 $m_1$ 的唯一素蕴涵项，因此 $\\overline{A}C$ 是必要的。\n2.  最小项 $m_6$（对应 $A=1, BC=10$ 的单元格）只能与 $m_7$ 组合。这个 $(m_6, m_7)$ 的组合对应于 $A=1$ 和 $B=1$，而 $C$ 在变化。这产生素蕴涵项 $AB$。由于它是覆盖 $m_6$ 的唯一素蕴涵项，因此 $AB$ 是必要的。\n\n这两个必要素蕴涵项 $\\overline{A}C$ 和 $AB$ 覆盖了函数中所有的 $1$：$\\overline{A}C$ 覆盖 $\\{m_1, m_3\\}$，$AB$ 覆盖 $\\{m_6, m_7\\}$。因此，最小“积之和”表达式为：\n$$f_{min}(A,B,C) = \\overline{A}C + AB$$\n\n现在，我们必须分析这个最小化实现是否存在静态冒险。当单个输入变量发生变化，导致在两个输出均为 $1$ 的状态之间发生转换，但这两个状态在SOP表达式中由不同的乘积项覆盖时，就可能发生静态-1冒险。如果逻辑门存在延迟，输出可能会瞬间出现毛刺变为 $0$。在卡诺图上，这对应于两个相邻的 $1$ 之间没有被所选覆盖中的单个素蕴涵项所跨越。\n\n我们来检查卡诺图上 $1$ 之间的邻接关系：\n-   邻接 $(m_1, m_3)$：被项 $\\overline{A}C$ 覆盖。此处无冒险。\n-   邻接 $(m_6, m_7)$：被项 $AB$ 覆盖。此处无冒险。\n-   邻接 $(m_3, m_7)$：最小项 $m_3$ 是 $(0,1,1)$，$m_7$ 是 $(1,1,1)$。它们是相邻的，仅在变量 $A$ 上不同。在我们的最小表达式 $f_{min} = \\overline{A}C + AB$ 中，$m_3$ 由 $\\overline{A}C$ 覆盖，$m_7$ 由 $AB$ 覆盖。由于它们被两个不同的项覆盖，因此当 $B=1, C=1$ 且 $A$ 翻转时，存在静态-1冒险。\n\n为了演示该冒险，我们来分析当 $B=1$ 和 $C=1$ 保持不变，而 $A$ 从 $0 \\to 1$ 转换时，$f_{min} = \\overline{A}C + AB$ 的电路行为。\n-   初始状态 ($A=0, B=1, C=1$)：$f = \\overline{0} \\cdot 1 + 0 \\cdot 1 = 1 \\cdot 1 + 0 = 1$。项 $\\overline{A}C$ 使输出保持高电平。\n-   最终状态 ($A=1, B=1, C=1$)：$f = \\overline{1} \\cdot 1 + 1 \\cdot 1 = 0 \\cdot 1 + 1 = 1$。项 $AB$ 使输出保持高电平。\n在转换期间，$A$ 的反相器导致 $\\overline{A}$ 从 $1 \\to 0$ 转换。由于门延迟，项 $\\overline{A}C$ 可能会在项 $AB$ 变为 $1$ 之前变为 $0$。在短暂的时间内，两个项都可能为 $0$，导致最终或门的输出降至 $0$，从而产生 $1 \\to 0 \\to 1$ 的毛刺。\n\n为消除此冒险，我们必须添加一个冗余的乘积项来覆盖 $m_3$ 和 $m_7$ 之间的邻接关系。该项被称为共识项。$\\overline{A}C$ 和 $AB$ 的共识项是 $BC$。在卡诺图上，这对应于组合 $m_3$ 和 $m_7$。对于这个组合，$B=1, C=1$ 且 $A$ 在变化，从而产生项 $BC$。\n\n添加这个冗余项不会改变逻辑函数，因为 $BC$ 是一个素蕴涵项，其最小项（$m_3$ 和 $m_7$）已经被覆盖。包含此项可确保在 $A$ 变化而 $B=1, C=1$ 的转换期间，输出由与 $A$ 无关的项 $BC$ 保持为 $1$。\n\n最终得到的无冒险“积之和”表达式是：\n$$f_{hazard-free}(A,B,C) = \\overline{A}C + AB + BC$$\n该表达式用一个公共乘积项覆盖了所有 $f=1$ 状态之间的单变量转换，从而保证了在此类转换中输出无毛刺。所添加的项集仅包含 $\\{BC\\}$，是最小的。\n为了符合惯例对各项重新排序，得到 $AB + \\overline{A}C + BC$。", "answer": "$$\n\\boxed{AB + \\overline{A}C + BC}\n$$", "id": "3653692"}]}