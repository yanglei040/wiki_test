{"hands_on_practices": [{"introduction": "SRAM 单元设计中最基本的要求是能够可靠地存储数据。本练习探讨“读取干扰” (read disturb) 问题，即读取“0”值的操作可能会意外地将单元状态翻转为“1” [@problem_id:3681567]。通过分析晶体管之间的内部竞争，我们将确定保证读取稳定性所需的关键“单元比” (cell ratio)，这是SRAM单元设计中的一个核心参数。", "problem": "一个六晶体管静态随机存取存储器 (SRAM) 单元使用两个交叉耦合的互补金属氧化物半导体场效应晶体管 (MOSFET) 反相器和两个连接到字线 (WL) 和位线 (BL) 的存取晶体管来存储数据。在读取存储的逻辑零期间，由于电流通过存取晶体管流动，连接到置位WL和预充电BL的内部存储节点 $Q$ 的电压可能会从 $0\\ \\mathrm{V}$ 上升到一个平衡扰动电平 $V_{R}$；如果另一侧的交叉耦合反相器发生翻转，这可能会触发一次翻转。读取稳定性可以通过反相器的电压传输特性 (VTC) 来分析：如果受扰节点电压 $V_{R}$ 保持小于或等于反相器的开关阈值 $V_{M}$，则可以避免读取干扰。\n\n假设：\n- 电源电压为 $V_{DD}=1.0\\ \\mathrm{V}$。\n- 在开关阈值附近，每个反相器晶体管在饱和区工作，遵循长沟道平方律模型，不考虑体效应或沟道长度调制。对于 $n$ 沟道MOSFET，饱和区的漏极电流为 $I_{n}=\\tfrac{1}{2}\\beta_{n}\\big(V_{GS}-V_{THn}\\big)^{2}$；对于 $p$ 沟道MOSFET，饱和区的漏极电流为 $I_{p}=\\tfrac{1}{2}\\beta_{p}\\big(V_{SG}-|V_{THp}|\\big)^{2}$。\n- 反相器开关阈值 $V_{M}$ 出现在 $V_{\\text{in}}=V_{\\text{out}}=V_{M}$ 处，此时 $I_{n}=I_{p}$。\n- 反相器尺寸由比率 $r=\\beta_{n}/\\beta_{p}$ 来表征。\n- 标称阈值满足 $V_{THn}=|V_{THp}|=V_{TH}=0.25\\ \\mathrm{V}$。\n- 在给定的字线和位线偏置下，测得的存储零的节点上的平衡读取扰动电平为 $V_{R}=0.35\\ \\mathrm{V}$。\n\n从上述晶体管电流定律和反相器开关阈值的定义出发，推导为避免读取干扰，$r$ 所需满足的条件，用 $V_{DD}$、$V_{R}$ 和 $V_{TH}$ 表示。然后，计算在标称阈值 $V_{TH}=0.25\\ \\mathrm{V}$ 下的极限值 $r^{\\star}$，使得当 $r\\leq r^{\\star}$ 时单元能避免读取干扰，并计算当 $n$ 沟道和 $p$ 沟道器件的阈值都增加 $\\Delta V_{TH}=+0.05\\ \\mathrm{V}$ 时的新极限值。将两个数值都四舍五入到三位有效数字。将你的最终答案表示为一个包含两个元素的行矩阵，按顺序为标称 $V_{TH}$ 下的 $r^{\\star}$ 和 $V_{TH}+0.05\\ \\mathrm{V}$ 下的 $r^{\\star}$，无单位。", "solution": "问题陈述科学严谨，定义明确，且包含得出唯一解所需的所有信息。因此，我们可以开始进行推导和计算。\n\n主要目标是确定确保读取稳定性的反相器尺寸比 $r = \\beta_{n}/\\beta_{p}$ 所需满足的约束条件。读取稳定性的条件为 $V_{R} \\le V_{M}$，其中 $V_{R}$ 是存储节点上测得的电压扰动，$V_{M}$ 是交叉耦合反相器的开关阈值。我们将首先推导出 $V_{M}$ 的表达式，然后应用稳定性条件来找到对 $r$ 的约束。\n\n反相器的开关阈值 $V_{M}$ 定义为电压传输特性上输入电压等于输出电压的点，即 $V_{\\text{in}} = V_{\\text{out}} = V_{M}$。在此工作点，流过n沟道MOSFET (nMOS) 和p沟道MOSFET (pMOS) 的电流相等，即 $I_{n} = I_{p}$。问题陈述指出两个晶体管都在饱和区工作。\n\n对于nMOS晶体管，栅极连接到输入 $V_{\\text{in}} = V_{M}$，源极连接到地 ($0\\ \\mathrm{V}$)。因此，其栅源电压为 $V_{GS,n} = V_{M}$。饱和电流由下式给出：\n$$I_{n} = \\frac{1}{2}\\beta_{n}(V_{GS,n}-V_{THn})^{2} = \\frac{1}{2}\\beta_{n}(V_{M}-V_{THn})^{2}$$\n\n对于pMOS晶体管，栅极也连接到输入 $V_{\\text{in}} = V_{M}$，源极连接到电源电压 $V_{DD}$。因此，其源栅电压为 $V_{SG,p} = V_{DD} - V_{M}$。饱和电流由下式给出：\n$$I_{p} = \\frac{1}{2}\\beta_{p}(V_{SG,p}-|V_{THp}|)^{2} = \\frac{1}{2}\\beta_{p}(V_{DD}-V_{M}-|V_{THp}|)^{2}$$\n\n我们已知阈值电压的绝对值相等，$V_{THn} = |V_{THp}| = V_{TH}$。令 $I_{n} = I_{p}$：\n$$\\frac{1}{2}\\beta_{n}(V_{M}-V_{TH})^{2} = \\frac{1}{2}\\beta_{p}(V_{DD}-V_{M}-V_{TH})^{2}$$\n\n两边同除以 $\\frac{1}{2}\\beta_{p}$ 并代入尺寸比的定义 $r = \\beta_{n}/\\beta_{p}$，我们得到：\n$$r(V_{M}-V_{TH})^{2} = (V_{DD}-V_{M}-V_{TH})^{2}$$\n\n解出 $r$，得到尺寸比作为开关阈值 $V_{M}$ 的函数：\n$$r = \\frac{(V_{DD}-V_{M}-V_{TH})^{2}}{(V_{M}-V_{TH})^{2}} = \\left( \\frac{V_{DD}-V_{M}-V_{TH}}{V_{M}-V_{TH}} \\right)^{2}$$\n此方程在 $V_{TH}  V_{M}  V_{DD}-V_{TH}$ 时有效，这确保了两个晶体管都处于饱和区，且平方项的底数为正。\n\n读取稳定性条件为 $V_{R} \\le V_{M}$。为确保稳定性，反相器的开关阈值 $V_{M}$ 必须大于或等于扰动电压 $V_{R}$。我们研究 $r$ 和 $V_{M}$ 之间的关系。分子 $(V_{DD}-V_{M}-V_{TH})$ 是 $V_{M}$ 的递减函数，而分母 $(V_{M}-V_{TH})$ 是 $V_{M}$ 的递增函数。因此，它们的比值，也就是 $r$，是 $V_{M}$ 的严格递减函数。这意味着要获得更高的开关阈值 $V_{M}$，需要更小的尺寸比 $r$。\n\n因此，条件 $V_{M} \\ge V_{R}$ 等价于要求单元的尺寸比 $r$ 小于或等于在极限情况 $V_{M} = V_{R}$ 下计算出的尺寸比。设这个极限值为 $r^{\\star}$。\n$$r \\le r^{\\star} = \\left( \\frac{V_{DD}-V_{R}-V_{TH}}{V_{R}-V_{TH}} \\right)^{2}$$\n这就是避免读取干扰所需满足的关于 $r$ 的通用条件。\n\n现在，我们按要求计算数值。\n\n首先，对于标称阈值电压 $V_{TH} = 0.25\\ \\mathrm{V}$。其他参数为 $V_{DD}=1.0\\ \\mathrm{V}$ 和 $V_{R}=0.35\\ \\mathrm{V}$。极限值 $r^{\\star}_{\\text{nom}}$ 为：\n$$r^{\\star}_{\\text{nom}} = \\left( \\frac{1.0 - 0.35 - 0.25}{0.35 - 0.25} \\right)^{2} = \\left( \\frac{0.40}{0.10} \\right)^{2} = (4)^{2} = 16$$\n四舍五入到三位有效数字，我们得到 $r^{\\star}_{\\text{nom}} = 16.0$。\n\n其次，我们考虑两种器件的阈值电压都增加 $\\Delta V_{TH}=+0.05\\ \\mathrm{V}$ 的情况。新的阈值电压为 $V_{TH, \\text{new}} = 0.25\\ \\mathrm{V} + 0.05\\ \\mathrm{V} = 0.30\\ \\mathrm{V}$。所有其他参数保持不变。新的极限值 $r^{\\star}_{\\text{new}}$ 为：\n$$r^{\\star}_{\\text{new}} = \\left( \\frac{1.0 - 0.35 - 0.30}{0.35 - 0.30} \\right)^{2} = \\left( \\frac{0.35}{0.05} \\right)^{2} = (7)^{2} = 49$$\n四舍五入到三位有效数字，我们得到 $r^{\\star}_{\\text{new}} = 49.0$。\n\n对应于标称和增加后阈值电压的尺寸比 $r$ 的两个极限值分别为 $16.0$ 和 $49.0$。为了使单元能够抵抗读取干扰，其尺寸比必须满足 $r \\le r^{\\star}$。", "answer": "$$\n\\boxed{\n\\begin{pmatrix} 16.0  49.0 \\end{pmatrix}\n}\n$$", "id": "3681567"}, {"introduction": "一个稳定的单元设计完成后，下一个关注点便是速度。本练习将SRAM的读取操作建模为一个简洁而有效的RC电路，用以确定读取访问时间 [@problem_id:3681571]。你将推导出位线电压产生足够差值以供读出放大器检测所需的时间，从而将晶体管级电阻和位线电容等参数与存储器性能直接联系起来。", "problem": "考虑一个六晶体管（6T）静态随机存取存储器（SRAM）单元，它连接到一对互补位线，即位线（BL）及其反相线（BLB）。在读取操作之前，两条位线都被预充电到电压 $V_{\\text{sense}}$。在读取存储的逻辑 $0$ 期间，内部存储节点通过访问晶体管和下拉晶体管网络驱动位线 BL，导致 BL 轻微放电，而 BLB 大致保持在 $V_{\\text{sense}}$。当 BL 和 BLB 之间的瞬时差值达到指定的微小偏移量 $\\Delta V$ 时，即当 $\\Delta V(t)=V_{\\text{sense}}-v_{\\text{BL}}(t)$ 等于 $\\Delta V$ 时，读出放大器（SA）被设计为能够正确锁存。\n\n假设在读取的初始阶段，从存储节点到 BL 的放电路径可以被建模为到地的一个等效小信号电阻 $R_{\\text{cell}\\rightarrow \\text{BL}}$，并且位线可以被建模为到地的一个集总电容 $C_{\\text{BL}}$。从基尔霍夫电流定律以及电阻和电容的线性本构关系出发，根据上述假设，推导读取访问时间 $t_{\\text{read}}$ 关于 $R_{\\text{cell}\\rightarrow \\text{BL}}$、$C_{\\text{BL}}$、$V_{\\text{sense}}$ 和 $\\Delta V$ 的闭式解析表达式。然后，根据以下参数估算 $t_{\\text{read}}$：\n- $R_{\\text{cell}\\rightarrow \\text{BL}} = 15 \\,\\text{k}\\Omega$，\n- $C_{\\text{BL}} = 0.4 \\,\\text{pF}$，\n- $V_{\\text{sense}} = 1.0 \\,\\text{V}$，\n- $\\Delta V = 0.1 \\,\\text{V}$。\n\n将您的数值答案四舍五入到三位有效数字，并以纳秒为单位表示最终时间。", "solution": "问题要求推导六晶体管（$6$T）SRAM 单元的读取访问时间 $t_{\\text{read}}$，并根据给定参数进行数值估算。\n\n首先，我们验证问题陈述的有效性。\n问题为读取操作提供了一个清晰的物理模型。位线（BL）被建模为一个集总电容 $C_{\\text{BL}}$，预充电到初始电压 $V_{\\text{sense}}$。通过 SRAM 单元的访问晶体管和下拉晶体管的放电路径被建模为到地的一个等效电阻 $R_{\\text{cell}\\rightarrow \\text{BL}}$。这形成一个简单的 RC 电路。初始条件是 $v_{\\text{BL}}(t=0) = V_{\\text{sense}}$，读取访问的最终条件由电压降 $\\Delta V$ 定义，使得 $v_{\\text{BL}}(t=t_{\\text{read}}) = V_{\\text{sense}} - \\Delta V$。所有参数（$R_{\\text{cell}\\rightarrow \\text{BL}}$、$C_{\\text{BL}}$、$V_{\\text{sense}}$、$\\Delta V$）都提供了物理上真实的值。该模型虽然是对一个复杂的非线性过程的简化，却是数字电路分析中使用的标准且有效的一阶近似。该问题具有科学依据，提法明确，客观且自洽。因此，该问题是有效的。\n\n我们接下来推导 $t_{\\text{read}}$ 的表达式。\n该电路由电容 $C_{\\text{BL}}$ 通过电阻 $R_{\\text{cell}\\rightarrow \\text{BL}}$ 接地放电组成。设 $v_{\\text{BL}}(t)$ 是在时间 $t$ 时电容（和电阻）两端的电压。根据应用于连接电容和电阻节点的 Kirchhoff 电流定律（KCL），离开该节点的电流之和必须为零。\n\n流出电容的电流为 $I_C = C_{\\text{BL}} \\frac{d v_{\\text{BL}}(t)}{dt}$。\n流过电阻到地的电流为 $I_R = \\frac{v_{\\text{BL}}(t)}{R_{\\text{cell}\\rightarrow \\text{BL}}}$。\n\nKCL 方程为：\n$$I_C + I_R = 0$$\n$$C_{\\text{BL}} \\frac{d v_{\\text{BL}}(t)}{dt} + \\frac{v_{\\text{BL}}(t)}{R_{\\text{cell}\\rightarrow \\text{BL}}} = 0$$\n\n这是一个一阶线性齐次常微分方程。我们可以通过分离变量法求解它：\n$$\\frac{d v_{\\text{BL}}(t)}{v_{\\text{BL}}(t)} = -\\frac{1}{R_{\\text{cell}\\rightarrow \\text{BL}} C_{\\text{BL}}} dt$$\n\n我们将两边从初始时间 $t=0$ 积分到一般时间 $t$，并从初始电压 $v_{\\text{BL}}(0) = V_{\\text{sense}}$ 积分到电压 $v_{\\text{BL}}(t)$：\n$$\\int_{V_{\\text{sense}}}^{v_{\\text{BL}}(t)} \\frac{1}{v'} dv' = -\\frac{1}{R_{\\text{cell}\\rightarrow \\text{BL}} C_{\\text{BL}}} \\int_{0}^{t} dt'$$\n$$[\\ln(v')]_{V_{\\text{sense}}}^{v_{\\text{BL}}(t)} = -\\frac{1}{R_{\\text{cell}\\rightarrow \\text{BL}} C_{\\text{BL}}} [t']_{0}^{t}$$\n$$\\ln(v_{\\text{BL}}(t)) - \\ln(V_{\\text{sense}}) = -\\frac{t}{R_{\\text{cell}\\rightarrow \\text{BL}} C_{\\text{BL}}}$$\n$$\\ln\\left(\\frac{v_{\\text{BL}}(t)}{V_{\\text{sense}}}\\right) = -\\frac{t}{R_{\\text{cell}\\rightarrow \\text{BL}} C_{\\text{BL}}}$$\n\n对两边取指数，得到位线上的电压作为时间的函数：\n$$v_{\\text{BL}}(t) = V_{\\text{sense}} \\exp\\left(-\\frac{t}{R_{\\text{cell}\\rightarrow \\text{BL}} C_{\\text{BL}}}\\right)$$\n\n读取访问时间 $t_{\\text{read}}$ 是电压下降了 $\\Delta V$ 量时的时间。此时位线上的电压为：\n$$v_{\\text{BL}}(t_{\\text{read}}) = V_{\\text{sense}} - \\Delta V$$\n\n我们将这个条件代入电压方程：\n$$V_{\\text{sense}} - \\Delta V = V_{\\text{sense}} \\exp\\left(-\\frac{t_{\\text{read}}}{R_{\\text{cell}\\rightarrow \\text{BL}} C_{\\text{BL}}}\\right)$$\n\n现在，我们求解 $t_{\\text{read}}$：\n$$\\frac{V_{\\text{sense}} - \\Delta V}{V_{\\text{sense}}} = \\exp\\left(-\\frac{t_{\\text{read}}}{R_{\\text{cell}\\rightarrow \\text{BL}} C_{\\text{BL}}}\\right)$$\n$$1 - \\frac{\\Delta V}{V_{\\text{sense}}} = \\exp\\left(-\\frac{t_{\\text{read}}}{R_{\\text{cell}\\rightarrow \\text{BL}} C_{\\text{BL}}}\\right)$$\n\n对两边取自然对数：\n$$\\ln\\left(1 - \\frac{\\Delta V}{V_{\\text{sense}}}\\right) = -\\frac{t_{\\text{read}}}{R_{\\text{cell}\\rightarrow \\text{BL}} C_{\\text{BL}}}$$\n\n最终，$t_{\\text{read}}$ 的闭式解析表达式为：\n$$t_{\\text{read}} = -R_{\\text{cell}\\rightarrow \\text{BL}} C_{\\text{BL}} \\ln\\left(1 - \\frac{\\Delta V}{V_{\\text{sense}}}\\right)$$\n这也可以写成等效形式：\n$$t_{\\text{read}} = R_{\\text{cell}\\rightarrow \\text{BL}} C_{\\text{BL}} \\ln\\left(\\frac{V_{\\text{sense}}}{V_{\\text{sense}} - \\Delta V}\\right)$$\n\n接下来，我们使用给定的参数估算 $t_{\\text{read}}$：\n- $R_{\\text{cell}\\rightarrow \\text{BL}} = 15 \\,\\text{k}\\Omega = 15 \\times 10^3 \\,\\Omega$\n- $C_{\\text{BL}} = 0.4 \\,\\text{pF} = 0.4 \\times 10^{-12} \\,\\text{F}$\n- $V_{\\text{sense}} = 1.0 \\,\\text{V}$\n- $\\Delta V = 0.1 \\,\\text{V}$\n\n首先，我们计算 RC 时间常数 $\\tau$：\n$$\\tau = R_{\\text{cell}\\rightarrow \\text{BL}} C_{\\text{BL}} = (15 \\times 10^3 \\,\\Omega) \\times (0.4 \\times 10^{-12} \\,\\text{F}) = 6.0 \\times 10^{-9} \\,\\text{s} = 6.0 \\,\\text{ns}$$\n\n现在，我们将这些值代入推导出的 $t_{\\text{read}}$ 表达式中：\n$$t_{\\text{read}} = (6.0 \\times 10^{-9} \\,\\text{s}) \\times \\ln\\left(\\frac{1.0 \\,\\text{V}}{1.0 \\,\\text{V} - 0.1 \\,\\text{V}}\\right)$$\n$$t_{\\text{read}} = (6.0 \\times 10^{-9} \\,\\text{s}) \\times \\ln\\left(\\frac{1.0}{0.9}\\right)$$\n\n计算自然对数的值：\n$$\\ln\\left(\\frac{1.0}{0.9}\\right) \\approx 0.10536051565$$\n\n现在，我们计算 $t_{\\text{read}}$：\n$$t_{\\text{read}} \\approx (6.0 \\times 10^{-9} \\,\\text{s}) \\times 0.10536051565 \\approx 0.6321630939 \\times 10^{-9} \\,\\text{s}$$\n\n问题要求答案以纳秒为单位，并四舍五入到三位有效数字。\n$$t_{\\text{read}} \\approx 0.632 \\,\\text{ns}$$", "answer": "$$\\boxed{0.632}$$", "id": "3681571"}]}