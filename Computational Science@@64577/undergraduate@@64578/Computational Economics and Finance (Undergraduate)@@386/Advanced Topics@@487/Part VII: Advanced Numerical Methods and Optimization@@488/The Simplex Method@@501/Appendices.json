{"hands_on_practices": [{"introduction": "Mastering the simplex method begins with understanding its core engine: the pivot operation. This exercise walks you through a single, complete pivot, the fundamental step used to move from one feasible solution to a better one. By executing these mechanics in a marketing budget allocation scenario, you will build a solid foundation for solving more complex optimization problems [@problem_id:2221017].", "id": "2221017", "problem": "A marketing analytics firm is using linear programming to determine the optimal allocation of a client's advertising budget. The goal is to maximize customer reach. The decision variables are $x_1$, the number of ad units purchased on social media, and $x_2$, the number of ad units purchased on search engines. The problem has been formulated as a standard maximization problem, and the initial simplex tableau is given below. The variables $s_1$ and $s_2$ are slack variables representing unused budget and staff hours, respectively. The variable $Z$ represents the total customer reach to be maximized.\n\nThe rows of the tableau correspond to the objective function $Z$, and the two constraints involving $s_1$ and $s_2$ as basic variables. The columns correspond to the variables $Z, x_1, x_2, s_1, s_2$, and the Right-Hand Side (RHS) values.\n\nThe initial tableau is:\n$$\n\\begin{array}{c|cccccc}\n\\text{Basic Variable} & Z & x_1 & x_2 & s_1 & s_2 & \\text{RHS} \\\\\n\\hline\nZ & 1 & -5 & -4 & 0 & 0 & 0 \\\\\ns_1 & 0 & 10 & 8 & 1 & 0 & 80 \\\\\ns_2 & 0 & 2 & 3 & 0 & 1 & 24 \\\\\n\\end{array}\n$$\n\nPerform exactly one complete pivot operation according to the standard simplex algorithm for maximization problems. Determine the updated values for the coefficient of $x_2$ in the Z-row, the coefficient of $s_1$ in the Z-row, and the new value of the objective function $Z$ (the RHS value of the Z-row).\n\nYour answer should be a set of three numerical values presented in a row matrix in the specified order: (coefficient of $x_2$, coefficient of $s_1$, value of $Z$).\n\n", "solution": "We apply the standard simplex pivot rules for a maximization problem.\n\n1) Identify the entering variable: in the Z-row, the most negative coefficient among decision variables is $-5$ for $x_{1}$, so $x_{1}$ enters.\n\n2) Perform the minimum ratio test on the $x_{1}$ column to choose the leaving variable:\n$$\n\\frac{80}{10}=8 \\quad \\text{for } s_{1}, \\qquad \\frac{24}{2}=12 \\quad \\text{for } s_{2}.\n$$\nThe minimum ratio is $8$, so $s_{1}$ leaves. The pivot element is $10$ in the $s_{1}$ row and $x_{1}$ column.\n\n3) Pivot to make the pivot element unity and eliminate $x_{1}$ from other rows.\n\nNormalize the pivot row ($s_{1}$ row) by dividing by $10$:\n$$\ns_{1}\\text{-row}: \\quad [0,\\;10,\\;8,\\;1,\\;0\\;|\\;80] \\;\\to\\; [0,\\;1,\\;\\tfrac{4}{5},\\;\\tfrac{1}{10},\\;0\\;|\\;8].\n$$\n\nEliminate $x_{1}$ from the Z-row by adding $5$ times the new $s_{1}$ row to the Z-row:\n$$\nZ\\text{-row}: \\quad [1,\\;-5,\\;-4,\\;0,\\;0\\;|\\;0] + 5\\cdot[0,\\;1,\\;\\tfrac{4}{5},\\;\\tfrac{1}{10},\\;0\\;|\\;8]\n= [1,\\;0,\\;0,\\;\\tfrac{1}{2},\\;0\\;|\\;40].\n$$\n\n(Eliminating $x_{1}$ from the $s_{2}$ row is part of the complete pivot but is not needed for the requested Z-row coefficients.)\n\nTherefore, after this single pivot, the coefficient of $x_{2}$ in the Z-row is $0$, the coefficient of $s_{1}$ in the Z-row is $\\tfrac{1}{2}$, and the new objective value $Z$ (RHS of the Z-row) is $40$.", "answer": "$$\\boxed{\\begin{pmatrix}0 & \\frac{1}{2} & 40\\end{pmatrix}}$$"}, {"introduction": "Not all optimization problems have a straightforward starting point, and some may not have a solution at all. This practice introduces the Phase I method, a systematic procedure to find an initial feasible solution or, as demonstrated in this diet-planning thought experiment, to prove that no solution exists. You will discover how the simplex algorithm can rigorously diagnose infeasibility and even quantify the extent of the constraint violations [@problem_id:2443911].", "id": "2443911", "problem": "A canteen manager at a trading firm is designing a low-sodium, high-protein meal plan using two foods, denoted by $x_{1}$ and $x_{2}$, where $x_{1}$ and $x_{2}$ are the numbers of servings of each food and must satisfy $x_{1} \\geq 0$ and $x_{2} \\geq 0$. Per serving, food $x_{1}$ provides $5$ grams of protein and $4$ grams of sodium, while food $x_{2}$ provides $2$ grams of protein and $3$ grams of sodium. The diet requirements are:\n- total protein intake at least $20$ grams, and\n- total sodium intake at most $5$ grams.\n\nFormulate the feasibility problem as a linear program in the two-phase simplex framework. In Phase I, introduce artificial variables only for constraints with a $\\geq$ operator, and minimize the sum of artificial variables as the Phase I objective. What is the optimal value of the Phase I objective for this problem? Express your answer in grams. No rounding is required, and your final answer must be a single number.", "solution": "The problem statement is subjected to rigorous validation before any attempt at a solution.\n\n**Step 1: Extract Givens**\n- Decision variables: $x_{1}, x_{2}$, representing the number of servings of two foods.\n- Non-negativity: $x_{1} \\geq 0$, $x_{2} \\geq 0$.\n- Food $1$ (per serving): $5$ grams of protein, $4$ grams of sodium.\n- Food $2$ (per serving): $2$ grams of protein, $3$ grams of sodium.\n- Constraint $1$: Total protein intake must be at least $20$ grams.\n- Constraint $2$: Total sodium intake must be at most $5$ grams.\n- Task: Formulate and solve the Phase I linear program to find the optimal value of the Phase I objective.\n- Phase I setup: Introduce an artificial variable for the '$\\geq$' constraint and minimize its value.\n\n**Step 2: Validate Using Extracted Givens**\nThe problem is a standard application of linear programming, specifically the two-phase simplex method, used to determine the feasibility of a system of linear inequalities. The problem is scientifically grounded, well-posed, and objective. The constraints, while ultimately found to be contradictory (i.e., the feasible region is empty), are presented in a way that makes the question about the Phase I outcome meaningful. The purpose of Phase I is precisely to detect such infeasibility. The requirement to express the answer in grams is dimensionally consistent, as the artificial variable inherits the units of the constraint to which it is added.\n\n**Verdict: The problem is valid.**\n\nWe proceed with the solution.\n\nFirst, we formalize the problem as a linear program. The decision variables are $x_{1}$ and $x_{2}$. The constraints are derived from the nutritional requirements.\n\nThe protein constraint is:\n$$5x_{1} + 2x_{2} \\geq 20$$\nThe sodium constraint is:\n$$4x_{1} + 3x_{2} \\leq 5$$\nThe non-negativity constraints are:\n$$x_{1} \\geq 0, \\quad x_{2} \\geq 0$$\n\nTo apply the simplex method, we must convert these inequalities into standard form (equations) by introducing slack and surplus variables.\nA surplus variable $s_{1} \\geq 0$ is subtracted from the '$\\geq$' constraint:\n$$5x_{1} + 2x_{2} - s_{1} = 20$$\nA slack variable $s_{2} \\geq 0$ is added to the '$\\leq$' constraint:\n$$4x_{1} + 3x_{2} + s_{2} = 5$$\n\nThe resulting system is:\n$$5x_{1} + 2x_{2} - s_{1} = 20$$\n$$4x_{1} + 3x_{2} + s_{2} = 5$$\n$$x_{1}, x_{2}, s_{1}, s_{2} \\geq 0$$\n\nAn initial basic feasible solution is not immediately available. For the first equation, if we set the non-basic variables $x_{1}=0$ and $x_{2}=0$, we get $-s_{1}=20$, or $s_{1}=-20$, which violates the non-negativity of $s_1$. Therefore, following a standard procedure for '$\\geq$' constraints, we introduce an artificial variable $a_{1} \\geq 0$ into the first equation. The slack variable $s_{2}$ from the second equation can serve as a basic variable.\n\nThe system for the Phase I problem is:\n$$5x_{1} + 2x_{2} - s_{1} + a_{1} = 20$$\n$$4x_{1} + 3x_{2} + s_{2} = 5$$\n$$x_{1}, x_{2}, s_{1}, s_{2}, a_{1} \\geq 0$$\n\nThe Phase I objective is to minimize the sum of artificial variables. Here, we have only one, so we minimize $w = a_{1}$. If the minimum value of $w$ is greater than zero, the original problem is infeasible.\n\nWe express the objective function $w$ in terms of the non-basic variables. From the first constraint:\n$$a_{1} = 20 - 5x_{1} - 2x_{2} + s_{1}$$\nSo, the objective is to minimize $w = 20 - 5x_{1} - 2x_{2} + s_{1}$. This is equivalent to setting up the objective row in the simplex tableau. The initial basic variables are $a_{1}$ and $s_{2}$. The non-basic variables are $x_{1}$, $x_{2}$, and $s_{1}$.\n\nThe initial simplex tableau for the Phase I minimization problem is constructed as follows. The objective row ($z_{j}-c_{j}$) contains the coefficients of the objective function $w$ expressed in terms of non-basic variables. The objective is $w + 5x_1 + 2x_2 - s_1 = 20$.\nCurrent basic solution: $x_1=0, x_2=0, s_1=0$, gives $a_1=20, s_2=5$. The initial objective value is $w=20$.\n\n**Initial Tableau:**\n$$\n\\begin{array}{c|c|ccccc|c}\n\\text{Basis} & w & x_{1} & x_{2} & s_{1} & a_{1} & s_{2} & \\text{RHS} \\\\\n\\hline\na_{1} & 0 & 5 & 2 & -1 & 1 & 0 & 20 \\\\\ns_{2} & 0 & 4 & 3 & 0 & 0 & 1 & 5 \\\\\n\\hline\n\\text{obj} & 1 & 5 & 2 & -1 & 0 & 0 & 20\n\\end{array}\n$$\nFor a minimization problem, we select the variable with the most positive coefficient in the objective row ($z_j - c_j$) to enter the basis. This is $x_{1}$, with a coefficient of $5$.\n\nTo determine the leaving variable, we perform the minimum ratio test:\nFor the $a_{1}$ row: $\\frac{20}{5} = 4$.\nFor the $s_{2}$ row: $\\frac{5}{4} = 1.25$.\n\nThe minimum ratio is $1.25$, corresponding to the $s_{2}$ row. Thus, $s_{2}$ leaves the basis, and $x_{1}$ enters. The pivot element is $4$. We perform a pivot operation.\n\nFirst, divide the pivot row (row $s_2$) by the pivot element ($4$):\n$$R_{2, \\text{new}} = R_{2} / 4 \\implies [1, \\frac{3}{4}, 0, 0, \\frac{1}{4} | \\frac{5}{4}]$$\nThis is the new row for the basic variable $x_{1}$.\n\nNext, we update the other rows to have a zero in the pivot column.\nUpdate the $a_{1}$ row: $R_{1, \\text{new}} = R_{1} - 5 \\times R_{2, \\text{new}}$\n$$R_{1, \\text{new}} = [5, 2, -1, 1, 0 | 20] - 5 \\times [1, \\frac{3}{4}, 0, 0, \\frac{1}{4} | \\frac{5}{4}]$$\n$$R_{1, \\text{new}} = [0, 2 - \\frac{15}{4}, -1, 1, -\\frac{5}{4} | 20 - \\frac{25}{4}] = [0, -\\frac{7}{4}, -1, 1, -\\frac{5}{4} | \\frac{55}{4}]$$\n\nUpdate the objective row: $R_{\\text{obj, new}} = R_{\\text{obj}} - 5 \\times R_{2, \\text{new}}$\n$$R_{\\text{obj, new}} = [5, 2, -1, 0, 0 | 20] - 5 \\times [1, \\frac{3}{4}, 0, 0, \\frac{1}{4} | \\frac{5}{4}]$$\n$$R_{\\text{obj, new}} = [0, 2 - \\frac{15}{4}, -1, 0, -\\frac{5}{4} | 20 - \\frac{25}{4}] = [0, -\\frac{7}{4}, -1, 0, -\\frac{5}{4} | \\frac{55}{4}]$$\n\n**Tableau after one iteration:**\n$$\n\\begin{array}{c|c|ccccc|c}\n\\text{Basis} & w & x_{1} & x_{2} & s_{1} & a_{1} & s_{2} & \\text{RHS} \\\\\n\\hline\na_{1} & 0 & 0 & -\\frac{7}{4} & -1 & 1 & -\\frac{5}{4} & \\frac{55}{4} \\\\\nx_{1} & 0 & 1 & \\frac{3}{4} & 0 & 0 & \\frac{1}{4} & \\frac{5}{4} \\\\\n\\hline\n\\text{obj} & 1 & 0 & -\\frac{7}{4} & -1 & 0 & -\\frac{5}{4} & \\frac{55}{4}\n\\end{array}\n$$\nThe current basic solution is $a_{1} = \\frac{55}{4}$, $x_{1} = \\frac{5}{4}$. The objective value is $w = \\frac{55}{4}$.\nWe examine the objective row coefficients ($z_{j}-c_{j}$): $[0, -\\frac{7}{4}, -1, 0, -\\frac{5}{4}]$. All coefficients are less than or equal to zero. This satisfies the optimality condition for a minimization problem.\nTherefore, the simplex algorithm terminates.\n\nThe optimal (minimum) value of the Phase I objective function is $w^* = a_{1} = \\frac{55}{4}$.\nSince $w^* > 0$, we conclude that the original problem has no feasible solution. The question, however, asks for the optimal value of the Phase I objective, which we have found.\n\nThe value is $\\frac{55}{4} = 13.75$. The artificial variable $a_{1}$ was added to the protein constraint, which is measured in grams. Thus, the value $a_1$ has units of grams. The minimum value of $a_1$ represents the minimum unavoidable deficit in meeting the protein requirement, given the other constraints. The maximum protein achievable under the sodium limit is $5(\\frac{5}{4}) + 2(0) = \\frac{25}{4}$ grams, which is $\\frac{55}{4}$ grams short of the required $20$ grams. This confirms the result.", "answer": "$$\\boxed{\\frac{55}{4}}$$"}, {"introduction": "The true power of linear programming in finance and economics extends beyond just finding an optimal solution; it lies in understanding how that solution changes as conditions vary. This exercise delves into sensitivity analysis, using the concept of shadow prices to determine the impact of changing a resource constraint in a portfolio allocation model. This practice will equip you with the skills to evaluate the marginal value of resources without needing to re-solve the entire problem from scratch [@problem_id:2443904].", "id": "2443904", "problem": "A portfolio manager allocates capital between two financial instruments to maximize expected annual net return. The decision variables are $x_{1}$ and $x_{2}$, denoting capital allocated to instrument $1$ and instrument $2$, respectively, measured in a consistent monetary unit. The manager solves the following linear program (LP):\n\nMaximize $z = 5 x_{1} + 4 x_{2}$\n\nsubject to\n$x_{1} + x_{2} \\leq 7$,\n$2 x_{1} + x_{2} \\leq 11$,\n$x_{1} \\geq 0$, $x_{2} \\geq 0$.\n\nThis LP has already been solved. The optimal basic variables are $x_{1}$ and $x_{2}$, with optimal solution $x_{1}^{\\star} = 4$, $x_{2}^{\\star} = 3$, and optimal objective value $z^{\\star} = 32$. The associated dual variables (shadow prices) for the first and second constraints are $y_{1}^{\\star} = 3$ and $y_{2}^{\\star} = 1$, respectively. The basis matrix for the binding constraints is $B = \\begin{pmatrix} 1 & 1 \\\\ 2 & 1 \\end{pmatrix}$ with inverse $B^{-1} = \\begin{pmatrix} -1 & 1 \\\\ 2 & -1 \\end{pmatrix}$.\n\nNow, suppose the right-hand side (RHS) of the budget constraint is increased from $7$ to $8$, while all other data remain unchanged.\n\nUsing sensitivity analysis and the provided solution information, determine the new optimal value of the objective function. Round your answer to four significant figures.", "solution": "The problem asks for the new optimal value of a linear programming (LP) objective function after a change in the right-hand side (RHS) of one of the constraints. This is a standard problem in sensitivity analysis.\n\nFirst, let us formalize the given information. The primal LP problem is:\nMaximize $z = c^T x$\nsubject to $Ax \\leq b$ and $x \\geq 0$,\nwhere $c = \\begin{pmatrix} 5 \\\\ 4 \\end{pmatrix}$, $x = \\begin{pmatrix} x_1 \\\\ x_2 \\end{pmatrix}$, $A = \\begin{pmatrix} 1 & 1 \\\\ 2 & 1 \\end{pmatrix}$, and $b = \\begin{pmatrix} 7 \\\\ 11 \\end{pmatrix}$.\n\nThe initial optimal solution is given as $x^{\\star} = \\begin{pmatrix} 4 \\\\ 3 \\end{pmatrix}$, with an optimal objective value of $z^{\\star} = 32$. The basic variables are $x_1$ and $x_2$. This implies that both inequality constraints are binding at the optimum. The basis matrix $B$ is composed of the columns of $A$ corresponding to the basic variables. In this case, $B = A = \\begin{pmatrix} 1 & 1 \\\\ 2 & 1 \\end{pmatrix}$. The provided inverse is $B^{-1} = \\begin{pmatrix} -1 & 1 \\\\ 2 & -1 \\end{pmatrix}$.\n\nThe dual variables (shadow prices) are given as $y^{\\star} = \\begin{pmatrix} y_1^{\\star} \\\\ y_2^{\\star} \\end{pmatrix} = \\begin{pmatrix} 3 \\\\ 1 \\end{pmatrix}$.\n\nThe problem states that the RHS of the first constraint is increased from $7$ to $8$. This corresponds to a change in the RHS vector $b$. The original RHS vector is $b = \\begin{pmatrix} 7 \\\\ 11 \\end{pmatrix}$. The new RHS vector is $b_{new} = \\begin{pmatrix} 8 \\\\ 11 \\end{pmatrix}$. The change in the RHS vector is $\\Delta b = b_{new} - b = \\begin{pmatrix} 8 - 7 \\\\ 11 - 11 \\end{pmatrix} = \\begin{pmatrix} 1 \\\\ 0 \\end{pmatrix}$.\n\nThe fundamental principle of sensitivity analysis for RHS changes states that for a change $\\Delta b$ in the RHS vector, the new optimal objective value $z_{new}^{\\star}$ is given by $z_{new}^{\\star} = z^{\\star} + (y^{\\star})^T \\Delta b$, provided that the change $\\Delta b$ is small enough for the current basis to remain optimal.\n\nThe condition for the basis to remain optimal is that the new basic solution, $x_{B, new}$, must remain feasible (i.e., non-negative). The new basic solution is calculated as:\n$$x_{B, new} = B^{-1} b_{new}$$\nWe must verify that $x_{B, new} \\geq 0$. Let us perform this calculation.\n$$x_{B, new} = \\begin{pmatrix} x_{1, new} \\\\ x_{2, new} \\end{pmatrix} = \\begin{pmatrix} -1 & 1 \\\\ 2 & -1 \\end{pmatrix} \\begin{pmatrix} 8 \\\\ 11 \\end{pmatrix}$$\n$$= \\begin{pmatrix} (-1)(8) + (1)(11) \\\\ (2)(8) + (-1)(11) \\end{pmatrix} = \\begin{pmatrix} -8 + 11 \\\\ 16 - 11 \\end{pmatrix} = \\begin{pmatrix} 3 \\\\ 5 \\end{pmatrix}$$\nSince $x_{1, new} = 3 \\geq 0$ and $x_{2, new} = 5 \\geq 0$, the new basic solution is feasible. Therefore, the current basis remains optimal, and the set of binding constraints does not change.\n\nNow we can confidently use the shadow prices to determine the new objective value. The change in the objective value is $\\Delta z^{\\star} = (y^{\\star})^T \\Delta b$.\n$$\\Delta z^{\\star} = \\begin{pmatrix} 3 & 1 \\end{pmatrix} \\begin{pmatrix} 1 \\\\ 0 \\end{pmatrix} = (3)(1) + (1)(0) = 3$$\nThe new optimal objective value is:\n$$z_{new}^{\\star} = z^{\\star} + \\Delta z^{\\star} = 32 + 3 = 35$$\n\nAs a verification, we can calculate the objective value using the new optimal solution $x_{new}^{\\star} = \\begin{pmatrix} 3 \\\\ 5 \\end{pmatrix}$:\n$$z_{new}^{\\star} = c^T x_{new}^{\\star} = \\begin{pmatrix} 5 & 4 \\end{pmatrix} \\begin{pmatrix} 3 \\\\ 5 \\end{pmatrix} = (5)(3) + (4)(5) = 15 + 20 = 35$$\nThe results are consistent. The new optimal value is exactly $35$.\n\nThe problem requires the answer to be rounded to four significant figures. The number $35$ can be written as $3.500 \\times 10^1$. To express this with four significant figures, we write $35.00$.", "answer": "$$\\boxed{35.00}$$"}]}