{"hands_on_practices": [{"introduction": "This first practice flips the typical Internal Rate of Return (IRR) problem on its head. Instead of calculating a rate from a given set of cash flows, you will design a project's financial structure to achieve a specific, high rate of return [@problem_id:2403035]. This exercise strengthens your grasp of the net present value ($NPV$) definition by forcing you to work backwards, building a deeper intuition for how the magnitude and timing of cash flows determine a project's ultimate IRR.", "id": "2403035", "problem": "A project produces cash flows at integer times $t=0,1,\\dots,n$. At time $t=0$ the cash flow is $-I$ with $I>0$. At each time $t=1,2,\\dots,n$ the project pays a constant cash flow of $A$. The internal rate of return (IRR) is defined as the rate $r$ such that the net present value satisfies\n$$\\sum_{t=0}^{n} \\frac{\\mathrm{CF}_t}{(1+r)^{t}}=0,$$\nwhere $\\mathrm{CF}_t$ denotes the cash flow at time $t$. Suppose the IRR equals $r=1$. Determine the value of the ratio $A/I$ as a closed-form analytic expression in terms of $n$. Provide your answer as a single simplified expression with no units and no rounding.", "solution": "The problem statement is scientifically grounded, well-posed, objective, and contains sufficient information for a unique solution. We proceed with the derivation.\n\nThe internal rate of return (IRR), denoted by $r$, is defined by the condition that the net present value (NPV) of a series of cash flows $\\mathrm{CF}_t$ is zero. The formula for the NPV is given as:\n$$ \\sum_{t=0}^{n} \\frac{\\mathrm{CF}_t}{(1+r)^{t}}=0 $$\nThe problem specifies the cash flows for a project over $n+1$ periods. At time $t=0$, the cash flow is an initial investment, so $\\mathrm{CF}_0 = -I$, where $I > 0$. For subsequent times $t=1, 2, \\dots, n$, the project yields a constant return, so $\\mathrm{CF}_t = A$.\n\nSubstituting these specific cash flows into the NPV equation, we have:\n$$ \\frac{\\mathrm{CF}_0}{(1+r)^{0}} + \\sum_{t=1}^{n} \\frac{\\mathrm{CF}_t}{(1+r)^{t}} = 0 $$\n$$ \\frac{-I}{1} + \\sum_{t=1}^{n} \\frac{A}{(1+r)^{t}} = 0 $$\nWe can factor the constant cash flow $A$ out of the summation:\n$$ -I + A \\sum_{t=1}^{n} \\frac{1}{(1+r)^{t}} = 0 $$\nThe problem states that the IRR for this project is $r=1$. We must substitute this value into our equation:\n$$ -I + A \\sum_{t=1}^{n} \\frac{1}{(1+1)^{t}} = 0 $$\n$$ -I + A \\sum_{t=1}^{n} \\left(\\frac{1}{2}\\right)^{t} = 0 $$\nThe summation term is a finite geometric series. A finite geometric series $\\sum_{k=1}^{n} x^k$ has the sum $x \\frac{1-x^n}{1-x}$. In our case, the common ratio is $x = \\frac{1}{2}$. Applying this formula, we find the value of the sum:\n$$ \\sum_{t=1}^{n} \\left(\\frac{1}{2}\\right)^{t} = \\left(\\frac{1}{2}\\right) \\frac{1 - \\left(\\frac{1}{2}\\right)^n}{1 - \\frac{1}{2}} = \\left(\\frac{1}{2}\\right) \\frac{1 - \\frac{1}{2^n}}{\\frac{1}{2}} = 1 - \\frac{1}{2^n} $$\nNow, we substitute this result back into the main equation:\n$$ -I + A \\left(1 - \\frac{1}{2^n}\\right) = 0 $$\nOur goal is to determine the ratio $A/I$. We rearrange the equation to solve for this ratio:\n$$ A \\left(1 - \\frac{1}{2^n}\\right) = I $$\nDividing both sides by $I$ gives:\n$$ \\frac{A}{I} \\left(1 - \\frac{1}{2^n}\\right) = 1 $$\nIsolating the ratio $A/I$ yields:\n$$ \\frac{A}{I} = \\frac{1}{1 - \\frac{1}{2^n}} $$\nTo express this as a simplified closed-form expression, we combine the terms in the denominator:\n$$ \\frac{A}{I} = \\frac{1}{\\frac{2^n - 1}{2^n}} $$\nFinally, taking the reciprocal of the denominator gives the result:\n$$ \\frac{A}{I} = \\frac{2^n}{2^n - 1} $$\nThis is the closed-form analytic expression for the ratio $A/I$ as a function of $n$.", "answer": "$$\\boxed{\\frac{2^n}{2^n - 1}}$$"}, {"introduction": "Moving from pure calculation to practical application, this exercise introduces the concept of a \"hurdle rate,\" a minimum acceptable rate of return for an investment. You will determine the maximum initial outlay a project can have while still ensuring its internal rate of return exceeds this critical threshold, a rate we can call $h$ [@problem_id:2403010]. This practice demonstrates how the IRR is used as a powerful decision-making benchmark in capital budgeting, linking a project's cost to its financial viability.", "id": "2403010", "problem": "A project requires an initial outlay at time $t=0$ equal to $C_{0}$ dollars (an outflow). Thereafter, it generates net cash inflows at the ends of years $t=1,2,3,4,5$ given by $A(1+g)^{t-1}$ dollars per year, with $A=1.2\\times 10^{6}$ and $g=0.03$. At $t=5$, there is an additional salvage inflow of $S=0.5\\times 10^{6}$ dollars. Assume discrete annual compounding and that all cash flows after $t=0$ are nonnegative. Let $h\\in(0,1)$ be a given hurdle rate (in decimal form) with $h\\neq g$.\n\nUsing only the definition that the internal rate of return (IRR) is any rate $r$ that makes the net present value equal to zero, determine, in closed form, the supremum initial investment $C_{0}^{\\ast}(h)$ (in dollars) such that the projectâ€™s internal rate of return exceeds the hurdle rate $h$. Express your final result as a single analytic expression in terms of $h$ only. Do not approximate or round. Express the answer in dollars.", "solution": "The problem requires finding the supremum initial investment, denoted $C_{0}^{\\ast}(h)$, for a project such that its internal rate of return ($IRR$) is strictly greater than a given hurdle rate $h$.\n\nFirst, we must validate the problem statement.\nThe givens are:\n- Initial outlay at time $t=0$: $C_{0}$ (outflow).\n- Net cash inflows at the end of years $t \\in \\{1, 2, 3, 4, 5\\}$ are $A(1+g)^{t-1}$ dollars per year.\n- The constant $A = 1.2 \\times 10^{6}$.\n- The growth rate $g = 0.03$.\n- An additional salvage inflow at $t=5$ of $S = 0.5 \\times 10^{6}$ dollars.\n- A hurdle rate $h \\in (0,1)$ with the constraint $h \\neq g$.\n- The definition of IRR is the rate $r$ that sets the Net Present Value ($NPV$) to zero.\n- The goal is to find the supremum $C_{0}^{\\ast}(h)$ such that the project's $IRR > h$.\n\nThe problem is scientifically grounded in the principles of financial mathematics, specifically discounted cash flow analysis. It is well-posed, as the cash flow structure (a single outflow followed by a series of inflows) ensures a monotonic relationship between the discount rate and the $NPV$, leading to a unique positive $IRR$. The problem is objective and provides all necessary information, including the crucial constraint $h \\neq g$ to avoid singularities. The problem is valid.\n\nWe proceed with the solution. The Net Present Value ($NPV$) of the project is the difference between the present value of all cash inflows and the initial cash outflow $C_{0}$. The cash flow at time $t$ is denoted $CF_{t}$.\nThe cash flows for the project are:\n- $CF_{0} = -C_{0}$\n- $CF_{t} = A(1+g)^{t-1}$ for $t \\in \\{1, 2, 3, 4\\}$.\n- $CF_{5} = A(1+g)^{4} + S$.\n\nThe $NPV$ as a function of a discount rate $r$ is given by:\n$$NPV(r) = -C_{0} + \\sum_{t=1}^{5} \\frac{CF_t}{(1+r)^t}$$\nWe can separate the stream of growing annuity payments from the salvage value:\n$$NPV(r) = -C_{0} + \\left( \\sum_{t=1}^{5} \\frac{A(1+g)^{t-1}}{(1+r)^{t}} \\right) + \\frac{S}{(1+r)^{5}}$$\nThe summation term is a finite geometric series. Let's analyze it:\n$$ \\sum_{t=1}^{5} \\frac{A(1+g)^{t-1}}{(1+r)^{t}} = \\frac{A}{1+g} \\sum_{t=1}^{5} \\frac{(1+g)^{t}}{(1+r)^{t}} = \\frac{A}{1+g} \\sum_{t=1}^{5} \\left(\\frac{1+g}{1+r}\\right)^{t} $$\nThis is a geometric series with first term $a = \\frac{A}{1+g} \\left(\\frac{1+g}{1+r}\\right)$ and common ratio $q = \\frac{1+g}{1+r}$. The sum of $n=5$ terms is $a \\frac{1-q^n}{1-q}$.\nThe sum is:\n$$ \\frac{A}{1+r} \\frac{1 - \\left(\\frac{1+g}{1+r}\\right)^{5}}{1 - \\frac{1+g}{1+r}} = \\frac{A}{1+r} \\frac{1 - \\left(\\frac{1+g}{1+r}\\right)^{5}}{\\frac{1+r-(1+g)}{1+r}} = A \\frac{1 - \\left(\\frac{1+g}{1+r}\\right)^{5}}{r-g} $$\nThis formula is valid for $r \\neq g$.\n\nSubstituting this back into the $NPV$ expression:\n$$NPV(r) = -C_{0} + A \\frac{1 - \\left(\\frac{1+g}{1+r}\\right)^{5}}{r-g} + \\frac{S}{(1+r)^{5}}$$\nBy definition, the internal rate of return, which we denote $r_{IRR}$, is the rate $r$ for which $NPV(r) = 0$.\n$$0 = -C_{0} + A \\frac{1 - \\left(\\frac{1+g}{1+r_{IRR}}\\right)^{5}}{r_{IRR}-g} + \\frac{S}{(1+r_{IRR})^{5}}$$\nThis equation implicitly defines $r_{IRR}$ as a function of $C_{0}$. Rearranging for $C_{0}$:\n$$C_{0} = A \\frac{1 - \\left(\\frac{1+g}{1+r_{IRR}}\\right)^{5}}{r_{IRR}-g} + \\frac{S}{(1+r_{IRR})^{5}}$$\nLet us define the present value of the inflows as a function $P(r)$:\n$$P(r) = A \\frac{1 - \\left(\\frac{1+g}{1+r}\\right)^{5}}{r-g} + \\frac{S}{(1+r)^{5}}$$\nSo, the equation for the IRR becomes $C_{0} = P(r_{IRR})$.\nThe function $P(r)$ represents the present value of a stream of positive future cash flows. For any positive discount rate $r>0$, each term in the present value calculation is a decreasing function of $r$. Therefore, $P(r)$ is a strictly decreasing function of $r$ for $r \\in (-1, \\infty)$.\n\nThe problem requires that the project's IRR exceeds the hurdle rate $h$:\n$$r_{IRR} > h$$\nSince $P(r)$ is a strictly decreasing function, applying it to both sides of the inequality reverses the direction of the inequality:\n$$P(r_{IRR}) < P(h)$$\nSubstituting $C_{0} = P(r_{IRR})$, we obtain the condition on $C_{0}$:\n$$C_{0} < P(h)$$\n$$C_{0} < A \\frac{1 - \\left(\\frac{1+g}{1+h}\\right)^{5}}{h-g} + \\frac{S}{(1+h)^{5}}$$\nThe set of all possible initial investments $C_{0}$ that satisfy this condition is the interval $(0, P(h))$. The problem asks for the supremum of this set. The supremum (or least upper bound) of the interval $(0, P(h))$ is $P(h)$.\nTherefore, the supremum initial investment $C_{0}^{\\ast}(h)$ is:\n$$C_{0}^{\\ast}(h) = P(h) = A \\frac{1 - \\left(\\frac{1+g}{1+h}\\right)^{5}}{h-g} + \\frac{S}{(1+h)^{5}}$$\nNow, we substitute the given numerical values: $A = 1.2 \\times 10^{6}$, $g = 0.03$, and $S = 0.5 \\times 10^{6} = 5 \\times 10^5$.\n$$C_{0}^{\\ast}(h) = (1.2 \\times 10^{6}) \\frac{1 - \\left(\\frac{1+0.03}{1+h}\\right)^{5}}{h-0.03} + \\frac{5 \\times 10^{5}}{(1+h)^{5}}$$\nThis simplifies to the final analytical expression for $C_{0}^{\\ast}(h)$ in terms of $h$:\n$$C_{0}^{\\ast}(h) = (1.2 \\times 10^{6}) \\frac{1 - \\left(\\frac{1.03}{1+h}\\right)^{5}}{h-0.03} + \\frac{5 \\times 10^{5}}{(1+h)^{5}}$$\nThis is the final closed-form expression. The value is in dollars as per the units of $A$ and $S$.", "answer": "$$\n\\boxed{(1.2 \\times 10^{6}) \\frac{1 - \\left(\\frac{1.03}{1+h}\\right)^{5}}{h-0.03} + \\frac{5 \\times 10^{5}}{(1+h)^{5}}}\n$$"}, {"introduction": "This final practice addresses a crucial and often misunderstood aspect of the internal rate of return: its behavior within a portfolio. You will investigate whether the IRR of a combined set of projects is a simple weighted average of the individual project IRRs [@problem_id:2403026]. By working through this problem, you will discover the non-linear nature of the IRR calculation and understand why this common assumption is a fallacy, a critical insight for accurately evaluating diversified investments.", "id": "2403026", "problem": "A firm evaluates two independent, scale-fixed projects with annual cash flows as follows. Time is measured in years, with cash flows at the end of each year. Project A has cash flows $C^{A}_{0}=-100$, $C^{A}_{1}=+60$, $C^{A}_{2}=+60$. Project B has cash flows $C^{B}_{0}=-100$, $C^{B}_{1}=+0$, $C^{B}_{2}=+130$. The firm forms a portfolio by investing in one unit of Project A and one unit of Project B, so the portfolio cash flows are $C^{P}_{t}=C^{A}_{t}+C^{B}_{t}$ for $t\\in\\{0,1,2\\}$.\n\nBy definition, the internal rate of return (IRR) is the number $r$ that sets the net present value (NPV) to zero, that is, $\\sum_{t=0}^{T}\\frac{C_{t}}{(1+r)^{t}}=0$ for a given cash-flow stream $\\{C_{t}\\}_{t=0}^{T}$.\n\nUsing only this definition, compute the IRR of the portfolio and justify, using equations based on the NPV definition, why the portfolio IRR is not a simple weighted average of the individual IRRs using weights proportional to initial investments. Report only the portfolio IRR as a decimal number and round your answer to four significant figures. Do not use a percentage sign.", "solution": "The problem statement has been validated and is deemed scientifically grounded, well-posed, and objective. It is a standard problem in computational finance.\n\nFirst, we determine the cash flows for the portfolio. The portfolio consists of one unit of Project A and one unit of Project B. The cash flow for the portfolio at time $t$, denoted $C^{P}_{t}$, is the sum of the cash flows of the individual projects, $C^{P}_{t} = C^{A}_{t} + C^{B}_{t}$.\n\nThe given cash flows are:\nFor Project A: $C^{A}_{0}=-100$, $C^{A}_{1}=+60$, $C^{A}_{2}=+60$.\nFor Project B: $C^{B}_{0}=-100$, $C^{B}_{1}=+0$, $C^{B}_{2}=+130$.\n\nThe resulting portfolio cash flows are:\n$C^{P}_{0} = C^{A}_{0} + C^{B}_{0} = -100 + (-100) = -200$.\n$C^{P}_{1} = C^{A}_{1} + C^{B}_{1} = 60 + 0 = 60$.\n$C^{P}_{2} = C^{A}_{2} + C^{B}_{2} = 60 + 130 = 190$.\n\nThe internal rate of return (IRR) of the portfolio, which we shall denote as $r_{P}$, is the discount rate for which the net present value (NPV) of the portfolio's cash flows is zero. The NPV of the portfolio is given by the equation:\n$$\n\\text{NPV}_{P}(r) = \\sum_{t=0}^{2} \\frac{C^{P}_{t}}{(1+r)^{t}} = C^{P}_{0} + \\frac{C^{P}_{1}}{1+r} + \\frac{C^{P}_{2}}{(1+r)^{2}}\n$$\nSetting $\\text{NPV}_{P}(r_{P}) = 0$:\n$$\n-200 + \\frac{60}{1+r_{P}} + \\frac{190}{(1+r_{P})^{2}} = 0\n$$\nTo solve this equation for $r_{P}$, let us introduce the substitution $x = \\frac{1}{1+r_{P}}$. The equation becomes a quadratic in $x$:\n$$\n190x^{2} + 60x - 200 = 0\n$$\nDividing by $10$ simplifies the equation to:\n$$\n19x^{2} + 6x - 20 = 0\n$$\nWe solve for $x$ using the quadratic formula, $x = \\frac{-b \\pm \\sqrt{b^{2}-4ac}}{2a}$:\n$$\nx = \\frac{-6 \\pm \\sqrt{6^{2} - 4(19)(-20)}}{2(19)} = \\frac{-6 \\pm \\sqrt{36 + 1520}}{38} = \\frac{-6 \\pm \\sqrt{1556}}{38}\n$$\nSince $r_{P}$ represents an interest rate for a conventional investment, we expect $1+r_{P} > 0$, which implies $x = \\frac{1}{1+r_{P}}$ must be positive. Therefore, we take the positive root:\n$$\nx = \\frac{-6 + \\sqrt{1556}}{38} = \\frac{-6 + 2\\sqrt{389}}{38} = \\frac{-3 + \\sqrt{389}}{19}\n$$\nUsing a numerical approximation, $\\sqrt{389} \\approx 19.72308$, we find:\n$$\nx \\approx \\frac{-3 + 19.72308}{19} = \\frac{16.72308}{19} \\approx 0.880162\n$$\nNow we solve for $r_{P}$ from the substitution $x = \\frac{1}{1+r_{P}}$:\n$$\n1+r_{P} = \\frac{1}{x} \\approx \\frac{1}{0.880162} \\approx 1.136154\n$$\n$$\nr_{P} \\approx 1.136154 - 1 = 0.136154\n$$\nRounding to four significant figures, the portfolio IRR is $0.1362$.\n\nNext, we must justify why the portfolio IRR is not a simple weighted average of the individual project IRRs. Let $r_{A}$ and $r_{B}$ be the IRRs for Project A and Project B, respectively. They are defined by the roots of their respective NPV equations:\n$$\n\\text{NPV}_{A}(r_{A}) = \\sum_{t=0}^{2} \\frac{C^{A}_{t}}{(1+r_{A})^{t}} = -100 + \\frac{60}{1+r_{A}} + \\frac{60}{(1+r_{A})^{2}} = 0\n$$\n$$\n\\text{NPV}_{B}(r_{B}) = \\sum_{t=0}^{2} \\frac{C^{B}_{t}}{(1+r_{B})^{t}} = -100 + \\frac{0}{1+r_{B}} + \\frac{130}{(1+r_{B})^{2}} = 0\n$$\nThe portfolio IRR, $r_{P}$, is defined by the root of the portfolio's NPV equation:\n$$\n\\text{NPV}_{P}(r_{P}) = \\sum_{t=0}^{2} \\frac{C^{P}_{t}}{(1+r_{P})^{t}} = \\sum_{t=0}^{2} \\frac{C^{A}_{t} + C^{B}_{t}}{(1+r_{P})^{t}} = 0\n$$\nBy the additivity of summation, this can be expressed as:\n$$\n\\sum_{t=0}^{2} \\frac{C^{A}_{t}}{(1+r_{P})^{t}} + \\sum_{t=0}^{2} \\frac{C^{B}_{t}}{(1+r_{P})^{t}} = 0\n$$\nThis is equivalent to stating that $\\text{NPV}_{A}(r_{P}) + \\text{NPV}_{B}(r_{P}) = 0$.\n\nA weighted average of the individual IRRs, with weights $w_{A}$ and $w_{B}$ proportional to initial investments $|C^{A}_{0}|=100$ and $|C^{B}_{0}|=100$, would be $r_{\\text{avg}} = w_{A}r_{A} + w_{B}r_{B}$. Since the initial investments are equal, the weights are $w_A=w_B=0.5$, and the average is $r_{\\text{avg}} = \\frac{r_{A}+r_{B}}{2}$.\n\nThe assertion that $r_{P} = r_{\\text{avg}}$ is incorrect. The fundamental reason lies in the non-linearity of the NPV function with respect to the discount rate $r$. The IRR is a root of the equation $\\text{NPV}(r)=0$. The root of a sum of two non-linear functions, $\\text{NPV}_{A}(r) + \\text{NPV}_{B}(r) = 0$, is not, in general, a simple average of the roots of the individual functions, $\\text{NPV}_{A}(r_{A})=0$ and $\\text{NPV}_{B}(r_{B})=0$.\n\nTo be precise, the relationship between NPV and $r$ involves terms of the form $(1+r)^{-t}$, which are non-linear functions of $r$. For a property like a weighted average to hold for the roots, the function would need to be linear in the variable. For example, if $\\text{NPV}(r)$ were a linear function of $r$, say $\\text{NPV}_{i}(r) = k_{i}(r_{i}-r)$, then $\\text{NPV}_{P}(r) = k_{A}(r_{A}-r) + k_{B}(r_{B}-r)$. Setting this to zero would yield $r_{P} = \\frac{k_{A}}{k_{A}+k_{B}}r_{A} + \\frac{k_{B}}{k_{A}+k_{B}}r_{B}$, a weighted average. However, the NPV function is patently not linear in $r$.\n\nTherefore, the equation $\\text{NPV}_{A}(r_{P}) + \\text{NPV}_{B}(r_{P}) = 0$ must be solved directly for $r_{P}$ and its solution cannot be assumed to be a linear combination of $r_{A}$ and $r_{B}$. The operation of finding a root does not commute with addition in this way for non-linear functions. This constitutes a formal refutation of the idea that portfolio IRR is a simple weighted average of component IRRs.\n\nThe computed portfolio IRR is $r_{P} \\approx 0.136154$. For completeness, the individual IRRs are $r_{A} = \\frac{6}{\\sqrt{69}-3}-1 \\approx 0.1307$ and $r_{B} = \\sqrt{1.3}-1 \\approx 0.1402$. The weighted average is $r_{\\text{avg}} \\approx \\frac{0.1307+0.1402}{2} \\approx 0.1355$. As demonstrated by both the formal argument and the explicit calculation, $r_{P} \\neq r_{\\text{avg}}$.\nThe final answer is the portfolio IRR rounded to four significant figures.\n$r_{P} \\approx 0.1362$.", "answer": "$$\n\\boxed{0.1362}\n$$"}]}