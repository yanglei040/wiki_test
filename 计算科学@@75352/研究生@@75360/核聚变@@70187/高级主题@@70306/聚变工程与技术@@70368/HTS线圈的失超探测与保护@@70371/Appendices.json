{"hands_on_practices": [{"introduction": "设计任何保护系统的第一步是理解其必须防止的故障所对应的时间尺度。本练习旨在解决这个根本性问题：一旦失超开始，导体温度上升到临界水平的速度有多快？通过在绝热条件下应用第一性原理的能量平衡，您将计算出在潜在损坏发生前，探测系统可用的最大反应时间窗口。[@problem_id:3716143]", "problem": "在一个采用高温超导体（HTS）的核聚变磁体中，一个稀土-钡-铜-氧化物（REBCO）涂层导体在初始温度 $T_0=20\\,\\mathrm{K}$ 下运行。在一次失超事件中，形成了一个局部正常区。在采取保护措施之前，假设热点区域是绝热的，并由焦耳耗散均匀加热。假设在所关心的温度范围内，体积热容是恒定的，等于 $c(T)=3.5\\times 10^6\\,\\mathrm{J/m^3/K}$，有效正常态电阻率是恒定的，等于 $\\rho(T)=2\\times 10^{-8}\\,\\Omega\\,\\mathrm{m}$。导体中的工程电流密度为 $J=150\\,\\mathrm{A/mm^2}$，并在检测延迟期间保持恒定。仅使用第一性原理的能量平衡和绝热假设，确定允许的最大检测延迟 $\\Delta t_{\\mathrm{max}}$，以使热点温度保持在 $T_{\\mathrm{hs}}=120\\,\\mathrm{K}$ 以下。答案以 $\\mathrm{s}$ 为单位，并四舍五入到四位有效数字。", "solution": "首先对问题陈述进行严格的验证过程。\n\n### 步骤 1：提取给定条件\n- 初始温度：$T_0=20\\,\\mathrm{K}$\n- 允许的最高热点温度：$T_{\\mathrm{hs}}=120\\,\\mathrm{K}$\n- 体积热容（恒定）：$c(T)=c=3.5\\times 10^6\\,\\mathrm{J/m^3/K}$\n- 有效正常态电阻率（恒定）：$\\rho(T)=\\rho=2\\times 10^{-8}\\,\\Omega\\,\\mathrm{m}$\n- 工程电流密度（恒定）：$J=150\\,\\mathrm{A/mm^2}$\n- 主要假设：热点区域是绝热的、均匀受热的，且唯一的来源是焦耳耗散。\n\n### 步骤 2：使用提取的给定条件进行验证\n根据既定的有效性标准对问题进行评估。\n\n- **科学依据**：该问题基于热力学和电磁学的基本原理，特别是能量平衡方程和焦耳热定律。在核聚变用高温超导（HTS）磁体中发生失超的背景是科学相关且现实的。所提供的物理量，如温度、电流密度、电阻率和热容，对于在此类条件下的REBCO HTS导体来说，其数量级是合理的，尽管假设它们是常数是通常用于一阶近似的简化方法。\n- **适定性**：该问题提供了一个清晰的初始状态（$T_0$）、一个最终状态（$T_{\\mathrm{hs}}$）以及控制该转变的物理定律（绝热焦耳加热）。它要求一个单一、唯一确定的量，即最大允许时间（$\\Delta t_{\\mathrm{max}}$）。在给定的假设下，该问题是自洽的，并为求解提供了所有必要的信息。\n- **客观性**：该问题以精确、定量的术语陈述，没有歧义、主观性或意见。\n\n### 步骤 3：结论与行动\n该问题具有科学依据、适定且客观。在指定的简化假设下，它不包含任何矛盾、缺失信息或违反物理原理的情况。因此，该问题被认为是**有效的**。将推导出解决方案。\n\n控制热点温度上升的物理原理是应用于绝热系统的热力学第一定律。对于单位体积的导体，其内能的变化率等于其内部产热的速率。单位体积的内能变化率由 $c \\frac{dT}{dt}$ 给出，其中 $c$ 是体积热容，$T$ 是温度。由焦耳热产生的单位体积产热率（功率密度）由 $q''' = \\rho J^2$ 给出，其中 $\\rho$ 是电阻率，$J$ 是电流密度。\n\n将这两个速率相等，得到温度 $T$ 作为时间 $t$ 函数的控制微分方程：\n$$c \\frac{dT}{dt} = \\rho J^2$$\n这是一个一阶常微分方程。为了求出温度从初始值 $T_0$ 上升到允许的最高热点温度 $T_{\\mathrm{hs}}$ 所需的总时间，我们可以分离变量并进行积分。\n$$c \\, dT = \\rho J^2 \\, dt$$\n积分在时间区间从 $t=0$ 到 $t=\\Delta t_{\\mathrm{max}}$ 和相应的温度区间从 $T=T_0$ 到 $T=T_{\\mathrm{hs}}$ 上进行：\n$$\\int_{T_0}^{T_{\\mathrm{hs}}} c \\, dT = \\int_{0}^{\\Delta t_{\\mathrm{max}}} \\rho J^2 \\, dt$$\n问题陈述中说明，体积热容 $c$、电阻率 $\\rho$ 和电流密度 $J$ 在整个过程中都是恒定的。因此，它们可以从积分中提出：\n$$c \\int_{T_0}^{T_{\\mathrm{hs}}} dT = \\rho J^2 \\int_{0}^{\\Delta t_{\\mathrm{max}}} dt$$\n进行积分得到：\n$$c [T]_{T_0}^{T_{\\mathrm{hs}}} = \\rho J^2 [t]_{0}^{\\Delta t_{\\mathrm{max}}}$$\n$$c (T_{\\mathrm{hs}} - T_0) = \\rho J^2 (\\Delta t_{\\mathrm{max}} - 0)$$\n我们需要求得最大允许检测延迟 $\\Delta t_{\\mathrm{max}}$。求解 $\\Delta t_{\\mathrm{max}}$ 得到符号表达式：\n$$\\Delta t_{\\mathrm{max}} = \\frac{c(T_{\\mathrm{hs}} - T_0)}{\\rho J^2}$$\n在代入数值之前，我们必须确保所有量都在一致的单位制（国际单位制 SI）中。\n给定的值为：\n- $c = 3.5\\times 10^6\\,\\mathrm{J/m^3/K}$\n- $\\rho = 2\\times 10^{-8}\\,\\Omega\\,\\mathrm{m}$\n- $T_0 = 20\\,\\mathrm{K}$\n- $T_{\\mathrm{hs}} = 120\\,\\mathrm{K}$\n- $J = 150\\,\\mathrm{A/mm^2}$\n\n电流密度 $J$ 必须从 $\\mathrm{A/mm^2}$ 转换为 $\\mathrm{A/m^2}$：\n$$1\\,\\mathrm{mm} = 10^{-3}\\,\\mathrm{m} \\implies 1\\,\\mathrm{mm^2} = (10^{-3}\\,\\mathrm{m})^2 = 10^{-6}\\,\\mathrm{m^2}$$\n$$J = 150\\,\\frac{\\mathrm{A}}{\\mathrm{mm^2}} = 150\\,\\frac{\\mathrm{A}}{10^{-6}\\,\\mathrm{m^2}} = 150 \\times 10^6\\,\\frac{\\mathrm{A}}{\\mathrm{m^2}} = 1.5 \\times 10^8\\,\\mathrm{A/m^2}$$\n现在，我们可以将数值代入 $\\Delta t_{\\mathrm{max}}$ 的表达式中：\n$$\\Delta t_{\\mathrm{max}} = \\frac{(3.5\\times 10^6\\,\\mathrm{J/m^3/K})(120\\,\\mathrm{K} - 20\\,\\mathrm{K})}{(2\\times 10^{-8}\\,\\Omega\\,\\mathrm{m})(1.5 \\times 10^8\\,\\mathrm{A/m^2})^2}$$\n首先，计算温差和电流密度的平方：\n$$T_{\\mathrm{hs}} - T_0 = 100\\,\\mathrm{K}$$\n$$J^2 = (1.5 \\times 10^8)^2\\,\\mathrm{A^2/m^4} = 2.25 \\times 10^{16}\\,\\mathrm{A^2/m^4}$$\n接下来，计算分子和分母：\n分子：\n$$c(T_{\\mathrm{hs}} - T_0) = (3.5\\times 10^6) \\times 100 = 3.5 \\times 10^8\\,\\mathrm{J/m^3}$$\n分母：\n$$\\rho J^2 = (2\\times 10^{-8}) \\times (2.25 \\times 10^{16}) = 4.5 \\times 10^8\\,\\mathrm{W/m^3}$$\n注意，分母的单位是 $\\Omega \\cdot \\mathrm{m} \\cdot (\\mathrm{A/m^2})^2 = \\Omega \\cdot \\mathrm{A}^2/\\mathrm{m}^3 = \\mathrm{W/m^3}$，这是功率密度，符合预期。\n最后，计算比率：\n$$\\Delta t_{\\mathrm{max}} = \\frac{3.5 \\times 10^8\\,\\mathrm{J/m^3}}{4.5 \\times 10^8\\,\\mathrm{W/m^3}} = \\frac{3.5}{4.5}\\,\\mathrm{s} = \\frac{7}{9}\\,\\mathrm{s}$$\n作为小数，这大约是 $0.77777...\\,\\mathrm{s}$。问题要求答案四舍五入到四位有效数字。\n$$\\Delta t_{\\mathrm{max}} \\approx 0.7778\\,\\mathrm{s}$$\n该值表示在导体热点温度超过规定的安全极限 $120\\,\\mathrm{K}$ 之前，从失超开始到保护系统启动之间可以经过的最长时间。", "answer": "$$\\boxed{0.7778}$$", "id": "3716143"}, {"introduction": "在托卡马克装置强烈的电磁噪声环境中，探测初期失超产生的微弱电压信号是一项重大挑战。本练习聚焦于一项关键的工程任务：设计一个既足够灵敏以捕捉最小失超事件，又足够鲁棒以忽略等离子体破裂等事件引起的大幅感应电压伪信号的探测阈值。您将分析一个带滤波的探测系统对瞬态噪声和持续失超信号的响应，从而找到最佳的平衡点。[@problem_id:3716117]", "problem": "在一个核聚变装置中，一个高温超导（HTS）环向场线圈使用跨接在两个几何对称半段上的差分电压抽头进行失超监测。这两个半段形成一个电桥，旨在抵消等离子体瞬变过程中的感应电压。这两个半段的标称电感为 $L_{\\text{leg}}$，但制造失配导致了相对电感不对称性 $\\epsilon$，因此驱动不平衡的残余电感为 $\\Delta L = \\epsilon L_{\\text{leg}}$。在等离子体破裂期间，线圈中的输运电流 $I(t)$ 经历一次快速斜坡变化，其特征是一个有界的时间导数，近似为幅值为 $D$、持续时间为 $\\Delta t$ 的矩形脉冲。检测电子设备对差分信号施加一个时间常数为 $\\tau$ 的一阶低通滤波器，然后将其与一个恒定的阈值 $V_{\\text{th}}$ 进行比较。\n\n假设以下符合物理现实的参数：\n- 段电感 $L_{\\text{leg}} = 6.0 \\times 10^{-3}\\ \\mathrm{H}$ 和相对不对称性 $\\epsilon = 8.0 \\times 10^{-3}$，因此 $\\Delta L = \\epsilon L_{\\text{leg}}$。\n- 由破裂引起的电流斜坡变化近似为一个矩形 $dI/dt$ 脉冲，幅值为 $D = 1.5 \\times 10^{6}\\ \\mathrm{A/s}$，持续时间为 $\\Delta t = 3.0 \\times 10^{-3}\\ \\mathrm{s}$。\n- 检测链建模为一个一阶低通滤波器，时间常数为 $\\tau = 1.0 \\times 10^{-2}\\ \\mathrm{s}$。\n- 最小失超特征：在工作电流 $I_{0} = 3.0 \\times 10^{4}\\ \\mathrm{A}$ 时出现一个长度为 $\\ell_{q,\\min} = 3.0 \\times 10^{-2}\\ \\mathrm{m}$ 的正常区。导体堆栈的单位长度有效正常态电阻为 $r_{n} = 4.0 \\times 10^{-2}\\ \\Omega/\\mathrm{m}$，产生一个电阻电压 $V_{R,\\min} = I_{0} r_{n} \\ell_{q,\\min}$，其持续时间远长于 $\\tau$。\n- 为确保在瞬态不平衡下的鲁棒性，在设置 $V_{\\text{th}}$ 时，要求一个安全裕度因子 $m = 1.25$ 乘以最大滤波后感应不平衡。\n\n从法拉第电磁感应定律和一阶低通滤波器对矩形输入的线性时不变响应出发，计算破裂瞬变期间差分段上的最大感应电压，将其通过滤波器传播以获得滤波后的不平衡峰值，然后确定能够同时避免破裂下的错误触发并保证检测到指定的最小电阻性失超的最小恒定阈值 $V_{\\text{th}}$。将最终的数值阈值四舍五入到四位有效数字，并以伏特为单位表示您的答案。", "solution": "问题要求确定高温超导（HTS）线圈失超检测系统的最小恒定阈值电压 $V_{\\text{th}}$。该阈值必须满足两个相互竞争的要求：它必须足够高，以避免由快速电流瞬变（如等离子体破裂）期间的感应电压不平衡引起的错误触发；同时它必须足够低，以保证检测到最小失超事件。\n\n首先，我们验证问题陈述。\n\n**第一步：提取已知条件**\n- 段电感：$L_{\\text{leg}} = 6.0 \\times 10^{-3}\\ \\mathrm{H}$\n- 相对电感不对称性：$\\epsilon = 8.0 \\times 10^{-3}$\n- 残余电感不平衡：$\\Delta L = \\epsilon L_{\\text{leg}}$\n- 破裂引起的电流斜坡幅值：$D = 1.5 \\times 10^{6}\\ \\mathrm{A/s}$\n- 破裂引起的电流斜坡持续时间：$\\Delta t = 3.0 \\times 10^{-3}\\ \\mathrm{s}$\n- 检测滤波器时间常数：$\\tau = 1.0 \\times 10^{-2}\\ \\mathrm{s}$\n- 最小失超长度：$\\ell_{q,\\min} = 3.0 \\times 10^{-2}\\ \\mathrm{m}$\n- 工作电流：$I_{0} = 3.0 \\times 10^{4}\\ \\mathrm{A}$\n- 单位长度正常态电阻：$r_{n} = 4.0 \\times 10^{-2}\\ \\Omega/\\mathrm{m}$\n- 最小电阻电压：$V_{R,\\min} = I_{0} r_{n} \\ell_{q,\\min}$\n- 安全裕度因子：$m = 1.25$\n\n**第二步：使用提取的已知条件进行验证**\n该问题在科学上基于电磁学原理（法拉第定律）和线性时不变（LTI）系统理论（一阶滤波器响应）。在超导磁体中使用平衡电桥进行失超检测以及瞬变过程中的感应不平衡问题，是应用于聚变装置的应用超导学中的一个标准工程问题。该问题提法明确，提供了所有必要的参数和清晰的目标。语言客观且无歧义。给定值对于大型HTS磁体系统是物理上合理的。该问题不违反任何无效性标准。\n\n**第三步：结论与行动**\n问题被判定为有效。将提供完整解答。\n\n解答过程首先定义对 $V_{\\text{th}}$ 的两个约束条件，然后找到满足这两个条件的最小值。\n\n**约束1：避免错误触发**\n在等离子体破裂期间，由于电感失配 $\\Delta L$，电流的快速变化 $\\frac{dI}{dt}$ 会在差分电桥上感应出寄生电压。根据法拉第电磁感应定律，该电压为：\n$$V_{\\text{ind}}(t) = \\Delta L \\frac{dI}{dt}(t)$$\n问题将 $\\frac{dI}{dt}(t)$ 近似为幅值为 $D$、持续时间为 $\\Delta t$ 的矩形脉冲。因此，滤波器的感应输入电压也是一个矩形脉冲：\n$$V_{\\text{ind}}(t) = \\begin{cases} V_{\\text{pulse}}  \\text{for } 0 \\le t \\le \\Delta t \\\\ 0  \\text{otherwise} \\end{cases}$$\n其中脉冲幅值 $V_{\\text{pulse}}$ 为：\n$$V_{\\text{pulse}} = \\Delta L \\cdot D = (\\epsilon L_{\\text{leg}}) D$$\n首先，我们计算 $\\Delta L$ 的数值：\n$$\\Delta L = (8.0 \\times 10^{-3}) \\cdot (6.0 \\times 10^{-3}\\ \\mathrm{H}) = 4.8 \\times 10^{-5}\\ \\mathrm{H}$$\n然后，我们计算感应电压脉冲的幅值：\n$$V_{\\text{pulse}} = (4.8 \\times 10^{-5}\\ \\mathrm{H}) \\cdot (1.5 \\times 10^{6}\\ \\mathrm{A/s}) = 72\\ \\mathrm{V}$$\n这个电压脉冲 $V_{\\text{ind}}(t)$ 通过一个时间常数为 $\\tau$ 的一阶低通滤波器。滤波器对输入脉冲的输出电压 $V_{\\text{filt}}(t)$（假设 $V_{\\text{filt}}(0)=0$）为：\n$$V_{\\text{filt}}(t) = V_{\\text{pulse}} (1 - \\exp(-t/\\tau)) \\quad \\text{for } 0 \\le t \\le \\Delta t$$\n输出电压将在脉冲结束时，即 $t = \\Delta t$ 时达到最大值。这个峰值滤波电压 $V_{\\text{filt,peak}}$ 为：\n$$V_{\\text{filt,peak}} = V_{\\text{pulse}} (1 - \\exp(-\\Delta t/\\tau))$$\n代入给定值：\n$$V_{\\text{filt,peak}} = 72 \\cdot (1 - \\exp(-(3.0 \\times 10^{-3}) / (1.0 \\times 10^{-2}))) = 72 \\cdot (1 - \\exp(-0.3))\\ \\mathrm{V}$$\n为防止错误触发，检测阈值 $V_{\\text{th}}$ 必须大于这个峰值寄生信号，并包含安全裕度 $m$。\n$$V_{\\text{th}} \\ge m \\cdot V_{\\text{filt,peak}}$$\n\n**约束2：保证检测到最小失超**\n一个最小失超事件产生一个电阻电压 $V_{R,\\min}$，由下式给出：\n$$V_{R,\\min} = I_{0} r_{n} \\ell_{q,\\min}$$\n代入给定值：\n$$V_{R,\\min} = (3.0 \\times 10^{4}\\ \\mathrm{A}) \\cdot (4.0 \\times 10^{-2}\\ \\Omega/\\mathrm{m}) \\cdot (3.0 \\times 10^{-2}\\ \\mathrm{m}) = 36\\ \\mathrm{V}$$\n问题指出该电压“持续时间远长于 $\\tau$”。这意味着失超电压对滤波器来说是一个阶跃输入。对于幅值为 $V_{R,\\min}$ 的阶跃输入，滤波后的输出将渐近地趋向于 $V_{R,\\min}$。为保证检测，阈值 $V_{\\text{th}}$ 必须小于或等于最小失超产生的信号水平。由于信号最终将达到 $V_{R,\\min}$，保证检测的条件是：\n$$V_{\\text{th}} \\le V_{R,\\min}$$\n\n**确定阈值电压 $V_{\\text{th}}$**\n我们得到了阈值的有效范围：\n$$m \\cdot V_{\\text{filt,peak}} \\le V_{\\text{th}} \\le V_{R,\\min}$$\n问题要求的是最小的可能恒定阈值。这对应于有效范围的下限：\n$$V_{\\text{th}} = m \\cdot V_{\\text{filt,peak}} = m \\cdot V_{\\text{pulse}} (1 - \\exp(-\\Delta t/\\tau))$$\n我们必须首先通过检查 $m \\cdot V_{\\text{filt,peak}} \\le V_{R,\\min}$ 是否成立来验证解是否存在。\n我们来计算下限的数值：\n$$V_{\\text{th}} = 1.25 \\cdot (72\\ \\mathrm{V}) \\cdot (1 - \\exp(-0.3))$$\n$$V_{\\text{th}} = 90 \\cdot (1 - \\exp(-0.3))\\ \\mathrm{V}$$\n使用计算器，$1 - \\exp(-0.3) \\approx 0.25918178$。\n$$V_{\\text{th}} \\approx 90 \\cdot 0.25918178 \\approx 23.32636\\ \\mathrm{V}$$\n一致性检验为 $23.32636\\ \\mathrm{V} \\le 36\\ \\mathrm{V}$，此式成立。因此，存在有效的阈值。\n\n最小阈值是计算出的值，$V_{\\text{th}} \\approx 23.32636\\ \\mathrm{V}$。问题要求将最终答案四舍五入到四位有效数字。\n$$V_{\\text{th}} \\approx 23.33\\ \\mathrm{V}$$\n该值满足两个条件：它足够高，是峰值感应噪声的1.25倍；同时它也足够低，能够被最小失超产生的 $36\\ \\mathrm{V}$ 信号触发。", "answer": "$$\\boxed{23.33}$$", "id": "3716117"}, {"introduction": "这最后一个实践将前面练习中的概念整合到一个全面的、端到端的失超探测过程仿真中。您将对正常区的物理增长、由此产生的电压信号演变，以及一个包含固有延迟（采样、平均、逻辑处理）的实际数字探测算法的行为进行建模。通过将保护指令发出时间与安全操作窗口进行比较，您将直接评估系统的有效性并确定漏检的风险。[@problem_id:3716145]", "problem": "考虑一个用于核聚变磁体的高温超导（HTS）线圈中的单个孤立缺陷。该缺陷会引发一个局部正常（电阻）区，并沿导体传播。对电阻区长度和相应线圈电压的时间演化进行建模，并确定一个基于电压的淬火检测算法，在有限的采样和处理延迟下，是否能在达到损伤阈值之前发出保护指令。此模型基于绝热热点近似。\n\n基本原理与建模假设：\n- 欧姆定律：电阻区的瞬时线圈电压由 $V(t) = I_0 R(t)$ 给出，其中 $I_0$ 是输运电流，$R(t)$ 是正常区的电阻。\n- 单位长度电阻：$R(t) = r' \\, L_{\\mathrm{res}}(t)$，其中 $r'$ 是单位长度的正常态电阻，$L_{\\mathrm{res}}(t)$ 是在时间 $t$ 时的电阻区长度。\n- 正常区传播：假设正常区以恒定速度 $v_{\\mathrm{nz}}$ 从一个初始长度为 $L_0$ 的缺陷开始对称双向生长，因此电阻区长度为 $L_{\\mathrm{res}}(t) = \\min\\!\\big(L_{\\mathrm{coil}}, \\, L_0 + 2 v_{\\mathrm{nz}} t\\big)$，其中 $L_{\\mathrm{coil}}$ 是线圈中可用的导体总长度。\n- 绝热热点温升：忽略冷却和热传导，假设热点的局部温度因焦耳热而升高，其速率为 $dT/dt = \\dfrac{I_0^2 r'}{\\rho c A}$，其中 $\\rho c$ 是体积热容（质量密度 $\\rho$ 乘以比热 $c$），$A$ 是稳定体的横截面积。安全动作时间为 $t_{\\mathrm{safe}} = \\dfrac{T_{\\max} - T_0}{I_0^2 r'/(\\rho c A)}$，其中 $T_0$ 是初始温度，$T_{\\max}$ 是允许的最高热点温度。\n- 检测算法：每隔 $\\Delta t$ 秒离散采样线圈电压。在持续时间为 $w$ 的窗口上维持一个矩形移动平均值。当移动平均值连续至少在阈值 $V_{\\mathrm{thr}}$ 以上保持 $\\tau_{\\mathrm{hold}}$ 的时间时，在满足该条件的最早采样时刻声明发生淬火。保护指令在额外的算法延迟 $\\tau_{\\mathrm{lat}}$ 后发出。在检测之前，假设输运电流恒定为 $I_0$。\n\n任务：\n1. 使用上述定义，计算在离散采样时刻 $t_k = k \\Delta t$（其中 $k \\in \\mathbb{N}_0$）时 $L_{\\mathrm{res}}(t)$ 和 $V(t)$ 的时间演化。\n2. 精确实现指定的检测算法：移动平均窗口为 $w$，阈值为 $V_{\\mathrm{thr}}$，保持时间为 $\\tau_{\\mathrm{hold}}$，采样间隔为 $\\Delta t$，算法延迟为 $\\tau_{\\mathrm{lat}}$。最早检测时间 $t_{\\mathrm{det}}$ 是移动平均值连续至少 $\\tau_{\\mathrm{hold}}$ 的时间段内大于或等于 $V_{\\mathrm{thr}}$ 的第一个采样时刻。指令发出时间为 $t_{\\mathrm{cmd}} = t_{\\mathrm{det}} + \\tau_{\\mathrm{lat}}$。\n3. 通过比较 $t_{\\mathrm{cmd}}$ 与 $t_{\\mathrm{safe}}$ 来评估漏检风险。将风险定义为一个布尔值 $R$，如果从未发生检测或 $t_{\\mathrm{cmd}} > t_{\\mathrm{safe}}$，则 $R = \\mathrm{True}$，否则 $R = \\mathrm{False}$。\n\n物理单位：\n- $I_0$ 以安培 (A) 表示，$r'$ 以欧姆/米 ($\\Omega/\\mathrm{m}$) 表示，$v_{\\mathrm{nz}}$ 以米/秒 ($\\mathrm{m}/\\mathrm{s}$) 表示，$L_0$ 和 $L_{\\mathrm{coil}}$ 以米 (m) 表示，$V_{\\mathrm{thr}}$ 以伏特 (V) 表示，$w$、$\\tau_{\\mathrm{hold}}$、$\\Delta t$、$\\tau_{\\mathrm{lat}}$ 以秒 (s) 表示，$A$ 以平方米 ($\\mathrm{m}^2$) 表示，$T_0$、$T_{\\max}$ 以开尔文 (K) 表示。最终的风险输出是无单位的布尔值。\n\n测试套件：\n- 案例 A（早期检测，低风险）：\n  - $I_0 = 400 \\, \\mathrm{A}$, $r' = 2 \\times 10^{-3} \\, \\Omega/\\mathrm{m}$, $v_{\\mathrm{nz}} = 4 \\times 10^{-3} \\, \\mathrm{m}/\\mathrm{s}$, $L_0 = 2 \\times 10^{-2} \\, \\mathrm{m}$, $L_{\\mathrm{coil}} = 100 \\, \\mathrm{m}$, $V_{\\mathrm{thr}} = 5 \\times 10^{-2} \\, \\mathrm{V}$, $w = 5 \\times 10^{-2} \\, \\mathrm{s}$, $\\tau_{\\mathrm{hold}} = 2 \\times 10^{-2} \\, \\mathrm{s}$, $\\Delta t = 5 \\times 10^{-3} \\, \\mathrm{s}$, $\\tau_{\\mathrm{lat}} = 1 \\times 10^{-2} \\, \\mathrm{s}$, $A = 8 \\times 10^{-6} \\, \\mathrm{m}^2$, $\\rho c = 3 \\times 10^{6} \\, \\mathrm{J}/(\\mathrm{m}^3 \\cdot \\mathrm{K})$, $T_0 = 30 \\, \\mathrm{K}$, $T_{\\max} = 380 \\, \\mathrm{K}$.\n- 案例 B（与案例 A 相同，但延迟较大）：\n  - $I_0 = 400 \\, \\mathrm{A}$, $r' = 2 \\times 10^{-3} \\, \\Omega/\\mathrm{m}$, $v_{\\mathrm{nz}} = 4 \\times 10^{-3} \\, \\mathrm{m}/\\mathrm{s}$, $L_0 = 2 \\times 10^{-2} \\, \\mathrm{m}$, $L_{\\mathrm{coil}} = 100 \\, \\mathrm{m}$, $V_{\\mathrm{thr}} = 5 \\times 10^{-2} \\, \\mathrm{V}$, $w = 5 \\times 10^{-2} \\, \\mathrm{s}$, $\\tau_{\\mathrm{hold}} = 2 \\times 10^{-2} \\, \\mathrm{s}$, $\\Delta t = 5 \\times 10^{-3} \\, \\mathrm{s}$, $\\tau_{\\mathrm{lat}} = 3.0 \\, \\mathrm{s}$, $A = 8 \\times 10^{-6} \\, \\mathrm{m}^2$, $\\rho c = 3 \\times 10^{6} \\, \\mathrm{J}/(\\mathrm{m}^3 \\cdot \\mathrm{K})$, $T_0 = 30 \\, \\mathrm{K}$, $T_{\\max} = 380 \\, \\mathrm{K}$.\n- 案例 C（因线圈长度限制无法达到阈值；永不发生检测）：\n  - $I_0 = 600 \\, \\mathrm{A}$, $r' = 1.5 \\times 10^{-3} \\, \\Omega/\\mathrm{m}$, $v_{\\mathrm{nz}} = 3 \\times 10^{-3} \\, \\mathrm{m}/\\mathrm{s}$, $L_0 = 2 \\times 10^{-2} \\, \\mathrm{m}$, $L_{\\mathrm{coil}} = 1.0 \\, \\mathrm{m}$, $V_{\\mathrm{thr}} = 1.2 \\, \\mathrm{V}$, $w = 1 \\times 10^{-1} \\, \\mathrm{s}$, $\\tau_{\\mathrm{hold}} = 5 \\times 10^{-2} \\, \\mathrm{s}$, $\\Delta t = 5 \\times 10^{-3} \\, \\mathrm{s}$, $\\tau_{\\mathrm{lat}} = 2 \\times 10^{-2} \\, \\mathrm{s}$, $A = 6 \\times 10^{-6} \\, \\mathrm{m}^2$, $\\rho c = 3 \\times 10^{6} \\, \\mathrm{J}/(\\mathrm{m}^3 \\cdot \\mathrm{K})$, $T_0 = 70 \\, \\mathrm{K}$, $T_{\\max} = 400 \\, \\mathrm{K}$.\n- 案例 D（传播缓慢且电流小；在损坏前检测）：\n  - $I_0 = 300 \\, \\mathrm{A}$, $r' = 1.5 \\times 10^{-3} \\, \\Omega/\\mathrm{m}$, $v_{\\mathrm{nz}} = 1 \\times 10^{-3} \\, \\mathrm{m}/\\mathrm{s}$, $L_0 = 1 \\times 10^{-2} \\, \\mathrm{m}$, $L_{\\mathrm{coil}} = 200 \\, \\mathrm{m}$, $V_{\\mathrm{thr}} = 3 \\times 10^{-2} \\, \\mathrm{V}$, $w = 2 \\times 10^{-1} \\, \\mathrm{s}$, $\\tau_{\\mathrm{hold}} = 5 \\times 10^{-2} \\, \\mathrm{s}$, $\\Delta t = 1 \\times 10^{-2} \\, \\mathrm{s}$, $\\tau_{\\mathrm{lat}} = 2 \\times 10^{-2} \\, \\mathrm{s}$, $A = 1 \\times 10^{-5} \\, \\mathrm{m}^2$, $\\rho c = 3 \\times 10^{6} \\, \\mathrm{J}/(\\mathrm{m}^3 \\cdot \\mathrm{K})$, $T_0 = 50 \\, \\mathrm{K}$, $T_{\\max} = 400 \\, \\mathrm{K}$.\n\n您的程序应生成单行输出，其中包含一个方括号括起来的逗号分隔列表（例如，`[result_1,result_2,result_3,result_4]`），每个条目是对应测试案例的布尔值漏检风险 $R$，按上面列出的顺序排列。不应产生任何其他输出。", "solution": "在尝试任何解决方案之前，需对问题进行验证。\n\n### 步骤 1：提取已知信息\n\n所提供的数据、定义和模型假设如下：\n\n- **线圈电压的欧姆定律**：$V(t) = I_0 R(t)$，其中 $I_0$ 是恒定的输运电流，$R(t)$ 是正常区随时间变化的电阻。\n- **正常区电阻**：$R(t) = r' \\, L_{\\mathrm{res}}(t)$，其中 $r'$ 是单位长度的正常态电阻，$L_{\\mathrm{res}}(t)$ 是随时间变化的电阻区长度。\n- **正常区传播模型**：电阻区从一个初始长度为 $L_0$ 的缺陷开始，以恒定的正常区传播速度 $v_{\\mathrm{nz}}$ 对称生长。生长受限于线圈导体的总长度 $L_{\\mathrm{coil}}$。该模型由 $L_{\\mathrm{res}}(t) = \\min\\!\\big(L_{\\mathrm{coil}}, \\, L_0 + 2 v_{\\mathrm{nz}} t\\big)$ 给出。\n- **绝热热点模型和安全动作时间**：假设热点的局部温度 $T$ 以恒定速率 $dT/dt = \\dfrac{I_0^2 r'}{\\rho c A}$ 增加，其中 $\\rho c$ 是体积热容，$A$ 是稳定体的横截面积。这导出了一个安全动作时间 $t_{\\mathrm{safe}} = \\dfrac{T_{\\max} - T_0}{I_0^2 r'/(\\rho c A)}$，其中 $T_0$ 是初始温度，$T_{\\max}$ 是允许的最高热点温度。\n- **淬火检测算法**：\n    - 以离散的时间间隔 $\\Delta t$ 采样线圈电压。\n    - 在持续时间为 $w$ 的时间窗口上计算电压的矩形移动平均值。\n    - 如果该移动平均值连续至少在电压阈值 $V_{\\mathrm{thr}}$ 以上保持 $\\tau_{\\mathrm{hold}}$ 的时间，则声明发生淬火。\n    - 检测时间 $t_{\\mathrm{det}}$ 是满足此条件的最早采样时刻。\n    - 在时间 $t_{\\mathrm{cmd}} = t_{\\mathrm{det}} + \\tau_{\\mathrm{lat}}$ 时发出保护指令，其中 $\\tau_{\\mathrm{lat}}$ 是一个固定的算法和仪表延迟。\n- **漏检风险**：风险 $R$ 是一个布尔变量，定义为如果从未发生检测或 $t_{\\mathrm{cmd}} > t_{\\mathrm{safe}}$，则 $R = \\mathrm{True}$。否则，$R = \\mathrm{False}$。\n- **测试案例**：提供了四组不同的物理和算法参数用于评估。\n\n### 步骤 2：使用提取的已知信息进行验证\n\n根据既定的验证标准对问题进行评估。\n\n- **科学依据**：该问题基于应用超导和磁体工程领域中已建立但简化的模型。正常区传播、焦耳热（$I^2R$）、绝热热点近似以及基于电压的淬火检测等概念在该领域都是标准内容。所提供的方程是这些现象的简化但物理上一致的表示。\n- **良构性**：问题定义明确。它提供了所有必要的参数以及一套清晰、确定性的物理模拟和检测算法规则。对于每组输入，都可以计算出唯一的输出（风险布尔值 $R$）。问题是自洽的。\n- **客观性**：问题以精确、无偏见和定量的语言陈述。它依赖于数学公式和逻辑条件，没有主观因素。\n\n该问题未表现出任何指定的无效缺陷。这些模型是可形式化的，参数对于聚变装置中的HTS线圈是物理上合理的，设置是完整且一致的，任务是一个需要仔细实现指定逻辑的非平凡计算。\n\n### 步骤 3：结论与行动\n\n该问题是**有效的**。将通过实现基于所提供模型的数值模拟来开发解决方案。\n\n### 算法解决方案设计\n\n该解决方案涉及对线圈电压进行时域模拟，然后应用指定的淬火检测逻辑。对四个测试案例中的每一个都重复此过程。\n\n**1. 物理现象建模**\n\n首先，我们建立控制系统状态的解析表达式。安全时间 $t_{\\mathrm{safe}}$ 对于每个案例都是一个常数，可以直接从热学和电学参数计算得出：\n$$\nt_{\\mathrm{safe}} = \\frac{(T_{\\max} - T_0) \\rho c A}{I_0^2 r'}\n$$\n电阻区长度 $L_{\\mathrm{res}}(t)$ 的时间演化是线性的，直到饱和于总线圈长度 $L_{\\mathrm{coil}}$：\n$$\nL_{\\mathrm{res}}(t) = \\min(L_{\\mathrm{coil}}, L_0 + 2 v_{\\mathrm{nz}} t)\n$$\n相应的线圈电压 $V(t)$ 则由欧姆定律确定：\n$$\nV(t) = I_0 r' L_{\\mathrm{res}}(t) = I_0 r' \\min(L_{\\mathrm{coil}}, L_0 + 2 v_{\\mathrm{nz}} t)\n$$\n\n**2. 数值模拟框架**\n\n检测算法作用于离散的电压样本。因此，我们必须在离散的时间步长 $t_k = k \\Delta t$（其中 $k = 0, 1, 2, \\dots$）上模拟系统。每个样本的电压为 $V_k = V(t_k)$。\n\n一个必要的初步检查是计算最大可能电压 $V_{\\max} = I_0 r' L_{\\mathrm{coil}}$。如果 $V_{\\max}  V_{\\mathrm{thr}}$，则电压阈值永远无法达到，检测是不可能的。在这种情况下，风险 $R$ 立即被评估为 $\\mathrm{True}$。\n\n对于可能发生检测的情况，模拟必须运行足够长的时间以确定是否发生“安全”检测。安全检测必须满足 $t_{\\mathrm{cmd}} \\le t_{\\mathrm{safe}}$，这意味着 $t_{\\mathrm{det}} \\le t_{\\mathrm{safe}} - \\tau_{\\mathrm{lat}}$。在此时间之后的任何检测都将导致风险状况。因此，可以将一个合适的模拟最长时间 $T_{\\mathrm{sim}}$ 设置为略超过 $t_{\\mathrm{safe}}$，以确保任何潜在的安全检测都被捕获。一个稳健的选择是 $T_{\\mathrm{sim}} = t_{\\mathrm{safe}} + w + \\tau_{\\mathrm{hold}} + \\tau_{\\mathrm{lat}}$。生成一个时间点数组和相应的电压信号，直至此 $T_{\\mathrm{sim}}$。\n\n**3. 淬火检测算法**\n\n问题的核心是正确实现检测逻辑。\n\n- **移动平均**：在电压样本上计算一个矩形移动平均值。对于持续时间为 $w$ 的窗口和采样间隔 $\\Delta t$，窗口中的样本数为 $N_w = w / \\Delta t$。（问题的测试案例确保这是一个整数）。在每个时间步 $t_k$，平均电压 $V_{\\mathrm{avg},k}$ 是从 $V_{k-N_w+1}$ 到 $V_k$ 的样本的平均值。\n- **保持时间逻辑**：我们必须跟踪条件 $V_{\\mathrm{avg},k} \\ge V_{\\mathrm{thr}}$ 持续的时间。使用一个计数器来跟踪满足此条件的连续时间步数。设此为 `consecutive_above_count`。如果 $V_{\\mathrm{avg},k} \\ge V_{\\mathrm{thr}}$，计数器递增。如果 $V_{\\mathrm{avg},k}  V_{\\mathrm{thr}}$，则将其重置为零。\n- **检测时间 ($t_{\\mathrm{det}}$)**：在 `consecutive_above_count` 达到或超过与保持时间等效的样本数 $N_{\\mathrm{hold}} = \\tau_{\\mathrm{hold}} / \\Delta t$ 的第一个时间步 $t_k$ 时触发检测事件。此时间 $t_k$ 即为检测时间 $t_{\\mathrm{det}}$。\n\n**4. 风险评估**\n\n一旦模拟和检测循环结束，就确定风险 $R$：\n\n1. 如果循环完成且未触发检测事件（即未找到 $t_{\\mathrm{det}}$），则风险 $R$ 为 $\\mathrm{True}$。\n2. 如果找到了检测时间 $t_{\\mathrm{det}}$，则计算保护指令发出时间为 $t_{\\mathrm{cmd}} = t_{\\mathrm{det}} + \\tau_{\\mathrm{lat}}$。\n3. 将此指令时间与安全动作时间 $t_{\\mathrm{safe}}$ 进行比较。如果 $t_{\\mathrm{cmd}} > t_{\\mathrm{safe}}$，则风险 $R$ 为 $\\mathrm{True}$，否则为 $\\mathrm{False}$。\n\n将此完整过程封装并应用于每个测试案例，以生成最终结果。", "answer": "```python\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Main function to run all test cases and print the final results.\n    \"\"\"\n    test_cases = [\n        # Case A: early detection, low risk\n        {\n            \"I0\": 400.0, \"r_prime\": 2e-3, \"v_nz\": 4e-3, \"L0\": 2e-2, \"L_coil\": 100.0,\n            \"V_thr\": 5e-2, \"w\": 5e-2, \"tau_hold\": 2e-2, \"dt\": 5e-3, \"tau_lat\": 1e-2,\n            \"A\": 8e-6, \"rho_c\": 3e6, \"T0\": 30.0, \"T_max\": 380.0,\n        },\n        # Case B: same as Case A but with large latency\n        {\n            \"I0\": 400.0, \"r_prime\": 2e-3, \"v_nz\": 4e-3, \"L0\": 2e-2, \"L_coil\": 100.0,\n            \"V_thr\": 5e-2, \"w\": 5e-2, \"tau_hold\": 2e-2, \"dt\": 5e-3, \"tau_lat\": 3.0,\n            \"A\": 8e-6, \"rho_c\": 3e6, \"T0\": 30.0, \"T_max\": 380.0,\n        },\n        # Case C: threshold unreachable\n        {\n            \"I0\": 600.0, \"r_prime\": 1.5e-3, \"v_nz\": 3e-3, \"L0\": 2e-2, \"L_coil\": 1.0,\n            \"V_thr\": 1.2, \"w\": 1e-1, \"tau_hold\": 5e-2, \"dt\": 5e-3, \"tau_lat\": 2e-2,\n            \"A\": 6e-6, \"rho_c\": 3e6, \"T0\": 70.0, \"T_max\": 400.0,\n        },\n        # Case D: slow propagation, detection before damage\n        {\n            \"I0\": 300.0, \"r_prime\": 1.5e-3, \"v_nz\": 1e-3, \"L0\": 1e-2, \"L_coil\": 200.0,\n            \"V_thr\": 3e-2, \"w\": 2e-1, \"tau_hold\": 5e-2, \"dt\": 1e-2, \"tau_lat\": 2e-2,\n            \"A\": 1e-5, \"rho_c\": 3e6, \"T0\": 50.0, \"T_max\": 400.0,\n        },\n    ]\n\n    results = []\n    for case in test_cases:\n        risk = process_case(case)\n        results.append(risk)\n\n    print(f\"[{','.join(map(str, results))}]\")\n\ndef process_case(params):\n    \"\"\"\n    Analyzes a single test case for missed-detection risk.\n    \"\"\"\n    I0 = params[\"I0\"]\n    r_prime = params[\"r_prime\"]\n    v_nz = params[\"v_nz\"]\n    L0 = params[\"L0\"]\n    L_coil = params[\"L_coil\"]\n    V_thr = params[\"V_thr\"]\n    w = params[\"w\"]\n    tau_hold = params[\"tau_hold\"]\n    dt = params[\"dt\"]\n    tau_lat = params[\"tau_lat\"]\n    A = params[\"A\"]\n    rho_c = params[\"rho_c\"]\n    T0 = params[\"T0\"]\n    T_max = params[\"T_max\"]\n\n    # 1. Calculate safe action time\n    joule_heating_term = I0**2 * r_prime\n    thermal_capacity_term = (T_max - T0) * rho_c * A\n    t_safe = thermal_capacity_term / joule_heating_term\n\n    # 2. Check if detection is possible at all\n    V_max = I0 * r_prime * L_coil\n    if V_max  V_thr:\n        return True # Risk is True if threshold is unreachable\n\n    # 3. Set up simulation timeline\n    # The simulation must run long enough to find any \"safe\" detection.\n    # A safe detection must occur before t_safe - tau_lat.\n    # We simulate up to t_safe plus margins to ensure we capture relevant events.\n    t_sim_max = t_safe + w + tau_hold + tau_lat\n    num_steps = int(np.ceil(t_sim_max / dt))\n    t = np.arange(num_steps) * dt\n\n    # 4. Generate the voltage signal over time\n    L_res = np.minimum(L_coil, L0 + 2 * v_nz * t)\n    V_signal = I0 * r_prime * L_res\n\n    # 5. Implement the detection algorithm\n    # Number of samples in moving average window and hold time\n    # The problem setup ensures these are integers.\n    N_w = int(round(w / dt))\n    N_hold = int(round(tau_hold / dt))\n\n    t_det = np.inf\n    consecutive_above_count = 0\n\n    # Start loop after enough samples for the first full window\n    for k in range(N_w - 1, num_steps):\n        # Calculate moving average over the last N_w samples\n        v_avg = np.mean(V_signal[k - N_w + 1 : k + 1])\n\n        if v_avg >= V_thr:\n            consecutive_above_count += 1\n        else:\n            consecutive_above_count = 0\n        \n        # Check if hold condition is met\n        if consecutive_above_count >= N_hold:\n            # Detection confirmed at time t[k]\n            # Since we need the *earliest* time, we find the start of hold period\n            # The current logic correctly identifies the /end/ of the first successful hold period.\n            # The problem definition \"first sampled instant when...has been...\" implies this is correct.\n            t_det = t[k]\n            break # Exit loop once first detection is found\n\n    # 6. Final risk assessment\n    if np.isinf(t_det):\n        return True # No detection occurred within the simulation time\n    \n    t_cmd = t_det + tau_lat\n    \n    return t_cmd > t_safe\n\nsolve()\n```", "id": "3716145"}]}