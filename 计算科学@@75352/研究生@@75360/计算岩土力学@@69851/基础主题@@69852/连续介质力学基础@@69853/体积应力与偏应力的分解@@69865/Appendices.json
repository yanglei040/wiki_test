{"hands_on_practices": [{"introduction": "理论联系实际是掌握应力不变量的关键。本练习旨在将抽象的偏应力标量 $q$ 与岩土力学中常见的轴对称三轴试验中的物理量（轴向与围压之差）联系起来。通过从第一性原理出发进行计算，您将验证在这类常见应力状态下二者的等价性，从而加深对偏应力大小的直观理解。[@problem_id:3570654]", "problem": "一个排水、无粘性地质材料的圆柱形试样承受轴对称三轴压缩。在主应力坐标系中，柯西应力张量为\n$$\n\\boldsymbol{\\sigma} = \\begin{pmatrix}\n\\sigma_{1}  0  0 \\\\\n0  \\sigma_{3}  0 \\\\\n0  0  \\sigma_{3}\n\\end{pmatrix},\n$$\n轴向应力为 $\\sigma_{1} = 28.45$ 兆帕斯卡 (MPa)，侧向（围压）应力为 $\\sigma_{3} = 6.10$ MPa。从应力的体积-偏应力分解出发，计算偏应力张量 $\\mathbf{s}$ 和偏应力张量的第二不变量 ($J_{2}$)。然后，使用基于不变量的偏应力标量度量 $q$ 来量化 $\\mathbf{s}$ 的大小，并将其与此轴对称状态下的轴向应力与围压之差 $\\sigma_{1}-\\sigma_{3}$ 进行比较。不要假设主应力空间中任何预先制定的关系；直接从核心定义进行计算。\n\n给出标量度量 $q$ 的数值，四舍五入到四位有效数字。最终值以 MPa 为单位表示。", "solution": "该问题是有效的，因为它在科学上基于连续介质力学，提法恰当，提供了所有必要的数据，并且其表述是客观的。我们将遵循应力分解和不变量的定义来求解该问题。\n\n柯西应力张量 $\\boldsymbol{\\sigma}$ 可以分解为一个体积（静水）部分和一个偏应力部分。体积部分代表在所有方向上均等作用的平均应力 $p$，而偏应力部分 $\\mathbf{s}$ 代表剪应力。该分解由下式给出：\n$$ \\boldsymbol{\\sigma} = \\mathbf{s} + p\\mathbf{I} $$\n其中 $\\mathbf{I}$ 是二阶单位张量。\n\n平均应力 $p$ 定义为应力张量迹的三分之一，也就是应力第一不变量 $I_1$。\n$$ p = \\frac{1}{3} \\text{tr}(\\boldsymbol{\\sigma}) = \\frac{1}{3} I_1 = \\frac{1}{3} (\\sigma_{11} + \\sigma_{22} + \\sigma_{33}) $$\n给定的应力状态是轴对称的，其主应力为 $\\sigma_1$、$\\sigma_2 = \\sigma_3$ 和 $\\sigma_3$。应力张量为：\n$$ \\boldsymbol{\\sigma} = \\begin{pmatrix} \\sigma_{1}  0  0 \\\\ 0  \\sigma_{3}  0 \\\\ 0  0  \\sigma_{3} \\end{pmatrix} $$\n给定 $\\sigma_{1} = 28.45$ MPa 和 $\\sigma_{3} = 6.10$ MPa。因此，平均应力 $p$ 为：\n$$ p = \\frac{1}{3} (\\sigma_{1} + \\sigma_{3} + \\sigma_{3}) = \\frac{1}{3} (\\sigma_{1} + 2\\sigma_{3}) $$\n代入数值：\n$$ p = \\frac{1}{3} (28.45 + 2 \\times 6.10) = \\frac{1}{3} (28.45 + 12.20) = \\frac{1}{3} (40.65) = 13.55 \\, \\text{MPa} $$\n\n接下来，我们通过重排分解方程来计算偏应力张量 $\\mathbf{s}$：\n$$ \\mathbf{s} = \\boldsymbol{\\sigma} - p\\mathbf{I} $$\n用分量形式表示，$s_{ij} = \\sigma_{ij} - p\\delta_{ij}$，其中 $\\delta_{ij}$ 是克罗内克符号。偏应力张量的主分量为：\n$$ s_1 = \\sigma_1 - p = 28.45 - 13.55 = 14.90 \\, \\text{MPa} $$\n$$ s_2 = \\sigma_2 - p = \\sigma_3 - p = 6.10 - 13.55 = -7.45 \\, \\text{MPa} $$\n$$ s_3 = \\sigma_3 - p = 6.10 - 13.55 = -7.45 \\, \\text{MPa} $$\n在主坐标系中，偏应力张量为：\n$$ \\mathbf{s} = \\begin{pmatrix} 14.90  0  0 \\\\ 0  -7.45  0 \\\\ 0  0  -7.45 \\end{pmatrix} \\, \\text{MPa} $$\n作为验算，偏应力张量的迹必须为零：$\\text{tr}(\\mathbf{s}) = s_1 + s_2 + s_3 = 14.90 - 7.45 - 7.45 = 0$。\n\n偏应力张量的第二不变量 $J_2$ 定义为：\n$$ J_2 = \\frac{1}{2} s_{ij} s_{ji} = \\frac{1}{2} \\text{tr}(\\mathbf{s}^2) $$\n用主偏应力表示，这变为：\n$$ J_2 = \\frac{1}{2} (s_1^2 + s_2^2 + s_3^2) = \\frac{1}{2} (s_1^2 + 2s_3^2) $$\n代入计算出的值：\n$$ J_2 = \\frac{1}{2} ((14.90)^2 + 2(-7.45)^2) = \\frac{1}{2} (222.01 + 2(55.5025)) = \\frac{1}{2} (222.01 + 111.005) = \\frac{333.015}{2} = 166.5075 \\, \\text{MPa}^2 $$\n或者，$J_2$ 可以用主柯西应力表示：\n$$ J_2 = \\frac{1}{6} \\left[ (\\sigma_1 - \\sigma_2)^2 + (\\sigma_2 - \\sigma_3)^2 + (\\sigma_3 - \\sigma_1)^2 \\right] $$\n对于 $\\sigma_2 = \\sigma_3$ 的轴对称情况：\n$$ J_2 = \\frac{1}{6} \\left[ (\\sigma_1 - \\sigma_3)^2 + (\\sigma_3 - \\sigma_3)^2 + (\\sigma_3 - \\sigma_1)^2 \\right] = \\frac{1}{6} \\left[ (\\sigma_1 - \\sigma_3)^2 + 0 + (-(\\sigma_1 - \\sigma_3))^2 \\right] = \\frac{1}{3} (\\sigma_1 - \\sigma_3)^2 $$\n使用给定值：\n$$ \\sigma_1 - \\sigma_3 = 28.45 - 6.10 = 22.35 \\, \\text{MPa} $$\n$$ J_2 = \\frac{1}{3} (22.35)^2 = \\frac{1}{3}(499.5225) = 166.5075 \\, \\text{MPa}^2 $$\n两种方法的结果相同，证实了计算的正确性。\n\n现在，我们计算基于不变量的偏应力标量度量 $q$，它在岩土力学中常用，定义为：\n$$ q = \\sqrt{3 J_2} $$\n代入 $J_2$ 的值：\n$$ q = \\sqrt{3 \\times 166.5075} = \\sqrt{499.5225} = 22.35 \\, \\text{MPa} $$\n\n问题要求将此值与轴向应力与围压之差 $\\sigma_1 - \\sigma_3$ 进行比较。我们已经计算出这个差值：\n$$ \\sigma_1 - \\sigma_3 = 22.35 \\, \\text{MPa} $$\n因此，我们发现对于这个特定的轴对称应力状态，标量偏应力度量 $q$ 完全等于轴向主应力与围压主应力之差：\n$$ q = \\sigma_1 - \\sigma_3 $$\n这是轴对称三轴压缩条件下的一个一般性结论。\n\n最后的任务是提供四舍五入到四位有效数字的 $q$ 值。我们计算出的值为 $22.35$，它已经有四位有效数字。不需要进一步四舍五入。", "answer": "$$\n\\boxed{22.35}\n$$", "id": "3570654"}, {"introduction": "在掌握了基本计算后，下一步是将其应用于计算环境中。在有限元等数值方法中，张量分解通常通过矩阵运算实现。本练习将指导您推导并实现用于应力分解的投影矩阵，这些矩阵可以将任意应力状态精确地分离为其体积和偏量部分，这是所有弹塑性本构模型的核心操作。[@problem_id:3570647]", "problem": "要求您在 Voigt 标记法下推导并实现三维应力张量的体积和偏投影算子，然后数值验证其关键属性。此任务必须使用一个单一、完整、可运行的程序来完成。\n\n出发点与基本依据：\n- 设一个三维柯西应力张量为一个对称二阶张量，记为 $\\boldsymbol{\\sigma}$。其线性弹性分解为体积（球形）部分和偏部分为 $\\boldsymbol{\\sigma} = \\boldsymbol{\\sigma}^{\\text{vol}} + \\boldsymbol{\\sigma}^{\\text{dev}}$，其中 $\\boldsymbol{\\sigma}^{\\text{vol}} = p\\,\\mathbf{I}$ 且 $\\boldsymbol{\\sigma}^{\\text{dev}} = \\boldsymbol{\\sigma} - p\\,\\mathbf{I}$。这里 $\\mathbf{I}$ 是二阶单位张量，$p$ 是由 $p = \\tfrac{1}{3}\\,\\text{tr}(\\boldsymbol{\\sigma})$ 定义的平均（静水）应力，$\\text{tr}(\\cdot)$ 表示迹。\n- 在计算岩土力学中，对称张量的一种常用线性代数表示是 Voigt 标记法，它将张量 $\\boldsymbol{\\sigma}$ 映射为一个向量 $s \\in \\mathbb{R}^{6}$：\n$$\ns = \\begin{bmatrix}\n\\sigma_{11} \\\\ \\sigma_{22} \\\\ \\sigma_{33} \\\\ \\sigma_{23} \\\\ \\sigma_{13} \\\\ \\sigma_{12}\n\\end{bmatrix},\n$$\n其中，剪切分量不使用任何缩放因子（这是应力的标准 Voigt 映射，而非 Mandel 映射）。\n- 体积和偏投影是对称张量空间上的线性映射。作为四阶张量，它们可以写为 $\\mathbb{J} = \\tfrac{1}{3}\\,\\mathbf{I} \\otimes \\mathbf{I}$（体积投影算子）和 $\\mathbb{K} = \\mathbb{I}^{\\text{S}} - \\mathbb{J}$（偏投影算子），其中 $\\mathbb{I}^{\\text{S}}$ 是对称四阶单位张量。在 Voigt 标记法中表示时，它们定义了 $6 \\times 6$ 的矩阵 $P^{\\text{vol}}$ 和 $P^{\\text{dev}}$，使得对于任意应力向量 $s$，都有：\n$$\ns^{\\text{vol}} = P^{\\text{vol}}\\,s, \\qquad s^{\\text{dev}} = P^{\\text{dev}}\\,s.\n$$\n\n您的任务：\n- 基于上述基本定义，推导出 $6 \\times 6$ 矩阵 $P^{\\text{vol}}$ 和 $P^{\\text{dev}}$ 的显式形式，这些矩阵在所述的 Voigt 标记法下，分别将任意应力向量 $s$ 投影到其体积部分和偏部分。不要假定或使用预先记忆的最终公式；相反，应从 $\\boldsymbol{\\sigma}^{\\text{vol}} = p\\,\\mathbf{I}$ 和 $\\boldsymbol{\\sigma}^{\\text{dev}} = \\boldsymbol{\\sigma} - p\\,\\mathbf{I}$ 的定义以及 Voigt 映射来推导其结构。在代码中实现它们的构造。\n- 数值验证以下属性：$P^{\\text{vol}}$ 和 $P^{\\text{dev}}$ 是幂等的，即 $P^{\\text{vol}} P^{\\text{vol}} = P^{\\text{vol}}$ 和 $P^{\\text{dev}} P^{\\text{dev}} = P^{\\text{dev}}$；它们是互补投影算子，即 $P^{\\text{vol}} + P^{\\text{dev}} = I_{6}$ 和 $P^{\\text{vol}} P^{\\text{dev}} = 0_{6}$；并且它们是对称矩阵。\n- 使用 Voigt 分量顺序 $[\\sigma_{11},\\sigma_{22},\\sigma_{33},\\sigma_{23},\\sigma_{13},\\sigma_{12}]^{\\top}$。\n\n物理与数值单位：\n- 将所有应力视为无量纲标量。所有输出应为无量纲浮点数或布尔值。\n\n测试套件：\n实现一个测试套件，包含以下应力向量 $s$（每个都以指定的 Voigt 顺序表示）：\n1. 一般混合应力：$s_{1} = [100.0,-50.0,25.0,10.0,-20.0,15.0]$。\n2. 纯静水应力：$s_{2} = [80.0,80.0,80.0,0.0,0.0,0.0]$。\n3. $2$-$3$ 平面内的纯剪切应力：$s_{3} = [0.0,0.0,0.0,30.0,0.0,0.0]$。\n4. 大数值正应力边界情况：$s_{4} = [-1000000.0,2000000.0,-1000000.0,0.0,0.0,0.0]$。\n\n对每个测试用例，计算：\n- 通过您的 $P^{\\text{vol}}$ 和 $P^{\\text{dev}}$ 矩阵计算体积投影 $s^{\\text{vol}}$ 和偏投影 $s^{\\text{dev}}$。\n- 期望的体积向量 $s^{\\text{vol}}_{\\text{exp}} = [p,p,p,0,0,0]$，其中 $p = \\tfrac{1}{3}(s_{1} + s_{2} + s_{3})$，$s_{1},s_{2},s_{3}$ 是测试应力 $s$ 的前三个正应力分量。\n- 期望的偏向量 $s^{\\text{dev}}_{\\text{exp}} = s - s^{\\text{vol}}_{\\text{exp}}$。\n- 对每个测试用例报告以下四个浮点数：$s^{\\text{vol}} - s^{\\text{vol}}_{\\text{exp}}$ 的欧几里得范数，$s^{\\text{dev}} - s^{\\text{dev}}_{\\text{exp}}$ 的欧几里得范数，$s^{\\text{dev}}$ 的前三个分量之和（应等于 $0$），以及 $s^{\\text{vol}}$ 的后三个分量之欧几里得范数（应等于 $0$）。\n\n此外，报告一个布尔值列表，用于评估投影算子的属性：$P^{\\text{vol}} P^{\\text{vol}} = P^{\\text{vol}}$，$P^{\\text{dev}} P^{\\text{dev}} = P^{\\text{dev}}$，$P^{\\text{vol}} P^{\\text{dev}} = 0_{6}$，$P^{\\text{vol}} + P^{\\text{dev}} = I_{6}$，$P^{\\text{vol}}$ 的对称性和 $P^{\\text{dev}}$ 的对称性，所有测试都使用一个小的数值容差。\n\n最终输出格式：\n- 您的程序应生成单行输出，其中包含一个用方括号括起来的逗号分隔列表。该列表必须按顺序包含：展平的行主序 $P^{\\text{vol}}$ 矩阵（作为浮点数列表）、展平的行主序 $P^{\\text{dev}}$ 矩阵（作为浮点数列表）、然后是每个测试用例包含其四个浮点数的一个列表，最后是投影算子属性的布尔值列表。例如，总体结构为 $[P^{\\text{vol}}_{\\text{flat}},P^{\\text{dev}}_{\\text{flat}},\\text{case}_{1},\\text{case}_{2},\\text{case}_{3},\\text{case}_{4},\\text{props}]$。", "solution": "将应力张量分解为其体积和偏分量是连续介质力学中的一个基本问题。此任务要求在 Voigt 标记法下推导和实现执行此分解的线性算子（或称投影算子）。我们将从第一性原理出发推导这些算子，然后验证它们的属性。\n\n出发点是一个对称的二阶柯西应力张量 $\\boldsymbol{\\sigma}$。在三维笛卡尔坐标系中，它由以下矩阵表示：\n$$\n\\boldsymbol{\\sigma} = \\begin{bmatrix} \\sigma_{11}  \\sigma_{12}  \\sigma_{13} \\\\ \\sigma_{21}  \\sigma_{22}  \\sigma_{23} \\\\ \\sigma_{31}  \\sigma_{32}  \\sigma_{33} \\end{bmatrix}\n$$\n由于对称性，$\\sigma_{ij} = \\sigma_{ji}$。\n\n问题指定使用 Voigt 标记法，它将 $\\boldsymbol{\\sigma}$ 的六个独立分量映射到一个六维向量 $s \\in \\mathbb{R}^6$。指定的映射如下：\n$$\ns = \\begin{bmatrix} s_1 \\\\ s_2 \\\\ s_3 \\\\ s_4 \\\\ s_5 \\\\ s_6 \\end{bmatrix} = \\begin{bmatrix} \\sigma_{11} \\\\ \\sigma_{22} \\\\ \\sigma_{33} \\\\ \\sigma_{23} \\\\ \\sigma_{13} \\\\ \\sigma_{12} \\end{bmatrix}\n$$\n\n应力张量 $\\boldsymbol{\\sigma}$ 可加法分解为一个体积部分 $\\boldsymbol{\\sigma}^{\\text{vol}}$ 和一个偏部分 $\\boldsymbol{\\sigma}^{\\text{dev}}$：\n$$\n\\boldsymbol{\\sigma} = \\boldsymbol{\\sigma}^{\\text{vol}} + \\boldsymbol{\\sigma}^{\\text{dev}}\n$$\n体积部分，也称为球形或各向同性部分，定义为 $\\boldsymbol{\\sigma}^{\\text{vol}} = p\\,\\mathbf{I}$，其中 $\\mathbf{I}$ 是二阶单位张量，$p$ 是平均应力。平均应力是应力张量迹的三分之一：\n$$\np = \\frac{1}{3}\\,\\text{tr}(\\boldsymbol{\\sigma}) = \\frac{1}{3}(\\sigma_{11} + \\sigma_{22} + \\sigma_{33})\n$$\n偏部分是剩余的部分：$\\boldsymbol{\\sigma}^{\\text{dev}} = \\boldsymbol{\\sigma} - \\boldsymbol{\\sigma}^{\\text{vol}}$。\n\n我们的目标是找到 $6 \\times 6$ 矩阵 $P^{\\text{vol}}$ 和 $P^{\\text{dev}}$，它们对 Voigt 向量 $s$ 执行此分解，使得 $s^{\\text{vol}} = P^{\\text{vol}}\\,s$ 和 $s^{\\text{dev}} = P^{\\text{dev}}\\,s$。\n\n首先，我们推导体积应力向量 $s^{\\text{vol}}$ 的表达式。体积应力张量为：\n$$\n\\boldsymbol{\\sigma}^{\\text{vol}} = p\\,\\mathbf{I} = \\begin{bmatrix} p  0  0 \\\\ 0  p  0 \\\\ 0  0  p \\end{bmatrix}\n$$\n将 Voigt 映射应用于 $\\boldsymbol{\\sigma}^{\\text{vol}}$，我们得到向量 $s^{\\text{vol}}$：\n$$\ns^{\\text{vol}} = \\begin{bmatrix} \\sigma^{\\text{vol}}_{11} \\\\ \\sigma^{\\text{vol}}_{22} \\\\ \\sigma^{\\text{vol}}_{33} \\\\ \\sigma^{\\text{vol}}_{23} \\\\ \\sigma^{\\text{vol}}_{13} \\\\ \\sigma^{\\text{vol}}_{12} \\end{bmatrix} = \\begin{bmatrix} p \\\\ p \\\\ p \\\\ 0 \\\\ 0 \\\\ 0 \\end{bmatrix}\n$$\n接下来，我们用 Voigt 向量 $s$ 的分量来表示平均应力 $p$：\n$$\np = \\frac{1}{3}(\\sigma_{11} + \\sigma_{22} + \\sigma_{33}) = \\frac{1}{3}(s_1 + s_2 + s_3)\n$$\n将这个 $p$ 的表达式代入向量 $s^{\\text{vol}}$，我们得到 $s^{\\text{vol}}$ 的分量作为 $s$ 分量的线性组合：\n$$\ns^{\\text{vol}}_1 = p = \\frac{1}{3}s_1 + \\frac{1}{3}s_2 + \\frac{1}{3}s_3 + 0 s_4 + 0 s_5 + 0 s_6 \\\\\ns^{\\text{vol}}_2 = p = \\frac{1}{3}s_1 + \\frac{1}{3}s_2 + \\frac{1}{3}s_3 + 0 s_4 + 0 s_5 + 0 s_6 \\\\\ns^{\\text{vol}}_3 = p = \\frac{1}{3}s_1 + \\frac{1}{3}s_2 + \\frac{1}{3}s_3 + 0 s_4 + 0 s_5 + 0 s_6 \\\\\ns^{\\text{vol}}_4 = 0 \\\\\ns^{\\text{vol}}_5 = 0 \\\\\ns^{\\text{vol}}_6 = 0\n$$\n这个线性方程组定义了矩阵变换 $s^{\\text{vol}} = P^{\\text{vol}}s$。通过观察，矩阵 $P^{\\text{vol}}$ 为：\n$$\nP^{\\text{vol}} = \\begin{bmatrix}\n1/3 & 1/3 & 1/3 & 0 & 0 & 0 \\\\\n1/3 & 1/3 & 1/3 & 0 & 0 & 0 \\\\\n1/3 & 1/3 & 1/3 & 0 & 0 & 0 \\\\\n0 & 0 & 0 & 0 & 0 & 0 \\\\\n0 & 0 & 0 & 0 & 0 & 0 \\\\\n0 & 0 & 0 & 0 & 0 & 0\n\\end{bmatrix}\n$$\n\n接下来，我们推导偏投影矩阵 $P^{\\text{dev}}$。在 Voigt 标记法中，分解为 $s = s^{\\text{vol}} + s^{\\text{dev}}$，这意味着 $s^{\\text{dev}} = s - s^{\\text{vol}}$。\n我们用投影矩阵代入 $s$ 和 $s^{\\text{vol}}$ 的表达式：\n$$\nP^{\\text{dev}}s = I_6 s - P^{\\text{vol}}s = (I_6 - P^{\\text{vol}})s\n$$\n其中 $I_6$ 是 $6 \\times 6$ 的单位矩阵。由于此关系对任何应力向量 $s$ 都必须成立，我们可以确定偏投影算子为：\n$$\nP^{\\text{dev}} = I_6 - P^{\\text{vol}}\n$$\n代入已推导出的 $P^{\\text{vol}}$ 形式：\n$$\nP^{\\text{dev}} =\n\\begin{bmatrix}\n1 & 0 & 0 & 0 & 0 & 0 \\\\\n0 & 1 & 0 & 0 & 0 & 0 \\\\\n0 & 0 & 1 & 0 & 0 & 0 \\\\\n0 & 0 & 0 & 1 & 0 & 0 \\\\\n0 & 0 & 0 & 0 & 1 & 0 \\\\\n0 & 0 & 0 & 0 & 0 & 1\n\\end{bmatrix}\n-\n\\begin{bmatrix}\n1/3 & 1/3 & 1/3 & 0 & 0 & 0 \\\\\n1/3 & 1/3 & 1/3 & 0 & 0 & 0 \\\\\n1/3 & 1/3 & 1/3 & 0 & 0 & 0 \\\\\n0 & 0 & 0 & 0 & 0 & 0 \\\\\n0 & 0 & 0 & 0 & 0 & 0 \\\\\n0 & 0 & 0 & 0 & 0 & 0\n\\end{bmatrix}\n$$\n这就得到了偏投影矩阵的显式形式：\n$$\nP^{\\text{dev}} = \\begin{bmatrix}\n2/3 & -1/3 & -1/3 & 0 & 0 & 0 \\\\\n-1/3 & 2/3 & -1/3 & 0 & 0 & 0 \\\\\n-1/3 & -1/3 & 2/3 & 0 & 0 & 0 \\\\\n0 & 0 & 0 & 1 & 0 & 0 \\\\\n0 & 0 & 0 & 0 & 1 & 0 \\\\\n0 & 0 & 0 & 0 & 0 & 1\n\\end{bmatrix}\n$$\n这些推导出的矩阵 $P^{\\text{vol}}$ 和 $P^{\\text{dev}}$ 代表了在指定的 Voigt 标记法下进行体积和偏投影的线性算子。\n\n推导出的投影算子必须满足几个关键的数学属性：\n1.  对称性：$P^{\\text{vol}} = (P^{\\text{vol}})^{\\top}$ 和 $P^{\\text{dev}} = (P^{\\text{dev}})^{\\top}$。这从矩阵形式上可以明显看出。\n2.  幂等性：$(P^{\\text{vol}})^2 = P^{\\text{vol}}$ 和 $(P^{\\text{dev}})^2 = P^{\\text{dev}}$。投影算子作用两次与作用一次的效果相同。\n3.  互补性：$P^{\\text{vol}} + P^{\\text{dev}} = I_6$。这直接源于 $P^{\\text{dev}}$ 的定义。\n4.  正交性：$P^{\\text{vol}}P^{\\text{dev}} = 0_6$。体积子空间和偏子空间是正交的。这也意味着投影后的向量是正交的。\n\n这些属性将在实现中进行数值验证。数值测试还将确认，对于任何应力向量 $s$，其偏应力部分的迹 $s^{\\text{dev}}_1 + s^{\\text{dev}}_2 + s^{\\text{dev}}_3$ 为零，且其体积部分的剪切分量 $s^{\\text{vol}}_4, s^{\\text{vol}}_5, s^{\\text{vol}}_6$ 为零，正如其定义所规定的那样。", "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Derives, implements, and verifies volumetric and deviatoric stress projection\n    operators in Voigt notation.\n    \"\"\"\n\n    def construct_projectors():\n        \"\"\"\n        Constructs the 6x6 volumetric and deviatoric projection matrices.\n        The Voigt order is [s11, s22, s33, s23, s13, s12].\n        \"\"\"\n        # P_vol projects onto the space of hydrostatic states.\n        # It maps s -> [p, p, p, 0, 0, 0] where p = (s1+s2+s3)/3.\n        P_vol = np.zeros((6, 6))\n        P_vol[0:3, 0:3] = 1.0 / 3.0\n        \n        # P_dev projects onto the space of deviatoric states (trace-zero).\n        # P_dev = I - P_vol\n        I6 = np.identity(6)\n        P_dev = I6 - P_vol\n        \n        return P_vol, P_dev\n\n    def verify_properties(P_vol, P_dev, tol=1e-9):\n        \"\"\"\n        Verifies key properties of the projection matrices.\n        - Idempotency: P*P = P\n        - Complementarity: P_vol + P_dev = I\n        - Orthogonality: P_vol * P_dev = 0\n        - Symmetry: P = P.T\n        \"\"\"\n        I6 = np.identity(6)\n        Z6 = np.zeros((6, 6))\n        \n        props = [\n            np.allclose(P_vol @ P_vol, P_vol, atol=tol),\n            np.allclose(P_dev @ P_dev, P_dev, atol=tol),\n            np.allclose(P_vol @ P_dev, Z6, atol=tol),\n            np.allclose(P_vol + P_dev, I6, atol=tol),\n            np.allclose(P_vol, P_vol.T, atol=tol),\n            np.allclose(P_dev, P_dev.T, atol=tol),\n        ]\n        return props\n\n    def run_test_case(s_vec, P_vol, P_dev):\n        \"\"\"\n        Runs a single test case for a given stress vector s_vec.\n        \"\"\"\n        # Convert to numpy array for calculations\n        s = np.array(s_vec)\n        \n        # Calculate expected volumetric and deviatoric parts\n        p = np.sum(s[0:3]) / 3.0\n        s_vol_exp = np.array([p, p, p, 0.0, 0.0, 0.0])\n        s_dev_exp = s - s_vol_exp\n        \n        # Calculate projections using the matrices\n        s_vol = P_vol @ s\n        s_dev = P_dev @ s\n        \n        # Calculate the required metrics\n        # 1. Norm of the error in the volumetric projection\n        norm_vol_err = np.linalg.norm(s_vol - s_vol_exp)\n        \n        # 2. Norm of the error in the deviatoric projection\n        norm_dev_err = np.linalg.norm(s_dev - s_dev_exp)\n        \n        # 3. Sum of normal components of the calculated deviatoric stress (should be 0)\n        # This corresponds to tr(sigma_dev) = 0\n        sum_dev_normal = np.sum(s_dev[0:3])\n        \n        # 4. Norm of shear components of the calculated volumetric stress (should be 0)\n        # A volumetric stress has no shear components.\n        norm_vol_shear = np.linalg.norm(s_vol[3:6])\n        \n        return [norm_vol_err, norm_dev_err, sum_dev_normal, norm_vol_shear]\n\n    # Main execution logic\n    \n    # 1. Construct the projection matrices\n    P_vol, P_dev = construct_projectors()\n    \n    # 2. Define test cases\n    test_cases = [\n        [100.0, -50.0, 25.0, 10.0, -20.0, 15.0],  # General mixed stress\n        [80.0, 80.0, 80.0, 0.0, 0.0, 0.0],       # Purely hydrostatic stress\n        [0.0, 0.0, 0.0, 30.0, 0.0, 0.0],          # Pure shear stress\n        [-1000000.0, 2000000.0, -1000000.0, 0.0, 0.0, 0.0] # Large-magnitude deviatoric\n    ]\n    \n    # 3. Process test cases\n    case_results = []\n    for case in test_cases:\n        case_results.append(run_test_case(case, P_vol, P_dev))\n        \n    # 4. Verify projector properties\n    props_booleans = verify_properties(P_vol, P_dev)\n    \n    # 5. Assemble final output list\n    # The output format requires a list containing the flattened matrices,\n    # followed by the list of results for each test case, and finally\n    # the list of property verification booleans.\n    P_vol_flat = P_vol.flatten().tolist()\n    P_dev_flat = P_dev.flatten().tolist()\n    \n    # Using list concatenation to build the final list\n    # Note: creating a list of lists directly\n    all_results = [P_vol_flat, P_dev_flat] + case_results + [props_booleans]\n\n    # 6. Format and print the final output string\n    # str() on a list produces '[...]' which is the desired sub-format.\n    # The final print wraps the comma-separated string of sub-lists in '[...]'.\n    print(f\"[{','.join(map(str, all_results))}]\")\n\nsolve()\n```", "id": "3570647"}, {"introduction": "真实的工程问题往往是三维的，但为了简化分析，我们常常采用二维假设，例如平面应变条件。本练习旨在审视这种简化的影响，您需要计算由平面应变约束引起的“隐藏”平面外应力 $\\sigma_{zz}$，并量化忽略此应力分量会对偏应力不变量的计算带来多大的差异。这有助于培养在应用简化模型时进行批判性思考的能力。[@problem_id:3570665]", "problem": "在地静荷载和开挖引起的剪切作用下，分析一个密实砂土层的宽平面应变截面所处的二维应力状态。材料被建模为线性弹性和各向同性的，其泊松比为 $\\nu = 0.25$。施加的面内柯西应力分量为 $\\sigma_{xx} = 120$ MPa，$\\sigma_{yy} = 60$ MPa 和 $\\sigma_{xy} = 30$ MPa，平面应变运动学条件强制 $\\varepsilon_{zz} = 0$。\n\n从三维线性弹性关系和平面应变运动学约束出发，确定协调性所要求的面外应力 $\\sigma_{zz}$。使用此 $\\sigma_{zz}$，计算三维平均应力 $p$ 和从偏应力张量第二不变量获得的三维偏应力量。然后，通过从面内应力分量中减去面内平均应力来构建一个二维面内偏应力量，并以二维意义计算其第二不变量。通过比率 $R = q_{3D} / q_{2D}$ 来量化这些偏应力量之间的差异，其中 $q_{3D}$ 是基于不变量的三维等效剪切量，$q_{2D}$ 是其二维面内对应量。\n\n最终答案仅报告比率 $R$。将您的答案四舍五入到四位有效数字。该比率是无量纲的，因此最终答案中不应包含单位。", "solution": "该问题经评估是有效的。它在科学上基于线性弹性和连续介质力学原理，是适定的，具有足够的数据以获得唯一解，并且其表述是客观的。因此，我们可以进行求解。\n\n该问题要求计算比率 $R = q_{3D} / q_{2D}$，该比率比较了标准的三维偏应力量与为面内分析定义的二维对应量。\n\n首先，我们确定由于平面应变约束 $\\varepsilon_{zz}=0$ 而产生的面外正应力 $\\sigma_{zz}$。对于线性、各向同性、弹性材料，$z$ 方向的应变-应力关系（胡克定律）由下式给出：\n$$\n\\varepsilon_{zz} = \\frac{1}{E} \\left[ \\sigma_{zz} - \\nu (\\sigma_{xx} + \\sigma_{yy}) \\right]\n$$\n其中 $E$ 是杨氏模量，$\\nu$ 是泊松比。\n令 $\\varepsilon_{zz} = 0$ 得：\n$$\n0 = \\sigma_{zz} - \\nu (\\sigma_{xx} + \\sigma_{yy})\n$$\n$$\n\\sigma_{zz} = \\nu (\\sigma_{xx} + \\sigma_{yy})\n$$\n代入给定值 $\\sigma_{xx} = 120$ MPa、$\\sigma_{yy} = 60$ MPa 和 $\\nu = 0.25$：\n$$\n\\sigma_{zz} = 0.25 (120 + 60) = 0.25 (180) = 45 \\, \\text{MPa}\n$$\n在指定的平面应变条件下（$\\sigma_{xz} = \\sigma_{yz} = 0$），完整的三维柯西应力张量 $\\boldsymbol{\\sigma}$ 为：\n$$\n\\boldsymbol{\\sigma} = \\begin{pmatrix} 120 & 30 & 0 \\\\ 30 & 60 & 0 \\\\ 0 & 0 & 45 \\end{pmatrix} \\, \\text{MPa}\n$$\n\n接下来，我们计算三维偏应力量 $q_{3D}$。这通常定义为 von Mises 等效应力，通过公式 $q_{3D} = \\sqrt{3 J_2}$ 与偏应力张量的第二不变量 $J_2$ 相关联。不变量 $J_2$ 可以直接由柯西应力张量的分量计算得出：\n$$\nJ_2 = \\frac{1}{6} \\left[ (\\sigma_{xx} - \\sigma_{yy})^2 + (\\sigma_{yy} - \\sigma_{zz})^2 + (\\sigma_{zz} - \\sigma_{xx})^2 \\right] + \\sigma_{xy}^2 + \\sigma_{yz}^2 + \\sigma_{zx}^2\n$$\n代入应力分量：\n$$\nJ_2 = \\frac{1}{6} \\left[ (120 - 60)^2 + (60 - 45)^2 + (45 - 120)^2 \\right] + 30^2 + 0^2 + 0^2\n$$\n$$\nJ_2 = \\frac{1}{6} \\left[ 60^2 + 15^2 + (-75)^2 \\right] + 900\n$$\n$$\nJ_2 = \\frac{1}{6} \\left[ 3600 + 225 + 5625 \\right] + 900\n$$\n$$\nJ_2 = \\frac{1}{6} (9450) + 900 = 1575 + 900 = 2475 \\, \\text{MPa}^2\n$$\n现在，我们计算 $q_{3D}$：\n$$\nq_{3D} = \\sqrt{3 J_2} = \\sqrt{3 \\times 2475} = \\sqrt{7425} \\, \\text{MPa}\n$$\n\n接下来，我们确定二维面内偏应力量 $q_{2D}$。问题指定了一个步骤：首先，通过减去面内平均应力来计算面内偏应力，然后从其第二不变量计算一个度量。\n面内平均应力 $p_{2D}$ 为：\n$$\np_{2D} = \\frac{1}{2} (\\sigma_{xx} + \\sigma_{yy}) = \\frac{1}{2} (120 + 60) = 90 \\, \\text{MPa}\n$$\n面内偏应力张量 $\\mathbf{s}_{2D}$ 的分量为：\n$$\ns_{xx, 2D} = \\sigma_{xx} - p_{2D} = 120 - 90 = 30 \\, \\text{MPa}\n$$\n$$\ns_{yy, 2D} = \\sigma_{yy} - p_{2D} = 60 - 90 = -30 \\, \\text{MPa}\n$$\n$$\ns_{xy, 2D} = \\sigma_{xy} = 30 \\, \\text{MPa}\n$$\n“二维意义上的第二不变量”必须加以澄清。通过与 $J_2 = \\frac{1}{2} s_{ij} s_{ji}$ 定义的直接类比，其二维对应物 $J_{2,2D}$ 为：\n$$\nJ_{2,2D} = \\frac{1}{2} (s_{xx, 2D}^2 + s_{yy, 2D}^2 + 2s_{xy, 2D}^2)\n$$\n代入 $\\mathbf{s}_{2D}$ 的分量：\n$$\nJ_{2,2D} = \\frac{1}{2} (30^2 + (-30)^2 + 2 \\times 30^2) = \\frac{1}{2} (900 + 900 + 1800) = \\frac{1}{2} (3600) = 1800 \\, \\text{MPa}^2\n$$\n或者，$J_{2,2D}$ 可以表示为 $J_{2,2D} = (\\frac{\\sigma_{xx}-\\sigma_{yy}}{2})^2 + \\sigma_{xy}^2 = (\\frac{60}{2})^2 + 30^2 = 30^2+30^2 = 1800 \\, \\text{MPa}^2$。\n\n为了从 $J_{2,2D}$ 构建“偏应力量” $q_{2D}$，我们保持与三维定义的一致性。由于 $q_{3D} = \\sqrt{3J_2}$，其二维对应物最合乎逻辑的形式是 $q_{2D} = \\sqrt{3J_{2,2D}}$。这在两种情况下都保持了该度量相同的函数结构。\n$$\nq_{2D} = \\sqrt{3 J_{2,2D}} = \\sqrt{3 \\times 1800} = \\sqrt{5400} \\, \\text{MPa}\n$$\n\n最后，我们计算比率 $R$：\n$$\nR = \\frac{q_{3D}}{q_{2D}} = \\frac{\\sqrt{7425}}{\\sqrt{5400}} = \\sqrt{\\frac{7425}{5400}}\n$$\n我们化简该分数：\n$$\n\\frac{7425}{5400} = \\frac{74.25}{54} = \\frac{2475 \\times 3}{1800 \\times 3} = \\frac{2475}{1800} = \\frac{9.9}{7.2} = \\frac{99}{72} = \\frac{11 \\times 9}{8 \\times 9} = \\frac{11}{8}\n$$\n所以，该比率为：\n$$\nR = \\sqrt{\\frac{11}{8}} = \\sqrt{1.375}\n$$\n计算其数值：\n$$\nR \\approx 1.17260394...\n$$\n四舍五入到四位有效数字，我们得到 $R = 1.173$。", "answer": "$$\n\\boxed{1.173}\n$$", "id": "3570665"}]}