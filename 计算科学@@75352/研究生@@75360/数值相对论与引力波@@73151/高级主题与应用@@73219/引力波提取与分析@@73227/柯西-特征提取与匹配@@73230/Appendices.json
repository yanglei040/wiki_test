{"hands_on_practices": [{"introduction": "任何演化系统的长期保真度都严重依赖于所选数值积分器的性质。这个练习 [@problem_id:3467486] 深入探讨了这一关键概念，通过一个简化的但物理意义明确的模型，比较了两种时间离散化方案。通过实现一个保持系统内在哈密顿结构的保结构（或辛）积分器，并将其与一个标准的耗散格式进行对比，您可以清晰地看到不同数值方法对物理守恒律（如此处的能量通量守恒）的影响。", "problem": "你的任务是在广义相对论 (GR) 的 Bondi-Sachs 形式体系中，为剪切张量 $C_{AB}$ 和相关的角向度规函数 $U^{A}$ 的特征演化设计、实现并比较时间离散化格式。在此背景下，未来类光无穷远 $\\mathscr{I}^{+}$ 处的引力辐射内容被编码在新闻张量 $N_{AB} = \\partial_{u} C_{AB}$ 中，而由引力波携带至 $\\mathscr{I}^{+}$ 的总能量流由 $N_{AB} N^{AB}$ 在球面上的积分给出，从而得到 Bondi 质量损失定律 $dM/du = -\\mathcal{F}(u)$，其中 $\\mathcal{F}(u)$ 是能量流密度。为便于计算，你将使用一个物理上自洽的、轴对称的单模简化模型，该模型捕捉了基本的守恒结构，同时对于算法探索而言仍然是易于处理的。\n\n使用的基本原理：\n- Bondi-Sachs 质量损失方程：$dM/du = -\\frac{1}{32\\pi} \\int N_{AB} N^{AB}\\, d\\Omega$。\n- 新闻张量的定义：$N_{AB} = \\partial_{u} C_{AB}$。\n- 在具有归一化角向分布的轴对称单模简化中，定义一个标量振幅 $c(u)$ 来表示 $C_{AB}$ 的主导模式，并定义一个标量振幅 $n(u)$，由 $n(u) = \\partial_{u} c(u)$ 定义，表示新闻张量的相应分量。在吸收了归一化常数后，将简化的质量损失方程写为 $dM/du = -n(u)^{2}$，使所有量都无量纲化。\n\n你的模型必须满足以下简化演化方程，这些方程在此单模近似下作为 $(C_{AB}, U^{A})$ 的特征演化：\n- $c(u)$ 通过 $d c/du = n$ 随 $n(u)$ 演化。\n- $n(u)$ 满足线性化真空演化 $d n/du = -\\omega^{2} c$，代表了剪切和角向度规函数的单个准谐波模式，与 $\\mathscr{I}^{+}$ 附近的线性化引力一致。\n- $M(u)$ 满足 $dM/du = -n^{2}$，代表了此简化模式下向 $\\mathscr{I}^{+}$ 的 Bondi 质量损失。\n\n你的任务：\n1. 为上述系统构建一个结构保持、能量流守恒的离散化格式。该格式代表了 $(c, n)$ 的特征演化，并对 $M$ 使用时间中心的离散质量损失，使得离散的 $M$ 损失在应用于 $n^{2}$ 的梯形法则意义上，精确匹配一个由 $n$ 构建的到 $\\mathscr{I}^{+}$ 的能量流的二阶精度求积。该设计必须对 $(c, n)$ 使用一个辛或几何时间积分器，以保持与线性模式对应的 $(c, n)$ 对的底层哈密顿结构。你不得在此格式中假设任何特设阻尼。\n2. 为同一系统构建一个耗散有限体积风格的显式格式。该格式在时间上是一阶的，并在 $n$ 方程中包含一个可调的数值耗散参数 $\\nu \\ge 0$，以模拟常见的耗散流通量更新。在此格式中，使用左端点值 $n_{k}$ 通过前向欧拉流通量更新 $M$，因此离散质量损失通常不匹配 $n^{2}$ 的二阶梯形求积。\n3. 对两种格式，计算整个模拟过程中到 $\\mathscr{I}^{+}$ 的离散通量，其形式为 $n^{2}$ 的二阶梯形求积，即 $\\sum_{k=0}^{N-1} \\frac{h}{2}\\left(n_{k}^{2} + n_{k+1}^{2}\\right)$，其中 $h$ 是时间步长， $N$ 是步数。计算每种格式的相对守恒误差 $\\varepsilon$，定义为\n$$\n\\varepsilon = \\frac{\\left| \\left(M(0) - M(Nh)\\right) - \\sum_{k=0}^{N-1} \\frac{h}{2} \\left(n_{k}^{2} + n_{k+1}^{2}\\right) \\right|}{\\left|M(0)\\right|}.\n$$\n所有量均为无量纲。将输出表示为无量纲浮点数。\n\n实现要求：\n- 使用二阶精度的几何时间积分器为 $(c, n)$ 设计结构保持格式，该积分器保持线性模式的哈密顿结构，并使用时间中心的二阶精度表示来更新 $M$，使其离散损失在舍入误差范围内匹配 $n^{2}$ 的梯形求积。\n- 设计耗散显式有限体积格式，其中粘性参数 $\\nu$ 应用于 $n$ 方程，并使用左端点处的一阶显式通量 $n_{k}^{2}$ 来更新 $M$。\n- 对两种格式，从 $n$ 序列计算梯形通量和相对守恒误差 $\\varepsilon$。\n\n测试套件：\n使用以下测试用例，每个用例指定为一个元组 $(\\omega, h, N, \\nu, c_{0}, n_{0}, M_{0})$。所有量均为无量纲。\n- 用例 1 (典型路径中等频率)： $(0.8, 0.05, 300, 0.1, 1.0, 0.0, 10.0)$。\n- 用例 2 (边界情况零频率)： $(0.0, 0.1, 200, 0.05, 1.0, 0.5, 10.0)$。\n- 用例 3 (更高频率，中等步长)： $(1.5, 0.2, 120, 0.3, 1.0, 0.0, 10.0)$。\n- 用例 4 (高频率，较大步长，强耗散)： $(2.5, 0.35, 80, 0.5, 1.0, 0.0, 10.0)$。\n\n最终输出格式：\n你的程序应生成单行输出，其中包含一个用方括号括起来的逗号分隔列表。对于每个测试用例，按顺序输出两个浮点数：首先是结构保持格式的相对守恒误差 $\\varepsilon$，然后是耗散格式的相对守恒误差 $\\varepsilon$。因此，最后一行必须总共包含八个浮点数，顺序为\n$[\\varepsilon_{\\mathrm{SP},1}, \\varepsilon_{\\mathrm{DISS},1}, \\varepsilon_{\\mathrm{SP},2}, \\varepsilon_{\\mathrm{DISS},2}, \\varepsilon_{\\mathrm{SP},3}, \\varepsilon_{\\mathrm{DISS},3}, \\varepsilon_{\\mathrm{SP},4}, \\varepsilon_{\\mathrm{DISS},4}]$，\n并四舍五入到八位小数。", "solution": "问题陈述已经过验证并被认为是有效的。它在科学上基于数值相对论和常微分方程的原理，具有明确的初始条件和演化方程，问题定义良好，并以客观、形式化的语言表述。\n\n该问题要求为 Bondi-Sachs 形式体系中引力波发射的简化单模模型设计和比较两种不同的数值时间积分格式。该系统由以下无量纲常微分方程描述：\n$$\n\\frac{dc}{du} = n\n$$\n$$\n\\frac{dn}{du} = -\\omega^2 c\n$$\n$$\n\\frac{dM}{du} = -n^2\n$$\n此处，$c(u)$ 是剪切张量模式的振幅，$n(u)$ 是对应的新闻振幅，$M(u)$ 是 Bondi 质量，$u$ 是推迟时。对 $(c, n)$ 构成一个简谐振子，其能量通过引力波耗散，导致 Bondi 质量 $M$ 减少。\n\n我们现在将设计所需的两种数值格式。\n\n**1. 结构保持、能量流守恒格式**\n\n该格式必须是二阶精度的，对 $(c, n)$ 系统使用几何积分器，并确保离散质量损失与能量流 $n^2$ 的梯形求积完全匹配。\n\n$(c, n)$ 系统等价于一个简谐振子 $\\frac{d^2c}{du^2} + \\omega^2 c = 0$。该系统拥有一个守恒量（哈密顿量）$H = \\frac{1}{2}(n^2 + \\omega^2 c^2)$。对此系统一个合适的二阶几何（辛）积分器是 Velocity-Verlet 方法。设时间步长为 $h$，在时间 $u_k = k \\cdot h$ 处的离散值为 $(c_k, n_k, M_k)$。\n\n从步骤 $k$推进到 $k+1$ 的 Velocity-Verlet 更新规则是：\n$$\nc_{k+1} = c_k + h n_k - \\frac{h^2 \\omega^2}{2} c_k\n$$\n$$\nn_{k+1} = n_k - \\frac{h \\omega^2}{2} (c_k + c_{k+1})\n$$\n这些方程为 $c$ 和 $n$ 提供了二阶精度的演化，并近似地保持哈密顿量 $H$ 守恒。\n\n对于质量演化，我们必须强制离散质量损失 $M_k - M_{k+1}$ 精确等于积分通量 $\\int_{u_k}^{u_{k+1}} n(u)^2 du$ 的梯形法则近似。该积分的梯形近似为 $\\frac{h}{2}(n_k^2 + n_{k+1}^2)$。因此，$M$ 的更新规则定义为：\n$$\nM_{k+1} = M_k - \\frac{h}{2} (n_k^2 + n_{k+1}^2)\n$$\n这种构造确保了整个模拟过程中的总质量损失 $M_0 - M_N$ 与通过梯形法则计算的总积分通量 $\\sum_{k=0}^{N-1} \\frac{h}{2}(n_k^2 + n_{k+1}^2)$ 完全相同。因此，该格式的相对守恒误差 $\\varepsilon$ 将为零，直到机器浮点精度。\n\n**2. 耗散、显式有限体积风格格式**\n\n该格式要求在时间上是一阶的，并包含一个可调的耗散参数 $\\nu \\ge 0$。在 $n$ 方程中引入耗散最标准的方法是添加一个线性阻尼项，将方程修改为：\n$$\n\\frac{dn}{du} = -\\omega^2 c - \\nu n\n$$\n这代表一个阻尼谐振子。对于一阶显式格式，我们采用前向欧拉法。从步骤 $k$ 推进到 $k+1$ 的更新规则是：\n$$\nc_{k+1} = c_k + h n_k\n$$\n$$\nn_{k+1} = n_k + h (-\\omega^2 c_k - \\nu n_k)\n$$\n对于质量更新，问题指定使用左端点值 $n_k$ 的一阶显式通量。这对应于 $dM/du = -n^2$ 的前向欧拉离散化：\n$$\nM_{k+1} = M_k - h n_k^2\n$$\n在此格式中，离散质量损失 $M_0 - M_N = \\sum_{k=0}^{N-1} h n_k^2$ 是基于通量的一阶（左矩形）求积。守恒误差 $\\varepsilon$ 是通过将此损失与通量的二阶梯形求积 $\\sum_{k=0}^{N-1} \\frac{h}{2}(n_k^2 + n_{k+1}^2)$ 进行比较来计算的。其差值通常不为零：\n$$\n(M_0 - M_N) - \\sum_{k=0}^{N-1} \\frac{h}{2}(n_k^2 + n_{k+1}^2) = \\sum_{k=0}^{N-1} h n_k^2 - \\sum_{k=0}^{N-1} \\frac{h}{2}(n_k^2 + n_{k+1}^2) = \\frac{h}{2} \\sum_{k=0}^{N-1} (n_k^2 - n_{k+1}^2)\n$$\n这是一个裂项求和，可简化为 $\\frac{h}{2} (n_0^2 - n_N^2)$。因此，绝对误差为 $\\frac{h}{2} |n_0^2 - n_N^2|$，相对守恒误差为：\n$$\n\\varepsilon = \\frac{h |n_0^2 - n_N^2|}{2 |M_0|}\n$$\n这个解析结果证实，耗散格式根据其设计，在指定意义上不保持通量守恒。\n\n该实现将针对给定的测试用例模拟这两种格式，并为每种格式计算相对守恒误差 $\\varepsilon$。", "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\n\ndef run_structure_preserving(omega, h, N, c0, n0, M0):\n    \"\"\"\n    Implements the structure-preserving scheme using Velocity-Verlet for (c, n)\n    and a trapezoidal update for M.\n    \"\"\"\n    c = np.zeros(N + 1)\n    n = np.zeros(N + 1)\n    M = np.zeros(N + 1)\n\n    c[0], n[0], M[0] = c0, n0, M0\n    \n    omega_sq = omega**2\n    h_sq = h**2\n\n    for k in range(N):\n        c_prev = c[k]\n        n_prev = n[k]\n        M_prev = M[k]\n        \n        # Velocity-Verlet for (c, n)\n        c_next = c_prev + h * n_prev - 0.5 * h_sq * omega_sq * c_prev\n        n_next = n_prev - 0.5 * h * omega_sq * (c_prev + c_next)\n        \n        # Time-centered mass loss matching trapezoidal flux\n        M_next = M_prev - 0.5 * h * (n_prev**2 + n_next**2)\n        \n        c[k+1], n[k+1], M[k+1] = c_next, n_next, M_next\n\n    # Calculate total mass loss and trapezoidal flux\n    total_mass_loss = M[0] - M[N]\n    \n    trapezoidal_flux = 0.0\n    for k in range(N):\n        trapezoidal_flux += 0.5 * h * (n[k]**2 + n[k+1]**2)\n\n    # Calculate relative conservation error\n    error = np.abs(total_mass_loss - trapezoidal_flux) / np.abs(M[0])\n    return error\n\n\ndef run_dissipative(omega, h, N, nu, c0, n0, M0):\n    \"\"\"\n    Implements the dissipative scheme using Forward Euler for (c, n, M).\n    \"\"\"\n    c = np.zeros(N + 1)\n    n = np.zeros(N + 1)\n    M = np.zeros(N + 1)\n    \n    c[0], n[0], M[0] = c0, n0, M0\n    \n    omega_sq = omega**2\n\n    for k in range(N):\n        c_prev = c[k]\n        n_prev = n[k]\n        M_prev = M[k]\n        \n        # Forward Euler for (c, n) with dissipation\n        c_next = c_prev + h * n_prev\n        n_next = n_prev + h * (-omega_sq * c_prev - nu * n_prev)\n        \n        # Forward Euler (left-endpoint) for mass loss\n        M_next = M_prev - h * n_prev**2\n        \n        c[k+1], n[k+1], M[k+1] = c_next, n_next, M_next\n        \n    # Calculate total mass loss and trapezoidal flux\n    total_mass_loss = M[0] - M[N]\n    \n    trapezoidal_flux = 0.0\n    for k in range(N):\n        trapezoidal_flux += 0.5 * h * (n[k]**2 + n[k+1]**2)\n    \n    # Calculate relative conservation error\n    error = np.abs(total_mass_loss - trapezoidal_flux) / np.abs(M[0])\n    return error\n\ndef solve():\n    \"\"\"\n    Main function to run test cases and print results.\n    \"\"\"\n    test_cases = [\n        (0.8, 0.05, 300, 0.1, 1.0, 0.0, 10.0),\n        (0.0, 0.1, 200, 0.05, 1.0, 0.5, 10.0),\n        (1.5, 0.2, 120, 0.3, 1.0, 0.0, 10.0),\n        (2.5, 0.35, 80, 0.5, 1.0, 0.0, 10.0),\n    ]\n\n    results = []\n    for case in test_cases:\n        omega, h, N, nu, c0, n0, M0 = case\n        \n        # Run structure-preserving scheme\n        err_sp = run_structure_preserving(omega, h, N, c0, n0, M0)\n        results.append(err_sp)\n        \n        # Run dissipative scheme\n        err_diss = run_dissipative(omega, h, N, nu, c0, n0, M0)\n        results.append(err_diss)\n\n    # Format and print the final output\n    output_str = \",\".join([f\"{res:.8f}\" for res in results])\n    print(f\"[{output_str}]\")\n\nsolve()\n```", "id": "3467486"}, {"introduction": "在数值模拟中，除了精度之外，稳定性是另一个至关重要的问题。此练习 [@problem_id:3467496] 揭示了理论选择（如坐标规范）如何直接影响数值格式的稳定性。通过对一个模型平流系统进行冯·诺依曼稳定性分析，您将推导出不同规范下的 Courant–Friedrichs–Lewy (CFL) 条件，从而深刻理解理论框架的选择如何对计算效率和鲁棒性产生实际的、可量化的影响。", "problem": "考虑在一个内部柯西演化和一个外部特征演化之间的柯西-特征匹配 (CCM)。外部特征演化是在出射零超曲面上以坐标 $(u,r,x^{A})$ 构建的，其中 $u$ 是推迟时间，$r$ 是径向坐标，$x^{A}$ 是球面上的两个角坐标。为评估特征演化在抽取世界管处的数值稳定性，我们使用一个在单个零超曲面上的常系数平流系统来模拟线性化的类剪切场 $\\psi(u,r,x^{A})$ 的传播：\n$$\n\\partial_{u}\\psi + c_{r}\\,\\partial_{r}\\psi + \\sum_{A=1}^{2} c_{A}\\,\\partial_{A}\\psi = 0,\n$$\n其中系数 $(c_{r},c_{A})$ 是规范相关的。在 Bondi–Sachs 规范中，取 $c_{r}^{\\mathrm{BS}}=1$ 和 $c_{A}^{\\mathrm{BS}}=U^{A}$，其中 $U^{A}$ 是在世界管上求值的角移分量。在 Newman–Unti 规范中，沿每个零生成元使用仿射参数 $\\lambda$，并有局域规范映射 $r=r(u,\\lambda,x^{A})$，使得在世界管处 $\\gamma(u,r,x^{A}) := \\partial r/\\partial \\lambda > 0$。当在 $(u,r,x^{A})$ 网格上写出时，Newman–Unti 平流系统在世界管处的有效系数为 $c_{r}^{\\mathrm{NU}}=1/\\gamma$ 和 $c_{A}^{\\mathrm{NU}}=U^{A}$。\n\n在间距为 $\\Delta u$、$\\Delta r$ 和 $\\Delta x^{A}$ 的均匀网格上，对系统进行显式离散化，其中对 $u$ 使用前向欧拉法，对 $(r,x^{A})$ 使用一阶迎风格式，并为每个导数选择与 $c_{r}$ 和 $c_{A}$ 符号一致的迎风方向。假设在世界管处，系数 $(c_{r},c_{A})$ 在一个步长内于空间和时间上是常数，并且 $U^{A}$ 在两种规范下是相同的。\n\n对傅里叶模的半离散放大因子进行 von Neumann 特征值分析，并分别推导 Bondi–Sachs 和 Newman–Unti 规范下的 Courant–Friedrichs–Lewy (CFL) 极限 $\\Delta u_{\\max}^{\\mathrm{BS}}$ 和 $\\Delta u_{\\max}^{\\mathrm{NU}}$，用 $\\Delta r$、$\\Delta x^{A}$、$U^{A}$ 和 $\\gamma$ 表示。然后，将比率\n$$\n\\mathcal{R} := \\frac{\\Delta u_{\\max}^{\\mathrm{NU}}}{\\Delta u_{\\max}^{\\mathrm{BS}}}\n$$\n表示为仅包含 $\\Delta r$、$\\Delta x^{A}$、$U^{A}$ 和 $\\gamma$ 的单个闭式表达式。你的最终答案必须是这个关于 $\\mathcal{R}$ 的解析表达式。不要引入任何数值。", "solution": "问题陈述已经过验证，被认为是合理的、适定的和可形式化的。\n\n任务是找到在两种不同的规范选择（Bondi-Sachs (BS) 和 Newman-Unti (NU)）下，对于一个使用时间上前向欧拉法和空间上一阶迎风格式离散化的模型平流方程，其最大稳定时间步长的比率 $\\mathcal{R} := \\frac{\\Delta u_{\\max}^{\\mathrm{NU}}}{\\Delta u_{\\max}^{\\mathrm{BS}}}$。\n\n控制偏微分方程为：\n$$\n\\partial_{u}\\psi + c_{r}\\,\\partial_{r}\\psi + \\sum_{A=1}^{2} c_{A}\\,\\partial_{A}\\psi = 0\n$$\n\n指定的数值格式是显式的，对时间导数 $\\partial_{u}$ 使用前向欧拉法，对空间导数 $\\partial_{r}$ 和 $\\partial_{A}$ 使用一阶迎风格式。令 $\\psi^n_{j,k_1,k_2}$ 表示在时间 $u=n\\Delta u$ 和网格点位置 $(r=j\\Delta r, x^1=k_1\\Delta x^1, x^2=k_2\\Delta x^2)$ 的数值解。离散化方程为：\n$$\n\\frac{\\psi^{n+1}_{j,k_1,k_2} - \\psi^n_{j,k_1,k_2}}{\\Delta u} + c_r D_r(\\psi^n) + \\sum_{A=1}^{2} c_A D_A(\\psi^n) = 0\n$$\n其中 $D_r$ 和 $D_A$ 是一阶迎风差分算子。迎风方向根据相应平流系数的符号选择。在世界管处，问题指定两种规范下都有 $c_r > 0$（$c_r^{\\mathrm{BS}}=1$ 和 $c_r^{\\mathrm{NU}}=1/\\gamma$，其中 $\\gamma>0$）。因此，径向导数总是用后向差分进行离散化：\n$$\n\\partial_r \\psi \\approx \\frac{\\psi_{j,k_1,k_2} - \\psi_{j-1,k_1,k_2}}{\\Delta r}\n$$\n对于角向导数，离散化取决于 $c_A = U^A$ 的符号：\n$$\nc_A \\partial_A \\psi \\approx\n\\begin{cases}\n    c_A \\frac{\\psi_{\\dots,k_A,\\dots} - \\psi_{\\dots,k_A-1,\\dots}}{\\Delta x^A}  \\text{若 } c_A > 0 \\\\\n    c_A \\frac{\\psi_{\\dots,k_A+1,\\dots} - \\psi_{\\dots,k_A,\\dots}}{\\Delta x^A}  \\text{若 } c_A  0\n\\end{cases}\n$$\n其中未作用的指标保持不变。这可以使用绝对值 $|c_A|$ 表示为：\n$$\n-c_A (\\text{迎风差分}) = \\frac{|c_A|}{\\Delta x^A} (\\psi_{\\text{当前点}} - \\psi_{\\text{迎风点}})\n$$\n重新整理完全离散化的方程以求解 $\\psi^{n+1}_{j,k_1,k_2}$：\n$$\n\\psi^{n+1}_{j,k_1,k_2} = \\psi^n_{j,k_1,k_2} - \\Delta u \\left( c_r \\frac{\\psi^n_{j,k_1,k_2} - \\psi^n_{j-1,k_1,k_2}}{\\Delta r} + \\dots \\right)\n$$\n其中省略号代表角向导数项。我们可以将在不同网格点处乘以 $\\psi^n$ 值的项合并起来：\n$$\n\\psi^{n+1}_{j,k_1,k_2} = \\left(1 - \\frac{|c_r|\\Delta u}{\\Delta r} - \\sum_{A=1}^{2}\\frac{|c_A|\\Delta u}{\\Delta x^A}\\right)\\psi^n_{j,k_1,k_2} + \\frac{|c_r|\\Delta u}{\\Delta r}\\psi^n_{j-1,k_1,k_2} + \\sum_{A=1}^{2}\\frac{|c_A|\\Delta u}{\\Delta x^A}\\psi^n_{\\text{upwind}, A}\n$$\n其中 $\\psi^n_{\\text{upwind}, A}$ 是在 $x^A$ 方向上适当的迎风网格点处的 $\\psi$ 值。为了保证稳定性（具体来说，为了满足一个被称为离散极值原理的充分条件），右侧 $\\psi^n$ 项的系数（它们构成一个加权平均）必须是非负的。除了第一项外，所有系数都显然是非负的。因此，我们必须有：\n$$\n1 - \\frac{|c_r|\\Delta u}{\\Delta r} - \\sum_{A=1}^{2}\\frac{|c_A|\\Delta u}{\\Delta x^A} \\ge 0\n$$\n这就得出了 Courant–Friedrichs–Lewy (CFL) 稳定性条件：\n$$\n\\Delta u \\left( \\frac{|c_r|}{\\Delta r} + \\sum_{A=1}^{2}\\frac{|c_A|}{\\Delta x^A} \\right) \\le 1\n$$\n最大允许时间步长 $\\Delta u_{\\max}$ 在等式成立时获得：\n$$\n\\Delta u_{\\max} = \\left( \\frac{|c_r|}{\\Delta r} + \\sum_{A=1}^{2}\\frac{|c_A|}{\\Delta x^A} \\right)^{-1}\n$$\n\n现在，我们将这个一般性结果应用于指定的两种规范。\n\n**1. Bondi–Sachs (BS) 规范**\n系数由 $c_r^{\\mathrm{BS}} = 1$ 和 $c_A^{\\mathrm{BS}} = U^A$ 给出。因此，$|c_r^{\\mathrm{BS}}| = 1$ 和 $|c_A^{\\mathrm{BS}}| = |U^A|$。\n将这些代入 $\\Delta u_{\\max}$ 的表达式中：\n$$\n\\Delta u_{\\max}^{\\mathrm{BS}} = \\left( \\frac{1}{\\Delta r} + \\sum_{A=1}^{2}\\frac{|U^A|}{\\Delta x^A} \\right)^{-1}\n$$\n\n**2. Newman–Unti (NU) 规范**\n有效系数由 $c_r^{\\mathrm{NU}} = 1/\\gamma$ 和 $c_A^{\\mathrm{NU}} = U^A$ 给出。已知 $\\gamma  0$。\n因此，$|c_r^{\\mathrm{NU}}| = |1/\\gamma| = 1/\\gamma$ 和 $|c_A^{\\mathrm{NU}}| = |U^A|$。\n将这些代入 $\\Delta u_{\\max}$ 的表达式中：\n$$\n\\Delta u_{\\max}^{\\mathrm{NU}} = \\left( \\frac{1/\\gamma}{\\Delta r} + \\sum_{A=1}^{2}\\frac{|U^A|}{\\Delta x^A} \\right)^{-1} = \\left( \\frac{1}{\\gamma \\Delta r} + \\sum_{A=1}^{2}\\frac{|U^A|}{\\Delta x^A} \\right)^{-1}\n$$\n\n**3. 比率 $\\mathcal{R}$**\n最后，我们计算比率 $\\mathcal{R} = \\frac{\\Delta u_{\\max}^{\\mathrm{NU}}}{\\Delta u_{\\max}^{\\mathrm{BS}}}$：\n$$\n\\mathcal{R} = \\frac{\\left( \\frac{1}{\\gamma \\Delta r} + \\sum_{A=1}^{2}\\frac{|U^A|}{\\Delta x^A} \\right)^{-1}}{\\left( \\frac{1}{\\Delta r} + \\sum_{A=1}^{2}\\frac{|U^A|}{\\Delta x^A} \\right)^{-1}}\n$$\n通过对分子和分母取倒数，我们得到比率的最终表达式：\n$$\n\\mathcal{R} = \\frac{\\frac{1}{\\Delta r} + \\sum_{A=1}^{2}\\frac{|U^A|}{\\Delta x^A}}{\\frac{1}{\\gamma \\Delta r} + \\sum_{A=1}^{2}\\frac{|U^A|}{\\Delta x^A}}\n$$\n这就是所要求的用指定参数 $\\Delta r$、$\\Delta x^A$、$U^A$ 和 $\\gamma$ 表示的比率 $\\mathcal{R}$ 的单个闭式表达式。", "answer": "$$\n\\boxed{\\frac{\\frac{1}{\\Delta r} + \\sum_{A=1}^{2} \\frac{|U^A|}{\\Delta x^A}}{\\frac{1}{\\gamma \\Delta r} + \\sum_{A=1}^{2} \\frac{|U^A|}{\\Delta x^A}}}\n$$", "id": "3467496"}]}