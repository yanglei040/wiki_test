{"hands_on_practices": [{"introduction": "管理组合逻辑电路中冒险的第一步是学会在布尔表达式中识别它们。本练习将通过卡诺图这一可视化工具，帮助你亲手找出可能导致静态-1冒险的相邻“1”单元，并演示如何通过添加冗余的“桥接”项来确保电路输出的稳定。这个经典方法是设计无冒险电路的基础。[@problem_id:3647551]", "problem": "一个组合网络使用双输入与门和一个多输入或门，以积之和的形式实现布尔函数 $f$。该函数为 $f=(A\\cdot B)+(C\\cdot D)+(\\overline{A}\\cdot \\overline{D})$，其中 $A$、$B$、$C$ 和 $D$ 是二进制输入。由于物理门存在非零的传播延迟，如果卡诺图（K-map）上相邻的 $1$ 单元格被不同的乘积项覆盖，且没有单个乘积项同时覆盖这两个单元格，则网络可能会出现静态毛刺（静态冒险）。从静态-$1$ 冒险的基础定义出发——即当单个输入发生转变时，输出应保持逻辑 $1$，但由于路径延迟不等而瞬间降至逻辑 $0$——为函数 $f$ 构建四变量卡诺图，标记出与给定蕴含项对应的分组，分析所有未被单个蕴含项覆盖的单变量邻接关系，并仅添加消除所有静态-$1$ 冒险所需的最小桥接蕴含项，同时保持 $f$ 的逻辑功能不变。报告最终的无冒险积之和表达式，仅使用变量 $A$、$B$、$C$、$D$、逻辑与 $\\cdot$、逻辑或 $+$ 和逻辑非 $\\overline{(\\cdot)}$。您的最终答案必须是一个单一的封闭形式表达式。", "solution": "问题要求消除实现函数 $f=(A\\cdot B)+(C\\cdot D)+(\\overline{A}\\cdot \\overline{D})$ 的组合电路中的静态-1冒险。在积之和（SOP）实现中，当卡诺图（K-map）上两个相邻的最小项被不同的乘积项覆盖，且没有单个乘积项同时覆盖这两个最小项时，就可能发生静态-1冒险。这可能导致在某个单输入变量转变期间，输出本应保持恒定的 $1$，却瞬间变为 $0$。\n\n首先，我们为函数 $f$ 构建四变量卡诺图。变量为 $A$、$B$、$C$ 和 $D$。我们将卡诺图的纵轴设为 $AB$，横轴设为 $CD$，并使用格雷码排序。最小项（用其十进制值表示）在网格中的位置如下：\n$$\n\\begin{array}{c|c|c|c|c|}\n\\multicolumn{1}{c}{}  \\multicolumn{4}{c}{CD} \\\\\n\\cline{3-5}\n\\multicolumn{1}{c}{AB} & 00 & 01 & 11 & 10 \\\\\n\\cline{2-5}\n00 & m_0 & m_1 & m_3 & m_2 \\\\\n\\cline{2-5}\n01 & m_4 & m_5 & m_7 & m_6 \\\\\n\\cline{2-5}\n11 & m_{12} & m_{13} & m_{15} & m_{14} \\\\\n\\cline{2-5}\n10 & m_8 & m_9 & m_{11} & m_{10} \\\\\n\\cline{2-5}\n\\end{array}\n$$\n我们通过为函数 $f$ 中包含的每个最小项填入 $1$ 来填充卡诺图。\n函数为 $f=P_1+P_2+P_3$，其中 $P_1=(A\\cdot B)$、$P_2=(C\\cdot D)$ 和 $P_3=(\\overline{A}\\cdot \\overline{D})$。\n\\begin{itemize}\n    \\item 乘积项 $P_1 = (A\\cdot B)$ 覆盖了 $A=1$ 和 $B=1$ 的最小项：$\\{m_{12}, m_{13}, m_{14}, m_{15}\\}$。\n    \\item 乘积项 $P_2 = (C\\cdot D)$ 覆盖了 $C=1$ 和 $D=1$ 的最小项：$\\{m_3, m_7, m_{11}, m_{15}\\}$。\n    \\item 乘积项 $P_3 = (\\overline{A}\\cdot \\overline{D})$ 覆盖了 $A=0$ 和 $D=0$ 的最小项：$\\{m_0, m_2, m_4, m_6\\}$。\n\\end{itemize}\n使 $f=1$ 的最小项全集是这些集合的并集：$S = \\{0, 2, 3, 4, 6, 7, 11, 12, 13, 14, 15\\}$。\n填充后的卡诺图如下：\n$$\n\\begin{array}{c|c|c|c|c|}\n\\multicolumn{1}{c}{}  \\multicolumn{4}{c}{CD} \\\\\n\\cline{3-5}\n\\multicolumn{1}{c}{AB} & 00 & 01 & 11 & 10 \\\\\n\\cline{2-5}\n00 & \\mathbf{1}_{P_3} & 0 & \\mathbf{1}_{P_2} & \\mathbf{1}_{P_3} \\\\\n\\cline{2-5}\n01 & \\mathbf{1}_{P_3} & 0 & \\mathbf{1}_{P_2} & \\mathbf{1}_{P_3} \\\\\n\\cline{2-5}\n11 & \\mathbf{1}_{P_1} & \\mathbf{1}_{P_1} & \\mathbf{1}_{P_1,P_2} & \\mathbf{1}_{P_1} \\\\\n\\cline{2-5}\n10 & 0 & 0 & \\mathbf{1}_{P_2} & 0 \\\\\n\\cline{2-5}\n\\end{array}\n$$\n下标表示每个为 $1$ 的单元格被哪个原始乘积项覆盖。\n\n对于未被公共乘积项覆盖的相邻 $1$ 单元格之间的转换，存在静态-1冒险。我们可以通过检查卡诺图或计算具有一个公共变量（一个为原变量，一个为反变量）的乘积项对之间的共识项来识别这些冒险。共识定理指出，对于表达式 $XY + \\overline{X}Z$，其共识项为 $YZ$。添加此项可以消除与变量 $X$ 转换相关的冒险。\n\n我们检查给定的乘积项对：\n1.  $P_1=(A\\cdot B)$ 和 $P_3=(\\overline{A}\\cdot \\overline{D})$：这两个项中的变量 $A$ 形式相反。共识项为 $(B) \\cdot (\\overline{D}) = B\\cdot \\overline{D}$。\n    该项覆盖了被 $P_1$ 覆盖的 1 和被 $P_3$ 覆盖的 1 之间的邻接关系。\n    例如，$m_4(0100)$ 和 $m_{12}(1100)$ 之间的转换涉及 $A$ 的变化，而此时 $B=1, C=0, D=0$。对于这些输入，$f$ 简化为 $f = (A\\cdot 1) + (0\\cdot 0) + (\\overline{A}\\cdot \\overline{0}) = A + \\overline{A}$，这是一个典型的静态冒险。添加项 $B\\overline{D}$ 同时覆盖了 $m_4$ 和 $m_{12}$（因为对两者而言，$B=1, D=0$），从而解决了这个冒险。同样地，它也覆盖了 $m_6(0110)$ 和 $m_{14}(1110)$ 之间的邻接关系。\n\n2.  $P_2=(C\\cdot D)$ 和 $P_3=(\\overline{A}\\cdot \\overline{D})$：这两个项中的变量 $D$ 形式相反。共识项为 $(C) \\cdot (\\overline{A}) = \\overline{A}\\cdot C$。\n    该项覆盖了被 $P_2$ 覆盖的 1 和被 $P_3$ 覆盖的 1 之间的邻接关系。\n    例如，考虑 $m_2(0010)$ 和 $m_3(0011)$ 之间的转换，这涉及 $D$ 的变化，而此时 $A=0, B=0, C=1$。对于这些输入，$f$ 简化为 $f = (0\\cdot 0) + (1\\cdot D) + (\\overline{0}\\cdot \\overline{D}) = D + \\overline{D}$，这是一个静态冒险。添加项 $\\overline{A}C$ 同时覆盖了 $m_2$ 和 $m_3$（因为对两者而言，$A=0, C=1$），从而解决了这个冒险。同样地，它也覆盖了 $m_6(0110)$ 和 $m_7(0111)$ 之间的邻接关系。\n\n3.  $P_1=(A\\cdot B)$ 和 $P_2=(C\\cdot D)$：这两个项中没有任何变量同时以原变量和反变量形式出现。因此，这对乘积项不会产生共识项。\n\n消除所有静态-1冒险所需的最小桥接蕴含项是我们找到的两个共识项：$B\\cdot\\overline{D}$ 和 $\\overline{A}\\cdot C$。重要的是要验证这些项只覆盖了原始函数中已经是 $1$ 的单元格，以确保 $f$ 的逻辑功能得以保留。\n\\begin{itemize}\n    \\item 项 $B\\cdot \\overline{D}$ 覆盖了 $B=1, D=0$ 的最小项：$\\{m_4, m_6, m_{12}, m_{14}\\}$。这些在 $f$ 中都为 $1$。\n    \\item 项 $\\overline{A}\\cdot C$ 覆盖了 $A=0, C=1$ 的最小项：$\\{m_2, m_3, m_6, m_7\\}$。这些在 $f$ 中都为 $1$。\n\\end{itemize}\n条件得到满足。最终的无冒险表达式是原始项与两个新的桥接项的逻辑或。\n\n原始函数为 $f_{orig} = (A\\cdot B)+(C\\cdot D)+(\\overline{A}\\cdot \\overline{D})$。\n添加的用于覆盖冒险的项是 $(B \\cdot \\overline{D})$ 和 $(\\overline{A} \\cdot C)$。\n最终的无冒险函数为 $f_{hf} = (A\\cdot B)+(C\\cdot D)+(\\overline{A}\\cdot \\overline{D})+(B\\cdot \\overline{D})+(\\overline{A}\\cdot C)$。\n此表达式保证没有静态-1冒险。", "answer": "$$\\boxed{(A\\cdot B)+(C\\cdot D)+(\\overline{A}\\cdot \\overline{D})+(B\\cdot \\overline{D})+(\\overline{A}\\cdot C)}$$", "id": "3647551"}, {"introduction": "在理论层面识别出冒险后，下一步是深入理解其物理成因。本练习将引导你从抽象的布尔代数世界进入物理现实，通过模拟两种不同的门延迟模型（传输延迟和惯性延迟）来探索毛刺的产生机制。你将看到，传输延迟模型如何暴露潜在的冒险，而更贴近真实的惯性延迟模型又如何解释了逻辑门自身的物理特性可以自然地滤除掉那些极短的毛刺信号。[@problem_id:3647505]", "problem": "要求您通过比较一个实现函数 $f(A,B)=\\overline{A}+\\overline{B}$ 的简单布尔网络的两种延迟模型，来研究组合电路中的冒险和毛刺。该网络由两个生成 $\\overline{A}$ 和 $\\overline{B}$ 的 NOT 门（非门），以及一个计算其和的 OR 门（或门）组成。您必须分析推导，然后进行仿真，在传输延迟和惯性延迟这两种模型下，输入 $A$ 上的单个毛刺如何传播到输出。您必须从以下基本基础出发：\n- 布尔代数和逻辑门定义：NOT 门输出逻辑补码；OR 门在任一输入为逻辑 $1$ 时输出逻辑 $1$，否则输出逻辑 $0$。\n- 延迟模型的时间语义：\n  1. 传输延迟：门输出的波形是输入波形延迟了其传播延迟时间；任何宽度为 $w$ 的脉冲在传输时宽度保持不变（仅时间上平移）。\n  2. 惯性延迟：在输出发生跳变前，门要求输入稳定至少持续其传播延迟时间 $d$；宽度 $w < d$ 的脉冲将被滤除。\n- 输入信号：输入 $A$ 是一个从逻辑 $0$ 开始的信号，在 $t=100\\,\\mathrm{ps}$ 时跳变到逻辑 $1$，在 $t=150\\,\\mathrm{ps}$ 时返回到逻辑 $0$。输入 $B$ 保持在逻辑 $0$ 不变。\n- 门延迟：NOT 门的传播延迟为 $50\\,\\mathrm{ps}$。OR 门的传播延迟为 $80\\,\\mathrm{ps}$。\n\n您的任务是编写一个 C 程序，该程序模拟上述电路在 $t=0$ 到 $t=300\\,\\mathrm{ps}$ 的时间范围内的行为，时间步长为 $1\\,\\mathrm{ps}$。您的程序必须分别在传输延迟和惯性延迟模型下计算输出 $f$。程序应输出两个逗号分隔值（CSV）文件：`transport.csv` 和 `inertial.csv`。每个文件应包含两列：`Time` 和 `Output`，报告每个时间步的输出值（$0$ 或 $1$）。", "solution": "我们从布尔代数和标准门定义开始。函数 $f(A,B)=\\overline{A}+\\overline{B}$ 是两个补码的 OR（或）运算。根据 De Morgan 定律，$f(A,B)=\\overline{A\\cdot B}$，但我们研究的物理实现是两个 NOT 门（非门）输入到一个 OR 门（或门）。当瞬态脉冲因有限的门延迟而通过此类网络传播时，就会出现冒险和毛刺。\n\n我们定义两种模型：\n- 传输延迟：一种理想化的线路，它将整个波形延迟一段时间并保持脉冲宽度不变。如果门的输入端出现宽度为 $w$ 的脉冲，则门的输出端将在门的传播延迟后呈现相同宽度 $w$ 的脉冲。\n- 惯性延迟：一种具有能量存储和有限转换速率的门，它会滤除比其延迟更窄的脉冲；如果输入发生变化并保持稳定至少 $d$ 时间，则输出在 $d$ 时间后发生跳变，否则输出不响应。根据一个简化且广泛使用的规则，如果脉冲宽度 $w < d$，则脉冲被滤除。\n\n**电路分析**\n\n输入 $A$ 是一个宽度为 $150-100 = 50\\,\\mathrm{ps}$ 的正脉冲。输入 $B$ 恒为 $0$。\n\n1.  **NOT 门输出**：\n    *   $\\overline{A}$：输入 $A$ 的脉冲通过一个延迟为 $50\\,\\mathrm{ps}$ 的 NOT 门。稳态下 $\\overline{A}=1$。脉冲 $A$ 会在 $\\overline{A}$ 上产生一个负脉冲（$1 \\to 0 \\to 1$）。\n        *   传输模型：$A$ 在 $t=100$ 变为 $1$，$\\overline{A}$ 在 $t=150$ 变为 $0$。$A$ 在 $t=150$ 变为 $0$，$\\overline{A}$ 在 $t=200$ 变为 $1$。$\\overline{A}$ 上出现一个从 $t=150$ 到 $t=200$ 的宽度为 $50\\,\\mathrm{ps}$ 的负脉冲。\n        *   惯性模型：输入脉冲宽度为 $50\\,\\mathrm{ps}$，等于 NOT 门的延迟（$50\\,\\mathrm{ps}$）。根据 $w \\ge d$ 的规则，脉冲会通过。因此，$\\overline{A}$ 上的波形与传输模型相同。\n    *   $\\overline{B}$：输入 $B$ 恒为 $0$，所以 $\\overline{B}$ 恒为 $1$。\n\n2.  **OR 门输出 $f = \\overline{A} + \\overline{B}$**：\n    OR 门的输入是 $\\overline{A}$ 和 $\\overline{B}$。由于 $\\overline{B}$ 始终为 $1$，根据 OR 门的定义，其输出 $f$ 应该始终为 $1$。\n    然而，$\\overline{A}$ 上的脉冲可能会在最终输出 $f$ 上引起一个毛刺。OR 门的延迟为 $80\\,\\mathrm{ps}$。\n    *   $\\overline{A}$ 的输入到 OR 门有一个从 $t=150$ 到 $t=200$ 的 $1 \\to 0 \\to 1$ 脉冲。\n    *   $\\overline{B}$ 的输入到 OR 门是恒定的 $1$。\n\n    在理想的逻辑世界中，$f$ 将保持为 $1$。但在物理实现中，一个输入的转换可能会比另一个输入的稳定状态传播得更快。然而，在这个特定的问题设置中，OR 门的一个输入（来自 $\\overline{B}$ 的路径）是静态的。由于 OR 门的规则是“任一输入为 1，输出即为 1”，并且 $\\overline{B}$ 输入始终为 1，所以无论 $\\overline{A}$ 输入如何变化，输出 $f$ 都应保持为 1。\n\n    **结论**：在这个特定的电路和输入条件下，两种延迟模型都预测输出 $f$ 将保持在逻辑 $1$ 不变。不会产生毛刺。这是因为 OR 门的一个输入由一个恒定的逻辑 $1$ 信号驱动，这使得输出对另一个输入的变化不敏感。\n    C 程序的仿真结果应该在 `transport.csv` 和 `inertial.csv` 两个文件中都显示在所有时间点 `Output` 列的值均为 $1$。", "answer": "```c\n// 编者注：原始代码在此处被截断。\n#include\n```", "id": "3647505"}, {"introduction": "现在，让我们将所学概念应用于一个核心的数字电路构建模块：全加器。本练习将对比分析同一逻辑功能的两种不同电路实现方式，揭示电路拓扑结构的选择对时序行为和毛刺敏感度的巨大影响。通过对给定延迟参数下的信号传播进行精确的计时分析，你将亲身体会到为何某些电路设计在鲁棒性上优于其他设计，这对于构建可靠的高性能系统至关重要。[@problem_id:3647517]", "problem": "一个一位全加器有三个布尔输入 $A$、$B$ 和 $C_{in}$，并产生布尔输出 $S$（和）和 $C_{out}$（进位）。和函数具有奇校验行为，而进位函数是一种阈值行为，即当至少有两个输入为高电平时，输出为高电平。考虑使用常见的门级构建模块对和输出的两种实现。每个门被建模为每条输入到输出路径都具有固定的惯性传播延迟，并且为每个门供电的导线可能会引入特定于输入的路径偏移。\n\n第一种实现，记为 $\\mathcal{X}$，是级联异或网络\n$$S_{\\mathcal{X}} = (A \\oplus B) \\oplus C_{in},$$\n用两个串联的两输入异或门实现。上游异或门 $G_1$ 接收 $A$ 和 $B$，其输出 $P$ 与 $C_{in}$ 一起驱动下游异或门 $G_2$。传播延迟如下：通过 $G_1$ 的 $A \\to P$ 路径延迟为 $\\tau_{A\\to P} = 80\\,\\mathrm{ps}$，通过 $G_1$ 的 $B \\to P$ 路径延迟为 $\\tau_{B\\to P} = 120\\,\\mathrm{ps}$（这包括 $G_1$ 的 $B$ 输入上的 $40\\,\\mathrm{ps}$ 导线偏移），$G_2$ 的每个输入到输出路径的延迟为 $\\tau_{G_2} = 80\\,\\mathrm{ps}$。\n\n第二种实现，记为 $\\mathcal{M}$，对进位使用多数门，对和使用平衡互补选择多路复用器形式。具体来说，计算传播信号 $P = A \\oplus B$ 及其补码 $P' = A \\odot B$（同或），两者均由单个互补异或/同或单元产生，其布局使得 $A \\to P$ 和 $B \\to P$ 的延迟均衡为 $\\tau_{P} = 100\\,\\mathrm{ps}$，并且 $A \\to P'$ 和 $B \\to P'$ 的延迟均衡为 $\\tau_{P'} = 100\\,\\mathrm{ps}$（此单元内无输入偏移）。然后，\n$$S_{\\mathcal{M}} = P' \\cdot C_{in} \\;+\\; P \\cdot \\overline{C_{in}},$$\n实现为一个作用于 $C_{in}$ 的反相器，延迟为 $\\tau_I = 40\\,\\mathrm{ps}$，它为一个 $2{:}1$ 多路复用器的一个数据输入供电，该多路复用器的选择输入是 $P$ 和 $P'$，数据输入是 $C_{in}$ 和 $\\overline{C_{in}}$。该多路复用器在两个数据臂和两个选择臂上的输入到输出延迟均为 $\\tau_M = 60\\,\\mathrm{ps}$。进位的多数门为\n$$C_{out} = \\mathrm{Maj}(A,B,C_{in}) = A B \\;+\\; A C_{in} \\;+\\; B C_{in},$$\n但 $C_{out}$ 并未在 $S_{\\mathcal{M}}$ 中使用；在此提供它是为了明确指出整个全加器对进位使用多数形式，对和使用互补选择形式。\n\n假设初始输入为 $A=0$、$B=0$、$C_{in}=0$，在全局时间 $t=0$ 时，所有三个主输入在为网络供电的输入引脚处同时切换到 $A=1$、$B=1$、$C_{in}=1$（即，每个主输入在 $t=0$ 时发生转换）。在给定的惯性延迟模型下分析输出波形，并确定在 $S_{\\mathcal{X}}$ 和 $S_{\\mathcal{M}}$ 处是否存在任何意外的瞬态脉冲（毛刺）及其宽度，其中毛刺被定义为完全由重收敛路径延迟差异引起的、持续时间非零的、向非正确稳态逻辑值的任何临时偏离。\n\n哪个选项是正确的？\n\nA. $S_{\\mathcal{X}}$ 表现出两个宽度分别为 $80\\,\\mathrm{ps}$ 和 $40\\,\\mathrm{ps}$ 的毛刺；$S_{\\mathcal{M}}$ 无毛刺。\n\nB. $S_{\\mathcal{X}}$ 表现出一个宽度为 $40\\,\\mathrm{ps}$ 的单毛刺；$S_{\\mathcal{M}}$ 无毛刺。\n\nC. $S_{\\mathcal{X}}$ 无毛刺；$S_{\\mathcal{M}}$ 表现出一个宽度为 $60\\,\\mathrm{ps}$ 的静态冒险脉冲。\n\nD. 在所述延迟下，$S_{\\mathcal{X}}$ 和 $S_{\\mathcal{M}}$ 均无毛刺。", "solution": "用户提供的问题陈述已经过仔细验证，并被确定为是合理的。它具有科学依据、问题明确、客观且内部一致，可以进行严谨的分析。\n\n该问题要求在特定输入转换下，对一位全加器和函数 $S = A \\oplus B \\oplus C_{in}$ 的两种不同门级实现进行时序分析。我们必须确定输出 $S_{\\mathcal{X}}$ 和 $S_{\\mathcal{M}}$ 是否出现毛刺（瞬态冒险）。\n\n**输入转换和稳态分析**\n\n指定的输入转换是在时间 $t=0$ 时，从 $(A, B, C_{in}) = (0, 0, 0)$ 变为 $(A, B, C_{in}) = (1, 1, 1)$。\n\n*   初始输出值（当 $t < 0$ 时）为 $S = 0 \\oplus 0 \\oplus 0 = 0$。\n*   最终稳态输出值（当 $t \\to \\infty$ 时）为 $S = 1 \\oplus 1 \\oplus 1 = (0) \\oplus 1 = 1$。\n\n因此，对于两个电路，输出都应从逻辑 $0$ 转换到逻辑 $1$。毛刺是对此单调转换的任何临时偏离，例如 $0 \\to 1 \\to 0 \\to 1$。\n\n**实现 $\\mathcal{X}$ 的分析**\n\n第一种实现是 $S_{\\mathcal{X}} = (A \\oplus B) \\oplus C_{in}$。令 $P = A \\oplus B$。该电路由一个计算 $P$ 的门 $G_1$ 组成，其输出送入一个计算 $S_{\\mathcal{X}} = P \\oplus C_{in}$ 的门 $G_2$。\n\n1.  **中间信号 $P$ 的分析**：\n    信号 $P = A \\oplus B$ 是门 $G_1$ 的输出。从输入到 $P$ 的传播延迟为 $\\tau_{A\\to P} = 80\\,\\mathrm{ps}$ 和 $\\tau_{B\\to P} = 120\\,\\mathrm{ps}$。\n    *   初始状态：$A=0, B=0 \\implies P = 0 \\oplus 0 = 0$。\n    *   最终状态：$A=1, B=1 \\implies P = 1 \\oplus 1 = 0$。\n    信号 $P$ 应保持稳定在 $0$。然而，不相等的延迟（路径偏移）会产生冒险。\n    让我们追踪门 $G_1$ 输出端的事件：\n    *   当 $t < 80\\,\\mathrm{ps}$ 时， $t=0$ 时的输入变化效应尚未传播。$P$ 保持其初始值 $0$。\n    *   在 $t=80\\,\\mathrm{ps}$ 时，来自 $A$ 的变化（速度更快）传播到输出。门有效地看到输入为 $(A,B)=(1,0)$。它计算出 $P = 1 \\oplus 0 = 1$。因此，$P$ 发生 $0 \\to 1$ 的转换。\n    *   在 $t=120\\,\\mathrm{ps}$ 时，来自 $B$ 的变化（速度更慢）传播到输出。门现在看到输入为 $(A,B)=(1,1)$。它计算出 $P = 1 \\oplus 1 = 0$。因此，$P$ 发生 $1 \\to 0$ 的转换。\n    信号 $P(t)$ 表现出静态0冒险。它产生一个瞬态脉冲：$P$ 为 $0$，在区间 $[80\\,\\mathrm{ps}, 120\\,\\mathrm{ps})$ 内脉冲至 $1$，然后返回到 $0$。信号 $P$ 上此毛刺的宽度为 $120\\,\\mathrm{ps} - 80\\,\\mathrm{ps} = 40\\,\\mathrm{ps}$。\n\n2.  **最终输出 $S_{\\mathcal{X}}$ 的分析**：\n    信号 $S_{\\mathcal{X}} = P \\oplus C_{in}$ 是门 $G_2$ 的输出。到 $G_2$ 的两个输入路径的延迟均为 $\\tau_{G_2} = 80\\,\\mathrm{ps}$。\n    $G_2$ 的输入是主输入 $C_{in}(t)$ 和内部信号 $P(t)$。\n    *   $C_{in}(t)$ 在 $t=0$ 时从 $0$ 转换到 $1$。\n    *   $P(t)$ 具有上述的 $0 \\to 1 \\to 0$ 脉冲。\n    我们可以通过追踪事件通过 $G_2$ 的传播来确定 $S_{\\mathcal{X}}$ 的行为：\n    *   **事件1**：$C_{in}$ 在 $t=0$ 时的变化通过 $G_2$ 传播，并在 $t = 0 + \\tau_{G_2} = 80\\,\\mathrm{ps}$ 时影响 $S_{\\mathcal{X}}$。\n    *   **事件2**：$P$ 上脉冲的上升沿在 $t=80\\,\\mathrm{ps}$ 时通过 $G_2$ 传播，并在 $t = 80\\,\\mathrm{ps} + \\tau_{G_2} = 160\\,\\mathrm{ps}$ 时影响 $S_{\\mathcal{X}}$。\n    *   **事件3**：$P$ 上脉冲的下降沿在 $t=120\\,\\mathrm{ps}$ 时通过 $G_2$ 传播，并在 $t = 120\\,\\mathrm{ps} + \\tau_{G_2} = 200\\,\\mathrm{ps}$ 时影响 $S_{\\mathcal{X}}$。\n\n    现在，我们根据 $G_2$ 的逻辑所看到的 $P$ 和 $C_{in}$ 的值来构建 $S_{\\mathcal{X}}(t)$ 的波形：\n    *   当 $t < 80\\,\\mathrm{ps}$ 时：尚无事件影响 $S_{\\mathcal{X}}$。它保持其初始值，$S_{\\mathcal{X}} = P_{initial} \\oplus C_{in, initial} = 0 \\oplus 0 = 0$。\n    *   当 $t \\in [80\\,\\mathrm{ps}, 160\\,\\mathrm{ps})$ 时：事件1已经发生。$C_{in}$ 的变化现在在输出端生效。$P$ 的值仍被视为其初始值 $0$。所以，$S_{\\mathcal{X}} = P_{initial} \\oplus C_{in, final} = 0 \\oplus 1 = 1$。输出正确地转换到其最终状态。\n    *   当 $t \\in [160\\,\\mathrm{ps}, 200\\,\\mathrm{ps})$ 时：事件2已经发生。$P$ 脉冲的上升沿现在生效。$S_{\\mathcal{X}} = P_{pulse} \\oplus C_{in, final} = 1 \\oplus 1 = 0$。输出偏离其正确的最终状态，产生一个毛刺。\n    *   当 $t \\ge 200\\,\\mathrm{ps}$ 时：事件3已经发生。$P$ 脉冲的下降沿现在生效。$S_{\\mathcal{X}} = P_{final} \\oplus C_{in, final} = 0 \\oplus 1 = 1$。输出返回到其正确的最终状态。\n\n    输出波形 $S_{\\mathcal{X}}(t)$ 是 $0 \\to 1 \\to 0 \\to 1$。这是一种动态冒险，表现为单个意外的到 $0$ 的脉冲。毛刺存在于时间段 $[160\\,\\mathrm{ps}, 200\\,\\mathrm{ps})$ 内。其宽度为 $200\\,\\mathrm{ps} - 160\\,\\mathrm{ps} = 40\\,\\mathrm{ps}$。\n\n**实现 $\\mathcal{M}$ 的分析**\n\n第二种实现是 $S_{\\mathcal{M}} = P' \\cdot C_{in} + P \\cdot \\overline{C_{in}}$，其中 $P = A \\oplus B$ 且 $P' = A \\odot B = \\bar{P}$。该逻辑等效于 $S_{\\mathcal{M}} = P \\oplus C_{in}$。\n\n1.  **中间信号 $P$、$P'$ 和 $\\overline{C_{in}}$ 的分析**：\n    *   **信号 $P$ 和 $P'$**：它们由一个具有均衡延迟的互补单元产生：对于 $A$ 和 $B$ 输入，$\\tau_P = \\tau_{P'} = 100\\,\\mathrm{ps}$。\n        *   对于 $P = A \\oplus B$：初始值为 $0 \\oplus 0 = 0$。最终值为 $1 \\oplus 1 = 0$。由于来自 $A$ 和 $B$ 的延迟相等，它们转换的影响实际上同时到达异或逻辑。门从基于 $(0,0)$ 的计算转换到基于 $(1,1)$ 的计算，两者都产生 $P=0$。因此，$P$ 保持稳定在 $0$，并且无毛刺。\n        *   对于 $P' = A \\odot B$：初始值为 $0 \\odot 0 = 1$。最终值为 $1 \\odot 1 = 1$。出于同样的原因，$P'$ 保持稳定在 $1$，并且无毛刺。\n    *   **信号 $\\overline{C_{in}}$**：它由一个延迟为 $\\tau_I = 40\\,\\mathrm{ps}$ 的反相器产生。由于 $C_{in}$ 在 $t=0$ 时从 $0$ 转换到 $1$，$\\overline{C_{in}}$ 在 $t = 40\\,\\mathrm{ps}$ 时从 $1$ 转换到 $0$。\n\n2.  **最终输出 $S_{\\mathcal{M}}$ 的分析**：\n    多路复用器（MUX）实现 $S_{\\mathcal{M}} = P' \\cdot C_{in} + P \\cdot \\overline{C_{in}}$。我们假设 $P$ 是选择线。\n    *   由于 $P(t)=0$ 恒成立，多路复用器永久选择与 $P=0$ 相关的数据输入。多路复用器的表达式形式为 $\\bar{P} D_0 + P D_1$。这里 $P'=\\bar{P}$，$\\bar{P}$ 支路的数据输入是 $C_{in}$。\n    *   因此，逻辑简化为 $S_{\\mathcal{M}} = (1) \\cdot C_{in} + (0) \\cdot \\overline{C_{in}} = C_{in}$。\n    *   输出 $S_{\\mathcal{M}}$ 应该简单地跟随输入 $C_{in}$，并因通过多路复用器的传播而延迟。\n    *   相关路径是从 $C_{in}$ 数据输入到多路复用器输出。该路径的延迟为 $\\tau_M = 60\\,\\mathrm{ps}$。\n    *   $C_{in}$ 在 $t=0$ 时从 $0$ 转换到 $1$。因此，$S_{\\mathcal{M}}$ 在 $t = 0 + \\tau_M = 60\\,\\mathrm{ps}$ 时从 $0$ 转换到 $1$。\n    *   另一个数据输入 $\\overline{C_{in}}$ 在 $t=40\\,\\mathrm{ps}$ 时的变化是无关紧要的，因为该路径未被选择（因为 $P$ 稳定在 $0$）。\n    输出 $S_{\\mathcal{M}}$ 在 $t=60\\,\\mathrm{ps}$ 时干净、单调地从 $0$ 转换到 $1$。该转换无毛刺。\n\n**选项评估**\n\n*   **A. $S_{\\mathcal{X}}$ 表现出两个宽度分别为 $80\\,\\mathrm{ps}$ 和 $40\\,\\mathrm{ps}$ 的毛刺；$S_{\\mathcal{M}}$ 无毛刺。**\n    我们的分析表明 $S_{\\mathcal{X}}$ 只有一个宽度为 $40\\,\\mathrm{ps}$ 的毛刺。因此，此选项 **不正确**。\n\n*   **B. $S_{\\mathcal{X}}$ 表现出一个宽度为 $40\\,\\mathrm{ps}$ 的单毛刺；$S_{\\mathcal{M}}$ 无毛刺。**\n    我们的分析表明，$S_{\\mathcal{X}}$ 有一个值为 $0$ 的毛刺脉冲，持续时间为 $40\\,\\mathrm{ps}$。我们的分析也表明 $S_{\\mathcal{M}}$ 无毛刺。此选项与我们的发现完全匹配。因此，此选项 **正确**。\n\n*   **C. $S_{\\mathcal{X}}$ 无毛刺；$S_{\\mathcal{M}}$ 表现出一个宽度为 $60\\,\\mathrm{ps}$ 的静态冒险脉冲。**\n    我们的分析表明 $S_{\\mathcal{X}}$ 有毛刺而 $S_{\\mathcal{M}}$ 无毛刺。此选项陈述的恰恰相反。因此，此选项 **不正确**。\n\n*   **D. 在所述延迟下，$S_{\\mathcal{X}}$ 和 $S_{\\mathcal{M}}$ 均无毛刺。**\n    我们的分析表明 $S_{\\mathcal{X}}$ 并非无毛刺。因此，此选项 **不正确**。", "answer": "$$\\boxed{B}$$", "id": "3647517"}]}