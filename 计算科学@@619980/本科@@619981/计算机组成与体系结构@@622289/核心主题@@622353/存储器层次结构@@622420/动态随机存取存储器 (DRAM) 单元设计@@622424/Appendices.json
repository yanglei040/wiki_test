{"hands_on_practices": [{"introduction": "内存的核心功能是存储数据并准确地检索它。在DRAM中，这涉及到向微小电容器写入电荷和稍后读回电荷之间精密的时序配合。本练习 [@problem_id:3638365] 提供了一个动手实践的机会，让您能够对这一基本过程进行建模，将单元的物理参数与成功写入操作所需的最短时间联系起来。通过分析单元的RC充电过程以及后续读取过程中的电荷共享，您将推导出一个支撑所有DRAM操作的关键时序约束。", "problem": "动态随机存取存储器（DRAM）中的单个单元的写入操作是通过激活其字线并将位线驱动至电源轨电压来实现的，而读取操作则是通过将位线预充电至$V_{\\mathrm{DD}}/2$，重新激活字线，并利用电荷共享产生一个微小的差分电压，该电压由锁存器感测。考虑一个最初存储逻辑零的DRAM单元，刚刚被写入了一个逻辑一。假设使用以下物理模型和参数：\n\n- 存储电容值为$C_{\\mathrm{cell}}$，列位线具有集总电容$C_{\\mathrm{BL}}$。\n- 访问晶体管在导通时具有有效导通电阻$R_{\\mathrm{on}}$，并且字线被充分升压，以便在稳态下将完整的电源轨电压施加到单元节点上（无阈值电压降）。\n- 在写入逻辑一期间，位线由低阻抗驱动器驱动至$V_{\\mathrm{DD}}$；对于存储节点的瞬态充电过程，有效串联电阻主要由$R_{\\mathrm{on}}$决定。\n- 写入操作从初始存储节点电压为$0$开始，持续时间为$T_{\\mathrm{w}}$，期间字线被激活，位线保持在$V_{\\mathrm{DD}}$。\n- 写入结束后，在读取开始之前，理想的均衡和预充电操作将位线精确恢复到$V_{\\mathrm{DD}}/2$；忽略任何有限的预充电时间，因此唯一需要的时间裕度来自于确保写入的电荷足够。忽略期间的所有漏电。\n- 读出放大器要求，在读取开始时（即在单元和预充电的位线之间完成电荷共享之后，但在任何有源放大之前），位线电压偏离$V_{\\mathrm{DD}}/2$的幅度至少为$V_{s}$，以保证决策正确。\n\n从第一性原理（电容通过电阻充电和电荷共享）出发，推导出一个保证对该单元的后续立即读取能够产生至少所需初始位线偏差$V_{s}$的最小写入时间$T_{\\min}$的解析表达式。然后，使用$V_{\\mathrm{DD}} = 1.2\\,\\text{V}$、$R_{\\mathrm{on}} = 25\\,\\text{k}\\Omega$、$C_{\\mathrm{cell}} = 30\\,\\text{fF}$、$C_{\\mathrm{BL}} = 300\\,\\text{fF}$和$V_{s} = 15\\,\\text{mV}$对$T_{\\min}$进行数值计算。最终时间以纳秒为单位表示，并将答案四舍五入到三位有效数字。", "solution": "问题要求计算DRAM单元的最小写入时间$T_{\\min}$，以确保后续读取成功。这需要进行两部分分析：首先，对写入操作进行建模，以找出单元电压随时间变化的函数；其次，对读取操作进行建模，将写入的单元电压与读出放大器检测到的位线电压摆幅联系起来。\n\n首先，我们分析写入过程。一个逻辑“一”被写入一个初始电压为$0\\,\\text{V}$的单元。位线被驱动到$V_{\\mathrm{DD}}$，具有导通电阻$R_{\\mathrm{on}}$的访问晶体管将位线连接到存储电容$C_{\\mathrm{cell}}$。这个结构形成一个简单的一阶RC电路。存储电容上的电压$V_{\\mathrm{cell}}(t)$从初始电压$0\\,\\text{V}$向最终电压$V_{\\mathrm{DD}}$充电，其过程由以下方程描述：\n$$V_{\\mathrm{cell}}(t) = V_{\\mathrm{DD}} + (0 - V_{\\mathrm{DD}}) \\exp\\left(-\\frac{t}{\\tau_{\\mathrm{w}}}\\right)$$\n其中充电时间常数为$\\tau_{\\mathrm{w}} = R_{\\mathrm{on}}C_{\\mathrm{cell}}$。这可以简化为：\n$$V_{\\mathrm{cell}}(t) = V_{\\mathrm{DD}} \\left(1 - \\exp\\left(-\\frac{t}{R_{\\mathrm{on}}C_{\\mathrm{cell}}}\\right)\\right)$$\n经过$T_{\\mathrm{w}}$的写入时间后，存储在单元中的电压，我们记为$V_{\\mathrm{written}}$，是：\n$$V_{\\mathrm{written}} = V_{\\mathrm{cell}}(T_{\\mathrm{w}}) = V_{\\mathrm{DD}} \\left(1 - \\exp\\left(-\\frac{T_{\\mathrm{w}}}{R_{\\mathrm{on}}C_{\\mathrm{cell}}}\\right)\\right)$$\n\n接下来，我们分析读取过程。读取操作开始时，具有电容$C_{\\mathrm{BL}}$的位线被预充电到电压$V_{\\mathrm{DD}}/2$。然后，字线被激活，将（电压为$V_{\\mathrm{written}}$的）存储电容$C_{\\mathrm{cell}}$连接到位线电容$C_{\\mathrm{BL}}$。在随后的电荷共享过程中，电荷是守恒的。\n连接电容器之前的总电荷是单元上的电荷和位线上的电荷之和：\n$$Q_{\\mathrm{total}} = Q_{\\mathrm{cell}} + Q_{\\mathrm{BL}} = C_{\\mathrm{cell}}V_{\\mathrm{written}} + C_{\\mathrm{BL}}\\frac{V_{\\mathrm{DD}}}{2}$$\n连接后，两个电容器并联，总电容为$C_{\\mathrm{cell}} + C_{\\mathrm{BL}}$，它们会达到一个最终的平衡电压$V_{\\mathrm{final}}$。\n$$V_{\\mathrm{final}} = \\frac{Q_{\\mathrm{total}}}{C_{\\mathrm{cell}} + C_{\\mathrm{BL}}} = \\frac{C_{\\mathrm{cell}}V_{\\mathrm{written}} + C_{\\mathrm{BL}}\\frac{V_{\\mathrm{DD}}}{2}}{C_{\\mathrm{cell}} + C_{\\mathrm{BL}}}$$\n\n读出放大器要求位线电压偏离其预充电电平$V_{\\mathrm{DD}}/2$的幅度至少为$V_{s}$。该偏差$\\Delta V_{\\mathrm{BL}}$为：\n$$\\Delta V_{\\mathrm{BL}} = V_{\\mathrm{final}} - \\frac{V_{\\mathrm{DD}}}{2}$$\n由于我们正在读取一个“一”，$V_{\\mathrm{written}} > V_{\\mathrm{DD}}/2$，因此$V_{\\mathrm{final}} > V_{\\mathrm{DD}}/2$，并且偏差是正的。条件是$\\Delta V_{\\mathrm{BL}} \\ge V_{s}$。\n$$ \\frac{C_{\\mathrm{cell}}V_{\\mathrm{written}} + C_{\\mathrm{BL}}\\frac{V_{\\mathrm{DD}}}{2}}{C_{\\mathrm{cell}} + C_{\\mathrm{BL}}} - \\frac{V_{\\mathrm{DD}}}{2} \\ge V_{s} $$\n为了简化左边部分：\n$$ \\frac{C_{\\mathrm{cell}}V_{\\mathrm{written}} + C_{\\mathrm{BL}}\\frac{V_{\\mathrm{DD}}}{2} - \\frac{V_{\\mathrm{DD}}}{2}(C_{\\mathrm{cell}} + C_{\\mathrm{BL}})}{C_{\\mathrm{cell}} + C_{\\mathrm{BL}}} \\ge V_{s} $$\n$$ \\frac{C_{\\mathrm{cell}}V_{\\mathrm{written}} - C_{\\mathrm{cell}}\\frac{V_{\\mathrm{DD}}}{2}}{C_{\\mathrm{cell}} + C_{\\mathrm{BL}}} \\ge V_{s} $$\n$$ \\frac{C_{\\mathrm{cell}}}{C_{\\mathrm{cell}} + C_{\\mathrm{BL}}} \\left(V_{\\mathrm{written}} - \\frac{V_{\\mathrm{DD}}}{2}\\right) \\ge V_{s} $$\n这个不等式为$V_{\\mathrm{written}}$设定了一个满足感测裕度的最小所需电压。让我们求解这个最小电压$V_{\\mathrm{written,min}}$：\n$$ V_{\\mathrm{written,min}} - \\frac{V_{\\mathrm{DD}}}{2} = V_{s} \\frac{C_{\\mathrm{cell}} + C_{\\mathrm{BL}}}{C_{\\mathrm{cell}}} $$\n$$ V_{\\mathrm{written,min}} = \\frac{V_{\\mathrm{DD}}}{2} + V_{s} \\left(1 + \\frac{C_{\\mathrm{BL}}}{C_{\\mathrm{cell}}}\\right) $$\n\n为了找到最小写入时间$T_{\\min}$，我们将写入后的单元电压$V_{\\mathrm{cell}}(T_{\\min})$设为等于这个最小所需电压$V_{\\mathrm{written,min}}$：\n$$ V_{\\mathrm{DD}} \\left(1 - \\exp\\left(-\\frac{T_{\\min}}{R_{\\mathrm{on}}C_{\\mathrm{cell}}}\\right)\\right) = \\frac{V_{\\mathrm{DD}}}{2} + V_{s} \\left(1 + \\frac{C_{\\mathrm{BL}}}{C_{\\mathrm{cell}}}\\right) $$\n现在，我们求解$T_{\\min}$。首先，分离出指数项：\n$$ 1 - \\exp\\left(-\\frac{T_{\\min}}{R_{\\mathrm{on}}C_{\\mathrm{cell}}}\\right) = \\frac{1}{2} + \\frac{V_{s}}{V_{\\mathrm{DD}}} \\left(1 + \\frac{C_{\\mathrm{BL}}}{C_{\\mathrm{cell}}}\\right) $$\n$$ \\exp\\left(-\\frac{T_{\\min}}{R_{\\mathrm{on}}C_{\\mathrm{cell}}}\\right) = \\frac{1}{2} - \\frac{V_{s}}{V_{\\mathrm{DD}}} \\left(1 + \\frac{C_{\\mathrm{BL}}}{C_{\\mathrm{cell}}}\\right) $$\n对两边取自然对数：\n$$ -\\frac{T_{\\min}}{R_{\\mathrm{on}}C_{\\mathrm{cell}}} = \\ln\\left[\\frac{1}{2} - \\frac{V_{s}}{V_{\\mathrm{DD}}} \\left(1 + \\frac{C_{\\mathrm{BL}}}{C_{\\mathrm{cell}}}\\right)\\right] $$\n最后，$T_{\\min}$的解析表达式为：\n$$ T_{\\min} = -R_{\\mathrm{on}}C_{\\mathrm{cell}} \\ln\\left[\\frac{1}{2} - \\frac{V_{s}}{V_{\\mathrm{DD}}} \\left(1 + \\frac{C_{\\mathrm{BL}}}{C_{\\mathrm{cell}}}\\right)\\right] $$\n\n现在，我们使用给定的参数对这个表达式进行数值计算：\n$V_{\\mathrm{DD}} = 1.2\\,\\text{V}$\n$R_{\\mathrm{on}} = 25\\,\\text{k}\\Omega = 25 \\times 10^{3}\\,\\Omega$\n$C_{\\mathrm{cell}} = 30\\,\\text{fF} = 30 \\times 10^{-15}\\,\\text{F}$\n$C_{\\mathrm{BL}} = 300\\,\\text{fF} = 300 \\times 10^{-15}\\,\\text{F}$\n$V_{s} = 15\\,\\text{mV} = 15 \\times 10^{-3}\\,\\text{V}$\n\n首先，计算写入时间常数$\\tau_{\\mathrm{w}}$：\n$$ \\tau_{\\mathrm{w}} = R_{\\mathrm{on}}C_{\\mathrm{cell}} = (25 \\times 10^{3}\\,\\Omega) \\times (30 \\times 10^{-15}\\,\\text{F}) = 750 \\times 10^{-12}\\,\\text{s} = 0.75\\,\\text{ns} $$\n接下来，计算对数内的项：\n$$ \\frac{V_{s}}{V_{\\mathrm{DD}}} = \\frac{15 \\times 10^{-3}\\,\\text{V}}{1.2\\,\\text{V}} = 0.0125 $$\n$$ 1 + \\frac{C_{\\mathrm{BL}}}{C_{\\mathrm{cell}}} = 1 + \\frac{300 \\times 10^{-15}\\,\\text{F}}{30 \\times 10^{-15}\\,\\text{F}} = 1 + 10 = 11 $$\n对数的自变量是：\n$$ \\frac{1}{2} - (0.0125)(11) = 0.5 - 0.1375 = 0.3625 $$\n现在，将这些值代回到$T_{\\min}$的表达式中：\n$$ T_{\\min} = -(0.75 \\times 10^{-9}\\,\\text{s}) \\ln(0.3625) $$\n使用计算器，$\\ln(0.3625) \\approx -1.014805$。\n$$ T_{\\min} \\approx -(0.75 \\times 10^{-9}\\,\\text{s}) \\times (-1.014805) \\approx 0.761104 \\times 10^{-9}\\,\\text{s} $$\n问题要求结果以纳秒为单位，并四舍五入到三位有效数字。\n$$ T_{\\min} \\approx 0.761\\,\\text{ns} $$\n最终的数值答案是$0.761$。", "answer": "$$\\boxed{0.761}$$", "id": "3638365"}, {"introduction": "一个快速的存储系统不仅仅是单个操作速度快，更重要的是最大化整体吞吐量。本练习 [@problem_id:3638401] 深入探讨了DRAM设计中的一个关键优化挑战：位线均衡阶段。虽然更长的均衡时间能确保为下一次读取提供“干净的画布”，从而减少错误，但它也消耗了宝贵的时间，降低了潜在的吞吐量。您将建立一个模型来权衡这一利弊，并确定能够最大化每秒成功操作有效数量的最佳均衡时间。", "problem": "动态随机存取存储器 (DRAM) 的一对位线在每次访问前，会通过一个导通电阻为 $R_{\\text{on}}$ 的均衡晶体管进行均衡。每条位线对地存在电容 $C_{\\text{BL}}$，构成一个阻容 (RC) 网络。在持续时间为 $t_{\\text{EQ}}$ 的均衡过程中，由于 RC 动态特性，差分位线电压会从其初始偏移量开始呈指数衰减。假设以下具有科学依据的事实：\n- 对于由一个电阻连接的两个相同容性节点，其差模电压 $v_{d}(t)$ 服从与 RC 网络相关的一阶线性微分方程，并随时间呈指数衰减。\n- 在残余差分电压远低于感测阈值的小信号范围内，由于均衡不足导致的位错误概率近似正比于残余差分电压的幅度；因此，它随着均衡时间 $t_{\\text{EQ}}$ 以均衡时间常数呈指数衰减。\n设 $t_{\\text{cyc}}$ 为每次访问中不包括均衡的周期时间，并将有效吞吐量定义为单位时间内的正确访问次数。一个合理的性能-错误平衡是最大化有效吞吐量，其定义为成功概率除以总周期时间。考虑一个满足以下条件的 DRAM 子阵列：\n- 均衡晶体管导通电阻 $R_{\\text{on}} = 6.0 \\times 10^{3} \\, \\Omega$，\n- 每条位线的电容 $C_{\\text{BL}} = 3.00 \\times 10^{-13} \\, \\text{F}$，\n- 固定的非均衡周期开销 $t_{f} = 30.0 \\times 10^{-9} \\, \\text{s}$，\n- 小信号误差前置因子 $p_{0} = 0.10$。\n仅使用 RC 衰减的物理第一性原理和上述小信号误差模型，完成以下任务：\n1. 推导差模均衡的指数衰减常数，并将位错误概率表示为函数 $p_{e}(t_{\\text{EQ}})$。\n2. 通过将成功概率与周期时间相结合，将有效吞吐量 $T_{\\text{eff}}(t_{\\text{EQ}})$ 表示为 $t_{\\text{EQ}}$ 的函数。\n3. 确定使有效吞吐量 $T_{\\text{eff}}(t_{\\text{EQ}})$ 最大化的最佳均衡时间 $t_{\\text{EQ}}^{\\star}$。\n计算给定参数下 $t_{\\text{EQ}}^{\\star}$ 的数值，并以纳秒为单位表示最终答案。将答案四舍五入至四位有效数字。", "solution": "解答过程分为三个阶段：\n1. 推导差模均衡时间常数和位错误概率函数。\n2. 将有效吞吐量表示为均衡时间的函数。\n3. 优化有效吞吐量以找到最佳均衡时间 $t_{\\text{EQ}}^{\\star}$。\n\n第一部分：均衡动态学与错误概率\n\n均衡电路由一个电阻值为 $R_{\\text{on}}$ 的电阻连接两条位线 BL 和 BL-bar 组成。每条位线对地都有一个电容 $C_{\\text{BL}}$。设位线上的电压分别为 $V_{\\text{BL}}(t)$ 和 $V_{\\text{BL-bar}}(t)$。在每个位线节点上应用 Kirchhoff 电流定律，得到以下微分方程组：\n$$ C_{\\text{BL}} \\frac{dV_{\\text{BL}}}{dt} + \\frac{V_{\\text{BL}} - V_{\\text{BL-bar}}}{R_{\\text{on}}} = 0 $$\n$$ C_{\\text{BL}} \\frac{dV_{\\text{BL-bar}}}{dt} + \\frac{V_{\\text{BL-bar}} - V_{\\text{BL}}}{R_{\\text{on}}} = 0 $$\n我们感兴趣的量是差分电压 $v_d(t) = V_{\\text{BL}}(t) - V_{\\text{BL-bar}}(t)$。我们通过将第一个方程减去第二个方程来推导 $v_d(t)$ 的微分方程：\n$$ C_{\\text{BL}} \\frac{d(V_{\\text{BL}} - V_{\\text{BL-bar}})}{dt} + \\frac{(V_{\\text{BL}} - V_{\\text{BL-bar}}) - (V_{\\text{BL-bar}} - V_{\\text{BL}})}{R_{\\text{on}}} = 0 $$\n$$ C_{\\text{BL}} \\frac{dv_d}{dt} + \\frac{2v_d}{R_{\\text{on}}} = 0 $$\n这是一个一阶线性齐次微分方程，描述了指数衰减过程。其解的形式为 $v_d(t) = v_d(0) \\exp(-t/\\tau_{\\text{EQ}})$，其中差模均衡时间常数 $\\tau_{\\text{EQ}}$ 由下式给出：\n$$ \\tau_{\\text{EQ}} = \\frac{R_{\\text{on}} C_{\\text{BL}}}{2} $$\n使用给定值，$R_{\\text{on}} = 6.0 \\times 10^{3} \\, \\Omega$ 和 $C_{\\text{BL}} = 3.00 \\times 10^{-13} \\, \\text{F}$：\n$$ \\tau_{\\text{EQ}} = \\frac{(6.0 \\times 10^{3}) \\cdot (3.00 \\times 10^{-13})}{2} = 9.0 \\times 10^{-10} \\, \\text{s} $$\n题目陈述，位错误概率 $p_e$ 与均衡时间为 $t_{\\text{EQ}}$ 后的残余差分电压成正比。因此，$p_e(t_{\\text{EQ}})$ 也以相同的时间常数呈指数衰减：\n$$ p_e(t_{\\text{EQ}}) = K \\exp(-t_{\\text{EQ}}/\\tau_{\\text{EQ}}) $$\n前置因子 $K$ 由 $t_{\\text{EQ}} = 0$ 时的条件确定。题目提供了一个小信号误差前置因子 $p_0 = 0.10$，我们将其解释为零均衡时间时的错误概率，即 $p_e(0) = p_0$。这使得 $K = p_0$。因此，位错误概率作为均衡时间的函数为：\n$$ p_e(t_{\\text{EQ}}) = p_0 \\exp(-t_{\\text{EQ}}/\\tau_{\\text{EQ}}) $$\n\n第二部分：有效吞吐量公式\n\n单次访问的总周期时间 $T_{\\text{total}}$ 是固定的非均衡开销 $t_f$ 和均衡时间 $t_{\\text{EQ}}$ 的总和：\n$$ T_{\\text{total}}(t_{\\text{EQ}}) = t_f + t_{\\text{EQ}} $$\n正确访问的概率（成功概率）为 $P_{\\text{success}} = 1 - p_e(t_{\\text{EQ}})$。\n有效吞吐量 $T_{\\text{eff}}$ 定义为单位时间内的正确访问次数，即成功概率除以总周期时间：\n$$ T_{\\text{eff}}(t_{\\text{EQ}}) = \\frac{P_{\\text{success}}}{T_{\\text{total}}} = \\frac{1 - p_e(t_{\\text{EQ}})}{t_f + t_{\\text{EQ}}} $$\n代入 $p_e(t_{\\text{EQ}})$ 的表达式：\n$$ T_{\\text{eff}}(t_{\\text{EQ}}) = \\frac{1 - p_0 \\exp(-t_{\\text{EQ}}/\\tau_{\\text{EQ}})}{t_f + t_{\\text{EQ}}} $$\n\n第三部分：优化\n\n为了找到使有效吞吐量最大化的最佳均衡时间 $t_{\\text{EQ}}^{\\star}$，我们必须求出 $T_{\\text{eff}}(t_{\\text{EQ}})$ 对 $t_{\\text{EQ}}$ 的导数的根。使用商法则求导，$\\frac{d}{dx}(\\frac{u}{v}) = \\frac{u'v - uv'}{v^2}$：\n$$ \\frac{dT_{\\text{eff}}}{dt_{\\text{EQ}}} = \\frac{(t_f + t_{\\text{EQ}})\\frac{d}{dt_{\\text{EQ}}}(1 - p_0 \\exp(-t_{\\text{EQ}}/\\tau_{\\text{EQ}})) - (1 - p_0 \\exp(-t_{\\text{EQ}}/\\tau_{\\text{EQ}}))\\frac{d}{dt_{\\text{EQ}}}(t_f + t_{\\text{EQ}})}{(t_f + t_{\\text{EQ}})^2} $$\n$$ \\frac{dT_{\\text{eff}}}{dt_{\\text{EQ}}} = \\frac{(t_f + t_{\\text{EQ}})( \\frac{p_0}{\\tau_{\\text{EQ}}} \\exp(-t_{\\text{EQ}}/\\tau_{\\text{EQ}}) ) - (1 - p_0 \\exp(-t_{\\text{EQ}}/\\tau_{\\text{EQ}}))}{(t_f + t_{\\text{EQ}})^2} $$\n令分子为零以求最大值：\n$$ (t_f + t_{\\text{EQ}}) \\frac{p_0}{\\tau_{\\text{EQ}}} \\exp(-t_{\\text{EQ}}/\\tau_{\\text{EQ}}) - 1 + p_0 \\exp(-t_{\\text{EQ}}/\\tau_{\\text{EQ}}) = 0 $$\n重新整理各项以求解 $t_{\\text{EQ}}$：\n$$ p_0 \\exp(-t_{\\text{EQ}}/\\tau_{\\text{EQ}}) \\left( \\frac{t_f + t_{\\text{EQ}}}{\\tau_{\\text{EQ}}} + 1 \\right) = 1 $$\n这是一个关于 $t_{\\text{EQ}}^{\\star}$ 的超越方程。为求解该方程，我们代入给定的数值：$p_0 = 0.10$，$t_f = 30.0 \\times 10^{-9} \\, \\text{s}$，以及计算出的 $\\tau_{\\text{EQ}} = 9.0 \\times 10^{-10} \\, \\text{s}$。设 $u = t_{\\text{EQ}}/\\tau_{\\text{EQ}}$ 为归一化均衡时间。方程变为：\n$$ p_0 \\exp(-u) \\left( \\frac{t_f}{\\tau_{\\text{EQ}}} + u + 1 \\right) = 1 $$\n比值 $\\frac{t_f}{\\tau_{\\text{EQ}}} = \\frac{30.0 \\times 10^{-9}}{9.0 \\times 10^{-10}} = \\frac{300}{9} = \\frac{100}{3}$。\n代入数值：\n$$ 0.10 \\exp(-u) \\left( \\frac{100}{3} + u + 1 \\right) = 1 $$\n$$ 0.10 \\exp(-u) \\left( \\frac{103}{3} + u \\right) = 1 $$\n$$ \\left( \\frac{103}{3} + u \\right) = 10 \\exp(u) $$\n该方程可以写成 $g(u) = 10 \\exp(u) - u - \\frac{103}{3} = 0$。该方程没有简单的解析解，必须通过数值方法求解。使用数值求根方法（例如 Newton-Raphson 法或二分法），我们找到 $u^{\\star}$ 的解：\n$$ u^{\\star} \\approx 1.269837 $$\n那么，最佳均衡时间 $t_{\\text{EQ}}^{\\star}$ 为：\n$$ t_{\\text{EQ}}^{\\star} = u^{\\star} \\cdot \\tau_{\\text{EQ}} \\approx 1.269837 \\cdot (9.0 \\times 10^{-10} \\, \\text{s}) \\approx 1.1428533 \\times 10^{-9} \\, \\text{s} $$\n以纳秒为单位的值是 $1.1428533 \\, \\text{ns}$。按要求四舍五入到四位有效数字，得到最终答案。\n$$ t_{\\text{EQ}}^{\\star} \\approx 1.143 \\, \\text{ns} $$", "answer": "$$\n\\boxed{1.143}\n$$", "id": "3638401"}, {"introduction": "为了降低功耗，现代设备在越来越低的电源电压下工作。本练习 [@problem_id:3638355] 通过分析DRAM在晶体管阈值电压附近的行为，探索了低功耗DRAM设计的前沿。您将计算在信号微弱且充满噪声时，可靠读取数据所需的最小读出放大器增益。更重要的是，本练习将挑战您思考1T1C单元的物理极限，并识别在这种极限低电压条件下出现的主要失效模式。", "problem": "单晶体管单电容器动态随机存取存储器 (DRAM) 单元通过金属氧化物半导体场效应晶体管 (MOSFET) 访问，将信息以电荷的形式存储在电容器上。考虑一个具有位线电容 $C_\\text{BL}$ 和 DRAM 单元电容 $C_\\text{cell}$ 的列。每次访问前，位线被预充电至 $V_\\text{pre} = V_\\text{DD}/2$。读操作将单元连接到预充电的位线上足够长的时间，使得组合节点因电荷重新分布而达到平衡。读出放大器是一个锁存器，其开始时具有一个线性小信号区域，该区域的特点是有效差分增益为 $A$，在再生完成前放大初始的位线差分信号。假设访问晶体管阈值附近的以下物理参数和工作点：\n\n- 电源电压 $V_\\text{DD} = 0.50\\,\\text{V}$。\n- 访问晶体管阈值 $V_\\text{th} = 0.40\\,\\text{V}$。\n- 单元电容 $C_\\text{cell} = 30\\,\\text{fF}$。\n- 位线电容 $C_\\text{BL} = 300\\,\\text{fF}$。\n- 位线预充电 $V_\\text{pre} = V_\\text{DD}/2$。\n- 读出放大器必须克服最坏情况下的输入参考失调 $V_\\text{off,max} = 10\\,\\text{mV}$ 和均方根值为 $V_{n,\\text{rms}} = 7.5\\,\\text{mV}$ 的随机输入参考噪声。对于目标错误概率预算，要求在再生确保正确判决之前，放大的初始差分信号在读出放大器输入端超过 $V_\\text{trip} = V_\\text{off,max} + 4\\,V_{n,\\text{rms}}$。\n\n从第一性原理（电容器的电荷-电压关系和电荷守恒）出发，确定在读取存储的“1”和存储的“0”时，单元连接后立即产生的初始位线电压扰动。然后，使用最坏情况下的读取，确定最小增益 $A$，使得初始位线差分信号经 $A$ 线性放大后超过 $V_\\text{trip}$。最后，根据器件在阈值附近的行为进行推理，以确定在这种情况下当 $V_\\text{DD} \\to V_\\text{th}$ 时的主导失效模式。\n\n哪个选项正确地指出了主导失效模式和所需的最小增益 $A$？\n\nA. 主导失效是读出裕度降低和读取干扰；最小 $A \\approx 1.8$。\n\nB. 主导失效是介电层漏电增加和软错误；最小 $A \\approx 9.0$。\n\nC. 主导失效是电容性串扰和字线半选扰乱；最小 $A \\approx 0.9$。\n\nD. 主导失效是读出裕度降低和写入能力（在时序内单元恢复/电荷转移不足）；最小 $A \\approx 1.8$。", "solution": "解决方案分为三部分推导得出：首先，计算读取操作期间的初始位线电压扰动；其次，计算所需的最小读出放大器增益 $A$；第三，分析当电源电压 $V_\\text{DD}$ 接近晶体管阈值电压 $V_\\text{th}$ 时的主导失效模式。\n\n### 第一部分：初始位线电压扰动 ($\\Delta V_\\text{BL}$)\n\n读取操作涉及将存储电容器 $C_\\text{cell}$ 连接到位线上，位线具有大得多的电容 $C_\\text{BL}$。该过程遵循电荷守恒原理。\n\n设单元上的初始电压为 $V_\\text{cell}$，位线上的初始电压为 $V_\\text{BL,init}$。位线被预充电至 $V_\\text{pre}$。\n$$V_\\text{BL,init} = V_\\text{pre} = \\frac{V_\\text{DD}}{2} = \\frac{0.50\\,\\text{V}}{2} = 0.25\\,\\text{V}$$\n在连接之前，两个隔离电容器上的总电荷为：\n$$Q_\\text{initial} = Q_\\text{cell} + Q_\\text{BL} = C_\\text{cell} V_\\text{cell} + C_\\text{BL} V_\\text{pre}$$\n访问晶体管导通后，两个电容器并联连接，并达到最终的平衡电压 $V_\\text{f}$。此时总电荷存储在组合电容 $C_\\text{cell} + C_\\text{BL}$ 上：\n$$Q_\\text{final} = (C_\\text{cell} + C_\\text{BL}) V_\\text{f}$$\n根据电荷守恒， $Q_\\text{initial} = Q_\\text{final}$：\n$$C_\\text{cell} V_\\text{cell} + C_\\text{BL} V_\\text{pre} = (C_\\text{cell} + C_\\text{BL}) V_\\text{f}$$\n求解最终电压 $V_\\text{f}$：\n$$V_\\text{f} = \\frac{C_\\text{cell} V_\\text{cell} + C_\\text{BL} V_\\text{pre}}{C_\\text{cell} + C_\\text{BL}}$$\n初始位线电压扰动 $\\Delta V_\\text{BL}$ 是位线电压与其预充电值的变化量：\n$$\\Delta V_\\text{BL} = V_\\text{f} - V_\\text{pre} = \\frac{C_\\text{cell} V_\\text{cell} + C_\\text{BL} V_\\text{pre}}{C_\\text{cell} + C_\\text{BL}} - V_\\text{pre}$$\n$$\\Delta V_\\text{BL} = \\frac{C_\\text{cell} V_\\text{cell} + C_\\text{BL} V_\\text{pre} - (C_\\text{cell} + C_\\text{BL})V_\\text{pre}}{C_\\text{cell} + C_\\text{BL}}$$\n$$\\Delta V_\\text{BL} = \\frac{C_\\text{cell}(V_\\text{cell} - V_\\text{pre})}{C_\\text{cell} + C_\\text{BL}}$$\n这个差分电压 $\\Delta V_\\text{BL}$ 是读出放大器的输入信号。我们计算读取存储的‘1’和存储的‘0’时其幅度。按照惯例，存储的‘1’对应于单元被充电至 $V_\\text{DD}$，而存储的‘0’对应于 $0\\,\\text{V}$。\n-   对于存储的‘1’：$V_\\text{cell} = V_\\text{cell,1} = V_\\text{DD} = 0.50\\,\\text{V}$。\n-   对于存储的‘0’：$V_\\text{cell} = V_\\text{cell,0} = 0\\,\\text{V}$。\n\n两种情况下扰动的幅度是相同的：\n$$|\\Delta V_\\text{BL}| = \\left| \\frac{C_\\text{cell}(V_\\text{DD} - V_\\text{pre})}{C_\\text{cell} + C_\\text{BL}} \\right| = \\left| \\frac{C_\\text{cell}(0 - V_\\text{pre})}{C_\\text{cell} + C_\\text{BL}} \\right| = \\frac{C_\\text{cell}}{C_\\text{cell} + C_\\text{BL}} \\left| \\frac{V_\\text{DD}}{2} \\right|$$\n使用给定值：\n$$|\\Delta V_\\text{BL}| = \\frac{30\\,\\text{fF}}{30\\,\\text{fF} + 300\\,\\text{fF}} \\times \\left( \\frac{0.50\\,\\text{V}}{2} \\right) = \\frac{30}{330} \\times (0.25\\,\\text{V}) = \\frac{1}{11} \\times 0.25\\,\\text{V}$$\n$$|\\Delta V_\\text{BL}| = \\frac{0.25}{11}\\,\\text{V} \\approx 0.022727\\,\\text{V} = 22.73\\,\\text{mV}$$\n\n### 第二部分：最小所需增益 ($A$)\n\n问题规定了一个成功读出的标准。放大的初始差分信号必须超过一个考虑了传感器不完美性的触发电压 $V_\\text{trip}$。\n触发电压定义为：\n$$V_\\text{trip} = V_\\text{off,max} + 4\\,V_{n,\\text{rms}}$$\n使用给定的最大失调和噪声值：\n$$V_\\text{trip} = 10\\,\\text{mV} + 4 \\times (7.5\\,\\text{mV}) = 10\\,\\text{mV} + 30\\,\\text{mV} = 40\\,\\text{mV}$$\n最小增益 $A_\\text{min}$ 的条件是：\n$$A_\\text{min} \\cdot |\\Delta V_\\text{BL}| \\ge V_\\text{trip}$$\n求解 $A_\\text{min}$：\n$$A_\\text{min} = \\frac{V_\\text{trip}}{|\\Delta V_\\text{BL}|}$$\n代入计算出的值：\n$$A_\\text{min} = \\frac{40\\,\\text{mV}}{ \\frac{0.25}{11}\\,\\text{V}} = \\frac{40\\,\\text{mV}}{ \\frac{250}{11}\\,\\text{mV}} = \\frac{40 \\times 11}{250} = \\frac{440}{250} = \\frac{44}{25} = 1.76$$\n因此，所需的最小增益为 $A_\\text{min} = 1.76$，约等于 $1.8$。\n\n### 第三部分：当 $V_\\text{DD} \\to V_\\text{th}$ 时的主导失效模式\n\n问题要求分析当电源电压 $V_\\text{DD}$ 变得非常接近访问晶体管的阈值电压 $V_\\text{th}$ 时的失效模式。给定 $V_\\text{DD} = 0.50\\,\\text{V}$ 和 $V_\\text{th} = 0.40\\,\\text{V}$，这已经是一种低过驱动情况。当 $V_\\text{DD}$ 进一步降低至接近 $V_\\text{th}$ 时：\n\n1.  **读出裕度降低**：读出裕度是可读信号的幅度 $|\\Delta V_\\text{BL}|$。如第一部分所示， $|\\Delta V_\\text{BL}|$ 与 $V_\\text{DD}$ 成正比。随着 $V_\\text{DD}$ 的减小，可供读出放大器使用的信号缩小，使其更容易受到噪声和失调的影响，从而增加了误码率。这是一个根本性的限制。\n\n2.  **写入能力失效**：要将逻辑‘1’写入单元，位线被驱动至 $V_\\text{DD}$，字线被激活（例如，至 $V_\\text{DD}$）。NMOS 访问晶体管充当传输门。存储电容器上的电压不能超过 $V_\\text{G} - V_\\text{th}$，其中 $V_\\text{G}$ 是栅极电压（字线电压）。假设 $V_\\text{G} = V_\\text{DD}$，可以存储的最大电压为 $V_\\text{cell,1,max} = V_\\text{DD} - V_\\text{th}$。当 $V_\\text{DD} \\to V_\\text{th}$ 时， $V_\\text{cell,1,max} \\to 0$。这意味着无法存储一个与‘0’电平有区别的‘1’电平。这是一个灾难性的写入失败。DRAM 的读取是破坏性的，需要将数据写回（恢复）。因此，这种写入能力失效也意味着在读取后无法恢复单元的状态。\n\n3.  **电荷转移不足**：读写操作的速度取决于访问晶体管提供的电流。该电流是栅极过驱动电压 $V_\\text{GS} - V_\\text{th}$ 的强函数。假设字线被驱动至 $V_\\text{DD}$，过驱动电压为 $V_\\text{DD} - V_\\text{th}$。当 $V_\\text{DD} \\to V_\\text{th}$ 时，过驱动电压趋近于零，晶体管进入深亚阈值工作区。其有效导通电阻 ($R_\\text{on}$) 呈指数级增加。电荷共享的时间常数 $\\tau \\approx R_\\text{on} (C_\\text{cell} || C_\\text{BL})$ 变得非常大。如果 $\\tau$ 超过存储器时序规范中为访问分配的时间，则电荷转移将不完全。这会导致读取期间的 $\\Delta V_\\text{BL}$ 小于预期，并在写入/恢复期间导致写入的电压电平不完整，从而进一步降低读出裕度和写入能力。\n\n综合以上几点，当 $V_\\text{DD} \\to V_\\text{th}$ 时，主导的失效是读出裕度的崩溃以及由于电压电平限制和电荷转移速度不足导致的写入/恢复操作失败。\n\n### 逐项分析\n\n-   **A. 主导失效是读出裕度降低和读取干扰；最小 $A \\approx 1.8$。**\n    增益计算是正确的。‘读出裕度降低’是一个正确的失效模式。然而，与在 $V_\\text{DD} \\to V_\\text{th}$ 条件下读取或写入当前所选单元的基本失效相比，‘读取干扰’（影响相邻单元）是一个次要问题。\n    **结论：不正确**（对失效的描述不完整）。\n\n-   **B. 主导失效是介电层漏电增加和软错误；最小 $A \\approx 9.0$。**\n    增益计算不正确。‘介电层漏电增加’是不正确的；较低的电压会减小电场，因此通常会减少场驱动的漏电。虽然对软错误的易感性增加，但在这种特定情况下，它不像其他失效模式那样直接和灾难性。\n    **结论：不正确**。\n\n-   **C. 主导失效是电容性串扰和字线半选扰乱；最小 $A \\approx 0.9$。**\n    增益计算不正确。列出的失效模式是DRAM的一般问题，但不是直接由 $V_\\text{DD} \\to V_\\text{th}$ 引起的主要、主导失效。\n    **结论：不正确**。\n\n-   **D. 主导失效是读出裕度降低和写入能力（在时序内单元恢复/电荷转移不足）；最小 $A \\approx 1.8$。**\n    计算出的最小增益 $A \\approx 1.8$ 与我们的推导（$1.76$）相符。列出的失效模式——‘读出裕度降低’和‘写入能力（在时序内单元恢复/电荷转移不足）’——是对在 $V_\\text{DD}$ 接近 $V_\\text{th}$ 条件下工作的后果的精确和准确总结，如上文分析。此选项正确地指出了问题的定量和定性两方面。\n    **结论：正确**。", "answer": "$$\\boxed{D}$$", "id": "3638355"}]}