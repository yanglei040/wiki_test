{"hands_on_practices": [{"introduction": "在现代片上系统 (SoC) 设计中，硬件加速器是提升性能的关键。然而，集成一个加速器能带来多大的整体效益？Amdahl 定律为我们提供了评估这一点的理论框架，它揭示了系统总加速比受限于任务中无法加速部分的根本性限制。这项练习 [@problem_id:3684378] 将帮助您将这一基本定律应用于一个现实场景，从而量化添加专用硬件模块所带来的实际收益。", "problem": "正在评估一个集成了固定功能高级加密标准（AES）加速器的片上系统（SoC）。在未加速的基准情况下，一个代表性工作负载的总执行时间被归一化为 $1$。该基准时间的一部分（比例为 $p$）用于AES计算，剩余部分（比例为 $1-p$）为非AES工作。当集成AES加速器后，相对于在通用核心上运行的基准软件，它为AES部分提供了 $20\\times$ 的加速；非AES部分不受影响。\n\n从加速比 $S$ 的定义 $S=\\frac{T_{\\text{base}}}{T_{\\text{new}}}$ 出发，并仅使用执行时间划分为AES和非AES部分的方法，推导出当AES部分被加速20倍时，总加速比 $S$ 作为 $p$ 的函数。然后，确定为使总加速比满足 $S \\ge 3$ 所需的 $p$ 的最小值。\n\n将最小的 $p$ 表示为一个精确的分数。无需四舍五入。", "solution": "对该问题根据所提供的标准进行验证。\n\n### 问题验证\n\n**步骤1：提取已知条件**\n- 基准工作负载的总执行时间被归一化为 $1$。\n- 基准时间的一部分（比例为 $p$）用于AES计算。\n- 剩余部分（比例为 $1-p$）为非AES工作。\n- AES加速器为AES部分提供了 $20\\times$ 的加速。\n- 非AES部分不受影响。\n- 加速比的定义是 $S = \\frac{T_{\\text{base}}}{T_{\\text{new}}}$。\n- 任务是推导总加速比 $S$ 作为 $p$ 的函数。\n- 任务是确定为使总加速比满足 $S \\ge 3$ 所需的 $p$ 的最小值。\n- 最小的 $p$ 必须表示为一个精确的分数。\n\n**步骤2：使用提取的已知条件进行验证**\n- **科学依据**：该问题是 Amdahl's Law 的直接应用，这是计算机体系结构中的一个基本概念，用于预测当系统只有部分得到改进时理论上的最大加速比。在带有硬件加速器的SoC背景下，该问题是现实且科学合理的。\n- **适定性**：问题陈述清晰，并提供了构建数学模型和求解未知数所需的所有必要信息。目标明确。\n- **客观性**：问题使用精确的定量语言，不含主观或基于观点的陈述。\n- **完整性与一致性**：问题是自洽的，给定的条件相互一致。基准时间的归一化是一种标准技术，它在不失一般性的前提下简化了公式。\n\n**步骤3：结论与行动**\n该问题被认为是**有效的**，因为它具有科学依据、适定性和客观性。将提供完整的解决方案。\n\n### 解答\n\n设 $T_{\\text{base}}$ 为工作负载在基准系统上的总执行时间。根据问题所述，我们将其归一化为 $1$。\n$$T_{\\text{base}} = 1$$\n总执行时间由两部分组成：用于AES计算的时间和用于非AES工作的时间。用于AES计算的时间比例为 $p$。因此，在基准系统中，AES部分的时间为：\n$$T_{\\text{AES,base}} = p \\times T_{\\text{base}} = p \\times 1 = p$$\n剩余的时间比例 $1-p$ 用于非AES部分：\n$$T_{\\text{non-AES,base}} = (1-p) \\times T_{\\text{base}} = (1-p) \\times 1 = 1-p$$\n\n接下来，我们考虑带有AES加速器的新系统。设 $T_{\\text{new}}$ 为在这个新系统上的总执行时间。AES加速器为工作负载的AES部分提供了20倍的加速。AES部分的新执行时间 $T_{\\text{AES,new}}$ 是原始时间除以加速因子：\n$$T_{\\text{AES,new}} = \\frac{T_{\\text{AES,base}}}{20} = \\frac{p}{20}$$\n工作负载的非AES部分不受加速器影响，因此其执行时间保持不变：\n$$T_{\\text{non-AES,new}} = T_{\\text{non-AES,base}} = 1-p$$\n新系统的总执行时间是其各组成部分执行时间的总和：\n$$T_{\\text{new}} = T_{\\text{non-AES,new}} + T_{\\text{AES,new}} = (1-p) + \\frac{p}{20}$$\n\n总加速比 $S$ 定义为基准执行时间与新执行时间之比。代入 $T_{\\text{base}}$ 和 $T_{\\text{new}}$ 的表达式，我们可以推导出总加速比 $S$ 作为 $p$ 的函数：\n$$S(p) = \\frac{T_{\\text{base}}}{T_{\\text{new}}} = \\frac{1}{(1-p) + \\frac{p}{20}}$$\n这个表达式表示了总加速比作为被加速的工作负载部分的比例的函数。这是要求推导的第一部分。\n\n为简化分母：\n$$S(p) = \\frac{1}{\\frac{20(1-p)}{20} + \\frac{p}{20}} = \\frac{1}{\\frac{20 - 20p + p}{20}} = \\frac{20}{20 - 19p}$$\n\n问题的第二部分要求找到使总加速比 $S$ 至少为 $3$ 的 $p$ 的最小值。我们建立不等式：\n$$S(p) \\ge 3$$\n$$\\frac{20}{20 - 19p} \\ge 3$$\n由于 $p$ 代表执行时间的一部分，因此必须有 $0 \\le p \\le 1$。对于这个范围的 $p$，分母 $20 - 19p$ 总是正数。当 $p=0$ 时，分母为 $20$。当 $p=1$ 时，分母为 $1$。因此，我们可以将不等式两边同时乘以 $20 - 19p$ 而不改变不等号的方向。\n$$20 \\ge 3(20 - 19p)$$\n$$20 \\ge 60 - 57p$$\n现在，我们求解 $p$：\n$$57p \\ge 60 - 20$$\n$$57p \\ge 40$$\n$$p \\ge \\frac{40}{57}$$\n因此，满足条件 $S \\ge 3$ 的 $p$ 的最小值是 $\\frac{40}{57}$。由于问题要求一个精确的分数，这就是最终答案。\n快速验证：如果 $p = \\frac{40}{57}$，那么 $S = \\frac{20}{20 - 19(\\frac{40}{57})} = \\frac{20}{20 - \\frac{760}{57}} = \\frac{20}{\\frac{1140 - 760}{57}} = \\frac{20}{\\frac{380}{57}} = \\frac{20 \\times 57}{380} = \\frac{57}{19} = 3$。这证实了边界条件得到满足。", "answer": "$$\\boxed{\\frac{40}{57}}$$", "id": "3684378"}, {"introduction": "在确定了系统的高层架构后，我们必须确保各个组件能够高效通信。片上互连总线，如同 SoC 内部的数据高速公路，其性能至关重要。本练习 [@problem_id:3684382] 将指导您计算业界标准的 AXI (Advanced eXtensible Interface) 总线的理论峰值带宽和有效带宽，前者代表理想条件下的极限性能，而后者则更贴近现实，考虑了协议开销和总线仲裁等因素，帮助您掌握分析和识别系统性能瓶颈的核心技能。", "problem": "一个片上系统（SoC）互连使用 Advanced Microcontroller Bus Architecture Advanced eXtensible Interface version 4 (AMBA AXI4) 写数据通道，该通道配有一个 $64$ 位的数据总线，时钟频率为 $500\\,\\text{MHz}$。假设采用单数据率同步接口，当 VALID 和 READY 信号持续有效时，每个时钟周期最多传输一个数据拍。一次突发传输包含数据通道上的 $L$ 个连续数据拍。假设在任何时候只有一个突发传输在进行中，并且由于地址/控制握手和突发边界效应，连续突发传输之间平均存在一个单周期的空闲；忽略任何额外的影响，如纠错码（ECC）、交织或响应通道反压。\n\n1. 仅使用带宽的基本定义（即每次传输的数据量乘以每秒的传输次数），确定当突发传输背靠背进行、无停顿且忽略协议开销时，数据通道的理论峰值持续带宽。\n\n2. 现在假设互连仲裁器在长时间窗口内授予该主设备数据通道的平均利用率因子为 $u=0.70$，并且在上述每个突发传输单个空闲周期的假设下，平均突发长度为 $L=8$ 拍。估算数据通道的长期有效带宽。\n\n使用十进制约定 $1\\,\\text{GB}=10^{9}\\,\\text{B}$，将两个结果以 $\\text{GB/s}$ 为单位表示。将两个数值答案四舍五入到四位有效数字。将您的最终数值结果以 $\\big($峰值带宽, 有效带宽$\\big)$ 的顺序，以一个双元素行向量的形式提供。", "solution": "用户要求我解决一个计算片上系统（SoC）互连带宽的问题。\n\n### 第 1 步：提取已知条件\n- 总线架构：Advanced Microcontroller Bus Architecture Advanced eXtensible Interface version 4 (AMBA AXI4) 写数据通道\n- 数据总线宽度, $W_{bus}$：$64$ 位\n- 时钟频率, $f_{clk}$：$500\\,\\text{MHz}$\n- 接口类型：单数据率（SDR），每个时钟周期最多一个数据拍\n- 传输条件：VALID 和 READY 持续有效\n- 突发间开销：突发之间平均一个周期的空闲\n- 平均突发长度, $L$：$8$ 拍（用于第 2 部分）\n- 平均利用率因子, $u$：$0.70$（用于第 2 部分）\n- 输出单位：$\\text{GB/s}$\n- 单位换算：$1\\,\\text{GB} = 10^{9}\\,\\text{B}$\n- 四舍五入：四位有效数字\n\n### 第 2 步：使用提取的已知条件进行验证\n该问题具有科学依据，源于数字逻辑设计和计算机体系结构的原理。AXI 协议是一种标准的片上总线互连规范，总线宽度、时钟频率、数据突发和通道利用率等概念是该领域性能分析的基础。提供的所有参数（$64$位总线、$500\\,\\text{MHz}$ 时钟、突发长度为$8$、利用率为$70\\%$）都是现实的，在 SoC 设计中很常见。\n\n该问题提法明确。它分为两个不同部分：理论峰值带宽的计算和在更现实操作条件下有效带宽的计算。每个部分的假设都清晰陈述（例如，第 1 部分的“突发传输背靠背进行，无停顿”，以及第 2 部分的“平均突发长度为 $L=8$”、“单个周期空闲”和利用率因子）。该问题提供了为两个部分得出唯一、有意义解所需的所有数据。语言客观且明确。\n\n该问题不违反任何无效性标准。它是可形式化的、自足的且科学合理的。\n\n### 第 3 步：结论和行动\n该问题有效。我将继续进行解答。\n\n### 第 1 部分：理论峰值持续带宽\n\n理论峰值持续带宽 $BW_{peak}$ 定义为最大数据传输速率。这种情况发生在每个时钟周期都有数据传输，没有任何停顿或协议开销时。\n\n单次数据拍中传输的数据量等于数据总线宽度 $W_{bus}$。我们将其从比特转换为字节：\n$$ W_{bus} = 64\\,\\text{bits} \\times \\frac{1\\,\\text{Byte}}{8\\,\\text{bits}} = 8\\,\\text{Bytes} $$\n\n传输速率由时钟频率 $f_{clk}$ 决定，因为该接口是单数据率，并且我们假设每个周期都发生一次传输。\n$$ f_{clk} = 500\\,\\text{MHz} = 500 \\times 10^{6}\\,\\text{Hz} = 500 \\times 10^{6}\\,\\text{cycles/second} $$\n在峰值情况下，传输速率为 $500 \\times 10^{6}\\,\\text{拍/秒}$。\n\n峰值带宽是每拍数据量与每秒拍数的乘积：\n$$ BW_{peak} = W_{bus} \\times f_{clk} $$\n$$ BW_{peak} = (8\\,\\text{Bytes/beat}) \\times (500 \\times 10^{6}\\,\\text{beats/second}) $$\n$$ BW_{peak} = 4000 \\times 10^{6}\\,\\text{Bytes/second} = 4 \\times 10^{9}\\,\\text{Bytes/second} $$\n\n使用给定的十进制约定（$1\\,\\text{GB} = 10^{9}\\,\\text{B}$）：\n$$ BW_{peak} = 4\\,\\text{GB/s} $$\n\n四舍五入到四位有效数字，结果为 $4.000\\,\\text{GB/s}$。\n\n### 第 2 部分：长期有效带宽\n\n长期有效带宽 $BW_{eff}$ 考虑了协议层面的低效率和仲裁。给出了两个低效率的来源：突发之间的单周期空闲和仲裁器利用率因子。\n\n首先，我们计算由突发结构引起的数据传输效率 $\\eta_{burst}$。一个事务由一个包含 $L$ 个数据拍的突发传输和一个 $1$ 周期的空闲组成。\n一次突发传输中传输数据所需的时钟周期数为 $L$。\n一次完整突发事务（数据加开销）的总时钟周期数为 $L+1$。\n\n效率是用于数据传输的周期数与事务总周期数的比率：\n$$ \\eta_{burst} = \\frac{\\text{数据传输周期}}{\\text{总周期}} = \\frac{L}{L+1} $$\n\n给定平均突发长度 $L=8$：\n$$ \\eta_{burst} = \\frac{8}{8+1} = \\frac{8}{9} $$\n\n其次，互连仲裁器只在部分时间内授予该主设备对数据通道的访问权限，由利用率因子 $u = 0.70$ 给出。\n\n有效带宽是理论峰值带宽被这两个低效率因子降低后的值：\n$$ BW_{eff} = BW_{peak} \\times \\eta_{burst} \\times u $$\n代入数值：\n$$ BW_{eff} = (4 \\times 10^{9}\\,\\text{B/s}) \\times \\left(\\frac{8}{9}\\right) \\times 0.70 $$\n$$ BW_{eff} = \\frac{4 \\times 8 \\times 0.70}{9} \\times 10^{9}\\,\\text{B/s} $$\n$$ BW_{eff} = \\frac{22.4}{9} \\times 10^{9}\\,\\text{B/s} $$\n$$ BW_{eff} \\approx 2.4888... \\times 10^{9}\\,\\text{B/s} $$\n$$ BW_{eff} \\approx 2.4888...\\,\\text{GB/s} $$\n\n四舍五入到四位有效数字，结果为 $2.489\\,\\text{GB/s}$。\n\n最终答案要求提供一个包含峰值带宽和有效带宽的双元素行向量，两者均以 $\\text{GB/s}$ 为单位并四舍五入到四位有效数字。\n数值为 $4.000$ 和 $2.489$。", "answer": "$$\n\\boxed{\\begin{pmatrix} 4.000 & 2.489 \\end{pmatrix}}\n$$", "id": "3684382"}, {"introduction": "功耗是 SoC 设计的另一个决定性维度，尤其对于移动和物联网设备而言。处理器与外设的交互方式对能效有着巨大影响，这引出了一个经典的设计权衡：采用简单但耗电的轮询方式，还是实现更复杂但节能的中断驱动方式。本练习 [@problem_id:3684444] 将引导您对这一权衡进行定量分析，运用标准的动态功耗模型计算两种策略下的 CPU 利用率和单次事件能耗，使您能够基于数据做出明智的设计决策。", "problem": "一个片上系统 (SoC) 集成了一个通用核心，用于服务一个周期性传感器，该传感器以 $1\\,\\text{kHz}$ 的频率（周期 $T = 1\\,\\text{ms}$）产生一个样本。考虑了两种服务策略：忙等待轮询和中断驱动处理。该核心的时钟频率为 $f_{\\text{cpu}} = 100\\,\\text{MHz}$，电源电压为 $V = 1.0\\,\\text{V}$。使用标准动态功耗模型 $P_{\\text{dyn}} = \\alpha C_{\\text{L}} V^{2} f$，其中 $\\alpha$ 是活动因子，$C_{\\text{L}}$ 是有效开关电容。假设 $C_{\\text{L}} = 0.5\\,\\text{nF}$。在休眠时，核心消耗恒定功率 $P_{\\text{sleep}} = 2\\,\\text{mW}$。\n\n两种策略的每样本工作是相同的，包括读取和处理传感器数据以及控制开销，总共 $2400$ 个周期，具体为 $1200$ 个周期用于采集，$800$ 个周期用于计算，$300$ 个周期用于控制开销，以及 $100$ 个周期用于唤醒/上下文操作。执行此工作时，活动因子为 $\\alpha_{\\text{proc}} = 0.6$。在忙等待轮询策略中，当不处理数据时，核心在整个周期内连续执行一个紧凑的状态检查循环，活动因子为 $\\alpha_{\\text{spin}} = 0.2$。在中断驱动策略中，当不处理数据时，核心处于休眠状态；中断发生后，它执行相同的 $2400$ 个周期的工作，活动因子为 $\\alpha_{\\text{proc}} = 0.6$，然后返回休眠。\n\n从第一性原理出发，分别推导轮询和中断策略下 CPU 处于活动状态的时间分数，即中央处理器 (CPU) 利用率 $u_{\\text{poll}}$ 和 $u_{\\text{int}}$。然后，使用动态功耗模型和休眠功率，推导在单个传感器周期 $T$ 内每种策略的每事件能耗，并计算能量差 $\\Delta E = E_{\\text{poll}} - E_{\\text{int}}$。根据 $\\Delta E$ 的符号，判断哪种策略在能量上更优，但只需报告所要求的数值输出。\n\n答案规格：\n- 以小数（非百分比）形式报告 CPU 利用率 $u_{\\text{poll}}$ 和 $u_{\\text{int}}$。\n- 以微焦耳为单位报告能量差 $\\Delta E$。\n- 将所有三个报告量四舍五入至四位有效数字。\n\n以单行矩阵 $\\begin{pmatrix} u_{\\text{poll}} & u_{\\text{int}} & \\Delta E \\end{pmatrix}$ 的形式提供您的最终答案。", "solution": "该问题需经过验证。\n\n### 步骤 1：提取已知条件\n- 传感器采样频率：$f_{\\text{sensor}} = 1\\,\\text{kHz}$\n- 传感器周期：$T = 1\\,\\text{ms} = 1 \\times 10^{-3}\\,\\text{s}$\n- 核心时钟频率：$f_{\\text{cpu}} = 100\\,\\text{MHz} = 100 \\times 10^6\\,\\text{Hz}$\n- 电源电压：$V = 1.0\\,\\text{V}$\n- 动态功耗模型：$P_{\\text{dyn}} = \\alpha C_{\\text{L}} V^{2} f$\n- 有效开关电容：$C_{\\text{L}} = 0.5\\,\\text{nF} = 0.5 \\times 10^{-9}\\,\\text{F}$\n- 休眠功率（恒定）：$P_{\\text{sleep}} = 2\\,\\text{mW} = 2 \\times 10^{-3}\\,\\text{W}$\n- 每样本工作的总周期数：$N_{\\text{proc}} = 2400$ 个周期\n- 处理时的活动因子：$\\alpha_{\\text{proc}} = 0.6$\n- 忙等待自旋时的活动因子：$\\alpha_{\\text{spin}} = 0.2$\n- 轮询策略：核心在整个周期 $T$ 内始终处于活动状态，要么在处理，要么在自旋等待。\n- 中断策略：核心仅在处理时活动，其余时间休眠。\n\n### 步骤 2：使用提取的已知条件进行验证\n该问题具有科学依据，提法明确且客观。它使用了 CMOS 逻辑的标准动态功耗模型（$P \\propto \\alpha C V^2 f$），并探讨了嵌入式系统设计中轮询与中断驱动 I/O 之间的经典权衡。所有参数均已提供，量纲一致，且在现代片上系统的实际范围内。该问题是自洽的，沒有矛盾或歧义。\n\n### 步骤 3：结论与行动\n该问题有效。将提供完整解答。\n\n### 求解推导\n\n目标是计算轮询和中断两种策略在一个传感器周期 $T$ 内的 CPU 利用率（$u_{\\text{poll}}$，$u_{\\text{int}}$）以及它们之间的能量差（$\\Delta E$）。\n\n首先，我们计算 CPU 执行每样本工作所需的时间。该工作包含 $N_{\\text{proc}} = 2400$ 个周期，CPU 时钟频率为 $f_{\\text{cpu}} = 100\\,\\text{MHz}$。处理时间 $t_{\\text{proc}}$ 为：\n$$t_{\\text{proc}} = \\frac{N_{\\text{proc}}}{f_{\\text{cpu}}} = \\frac{2400\\,\\text{cycles}}{100 \\times 10^6\\,\\text{cycles/s}} = 24 \\times 10^{-6}\\,\\text{s} = 24\\,\\mu\\text{s}$$\n给定的传感器周期为 $T = 1\\,\\text{ms} = 1000\\,\\mu\\text{s}$。\n\n**CPU 利用率**\n\nCPU 利用率 $u$ 定义为在总周期 $T$ 内 CPU 处于活动状态（非休眠）的时间分数。\n\n对于**忙等待轮询策略**，CPU 首先执行处理任务，耗时 $t_{\\text{proc}}$。在周期的剩余时间 $T - t_{\\text{proc}}$ 内，它执行一个紧凑的自旋等待循环。由于自旋是活动状态，CPU 在整个周期 $T$ 内都处于活动状态。\n$$t_{\\text{active, poll}} = t_{\\text{proc}} + (T - t_{\\text{proc}}) = T$$\n因此，轮询策略的利用率 $u_{\\text{poll}}$ 为：\n$$u_{\\text{poll}} = \\frac{t_{\\text{active, poll}}}{T} = \\frac{T}{T} = 1$$\n\n对于**中断驱动策略**，CPU 仅在执行处理工作时活动，耗时 $t_{\\text{proc}}$。完成后，它进入低功耗休眠状态，直到周期结束，即 $T - t_{\\text{proc}}$ 的时间。\n$$t_{\\text{active, int}} = t_{\\text{proc}}$$\n因此，中断策略的利用率 $u_{\\text{int}}$ 为：\n$$u_{\\text{int}} = \\frac{t_{\\text{active, int}}}{T} = \\frac{t_{\\text{proc}}}{T} = \\frac{24 \\times 10^{-6}\\,\\text{s}}{1 \\times 10^{-3}\\,\\text{s}} = 0.024$$\n\n**每事件能耗**\n\n能耗是功率对时间的积分。由于在每个阶段（处理、自旋、休眠）内功率是恒定的，一个周期 $T$ 内的能耗是每个阶段的功率与其持续时间的乘积之和。\n\n首先，我们使用动态功耗模型 $P_{\\text{dyn}} = \\alpha C_{\\text{L}} V^2 f_{\\text{cpu}}$ 计算每个活动状态下的功耗。\n- $C_{\\text{L}} = 0.5 \\times 10^{-9}\\,\\text{F}$\n- $V = 1.0\\,\\text{V}$\n- $f_{\\text{cpu}} = 100 \\times 10^6\\,\\text{Hz}$\n\n当 $\\alpha=1$ 时，基础功耗项为：\n$$ C_{\\text{L}} V^2 f_{\\text{cpu}} = (0.5 \\times 10^{-9}\\,\\text{F}) \\times (1.0\\,\\text{V})^2 \\times (100 \\times 10^6\\,\\text{s}^{-1}) = 0.05\\,\\text{W} $$\n\n处理期间的功率（$P_{\\text{proc}}$），其中 $\\alpha_{\\text{proc}} = 0.6$：\n$$P_{\\text{proc}} = \\alpha_{\\text{proc}} C_{\\text{L}} V^2 f_{\\text{cpu}} = 0.6 \\times 0.05\\,\\text{W} = 0.03\\,\\text{W} = 30\\,\\text{mW}$$\n\n自旋等待期间的功率（$P_{\\text{spin}}$），其中 $\\alpha_{\\text{spin}} = 0.2$：\n$$P_{\\text{spin}} = \\alpha_{\\text{spin}} C_{\\text{L}} V^2 f_{\\text{cpu}} = 0.2 \\times 0.05\\,\\text{W} = 0.01\\,\\text{W} = 10\\,\\text{mW}$$\n\n给定的休眠功率为 $P_{\\text{sleep}} = 2\\,\\text{mW} = 0.002\\,\\text{W}$。\n\n现在，我们计算每种策略在每个周期内的总能耗。\n\n对于**轮询策略**，总能耗 $E_{\\text{poll}}$ 是处理期间消耗的能量与自旋等待期间消耗的能量之和。\n$$E_{\\text{poll}} = P_{\\text{proc}} \\cdot t_{\\text{proc}} + P_{\\text{spin}} \\cdot (T - t_{\\text{proc}})$$\n$$E_{\\text{poll}} = (0.03\\,\\text{W}) \\cdot (24 \\times 10^{-6}\\,\\text{s}) + (0.01\\,\\text{W}) \\cdot (1000 \\times 10^{-6}\\,\\text{s} - 24 \\times 10^{-6}\\,\\text{s})$$\n$$E_{\\text{poll}} = (0.72 \\times 10^{-6}\\,\\text{J}) + (0.01\\,\\text{W}) \\cdot (976 \\times 10^{-6}\\,\\text{s})$$\n$$E_{\\text{poll}} = 0.72 \\times 10^{-6}\\,\\text{J} + 9.76 \\times 10^{-6}\\,\\text{J} = 10.48 \\times 10^{-6}\\,\\text{J} = 10.48\\,\\mu\\text{J}$$\n\n对于**中断驱动策略**，总能耗 $E_{\\text{int}}$ 是处理期间消耗的能量与休眠期间消耗的能量之和。\n$$E_{\\text{int}} = P_{\\text{proc}} \\cdot t_{\\text{proc}} + P_{\\text{sleep}} \\cdot (T - t_{\\text{proc}})$$\n$$E_{\\text{int}} = (0.03\\,\\text{W}) \\cdot (24 \\times 10^{-6}\\,\\text{s}) + (0.002\\,\\text{W}) \\cdot (976 \\times 10^{-6}\\,\\text{s})$$\n$$E_{\\text{int}} = 0.72 \\times 10^{-6}\\,\\text{J} + 1.952 \\times 10^{-6}\\,\\text{J} = 2.672 \\times 10^{-6}\\,\\text{J} = 2.672\\,\\mu\\text{J}$$\n\n最后，我们计算能量差 $\\Delta E = E_{\\text{poll}} - E_{\\text{int}}$。\n$$\\Delta E = E_{\\text{poll}} - E_{\\text{int}} = 10.48 \\times 10^{-6}\\,\\text{J} - 2.672 \\times 10^{-6}\\,\\text{J} = 7.808 \\times 10^{-6}\\,\\text{J}$$\n以要求的单位微焦耳表示，$\\Delta E = 7.808\\,\\mu\\text{J}$。\n\n**最终数值**\n\n问题要求将结果四舍五入至四位有效数字。\n- $u_{\\text{poll}} = 1 \\rightarrow 1.000$\n- $u_{\\text{int}} = 0.024 \\rightarrow 0.02400$\n- $\\Delta E = 7.808\\,\\mu\\text{J} \\rightarrow 7.808$\n\n$\\Delta E$ 的正号表示轮询策略比中断驱动策略消耗更多能量。\n\n最终答案将以行矩阵 $\\begin{pmatrix} u_{\\text{poll}} & u_{\\text{int}} & \\Delta E \\end{pmatrix}$ 的形式呈现。", "answer": "$$\n\\boxed{\n\\begin{pmatrix} 1.000 & 0.02400 & 7.808 \\end{pmatrix}\n}\n$$", "id": "3684444"}]}