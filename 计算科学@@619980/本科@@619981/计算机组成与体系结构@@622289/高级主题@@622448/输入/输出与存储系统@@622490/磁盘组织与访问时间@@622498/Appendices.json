{"hands_on_practices": [{"introduction": "在实际的性能分析中，我们常常需要像侦探一样，从系统的高层性能指标反推其底层硬件的行为。本练习将引导你分解一次随机读操作的总服务时间，通过已知的总时间和部分组件时间，推算出关键的平均寻道时间，从而加深对磁盘访问时间模型（$T_{service} = T_{seek} + T_{rot} + T_{xfer}$）的理解。[@problem_id:3655544]", "problem": "一个存储系统团队在单个硬盘驱动器上进行了两项受控实验，在此期间，操作系统（OS）的缓存被禁用，I/O 队列深度维持在 $1$ 以避免排队效应。实验在热校准完成后的稳态下进行。系统日志记录了以下汇总观测数据。\n\n- 磁盘报告主轴转速恒定为 $7200\\,\\mathrm{RPM}$。\n- 逻辑块大小为 $B = 4\\,\\mathrm{KiB}$。\n- 在一个由 $N = 10^{6}$ 个请求组成的均匀随机单块读取测试中，这些请求均匀分布在逻辑块地址空间上，测得的每个请求的平均服务时间为 $12.20\\,\\mathrm{ms}$。\n- 在一次长时间的顺序扫描（单线程、连续文件）中，测得的持续吞吐量为 $160\\,\\mathrm{MiB/s}$。\n\n假设控制器开销和命令间间隙可以忽略不计，并且对于足够长的顺序扫描，机械定位对每个块的贡献被分摊，使得每个块的平均服务时间接近纯数据传输时间。仅使用这些观测数据以及关于磁盘机械定位时间和旋转对齐的标准定义，推断该驱动器上随机单块读取的平均机械寻道时间。\n\n最终答案以毫秒为单位表示，并四舍五入到四位有效数字。", "solution": "首先根据所需标准对问题进行验证。\n\n### 问题验证\n\n**步骤1：提取已知条件**\n- 主轴转速，$S = 7200\\,\\mathrm{RPM}$\n- 逻辑块大小，$B = 4\\,\\mathrm{KiB}$\n- 随机读取测试中的请求数，$N = 10^{6}$\n- 每次随机单块读取的实测平均服务时间，$T_{\\text{service, rand}} = 12.20\\,\\mathrm{ms}$\n- 长时间顺序扫描中的实测持续吞吐量，$R_{\\text{seq}} = 160\\,\\mathrm{MiB/s}$\n- **假设**：操作系统（OS）缓存被禁用。I/O 队列深度为 $1$。系统处于稳态，热校准已完成。控制器开销和命令间间隙可忽略不计。对于长时间的顺序扫描，每个块的平均服务时间约等于纯数据传输时间。\n- **目标**：推断随机单块读取的平均机械寻道时间 $T_{\\text{seek, rand}}$。\n\n**步骤2：使用提取的已知条件进行验证**\n- **科学依据**：该问题在计算机体系结构的原理，特别是磁盘硬盘驱动器的性能模型方面，有充分的依据。所提供的参数（$7200\\,\\mathrm{RPM}$ 主轴转速、$4\\,\\mathrm{KiB}$ 块大小、$\\approx 12\\,\\mathrm{ms}$ 随机访问时间、$160\\,\\mathrm{MiB/s}$ 顺序吞吐量）是现实的，并与市售硬件一致。\n- **适定性**：该问题是适定的。它提供了足够的数据来计算所要求的值。磁盘访问时间的标准模型为唯一解提供了一条清晰的路径。\n- **客观性**：该问题以精确、客观和技术性的语言陈述，不含任何主观因素。\n- **结论**：该问题没有科学缺陷、矛盾和歧义。它是在指定领域内一个有效且可解的问题。\n\n**步骤3：裁定与行动**\n问题被判定为**有效**。将提供解答。\n\n### 解答推导\n\n单块磁盘请求的平均服务时间 $T_{\\text{service}}$ 被建模为三个独立分量的总和：机械寻道时间 $T_{\\text{seek}}$、旋转延迟 $T_{\\text{rotation}}$ 和数据传输时间 $T_{\\text{transfer}}$。\n$$T_{\\text{service}} = T_{\\text{seek}} + T_{\\text{rotation}} + T_{\\text{transfer}}$$\n问题要求的是随机单块读取的平均机械寻道时间，我们将其表示为 $T_{\\text{seek, rand}}$。从随机读取实验中，我们得知总平均服务时间为 $T_{\\text{service, rand}} = 12.20\\,\\mathrm{ms}$。因此，我们可以写出：\n$$T_{\\text{service, rand}} = T_{\\text{seek, rand}} + T_{\\text{rotation, avg}} + T_{\\text{transfer, block}}$$\n为了求出 $T_{\\text{seek, rand}}$，我们必须首先计算平均旋转延迟 $T_{\\text{rotation, avg}}$ 和单个数据块的传输时间 $T_{\\text{transfer, block}}$。\n\n**1. 计算平均旋转延迟 ($T_{\\text{rotation, avg}}$)**\n磁盘的主轴转速为 $S = 7200\\,\\mathrm{RPM}$（每分钟转数）。旋转一周所需时间 $T_{\\text{rev}}$ 是转速（以每秒转数表示）的倒数。\n$$S = 7200\\,\\frac{\\text{rev}}{\\text{min}} \\times \\frac{1\\,\\text{min}}{60\\,\\text{s}} = 120\\,\\frac{\\text{rev}}{\\text{s}}$$\n$$T_{\\text{rev}} = \\frac{1}{S} = \\frac{1}{120}\\,\\mathrm{s}$$\n对于一个随机请求，读/写磁头必须等待所需扇区旋转到其位置。平均而言，这个等待时间是旋转一周时间的一半。\n$$T_{\\text{rotation, avg}} = \\frac{1}{2} T_{\\text{rev}} = \\frac{1}{2} \\times \\frac{1}{120}\\,\\mathrm{s} = \\frac{1}{240}\\,\\mathrm{s}$$\n将此时间转换为毫秒（$1\\,\\mathrm{s} = 1000\\,\\mathrm{ms}$）：\n$$T_{\\text{rotation, avg}} = \\frac{1000}{240}\\,\\mathrm{ms} = \\frac{100}{24}\\,\\mathrm{ms} = \\frac{25}{6}\\,\\mathrm{ms}$$\n\n**2. 计算单块传输时间 ($T_{\\text{transfer, block}}$)**\n问题陈述，对于长时间的顺序扫描，每个块的服务时间接近纯数据传输时间，因为寻道时间和旋转延迟被分摊到大量连续块上。因此，我们可以使用持续顺序吞吐量 $R_{\\text{seq}}$ 来确定传输大小为 $B$ 的单个块所需的时间。\n已知条件是：\n- 持续吞吐量，$R_{\\text{seq}} = 160\\,\\mathrm{MiB/s}$\n- 块大小，$B = 4\\,\\mathrm{KiB}$\n\n我们必须使用一致的单位，其中 $1\\,\\mathrm{MiB} = 2^{20}\\,\\mathrm{bytes}$，$1\\,\\mathrm{KiB} = 2^{10}\\,\\mathrm{bytes}$。\n$$R_{\\text{seq}} = 160 \\times 2^{20}\\,\\mathrm{bytes/s}$$\n$$B = 4 \\times 2^{10}\\,\\mathrm{bytes}$$\n一个块的传输时间是块大小除以传输速率：\n$$T_{\\text{transfer, block}} = \\frac{B}{R_{\\text{seq}}} = \\frac{4 \\times 2^{10}\\,\\mathrm{bytes}}{160 \\times 2^{20}\\,\\mathrm{bytes/s}} = \\frac{4}{160} \\times \\frac{2^{10}}{2^{20}}\\,\\mathrm{s}$$\n$$T_{\\text{transfer, block}} = \\frac{1}{40} \\times 2^{-10}\\,\\mathrm{s} = \\frac{1}{40 \\times 1024}\\,\\mathrm{s} = \\frac{1}{40960}\\,\\mathrm{s}$$\n转换为毫秒：\n$$T_{\\text{transfer, block}} = \\frac{1000}{40960}\\,\\mathrm{ms} = \\frac{100}{4096}\\,\\mathrm{ms} = \\frac{25}{1024}\\,\\mathrm{ms}$$\n\n**3. 推断平均机械寻道时间 ($T_{\\text{seek, rand}}$)**\n现在我们可以重新整理服务时间方程来求解 $T_{\\text{seek, rand}}$：\n$$T_{\\text{seek, rand}} = T_{\\text{service, rand}} - T_{\\text{rotation, avg}} - T_{\\text{transfer, block}}$$\n代入已知和计算出的值：\n$$T_{\\text{seek, rand}} = 12.20\\,\\mathrm{ms} - \\frac{25}{6}\\,\\mathrm{ms} - \\frac{25}{1024}\\,\\mathrm{ms}$$\n为了进行减法，我们将分数转换为小数表示：\n$$T_{\\text{rotation, avg}} = \\frac{25}{6}\\,\\mathrm{ms} \\approx 4.166667\\,\\mathrm{ms}$$\n$$T_{\\text{transfer, block}} = \\frac{25}{1024}\\,\\mathrm{ms} \\approx 0.024414\\,\\mathrm{ms}$$\n现在，我们计算最终值：\n$$T_{\\text{seek, rand}} \\approx 12.20 - 4.166667 - 0.024414\\,\\mathrm{ms}$$\n$$T_{\\text{seek, rand}} \\approx 8.008919\\,\\mathrm{ms}$$\n问题要求答案四舍五入到四位有效数字。前四位有效数字是 $8$、$0$、$0$ 和 $8$。第五位有效数字是 $9$，所以我们将第四位向上取整。\n$$T_{\\text{seek, rand}} \\approx 8.009\\,\\mathrm{ms}$$\n这就是推断出的随机单块读取的平均机械寻道时间。", "answer": "$$\n\\boxed{8.009}\n$$", "id": "3655544"}, {"introduction": "磁盘性能的优劣并非绝对，而是与工作负载类型密切相关。本练习通过比较两款转速不同但其他参数相同的磁盘，让你量化分析主轴转速的提升对随机读取和顺序读取两种典型工作负载性能的影响有何不同。通过计算，你将直观地理解为何对于不同应用场景，硬件选择的侧重点也会有所不同。[@problem_id:3655571]", "problem": "两个磁盘硬盘，磁盘 A 和磁盘 B，唯一的区别在于其主轴转速：磁盘 A 的转速为 $5400\\,\\text{revolutions per minute (RPM)}$，磁盘 B 的转速为 $7200\\,\\text{RPM}$。除了主轴转速外，两块硬盘具有相同的机械结构和存储介质：它们具有相同的平均寻道时间 $t_{\\text{seek}} = 9.0\\,\\text{ms}$，相同的面密度，因此每转的用户数据量也相同，即每转 $1.20\\,\\text{mebibyte (MiB)}$。假设 $1\\,\\text{MiB} = 2^{20}\\,\\text{bytes}$ 且 $1\\,\\text{kibibyte (KiB)} = 2^{10}\\,\\text{bytes}$。考虑两种读取工作负载：\n- 一个随机读取工作负载，包含独立的 $4\\,\\text{KiB}$ 块请求，每个请求都指向一个均匀随机的逻辑块地址。将服务时间建模为寻道时间、旋转等待时间和传输时间之和。假设请求的到达时间相对于盘片的角位置在一次旋转周期内均匀分布，并忽略除给定平均寻道时间之外的排队、缓存、磁头切换和磁道切换开销。\n- 一个大型顺序读取工作负载，读取一个非常大的连续文件，使得初始定位开销被摊销，且稳态速率仅受主轴转速和每转数据量所决定的持续介质传输速率的限制。\n\n仅从基本定义出发（例如，频率和周期之间的关系，以及均匀分布的期望值定义），推导表达式以计算：\n1) 对于每个磁盘上单次随机 $4\\,\\text{KiB}$ 读取的平均服务时间。\n2) 每个磁盘上的渐进持续顺序读取吞吐量。\n\n然后，对磁盘 A 和磁盘 B，对两个表达式进行数值计算，并报告两个无量纲比率\n- $r_{\\text{random}} = \\dfrac{\\text{磁盘 A 上的平均随机读取服务时间}}{\\text{磁盘 B 上的平均随机读取服务时间}}$，\n- $r_{\\text{seq}} = \\dfrac{\\text{磁盘 B 的持续顺序读取吞吐量}}{\\text{磁盘 A 的持续顺序读取吞吐量}}$。\n\n将每个比率四舍五入到四位有效数字。将两个结果表示为无量纲数。以单行矩阵 $\\begin{pmatrix} r_{\\text{random}}  r_{\\text{seq}} \\end{pmatrix}$ 的形式提供最终答案。", "solution": "该问题被评估为有效，因为它具有科学依据、问题明确、客观，并包含足够的信息以获得唯一解。分析过程首先基于基本原理推导所需性能指标的符号表达式，然后代入给定的数值。\n\n设 $\\omega$ 为以转/分钟 ($\\text{RPM}$) 为单位的主轴转速。转动频率 $f$，单位为转/秒 ($\\text{Hz}$)，通过从分钟到秒的转换给出：\n$$f = \\frac{\\omega}{60}$$\n单次旋转的周期 $T_{\\text{rev}}$ 是频率的倒数：\n$$T_{\\text{rev}} = \\frac{1}{f} = \\frac{60}{\\omega}$$\n如果 $\\omega$ 的单位是 $\\text{RPM}$，则该周期的单位是秒。\n\n给定以下值：\n磁盘 A 的主轴转速：$\\omega_A = 5400\\,\\text{RPM}$\n磁盘 B 的主轴转速：$\\omega_B = 7200\\,\\text{RPM}$\n平均寻道时间：$t_{\\text{seek}} = 9.0\\,\\text{ms} = 9.0 \\times 10^{-3}\\,\\text{s}$\n每转数据量：$D_{\\text{rev}} = 1.20\\,\\text{MiB} = 1.20 \\times 2^{20}\\,\\text{bytes}$\n随机读取块的大小：$S_{\\text{block}} = 4\\,\\text{KiB} = 4 \\times 2^{10}\\,\\text{bytes} = 2^{12}\\,\\text{bytes}$\n\n首先，我们推导单次随机读取的平均服务时间 $T_{\\text{service}}$ 的表达式。问题指定了模型：\n$$T_{\\text{service}} = t_{\\text{seek}} + t_{\\text{rot}} + t_{\\text{xfer}}$$\n其中 $t_{\\text{seek}}$ 是平均寻道时间，$t_{\\text{rot}}$ 是平均旋转延迟，$t_{\\text{xfer}}$ 是传输时间。\n\n1.  **平均寻道时间 ($t_{\\text{seek}}$)：** 给定值为 $t_{\\text{seek}} = 9.0\\,\\text{ms}$。它对两个磁盘都相同。\n\n2.  **平均旋转延迟 ($t_{\\text{rot}}$)：** 问题指出，请求的到达相对于盘片的角位置是均匀分布的。这意味着在所需数据被定位到读/写磁头下之前的旋转等待时间是一个在区间 $[0, T_{\\text{rev}}]$ 上均匀分布的随机变量。在 $[a, b]$ 上均匀分布的随机变量的期望值（平均值）是 $\\frac{a+b}{2}$。因此，平均旋转延迟为：\n    $$t_{\\text{rot}} = \\frac{0 + T_{\\text{rev}}}{2} = \\frac{T_{\\text{rev}}}{2}$$\n\n3.  **传输时间 ($t_{\\text{xfer}}$)：** 这是磁头定位到块的起始位置后读取数据块所需的时间。磁盘在一次完整旋转时间 $T_{\\text{rev}}$ 内读取 $D_{\\text{rev}}$ 字节的数据。读取大小为 $S_{\\text{block}}$ 的较小块所需的时间与其所占旋转周期的比例成正比。因此：\n    $$t_{\\text{xfer}} = T_{\\text{rev}} \\times \\frac{S_{\\text{block}}}{D_{\\text{rev}}}$$\n\n结合这些部分，平均随机读取服务时间的完整表达式为：\n$$T_{\\text{service}} = t_{\\text{seek}} + \\frac{T_{\\text{rev}}}{2} + T_{\\text{rev}} \\frac{S_{\\text{block}}}{D_{\\text{rev}}} = t_{\\text{seek}} + T_{\\text{rev}} \\left(\\frac{1}{2} + \\frac{S_{\\text{block}}}{D_{\\text{rev}}}\\right)$$\n代入 $T_{\\text{rev}} = 60/\\omega$，我们得到服务时间作为主轴转速 $\\omega$ 的函数：\n$$T_{\\text{service}}(\\omega) = t_{\\text{seek}} + \\frac{60}{\\omega} \\left(\\frac{1}{2} + \\frac{S_{\\text{block}}}{D_{\\text{rev}}}\\right)$$\n\n接下来，我们推导渐进持续顺序读取吞吐量 $R_{\\text{seq}}$ 的表达式。对于大型连续读取，初始定位开销（寻道和延迟）被摊销到可以忽略不计的值。吞吐量则仅受介质传输速率的限制。在一次旋转中，在时间 $T_{\\text{rev}}$ 内读取了 $D_{\\text{rev}}$ 的数据量。吞吐量是数据除以时间：\n$$R_{\\text{seq}} = \\frac{D_{\\text{rev}}}{T_{\\text{rev}}}$$\n代入 $T_{\\text{rev}} = 60/\\omega$：\n$$R_{\\text{seq}}(\\omega) = \\frac{D_{\\text{rev}}}{60/\\omega} = \\frac{D_{\\text{rev}}\\omega}{60}$$\n这表明持续顺序吞吐量与主轴转速成正比。\n\n现在我们可以计算所需的比率。顺序读取吞吐量的比率 $r_{\\text{seq}}$ 为：\n$$r_{\\text{seq}} = \\frac{R_{\\text{seq,B}}}{R_{\\text{seq,A}}} = \\frac{D_{\\text{rev}}\\omega_B/60}{D_{\\text{rev}}\\omega_A/60} = \\frac{\\omega_B}{\\omega_A}$$\n使用给定的值：\n$$r_{\\text{seq}} = \\frac{7200\\,\\text{RPM}}{5400\\,\\text{RPM}} = \\frac{72}{54} = \\frac{4}{3} \\approx 1.3333...$$\n四舍五入到四位有效数字，$r_{\\text{seq}} = 1.333$。\n\n随机读取服务时间的比率 $r_{\\text{random}}$ 为：\n$$r_{\\text{random}} = \\frac{T_{\\text{service,A}}}{T_{\\text{service,B}}} = \\frac{t_{\\text{seek}} + T_{\\text{rev,A}} \\left(\\frac{1}{2} + \\frac{S_{\\text{block}}}{D_{\\text{rev}}}\\right)}{t_{\\text{seek}} + T_{\\text{rev,B}} \\left(\\frac{1}{2} + \\frac{S_{\\text{block}}}{D_{\\text{rev}}}\\right)}$$\n为了计算这个值，我们首先以一致的单位（毫秒，ms）计算输入参数。\n$t_{\\text{seek}} = 9.0\\,\\text{ms}$。\n$T_{\\text{rev,A}} = \\frac{60\\,\\text{s}}{5400} \\times \\frac{1000\\,\\text{ms}}{1\\,\\text{s}} = \\frac{60000}{5400}\\,\\text{ms} = \\frac{100}{9}\\,\\text{ms} \\approx 11.111\\,\\text{ms}$。\n$T_{\\text{rev,B}} = \\frac{60\\,\\text{s}}{7200} \\times \\frac{1000\\,\\text{ms}}{1\\,\\text{s}} = \\frac{60000}{7200}\\,\\text{ms} = \\frac{100}{12}\\,\\text{ms} = \\frac{25}{3}\\,\\text{ms} \\approx 8.333\\,\\text{ms}$。\n\n接下来，我们计算数据传输的无量纲分数：\n$$\\frac{S_{\\text{block}}}{D_{\\text{rev}}} = \\frac{4 \\times 2^{10}\\,\\text{bytes}}{1.20 \\times 2^{20}\\,\\text{bytes}} = \\frac{4}{1.20 \\times 2^{10}} = \\frac{4}{1.20 \\times 1024} = \\frac{4}{1228.8} = \\frac{1}{307.2}$$\n\n现在我们计算 $r_{\\text{random}}$ 的分子和分母：\n$T_{\\text{service,A}} = 9.0\\,\\text{ms} + \\frac{100}{9}\\,\\text{ms} \\left(\\frac{1}{2} + \\frac{1}{307.2}\\right)$\n$T_{\\text{service,A}} = 9.0 + \\frac{50}{9} + \\frac{100}{9 \\times 307.2} = 9.0 + 5.5555... + 0.0361689... = 14.59172... \\,\\text{ms}$\n\n$T_{\\text{service,B}} = 9.0\\,\\text{ms} + \\frac{25}{3}\\,\\text{ms} \\left(\\frac{1}{2} + \\frac{1}{307.2}\\right)$\n$T_{\\text{service,B}} = 9.0 + \\frac{25}{6} + \\frac{25}{3 \\times 307.2} = 9.0 + 4.1666... + 0.0271267... = 13.19379... \\,\\text{ms}$\n\n最后，我们计算比率 $r_{\\text{random}}$：\n$$r_{\\text{random}} = \\frac{14.59172...}{13.19379...} \\approx 1.105953...$$\n四舍五入到四位有效数字，$r_{\\text{random}} = 1.106$。\n\n所要求的两个无量纲比率是 $r_{\\text{random}} \\approx 1.106$ 和 $r_{\\text{seq}} \\approx 1.333$。", "answer": "$$\\boxed{\\begin{pmatrix} 1.106 & 1.333 \\end{pmatrix}}$$", "id": "3655571"}, {"introduction": "为了实现高效的数据访问，我们应该进行多大的数据传输？本练习引入了“收支平衡点”的关键概念，指导你计算一个临界I/O大小$B^{\\ast}$，当传输块大小超过这个值时，数据传输时间将开始主导总访问时间，而非机械延迟。这个概念对于文件系统、数据库等软件的设计者在决定块（block）或页（page）大小时至关重要。[@problem_id:3655611]", "problem": "磁性硬盘的特性由其机械延迟和介质传输速率决定。假设一个单盘片现代磁盘，其随机输入/输出 (I/O) 的规格如下：\n\n- 主轴转速为 $7200\\,\\text{revolutions per minute (RPM)}$。\n- 平均寻道时间为 $t_{\\text{seek}} = 9\\,\\text{ms}$。\n- 持续顺序传输速率为 $150\\,\\text{megabytes per second (MB/s)}$。\n\n假设以下基于标准磁盘行为的建模假设：对于随机 I/O，平均旋转延迟是半圈，旋转到达是均匀分布的，大小为 $B$ 的数据块的传输时间通过持续传输速率与 $B$ 成正比。忽略命令处理开销、缓存效应和排队。\n\n仅使用这些基本定义和假设，确定临界块大小 $B^{\\ast}$，使得数据传输时间等于平均寻道时间和平均旋转延迟之和。对于大于 $B^{\\ast}$ 的块大小，传输时间主导机械延迟；对于较小的块，机械延迟占主导地位。\n\n规定 $1\\,\\text{MB} = 10^{6}\\,\\text{bytes}$，并以千字节 (kB) 表示您的最终答案，其中 $1\\,\\text{kB} = 10^{3}\\,\\text{bytes}$。将您的答案四舍五入到四位有效数字。", "solution": "问题要求解临界块大小 $B^{\\ast}$，在该大小下，数据传输时间等于平均机械延迟之和，即平均寻道时间与平均旋转延迟之和。这个关系可以表示为：\n$$\nt_{\\text{transfer}}(B^{\\ast}) = t_{\\text{seek}} + t_{\\text{rotational, avg}}\n$$\n我们将计算每一项，然后求解 $B^{\\ast}$。\n\n首先，我们确定平均旋转延迟 $t_{\\text{rotational, avg}}$。主轴转速 $S$ 已知为 $7200\\,\\text{revolutions per minute (RPM)}$。我们将其转换为转每秒：\n$$\nS = 7200\\,\\frac{\\text{rev}}{\\text{min}} \\times \\frac{1\\,\\text{min}}{60\\,\\text{s}} = 120\\,\\frac{\\text{rev}}{\\text{s}}\n$$\n旋转一整圈的时间 $T_{\\text{rev}}$ 是以转每秒为单位的主轴转速的倒数：\n$$\nT_{\\text{rev}} = \\frac{1}{S} = \\frac{1}{120}\\,\\text{s}\n$$\n问题陈述，对于随机 I/O，平均旋转延迟是旋转一整圈时间的一半：\n$$\nt_{\\text{rotational, avg}} = \\frac{1}{2} T_{\\text{rev}} = \\frac{1}{2} \\times \\frac{1}{120}\\,\\text{s} = \\frac{1}{240}\\,\\text{s}\n$$\n接下来，我们计算总机械延迟，即平均寻道时间 $t_{\\text{seek}}$ 和平均旋转延迟 $t_{\\text{rotational, avg}}$ 之和。平均寻道时间已知为 $t_{\\text{seek}} = 9\\,\\text{ms}$。为了使用一致的单位，我们将其转换为秒：$t_{\\text{seek}} = 9 \\times 10^{-3}\\,\\text{s}$。\n总机械延迟 $t_{\\text{mechanical}}$ 为：\n$$\nt_{\\text{mechanical}} = t_{\\text{seek}} + t_{\\text{rotational, avg}} = 9 \\times 10^{-3}\\,\\text{s} + \\frac{1}{240}\\,\\text{s}\n$$\n为了将这些值相加，我们找到一个公分母：\n$$\nt_{\\text{mechanical}} = \\frac{9}{1000}\\,\\text{s} + \\frac{1}{240}\\,\\text{s} = \\frac{9 \\times 6}{6000}\\,\\text{s} + \\frac{1 \\times 25}{6000}\\,\\text{s} = \\frac{54 + 25}{6000}\\,\\text{s} = \\frac{79}{6000}\\,\\text{s}\n$$\n现在，我们定义数据传输时间 $t_{\\text{transfer}}$。它等于块大小 $B$ 除以持续传输速率 $R$。\n$$\nt_{\\text{transfer}}(B) = \\frac{B}{R}\n$$\n传输速率已知为 $R = 150\\,\\text{MB/s}$。问题规定了转换关系 $1\\,\\text{MB} = 10^{6}\\,\\text{bytes}$。因此：\n$$\nR = 150 \\times 10^{6}\\,\\frac{\\text{bytes}}{\\text{s}}\n$$\n我们现在可以建立临界块大小 $B^{\\ast}$ 的方程：\n$$\n\\frac{B^{\\ast}}{R} = t_{\\text{mechanical}}\n$$\n求解 $B^{\\ast}$：\n$$\nB^{\\ast} = R \\times t_{\\text{mechanical}}\n$$\n代入我们已计算出的值：\n$$\nB^{\\ast} = \\left(150 \\times 10^{6}\\,\\frac{\\text{bytes}}{\\text{s}}\\right) \\times \\left(\\frac{79}{6000}\\,\\text{s}\\right)\n$$\n$$\nB^{\\ast} = \\frac{150 \\times 10^{6} \\times 79}{6000}\\,\\text{bytes} = \\frac{150 \\times 79}{6} \\times 10^{3}\\,\\text{bytes}\n$$\n$$\nB^{\\ast} = 25 \\times 79 \\times 10^{3}\\,\\text{bytes}\n$$\n进行乘法运算：\n$$\nB^{\\ast} = 1975 \\times 10^{3}\\,\\text{bytes} = 1,975,000\\,\\text{bytes}\n$$\n问题要求答案以千字节 (kB) 表示，定义为 $1\\,\\text{kB} = 10^{3}\\,\\text{bytes}$。\n$$\nB^{\\ast}_{\\text{kB}} = \\frac{1,975,000\\,\\text{bytes}}{10^{3}\\,\\text{bytes/kB}} = 1975\\,\\text{kB}\n$$\n结果是一个整数，$1975$。问题要求四舍五入到四位有效数字。由于 $1975$ 恰好有四位有效数字，因此无需四舍五入。为了遵循数值答案指定的输出格式，我们将此值表示为标准科学记数法。\n$$\n1975 = 1.975 \\times 10^{3}\n$$\n临界块大小的数值为 $1.975 \\times 10^{3}\\,\\text{kB}$。", "answer": "$$\n\\boxed{1.975 \\times 10^{3}}\n$$", "id": "3655611"}]}