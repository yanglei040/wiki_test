{"hands_on_practices": [{"introduction": "理论学习的最佳补充是动手实践。要真正理解布尔网络的动态行为，最直接的方法就是从一个小型网络入手，手动推演其每一步的状态演化。这个练习将引导你为一个小型的三节点网络构建完整的状态转移图（State Transition Graph, STG）。通过这个过程，你将亲身体验同步更新机制的确定性，并学会如何从状态转移图中直接识别出网络的长期行为模式——吸引子（attractors）。[@problem_id:3292409]", "problem": "考虑一个具有 $3$ 个节点的确定性布尔网络 (BN)，它代表一个简化的基因调控模块。在布尔网络 (BN) 中，每个节点 $x_{i} \\in \\{0,1\\}$ 通过将其布尔更新函数 $f_{i}$ 应用于当前网络状态 $\\mathbf{x} = (x_{1}, x_{2}, x_{3}) \\in \\{0,1\\}^{3}$ 来进行同步更新。同步更新导出一个全局更新映射 $\\mathbf{f} : \\{0,1\\}^{3} \\to \\{0,1\\}^{3}$，定义为 $\\mathbf{f}(\\mathbf{x}) = (f_{1}(\\mathbf{x}), f_{2}(\\mathbf{x}), f_{3}(\\mathbf{x}))$。状态转移图 (STG) 是一个有向图，其顶点是所有 $2^{3}$ 个状态，其边是有序对 $(\\mathbf{x}, \\mathbf{f}(\\mathbf{x}))$。吸引子是一个最小非空集合 $\\mathcal{A} \\subseteq \\{0,1\\}^{3}$，它在 $\\mathbf{f}$ 作用下是封闭的；不动点是周期为 $1$ 的吸引子，而循环吸引子的周期大于 $1$。\n\n给定节点更新规则\n$$\nf_{1} = x_{2} \\land \\neg x_{3}, \\quad f_{2} = x_{1} \\lor x_{3}, \\quad f_{3} = \\neg x_{1}.\n$$\n任务：\n- 通过计算所有 $2^{3}$ 个状态 $\\mathbf{x} \\in \\{0,1\\}^{3}$ 的 $\\mathbf{f}(\\mathbf{x})$，构建同步更新下的完整转移关系。\n- 使用第一性原理，通过从全局更新映射和状态转移图的定义出发，验证此同步布尔网络轨迹的确定性。\n- 识别状态转移图中的所有吸引子（包括不动点和循环）。然后，报告不同吸引子的总数。\n\n请以单个整数形式提供最终答案。无需四舍五入，无需单位。", "solution": "问题陈述已经过验证，被认为是科学上可靠、定义明确、客观且自洽的。它提出了一个分析布尔网络的标准练习，这是计算系统生物学中一个成熟的课题。所有必需的定义和函数都已提供，没有矛盾或歧义。\n\n该布尔网络 (BN) 由 $3$ 个节点组成，状态为 $x_1, x_2, x_3 \\in \\{0,1\\}$。网络状态是一个向量 $\\mathbf{x} = (x_1, x_2, x_3) \\in \\{0,1\\}^3$。同步更新函数如下：\n$$\nf_1(\\mathbf{x}) = x_2 \\land \\neg x_3\n$$\n$$\nf_2(\\mathbf{x}) = x_1 \\lor x_3\n$$\n$$\nf_3(\\mathbf{x}) = \\neg x_1\n$$\n其中我们将逻辑“真”解释为 $1$，逻辑“假”解释为 $0$。全局更新映射为 $\\mathbf{f}(\\mathbf{x}) = (f_1(\\mathbf{x}), f_2(\\mathbf{x}), f_3(\\mathbf{x}))$。\n\n**任务1：构建完整转移关系**\n\n我们为 $2^3 = 8$ 个可能的当前状态 $\\mathbf{x}$ 中的每一个计算下一个状态 $\\mathbf{f}(\\mathbf{x})$。结果汇总在下面的状态转移表中。\n\n1.  对于 $\\mathbf{x} = (0,0,0)$:\n    $f_1 = 0 \\land \\neg 0 = 0 \\land 1 = 0$\n    $f_2 = 0 \\lor 0 = 0$\n    $f_3 = \\neg 0 = 1$\n    $\\mathbf{f}(0,0,0) = (0,0,1)$\n\n2.  对于 $\\mathbf{x} = (0,0,1)$:\n    $f_1 = 0 \\land \\neg 1 = 0 \\land 0 = 0$\n    $f_2 = 0 \\lor 1 = 1$\n    $f_3 = \\neg 0 = 1$\n    $\\mathbf{f}(0,0,1) = (0,1,1)$\n\n3.  对于 $\\mathbf{x} = (0,1,0)$:\n    $f_1 = 1 \\land \\neg 0 = 1 \\land 1 = 1$\n    $f_2 = 0 \\lor 0 = 0$\n    $f_3 = \\neg 0 = 1$\n    $\\mathbf{f}(0,1,0) = (1,0,1)$\n\n4.  对于 $\\mathbf{x} = (0,1,1)$:\n    $f_1 = 1 \\land \\neg 1 = 1 \\land 0 = 0$\n    $f_2 = 0 \\lor 1 = 1$\n    $f_3 = \\neg 0 = 1$\n    $\\mathbf{f}(0,1,1) = (0,1,1)$\n\n5.  对于 $\\mathbf{x} = (1,0,0)$:\n    $f_1 = 0 \\land \\neg 0 = 0 \\land 1 = 0$\n    $f_2 = 1 \\lor 0 = 1$\n    $f_3 = \\neg 1 = 0$\n    $\\mathbf{f}(1,0,0) = (0,1,0)$\n\n6.  对于 $\\mathbf{x} = (1,0,1)$:\n    $f_1 = 0 \\land \\neg 1 = 0 \\land 0 = 0$\n    $f_2 = 1 \\lor 1 = 1$\n    $f_3 = \\neg 1 = 0$\n    $\\mathbf{f}(1,0,1) = (0,1,0)$\n\n7.  对于 $\\mathbf{x} = (1,1,0)$:\n    $f_1 = 1 \\land \\neg 0 = 1 \\land 1 = 1$\n    $f_2 = 1 \\lor 0 = 1$\n    $f_3 = \\neg 1 = 0$\n    $\\mathbf{f}(1,1,0) = (1,1,0)$\n\n8.  对于 $\\mathbf{x} = (1,1,1)$:\n    $f_1 = 1 \\land \\neg 1 = 1 \\land 0 = 0$\n    $f_2 = 1 \\lor 1 = 1$\n    $f_3 = \\neg 1 = 0$\n    $\\mathbf{f}(1,1,1) = (0,1,0)$\n\n完整的状态转移关系是：\n$$(0,0,0) \\to (0,0,1)$$\n$$(0,0,1) \\to (0,1,1)$$\n$$(0,1,0) \\to (1,0,1)$$\n$$(0,1,1) \\to (0,1,1)$$\n$$(1,0,0) \\to (0,1,0)$$\n$$(1,0,1) \\to (0,1,0)$$\n$$(1,1,0) \\to (1,1,0)$$\n$$(1,1,1) \\to (0,1,0)$$\n\n**任务2：验证轨迹的确定性**\n\n该系统根据定义是确定性的。全局更新映射 $\\mathbf{f}: \\{0,1\\}^3 \\to \\{0,1\\}^3$ 是一个数学函数。函数的一个核心属性是，对于其定义域中的任何给定输入 $\\mathbf{x}$，它都会产生一个单一、唯一的输出 $\\mathbf{f}(\\mathbf{x})$。状态转移图 (STG) 的构建方式是，顶点代表状态，有向边由 $(\\mathbf{x}, \\mathbf{f}(\\mathbf{x}))$ 给出。因为 $\\mathbf{f}$ 是一个函数，所以 STG 中的每个顶点（状态）都恰好有一条出边。从初始状态 $\\mathbf{x}(0)$ 开始的轨迹是通过迭代应用 $\\mathbf{f}$ 生成的状态序列 $\\mathbf{x}(t)$，即 $\\mathbf{x}(t+1) = \\mathbf{f}(\\mathbf{x}(t))$。由于从 $\\mathbf{x}(t)$ 到 $\\mathbf{x}(t+1)$ 的每一步都是唯一确定的，因此整个轨迹由其初始状态唯一确定。这就是确定性动力系统的定义。\n\n**任务3：识别所有吸引子**\n\n吸引子是系统无法逃离的最小状态集。在有限确定性系统中，所有轨迹都必须导向一个吸引子，它要么是一个不动点，要么是一个极限环。我们分析状态转移以找到这些最小闭集。\n\n从转移表中：\n- 我们可以立即识别出两个不动点吸引子，其中 $\\mathbf{f}(\\mathbf{x}) = \\mathbf{x}$：\n  - $\\mathbf{f}(0,1,1) = (0,1,1)$。这是一个不动点。我们称此吸引子为 $\\mathcal{A}_1 = \\{(0,1,1)\\}$。\n  - $\\mathbf{f}(1,1,0) = (1,1,0)$。这也是一个不动点。我们称此吸引子为 $\\mathcal{A}_2 = \\{(1,1,0)\\}$。\n\n- 接下来，我们追踪其余状态的轨迹，看看它们会导向何处。让我们从一个尚未在吸引子中的状态开始，例如 $(0,1,0)$：\n  - $(0,1,0) \\to (1,0,1)$\n  - 现在我们追踪 $(1,0,1)$: $(1,0,1) \\to (0,1,0)$。\n  这形成了一个2-周期循环：$(0,1,0) \\leftrightarrows (1,0,1)$。这是一个周期为 $2$ 的循环吸引子。我们称此吸引子为 $\\mathcal{A}_3 = \\{(0,1,0), (1,0,1)\\}$。\n\n- 我们必须检查所有其他状态是否都导向这三个吸引子之一。\n  - $(0,0,0) \\to (0,0,1) \\to (0,1,1)$。该轨迹进入不动点 $\\mathcal{A}_1$。\n  - $(1,0,0) \\to (0,1,0)$。该轨迹进入2-周期循环 $\\mathcal{A}_3$。\n  - $(1,1,1) \\to (0,1,0)$。该轨迹也进入2-周期循环 $\\mathcal{A}_3$。\n\n所有 $8$ 个状态都已被说明。状态空间被划分为这三个吸引子的吸引盆。不同的吸引子是：\n1. 一个不动点：$\\mathcal{A}_1 = \\{(0,1,1)\\}$\n2. 一个不动点：$\\mathcal{A}_2 = \\{(1,1,0)\\}$\n3. 一个2-周期循环：$\\mathcal{A}_3 = \\{(0,1,0), (1,0,1)\\}$\n\n不同吸引子的总数是 $3$。", "answer": "$$\\boxed{3}$$", "id": "3292409"}, {"introduction": "在掌握了网络整体的动态推演后，我们来深入探究其根本——单个布尔更新函数自身的属性。一个网络的宏观行为在很大程度上取决于构成它的一系列更新规则的内在特性，例如单调性（monotonicity）和渠道化（canalization）。这个练习将指导你分析一个给定的布尔函数，揭示其逻辑结构如何决定其在网络中的动态作用，从而建立起从规则到行为的深刻理解。[@problem_id:3292411]", "problem": "在计算系统生物学中，布尔网络模型通过具有布尔值状态的节点和由逻辑运算构建的更新规则来表示基因调控相互作用。考虑一个单节点布尔更新函数 $f : \\{0,1\\}^{3} \\to \\{0,1\\}$，其输入 $(x_{1},x_{2},x_{3})$ 编码上游调控因子，定义为 $f(x_{1},x_{2},x_{3}) = x_{1} \\lor (\\neg x_{2} \\land x_{3})$。使用以下基本定义。\n\n一个布尔函数 $f$ 在布尔格 $\\{0,1\\}^{n}$ 上，根据积偏序关系进行评估：$(u_{1},\\dots,u_{n}) \\preceq (v_{1},\\dots,v_{n})$ 当且仅当对于所有 $i \\in \\{1,\\dots,n\\}$ 都有 $u_{i} \\leq v_{i}$，其中 $0 \\leq 1$。如果 $(u \\preceq v)$ 蕴含 $f(u) \\leq f(v)$，则函数 $f$ 是全局单调不减的。如果对于每个变量 $x_{i}$，都存在一个符号 $\\sigma_{i} \\in \\{+1,-1\\}$，使得当保持所有其他变量不变时，若 $\\sigma_{i}=+1$，则 $f$ 在 $x_{i}$ 上是单调不减的，若 $\\sigma_{i}=-1$，则 $f$ 在 $x_{i}$ 上是单调不增的，那么该函数是单调的（unate）。如果存在一个输入值 $a \\in \\{0,1\\}$，使得设置 $x_{i}=a$ 会迫使 $f$ 等于一个常数 $b \\in \\{0,1\\}$，而不管其余输入的值如何，那么变量 $x_{i}$ 就是一个引导变量（canalizing）；这样的配对 $(a,b)$ 被称为引导输入和被引导输出。\n\n任务：\n- 计算 $f$ 对于所有按规范字典序排列的输入 $(x_{1},x_{2},x_{3}) \\in \\{0,1\\}^{3}$（从 $(0,0,0)$ 到 $(1,1,1)$）的真值表值，并以 $0$-$1$ 值的形式报告这八个输出。\n- 判断 $f$ 是否相对于 $\\{0,1\\}^{3}$ 上的积偏序是全局单调不减的。\n- 如果 $f$ 不是全局单调不减的，判断 $f$ 是否是单调的（unate），并提供与 $(x_{1},x_{2},x_{3})$ 对应的，元素在 $\\{+1,-1\\}$ 中的单调符号向量 $(\\sigma_{1},\\sigma_{2},\\sigma_{3})$。\n- 识别所有引导变量 $x_{i}$，并为每个变量找出所有的引导输入对 $(a,b)$。\n\n使用以下编码，将您的最终答案报告为单个行矩阵：\n- 前八个条目是按指定输入顺序排列的 $f$ 的真值表输出。\n- 第九个条目 $m$ 是一个标志位，如果 $f$ 是全局单调不减的，则为 $1$，否则为 $0$。\n- 接下来的三个条目是单调符号向量 $(s_{1},s_{2},s_{3})$，其中 $s_{i} \\in \\{-1,0,1\\}$，$s_{i}=1$ 表示在 $x_{i}$ 上单调不减，$s_{i}=-1$ 表示在 $x_{i}$ 上单调不增，$s_{i}=0$ 表示两者都不是。\n- 对于每个引导变量，附加三元组 $(i,a,b)$，编码为三个连续的数字条目：变量索引 $i \\in \\{1,2,3\\}$、其引导输入 $a \\in \\{0,1\\}$ 以及相应的被引导输出 $b \\in \\{0,1\\}$。如果存在多个引导变量，则按 $i$ 的递增顺序列出它们的三元组。\n\n无需四舍五入。除单调符号可以是 $-1$ 外，所有条目都表示为精确整数 $0$ 或 $1$。", "solution": "对问题陈述进行验证。\n\n### 第 1 步：提取已知条件\n-   **布尔函数：** $f : \\{0,1\\}^{3} \\to \\{0,1\\}$。\n-   **函数输入：** $(x_{1},x_{2},x_{3}) \\in \\{0,1\\}^{3}$。\n-   **函数定义：** $f(x_{1},x_{2},x_{3}) = x_{1} \\lor (\\neg x_{2} \\land x_{3})$。\n-   **偏序关系：** $(u_{1},\\dots,u_{n}) \\preceq (v_{1},\\dots,v_{n})$ 当且仅当对于所有 $i \\in \\{1,\\dots,n\\}$ 都有 $u_{i} \\leq v_{i}$，其中 $0 \\leq 1$。\n-   **全局单调性：** 如果 $(u \\preceq v)$ 蕴含 $f(u) \\leq f(v)$，则函数 $f$ 是全局单调不减的。\n-   **单调函数（Unate Function）：** 对于每个变量 $x_{i}$，都存在一个符号 $\\sigma_{i} \\in \\{+1,-1\\}$，使得当保持其他变量不变时，若 $\\sigma_{i}=+1$，则 $f$ 在 $x_{i}$ 上是单调不减的，或若 $\\sigma_{i}=-1$，则 $f$ 在 $x_{i}$ 上是单调不增的。\n-   **引导变量：** 如果 $\\exists a \\in \\{0,1\\}$ 使得 $x_{i}=a$ 蕴含 $f$ 是一个常数 $b \\in \\{0,1\\}$，则变量 $x_{i}$ 是引导变量。该配对 $(a,b)$ 是引导输入和被引导输出。\n-   **任务：**\n    1.  计算 $f$ 在字典序输入下的真值表。\n    2.  判断 $f$ 是否是全局单调不减的。\n    3.  如果不是，则判断 $f$ 是否是单调的（unate）并找出其符号向量。\n    4.  识别所有引导变量及其 $(a,b)$ 对。\n-   **最终答案编码：** 一个包含以下内容的单行矩阵：\n    1.  $8$ 个真值表输出。\n    2.  一个全局单调性标志 $m \\in \\{0,1\\}$。\n    3.  一个 3 元素单调符号向量 $(s_1, s_2, s_3)$，其中 $s_i \\in \\{-1,0,1\\}$。\n    4.  每个引导变量的三元组 $(i,a,b)$，按 $i$ 排序。\n\n### 第 2 步：使用提取的已知条件进行验证\n该问题在科学上和数学上是合理的。这是布尔函数分析中的一个明确定义的练习，该主题是离散数学、计算机科学和计算系统生物学的核心。所有术语，如“布尔格”、“积偏序”、“单调”、“单调的（unate）”和“引导（canalizing）”都是标准的且有精确定义。函数 $f(x_{1},x_{2},x_{3}) = x_{1} \\lor (\\neg x_{2} \\land x_{3})$ 是明确的。任务是具体的，并且明确描述了所需的输出格式。没有矛盾、信息缺失或违反科学原则之处。该问题是自洽且适定的，并允许唯一的解。\n\n### 第 3 步：结论与行动\n问题是**有效的**。将提供完整的解决方案。\n\n### 解答\n\n分析按照指定的任务进行。\n\n**任务 1：计算真值表**\n\n令 $f(x_{1},x_{2},x_{3}) = x_{1} \\lor (\\neg x_{2} \\land x_{3})$。我们按规范字典序计算该函数在所有 $2^{3}=8$ 个可能的输入向量 $(x_{1},x_{2},x_{3})$ 上的值。\n-   $f(0,0,0) = 0 \\lor (\\neg 0 \\land 0) = 0 \\lor (1 \\land 0) = 0 \\lor 0 = 0$。\n-   $f(0,0,1) = 0 \\lor (\\neg 0 \\land 1) = 0 \\lor (1 \\land 1) = 0 \\lor 1 = 1$。\n-   $f(0,1,0) = 0 \\lor (\\neg 1 \\land 0) = 0 \\lor (0 \\land 0) = 0 \\lor 0 = 0$。\n-   $f(0,1,1) = 0 \\lor (\\neg 1 \\land 1) = 0 \\lor (0 \\land 1) = 0 \\lor 0 = 0$。\n-   $f(1,0,0) = 1 \\lor (\\neg 0 \\land 0) = 1 \\lor (1 \\land 0) = 1 \\lor 0 = 1$。\n-   $f(1,0,1) = 1 \\lor (\\neg 0 \\land 1) = 1 \\lor (1 \\land 1) = 1 \\lor 1 = 1$。\n-   $f(1,1,0) = 1 \\lor (\\neg 1 \\land 0) = 1 \\lor (0 \\land 0) = 1 \\lor 0 = 1$。\n-   $f(1,1,1) = 1 \\lor (\\neg 1 \\land 1) = 1 \\lor (0 \\land 1) = 1 \\lor 0 = 1$。\n\n真值表输出序列为 $(0, 1, 0, 0, 1, 1, 1, 1)$。\n\n**任务 2：确定全局单调性**\n\n如果对于所有 $u, v \\in \\{0,1\\}^{3}$，都有 $u \\preceq v$ 蕴含 $f(u) \\leq f(v)$，则函数是全局单调不减的。我们通过寻找一个反例来检验这个条件。让我们比较两个输入向量 $u$ 和 $v$，其中 $u \\preceq v$。考虑向量 $u=(0,0,1)$ 和 $v=(0,1,1)$。\n条件 $u \\preceq v$ 成立，因为 $0 \\leq 0$，$0 \\leq 1$ 和 $1 \\leq 1$。\n现在我们计算函数在这些点上的值：\n-   $f(u) = f(0,0,1) = 1$。\n-   $f(v) = f(0,1,1) = 0$。\n由于 $f(u) = 1$ 且 $f(v) = 0$，我们有 $f(u) > f(v)$。这违反了条件 $f(u) \\leq f(v)$。\n因此，函数 $f$ **不是**全局单调不减的。相应的标志 $m$ 为 $0$。\n\n**任务 3：确定单调性（Unateness）和符号向量**\n\n我们必须分别确定 $f$ 相对于每个变量的单调性，同时保持其他变量恒定。将确定符号向量 $(s_{1},s_{2},s_{3})$，其中 $s_i=1$ 表示不减，$s_i=-1$ 表示不增，$s_i=0$ 表示两者皆非。\n\n-   **变量 $x_{1}$：** 我们检查是否对于所有 $(x_2,x_3)$ 都有 $f(0,x_2,x_3) \\leq f(1,x_2,x_3)$。\n    $f(1,x_2,x_3) = 1 \\lor (\\neg x_2 \\land x_3) = 1$。输出始终为 $1$。\n    $f(0,x_2,x_3) = 0 \\lor (\\neg x_2 \\land x_3) = \\neg x_2 \\land x_3$，其值可以是 $0$ 或 $1$。\n    由于 $f(0,x_2,x_3) \\in \\{0,1\\}$ 且 $f(1,x_2,x_3)=1$，条件 $f(0,x_2,x_3) \\leq f(1,x_2,x_3)$ 始终满足。因此，$f$ 在 $x_1$ 上是单调不减的。所以，$s_{1}=1$。\n\n-   **变量 $x_{2}$：** 我们检查 $f(x_1,0,x_3)$ 和 $f(x_1,1,x_3)$ 之间的关系。\n    $f(x_1,0,x_3) = x_1 \\lor (\\neg 0 \\land x_3) = x_1 \\lor x_3$。\n    $f(x_1,1,x_3) = x_1 \\lor (\\neg 1 \\land x_3) = x_1 \\lor 0 = x_1$。\n    我们必须检查该函数是否一致地单调不减或单调不增。\n    $f(x_1,0,x_3) \\leq f(x_1,1,x_3)$ 是否成立？这意味着 $x_1 \\lor x_3 \\leq x_1$。当 $x_1=0$ 且 $x_3=1$ 时，这为假，得到 $1 \\leq 0$。所以 $f$ 在 $x_2$ 上不是单调不减的。\n    $f(x_1,0,x_3) \\geq f(x_1,1,x_3)$ 是否成立？这意味着 $x_1 \\lor x_3 \\geq x_1$。这始终为真，因为如果 $x_1=1$，表达式为 $1 \\geq 1$。如果 $x_1=0$，表达式为 $x_3 \\geq 0$，对于 $x_3 \\in \\{0,1\\}$ 这也为真。\n    由于对于所有 $(x_1, x_3)$ 都有 $f(x_1,0,x_3) \\geq f(x_1,1,x_3)$，$f$ 在 $x_2$ 上是单调不增的。所以，$s_{2}=-1$。\n\n-   **变量 $x_{3}$：** 我们检查 $f(x_1,x_2,0)$ 和 $f(x_1,x_2,1)$ 之间的关系。\n    $f(x_1,x_2,0) = x_1 \\lor (\\neg x_2 \\land 0) = x_1 \\lor 0 = x_1$。\n    $f(x_1,x_2,1) = x_1 \\lor (\\neg x_2 \\land 1) = x_1 \\lor \\neg x_2$。\n    我们检查单调性。$f(x_1,x_2,0) \\leq f(x_1,x_2,1)$ 是否成立？这意味着 $x_1 \\leq x_1 \\lor \\neg x_2$。这始终为真，因为如果 $x_1=1$，表达式为 $1 \\leq 1$。如果 $x_1=0$，表达式为 $0 \\leq \\neg x_2$，对于 $x_2 \\in \\{0,1\\}$ 这也为真。\n    由于对于所有 $(x_1, x_2)$ 都有 $f(x_1,x_2,0) \\leq f(x_1,x_2,1)$，$f$ 在 $x_3$ 上是单调不减的。所以，$s_{3}=1$。\n\n由于每个变量都存在一个符号，所以该函数是单调的（unate）。符号向量为 $(s_{1}, s_{2}, s_{3}) = (1, -1, 1)$。\n\n**任务 4：识别引导变量**\n\n如果将变量 $x_i$ 设置为值 $a$ 会使函数输出一个常数 $b$，则该变量是引导变量。\n\n-   **变量 $x_{1}$：**\n    -   设置 $x_{1}=0$：$f(0,x_2,x_3) = \\neg x_2 \\land x_3$。这取决于 $x_2$ 和 $x_3$，所以它不是常数。\n    -   设置 $x_{1}=1$：$f(1,x_2,x_3) = 1 \\lor (\\neg x_2 \\land x_3) = 1$。输出是常数。\n    因此，$x_1$ 是一个引导变量。引导输入是 $a=1$，被引导输出是 $b=1$。三元组是 $(i,a,b)=(1,1,1)$。\n\n-   **变量 $x_{2}$：**\n    -   设置 $x_{2}=0$：$f(x_1,0,x_3) = x_1 \\lor x_3$。这取决于 $x_1$ 和 $x_3$，所以它不是常数。\n    -   设置 $x_{2}=1$：$f(x_1,1,x_3) = x_1 \\lor 0 = x_1$。这取决于 $x_1$，所以它不是常数。\n    因此，$x_2$ 不是一个引导变量。\n\n-   **变量 $x_{3}$：**\n    -   设置 $x_{3}=0$：$f(x_1,x_2,0) = x_1 \\lor 0 = x_1$。这取决于 $x_1$，所以它不是常数。\n    -   设置 $x_{3}=1$：$f(x_1,x_2,1) = x_1 \\lor \\neg x_2$。这取决于 $x_1$ 和 $x_2$，所以它不是常数。\n    因此，$x_3$ 不是一个引导变量。\n\n唯一的引导变量是 $x_{1}$，其唯一的引导对是 $(a,b) = (1,1)$。\n\n### 最终组合\n\n最终答案的组成部分是：\n-   真值表输出：$(0, 1, 0, 0, 1, 1, 1, 1)$。\n-   全局单调性标志 $m$：$0$。\n-   单调符号向量 $(s_1,s_2,s_3)$：$(1, -1, 1)$。\n-   引导变量三元组 $(i,a,b)$：$(1, 1, 1)$。\n\n将这些组合成一个单行矩阵。", "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n0  1  0  0  1  1  1  1  0  1  -1  1  1  1  1\n\\end{pmatrix}\n}\n$$", "id": "3292411"}, {"introduction": "在生物系统中，各种调控事件的发生并非总是像时钟一样精确同步。这个计算实践将带你探索布尔网络建模中一个至关重要的选择：更新机制（update scheme）。通过编程实现并比较同步更新、异步更新以及随机顺序更新下的网络动态，你将亲眼见证不同的时间假设是如何产生或消除某些动态行为（如极限环），这对于构建更贴近生物学现实的模型至关重要。[@problem_id:3292480]", "problem": "考虑一个具有 $3$ 个节点的布尔网络，它代表一个具有相互抑制和自我保持的调控模体。令状态为 $x = (x_1, x_2, x_3) \\in \\{0,1\\}^3$，其中 $0$ 代表“关闭”，$1$ 代表“开启”。局部更新函数由以下逻辑规则定义，这些规则将当前状态 $x$ 映射到下一状态：\n$$\nf_1(x) = \\neg x_2, \\quad f_2(x) = \\neg x_1, \\quad f_3(x) = x_3,\n$$\n其中 $\\neg$ 是逻辑非，逻辑值与整数 $0$（代表假）和 $1$（代表真）等同。全局同步更新算子 $F: \\{0,1\\}^3 \\to \\{0,1\\}^3$ 根据下式同时更新所有节点：\n$$\nF(x) = (f_1(x), f_2(x), f_3(x)).\n$$\n局部单节点更新算子 $U_i: \\{0,1\\}^3 \\to \\{0,1\\}^3$ 定义为\n$$\nU_i(x)_j = \n\\begin{cases}\nf_i(x),  \\text{if } j = i, \\\\\nx_j,  \\text{if } j \\neq i,\n\\end{cases}\n$$\n该算子仅使用所有节点的当前值来更新节点 $i$，而保持其他节点不变。对于 $\\{1,2,3\\}$ 的一个排列 $\\pi$，异步固定顺序更新 $F_{\\pi}: \\{0,1\\}^3 \\to \\{0,1\\}^3$ 是如下的顺序复合：\n$$\nF_{\\pi}(x) = U_{\\pi(3)}\\big(U_{\\pi(2)}\\big(U_{\\pi(1)}(x)\\big)\\big),\n$$\n即，依次应用 $U_{\\pi(1)}$、 $U_{\\pi(2)}$ 和 $U_{\\pi(3)}$，每次都使用最近更新过的状态。在随机顺序异步机制中，在宏观步 $t$，使用带有指定种子的伪随机数生成器，从 $\\{1,2,3\\}$ 的所有排列中独立地均匀随机抽样一个排列 $\\pi_t$，并应用 $F_{\\pi_t}$ 以获得下一个宏观状态。\n\n吸引子是在给定更新机制下的一个循环状态集。对于确定性机制（同步和固定顺序异步），这简化为在相应全局更新算子的重复应用下长度为 $L \\ge 1$ 的环，其中 $L=1$ 代表不动点。对于使用固定伪随机数种子的随机顺序异步机制，带种子的排列序列会引发一个宏观动力学；通过追踪访问记录来检测循环状态，并报告在该引发的动力学中观察到的环长度。目标是计算在每种机制下，从所有 $8$ 个可能的初始状态 $x \\in \\{0,1\\}^3$ 出发所遇到的所有吸引子长度，并阐明同步更新下存在的环如何在异步更新下消失。\n\n基于上述基本定义，实现一个程序，该程序：\n1. 枚举所有 $8$ 个初始状态 $x \\in \\{0,1\\}^3$。\n2. 对于同步机制，从每个初始状态开始重复应用 $F$，并通过首次重复检测来确定吸引子长度。\n3. 对于异步固定顺序机制，当 $\\pi = (1,2,3)$ 时，重复应用 $F_{\\pi}$ 并以类似方式检测吸引子长度。\n4. 对于异步固定顺序机制，当 $\\pi = (3,2,1)$ 时，重复应用 $F_{\\pi}$ 并以类似方式检测吸引子长度。\n5. 对于随机顺序异步机制，对每个初始状态，使用以 $s = 2025 + i$ 为种子的伪随机数生成器（其中 $i$ 是初始状态在 $\\{0,1\\}^3$ 字典序中的整数索引），生成最多 $T = 30$ 个排列 $\\pi_t$，依次应用它们对应的 $F_{\\pi_t}$，并检测首次出现重复以确定吸引子长度；如果在 $T$ 个宏观步内未找到重复，则假定未检测到环，并将该初始状态从报告的长度中排除。\n\n您的程序必须生成单行输出，其中包含一个用方括号括起来的逗号分隔列表形式的结果，每个条目是对应机制下、从所有 $8$ 个初始状态汇总的、已排序的、不重复的吸引子长度列表。四种机制按以下顺序评估：同步、$\\pi=(1,2,3)$ 的异步、$\\pi=(3,2,1)$ 的异步、以及使用上述种子规则和 $T=30$ 的随机顺序异步。例如，输出格式必须是\n$$\n[\\![L_{sync}],\\,[L_{123}],\\,[L_{321}],\\,[L_{rand}]\\,],\n$$\n其中每个方括号内的项是一个整数的 Python 列表字面量，例如 $[1,2]$。\n\n测试套件与答案规范：\n- 机制 $1$（同步）：计算并返回从所有 $8$ 个初始状态得到的、已排序的、不重复的环长度列表 $[L_{sync}]$。\n- 机制 $2$（$\\pi=(1,2,3)$ 的异步固定顺序）：计算并返回 $[L_{123}]$。\n- 机制 $3$（$\\pi=(3,2,1)$ 的异步固定顺序）：计算并返回 $[L_{321}]$。\n- 机制 $4$（使用种子规则 $s = 2025 + i$ 和时限 $T=30$ 的随机顺序异步）：计算并返回 $[L_{rand}]$。\n\n最终程序输出必须是单行，格式完全符合要求：一个由单对方括号括起来的、包含四个列表的逗号分隔列表。不涉及物理单位。不涉及角度。不涉及百分比。每个测试用例的所有答案都是整数列表。", "solution": "用户提供的问题是一个定义明确的练习，旨在分析布尔网络在不同更新方案下的动力学。问题陈述在科学上是合理的、自洽的，并且是算法可解的。将通过为四种机制中的每一种实现指定的更新规则和吸引子检测算法来解决此问题。\n\n### 1. 系统形式化\n\n该布尔网络由 $N=3$ 个节点组成。网络的一个状态是一个向量 $x = (x_1, x_2, x_3)$，其中每个 $x_i \\in \\{0, 1\\}$。因此，状态空间为 $\\{0, 1\\}^3$，包含 $2^3 = 8$ 个可能的状态。\n\n局部更新函数如下：\n$f_1(x) = \\neg x_2 = 1 - x_2$\n$f_2(x) = \\neg x_1 = 1 - x_1$\n$f_3(x) = x_3$\n\n这些函数定义了每个节点的下一状态如何根据网络的当前状态来确定。我们现在将在四种不同的更新机制下分析其动力学。对于吸引子检测，由于状态空间是有限的，任何轨迹最终都必须重复一个状态。如果一个状态 $x$ 在 $L$ 步后再次出现，就找到了一个长度为 $L$ 的环。\n\n### 2. 机制 1：同步更新\n\n在同步机制中，所有节点同时更新。全局更新算子 $F: \\{0,1\\}^3 \\to \\{0,1\\}^3$ 为：\n$$\nF(x_1, x_2, x_3) = (f_1(x), f_2(x), f_3(x)) = (1-x_2, 1-x_1, x_3)\n$$\n为找到吸引子，我们将从 $8$ 个初始状态中的每一个开始，并重复应用 $F$。我们将记录状态序列并检测首次重复。\n\n例如，从 $x_0 = (0,0,0)$ 开始：\n$x_1 = F(0,0,0) = (1-0, 1-0, 0) = (1,1,0)$\n$x_2 = F(1,1,0) = (1-1, 1-1, 0) = (0,0,0)$\n由于 $x_2 = x_0$，我们找到了一个长度为 $L = 2-0 = 2$ 的环。\n\n通过分析所有 $8$ 个初始状态，我们识别出所有的吸引子。找到的不重复环长度集合构成了该机制的结果。不动点是长度为 $L=1$ 的环。\n\n### 3. 机制 2：异步固定顺序更新 $\\pi=(1,2,3)$\n\n在该机制中，节点按固定顺序 $1, 2, 3$ 依次更新。更新算子 $F_{(1,2,3)}$ 是 $U_3 \\circ U_2 \\circ U_1$ 的复合。给定一个状态 $x^{(0)} = (x_1, x_2, x_3)$：\n1. 更新节点 1：$x^{(1)} = U_1(x^{(0)}) = (f_1(x^{(0)}), x_2, x_3) = (1-x_2, x_2, x_3)$。\n2. 更新节点 2：$x^{(2)} = U_2(x^{(1)}) = (x^{(1)}_1, f_2(x^{(1)}), x^{(1)}_3) = (1-x_2, 1-x^{(1)}_1, x_3) = (1-x_2, 1-(1-x_2), x_3) = (1-x_2, x_2, x_3)$。\n3. 更新节点 3：$x^{(3)} = U_3(x^{(2)}) = (x^{(2)}_1, x^{(2)}_2, f_3(x^{(2)})) = (1-x_2, x_2, x^{(2)}_3) = (1-x_2, x_2, x_3)$。\n\n所以，总的更新函数是 $F_{(1,2,3)}(x_1, x_2, x_3) = (1-x_2, x_2, x_3)$。\n如果 $F_{(1,2,3)}(x) = x$，则吸引子是一个不动点，这意味着 $(x_1, x_2, x_3) = (1-x_2, x_2, x_3)$。这要求 $x_1 = 1-x_2$。任何满足此条件的状态都是不动点。这些不动点是 $(1,0,0)$, $(1,0,1)$, $(0,1,0)$ 和 $(0,1,1)$。\n对于任何不满足此条件的状态，例如 $x=(0,0,0)$，应用一次 $F_{(1,2,3)}$ 会得到 $F_{(1,2,3)}(0,0,0) = (1,0,0)$，这是一个不动点。因此，所有轨迹都在一步之内收敛到一个不动点。所以，唯一的吸引子长度是 $1$。\n\n### 4. 机制 3：异步固定顺序更新 $\\pi=(3,2,1)$\n\n此处，节点按 $3, 2, 1$ 的顺序更新。算子是 $F_{(3,2,1)} = U_1 \\circ U_2 \\circ U_3$。给定 $x^{(0)} = (x_1, x_2, x_3)$：\n1. 更新节点 3：$x^{(1)} = U_3(x^{(0)}) = (x_1, x_2, f_3(x^{(0)})) = (x_1, x_2, x_3) = x^{(0)}$。\n2. 更新节点 2：$x^{(2)} = U_2(x^{(1)}) = (x_1, f_2(x^{(1)}), x_3) = (x_1, 1-x_1, x_3)$。\n3. 更新节点 1：$x^{(3)} = U_1(x^{(2)}) = (f_1(x^{(2)}), x^{(2)}_2, x^{(2)}_3) = (1-x^{(2)}_2, 1-x_1, x_3) = (1-(1-x_1), 1-x_1, x_3) = (x_1, 1-x_1, x_3)$。\n\n更新函数是 $F_{(3,2,1)}(x_1, x_2, x_3) = (x_1, 1-x_1, x_3)$。\n与前一个机制类似，不动点必须满足 $x_2 = 1-x_1$，这与之前的条件相同。不动点的集合是相同的：$\\{(1,0,0), (1,0,1), (0,1,0), (0,1,1)\\}$。所有其他状态都在一步内转换到这些不动点之一。例如，$F_{(3,2,1)}(0,0,0) = (0,1,0)$。同样，所有吸引子都是不动点，唯一的吸引子长度是 $1$。\n\n### 5. 机制 4：随机顺序异步更新\n\n在这个随机机制中，对于每个初始状态 $x_i$（其中 $i \\in \\{0, \\dots, 7\\}$ 是字典序索引），通过应用更新 $F_{\\pi_t}$ 生成一个确定性的状态序列。排列序列 $\\pi_t$ 由一个以 $s = 2025 + i$ 为种子的伪随机数生成器（PRNG）确定。\n针对每个初始状态的算法如下：\n1. 用种子 $s = 2025 + i$ 初始化伪随机数生成器。\n2. 从初始状态 $x(0) = x_i$ 开始。维护一个已访问状态及其首次出现步骤的历史记录，例如 `history = {x(0): 0}`。\n3. 对于每个宏观步 $t = 0, 1, \\dots, T-1$（其中 $T=30$）：a. 使用带种子的伪随机数生成器从 $\\{1,2,3\\}$ 的排列中均匀随机生成一个排列 $\\pi_t$。b. 计算下一个状态 $x(t+1) = F_{\\pi_t}(x(t))$。c. 如果 $x(t+1)$ 之前在步骤 $k = \\text{history}[x(t+1)]$ 出现过，则找到了一个长度为 $L = (t+1) - k$ 的环。记录此长度，并终止对该初始状态的处理。d. 否则，记录新状态：`history[x(t+1)] = t+1`。\n4. 如果在 $T=30$ 步内未找到环，则不为该初始状态记录长度。\n5. 该机制的最终结果是，从所有 $8$ 个初始状态中找到的、已排序的、不重复的吸引子长度列表。\n\n实现将精确遵循这些步骤来计算所需的吸引子长度列表。跨机制的结果比较表明，更新方案在塑造网络长期行为方面起着关键作用，异步更新倾向于消除同步情况下存在的环。", "answer": "$$\\boxed{\\texttt{[[1, 2], [1], [1], [1]]}}$$", "id": "3292480"}]}