{"hands_on_practices": [{"introduction": "在隐私保护的联邦学习中，一个核心操作是在服务器端聚合来自多个客户端的带噪数据。这个练习将带你从第一性原理出发，推导一个关键的统计特性：证明通过简单平均局部带噪梯度得到的聚合梯度，是真实平均梯度的无偏估计量。通过计算该估计量的方差，你将亲手验证“聚合降噪”这一基本原则，这是理解隐私与效用权衡的第一步。[@problem_id:3468479]", "problem": "考虑一个包含 $m$ 个客户端的压缩感知和稀疏优化中的联邦稀疏优化设置。每个客户端 $i \\in \\{1,\\dots,m\\}$ 持有一个 $d$ 维梯度向量 $g_{i} \\in \\mathbb{R}^{d}$，该向量是 $k$-稀疏的，意味着它最多有 $k$ 个非零坐标，其中 $1 \\leq k \\leq d$。为确保本地隐私，每个客户端向服务器报告一个本地扰动梯度 $\\tilde{g}_{i} = g_{i} + \\eta_{i}$，其中 $\\eta_{i} \\in \\mathbb{R}^{d}$ 是一个加性噪声向量，其在各客户端和各坐标之间独立抽取，服从分布 $\\mathcal{N}(0, s^{2} I_{d})$（均值为零、协方差为 $s^{2} I_{d}$ 的高斯分布）。假设噪声尺度 $s > 0$ 对服务器已知，并根据差分隐私（DP）规范选择，但服务器无法访问真实的 $g_{i}$。\n\n服务器旨在从收到的扰动报告 $\\{\\tilde{g}_{i}\\}_{i=1}^{m}$ 中估计真实的聚合平均梯度 $\\bar{g} = \\frac{1}{m} \\sum_{i=1}^{m} g_{i}$。从期望和方差的基本定义出发，并利用以下两个经过充分检验的性质：(i) 期望是线性的，以及 (ii) 独立随机变量之和的方差等于其方差之和，推导一个仅用 $\\{\\tilde{g}_{i}\\}_{i=1}^{m}$ 表示的 $\\bar{g}$ 的无偏估计量，并计算该估计量的每坐标方差，将其表示为本地噪声尺度 $s$ 和客户端数量 $m$ 的闭式函数。\n\n将最终答案表示为闭式解析表达式。无需四舍五入。不涉及物理单位。如果提供多个最终表达式，请将它们以单行矩阵的形式一起呈现。", "solution": "在尝试提供解决方案之前，需对问题陈述进行验证。\n\n### 步骤1：提取已知条件\n-   客户端数量：$m$\n-   客户端索引：$i \\in \\{1, \\dots, m\\}$\n-   客户端 $i$ 的真实梯度：$g_i \\in \\mathbb{R}^d$\n-   $g_i$ 的稀疏性：$k$-稀疏，最多有 $k$ 个非零坐标，其中 $1 \\leq k \\leq d$\n-   客户端 $i$ 报告的扰动梯度：$\\tilde{g}_i = g_i + \\eta_i$\n-   客户端 $i$ 的噪声向量：$\\eta_i \\in \\mathbb{R}^d$\n-   噪声分布：$\\eta_i$ 在各客户端和各坐标之间独立抽取，服从分布 $\\eta_i \\sim \\mathcal{N}(0, s^2 I_d)$，其中 $I_d$ 是 $d \\times d$ 的单位矩阵。这意味着 $\\mathbb{E}[\\eta_i] = 0$，协方差矩阵为 $\\text{Cov}(\\eta_i) = s^2 I_d$。分量 $(\\eta_i)_j$ 对于 $j \\in \\{1, \\dots, d\\}$ 是独立同分布的 $\\mathcal{N}(0, s^2)$。\n-   噪声尺度：$s > 0$\n-   服务器的目标：估计真实聚合平均梯度 $\\bar{g} = \\frac{1}{m} \\sum_{i=1}^{m} g_i$。\n-   任务1：推导一个仅使用 $\\{\\tilde{g}_i\\}_{i=1}^{m}$ 的 $\\bar{g}$ 的无偏估计量。\n-   任务2：计算此估计量的每坐标方差，作为 $s$ 和 $m$ 的函数。\n-   推导约束：必须使用期望和方差的基本定义、期望的线性性以及独立随机变量之和的方差性质。\n\n### 步骤2：使用提取的已知条件进行验证\n该问题具有科学依据，是良定且客观的。它描述了联邦学习中的一个典型场景，其中通过高斯机制实现本地差分隐私。变量、分布和目标都以数学精度进行了规定。该问题不违反任何科学原理，不基于错误前提，也不包含任何歧义或矛盾。提及 $k$-稀疏性为稀疏优化设定了特定背景，但所提问题涉及带噪平均值的基本统计特性，这些特性可以独立于稀疏属性推导出来。该问题是自洽的，可以根据所提供的信息和原理推导出唯一解。\n\n### 步骤3：结论与行动\n问题有效。将提供解决方案。\n\n### 解答推导\n\n服务器接收到扰动梯度集合 $\\{\\tilde{g}_i\\}_{i=1}^{m}$。对于真实平均梯度 $\\bar{g} = \\frac{1}{m} \\sum_{i=1}^{m} g_i$，一个自然的估计量是这些接收到的扰动梯度的平均值。我们把这个估计量定义为 $\\hat{g}$。\n\n**第1部分：无偏估计量的推导**\n\n设所提出的估计量为 $\\hat{g} = \\frac{1}{m} \\sum_{i=1}^{m} \\tilde{g}_i$。要验证该估计量是无偏的，我们必须证明其期望值 $\\mathbb{E}[\\hat{g}]$ 等于被估计的真实量 $\\bar{g}$。期望是针对噪声向量 $\\{\\eta_i\\}$ 的分布计算的。真实梯度 $\\{g_i\\}$ 被视为固定的确定性量。\n\n我们首先对 $\\hat{g}$ 的表达式应用期望的线性性：\n$$\n\\mathbb{E}[\\hat{g}] = \\mathbb{E}\\left[ \\frac{1}{m} \\sum_{i=1}^{m} \\tilde{g}_i \\right] = \\frac{1}{m} \\sum_{i=1}^{m} \\mathbb{E}[\\tilde{g}_i]\n$$\n接下来，我们计算单个扰动梯度 $\\tilde{g}_i = g_i + \\eta_i$ 的期望。再次使用期望的线性性：\n$$\n\\mathbb{E}[\\tilde{g}_i] = \\mathbb{E}[g_i + \\eta_i] = \\mathbb{E}[g_i] + \\mathbb{E}[\\eta_i]\n$$\n$g_i$ 项是一个确定性向量，因此其期望就是该向量本身：$\\mathbb{E}[g_i] = g_i$。噪声向量 $\\eta_i$ 从零均值高斯分布 $\\mathcal{N}(0, s^2 I_d)$ 中抽取，因此其期望为零向量：$\\mathbb{E}[\\eta_i] = 0$。\n将这些代入 $\\mathbb{E}[\\tilde{g}_i]$ 的表达式中得到：\n$$\n\\mathbb{E}[\\tilde{g}_i] = g_i + 0 = g_i\n$$\n这表明每个单独的扰动梯度 $\\tilde{g}_i$ 是其对应真实梯度 $g_i$ 的无偏估计量。\n\n现在，我们将此结果代回到 $\\mathbb{E}[\\hat{g}]$ 的表达式中：\n$$\n\\mathbb{E}[\\hat{g}] = \\frac{1}{m} \\sum_{i=1}^{m} g_i\n$$\n根据问题陈述中给出的定义，真实聚合平均梯度为 $\\bar{g} = \\frac{1}{m} \\sum_{i=1}^{m} g_i$。因此，我们证明了：\n$$\n\\mathbb{E}[\\hat{g}] = \\bar{g}\n$$\n这证实了估计量 $\\hat{g} = \\frac{1}{m} \\sum_{i=1}^{m} \\tilde{g}_i$ 是 $\\bar{g}$ 的一个无偏估计量。这是我们要求答案的第一部分。\n\n**第2部分：每坐标方差的计算**\n\n我们需要求估计量 $\\hat{g}$ 的每坐标方差。这对应于计算 $\\text{Var}(\\hat{g}_j)$，其中 $j \\in \\{1, \\dots, d\\}$ 是任意坐标，$\\hat{g}_j$ 是向量 $\\hat{g}$ 的第 $j$ 个分量。\n\n估计量的第 $j$ 个分量是：\n$$\n\\hat{g}_j = \\left( \\frac{1}{m} \\sum_{i=1}^{m} \\tilde{g}_i \\right)_j = \\frac{1}{m} \\sum_{i=1}^{m} (\\tilde{g}_i)_j\n$$\n$\\hat{g}_j$ 的方差由下式给出：\n$$\n\\text{Var}(\\hat{g}_j) = \\text{Var}\\left( \\frac{1}{m} \\sum_{i=1}^{m} (\\tilde{g}_i)_j \\right)\n$$\n对于常数 $c$，使用方差性质 $\\text{Var}(c X) = c^2 \\text{Var}(X)$：\n$$\n\\text{Var}(\\hat{g}_j) = \\left(\\frac{1}{m}\\right)^2 \\text{Var}\\left( \\sum_{i=1}^{m} (\\tilde{g}_i)_j \\right) = \\frac{1}{m^2} \\text{Var}\\left( \\sum_{i=1}^{m} (\\tilde{g}_i)_j \\right)\n$$\n求和项中的随机变量是 $(\\tilde{g}_1)_j, (\\tilde{g}_2)_j, \\dots, (\\tilde{g}_m)_j$。噪声向量 $\\eta_i$ 在不同客户端 $i$ 之间是独立的。由于 $\\tilde{g}_i = g_i + \\eta_i$，$\\tilde{g}_i$ 的随机性完全来自 $\\eta_i$。因此，随机变量 $\\tilde{g}_i$ 对于不同的客户端 $i$ 是独立的。这意味着它们的分量 $(\\tilde{g}_i)_j$ 在 $i$ 之间也是独立的。\n\n根据独立随机变量之和的方差等于其方差之和的性质：\n$$\n\\text{Var}\\left( \\sum_{i=1}^{m} (\\tilde{g}_i)_j \\right) = \\sum_{i=1}^{m} \\text{Var}\\left( (\\tilde{g}_i)_j \\right)\n$$\n现在我们必须计算单个分量的方差 $\\text{Var}((\\tilde{g}_i)_j)$。我们有 $(\\tilde{g}_i)_j = (g_i)_j + (\\eta_i)_j$。由于 $(g_i)_j$ 是一个常数，它对方差没有贡献（即 $\\text{Var}(X+c) = \\text{Var}(X)$）。\n$$\n\\text{Var}\\left( (\\tilde{g}_i)_j \\right) = \\text{Var}\\left( (g_i)_j + (\\eta_i)_j \\right) = \\text{Var}\\left( (\\eta_i)_j \\right)\n$$\n噪声向量 $\\eta_i$ 从 $\\mathcal{N}(0, s^2 I_d)$ 中抽取，这意味着它的每个分量 $(\\eta_i)_j$ 都是从一维高斯分布 $\\mathcal{N}(0, s^2)$ 中抽取的独立随机变量。根据定义，该分布的方差是 $s^2$。\n$$\n\\text{Var}\\left( (\\eta_i)_j \\right) = s^2\n$$\n这对于任何客户端 $i$ 和任何坐标 $j$ 都成立。将此代回到方差之和中：\n$$\n\\sum_{i=1}^{m} \\text{Var}\\left( (\\tilde{g}_i)_j \\right) = \\sum_{i=1}^{m} s^2 = m s^2\n$$\n最后，将此结果代入我们关于 $\\text{Var}(\\hat{g}_j)$ 的表达式中：\n$$\n\\text{Var}(\\hat{g}_j) = \\frac{1}{m^2} (m s^2) = \\frac{s^2}{m}\n$$\n这是估计量 $\\hat{g}$ 的每坐标方差。它是一个关于噪声尺度 $s$ 和客户端数量 $m$ 的函数，符合要求。\n\n最终答案由无偏估计量的表达式及其每坐标方差组成。", "answer": "$$\n\\boxed{\\begin{pmatrix} \\frac{1}{m} \\sum_{i=1}^{m} \\tilde{g}_{i}  \\frac{s^2}{m} \\end{pmatrix}}\n$$", "id": "3468479"}, {"introduction": "差分隐私机制引入的噪声会直接影响稀疏优化算法的性能，尤其是在特征选择方面。这个练习构建了一个联邦稀疏线性回归的场景，要求你量化隐私噪声对Lasso模型假发现率（FDR）的影响，并据此推导出能够平衡测量噪声和隐私噪声的最小正则化参数 $\\lambda$。通过这个实践，你将学会如何在保证隐私的同时，对算法的关键超参数进行调整以维持其统计有效性。[@problem_id:3468478]", "problem": "考虑一个联邦稀疏线性回归设置，其中有 $K$ 个客户端，每个客户端持有 $n/K$ 个样本，因此总样本数为 $n$。全局设计矩阵有 $p$ 列，在联邦层面上是标准正交的，即 $X^{\\top}X = n I_{p}$。响应向量由稀疏线性模型 $y = X\\beta + \\varepsilon$ 生成，其中噪声满足 $\\varepsilon \\sim \\mathcal{N}(0, \\sigma^{2} I_{n})$，$\\beta$ 的支撑集大小为 $m_{1}$；其余 $m_{0} = p - m_{1}$ 个系数恰好为零。每个客户端 $k \\in \\{1, \\dots, K\\}$ 计算其局部相关性统计量 $s^{(k)} = {X^{(k)}}^{\\top}y^{(k)}/(n/K)$，并应用差分隐私（DP）的高斯机制，向 $s^{(k)}$ 添加独立噪声 $\\eta^{(k)} \\sim \\mathcal{N}(0, \\sigma_{\\mathrm{DP}}^{2} I_{p})$。服务器对私有化的局部统计量进行平均，以获得联邦聚合结果\n$$\n\\bar{s} = \\frac{1}{K}\\sum_{k=1}^{K}\\left(s^{(k)} + \\eta^{(k)}\\right).\n$$\n将最小绝对收缩和选择算子（Lasso）估计量定义为以下目标的优化器\n$$\n\\min_{w \\in \\mathbb{R}^{p}} \\; \\frac{1}{2n}\\|y - X w\\|_{2}^{2} + \\lambda \\|w\\|_{1}.\n$$\n在标准正交设计假设下，Lasso 当且仅当 $|\\bar{s}_{j}|  \\lambda$ 时，将特征 $j$ 选入模型。对于 $\\beta_{j} = 0$ 的零坐标 $j$，$\\bar{s}_{j}$ 是一个零均值高斯随机变量，其方差是联邦测量噪声和聚合的 DP 噪声之和，\n$$\n\\sigma_{\\mathrm{eff}}^{2} = \\frac{\\sigma^{2}}{n} + \\frac{\\sigma_{\\mathrm{DP}}^{2}}{K}.\n$$\n将错误发现率（FDR）定义为 $\\mathrm{FDR} = \\mathbb{E}[V/R]$，其中 $V$ 是被选中的零坐标数量，$R$ 是被选中的坐标总数。在真实支撑集的强信号机制下（即信号充分分离，以至于所有 $m_{1}$ 个真实坐标都被选中，而假阴性可以忽略不计），预期的选择总数为 $m_{1} + \\mathbb{E}[V]$。指定一个目标 FDR 水平 $\\bar{q}$，其中 $\\bar{q} \\in \\left(0, \\frac{m_{0}}{m_{0}+m_{1}}\\right]$。使用标准正态累积分布函数 $\\Phi$ 及其逆函数 $\\Phi^{-1}$，计算最小阈值 $\\lambda$ 的闭式表达式，该表达式以 $\\sigma$、$\\sigma_{\\mathrm{DP}}$、$n$、$K$、$m_{0}$、$m_{1}$ 和 $\\bar{q}$ 表示，并确保 FDR 至多为 $\\bar{q}$。将您的最终答案表示为关于 $\\Phi$ 和 $\\Phi^{-1}$ 的单个解析表达式，不进行任何数值近似。", "solution": "用户希望在一个联邦稀疏线性回归问题中，找到用于特征选择的最小阈值 $\\lambda$，以确保错误发现率（FDR）至多为目标水平 $\\bar{q}$。\n\n该问题被认为是有效的，因为它以统计学、联邦学习和差分隐私的既定原则为科学依据。该问题是适定的、自洽的且客观的，可以通过严谨的数学推导得出一个唯一的、有意义的解。\n\n让我们开始推导。\n特征 $j$ 的选择规则由 $|\\bar{s}_{j}|  \\lambda$ 给出，其中 $\\bar{s}_{j}$ 是聚合相关性统计量的第 $j$ 个分量。\n对于一个零坐标 $j$（其中真实系数 $\\beta_{j}$ 为 $0$），统计量 $\\bar{s}_{j}$ 是一个零均值高斯随机变量，其方差为 $\\sigma_{\\mathrm{eff}}^{2}$。\n$$\n\\bar{s}_{j} \\sim \\mathcal{N}(0, \\sigma_{\\mathrm{eff}}^{2}) \\quad \\text{for} \\quad \\beta_{j}=0\n$$\n其中有效方差 $\\sigma_{\\mathrm{eff}}^{2}$ 由下式给出\n$$\n\\sigma_{\\mathrm{eff}}^{2} = \\frac{\\sigma^{2}}{n} + \\frac{\\sigma_{\\mathrm{DP}}^{2}}{K}\n$$\n当一个零坐标被选中时，就会发生错误发现。对于一个零坐标 $j$，单次错误发现的概率是 $P(|\\bar{s}_{j}|  \\lambda)$。为了计算这个概率，我们可以将 $\\bar{s}_{j}$ 标准化为一个标准正态变量 $Z_{j} = \\bar{s}_{j}/\\sigma_{\\mathrm{eff}}$，其中 $Z_{j} \\sim \\mathcal{N}(0, 1)$。\n$$\nP(|\\bar{s}_{j}|  \\lambda) = P\\left(\\left|\\frac{\\bar{s}_{j}}{\\sigma_{\\mathrm{eff}}}\\right|  \\frac{\\lambda}{\\sigma_{\\mathrm{eff}}}\\right) = P\\left(|Z_{j}|  \\frac{\\lambda}{\\sigma_{\\mathrm{eff}}}\\right)\n$$\n使用标准正态分布的累积分布函数（CDF）$\\Phi(z) = P(Z \\le z)$，这个概率可以写成：\n$$\nP\\left(|Z_{j}|  \\frac{\\lambda}{\\sigma_{\\mathrm{eff}}}\\right) = P\\left(Z_{j} > \\frac{\\lambda}{\\sigma_{\\mathrm{eff}}}\\right) + P\\left(Z_{j}  -\\frac{\\lambda}{\\sigma_{\\mathrm{eff}}}\\right) = 2 \\cdot P\\left(Z_{j} > \\frac{\\lambda}{\\sigma_{\\mathrm{eff}}}\\right) = 2 \\left(1 - \\Phi\\left(\\frac{\\lambda}{\\sigma_{\\mathrm{eff}}}\\right)\\right)\n$$\n设 $V$ 为错误发现的数量（被选中的零坐标数）。总共有 $m_{0}$ 个零坐标。由于零坐标的统计量 $\\bar{s}_{j}$ 是独立同分布的，错误发现的期望数量 $\\mathbb{E}[V]$ 是每个零坐标被选中的概率之和：\n$$\n\\mathbb{E}[V] = \\sum_{j:\\beta_j=0} P(|\\bar{s}_{j}|  \\lambda) = m_{0} \\cdot P(|\\bar{s}_{j}|  \\lambda) = 2m_{0}\\left(1 - \\Phi\\left(\\frac{\\lambda}{\\sigma_{\\mathrm{eff}}}\\right)\\right)\n$$\n问题将错误发现率定义为 $\\mathrm{FDR} = \\mathbb{E}[V/R]$，其中 $R$ 是被选中的坐标总数。在强信号机制下，所有 $m_{1}$ 个真实坐标都被选中，因此 $R = m_{1} + V$。问题陈述暗示使用了常用近似 $\\mathrm{FDR} \\approx \\frac{\\mathbb{E}[V]}{\\mathbb{E}[R]}$。由于 $\\mathbb{E}[R] = \\mathbb{E}[m_{1} + V] = m_{1} + \\mathbb{E}[V]$，将 FDR 控制在水平 $\\bar{q}$ 的条件是：\n$$\n\\frac{\\mathbb{E}[V]}{m_{1} + \\mathbb{E}[V]} \\le \\bar{q}\n$$\n我们想要找到满足此条件的最小 $\\lambda$。较小的 $\\lambda$ 会导致较大的 $\\mathbb{E}[V]$。不等式的左侧是关于 $\\mathbb{E}[V]$ 的增函数。因此，为了找到最小的 $\\lambda$，我们应该求解不等式取等号的情况，这对应于 $\\mathbb{E}[V]$ 的最大允许值。\n$$\n\\frac{\\mathbb{E}[V]}{m_{1} + \\mathbb{E}[V]} = \\bar{q}\n$$\n求解 $\\mathbb{E}[V]$：\n$$\n\\mathbb{E}[V] = \\bar{q}(m_{1} + \\mathbb{E}[V])\n$$\n$$\n\\mathbb{E}[V] - \\bar{q}\\mathbb{E}[V] = \\bar{q}m_{1}\n$$\n$$\n\\mathbb{E}[V](1 - \\bar{q}) = \\bar{q}m_{1}\n$$\n$$\n\\mathbb{E}[V] = \\frac{\\bar{q}m_{1}}{1 - \\bar{q}}\n$$\n现在，我们将 $\\mathbb{E}[V]$ 关于 $\\lambda$ 的表达式代入：\n$$\n2m_{0}\\left(1 - \\Phi\\left(\\frac{\\lambda}{\\sigma_{\\mathrm{eff}}}\\right)\\right) = \\frac{\\bar{q}m_{1}}{1 - \\bar{q}}\n$$\n我们继续求解 $\\lambda$。首先，分离出包含 CDF 的项：\n$$\n1 - \\Phi\\left(\\frac{\\lambda}{\\sigma_{\\mathrm{eff}}}\\right) = \\frac{\\bar{q}m_{1}}{2m_{0}(1 - \\bar{q})}\n$$\n$$\n\\Phi\\left(\\frac{\\lambda}{\\sigma_{\\mathrm{eff}}}\\right) = 1 - \\frac{\\bar{q}m_{1}}{2m_{0}(1 - \\bar{q})}\n$$\n应用正态分布的逆累积分布函数 $\\Phi^{-1}$：\n$$\n\\frac{\\lambda}{\\sigma_{\\mathrm{eff}}} = \\Phi^{-1}\\left(1 - \\frac{\\bar{q}m_{1}}{2m_{0}(1 - \\bar{q})}\\right)\n$$\n最后，我们求解 $\\lambda$ 并代入 $\\sigma_{\\mathrm{eff}}$ 的表达式：\n$$\n\\lambda = \\sigma_{\\mathrm{eff}} \\cdot \\Phi^{-1}\\left(1 - \\frac{\\bar{q}m_{1}}{2m_{0}(1 - \\bar{q})}\\right)\n$$\n$$\n\\lambda = \\sqrt{\\frac{\\sigma^{2}}{n} + \\frac{\\sigma_{\\mathrm{DP}}^{2}}{K}} \\cdot \\Phi^{-1}\\left(1 - \\frac{\\bar{q}m_{1}}{2m_{0}(1 - \\bar{q})}\\right)\n$$\n这是在给定假设下，确保 FDR 至多为 $\\bar{q}$ 的 $\\lambda$ 的最小值。", "answer": "$$\n\\boxed{\\sqrt{\\frac{\\sigma^{2}}{n} + \\frac{\\sigma_{\\mathrm{DP}}^{2}}{K}} \\Phi^{-1}\\left(1 - \\frac{\\bar{q} m_{1}}{2 m_{0} (1 - \\bar{q})}\\right)}\n$$", "id": "3468478"}, {"introduction": "优化算法的收敛监控是其实际应用中的一个重要环节，但在隐私保护的设定下，这一环节也可能被噪声干扰。本练习探讨了一个常见问题：当客户端使用拉普拉斯机制来私有化其报告的对偶间隙时，算法可能会因噪声而提前终止。你将需要推导在这种情况下发生“过早收敛”的概率，从而深刻理解差分隐私噪声如何影响算法的动态行为和控制流程。[@problem_id:3468480]", "problem": "考虑一个由 $m$ 个客户端协同求解的联邦凸稀疏优化问题（例如，一个 $\\ell_{1}$-正则化最小二乘目标）。在某次迭代中，客户端 $i \\in \\{1,\\dots,m\\}$ 持有一个原始-对偶对，该对产生一个局部对偶间隙 $g_{i} \\geq 0$，其中对偶间隙是在当前原始-对偶对上评估的原始目标值与对偶目标值之差。一个中央协调器通过基于客户端报告的对偶间隙的停止规则来监控收敛性。\n\n为保护客户端数据，每个客户端使用拉普拉斯机制应用差分隐私 (DP)。具体来说，每个客户端 $i$ 发布一个私有化间隙 $\\tilde{g}_{i} = g_{i} + Z_{i}$，其中 $Z_{i}$ 是独立同分布的拉普拉斯随机变量，均值为 $0$，尺度为 $b = \\Delta_{g} / \\epsilon$。这里，$\\Delta_{g}  0$ 是对偶间隙相对于客户端单个数据记录变化的 $\\ell_{1}$-敏感度的一个已知的全局上界，而 $\\epsilon  0$ 是隐私预算。尺度为 $b = \\Delta_{g} / \\epsilon$ 的拉普拉斯机制保证了发布每个 $g_{i}$ 时满足 $\\epsilon$-DP。\n\n协调器使用的停止规则是，当且仅当 $\\min_{1 \\leq i \\leq m} \\tilde{g}_{i} \\leq \\tau$ 时，算法在本次迭代终止，其中 $\\tau  0$ 是一个固定的容差。假设真实状态是严格未收敛的，即对于所有 $i \\in \\{1,\\dots,m\\}$，都有 $g_{i}  \\tau$。\n\n从差分隐私的基本定义和拉普拉斯机制的分布出发，推导协调器仅因 DP 噪声而在此次迭代中提前终止的概率的闭式表达式。你的最终表达式必须是仅包含 $\\{g_{i}\\}_{i=1}^{m}$、$\\tau$、$\\epsilon$ 和 $\\Delta_{g}$ 的单个解析表达式。\n\n将你的最终答案表述为单个闭式解析表达式。不需要数值近似，也不涉及单位。", "solution": "首先验证问题陈述的科学合理性、自洽性和清晰度。\n\n### 步骤 1：提取已知条件\n-   客户端数量：$m \\in \\mathbb{Z}^{+}$。\n-   客户端 $i$ 的局部对偶间隙：$g_{i} \\geq 0$，$i \\in \\{1, \\dots, m\\}$。\n-   私有化机制：来自拉普拉斯分布的加性噪声。\n-   客户端 $i$ 的私有化对偶间隙：$\\tilde{g}_{i} = g_{i} + Z_{i}$。\n-   噪声分布：$Z_{i}$ 是独立同分布 (i.i.d.) 的随机变量，$Z_{i} \\sim \\text{Laplace}(0, b)$。\n-   拉普拉斯尺度参数：$b = \\Delta_{g} / \\epsilon$。\n-   敏感度：$\\Delta_{g}  0$。\n-   隐私预算：$\\epsilon  0$。\n-   终止条件（停止规则）：$\\min_{1 \\leq i \\leq m} \\tilde{g}_{i} \\leq \\tau$。\n-   终止容差：$\\tau  0$。\n-   对真实状态的假设：对于所有 $i \\in \\{1, \\dots, m\\}$，$g_{i}  \\tau$。\n-   目标：推导提前终止概率 $P(\\min_{1 \\leq i \\leq m} \\tilde{g}_{i} \\leq \\tau)$ 的闭式表达式，用 $\\{g_{i}\\}_{i=1}^{m}$、$\\tau$、$\\epsilon$ 和 $\\Delta_{g}$ 表示。\n\n### 步骤 2：使用提取的已知条件进行验证\n该问题在隐私保护机器学习和凸优化的背景下定义良好。\n-   **科学依据**：该问题使用了标准概念：优化中的对偶间隙、联邦学习结构以及用于实现 $\\epsilon$-差分隐私的拉普拉斯机制。这些都是已确立的主流课题。\n-   **适定性**：所有变量、分布和条件都已明确定义，从而构成一个概率论中唯一可解的问题。目标陈述清晰。\n-   **客观性**：语言正式且无歧义。问题不含主观论断。\n-   **完整性**：问题提供了所有必要信息。条件 $g_{i}  \\tau$ 是关键的，并已明确陈述，确保了终止确实是“提前”的（即，若无隐私噪声则不会发生）。\n\n### 步骤 3：结论与行动\n该问题被认为是**有效的**。将提供完整解答。\n\n### 解题推导\n目标是计算提前终止的概率，即尽管真实的对偶间隙均高于容差 $\\tau$，算法仍然停止的事件。将此事件记为 $A$。终止的条件是 $\\min_{1 \\leq i \\leq m} \\tilde{g}_{i} \\leq \\tau$。因此，我们要计算 $P(A) = P(\\min_{1 \\leq i \\leq m} \\tilde{g}_{i} \\leq \\tau)$。\n\n计算其对立事件 $A^c$ 的概率通常更简单，然后使用关系式 $P(A) = 1 - P(A^c)$。对立事件 $A^c$ 是算法不终止，即 $\\min_{1 \\leq i \\leq m} \\tilde{g}_{i}  \\tau$。这等价于对于所有客户端 $i=1, \\dots, m$，都有 $\\tilde{g}_{i}  \\tau$。\n$$\nP(A^c) = P(\\tilde{g}_{1}  \\tau \\text{ and } \\tilde{g}_{2}  \\tau \\text{ and } \\dots \\text{ and } \\tilde{g}_{m}  \\tau)\n$$\n私有化间隙定义为 $\\tilde{g}_{i} = g_{i} + Z_{i}$。由于在给定的迭代中，真实间隙 $g_{i}$ 是确定性值，而噪声项 $Z_{i}$ 是独立的随机变量，因此私有化间隙 $\\tilde{g}_{i}$ 也是独立的随机变量。\n由于这种独立性，联合概率是各个概率的乘积：\n$$\nP(A^c) = \\prod_{i=1}^{m} P(\\tilde{g}_{i}  \\tau)\n$$\n现在，我们必须求出单个客户端 $i$ 的概率 $P(\\tilde{g}_{i}  \\tau)$。\n$$\nP(\\tilde{g}_{i}  \\tau) = P(g_{i} + Z_{i}  \\tau) = P(Z_{i}  \\tau - g_{i})\n$$\n随机变量 $Z_{i}$ 服从均值为 $0$、尺度为 $b$ 的拉普拉斯分布，记作 $Z_{i} \\sim \\text{Laplace}(0, b)$。$Z_{i}$ 的概率密度函数 (PDF) 由下式给出：\n$$\nf_{Z_i}(z) = \\frac{1}{2b} \\exp\\left(-\\frac{|z|}{b}\\right)\n$$\n为求 $P(Z_{i}  \\tau - g_{i})$，我们可以使用累积分布函数 (CDF)，$F_{Z_i}(x) = P(Z_{i} \\leq x)$。拉普拉斯分布的 CDF 为：\n$$\nF_{Z_i}(x) = \\int_{-\\infty}^{x} f_{Z_i}(z) dz = \\begin{cases} \\frac{1}{2} \\exp\\left(\\frac{x}{b}\\right)  \\text{if } x  0 \\\\ 1 - \\frac{1}{2} \\exp\\left(-\\frac{x}{b}\\right)  \\text{if } x \\geq 0 \\end{cases}\n$$\n我们需要的概率是 $P(Z_{i}  \\tau - g_{i}) = 1 - P(Z_{i} \\leq \\tau - g_{i}) = 1 - F_{Z_i}(\\tau - g_{i})$。\n\n根据问题陈述，我们假设对于所有 $i$，$g_{i}  \\tau$。这意味着 CDF 的自变量 $\\tau - g_{i}$ 是负数。因此，我们必须使用 CDF 公式的第一种情况：\n$$\nP(Z_{i} \\leq \\tau - g_{i}) = F_{Z_i}(\\tau - g_{i}) = \\frac{1}{2} \\exp\\left(\\frac{\\tau - g_{i}}{b}\\right) \\quad (\\text{since } \\tau - g_{i}  0)\n$$\n将此代回，我们得到单个客户端的概率：\n$$\nP(\\tilde{g}_{i}  \\tau) = 1 - \\frac{1}{2} \\exp\\left(\\frac{\\tau - g_{i}}{b}\\right)\n$$\n现在我们可以通过对所有 $m$ 个客户端求积来计算对立事件 $A^c$ 的概率：\n$$\nP(A^c) = \\prod_{i=1}^{m} \\left(1 - \\frac{1}{2} \\exp\\left(\\frac{\\tau - g_{i}}{b}\\right)\\right)\n$$\n最后，提前终止的概率 $P(A)$ 是 $1 - P(A^c)$：\n$$\nP(A) = 1 - \\prod_{i=1}^{m} \\left(1 - \\frac{1}{2} \\exp\\left(\\frac{\\tau - g_{i}}{b}\\right)\\right)\n$$\n最后一步是代入尺度参数 $b = \\Delta_{g} / \\epsilon$ 的给定表达式。\n$$\n\\frac{\\tau - g_{i}}{b} = \\frac{\\tau - g_{i}}{\\Delta_{g} / \\epsilon} = \\frac{\\epsilon (\\tau - g_{i})}{\\Delta_{g}}\n$$\n这就得出了用指定参数表示的提前终止概率的最终闭式表达式：\n$$\nP(A) = 1 - \\prod_{i=1}^{m} \\left(1 - \\frac{1}{2} \\exp\\left(\\frac{\\epsilon(\\tau - g_{i})}{\\Delta_{g}}\\right)\\right)\n$$\n该表达式捕捉了在所有真实间隙 $g_i$ 均严格大于 $\\tau$ 的情况下，至少有一个客户端报告的私有化间隙 $\\tilde{g}_i$ 小于或等于容差 $\\tau$ 而触发终止的概率。", "answer": "$$\\boxed{1 - \\prod_{i=1}^{m} \\left(1 - \\frac{1}{2} \\exp\\left(\\frac{\\epsilon(\\tau - g_{i})}{\\Delta_{g}}\\right)\\right)}$$", "id": "3468480"}]}