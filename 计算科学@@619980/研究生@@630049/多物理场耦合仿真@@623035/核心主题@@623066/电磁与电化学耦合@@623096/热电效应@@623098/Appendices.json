{"hands_on_practices": [{"introduction": "实践始于对基本原理的掌握。本练习将带您回顾热电效应的理论基石——Kelvin 关系，它源于不可逆过程热力学。通过从一个经验形式的 Seebeck 系数 $S(T)$ 推导相应的 Thomson 系数 $\\tau(T)$，您将加深对不同热电现象内在联系的理解，为后续更复杂的物理建模打下坚实基础。[@problem_id:1196625]", "problem": "在热电现象的研究中，主要考虑三种效应：塞贝克（Seebeck）效应、帕尔贴（Peltier）效应和汤姆孙（Thomson）效应。这些效应通过开尔文（Kelvin）（或昂萨格 (Onsager)）关系式相互关联，这些关系式是热力学原理的结果。\n\n塞贝克效应描述了在存在温度梯度的材料中产生电压的现象。塞贝克系数 $S(T)$ 用于量化在给定绝对温度 $T$ 下的这种效应。\n\n汤姆孙效应描述了当电流流过一个同时存在温度梯度的导体时，发生的可逆放热或吸热现象。汤姆孙系数 $\\tau(T)$ 定义为单位电荷在单位温度变化下吸收或释放的热量。\n\n第二开尔文关系式提供了塞贝克系数和汤姆孙系数之间的直接联系：\n$$\n\\tau(T) = T \\frac{dS(T)}{dT}\n$$\n\n考虑一种特定的金属，在低温下，其塞贝克系数可以由以下经验公式精确描述：\n$$\nS(T) = aT + bT^3\n$$\n在此，$a$ 和 $b$ 是与材料相关的常数。线性项通常源于载流子的扩散，而三次项通常与声子拖拽效应有关。\n\n根据给定的塞贝克系数形式，确定该金属对应的汤姆孙系数 $\\tau(T)$。", "solution": "问题要求在给定塞贝克系数 $S(T)$ 的情况下，求出汤姆孙系数 $\\tau(T)$。这两个系数之间的关系由第二开尔文关系式给出。\n\n出发点是第二开尔文关系式：\n$$\n\\tau(T) = T \\frac{dS(T)}{dT}\n$$\n\n该金属的塞贝克系数由下式给出：\n$$\nS(T) = aT + bT^3\n$$\n其中 $a$ 和 $b$ 是常数。\n\n第一步是计算 $S(T)$ 对绝对温度 $T$ 的导数。我们使用幂函数求导法则，$\\frac{d}{dx}(cx^n) = cnx^{n-1}$。\n$$\n\\frac{dS}{dT} = \\frac{d}{dT}(aT + bT^3)\n$$\n将该法则分别应用于每一项：\n$$\n\\frac{dS}{dT} = a \\frac{d}{dT}(T^1) + b \\frac{d}{dT}(T^3)\n$$\n$$\n\\frac{dS}{dT} = a(1 \\cdot T^{1-1}) + b(3 \\cdot T^{3-1})\n$$\n$$\n\\frac{dS}{dT} = a(T^0) + b(3T^2)\n$$\n由于 $T^0 = 1$，导数简化为：\n$$\n\\frac{dS}{dT} = a + 3bT^2\n$$\n\n现在，我们将这个导数表达式代回第二开尔文关系式：\n$$\n\\tau(T) = T \\left( \\frac{dS}{dT} \\right)\n$$\n$$\n\\tau(T) = T (a + 3bT^2)\n$$\n\n最后，我们将因子 $T$ 分配进去，得到汤姆孙系数的最终表达式：\n$$\n\\tau(T) = aT + 3bT^3\n$$\n该表达式给出了给定金属的汤姆孙系数随温度变化的函数关系。", "answer": "$$\n\\boxed{aT + 3bT^3}\n$$", "id": "1196625"}, {"introduction": "从理论基础转向实际应用，我们来关注器件中至关重要的部分——界面。本练习要求您从第一性原理出发，推导并实现一个描述金属-热电材料界面温跃的模型，该模型需要同时耦合 Peltier 效应、Joule 热以及接触电阻等多种物理效应。掌握界面建模是精确仿真热电器件性能、分析能量转换效率的关键一步。[@problem_id:3529907]", "problem": "考虑一个一维稳态的金属与热电 (TE) 材料之间的结，该结被建模为一个无限薄的界面。任务是推导、实现并验证一个物理上一致的表达式，用于描述由于耦合热电效应以及接触电阻和热阻导致的界面温差。推导必须从能量守恒和标准热电定义出发，而实现必须基于推导出的关系，不得引用任何未经证明的简化公式。所有量都必须使用明确的单位并符合科学现实。\n\n使用的基本原理和定义：\n- 在一个无限薄的界面上，能量守恒意味着单位面积的净界面产热等于穿过界面的法向热通量的不连续性。在一维稳态下，这与一个与温跃成正比的界面热流相平衡。\n- Fourier 热传导定律将热通量与温度梯度联系起来，但在由界面热导所代表的接触界面上，温跃与界面热流成正比。\n- Seebeck 效应指出，具有 Seebeck 系数 $S$ 的材料会产生一个与温差成正比的电动势；相关的 Peltier 系数通过 $\\Pi = S T$ 关联，其中 $T$ 是绝对温度。\n- Peltier 效应描述了与电流和 Peltier 系数成正比的界面加热或冷却现象。\n- 界面上的接触电阻会产生局域于界面的 Joule 热。\n- Thomson 效应是一种与 $T \\,\\mathrm{d}S/\\mathrm{d}T$ 成正比的分布式体效应，在理想化的无限薄界面上不作为奇异源贡献；因此，在该模型的界面跃变平衡中被排除。\n\n界面模型和变量：\n- 设 $J$ 为从金属流向热电材料的电流密度，单位为 $\\mathrm{A/m^{2}}$。\n- 设 $S_{c}$ 为表征金属/热电材料结的有效接触 Seebeck 系数，单位为 $\\mathrm{V/K}$。\n- 设 $\\Pi_{c}$ 为有效界面 Peltier 系数，单位为 $\\mathrm{V}$。\n- 设 $R_{c}''$ 为单位面积的接触电阻，单位为 $\\Omega\\cdot \\mathrm{m^{2}}$。\n- 设 $G_{c}$ 为界面热导，单位为 $\\mathrm{W/(m^{2}\\cdot K)}$。\n- 设 $T_{0}$ 为界面附近已知的绝对工作温度，单位为 $\\mathrm{K}$。\n- 设 $\\beta$ 为 $(0,1)$ 范围内的无量纲分配因子，表示温跃中用于评估 $\\Pi_{c}$ 的那部分对局部界面温度的贡献，即近似式 $T_{\\mathrm{int}} \\approx T_{0} + \\beta\\,\\Delta T$，这与进入两个具有可比电导率的相邻介质的一维稳态传导相一致。\n\n您的程序必须实现以下从第一性原理推导出的任务：\n1. 从界面能量守恒和上述定义出发，将单位面积的界面产热表示为界面 Peltier 热和界面 Joule 热之和，然后推导出一个代数关系，用 $J$、$S_{c}$、$R_{c}''$、$G_{c}$、$T_{0}$ 和 $\\beta$ 来确定界面上的温跃 $\\Delta T$。\n2. 根据指定的 $T_{\\mathrm{int}} = T_{0} + \\beta\\,\\Delta T$，计算有效界面 Peltier 系数 $\\Pi_{c} = S_{c}\\,T_{\\mathrm{int}}$。\n3. 求解得到的关于 $\\Delta T$（单位为 K）的代数关系。\n\n验证要求：\n- 对于每个测试用例，计算您推导的关系所预测的理论 $\\Delta T$，并将其与提供的测量温跃 $\\Delta T_{\\mathrm{meas}}$（单位为 K）进行比较。\n- 通过检查绝对差值是否小于或等于指定的容差 $\\varepsilon$（单位为 K），来确定预测是否与测量结果一致。\n- 对于每个测试用例，输出一个布尔值：如果 $|\\Delta T - \\Delta T_{\\mathrm{meas}}|\\le \\varepsilon$ 则为 $\\,\\mathrm{True}$，否则为 $\\,\\mathrm{False}$。\n\n单位：\n- $J$ 单位为 $\\mathrm{A/m^{2}}$，\n- $S_{c}$ 单位为 $\\mathrm{V/K}$，\n- $R_{c}''$ 单位为 $\\Omega\\cdot \\mathrm{m^{2}}$，\n- $G_{c}$ 单位为 $\\mathrm{W/(m^{2}\\cdot K)}$，\n- $T_{0}$ 单位为 $\\mathrm{K}$，\n- $\\Delta T$ 和 $\\Delta T_{\\mathrm{meas}}$ 单位为 $\\mathrm{K}$，\n- $\\varepsilon$ 单位为 $\\mathrm{K}$。\n\n测试套件：\n- 案例 1：$J = 2\\times 10^{6}\\,\\mathrm{A/m^{2}}$，$S_{c} = 5\\times 10^{-6}\\,\\mathrm{V/K}$，$R_{c}'' = 5\\times 10^{-9}\\,\\Omega\\cdot \\mathrm{m^{2}}$，$G_{c} = 2\\times 10^{7}\\,\\mathrm{W/(m^{2}\\cdot K)}$，$T_{0} = 300\\,\\mathrm{K}$，$\\beta = 0.5$，$\\Delta T_{\\mathrm{meas}} = 1.1508\\times 10^{-3}\\,\\mathrm{K}$，$\\varepsilon = 1\\times 10^{-5}\\,\\mathrm{K}$。\n- 案例 2：$J = 1\\times 10^{6}\\,\\mathrm{A/m^{2}}$，$S_{c} = 0\\,\\mathrm{V/K}$，$R_{c}'' = 1\\times 10^{-8}\\,\\Omega\\cdot \\mathrm{m^{2}}$，$G_{c} = 1\\times 10^{6}\\,\\mathrm{W/(m^{2}\\cdot K)}$，$T_{0} = 300\\,\\mathrm{K}$，$\\beta = 0.5$，$\\Delta T_{\\mathrm{meas}} = 1.01\\times 10^{-2}\\,\\mathrm{K}$，$\\varepsilon = 2\\times 10^{-4}\\,\\mathrm{K}$。\n- 案例 3：$J = 3\\times 10^{6}\\,\\mathrm{A/m^{2}}$，$S_{c} = -1\\times 10^{-5}\\,\\mathrm{V/K}$，$R_{c}'' = 0\\,\\Omega\\cdot \\mathrm{m^{2}}$，$G_{c} = 5\\times 10^{7}\\,\\mathrm{W/(m^{2}\\cdot K)}$，$T_{0} = 400\\,\\mathrm{K}$，$\\beta = 0.5$，$\\Delta T_{\\mathrm{meas}} = -2.40001\\times 10^{-4}\\,\\mathrm{K}$，$\\varepsilon = 5\\times 10^{-7}\\,\\mathrm{K}$。\n- 案例 4：$J = 0\\,\\mathrm{A/m^{2}}$，$S_{c} = 1\\times 10^{-5}\\,\\mathrm{V/K}$，$R_{c}'' = 1\\times 10^{-8}\\,\\Omega\\cdot \\mathrm{m^{2}}$，$G_{c} = 1\\times 10^{6}\\,\\mathrm{W/(m^{2}\\cdot K)}$，$T_{0} = 300\\,\\mathrm{K}$，$\\beta = 0.5$，$\\Delta T_{\\mathrm{meas}} = 0\\,\\mathrm{K}$，$\\varepsilon = 1\\times 10^{-12}\\,\\mathrm{K}$。\n- 案例 5：$J = 3\\times 10^{6}\\,\\mathrm{A/m^{2}}$，$S_{c} = 3\\times 10^{-5}\\,\\mathrm{V/K}$，$R_{c}'' = 1\\times 10^{-8}\\,\\Omega\\cdot \\mathrm{m^{2}}$，$G_{c} = 5\\times 10^{6}\\,\\mathrm{W/(m^{2}\\cdot K)}$，$T_{0} = 300\\,\\mathrm{K}$，$\\beta = 0.5$，$\\Delta T_{\\mathrm{meas}} = 2.341\\times 10^{-2}\\,\\mathrm{K}$，$\\varepsilon = 5\\times 10^{-4}\\,\\mathrm{K}$。\n\n最终输出格式：\n您的程序应生成单行输出，其中包含用方括号括起来的逗号分隔的结果列表，例如 $[\\mathrm{True},\\mathrm{False},\\mathrm{True},\\mathrm{True},\\mathrm{False}]$。该列表必须按照上面列出的顺序为每个测试用例包含一个布尔值。", "solution": "该问题要求推导金属-热电界面温跃 $\\Delta T$ 的表达式，并实现该表达式以验证一组测试用例。推导必须基于能量守恒原理和所提供的热电现象定义。\n\n推导过程如下：\n\n1.  **界面能量平衡的公式化**\n    问题指出系统处于稳态。对于一个无限薄的界面，能量守恒原理规定，界面上单位面积的净产热率 $q''_{\\mathrm{gen}}$ 必须等于从界面传导出去的单位面积热量率 $q''_{\\mathrm{removed}}$。这可以表示为：\n    $$q''_{\\mathrm{gen}} = q''_{\\mathrm{removed}}$$\n\n2.  **界面产热 $q''_{\\mathrm{gen}}$ 的建模**\n    根据问题描述，界面产热是两个分量的总和：Peltier 热和界面 Joule 热。\n\n    *   **Peltier 热 ($q''_{\\mathrm{Peltier}}$)**：该效应描述了当电流通过两种不同材料的结时发生的加热或冷却现象。问题将此项定义为与电流密度 $J$ 和有效界面 Peltier 系数 $\\Pi_c$ 成正比。单位面积产生的热量为：\n        $$q''_{\\mathrm{Peltier}} = \\Pi_c J$$\n        需要注意的是，这是一个代数量；其符号决定了是产生热量（加热）还是吸收热量（冷却）。\n\n    *   **Joule 热 ($q''_{\\mathrm{Joule}}$)**：这是由于单位面积的接触电阻 $R_c''$ 引起的电阻热。此项始终是热源，由下式给出：\n        $$q''_{\\mathrm{Joule}} = J^2 R_c''$$\n\n    根据指示，单位面积的总产热是这两项之和：\n    $$q''_{\\mathrm{gen}} = q''_{\\mathrm{Peltier}} + q''_{\\mathrm{Joule}} = \\Pi_c J + J^2 R_c''$$\n\n3.  **散热 $q''_{\\mathrm{removed}}$ 的建模**\n    产生的热量 $q''_{\\mathrm{gen}}$ 在界面上产生一个温度不连续性，或称温跃 $\\Delta T$。这部分热量被传导到相邻的体材料中。问题使用界面热导 $G_c$ 来对此过程进行建模，它将热通量与温跃联系起来：\n    $$q''_{\\mathrm{removed}} = G_c \\Delta T$$\n\n4.  **组合能量平衡方程**\n    通过将产热项和散热项相等，我们得到界面的稳态能量平衡方程：\n    $$G_c \\Delta T = \\Pi_c J + J^2 R_c''$$\n\n5.  **引入与温度相关的 Peltier 系数**\n    问题指明，Peltier 系数 $\\Pi_c$ 通过第一开尔文关系与有效接触 Seebeck 系数 $S_c$ 和界面绝对温度 $T_{\\mathrm{int}}$ 相关联：\n    $$\\Pi_c = S_c T_{\\mathrm{int}}$$\n    此外，界面温度 $T_{\\mathrm{int}}$ 将基于界面附近的已知工作温度 $T_0$ 和温跃 $\\Delta T$ 本身进行近似。一个无量纲的分配因子 $\\beta$（其中 $\\beta \\in (0,1)$）决定了温跃的贡献：\n    $$T_{\\mathrm{int}} = T_0 + \\beta \\Delta T$$\n    将 $T_{\\mathrm{int}}$ 的这个近似值代入 $\\Pi_c$ 的表达式中，得到：\n    $$\\Pi_c = S_c (T_0 + \\beta \\Delta T)$$\n\n6.  **$\\Delta T$ 的最终代数关系的推导**\n    现在我们将与温度相关的 $\\Pi_c$ 表达式代回能量平衡方程：\n    $$G_c \\Delta T = \\left[ S_c (T_0 + \\beta \\Delta T) \\right] J + J^2 R_c''$$\n    这是一个关于 $\\Delta T$ 的线性代数方程。为了求解 $\\Delta T$，我们首先展开右侧的各项：\n    $$G_c \\Delta T = S_c T_0 J + S_c \\beta J \\Delta T + J^2 R_c''$$\n    接下来，我们将所有包含 $\\Delta T$ 的项收集到方程的左侧：\n    $$G_c \\Delta T - S_c \\beta J \\Delta T = S_c T_0 J + J^2 R_c''$$\n    将 $\\Delta T$ 因子提出，得到：\n    $$\\Delta T (G_c - S_c \\beta J) = S_c T_0 J + J^2 R_c''$$\n    最后，通过除以括号中的项来分离 $\\Delta T$，得到温跃的确定表达式：\n    $$\\Delta T = \\frac{S_c T_0 J + J^2 R_c''}{G_c - S_c \\beta J}$$\n    该方程给出了理论温跃 $\\Delta T$，它是给定的材料属性、几何因素和操作条件的函数。\n\n7.  **算法实现与验证**\n    实现将直接使用推导出的公式为每个提供的测试用例计算 $\\Delta T$。输入参数为 $J$、$S_c$、$R_c''$、$G_c$、$T_0$ 和 $\\beta$。然后，使用指定的容差 $\\varepsilon$，将计算值 $\\Delta T$ 与提供的测量值 $\\Delta T_{\\mathrm{meas}}$ 进行比较。验证条件为：\n    $$|\\Delta T - \\Delta T_{\\mathrm{meas}}| \\le \\varepsilon$$\n    根据此条件，为每个测试用例确定一个布尔结果（$\\mathrm{True}$ 或 $\\mathrm{False}$）。", "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Derives, implements, and validates a model for the temperature discontinuity\n    across a thermoelectric interface based on first principles.\n    \"\"\"\n    \n    # Test suite:\n    # (J, Sc, Rc'', Gc, T0, beta, dT_meas, epsilon)\n    # Units:\n    # J: A/m^2\n    # Sc: V/K\n    # Rc'': Ohm.m^2\n    # Gc: W/(m^2.K)\n    # T0: K\n    # beta: dimensionless\n    # dT_meas: K\n    # epsilon: K\n    test_cases = [\n        (2e6, 5e-6, 5e-9, 2e7, 300.0, 0.5, 1.1508e-3, 1e-5),\n        (1e6, 0.0, 1e-8, 1e6, 300.0, 0.5, 1.01e-2, 2e-4),\n        (3e6, -1e-5, 0.0, 5e7, 400.0, 0.5, -2.40001e-4, 5e-7),\n        (0.0, 1e-5, 1e-8, 1e6, 300.0, 0.5, 0.0, 1e-12),\n        (3e6, 3e-5, 1e-8, 5e6, 300.0, 0.5, 2.341e-2, 5e-4),\n    ]\n\n    results = []\n    for case in test_cases:\n        J, S_c, R_c_pp, G_c, T_0, beta, dT_meas, epsilon = case\n\n        # The derived algebraic relation for the temperature jump Delta_T is:\n        # Delta_T = (S_c * T_0 * J + J^2 * R_c'') / (G_c - S_c * beta * J)\n        \n        # Calculate the numerator of the expression\n        numerator = S_c * T_0 * J + J**2 * R_c_pp\n        \n        # Calculate the denominator of the expression\n        denominator = G_c - S_c * beta * J\n        \n        # Calculate the theoretical temperature jump Delta_T\n        # Handle the case where the denominator could be zero, though it's\n        # physically unlikely for the given parameter ranges.\n        if denominator == 0:\n            # This case would imply a thermal runaway, which is not expected\n            # under the problem's conditions. We can treat it as an error or\n            # infinite jump. For the purpose of this problem, we can assume\n            # it won't occur with the given test data.\n            dT_calc = np.inf\n        else:\n            dT_calc = numerator / denominator\n            \n        # Validate the prediction against the measured value within the tolerance\n        is_consistent = np.abs(dT_calc - dT_meas) = epsilon\n        results.append(is_consistent)\n\n    # Format the output as a comma-separated list of booleans in brackets\n    # Using map(str.lower, ...) to ensure lowercase 'true'/'false' if needed,\n    # but Python's default str(True) is 'True'. The problem example shows True/False.\n    output_str = f\"[{','.join(map(str, results))}]\"\n    print(output_str)\n\nsolve()\n\n```", "id": "3529907"}, {"introduction": "在掌握了界面模型后，我们的焦点转向材料内部的体效应（bulk effects）。这项高级练习将引导您深入分析和量化热电导体内部的各种热源，包括 Joule 热、Peltier 效应的边界贡献以及分布式的 Thomson 热。通过建立一个能够分辨这些相互竞争和叠加效应的模型，您将能够判断在不同工作条件下何种热效应占据主导，这对于热电器件的优化设计与性能预测具有决定性意义。[@problem_id:3529930]", "problem": "考虑一根一维热电棒，其长度为 $L$，横截面积均匀为 $A$。棒中的温度场由外部施加，且在空间上呈线性变化，其梯度随时间而变。在任意时刻 $t$，对于 $x \\in [0,L]$，温度分布为 $T(x,t) = T_0 + g(t)\\,x$。梯度 $g(t)$ 在一个斜坡时间 $t_{\\text{ramp}}$ 内从 $0$ 线性增加到指定的最大值 $g_{\\max}$，因此对于 $t \\in [0,t_{\\text{ramp}}]$，有 $g(t) = g_{\\max}\\,t/t_{\\text{ramp}}$。重点关注 $t = t_{\\text{ramp}}$ 时的瞬时状态，此时 $g(t_{\\text{ramp}}) = g_{\\max}$ 且 $T(x) = T_0 + g_{\\max}\\,x$。\n\n假设线性不可逆热力学，其中唯一的电流密度 $J(x,t)$ 由电场和一维热电耦合驱动。该材料具有随温度变化的电导率 $\\sigma(T)$ 和塞贝克系数 $S(T)$，其表达式为\n$\\sigma(T) = \\sigma_0\\left(1 - \\alpha\\left(T - T_{\\text{ref}}\\right)\\right)$ 和 $S(T) = s_0 + s_1 T + s_2 T^2$。\n开尔文关系通过 $\\Pi(T) = S(T)\\,T$ 和 $\\tau(T) = T\\,\\frac{dS}{dT}$ 将珀尔帖系数 $\\Pi(T)$ 和汤姆孙系数 $\\tau(T)$ 联系起来。\n\n在 $t=t_{\\text{ramp}}$ 时刻的一维准稳态传导下，由于恒定横截面积棒中的电荷守恒，可以认为电流密度 $J$ 在空间上是均匀的。在电压驱动的情况下，在棒的两端 $x=0$ 和 $x=L$ 之间施加一个电压降 $V_{\\text{app}}$。在电流驱动的情况下，指定一个均匀的电流密度 $J_{\\text{app}}$，电压会自洽地调整。为本问题之目的，忽略位移电流和热扩散反馈；将 $T(x)$ 视为在瞬时施加且固定的。\n\n定义在 $t=t_{\\text{ramp}}$ 时刻，在整个棒上评估的以下瞬时功率贡献：\n- 焦耳功率 $P_J = \\displaystyle\\int_0^L A\\,\\frac{J^2}{\\sigma(T(x))}\\,dx$，单位为瓦特（watts），\n- 汤姆孙功率 $P_T = \\displaystyle\\int_0^L A\\,\\tau(T(x))\\,J\\,\\frac{\\partial T}{\\partial x}\\,dx$，单位为瓦特（watts），\n- 净珀尔帖边界功率 $P_P = A\\,|\\Pi(T(L)) - \\Pi(T(0))|\\,|J|$，单位为瓦特（watts），取两端净流入的绝对值大小。\n\n当汤姆孙热效应在瞬时超过焦耳和珀尔帖项时，该状态由主导比 $R = \\dfrac{P_T}{\\max(P_J,P_P)}$ 来识别，其中 $R1$ 表示汤姆孙效应占主导地位。\n\n从电荷守恒的基本原理、一维热电输运的线性不可逆热力学以及开尔文关系出发，推导对于所描述的 $T(x) = T_0 + g_{\\max}x$ 的热电棒所需的所有 $J$、$P_J$、$P_T$ 和 $P_P$ 的表达式，并实现一个算法来计算指定参数集下的 $R$。\n\n所有物理量必须使用其正确的单位进行处理：长度单位为米（meters），面积单位为平方米（square meters），温度单位为开尔文（kelvin），电导率单位为西门子/米（siemens per meter），塞贝克系数单位为伏特/开尔文（volts per kelvin），电压单位为伏特（volts），电流密度单位为安培/平方米（amperes per square meter），功率单位为瓦特（watts）。最终输出（主导比）是无量纲的浮点数。\n\n测试套件。使用以下四个参数集，每个都在 $t=t_{\\text{ramp}}$ 时进行评估，因此 $g=g_{\\max}$ 且 $T(x)=T_0+g\\,x$：\n\n- 情况1（电压驱动，中等梯度，类金属属性）：\n  - $L = 0.01$，\n  - $A = 1.0\\times 10^{-6}$，\n  - $T_0 = 300$，\n  - $g = 1000$，\n  - $\\sigma_0 = 5.0\\times 10^{6}$，\n  - $\\alpha = 0.003$，\n  - $T_{\\text{ref}} = 300$，\n  - $s_0 = 5.0\\times 10^{-6}$，\n  - $s_1 = 1.0\\times 10^{-8}$，\n  - $s_2 = 0$，\n  - $V_{\\text{app}} = 0.05$。\n\n- 情况2（电压驱动，大汤姆孙系数及负基线塞贝克系数以减少珀尔帖效应）：\n  - $L = 0.01$，\n  - $A = 1.0\\times 10^{-6}$，\n  - $T_0 = 300$，\n  - $g = 2000$，\n  - $\\sigma_0 = 5.0\\times 10^{6}$，\n  - $\\alpha = 0.003$，\n  - $T_{\\text{ref}} = 300$，\n  - $s_0 = -4.0\\times 10^{-4}$，\n  - $s_1 = 1.0\\times 10^{-6}$，\n  - $s_2 = 0$，\n  - $V_{\\text{app}} = 0.001$。\n\n- 情况3（电流驱动，强电流）：\n  - $L = 0.01$，\n  - $A = 1.0\\times 10^{-6}$，\n  - $T_0 = 300$，\n  - $g = 1000$，\n  - $\\sigma_0 = 5.0\\times 10^{6}$，\n  - $\\alpha = 0.003$，\n  - $T_{\\text{ref}} = 300$，\n  - $s_0 = 5.0\\times 10^{-6}$，\n  - $s_1 = 1.0\\times 10^{-8}$，\n  - $s_2 = 0$，\n  - $J_{\\text{app}} = 1.0\\times 10^{6}$。\n\n- 情况4（电压驱动，零梯度边界情况）：\n  - $L = 0.01$，\n  - $A = 1.0\\times 10^{-6}$，\n  - $T_0 = 300$，\n  - $g = 0$，\n  - $\\sigma_0 = 5.0\\times 10^{6}$，\n  - $\\alpha = 0.003$，\n  - $T_{\\text{ref}} = 300$，\n  - $s_0 = 5.0\\times 10^{-6}$，\n  - $s_1 = 1.0\\times 10^{-8}$，\n  - $s_2 = 0$，\n  - $V_{\\text{app}} = 0.05$。\n\n您的任务是编写一个完整的、可运行的程序，为这四种情况中的每一种计算主导比 $R$。您的程序应生成单行输出，其中包含用方括号括起来的逗号分隔列表形式的结果（例如，$[r_1,r_2,r_3,r_4]$）。每个 $r_i$ 必须是四舍五入到六位小数的浮点数。", "solution": "该问题要求计算主导比 $R$，该比值用于比较在指定空间线性温度分布下，一维热电棒中的汤姆孙功率与焦耳功率和珀尔帖功率。解决方案需要从热电输运的基本原理出发，系统地推导电流密度 ($J$) 和各种功率贡献 ($P_J$, $P_T$, $P_P$) 的表达式。\n\n### 1. 模型和控制方程\n\n我们从一维热电介质中电流密度 $J$ 的基本本构关系开始，该关系源于线性不可逆热力学：\n$$J = \\sigma(T) (E - E_{\\text{th}})$$\n这里，$E$ 是电场，$\\sigma(T)$ 是随温度变化的电导率，$E_{\\text{th}}$ 是由温度梯度产生的热电场，由 $E_{\\text{th}} = -S(T) \\frac{dT}{dx}$ 给出，其中 $S(T)$ 是塞贝克系数。\n\n整理得到电场 $E(x)$ 的表达式：\n$$E(x) = \\frac{J}{\\sigma(T(x))} + S(T(x)) \\frac{dT}{dx}$$\n由于在一维准稳态下电荷守恒（$\\frac{dJ}{dx} = 0$），电流密度 $J$ 沿着棒是空间均匀的。\n\n问题指定了在分析瞬时（$t=t_{\\text{ramp}}$）外部施加的线性温度分布：\n$$T(x) = T_0 + g x$$\n其中 $g$ 代表恒定的空间梯度 $g_{\\max}$。因此，温度梯度是均匀的：\n$$\\frac{dT}{dx} = g$$\n棒两端的温度分别为 $T(0) = T_0$ 和 $T(L) = T_0 + gL$。\n\n材料属性也以温度函数的形式给出：\n- 电导率：$\\sigma(T) = \\sigma_0 \\left(1 - \\alpha\\left(T - T_{\\text{ref}}\\right)\\right)$\n- 塞贝克系数：$S(T) = s_0 + s_1 T + s_2 T^2$\n\n### 2. 电流密度 ($J$) 的确定\n\n确定 $J$ 的方法取决于驱动条件。\n\n- **电流驱动情况**：$J$ 直接被指定为施加值，$J = J_{\\text{app}}$。\n\n- **电压驱动情况**：在棒两端施加外部电压 $V_{\\text{app}}$。电压是电场的积分：\n$$V_{\\text{app}} = \\int_0^L E(x) dx = \\int_0^L \\left(\\frac{J}{\\sigma(T(x))} + S(T(x)) g\\right) dx$$\n由于 $J$ 是常数，我们可以解出它：\n$$V_{\\text{app}} = J \\int_0^L \\frac{dx}{\\sigma(T(x))} + g \\int_0^L S(T(x)) dx$$\n设 $I_{\\rho} = \\int_0^L \\frac{dx}{\\sigma(T(x))}$ 为电阻积分（单位面积），$V_S = g \\int_0^L S(T(x)) dx$ 为棒内产生的总塞贝克电压。方程变为 $V_{\\text{app}} = J I_{\\rho} + V_S$。\n解出 $J$：\n$$J = \\frac{V_{\\text{app}} - V_S}{I_{\\rho}} = \\frac{V_{\\text{app}} - g \\int_0^L S(T(x)) dx}{\\int_0^L \\frac{1}{\\sigma(T(x))} dx}$$\n这些积分必须在棒的整个长度上进行计算。它们是从 $x=0$ 到 $x=L$ 的定积分，可以通过数值方法计算。\n\n### 3. 功率贡献\n\n问题定义了三种需要评估的功率贡献。\n\n- **焦耳功率 ($P_J$)**：这是因电阻而耗散的功率。\n$$P_J = \\int_0^L A \\frac{J^2}{\\sigma(T(x))} dx = A J^2 \\int_0^L \\frac{1}{\\sigma(T(x))} dx = A J^2 I_{\\rho}$$\n该功率始终为非负值 ($P_J \\ge 0$)。\n\n- **汤姆孙功率 ($P_T$)**：这是由于电流与温度梯度相互作用而吸收或释放的功率。汤姆孙系数 $\\tau(T)$ 通过开尔文关系 $\\tau(T) = T \\frac{dS}{dT}$ 与塞贝克系数相关。对于给定的 $S(T) = s_0 + s_1 T + s_2 T^2$，我们有 $\\frac{dS}{dT} = s_1 + 2s_2 T$，所以 $\\tau(T) = T(s_1 + 2s_2 T) = s_1 T + 2s_2 T^2$。\n$$P_T = \\int_0^L A \\tau(T(x)) J \\frac{dT}{dx} dx = A J g \\int_0^L \\tau(T(x)) dx$$\n如果 $g=0$，则 $P_T=0$。否则，积分将通过数值计算。该功率可为正（吸热）或负（生热）。\n\n- **净珀尔帖功率 ($P_P$)**：问题将其定义为净边界贡献的大小。珀尔帖系数由开尔文关系 $\\Pi(T) = S(T)T$ 给出。\n$$P_P = A |\\Pi(T(L)) - \\Pi(T(0))| |J|$$\n根据问题中的定义，该功率始终为非负值 ($P_P \\ge 0$)。如果 $g=0$，则 $T(L)=T(0)$，因此 $\\Pi(T(L)) = \\Pi(T(0))$，这使得 $P_P=0$。\n\n### 4. 主导比 ($R$)\n\n主导比 $R$ 被定义用于量化汤姆孙热效应与焦耳和珀尔帖效应相比占主导地位的状态：\n$$R = \\frac{P_T}{\\max(P_J, P_P)}$$\n分母总是非负的。如果 $P_J$ 和 $P_P$ 均为零，这意味着没有电流或没有热电/电阻效应，从而使得 $P_T$ 也为零。在这种退化情况下，$R$ 取为 $0$。\n\n### 5. 算法实现\n\n对于每个参数集，算法按以下步骤进行：\n1.  根据提供的参数定义 $T(x)$、$\\sigma(T)$、$S(T)$、$\\tau(T)$ 和 $\\Pi(T)$ 的函数。\n2.  如果情况是电压驱动的，使用数值积分（`scipy.integrate.quad`）计算积分 $I_{\\rho} = \\int_0^L \\frac{dx}{\\sigma(T(x))}$ 和 $I_S = \\int_0^L S(T(x)) dx$。然后，计算 $J = (V_{\\text{app}} - g I_S) / I_{\\rho}$。对于 $g=0$ 的特殊情况，积分简化，此时 $J = V_{\\text{app}} \\sigma(T_0) / L$。\n3.  如果情况是电流驱动的，设置 $J = J_{\\text{app}}$。\n4.  在已知 $J$ 的情况下，计算功率项：\n    -   $P_J = A J^2 I_{\\rho}$。对于电流驱动的情况，必须计算 $I_{\\rho}$。对于电压驱动的情况，它已经可用。\n    -   $P_T = A J g \\int_0^L \\tau(T(x)) dx$。如果 $g=0$，此项为零。\n    -   $P_P = A|J||\\Pi(T(L)) - \\Pi(T(0))|$。\n5.  最后，计算比率 $R = P_T / \\max(P_J, P_P)$，通过将 $R$ 赋值为 $0$ 来处理除零情况。\n6.  每种情况的结果格式化为六位小数。\n\n此过程系统地应用于提供的四个测试用例。", "answer": "```python\nimport numpy as np\nfrom scipy.integrate import quad\n\ndef calculate_dominance_ratio(params: dict) - float:\n    \"\"\"\n    Calculates the Thomson dominance ratio R for a given set of parameters.\n    \"\"\"\n    # Unpack parameters from the input dictionary\n    L = params['L']\n    A = params['A']\n    T0 = params['T_0']\n    g = params['g']\n    sigma0 = params['sigma_0']\n    alpha = params['alpha']\n    T_ref = params['T_ref']\n    s0 = params['s_0']\n    s1 = params['s_1']\n    s2 = params['s_2']\n\n    # Define material property functions\n    def T_func(x):\n        return T0 + g * x\n\n    def sigma_func(T):\n        return sigma0 * (1.0 - alpha * (T - T_ref))\n\n    def S_func(T):\n        return s0 + s1 * T + s2 * T**2\n\n    def tau_func(T):\n        # tau(T) = T * dS/dT = T * (s1 + 2*s2*T)\n        return T * (s1 + 2.0 * s2 * T)\n\n    def Pi_func(T):\n        # Pi(T) = S(T) * T\n        return S_func(T) * T\n\n    # --- 1. Determine Current Density J ---\n    \n    # Handle the isothermal case (g=0) separately\n    if g == 0:\n        if 'V_app' in params:\n            V_app = params['V_app']\n            if L  0:\n                sigma_T0 = sigma_func(T0)\n                J = V_app * sigma_T0 / L\n            else:\n                J = 0.0\n        else: # Current-driven\n            J = params['J_app']\n        # For g=0, PT and PP are zero\n        return 0.0\n\n    # General case for g != 0\n    # Define integrands as functions of x\n    def integrand_rho(x):\n        return 1.0 / sigma_func(T_func(x))\n\n    def integrand_S(x):\n        return S_func(T_func(x))\n\n    # Calculate J based on driving condition\n    if 'V_app' in params: # Voltage-driven\n        V_app = params['V_app']\n        # Integral for resistance term\n        I_rho, _ = quad(integrand_rho, 0, L)\n        # Integral for Seebeck voltage term\n        I_S, _ = quad(integrand_S, 0, L)\n        \n        # Calculate Seebeck voltage V_S\n        V_S = g * I_S\n        \n        # Calculate J\n        if I_rho  0:\n            J = (V_app - V_S) / I_rho\n        else:\n            # Should not happen with physical parameters\n            J = 0.0\n            \n    else: # Current-driven\n        J = params['J_app']\n        I_rho, _ = quad(integrand_rho, 0, L)\n\n    # --- 2. Calculate Power Contributions ---\n    \n    # Joule Power P_J\n    P_J = A * J**2 * I_rho\n    \n    # Thomson Power P_T\n    def integrand_tau(x):\n        return tau_func(T_func(x))\n    \n    I_tau, _ = quad(integrand_tau, 0, L)\n    P_T = A * J * g * I_tau\n    \n    # Peltier Power P_P\n    T_L = T_func(L)\n    Pi_0 = Pi_func(T0)\n    Pi_L = Pi_func(T_L)\n    P_P = A * abs(Pi_L - Pi_0) * abs(J)\n    \n    # --- 3. Calculate Dominance Ratio R ---\n    \n    denominator = max(P_J, P_P)\n    \n    if denominator  1e-15: # Use a small threshold to avoid division by zero\n        R = P_T / denominator\n    else:\n        R = 0.0\n        \n    return R\n\ndef solve():\n    \"\"\"\n    Main solver function to run all test cases and print results.\n    \"\"\"\n    test_cases = [\n        # Case 1 (voltage-driven)\n        {'L': 0.01, 'A': 1.0e-6, 'T_0': 300, 'g': 1000, \n         'sigma_0': 5.0e6, 'alpha': 0.003, 'T_ref': 300, \n         's_0': 5.0e-6, 's_1': 1.0e-8, 's_2': 0, 'V_app': 0.05},\n        # Case 2 (voltage-driven)\n        {'L': 0.01, 'A': 1.0e-6, 'T_0': 300, 'g': 2000, \n         'sigma_0': 5.0e6, 'alpha': 0.003, 'T_ref': 300, \n         's_0': -4.0e-4, 's_1': 1.0e-6, 's_2': 0, 'V_app': 0.001},\n        # Case 3 (current-driven)\n        {'L': 0.01, 'A': 1.0e-6, 'T_0': 300, 'g': 1000, \n         'sigma_0': 5.0e6, 'alpha': 0.003, 'T_ref': 300, \n         's_0': 5.0e-6, 's_1': 1.0e-8, 's_2': 0, 'J_app': 1.0e6},\n        # Case 4 (voltage-driven, zero gradient edge case)\n        {'L': 0.01, 'A': 1.0e-6, 'T_0': 300, 'g': 0, \n         'sigma_0': 5.0e6, 'alpha': 0.003, 'T_ref': 300, \n         's_0': 5.0e-6, 's_1': 1.0e-8, 's_2': 0, 'V_app': 0.05}\n    ]\n\n    results = []\n    for case in test_cases:\n        ratio = calculate_dominance_ratio(case)\n        results.append(ratio)\n    \n    # Format the final output string as required\n    formatted_results = [f\"{r:.6f}\" for r in results]\n    print(f\"[{','.join(formatted_results)}]\")\n\nsolve()\n```", "id": "3529930"}]}