{"hands_on_practices": [{"introduction": "HJM框架的核心在于对由随机过程驱动的利率动态进行建模。在动手实践之前，我们需要掌握一个基本工具：二次变分。本练习旨在计算一个基本伊藤积分的二次变分，这个概念直观地衡量了随机过程路径的累积方差或“风险”，练习中使用的积分形式直接关系到HJM模型中债券价格的波动性，是理解模型随机部分的关键一步。[@problem_id:1328957]", "id": "1328957", "problem": "设 $\\{B_t\\}_{t \\ge 0}$ 为定义在概率空间 $(\\Omega, \\mathcal{F}, \\mathbb{P})$ 上的标准一维布朗运动，且 $B_0 = 0$。在许多随机模型中，过程是通过对一个函数关于布朗运动进行积分来构造的。刻画这类过程的一个关键量是其二次变差，它直观地度量了过程路径的累积方差。\n\n考虑一个固定的终端时刻 $T > 0$。通过伊藤积分定义随机过程 $\\{X_t\\}_{t \\in [0, T]}$ 如下：\n$$\nX_t = \\int_0^t (T-s) \\, dB_s\n$$\n这种类型的积分出现在用于为远期利率建模的 Heath-Jarrow-Morton 框架中。\n\n你的任务是计算过程 $X_t$ 在时间区间 $[0, t]$ 上的二次变差，记为 $[X]_t$，其中 $t \\in [0, T]$。\n\n请用关于 $t$ 和 $T$ 的闭式解析表达式给出你的答案。", "solution": "我们考虑由伊藤积分 $X_{t} = \\int_{0}^{t} (T - s)\\, dB_{s}$（其中 $t \\in [0, T]$）定义的过程。关于连续局部鞅的一个标准结果表明，如果 $X_{t} = \\int_{0}^{t} H_{s}\\, dB_{s}$，且被积函数 $H_{s}$ 是适应的、平方可积的，那么其二次变差为\n$$\n[X]_{t} = \\int_{0}^{t} H_{s}^{2}\\, ds.\n$$\n将此结果应用于 $H_{s} = T - s$ 的情况，我们得到\n$$\n[X]_{t} = \\int_{0}^{t} (T - s)^{2}\\, ds.\n$$\n为计算该积分，我们使用 $(T - s)^{2}$ 的反导数：\n$$\n\\int (T - s)^{2}\\, ds = -\\frac{(T - s)^{3}}{3} + C.\n$$\n因此，\n$$\n[X]_{t} = \\left[-\\frac{(T - s)^{3}}{3}\\right]_{s=0}^{s=t} = \\frac{T^{3} - (T - t)^{3}}{3}.\n$$\n等价地，展开 $(T - t)^{3}$ 可得\n$$\n[X]_{t} = T^{2} t - T t^{2} + \\frac{t^{3}}{3}.\n$$\n两种形式都给出了用 $t$ 和 $T$ 表示的所要求的闭式表达式。", "answer": "$$\\boxed{T^{2}t - T t^{2} + \\frac{t^{3}}{3}}$$"}, {"introduction": "从理论到实践是模型应用的关键一步。HJM框架提供了一个优雅的无套利漂移条件，但在实际应用中，我们必须依赖数值方法来计算它。本练习将理论与计算相结合，要求您对HJM漂移项中的关键积分进行数值近似，并分析其收敛速度。通过这个实践，您将不仅能加深对无套利条件的理解，还能掌握在计算金融中评估模型实现精度的基本技能。[@problem_id:2398783]", "id": "2398783", "problem": "考虑风险中性测度下的瞬时远期利率 $f(t,T)$ 的单因子 Heath-Jarrow-Morton (HJM) 框架。设远期利率的波动率是确定性的，由常数 $a > 0$ 和 $b > 0$ 给出，表达式为 $\\sigma(t,T) = a \\exp(-b\\,(T-t))$。对于任意固定的估值时间 $t_0$ 和到期日 $T \\ge t_0$，瞬时远期利率的 HJM 无套利漂移为\n$$\n\\alpha(t_0,T) = \\sigma(t_0,T)\\int_{t_0}^{T} \\sigma(t_0,u)\\,du.\n$$\n定义在 $[t_0,T]$ 上使用 $N \\in \\mathbb{N}$ 个相等子区间的积分的左端点黎曼和近似为\n$$\nS_N(t_0,T) = \\sum_{k=0}^{N-1} \\sigma\\!\\left(t_0,\\, t_0 + k\\,\\Delta\\right)\\,\\Delta,\n\\quad \\text{其中} \\quad \\Delta = \\frac{T - t_0}{N}.\n$$\n定义近似漂移\n$$\n\\alpha_N(t_0,T) = \\sigma(t_0,T)\\,S_N(t_0,T).\n$$\n对于下面的每一组参数，设 $\\{T_j\\}_{j=0}^{M}$ 是一个均匀的到期日网格，其中 $T_j = t_0 + j\\frac{H}{M}$，$j \\in \\{0,1,\\dots,M\\}$，$M$ 是一个给定的正整数。对于指定列表 $\\mathcal{N}$ 中的每个 $N$，定义在该到期日网格上的最大绝对漂移误差为\n$$\nE_N = \\max_{0 \\le j \\le M} \\left| \\alpha(t_0, T_j) - \\alpha_N(t_0, T_j) \\right|.\n$$\n对于列表 $\\mathcal{N}$ 中两个连续的值 $N$ 和 $2N$（其中 $2N$ 紧随 $N$ 之后），定义观测阶\n$$\np_N = \\frac{\\log\\!\\left(E_N / E_{2N}\\right)}{\\log(2)}.\n$$\n您的程序必须为下面的每个测试用例计算：(i) $E_{N_{\\text{last}}}$，即 $\\mathcal{N}$ 中最大 $N$ 对应的最大绝对误差，以及 (ii) $p_{N_{\\text{last}}/2}$，即由 $\\mathcal{N}$ 中最后两个条目计算出的观测阶。最终输出中的所有数值必须四舍五入到 $10$ 位小数。\n\n使用以下测试套件。在每个案例中，到期日网格大小为 $M = 2000$。\n\n- 测试用例 $1$：$a = 0.02$, $b = 0.8$, $t_0 = 0.5$, $H = 5.0$, $\\mathcal{N} = [5, 10, 20, 40, 80]$。\n- 测试用例 $2$：$a = 0.7$, $b = 1.2$, $t_0 = 0.0$, $H = 0.1$, $\\mathcal{N} = [4, 8, 16, 32, 64]$。\n- 测试用例 $3$：$a = 0.03$, $b = 0.1$, $t_0 = 0.0$, $H = 30.0$, $\\mathcal{N} = [10, 20, 40, 80, 160]$。\n- 测试用例 $4$：$a = 0.015$, $b = 5.0$, $t_0 = 1.0$, $H = 2.0$, $\\mathcal{N} = [6, 12, 24, 48, 96]$。\n\n您的程序应生成单行输出，其中包含用方括号括起来的逗号分隔的结果列表。对于每个测试用例，输出一个双元素列表 $[E_{N_{\\text{last}}}, p_{N_{\\text{last}}/2}]$。最终输出格式必须是\n$[[E^{(1)},p^{(1)}],[E^{(2)},p^{(2)}],[E^{(3)},p^{(3)}],[E^{(4)},p^{(4)}]]$,\n其中每个 $E^{(i)}$ 和 $p^{(i)}$ 都四舍五入到 $10$ 位小数，并且打印行中任何地方都没有空格。", "solution": "该问题陈述是计算金融领域一个明确定义的练习，具体涉及单因子 Heath-Jarrow-Morton (HJM) 框架。它在科学上是合理的，数学上是一致的，并且所有参数都已提供。因此，该问题被认为是有效的，并将构建一个解决方案。\n\n任务是计算 HJM 无套利漂移近似值的数值精度。瞬时远期利率 $f(t,T)$ 的波动率由以下确定性函数给出：\n$$ \\sigma(t,T) = a \\exp(-b(T-t)) $$\n其中 $a > 0$ 和 $b > 0$ 是常数。\n\n首先，我们推导风险中性测度下精确 HJM 无套利漂移 $\\alpha(t_0, T)$ 的解析表达式。对于一个固定的估值时间 $t_0$，漂移定义为：\n$$ \\alpha(t_0,T) = \\sigma(t_0,T) \\int_{t_0}^{T} \\sigma(t_0,u) \\, du $$\n通过对函数 $\\sigma(t_0, u) = a \\exp(-b(u-t_0))$ 关于到期日变量 $u$ 进行直接积分来计算积分项：\n$$ \\int_{t_0}^{T} a e^{-b(u-t_0)} \\, du = a \\left[ -\\frac{1}{b} e^{-b(u-t_0)} \\right]_{u=t_0}^{u=T} = -\\frac{a}{b} \\left( e^{-b(T-t_0)} - e^{0} \\right) = \\frac{a}{b} \\left( 1 - e^{-b(T-t_0)} \\right) $$\n将此结果代入 $\\alpha(t_0,T)$ 的表达式，我们得到闭式解：\n$$ \\alpha(t_0,T) = \\left( a e^{-b(T-t_0)} \\right) \\left( \\frac{a}{b} (1 - e^{-b(T-t_0)}) \\right) = \\frac{a^2}{b} e^{-b(T-t_0)} \\left(1 - e^{-b(T-t_0)}\\right) $$\n这个精确公式对于计算数值近似的误差至关重要。\n\n其次，我们分析基于左端点黎曼和 $S_N(t_0,T)$ 的近似漂移 $\\alpha_N(t_0,T)$：\n$$ \\alpha_N(t_0,T) = \\sigma(t_0,T) S_N(t_0,T), \\quad \\text{其中} \\quad S_N(t_0,T) = \\sum_{k=0}^{N-1} \\sigma(t_0, t_0 + k\\Delta) \\Delta, \\quad \\Delta = \\frac{T - t_0}{N} $$\n为实现计算效率，我们通过将其识别为有限几何级数来重构该和式：\n$$ S_N(t_0,T) = a\\Delta \\sum_{k=0}^{N-1} e^{-bk\\Delta} = a\\Delta \\sum_{k=0}^{N-1} (e^{-b\\Delta})^k $$\n使用几何级数求和公式 $\\sum_{k=0}^{n-1} r^k = (1 - r^n) / (1 - r)$，其中 $r = e^{-b\\Delta}$ 且 $n=N$：\n$$ S_N(t_0,T) = a\\Delta \\frac{1 - (e^{-b\\Delta})^N}{1 - e^{-b\\Delta}} = a\\Delta \\frac{1 - e^{-bN\\Delta}}{1 - e^{-b\\Delta}} $$\n由于 $N\\Delta = T-t_0$，该和式的表达式变为：\n$$ S_N(t_0,T) = a \\frac{T-t_0}{N} \\frac{1 - e^{-b(T-t_0)}}{1 - e^{-b(T-t_0)/N}} $$\n此公式对 $T > t_0$ 成立。对于 $T=t_0$ 的平凡情况，我们有 $\\Delta=0$，积分为 $0$，因此 $\\alpha(t_0,t_0)=0$ 且 $\\alpha_N(t_0,t_0)=0$，导致误差为 $0$。对于数值实现，为防止当 $\\Delta$ 很小时的精度损失，表达式 $1 - e^{-x}$ 应计算为 $- \\mathtt{expm1}(-x)$，其中 $\\mathtt{expm1}$ 是一个用于计算 $e^x - 1$ 的标准库函数。\n\n每个测试用例的计算过程如下：\n$1$. 定义一个均匀的到期日网格 $\\{T_j\\}_{j=0}^M$，其中 $T_j = t_0 + j \\frac{H}{M}$，$j=0, 1, \\dots, M$。\n$2$. 使用解析公式为整个网格计算精确漂移值向量 $\\alpha(t_0, T_j)$。\n$3$. 对于列表 $\\mathcal{N}$ 中的每个子区间数 $N$：\n    a. 使用 $S_N(t_0,T_j)$ 的几何级数公式为网格计算近似漂移值向量 $\\alpha_N(t_0, T_j)$。\n    b. 计算绝对误差向量 $|\\alpha(t_0, T_j) - \\alpha_N(t_0, T_j)|$。\n    c. 找到最大绝对误差 $E_N = \\max_{0 \\le j \\le M} |\\alpha(t_0, T_j) - \\alpha_N(t_0, T_j)|$。\n$4$. 一旦计算出所有误差 $\\{E_N\\}_{N \\in \\mathcal{N}}$，即可确定所需的输出：\n    a. 最终误差 $E_{N_{\\text{last}}}$，对应于 $\\mathcal{N}$ 中的最大 $N$。\n    b. 收敛的观测阶 $p_{N_{\\text{last}}/2}$，由序列中最后两个误差计算得出：\n$$ p_{N_{\\text{last}}/2} = \\frac{\\log(E_{N_{\\text{last}}/2} / E_{N_{\\text{last}}})}{\\log(2)} $$\n数值积分理论表明，左端点黎曼和的误差阶为 $O(1/N)$，因此我们预期 $p_N \\approx 1$。\n\n该实现将利用 `numpy` 库进行向量化计算以确保效率。根据要求，所有最终数值结果将四舍五入到 `10` 位小数。", "answer": "```python\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Main function to solve the problem for the given test cases.\n    \"\"\"\n    test_cases = [\n        {'a': 0.02, 'b': 0.8, 't0': 0.5, 'H': 5.0, 'N_list': [5, 10, 20, 40, 80], 'M': 2000},\n        {'a': 0.7, 'b': 1.2, 't0': 0.0, 'H': 0.1, 'N_list': [4, 8, 16, 32, 64], 'M': 2000},\n        {'a': 0.03, 'b': 0.1, 't0': 0.0, 'H': 30.0, 'N_list': [10, 20, 40, 80, 160], 'M': 2000},\n        {'a': 0.015, 'b': 5.0, 't0': 1.0, 'H': 2.0, 'N_list': [6, 12, 24, 48, 96], 'M': 2000}\n    ]\n\n    all_results = []\n    for params in test_cases:\n        result = compute_for_case(**params)\n        all_results.append(result)\n\n    # Format the final output string\n    result_strings = []\n    for E, p in all_results:\n        result_strings.append(f\"[{E:.10f},{p:.10f}]\")\n    \n    final_output = f\"[{','.join(result_strings)}]\"\n    print(final_output)\n\ndef compute_for_case(a, b, t0, H, N_list, M):\n    \"\"\"\n    Computes the required values for a single test case.\n    \n    Returns:\n        A tuple (E_N_last, p_N) containing the final error and observed order.\n    \"\"\"\n    \n    # 1. Define the maturity grid\n    T_grid = t0 + np.linspace(0.0, H, M + 1)\n    \n    # 2. Compute the exact drift alpha(t0, T)\n    T_minus_t0 = T_grid - t0\n    \n    # Supress divide by zero warning for b=0, not an issue here.\n    with np.errstate(divide='ignore', invalid='ignore'):\n         integral_part_exact = (a / b) * (1 - np.exp(-b * T_minus_t0))\n    \n    sigma_vals = a * np.exp(-b * T_minus_t0)\n    alpha_exact = sigma_vals * integral_part_exact\n    \n    # Handle T=t0 case where the expression is 0/0 but limit is a/b * 0 = 0.\n    alpha_exact[0] = 0.0\n    \n    errors = []\n    \n    # 3. For each N, compute the approximate drift and error E_N\n    for N in N_list:\n        alpha_approx = np.zeros(M + 1)\n        \n        # Select maturities T > t0 (where j > 0)\n        T_grid_gt0 = T_grid[1:]\n        T_minus_t0_gt0 = T_grid_gt0 - t0\n        delta = T_minus_t0_gt0 / N\n        \n        # Use geometric series sum formula for S_N\n        # S_N = a * delta * (1 - exp(-b*T_minus_t0)) / (1 - exp(-b*delta))\n        # Use expm1 for numerical stability: 1-exp(-x) = -expm1(-x)\n        num = -np.expm1(-b * T_minus_t0_gt0)\n        den = -np.expm1(-b * delta)\n        \n        # Handle cases where delta > 0 but is very small, leading to den being zero.\n        # This shouldn't happen with standard float64 precision for the given params.\n        # If it did, the limit of num/den is T_minus_t0_gt0 / delta = N.\n        # We will assume a small but non-zero denominator will suffice.\n        \n        S_N = a * delta * (num / den)\n        \n        sigma_vals_gt0 = sigma_vals[1:]\n        alpha_approx[1:] = sigma_vals_gt0 * S_N\n        \n        # Error at T=t0 is 0.\n        \n        # Compute maximum absolute error E_N\n        abs_error = np.abs(alpha_exact - alpha_approx)\n        E_N = np.max(abs_error)\n        errors.append(E_N)\n\n    # 4. Calculate final results\n    E_N_last = errors[-1]\n    \n    # 5. Compute observed order p_N\n    # p_N = log(E_N / E_2N) / log(2)\n    # Here N = N_list[-2], 2N = N_list[-1]\n    p_N_last_half = np.log(errors[-2] / errors[-1]) / np.log(2)\n    \n    return E_N_last, p_N_last_half\n\nif __name__ == \"__main__\":\n    solve()\n\n```"}, {"introduction": "一个金融模型不仅需要经济上的直观性，更需要数学上的“健康”。本练习将引导您对HJM框架进行一次“压力测试”，探讨当波动率函数设定不当时可能出现的数学病态。通过分析一个特定形式的波动率函数 $\\sigma(t,T)$，您将理解为何不是任何函数都能用于构建一个稳定且有意义的利率模型，从而体会到模型构建中数学严谨性的重要性。[@problem_id:2398822]", "id": "2398822", "problem": "考虑一个单因子Heath-Jarrow-Morton (HJM) 模型，该模型用于描述在一个带滤概率空间 $(\\Omega,\\mathcal{F},(\\mathcal{F}_t)_{t \\ge 0},\\mathbb{Q})$ 上的风险中性概率测度 $\\mathbb{Q}$ 下的瞬时远期利率曲线，该空间支撑一个标准布朗运动 $W_t$。对于每个到期日 $T \\ge 0$，当 $t \\le T$ 时，瞬时远期利率 $f(t,T)$ 的演化过程为\n$$\n\\mathrm{d}f(t,T) = \\alpha(t,T)\\,\\mathrm{d}t + \\sigma(t,T)\\,\\mathrm{d}W_t,\\quad t \\le T,\n$$\n其中 $\\alpha(t,T)$ 和 $\\sigma(t,T)$ 是关于 $(t,T)$ 的确定性函数。短期利率（如果其有良好定义）为 $r(t) = f(t,t)$，货币市场账户为 $B(t) = \\exp\\!\\left(\\int_0^t r(s)\\,\\mathrm{d}s\\right)$，到期日为 $T$ 的零息债券在时间 $t$ 的价格为\n$$\nP(t,T) = \\exp\\!\\left(-\\int_t^T f(t,u)\\,\\mathrm{d}u\\right),\\quad 0 \\le t \\le T.\n$$\n假设初始远期曲线 $f(0,T)$ 在紧区间上连续，并且对于每个固定的 $T$，在 $[0,T]$ 上有界。考虑以下确定性波动率函数族\n$$\n\\sigma(t,T) = k\\,(T-t)^{-p},\\quad T>t,\\quad \\text{其中 } k>0 \\text{ 且 } p \\ge 0.\n$$\n评估以下关于此类波动率函数可能引起的数学病态和适定性问题的陈述。\n\nA. 如果 $p \\ge 1$，对于每个固定的 $(t,T)$ 且 $t<T$，必须联系 $\\alpha$ 和 $\\sigma$ 的无套利漂移 $\\alpha(t,T)$ 是无穷大，因此远期利率随机微分方程是不适定的。\n\nB. 如果 $0 \\le p < 1$ 且 $\\sigma$ 是如上指定的确定性函数，则对于每个固定的到期日 $T$，贴现债券价格 $B(t)^{-1}P(t,T)$ 是在 $[0,T]$ 上的真鞅。\n\nC. 如果 $0 < p < 1$，则 $\\sigma(t,t)$ 是有限的，并且短期利率 $r(t)=f(t,t)$ 满足一个扩散系数为 $\\sigma(t,t)$ 的随机微分方程。\n\nD. 如果 $0 < p < 1$，映射 $(t,T)\\mapsto f(t,T)$ 在边界 $T=t$ 处不一定联合连续；这种缺乏正则性的情况可能会使那些在包含任意接近 $t$ 的 $T$ 点的网格上演化远期曲线的数值格式不稳定。\n\nE. 如果 $\\sigma$ 关于 $t$ 不是 $\\mathcal{F}_t$-适应的，HJM无套利约束仍然可以施加并保证无套利；缺乏适应性对适定性无害。\n\n选择所有正确的陈述。", "solution": "对问题陈述进行验证。\n\n**1. 提取已知条件：**\n- **模型：** 单因子Heath-Jarrow-Morton (HJM) 模型。\n- **标的：** 瞬时远期利率 $f(t,T)$。\n- **概率测度：** 风险中性测度 $\\mathbb{Q}$。\n- **随机驱动：** 标准布朗运动 $W_t$。\n- **远期利率随机微分方程(SDE)：** $\\mathrm{d}f(t,T) = \\alpha(t,T)\\,\\mathrm{d}t + \\sigma(t,T)\\,\\mathrm{d}W_t$，对于 $t \\le T$。\n- **系数：** $\\alpha(t,T)$ 和 $\\sigma(t,T)$ 是确定性函数。\n- **定义：**\n    - 短期利率：$r(t) = f(t,t)$。\n    - 货币市场账户：$B(t) = \\exp\\!\\left(\\int_0^t r(s)\\,\\mathrm{d}s\\right)$。\n    - 零息债券价格：$P(t,T) = \\exp\\!\\left(-\\int_t^T f(t,u)\\,\\mathrm{d}u\\right)$。\n- **初始条件：** $f(0,T)$ 在紧集上连续且有界。\n- **波动率设定：** $\\sigma(t,T) = k\\,(T-t)^{-p}$ 对于 $T>t$，其中常数 $k>0$ 且 $p \\ge 0$。\n\n**2. 验证：**\n- **科学依据：** 该问题设定在标准的HJM框架内，这是数理金融的基石。所给的波动率结构是研究模型性质和潜在病态的已知案例。该问题具有科学依据。\n- **适定性：** 问题要求评估在给定波动率结构下模型数学性质的陈述。这是一个明确定义的数学任务。\n- **客观性：** 问题以精确、客观的数学语言陈述。\n- **完整性：** 问题提供了推导HJM无套利条件和分析指定波动率函数后果所需的所有必要信息。\n- **总体而言：** 该问题是量化金融领域一个有效且适定的问题。\n\n**3. 结论：**\n问题陈述有效。开始求解。\n\n### HJM无套利条件的推导\n\n无套利要求任何可交易资产的价格，在用货币市场账户贴现后，在风险中性测度 $\\mathbb{Q}$ 下是鞅。对于到期日为 $T$ 的零息债券，其贴现价格为 $Z(t,T) = B(t)^{-1}P(t,T)$。\n\n债券价格 $P(t,T) = \\exp\\left(-\\int_t^T f(t,u)\\,\\mathrm{d}u\\right)$ 的动态可用Itô引理求得。其微分为：\n$$\n\\frac{\\mathrm{d}P(t,T)}{P(t,T)} = \\left( r(t) - \\int_t^T \\alpha(t,u)\\,\\mathrm{d}u + \\frac{1}{2} \\left(\\int_t^T \\sigma(t,u)\\,\\mathrm{d}u\\right)^2 \\right) \\mathrm{d}t - \\left(\\int_t^T \\sigma(t,u)\\,\\mathrm{d}u\\right) \\mathrm{d}W_t\n$$\n贴现价格 $Z(t,T)$ 的动态则由下式给出：\n$$\n\\mathrm{d}Z(t,T) = Z(t,T) \\left[ \\left( - \\int_t^T \\alpha(t,u)\\,\\mathrm{d}u + \\frac{1}{2} \\left(\\int_t^T \\sigma(t,u)\\,\\mathrm{d}u\\right)^2 \\right) \\mathrm{d}t - \\left(\\int_t^T \\sigma(t,u)\\,\\mathrm{d}u\\right) \\mathrm{d}W_t \\right]\n$$\n为使 $Z(t,T)$ 成为局部鞅，其漂移项必须为零。这对所有 $T$ 都必须成立：\n$$\n\\int_t^T \\alpha(t,u)\\,\\mathrm{d}u = \\frac{1}{2} \\left( \\int_t^T \\sigma(t,u)\\,\\mathrm{d}u \\right)^2\n$$\n对 $T$ 求导，得到HJM无套利漂移条件：\n$$\n\\alpha(t,T) = \\sigma(t,T) \\int_t^T \\sigma(t,u)\\,\\mathrm{d}u\n$$\n这个条件将远期利率的漂移和波动率联系起来。我们现在用它来分析给定的波动率结构 $\\sigma(t,T) = k\\,(T-t)^{-p}$。\n\n### 选项评估\n\n**A. 如果 $p \\ge 1$，对于每个固定的 $(t,T)$ 且 $t<T$，必须联系 $\\alpha$ 和 $\\sigma$ 的无套利漂移 $\\alpha(t,T)$ 是无穷大，因此远期利率随机微分方程是不适定的。**\n\n要计算 $\\alpha(t,T)$，我们必须首先评估积分项：\n$$\n\\int_t^T \\sigma(t,u)\\,\\mathrm{d}u = \\int_t^T k\\,(u-t)^{-p}\\,\\mathrm{d}u\n$$\n令 $v = u-t$，则 $\\mathrm{d}v = \\mathrm{d}u$。积分限变为 $0$ 和 $T-t$。\n$$\n\\int_0^{T-t} k\\,v^{-p}\\,\\mathrm{d}v\n$$\n这是一个标准的p-积分。它收敛当且仅当 $v$ 的幂大于 $-1$，即 $-p > -1$，意味着 $p < 1$。\n- 如果 $p=1$，积分为 $k\\int_0^{T-t} v^{-1}\\,\\mathrm{d}v = k[\\ln v]_0^{T-t}$，由于在 $v=0$ 处的奇点而发散。\n- 如果 $p>1$，积分为 $k\\left[\\frac{v^{1-p}}{1-p}\\right]_0^{T-t}$。由于 $1-p < 0$，在下限 $v=0$ 处的值为无穷大。\n\n因此，对于任何 $p \\ge 1$，积分 $\\int_t^T \\sigma(t,u)\\,\\mathrm{d}u$ 对任何 $t<T$ 都是无穷大。由于 $\\sigma(t,T) = k(T-t)^{-p}$ 对 $t<T$ 是有限且非零的，漂移项 $\\alpha(t,T) = \\sigma(t,T) \\int_t^T \\sigma(t,u)\\,\\mathrm{d}u$ 也是无穷大。一个具有无限漂移系数的随机微分方程是不适定的。\n\n**结论：** **正确**。\n\n**B. 如果 $0 \\le p < 1$ 且 $\\sigma$ 是如上指定的确定性函数，则对于每个固定的到期日 $T$，贴现债券价格 $B(t)^{-1}P(t,T)$ 是在 $[0,T]$ 上的真鞅。**\n\n对于 $0 \\le p < 1$，漂移条件是有明确定义的。贴现债券价格 $Z(t,T)$ 是一个局部鞅。要成为真鞅，一个充分条件是Novikov条件。$Z(t,T)$ 的随机微分方程是 $\\mathrm{d}Z_t = -Z_t \\Sigma_P(t,T)\\,\\mathrm{d}W_t$，其中 $\\Sigma_P(t,T) = \\int_t^T \\sigma(t,u)\\,\\mathrm{d}u$。解是随机指数 $Z(t,T) = Z(0,T)\\mathcal{E}(-\\int \\Sigma_P(s,T) \\mathrm{d}W_s)_t$。由于 $\\Sigma_P(s,T)$ 是确定性的，Novikov条件简化为要求驱动随机积分的总方差是有限的。也就是说，我们必须检查是否 $\\int_0^T \\Sigma_P(s,T)^2\\,\\mathrm{d}s < \\infty$。\n\n首先，我们计算 $\\Sigma_P(s,T)$：\n$$\n\\Sigma_P(s,T) = \\int_s^T \\sigma(s,u)\\,\\mathrm{d}u = k \\int_s^T (u-s)^{-p}\\,\\mathrm{d}u = k \\left[\\frac{(u-s)^{1-p}}{1-p}\\right]_s^T = \\frac{k}{1-p}(T-s)^{1-p}\n$$\n现在我们计算其平方的积分：\n$$\n\\int_0^T \\Sigma_P(s,T)^2\\,\\mathrm{d}s = \\int_0^T \\left(\\frac{k}{1-p}\\right)^2 (T-s)^{2(1-p)}\\,\\mathrm{d}s = \\left(\\frac{k}{1-p}\\right)^2 \\int_0^T (T-s)^{2-2p}\\,\\mathrm{d}s\n$$\n该积分收敛当且仅当指数 $2-2p > -1$，简化为 $3 > 2p$，或 $p < 3/2$。问题陈述 $0 \\le p < 1$ 是一个更严格的条件，完全位于收敛区域 $p < 3/2$ 内。由于积分方差是一个有限常数，Novikov条件 $E\\left[\\exp\\left(\\frac{1}{2}\\int_0^T \\Sigma_P(s,T)^2\\,\\mathrm{d}s\\right)\\right] < \\infty$ 不证自明地满足。因此，局部鞅 $Z(t,T)$ 是一个真鞅。\n\n**结论：** **正确**。\n\n**C. 如果 $0 < p < 1$，则 $\\sigma(t,t)$ 是有限的，并且短期利率 $r(t)=f(t,t)$ 满足一个扩散系数为 $\\sigma(t,t)$ 的随机微分方程。**\n\n该陈述提出了两个主张。首先，“$\\sigma(t,t)$ 是有限的”。让我们用定义 $\\sigma(t,T) = k(T-t)^{-p}$ 来评估这一点。\n$$\n\\sigma(t,t) = \\lim_{T \\to t^+} k(T-t)^{-p}\n$$\n对于任何 $p > 0$，此极限为无穷大。由于陈述考虑的是 $0 < p < 1$，所以 $\\sigma(t,t)$ 是有限的前提是错误的。\n其次，该陈述声称 $r(t)$ 的随机微分方程的扩散系数为 $\\sigma(t,t)$。短期利率的定义是 $r(t) = f(t,t)$。使用远期利率的积分表示，\n$$\nr(t) = f(t,t) = f(0,t) + \\int_0^t \\alpha(s,t)\\,\\mathrm{d}s + \\int_0^t \\sigma(s,t)\\,\\mathrm{d}W_s\n$$\n$\\mathrm{d}r(t)$ 的扩散部分在形式上是 $\\sigma(t,t)\\mathrm{d}W_t$。然而，要使其有意义，$\\sigma(t,t)$ 必须是有明确定义且有限的。如上所示，它不是。\n此外，要使短期利率过程 $r(t)$ 成为一个适定的半鞅，随机积分 $\\int_0^t \\sigma(s,t)\\,\\mathrm{d}W_s = \\int_0^t k(t-s)^{-p}\\,\\mathrm{d}W_s$ 必须是有明确定义的。该积分的方差是 $\\int_0^t k^2(t-s)^{-2p}\\,\\mathrm{d}s$。此积分仅在 $2p < 1$，即 $p < 1/2$ 时收敛。\n对于 $1/2 \\le p < 1$，随机积分的方差是无穷大，这意味着过程 $r(t)$ 甚至在Itô意义上都没有被适当地定义。该陈述在多个基本层面上都是不正确的。\n\n**结论：** **不正确**。\n\n**D. 如果 $0 < p < 1$，映射 $(t,T)\\mapsto f(t,T)$ 在边界 $T=t$ 处不一定联合连续；这种缺乏正则性的情况可能会使那些在包含任意接近 $t$ 的 $T$ 点的网格上演化远期曲线的数值格式不稳定。**\n\n我们考察映射 $T \\mapsto f(t,T)$ 在固定 $t$ 时于点 $T=t$ 的连续性。\n$$\nf(t,T) = f(0,T) + \\int_0^t \\alpha(s,T)\\,\\mathrm{d}s + \\int_0^t \\sigma(s,T)\\,\\mathrm{d}W_s\n$$\n根据假设，初始曲线 $f(0,T)$ 是连续的。可以证明，当 $p<1$ 时，确定性积分项在 $T$ 上是连续的。关键项是随机积分 $J(T) = \\int_0^t \\sigma(s,T)\\,\\mathrm{d}W_s$。\n正如对选项C的分析，过程 $r(t) = f(t,t)$ 要求随机积分 $J(t) = \\int_0^t \\sigma(s,t)\\,\\mathrm{d}W_s$ 是有明确定义的。这仅在 $p < 1/2$ 时成立。对于 $p \\in [1/2, 1)$，$f(t,t)$ 不是 $L^2(\\Omega)$ 中一个有明确定义的随机变量，因为其方差是无穷大。在这种情况下，不可能有连续性，因为在 $T=t$ 处的值在标准意义上不存在。要使 $f(t,T)$ 在 $T=t$ 处连续，必须有 $\\lim_{T \\to t^+} f(t,T) = f(t,t)$。由于对于 $p \\ge 1/2$，$f(t,t)$ 是不适定的，所以连续性不成立。\n范围 $0 < p < 1$ 包括了区间 $[1/2, 1)$，在此区间连续性不成立。因此，关于连续性没有保证（“不一定联合连续”）的陈述是正确的。在对角线 $T=t$ 处的这种不连续性是此HJM参数化的一个已知病态，并且确实对离散化 $(t,T)$ 平面的数值方法造成严重问题。\n\n**结论：** **正确**。\n\n**E. 如果 $\\sigma$ 关于 $t$ 不是 $\\mathcal{F}_t$-适应的，HJM无套利约束仍然可以施加并保证无套利；缺乏适应性对适定性无害。**\n\n这个陈述是根本错误的。整个Itô随机积分理论——HJM框架和风险中性定价的基础——关键地依赖于所有被积过程都适应于滤子 $\\mathcal{F}_t$ 的假设。一个适应过程 $\\sigma(t,T)$ 是指对于每个 $t$，$\\sigma(t,T)$ 都是 $\\mathcal{F}_t$-可测的。这意味着其在时间 $t$ 的值在给定直到时间 $t$ 的布朗运动历史的情况下是已知的。\n如果 $\\sigma$ 不适应，它将是一个“预知”过程。随机积分 $\\int \\sigma\\,\\mathrm{d}W$ 将不是一个Itô积分，并且它不会是一个鞅。Itô引理将不以其标准形式适用。因此，HJM无套利条件的整个推导都崩溃了。缺乏适应性并非“无害”，它是一个致命的缺陷，使得模型在数理金融的标准框架下不适定。虽然存在用于预知随机积分的理论（例如Skorokhod积分），但它们不具备套利定价所必需的鞅性质。\n\n**结论：** **不正确**。\n\n### 结论\n\n陈述 A, B, D 是正确的，而陈述 C, E 是不正确的。", "answer": "$$\\boxed{ABD}$$"}]}