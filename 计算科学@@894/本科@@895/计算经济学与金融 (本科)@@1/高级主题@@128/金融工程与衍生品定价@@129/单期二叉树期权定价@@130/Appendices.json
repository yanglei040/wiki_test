{"hands_on_practices": [{"introduction": "在无套利的世界里，任何衍生品都可以通过一个由标的资产和无风险资产组成的投资组合来完美复制。这个动手实践将带你深入理解这种复制原理的核心机制，通过构建一个“跨式期权组合”（straddle）的复制投资组合。这个练习不仅能锻炼你求解复制投资组合中股票头寸 ($\\Delta$) 和无风险资产头寸 ($B$) 的关键技能，还将揭示当衍生品在所有未来状态下都具有恒定收益时，其风险暴露的深刻含义。[@problem_id:2430969]", "id": "2430969", "problem": "在一个无套利的单期二叉树模型中，一支风险股票在时间$0$的价格为$S_0 = 100$。经过一个时期到达时间$1$，该股票价格将变动至$S_u = u S_0$或$S_d = d S_0$，其中$u = \\frac{6}{5}$且$d = \\frac{4}{5}$。无风险资产是一种纯贴现债券，在时间$0$的价格为$1$，在时间$1$确定性地增长到$R$，其中$R = 1 + r_f = \\frac{21}{20}$。考虑一个针对该股票的欧式看涨期权和一个欧式看跌期权，两者具有相同的行权价$K = 100$和相同的到期日（时间$1$）。一个多头跨式套利是一个投资组合，包含一个看涨期权和一个看跌期权，两者具有相同的行权价和到期日。\n\n仅使用无套利原理、单一价格定律以及二叉树模型中的状态复制法，确定在两种状态下都能复制多头跨式套利在时间$1$的收益所需的股票份数$\\Delta$和无风险债券单位数$B$（在时间$0$购买）。请以有序对$(\\Delta, B)$的形式表达您的最终答案。请提供精确值，无需四舍五入。", "solution": "经检验，该问题是自洽的，在金融工程原理上是科学合理的，并且提法得当。无套利条件 $d < R < u$ 得到满足，因为 $\\frac{4}{5} < \\frac{21}{20} < \\frac{6}{5}$，等价于 $0.8 < 1.05 < 1.2$。因此，可以构建一个解。\n\n任务是找到一个复制投资组合的构成，该组合由$\\Delta$份股票和$B$单位无风险债券组成，其在时间$t=1$的收益与一个多头跨式套利的收益相匹配。多头跨式套利是一个包含一个欧式看涨期权和一个欧式看跌期权的投资组合，两者的行权价$K$和到期日相同。\n\n一个欧式看涨期权在到期日的收益是 $C_1 = \\max(0, S_1 - K)$，其中$S_1$是时间$1$的股票价格。\n一个欧式看跌期权在到期日的收益是 $P_1 = \\max(0, K - S_1)$。\n我们将多头跨式套利的收益记为$V_1$，它是其组成的看涨期权和看跌期权收益之和：\n$$V_1 = C_1 + P_1 = \\max(0, S_1 - K) + \\max(0, K - S_1)$$\n这个和可以简化为到期时股票价格与行权价之差的绝对值：\n$$V_1 = |S_1 - K|$$\n我们给定的参数如下：\n初始股价：$S_0 = 100$\n行权价：$K = 100$\n上涨因子：$u = \\frac{6}{5}$\n下跌因子：$d = \\frac{4}{5}$\n无风险总回报率：$R = 1 + r_f = \\frac{21}{20}$\n\n首先，我们必须确定在时间$t=1$时可能的股票价格以及对应的跨式套利收益。\n在“上涨”状态下，股票价格为：\n$$S_u = u S_0 = \\frac{6}{5} \\times 100 = 120$$\n跨式套利在上涨状态下的收益$V_u$为：\n$$V_u = |S_u - K| = |120 - 100| = 20$$\n在“下跌”状态下，股票价格为：\n$$S_d = d S_0 = \\frac{4}{5} \\times 100 = 80$$\n跨式套利在下跌状态下的收益$V_d$为：\n$$V_d = |S_d - K| = |80 - 100| = |-20| = 20$$\n\n一个复制投资组合由$\\Delta$份股票和$B$单位无风险债券组成。在时间$t=0$建立该组合的成本是$\\Delta S_0 + B$，因为债券价格为$1$。在时间$t=1$，该组合的价值必须在两种可能的状态下都与跨式套利的收益相匹配。这产生了一个包含两个未知数$\\Delta$和$B$的二元一次方程组。\n\n在上涨状态下：\n$$\\Delta S_u + B R = V_u$$\n$$\\Delta (u S_0) + B R = V_u \\quad (1)$$\n在下跌状态下：\n$$\\Delta S_d + B R = V_d$$\n$$\\Delta (d S_0) + B R = V_d \\quad (2)$$\n\n为了解出$\\Delta$，我们将方程$(2)$从方程$(1)$中减去：\n$$\\Delta (u S_0) - \\Delta (d S_0) = V_u - V_d$$\n$$\\Delta S_0 (u - d) = V_u - V_d$$\n$$\\Delta = \\frac{V_u - V_d}{S_0(u - d)}$$\n代入数值：\n$$\\Delta = \\frac{20 - 20}{100 \\left(\\frac{6}{5} - \\frac{4}{5}\\right)} = \\frac{0}{100 \\left(\\frac{2}{5}\\right)} = \\frac{0}{40} = 0$$\n所以，复制投资组合持有零份股票。这是合乎逻辑的，因为跨式套利的收益在两种状态下是恒定的（$20$），这意味着其收益是无风险的，并且不依赖于标的股票的变动。\n\n接下来，我们求解$B$。我们可以使用方程$(1)$或$(2)$。使用方程$(1)$：\n$$B R = V_u - \\Delta u S_0$$\n$$B = \\frac{V_u - \\Delta u S_0}{R}$$\n代入数值：\n$$B = \\frac{20 - (0) \\left(\\frac{6}{5} \\times 100\\right)}{\\frac{21}{20}} = \\frac{20}{\\frac{21}{20}}$$\n$$B = 20 \\times \\frac{20}{21} = \\frac{400}{21}$$\n复制投资组合由$0$份股票和$\\frac{400}{21}$单位无风险债券组成。该组合在时间$0$的成本是$\\Delta S_0 + B = (0)(100) + \\frac{400}{21} = \\frac{400}{21}$。\n在时间$t=1$，其价值在两种状态下都将是$B R = \\frac{400}{21} \\times \\frac{21}{20} = \\frac{400}{20} = 20$，这完美地复制了跨式套利的收益。\n\n股票的份数是$\\Delta=0$，无风险债券的单位数是$B=\\frac{400}{21}$。问题要求以有序对$(\\Delta, B)$的形式给出答案。", "answer": "$$\\boxed{\\begin{pmatrix} 0 & \\frac{400}{21} \\end{pmatrix}}$$"}, {"introduction": "掌握了基本复制方法后，我们可以将其应用于更复杂的金融工具。这个练习将挑战你为一种非标准的“价差期权”（gap option）定价，其收益结构与普通期权有所不同。通过处理这种新颖的收益函数，你将学会如何将基本定价原理推广到任何给定的或有支付情景，从而真正理解二叉树模型的灵活性和强大功能。[@problem_id:2430948]", "id": "2430948", "problem": "考虑一个无摩擦的、时间跨度为 $0$ 到 $1$ 的单期二叉树金融市场模型。当前股票价格为 $S_0 = 50$。在这一期内，股票价格要么上涨至 $S_1^{u} = u S_0$（其中 $u = 1.40$），要么下跌至 $S_1^{d} = d S_0$（其中 $d = 0.80$）。存在一种无风险债券，其价值在时间 $0$ 为 $1$，在时间 $1$ 增长至 $R$，其中 $R = 1.05$。市场满足无套利条件，且无股息。\n\n一份在时间 $1$ 到期的欧式价差期权（European gap option）的收益为\n$$\nV_1 =\n\\begin{cases}\nS_1 - K_1, & \\text{if } S_1 > K_2, \\\\\n0, & \\text{otherwise},\n\\end{cases}\n$$\n其中 $K_1 = 60$ 且 $K_2 = 65$。\n\n计算该价差期权在时间 $0$ 的无套利价格。将最终答案四舍五入至四位有效数字。以与 $S_0$ 相同的货币单位表示您的答案。", "solution": "单期二叉树模型意味着，在无套利条件下，任何在时间 $1$ 有两种可能收益的或有要求权（contingent claim）都可以通过一个由 $\\Delta$ 份股票和 $B$ 单位无风险债券组成的投资组合来复制。将上涨和下跌状态的股票价格表示为\n$$\nS_1^{u} = u S_0, \\qquad S_1^{d} = d S_0,\n$$\n并将相应的要求权收益表示为 $V^{u}$ 和 $V^{d}$。复制需要求解\n$$\n\\Delta \\, S_1^{u} + B R = V^{u}, \\qquad \\Delta \\, S_1^{d} + B R = V^{d}.\n$$\n一旦确定了 $\\Delta$ 和 $B$，时间 $0$ 的无套利价格为\n$$\nV_0 = \\Delta \\, S_0 + B.\n$$\n\n对于收益为 $V_1 = S_1 - K_1$（如果 $S_1 > K_2$）或 $0$（否则）的价差期权，其状态收益为\n$$\nV^{u} =\n\\begin{cases}\nu S_0 - K_1, & \\text{if } u S_0 > K_2, \\\\\n0, & \\text{otherwise},\n\\end{cases}\n\\qquad\nV^{d} =\n\\begin{cases}\nd S_0 - K_1, & \\text{if } d S_0 > K_2, \\\\\n0, & \\text{otherwise}.\n\\end{cases}\n$$\n\n根据给定的参数，\n$$\nu S_0 = 1.40 \\times 50 = 70 > 65 = K_2 \\quad \\Rightarrow \\quad V^{u} = 70 - 60 = 10,\n$$\n$$\nd S_0 = 0.80 \\times 50 = 40 \\le 65 = K_2 \\quad \\Rightarrow \\quad V^{d} = 0.\n$$\n\n因此，复制方程组变为\n$$\n\\Delta \\, (u S_0) + B R = 10, \\qquad \\Delta \\, (d S_0) + B R = 0.\n$$\n用第一个方程减去第二个方程，得到\n$$\n\\Delta \\, (u - d) S_0 = 10 \\quad \\Rightarrow \\quad \\Delta = \\frac{10}{(u - d) S_0}.\n$$\n代入 $u = 1.40$、$d = 0.80$ 和 $S_0 = 50$：\n$$\n\\Delta = \\frac{10}{(1.40 - 0.80)\\times 50} = \\frac{10}{0.60 \\times 50} = \\frac{10}{30} = \\frac{1}{3}.\n$$\n将 $\\Delta$ 代入下跌状态的方程中求解 $B$：\n$$\n\\Delta \\, d S_0 + B R = 0 \\quad \\Rightarrow \\quad B = -\\frac{\\Delta \\, d S_0}{R}.\n$$\n代入 $\\Delta = \\frac{1}{3}$、$d = 0.80$、$S_0 = 50$ 和 $R = 1.05$：\n$$\nB = -\\frac{\\left(\\frac{1}{3}\\right)\\times 0.80 \\times 50}{1.05}\n= -\\frac{\\frac{40}{3}}{1.05}\n= -\\frac{40}{3 \\times 1.05}.\n$$\n因此，时间 $0$ 的价格是\n$$\nV_0 = \\Delta S_0 + B\n= \\frac{1}{3}\\times 50 - \\frac{40}{3 \\times 1.05}\n= \\frac{50}{3} - \\frac{40}{3 \\times 1.05}.\n$$\n计算其值：\n$$\n\\frac{50}{3} = 16.\\overline{6}, \\qquad \\frac{40}{3 \\times 1.05} = \\frac{40}{3.15} \\approx 12.6984127,\n$$\n所以\n$$\nV_0 \\approx 16.6666667 - 12.6984127 \\approx 3.96825397.\n$$\n\n等价地，使用无套利条件所蕴含的风险中性概率方法，唯一的风险中性概率 $q$ 满足 $q u + (1-q) d = R$，可得\n$$\nq = \\frac{R - d}{u - d} = \\frac{1.05 - 0.80}{1.40 - 0.80} = \\frac{0.25}{0.60} = \\frac{5}{12}.\n$$\n则\n$$\nV_0 = \\frac{1}{R}\\big(q \\cdot 10 + (1-q)\\cdot 0\\big) = \\frac{1}{1.05}\\times \\frac{50}{12} \\approx 3.96825397,\n$$\n这与复制法得到的结果一致。\n\n四舍五入至四位有效数字，\n$$\nV_0 \\approx 3.968.\n$$", "answer": "$$\\boxed{3.968}$$"}, {"introduction": "理论模型在现实世界中的应用需要我们审慎地考虑外部环境的变化。这个实践模拟了政府引入“价格下限”政策的情景，这是一个极佳的思维实验，考验你对二叉树模型深层逻辑的理解。你将发现，当标的资产的未来价格动态被外力改变时，我们必须重新计算风险中性概率，而不能沿用旧的参数，这对于准确评估政策影响和进行正确估值至关重要。[@problem_id:2430937]", "id": "2430937", "problem": "考虑一个从时间 $0$ 到时间 $1$ 的单期二叉树模型。一个标的资产的当前价格为 $S_0 = \\$100$，在没有政策干预的情况下，其价格在时间 $1$ 会演变为 $S_0 u$ 或 $S_0 d$，其中 $u = 1.2$，$d = 0.7$。每期的无风险总回报率为 $R = 1 + r$，其中 $r = 0.05$。该资产不支付收益，且市场是无摩擦、无套利的。一个执行价格为 $K = \\$100$ 的欧式看跌期权在时间 $1$ 到期。\n\n在时间 $0$，政府为该标的资产设立了一项可靠的价格下限政策，该政策在时间 $1$ 执行：标的资产在时间 $1$ 的市场交易价格不能低于 $L = \\$90$。等价地，在上涨情形下，期末交易价格变为 $\\max\\{S_0 u, L\\}$；在下跌情形下，期末交易价格变为 $\\max\\{S_0 d, L\\}$。该政策是完全可信的，且经济环境中没有其他变化。\n\n在这一价格下限政策下，该欧式看跌期权在时间 $0$ 的无套利价格是多少？\n\n选项：\n- A. $\\$8.571$\n- B. $\\$4.762$\n- C. $\\$2.857$\n- D. $\\$14.286$\n- E. 在该政策下，价格无法被唯一定出。", "solution": "问题要求计算在特定政府政策下，一个欧式看跌期权的无套利价格。解法将基于单期二叉树框架下的风险中性定价原理推导得出。\n\n首先，我们必须验证题目的陈述。\n给定的参数如下：\n- 初始资产价格：$S_0 = \\$100$。\n- 无政策干预时的上涨因子：$u = 1.2$。\n- 无政策干预时的下跌因子：$d = 0.7$。\n- 无风险总回报率：$R = 1.05$。\n- 期权执行价格：$K = \\$100$。\n- 政府设定的价格下限：$L = \\$90$。\n\n该问题在科学上基于标准的资产定价二叉树模型，这是金融工程的基石之一。引入政府价格下限是对资产期末收益的一个明确定义的修改。\n\n在政策实施前，必须满足无套利条件 $d < R < u$。当 $d=0.7$，$R=1.05$，$u=1.2$ 时，我们有 $0.7 < 1.05 < 1.2$，此条件成立。因此，初始模型是有效的。\n\n该政策修改了时间 $t=1$ 时的期末资产价格。设政策实施前的价格为 $S_1^{pre}(up) = S_0 u = \\$100 \\times 1.2 = \\$120$ 和 $S_1^{pre}(down) = S_0 d = \\$100 \\times 0.7 = \\$70$。该政策强制规定了最低价格 $L = \\$90$。政策实施后的期末价格，我们记为 $S_1(u)$ 和 $S_1(d)$，分别为：\n$$ S_1(u) = \\max\\{S_1^{pre}(up), L\\} = \\max\\{\\$120, \\$90\\} = \\$120 $$\n$$ S_1(d) = \\max\\{S_1^{pre}(down), L\\} = \\max\\{\\$70, \\$90\\} = \\$90 $$\n\n由于资产价格的两种可能的期末状态（$\\$120$ 和 $\\$90$）是不同的，市场仍然是完备的。为了确保存在唯一的无套利价格，我们必须检查*新的*有效上涨和下跌因子的无套利条件。新的因子是 $u' = S_1(u)/S_0 = \\$120/\\$100 = 1.2$ 和 $d' = S_1(d)/S_0 = \\$90/\\$100 = 0.9$。条件 $d' < R < u'$ 变为 $0.9 < 1.05 < 1.2$，该条件成立。因此，该问题是适定的（well-posed），且存在唯一解。题目陈述是有效的。\n\n我们来求解。期权的无套利价格是在风险中性测度下其期望收益的折现值。价格 $P_0$ 由下式给出：\n$$ P_0 = \\frac{1}{R} [q P_1(u) + (1-q) P_1(d)] $$\n其中 $P_1(u)$ 和 $P_1(d)$ 是期权在上涨和下跌状态下的收益，而 $q$ 是风险中性概率。\n\n关键在于，风险中性概率 $q$ 是由可交易的标的资产决定的。由于政策改变了资产的收益结构，风险中性概率必须根据新的期末价格 $S_1(u)$ 和 $S_1(d)$ 重新计算。风险中性概率 $q$ 是使资产的期望回报率等于无风险利率的值：\n$$ S_0 R = q S_1(u) + (1-q) S_1(d) $$\n求解 $q$：\n$$ q = \\frac{R S_0 - S_1(d)}{S_1(u) - S_1(d)} $$\n代入数值：\n$$ q = \\frac{1.05 \\times \\$100 - \\$90}{\\$120 - \\$90} = \\frac{\\$105 - \\$90}{\\$30} = \\frac{\\$15}{\\$30} = 0.5 $$\n价格上涨的风险中性概率为 $q=0.5$。\n\n接下来，我们计算欧式看跌期权在到期时（$t=1$）的收益。其收益为 $\\max\\{K-S_1, 0\\}$。\n- 上涨状态下的收益：$P_1(u) = \\max\\{\\$100 - S_1(u), 0\\} = \\max\\{\\$100 - \\$120, 0\\} = \\$0$。\n- 下跌状态下的收益：$P_1(d) = \\max\\{\\$100 - S_1(d), 0\\} = \\max\\{\\$100 - \\$90, 0\\} = \\$10$。\n\n最后，我们通过对期望收益进行折现来计算期权在 $t=0$ 时的价格：\n$$ P_0 = \\frac{1}{1.05} [0.5 \\times \\$0 + (1-0.5) \\times \\$10] $$\n$$ P_0 = \\frac{1}{1.05} [0.5 \\times \\$10] = \\frac{\\$5}{1.05} $$\n为了计算精确的分数，我们可以将 $1.05$ 写成 $\\frac{105}{100} = \\frac{21}{20}$。\n$$ P_0 = \\$5 \\times \\frac{20}{21} = \\frac{\\$100}{21} \\approx \\$4.761904... $$\n\n现在，我们评估每个选项：\n\n- **A. $\\$8.571$**：这个值约等于 $\\$60/7$，是在*没有*价格下限政策时该看跌期权的价格。在原始模型中，$q = \\frac{1.05 \\times 100 - 70}{120 - 70} = \\frac{35}{50} = 0.7$。原始收益为 $P_u=0$ 和 $P_d = \\max\\{100-70,0\\}=30$。其价格应为 $P_0 = \\frac{1}{1.05} [0.7 \\times 0 + 0.3 \\times 30] = \\frac{9}{1.05} = \\frac{180}{21} = \\frac{60}{7} \\approx \\$8.571$。价格下限政策减少了股票的潜在损失，这必然会降低看跌期权的价值。因此，此选项**错误**。\n\n- **B. $\\$4.762$**：我们计算出的价格是 $P_0 = \\$100/21 \\approx \\$4.7619$。此选项四舍五入到三位小数后与我们的结果相符。这是**正确**的。\n\n- **C. $\\$2.857$**：这个值约等于 $\\$20/7$，源于一个常见的错误：使用原始的风险中性概率（$q=0.7$），但代入新的期权收益（$P_1(u)=0, P_1(d)=10$）。这样的计算会得到 $P_0 = \\frac{1}{1.05} [0.7 \\times 0 + 0.3 \\times 10] = \\frac{3}{1.05} = \\frac{60}{21} = \\frac{20}{7} \\approx \\$2.857$。这在理论上是不一致的，因为风险中性测度必须从实际交易资产的价格动态中导出，而该动态已被政策所改变。因此，此选项**错误**。\n\n- **D. $\\$14.286$**：这个值甚至远高于原始看跌期权的价格。一个限制标的资产下行风险的政策不可能增加看跌期权的价值。此选项在逻辑上不成立。因此，此选项**错误**。\n\n- **E. 在该政策下，价格无法被唯一定出。**：如果市场变得不完备（即 $S_1(u)=S_1(d)$）或存在套利机会，这个说法才会成立。如验证阶段所示，新的期末价格是不同的（$\\$120 \\neq \\$90$），并且无套利条件（$d' < R < u'$）也成立。因此，存在唯一的无套利价格。因此，此选项**错误**。", "answer": "$$\\boxed{B}$$"}]}