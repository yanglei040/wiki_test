{
    "hands_on_practices": [
        {
            "introduction": "粒子群优化（PSO）是一种强大的群体智能方法，用于优化复杂函数。它通过模拟鸟群的社会行为，其中每个“粒子”根据自身以及其邻居的经验来调整其“飞行”轨迹。 这项练习将引导您手动完成一个完整的 PSO 迭代步骤，包括参数归一化和速度限制等实际应用中的关键考量，这些对于解决现实世界中的地球物理反演问题至关重要。",
            "id": "3589764",
            "problem": "一个团队正在一项计算地球物理学研究中，使用环形邻域拓扑的粒子群优化（PSO）算法，为瑞利波频散反演一个一维双参数的地下模型。该模型参数向量为 $x = [V_{s}, H]^{\\top}$，其中 $V_{s}$ 是横波速度，单位为 $\\mathrm{km/s}$，$H$ 是层厚度，单位为 $\\mathrm{km}$。为缓解参数尺度差异，该算法内部使用一个由下式定义的归一化参数 $z$：\n$z = D^{-1}(x - x_{\\mathrm{ref}})$，\n其中参考值为 $x_{\\mathrm{ref}} = [2.5, 1.5]^{\\top}$，$D = \\mathrm{diag}(0.5, 0.5)$，两者均以 $x$ 的物理单位表示。PSO 的更新和速度限制完全在归一化空间中进行，然后映射回物理空间。\n\n考虑一个由三个粒子组成的环，其当前的物理空间位置 $x_{i}$、速度 $v_{i}$、个体最优值 $p_{i}$ 和邻域最优值 $n_{i}$ 如下（单位如上），其中环序为 $1 \\to 2 \\to 3 \\to 1$：\n- 粒子 $1$：$x_{1} = [2.2, 1.8]^{\\top}$，$v_{1} = [0.05, -0.02]^{\\top}$，$p_{1} = [2.15, 1.85]^{\\top}$，$n_{1} = [2.95, 1.05]^{\\top}$。\n- 粒子 $2$：$x_{2} = [2.9, 1.2]^{\\top}$，$v_{2} = [-0.08, 0.04]^{\\top}$，$p_{2} = [2.95, 1.05]^{\\top}$，$n_{2} = [2.35, 1.10]^{\\top}$。\n- 粒子 $3$：$x_{3} = [2.4, 1.0]^{\\top}$，$v_{3} = [0.02, 0.00]^{\\top}$，$p_{3} = [2.35, 1.10]^{\\top}$，$n_{3} = [2.15, 1.85]^{\\top}$。\n\nPSO 的超参数为：惯性权重 $w = 0.7$，认知加速度 $c_{1} = 1.5$，社会加速度 $c_{2} = 1.2$。归一化空间中的速度限制是逐元素的，且 $v_{\\max} = [0.9, 0.9]^{\\top}$。随机乘子 $r_{1}$ 和 $r_{2}$ 对每个粒子和每个维度独立抽取，并在本次迭代中由以下随机种子固定：\n- 对于粒子 $1$：$r_{1} = [0.62, 0.15]^{\\top}$，$r_{2} = [0.35, 0.78]^{\\top}$。\n- 对于粒子 $2$：$r_{1} = [0.27, 0.91]^{\\top}$，$r_{2} = [0.58, 0.22]^{\\top}$。\n- 对于粒子 $3$：$r_{1} = [0.83, 0.40]^{\\top}$，$r_{2} = [0.11, 0.66]^{\\top}$。\n\n计算所有三个粒子下一次迭代在物理空间中的速度 $v_{i}^{+}$ 和位置 $x_{i}^{+}$。已知规范的 PSO 速度-位置更新在归一化空间中应用，使用了上述环形邻域最优值和速度限制，然后映射回物理空间。\n\n以单行矩阵的形式提供你的最终结果，顺序为\n$\\big[v_{1,1}^{+}, v_{1,2}^{+}, x_{1,1}^{+}, x_{1,2}^{+}, v_{2,1}^{+}, v_{2,2}^{+}, x_{2,1}^{+}, x_{2,2}^{+}, v_{3,1}^{+}, v_{3,2}^{+}, x_{3,1}^{+}, x_{3,2}^{+}\\big]$。\n将所有数值条目四舍五入到四位有效数字。最终的方框答案中不要包含单位，但在整个计算过程中将 $V_{s}$ 的单位解释为 $\\mathrm{km/s}$，将 $H$ 的单位解释为 $\\mathrm{km}$。",
            "solution": "### 步骤1：提取给定条件\n- **模型参数**: $x = [V_{s}, H]^{\\top}$，其中 $V_s$ 是横波速度，单位为 $\\mathrm{km/s}$，$H$ 是层厚度，单位为 $\\mathrm{km}$。\n- **归一化变换**: $z = D^{-1}(x - x_{\\mathrm{ref}})$。\n- **参考向量**: $x_{\\mathrm{ref}} = [2.5, 1.5]^{\\top}$，以物理单位表示。\n- **缩放矩阵**: $D = \\mathrm{diag}(0.5, 0.5)$，以物理单位表示。\n- **粒子数据（物理空间）**:\n  - 粒子 $1$：$x_{1} = [2.2, 1.8]^{\\top}$，$v_{1} = [0.05, -0.02]^{\\top}$，$p_{1} = [2.15, 1.85]^{\\top}$，$n_{1} = [2.95, 1.05]^{\\top}$。\n  - 粒子 $2$：$x_{2} = [2.9, 1.2]^{\\top}$，$v_{2} = [-0.08, 0.04]^{\\top}$，$p_{2} = [2.95, 1.05]^{\\top}$，$n_{2} = [2.35, 1.10]^{\\top}$。\n  - 粒子 $3$：$x_{3} = [2.4, 1.0]^{\\top}$，$v_{3} = [0.02, 0.00]^{\\top}$，$p_{3} = [2.35, 1.10]^{\\top}$，$n_{3} = [2.15, 1.85]^{\\top}$。\n- **PSO 超参数**:\n  - 惯性权重: $w = 0.7$。\n  - 认知加速度: $c_{1} = 1.5$。\n  - 社会加速度: $c_{2} = 1.2$。\n- **速度限制（归一化空间）**: $v_{\\max} = [0.9, 0.9]^{\\top}$。\n- **随机乘子**:\n  - 对于粒子 $1$：$r_{1} = [0.62, 0.15]^{\\top}$，$r_{2} = [0.35, 0.78]^{\\top}$。\n  - 对于粒子 $2$：$r_{1} = [0.27, 0.91]^{\\top}$，$r_{2} = [0.58, 0.22]^{\\top}$。\n  - 对于粒子 $3$：$r_{1} = [0.83, 0.40]^{\\top}$，$r_{2} = [0.11, 0.66]^{\\top}$。\n- **任务**: 计算所有三个粒子下一次迭代在物理空间中的速度 $v_{i}^{+}$ 和位置 $x_{i}^{+}$。将最终答案四舍五入到四位有效数字。\n\n### 步骤2：使用提取的给定条件进行验证\n该问题在科学上是合理的、适定的和客观的。它描述了粒子群优化（PSO）算法在计算地球物理学中一个反问题上的标准应用。所有必要的参数、初始条件和算法规则都已提供。这些数值在数值上是一致的，并且没有违反任何数学或物理原理。问题指明 PSO 更新在归一化空间中进行，这是一种常用技术。为每个粒子提供特定的邻域最优值（$n_i$）是算法在特定迭代状态下的给定条件，虽然其模式可能很特定，但这并不构成矛盾。该问题是自洽的，并且在算法上是可执行的。\n\n### 步骤3：结论与行动\n该问题有效。将提供完整解答。\n\n问题的核心是在归一化参数空间中应用 PSO 更新方程，然后将结果变换回物理空间。\n\n首先，我们定义变换方程。令物理空间中的向量用下标 $x$ 表示（例如 $x_i, v_x$），归一化空间中的向量用下标 $z$ 表示（例如 $z_i, v_z$）。\n从物理空间到归一化空间的变换由下式给出：\n$z = D^{-1}(x - x_{\\mathrm{ref}})$\n速度变换通过对位置变换求导得到：$v_z = D^{-1}v_x$。\n给定 $D = \\mathrm{diag}(0.5, 0.5)$，其逆矩阵为 $D^{-1} = \\mathrm{diag}(2, 2)$。\n所以，$z = 2(x - x_{\\mathrm{ref}})$ 且 $v_z = 2v_x$。\n\n从归一化空间到物理空间的变换是：\n$x = Dz + x_{\\mathrm{ref}} = 0.5z + x_{\\mathrm{ref}}$\n$v_x = Dv_z = 0.5v_z$\n\n归一化空间中的规范 PSO 更新方程是：\n1. 速度更新：$v_{z,i}^{+} = w v_{z,i} + c_{1} (r_{1,i} \\odot (p_{z,i} - z_i)) + c_{2} (r_{2,i} \\odot (n_{z,i} - z_i))$\n2. 速度限制：$v_{z,i}^{+}$ 的每个分量都被限制在 $[-v_{\\max,j}, v_{\\max,j}]$ 范围内。\n3. 位置更新：$z_i^{+} = z_i + v_{z,i}^{+}$\n这里，$\\odot$ 表示逐元素向量乘法。\n\n我们现在将逐个处理每个粒子。\n\n**粒子 1**\n\n1.  **变换到归一化空间**:\n    $x_{\\mathrm{ref}} = [2.5, 1.5]^{\\top}$。\n    $z_1 = 2(x_1 - x_{\\mathrm{ref}}) = 2([2.2, 1.8]^{\\top} - [2.5, 1.5]^{\\top}) = 2([-0.3, 0.3]^{\\top}) = [-0.6, 0.6]^{\\top}$。\n    $v_{z,1} = 2v_1 = 2([0.05, -0.02]^{\\top}) = [0.1, -0.04]^{\\top}$。\n    $p_{z,1} = 2(p_1 - x_{\\mathrm{ref}}) = 2([2.15, 1.85]^{\\top} - [2.5, 1.5]^{\\top}) = 2([-0.35, 0.35]^{\\top}) = [-0.7, 0.7]^{\\top}$。\n    $n_{z,1} = 2(n_1 - x_{\\mathrm{ref}}) = 2([2.95, 1.05]^{\\top} - [2.5, 1.5]^{\\top}) = 2([0.45, -0.45]^{\\top}) = [0.9, -0.9]^{\\top}$。\n\n2.  **速度更新（归一化空间）**:\n    认知项为 $p_{z,1} - z_1 = [-0.7, 0.7]^{\\top} - [-0.6, 0.6]^{\\top} = [-0.1, 0.1]^{\\top}$。\n    社会项为 $n_{z,1} - z_1 = [0.9, -0.9]^{\\top} - [-0.6, 0.6]^{\\top} = [1.5, -1.5]^{\\top}$。\n    未限制的速度 $v'_{z,1}$ 为：\n    $v'_{z,1} = 0.7 [0.1, -0.04]^{\\top} + 1.5 ([0.62, 0.15]^{\\top} \\odot [-0.1, 0.1]^{\\top}) + 1.2 ([0.35, 0.78]^{\\top} \\odot [1.5, -1.5]^{\\top})$\n    $v'_{z,1} = [0.07, -0.028]^{\\top} + 1.5 [-0.062, 0.015]^{\\top} + 1.2 [0.525, -1.17]^{\\top}$\n    $v'_{z,1} = [0.07, -0.028]^{\\top} + [-0.093, 0.0225]^{\\top} + [0.63, -1.404]^{\\top}$\n    $v'_{z,1} = [0.07-0.093+0.63, -0.028+0.0225-1.404]^{\\top} = [0.607, -1.4095]^{\\top}$。\n\n3.  **速度限制**:\n    $v_{\\max} = [0.9, 0.9]^{\\top}$。\n    $v_{z,1,1}^{+} = 0.607$（因为 $|0.607| \\le 0.9$）。\n    $v_{z,1,2}^{+} = -0.9$（因为 $|-1.4095| > 0.9$）。\n    所以，限制后的速度为 $v_{z,1}^{+} = [0.607, -0.9]^{\\top}$。\n\n4.  **位置更新（归一化空间）**:\n    $z_1^{+} = z_1 + v_{z,1}^{+} = [-0.6, 0.6]^{\\top} + [0.607, -0.9]^{\\top} = [0.007, -0.3]^{\\top}$。\n\n5.  **变换回物理空间**:\n    $v_{1}^{+} = 0.5 v_{z,1}^{+} = 0.5 [0.607, -0.9]^{\\top} = [0.3035, -0.45]^{\\top}$。\n    $x_{1}^{+} = 0.5 z_1^{+} + x_{\\mathrm{ref}} = 0.5 [0.007, -0.3]^{\\top} + [2.5, 1.5]^{\\top} = [0.0035, -0.15]^{\\top} + [2.5, 1.5]^{\\top} = [2.5035, 1.35]^{\\top}$。\n\n**粒子 2**\n\n1.  **变换到归一化空间**:\n    $z_2 = 2(x_2 - x_{\\mathrm{ref}}) = 2([2.9, 1.2]^{\\top} - [2.5, 1.5]^{\\top}) = 2([0.4, -0.3]^{\\top}) = [0.8, -0.6]^{\\top}$。\n    $v_{z,2} = 2v_2 = 2([-0.08, 0.04]^{\\top}) = [-0.16, 0.08]^{\\top}$。\n    $p_{z,2} = 2(p_2 - x_{\\mathrm{ref}}) = 2([2.95, 1.05]^{\\top} - [2.5, 1.5]^{\\top}) = 2([0.45, -0.45]^{\\top}) = [0.9, -0.9]^{\\top}$。\n    $n_{z,2} = 2(n_2 - x_{\\mathrm{ref}}) = 2([2.35, 1.10]^{\\top} - [2.5, 1.5]^{\\top}) = 2([-0.15, -0.4]^{\\top}) = [-0.3, -0.8]^{\\top}$。\n\n2.  **速度更新（归一化空间）**:\n    认知项为 $p_{z,2} - z_2 = [0.9, -0.9]^{\\top} - [0.8, -0.6]^{\\top} = [0.1, -0.3]^{\\top}$。\n    社会项为 $n_{z,2} - z_2 = [-0.3, -0.8]^{\\top} - [0.8, -0.6]^{\\top} = [-1.1, -0.2]^{\\top}$。\n    $v'_{z,2} = 0.7 [-0.16, 0.08]^{\\top} + 1.5 ([0.27, 0.91]^{\\top} \\odot [0.1, -0.3]^{\\top}) + 1.2 ([0.58, 0.22]^{\\top} \\odot [-1.1, -0.2]^{\\top})$\n    $v'_{z,2} = [-0.112, 0.056]^{\\top} + 1.5 [0.027, -0.273]^{\\top} + 1.2 [-0.638, -0.044]^{\\top}$\n    $v'_{z,2} = [-0.112, 0.056]^{\\top} + [0.0405, -0.4095]^{\\top} + [-0.7656, -0.0528]^{\\top}$\n    $v'_{z,2} = [-0.112+0.0405-0.7656, 0.056-0.4095-0.0528]^{\\top} = [-0.8371, -0.4063]^{\\top}$。\n\n3.  **速度限制**:\n    $|v'_{z,2,1}| = 0.8371 \\le 0.9$ 且 $|v'_{z,2,2}| = 0.4063 \\le 0.9$。无需限制。\n    $v_{z,2}^{+} = [-0.8371, -0.4063]^{\\top}$。\n\n4.  **位置更新（归一化空间）**:\n    $z_2^{+} = z_2 + v_{z,2}^{+} = [0.8, -0.6]^{\\top} + [-0.8371, -0.4063]^{\\top} = [-0.0371, -1.0063]^{\\top}$。\n\n5.  **变换回物理空间**:\n    $v_{2}^{+} = 0.5 v_{z,2}^{+} = 0.5 [-0.8371, -0.4063]^{\\top} = [-0.41855, -0.20315]^{\\top}$。\n    $x_{2}^{+} = 0.5 z_2^{+} + x_{\\mathrm{ref}} = 0.5 [-0.0371, -1.0063]^{\\top} + [2.5, 1.5]^{\\top} = [-0.01855, -0.50315]^{\\top} + [2.5, 1.5]^{\\top} = [2.48145, 0.99685]^{\\top}$。\n\n**粒子 3**\n\n1.  **变换到归一化空间**:\n    $z_3 = 2(x_3 - x_{\\mathrm{ref}}) = 2([2.4, 1.0]^{\\top} - [2.5, 1.5]^{\\top}) = 2([-0.1, -0.5]^{\\top}) = [-0.2, -1.0]^{\\top}$。\n    $v_{z,3} = 2v_3 = 2([0.02, 0.00]^{\\top}) = [0.04, 0.0]^{\\top}$。\n    $p_{z,3} = 2(p_3 - x_{\\mathrm{ref}}) = 2([2.35, 1.10]^{\\top} - [2.5, 1.5]^{\\top}) = 2([-0.15, -0.4]^{\\top}) = [-0.3, -0.8]^{\\top}$。\n    $n_{z,3} = 2(n_3 - x_{\\mathrm{ref}}) = 2([2.15, 1.85]^{\\top} - [2.5, 1.5]^{\\top}) = 2([-0.35, 0.35]^{\\top}) = [-0.7, 0.7]^{\\top}$。\n\n2.  **速度更新（归一化空间）**:\n    认知项为 $p_{z,3} - z_3 = [-0.3, -0.8]^{\\top} - [-0.2, -1.0]^{\\top} = [-0.1, 0.2]^{\\top}$。\n    社会项为 $n_{z,3} - z_3 = [-0.7, 0.7]^{\\top} - [-0.2, -1.0]^{\\top} = [-0.5, 1.7]^{\\top}$。\n    $v'_{z,3} = 0.7 [0.04, 0.0]^{\\top} + 1.5 ([0.83, 0.40]^{\\top} \\odot [-0.1, 0.2]^{\\top}) + 1.2 ([0.11, 0.66]^{\\top} \\odot [-0.5, 1.7]^{\\top})$\n    $v'_{z,3} = [0.028, 0.0]^{\\top} + 1.5 [-0.083, 0.08]^{\\top} + 1.2 [-0.055, 1.122]^{\\top}$\n    $v'_{z,3} = [0.028, 0.0]^{\\top} + [-0.1245, 0.12]^{\\top} + [-0.066, 1.3464]^{\\top}$\n    $v'_{z,3} = [0.028-0.1245-0.066, 0.0+0.12+1.3464]^{\\top} = [-0.1625, 1.4664]^{\\top}$。\n\n3.  **速度限制**:\n    $|v'_{z,3,1}| = 0.1625 \\le 0.9$。\n    $|v'_{z,3,2}| = 1.4664 > 0.9$，所以它被限制为 $0.9$。\n    $v_{z,3}^{+} = [-0.1625, 0.9]^{\\top}$。\n\n4.  **位置更新（归一化空间）**:\n    $z_3^{+} = z_3 + v_{z,3}^{+} = [-0.2, -1.0]^{\\top} + [-0.1625, 0.9]^{\\top} = [-0.3625, -0.1]^{\\top}$。\n\n5.  **变换回物理空间**:\n    $v_{3}^{+} = 0.5 v_{z,3}^{+} = 0.5 [-0.1625, 0.9]^{\\top} = [-0.08125, 0.45]^{\\top}$。\n    $x_{3}^{+} = 0.5 z_3^{+} + x_{\\mathrm{ref}} = 0.5 [-0.3625, -0.1]^{\\top} + [2.5, 1.5]^{\\top} = [-0.18125, -0.05]^{\\top} + [2.5, 1.5]^{\\top} = [2.31875, 1.45]^{\\top}$。\n\n**最终组装与四舍五入**\n我们汇总计算出的向量，并将每个条目四舍五入到四位有效数字。\n\n-   $v_{1}^{+} = [0.3035, -0.45]^{\\top} \\to [0.3035, -0.4500]^{\\top}$\n-   $x_{1}^{+} = [2.5035, 1.35]^{\\top} \\to [2.504, 1.350]^{\\top}$\n-   $v_{2}^{+} = [-0.41855, -0.20315]^{\\top} \\to [-0.4186, -0.2032]^{\\top}$\n-   $x_{2}^{+} = [2.48145, 0.99685]^{\\top} \\to [2.481, 0.9969]^{\\top}$\n-   $v_{3}^{+} = [-0.08125, 0.45]^{\\top} \\to [-0.08125, 0.4500]^{\\top}$\n-   $x_{3}^{+} = [2.31875, 1.45]^{\\top} \\to [2.319, 1.450]^{\\top}$\n\n最终结果是这些分量的展开单行矩阵。",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n0.3035  -0.4500  2.504  1.350  -0.4186  -0.2032  2.481  0.9969  -0.08125  0.4500  2.319  1.450\n\\end{pmatrix}\n}\n$$"
        },
        {
            "introduction": "差分进化（DE）是另一种非常高效的演化算法，尤其适用于连续参数空间中的全局优化问题。与传统的演化算法不同，DE 利用种群中个体间的向量差来生成新的候选解，这是一种简单而强大的变异策略。 通过手动执行一代“DE/best/1/bin”变体的完整过程，您将对其独特的变异和交叉机制获得具体的理解，并明晰 DE 是如何通过探索参数空间来寻找最优模型的。",
            "id": "3589833",
            "problem": "考虑一个计算地球物理学中的简单全局反演子问题，用于恢复一个双参数模型向量 $x \\in \\mathbb{R}^{2}$，该向量编码了一对简化的归一化地下属性（例如，双层对数阻抗）。假设在这个早期优化阶段，数据失配已在容差范围内最小化，因此正则化项在目标函数中占主导地位。使用二次 Tikhonov 模型范数 $J(x) = \\|x\\|_{2}^{2}$ 作为要最小化的标量目标。\n\n您将执行一代差分进化 (DE) 算法，具体为“DE/best/1/bin”变体。当前种群为\n$$\\mathcal{P}^{0} = \\{(0,0), (1,0), (0,1)\\},$$\n差分权重 $F = 0.8$，二项式交叉率 $CR = 0.9$。贪婪选择规则是：对于每个目标 $x_{i}$，当且仅当 $J(u_{i})  J(x_{i})$ 时，用其试验向量 $u_{i}$ 替换 $x_{i}$；否则保留 $x_{i}$。\n\n对于变异 (DE/best/1)，设 $x_{\\mathrm{best}}$ 为种群中在 $J$ 下具有最小目标值的成员。对于每个目标 $x_{i}$，构造变异体\n$$v_{i} = x_{\\mathrm{best}} + F\\left(x_{r_{1}} - x_{r_{2}}\\right),$$\n其中 $x_{r_{1}}$ 和 $x_{r_{2}}$ 是两个不同的供体，确定性地从当前种群中选择不等于目标 $x_{i}$ 的两个成员，并按字典序排序，使得 $x_{r_{1}}$ 是该对中字典序较小的，而 $x_{r_{2}}$ 是较大的。如果 $x_{\\mathrm{best}}$ 不是目标，这个供体选择可能包含 $x_{\\mathrm{best}}$。\n\n对于二项式交叉，按分量形成试验向量 $u_{i}$ 如下\n$$u_{i,j} = \n\\begin{cases}\nv_{i,j},  \\text{if } r_{i,j} \\leq CR \\text{ or } j=j_{\\mathrm{rand}}(i),\\\\\nx_{i,j},  \\text{otherwise},\n\\end{cases}$$\n其中 $r_{i,j} \\sim \\mathrm{Uniform}(0,1)$ 是固定的抽样值，而 $j_{\\mathrm{rand}}(i)$ 确保每个试验向量至少有一个变异分量。\n\n使用以下确定性随机抽样值和强制索引：\n- 对于目标 $x_{i} = (0,0)$，取 $j_{\\mathrm{rand}}(i) = 1$ 和 $(r_{i,1}, r_{i,2}) = (0.10, 0.20)$。\n- 对于目标 $x_{i} = (1,0)$，取 $j_{\\mathrm{rand}}(i) = 1$ 和 $(r_{i,1}, r_{i,2}) = (0.10, 0.95)$。\n- 对于目标 $x_{i} = (0,1)$，取 $j_{\\mathrm{rand}}(i) = 2$ 和 $(r_{i,1}, r_{i,2}) = (0.95, 0.10)$。\n\n明确执行这单一代DE步骤：识别 $x_{\\mathrm{best}}$，计算变异体 $v_{i}$，通过二项式交叉计算试验向量 $u_{i}$，根据 $J(x)=\\|x\\|_{2}^{2}$ 应用贪婪选择，并获得选择后的种群 $\\mathcal{P}^{1}$。最后，将单个标量值\n$$S = \\sum_{x \\in \\mathcal{P}^{1}} J(x)$$\n报告为精确小数（无单位）。无需四舍五入，报告值中不应包含任何单位。",
            "solution": "首先根据既定标准对问题进行验证。\n\n### 步骤1：提取已知条件\n-   待最小化的目标函数：$J(x) = \\|x\\|_{2}^{2}$，其中模型向量 $x \\in \\mathbb{R}^{2}$。\n-   算法：一代差分进化 (DE)，“DE/best/1/bin”变体。\n-   初始种群：$\\mathcal{P}^{0} = \\{(0,0), (1,0), (0,1)\\}$.\n-   差分权重：$F = 0.8$。\n-   二项式交叉率：$CR = 0.9$。\n-   选择规则：对于一个目标向量 $x_{i}$，当且仅当 $J(u_{i})  J(x_{i})$ 时，它被其试验向量 $u_{i}$ 替换。\n-   变异规则 (“DE/best/1”)：$v_{i} = x_{\\mathrm{best}} + F\\left(x_{r_{1}} - x_{r_{2}}\\right)$，其中 $x_{\\mathrm{best}}$ 是种群中目标值最低的成员。\n-   供体选择：对于一个目标 $x_{i}$，供体 $x_{r_{1}}$ 和 $x_{r_{2}}$ 是种群中另外两个不同的成员，按字典序排序，使得 $x_{r_{1}}$ 小于 $x_{r_{2}}$。\n-   交叉规则 (二项式):\n    $$u_{i,j} = \\begin{cases} v_{i,j},  \\text{if } r_{i,j} \\leq CR \\text{ or } j=j_{\\mathrm{rand}}(i),\\\\ x_{i,j},  \\text{otherwise}, \\end{cases}$$\n    其中 $r_{i,j}$ 是随机抽样值，$j_{\\mathrm{rand}}(i)$ 是一个强制索引。\n-   确定性抽样值和索引：\n    -   目标 $x_{i} = (0,0)$: $j_{\\mathrm{rand}}(i) = 1$, $(r_{i,1}, r_{i,2}) = (0.10, 0.20)$。\n    -   目标 $x_{i} = (1,0)$: $j_{\\mathrm{rand}}(i) = 1$, $(r_{i,1}, r_{i,2}) = (0.10, 0.95)$。\n    -   目标 $x_{i} = (0,1)$: $j_{\\mathrm{rand}}(i) = 2$, $(r_{i,1}, r_{i,2}) = (0.95, 0.10)$。\n-   要求输出：标量和 $S = \\sum_{x \\in \\mathcal{P}^{1}} J(x)$，其中 $\\mathcal{P}^{1}$ 是一代后的种群。\n\n### 步骤2：使用提取的已知条件进行验证\n该问题具有科学依据，因为它描述了一个著名的元启发式优化算法（差分进化）在一个计算科学领域的常见问题（Tikhonov正则化反演）上的标准应用。目标函数是一个标准的二次范数。问题是适定的；它提供了计算唯一结果所需的所有必要参数、初始条件和确定性规则（包括固定的“随机”数和确定性的供体选择协议）。语言精确客观。问题是自洽的，没有内部矛盾。种群大小为3对于“DE/best/1”方案是足够的，该方案要求变异操作需要一个目标向量和两个不同的供体向量。\n\n### 步骤3：结论与行动\n问题有效。将提供完整解答。\n\n解题过程是通过执行一代DE算法。设初始种群为 $\\mathcal{P}^{0} = \\{x_1, x_2, x_3\\}$，其中 $x_1 = (0,0)$，$x_2 = (1,0)$，$x_3 = (0,1)$。目标函数是 $J(x) = x_1^2 + x_2^2$。\n\n首先，我们为初始种群的每个成员评估目标函数：\n$J(x_1) = J(0,0) = 0^2 + 0^2 = 0$.\n$J(x_2) = J(1,0) = 1^2 + 0^2 = 1$.\n$J(x_3) = J(0,1) = 0^2 + 1^2 = 1$.\n\n种群中的最优向量 $x_{\\mathrm{best}}$ 是目标函数值最小的那个。在这里，$x_{\\mathrm{best}} = x_1 = (0,0)$，其 $J(x_{\\mathrm{best}}) = 0$。\n\n现在，我们遍历 $\\mathcal{P}^{0}$ 中的三个目标向量，以生成新的种群 $\\mathcal{P}^{1}$。\n\n**1. 目标向量 $x_1 = (0,0)$**\n-   **变异：** 另外两个种群成员是 $(0,1)$ 和 $(1,0)$。按字典序排序，它们是 $x_{r_1} = (0,1)$ 和 $x_{r_2} = (1,0)$。变异向量 $v_1$ 是：\n    $$v_1 = x_{\\mathrm{best}} + F(x_{r_1} - x_{r_2}) = (0,0) + 0.8((0,1) - (1,0)) = 0.8(-1, 1) = (-0.8, 0.8)$$\n-   **交叉：** 我们从目标 $x_1=(0,0)$ 和变异体 $v_1=(-0.8, 0.8)$ 形成试验向量 $u_1 = (u_{1,1}, u_{1,2})$。给定参数为 $j_{\\mathrm{rand}}(1) = 1$，$(r_{1,1}, r_{1,2})=(0.10, 0.20)$ 和 $CR=0.9$。\n    -   对于分量 $j=1$：$j=j_{\\mathrm{rand}}(1)$，因此我们必须取变异体的分量：$u_{1,1} = v_{1,1} = -0.8$。\n    -   对于分量 $j=2$：$j \\neq j_{\\mathrm{rand}}(1)$。我们检查 $r_{1,2} \\leq CR$ 是否成立。因为 $0.20 \\leq 0.9$，条件满足，所以我们取变异体的分量：$u_{1,2} = v_{1,2} = 0.8$。\n    -   试验向量是 $u_1 = (-0.8, 0.8)$。\n-   **选择：** 我们比较 $J(u_1)$ 和 $J(x_1)$。\n    $J(u_1) = (-0.8)^2 + (0.8)^2 = 0.64 + 0.64 = 1.28$。\n    $J(x_1) = 0$。\n    因为 $J(u_1) \\not J(x_1)$（即 $1.28 \\not 0$），试验向量 $u_1$ 被丢弃，而 $x_1$ 被保留。$\\mathcal{P}^{1}$ 的第一个成员是 $(0,0)$。\n\n**2. 目标向量 $x_2 = (1,0)$**\n-   **变异：** 另外两个种群成员是 $(0,0)$ 和 $(0,1)$。按字典序排序，它们是 $x_{r_1} = (0,0)$ 和 $x_{r_2} = (0,1)$。变异向量 $v_2$ 是：\n    $$v_2 = x_{\\mathrm{best}} + F(x_{r_1} - x_{r_2}) = (0,0) + 0.8((0,0) - (0,1)) = 0.8(0, -1) = (0, -0.8)$$\n-   **交叉：** 我们从目标 $x_2=(1,0)$ 和变异体 $v_2=(0, -0.8)$ 形成试验向量 $u_2 = (u_{2,1}, u_{2,2})$。给定参数为 $j_{\\mathrm{rand}}(2) = 1$，$(r_{2,1}, r_{2,2})=(0.10, 0.95)$ 和 $CR=0.9$。\n    -   对于分量 $j=1$：$j=j_{\\mathrm{rand}}(2)$，因此我们必须取变异体的分量：$u_{2,1} = v_{2,1} = 0$。\n    -   对于分量 $j=2$：$j \\neq j_{\\mathrm{rand}}(2)$。我们检查 $r_{2,2} \\leq CR$ 是否成立。因为 $0.95 \\not\\leq 0.9$，条件不满足，所以我们取目标的分量：$u_{2,2} = x_{2,2} = 0$。\n    -   试验向量是 $u_2 = (0, 0)$。\n-   **选择：** 我们比较 $J(u_2)$ 和 $J(x_2)$。\n    $J(u_2) = 0^2 + 0^2 = 0$。\n    $J(x_2) = 1$。\n    因为 $J(u_2)  J(x_2)$（即 $0  1$），试验向量 $u_2$ 替换了 $x_2$。$\\mathcal{P}^{1}$ 的第二个成员是 $(0,0)$。\n\n**3. 目标向量 $x_3 = (0,1)$**\n-   **变异：** 另外两个种群成员是 $(0,0)$ 和 $(1,0)$。按字典序排序，它们是 $x_{r_1} = (0,0)$ 和 $x_{r_2} = (1,0)$。变异向量 $v_3$ 是：\n    $$v_3 = x_{\\mathrm{best}} + F(x_{r_1} - x_{r_2}) = (0,0) + 0.8((0,0) - (1,0)) = 0.8(-1, 0) = (-0.8, 0)$$\n-   **交叉：** 我们从目标 $x_3=(0,1)$ 和变异体 $v_3=(-0.8, 0)$ 形成试验向量 $u_3 = (u_{3,1}, u_{3,2})$。给定参数为 $j_{\\mathrm{rand}}(3) = 2$，$(r_{3,1}, r_{3,2})=(0.95, 0.10)$ 和 $CR=0.9$。\n    -   对于分量 $j=1$：$j \\neq j_{\\mathrm{rand}}(3)$。我们检查 $r_{3,1} \\leq CR$ 是否成立。因为 $0.95 \\not\\leq 0.9$，条件不满足，所以我们取目标的分量：$u_{3,1} = x_{3,1} = 0$。\n    -   对于分量 $j=2$：$j=j_{\\mathrm{rand}}(3)$，因此我们必须取变异体的分量：$u_{3,2} = v_{3,2} = 0$。\n    -   试验向量是 $u_3 = (0, 0)$。\n-   **选择：** 我们比较 $J(u_3)$ 和 $J(x_3)$。\n    $J(u_3) = 0^2 + 0^2 = 0$。\n    $J(x_3) = 1$。\n    因为 $J(u_3)  J(x_3)$（即 $0  1$），试验向量 $u_3$ 替换了 $x_3$。$\\mathcal{P}^{1}$ 的第三个成员是 $(0,0)$。\n\n经过一代后，种群为 $\\mathcal{P}^{1} = \\{(0,0), (0,0), (0,0)\\}$。\n最后一步是计算 $\\mathcal{P}^{1}$ 中所有成员的目标函数值的和 $S$。\n$$S = \\sum_{x \\in \\mathcal{P}^{1}} J(x) = J(0,0) + J(0,0) + J(0,0) = 0 + 0 + 0 = 0$$\n最终结果要求为精确小数。",
            "answer": "$$\\boxed{0.0}$$"
        },
        {
            "introduction": "蚁群优化（ACO）将群体智能的应用扩展到了组合优化问题，例如在网络中寻找最短路径。该算法模仿了蚂蚁的觅食行为，它们通过释放信息素来向其他蚂蚁传达优质路径。 这项练习模拟了在地球物理学背景下（射线路径选择），单个“蚂蚁”如何选择路径，以及它的选择如何通过信息素更新来强化该路径，从而揭示了 ACO 算法核心的正反馈学习回路。",
            "id": "3589781",
            "problem": "考虑一个走时层析成像中的射线路径选择子问题，其中使用基于蚁群的元启发式算法来近似穿过离散化介质的最短时间路径。设离散化介质由一个有向图表示，图中包含节点 $s$ (源点)、$a$、$b$ 和 $g$ (接收点)。可用的有向边及其走时（单位：秒）为：$s \\to a$ 走时 $t_{s a} = 2.4$，$s \\to b$ 走时 $t_{s b} = 1.6$，$a \\to g$ 走时 $t_{a g} = 3.0$，$b \\to g$ 走时 $t_{b g} = 4.2$。假设没有其他可用边，蚂蚁到达 $g$ 点后停止，并且不允许重复访问节点。\n\n一次蚁群优化 (ACO) 迭代过程如下。在节点 $i$ 处，移动到相邻节点 $j \\in \\mathcal{N}(i)$ 的概率由信息素和启发式信息的归一化乘积给出，使用以下规则\n$$\np_{i j} \\propto \\tau_{i j}^{\\alpha} \\, \\eta_{i j}^{\\beta},\n$$\n其中局部启发式信息为 $\\eta_{i j} = \\frac{1}{t_{i j}}$，转移概率通过对从 $i$ 出发的所有出边进行归一化得到。初始时，所有信息素是均匀的：对于每条可用边，$\\tau_{i j} = \\tau_{0}$，其中 $\\tau_{0} = 0.8$。使用参数 $\\alpha = 1$ 和 $\\beta = 2$。\n\n一只蚂蚁从 $s$ 点出发，并使用轮盘赌选择法来选择其下一个节点。在 $s$ 点进行采样使用的随机数为 $u_{1} = 0.28$，该数从 $[0, 1]$ 上的连续均匀分布中抽取，蚂蚁必须继续前进直到到达 $g$ 点。在蚂蚁完成其路径后，根据以下更新规则，使用蒸发系数 $\\rho = 0.25$ 和沉积常数 $Q = 1.5$ 进行全局蒸发和沉积\n$$\n\\tau_{i j} \\leftarrow\n\\begin{cases}\n(1 - \\rho)\\,\\tau_{i j} + \\dfrac{Q}{T_{\\text{path}}}  \\text{如果边 } (i,j) \\text{ 位于采样路径上}, \\\\\n(1 - \\rho)\\,\\tau_{i j}  \\text{其他情况},\n\\end{cases}\n$$\n其中 $T_{\\text{path}}$ 是采样路径的总走时。\n\n从给定的初始化和参数开始，执行一次完整的迭代：计算蚂蚁在 $s$ 点的转移概率，使用 $u_1$ 采样从 $s$ 出发的边，确定最终的路径及其总走时 $T_{\\text{path}}$，并根据所述规则更新所有信息素。在这次单次迭代之后，边 $s \\to a$ 上更新后的信息素值是多少？请以一个精确数值作答，不带单位。",
            "solution": "首先根据所需标准对问题陈述进行验证。\n\n### 步骤 1：提取已知条件\n- **节点**：$s$ (源点)，$a$，$b$，$g$ (接收点)。\n- **边和走时**：$s \\to a$ 走时 $t_{sa} = 2.4$ s；$s \\to b$ 走时 $t_{sb} = 1.6$ s；$a \\to g$ 走时 $t_{ag} = 3.0$ s；$b \\to g$ 走时 $t_{bg} = 4.2$ s。\n- **约束条件**：没有其他可用边；蚂蚁在 $g$ 点停止；不允许重复访问节点。\n- **ACO 转移规则**：$p_{ij} \\propto \\tau_{ij}^{\\alpha} \\, \\eta_{ij}^{\\beta}$。\n- **启发式信息**：$\\eta_{ij} = \\frac{1}{t_{ij}}$。\n- **初始信息素**：对于所有边，$\\tau_{ij} = \\tau_{0} = 0.8$。\n- **ACO 参数**：$\\alpha = 1$，$\\beta = 2$。\n- **随机数**：$u_{1} = 0.28$，从 $\\mathcal{U}[0, 1]$ 中抽取。\n- **信息素更新规则**：\n$$\n\\tau_{i j} \\leftarrow\n\\begin{cases}\n(1 - \\rho)\\,\\tau_{i j} + \\dfrac{Q}{T_{\\text{path}}}  \\text{如果边 } (i,j) \\text{ 位于采样路径上}, \\\\\n(1 - \\rho)\\,\\tau_{i j}  \\text{其他情况},\n\\end{cases}\n$$\n- **更新参数**：蒸发系数 $\\rho = 0.25$；沉积常数 $Q = 1.5$。\n- **目标**：求一次完整迭代后边 $s \\to a$ 上的更新信息素值。\n\n### 步骤 2：使用提取的已知条件进行验证\n对问题的有效性进行评估：\n- **科学依据**：该问题描述了一个标准的计算过程，即蚁群优化（ACO），它是计算机科学和运筹学中一个成熟的元启发式算法。它在走时层析成像中的应用是计算地球物理学中一个有效且公认的研究领域。所提供的转移概率和信息素更新公式是 ACO 文献中的标准公式。\n- **适定性**：问题是完全指定的。所有必要的参数（$\\alpha$、$\\beta$、$\\rho$、$Q$、$\\tau_0$）、初始条件（图结构、走时）以及特定的随机数（$u_1$）都已给出。这种设置确保了一个唯一的、确定性的计算序列能够导出一个单一的答案。\n- **目标明确**：该问题使用精确的数学和算法语言陈述。所有量都有定义，没有主观或模糊的术语。\n\n该问题没有违反任何无效性标准。这是一个建立在公认科学原理基础上的、定义明確的计算问题。\n\n### 步骤 3：结论与行动\n该问题被判定为**有效**。现提供分步解答。\n\n### 求解推导\n\n求解需要按照描述执行一次完整的蚁群优化算法迭代。\n\n**1. 计算节点 `s` 处的转移概率**\n\n位于节点 $s$ 的蚂蚁可以移动到节点 $a$ 或节点 $b$。选择边 $(i, j)$ 的概率与 $\\tau_{ij}^{\\alpha} \\eta_{ij}^{\\beta}$ 成正比。我们首先为从 $s$ 出发的每个可能移动计算这个期望值项。\n\n参数为 $\\alpha = 1$ 和 $\\beta = 2$。初始信息素为 $\\tau_{sa} = \\tau_{sb} = \\tau_0 = 0.8$。\n\n启发式信息值 $\\eta_{ij} = \\frac{1}{t_{ij}}$ 为：\n- 对于边 $s \\to a$：$\\eta_{sa} = \\frac{1}{t_{sa}} = \\frac{1}{2.4}$。\n- 对于边 $s \\to b$：$\\eta_{sb} = \\frac{1}{t_{sb}} = \\frac{1}{1.6}$。\n\n现在，我们计算期望值项：\n- 对于边 $s \\to a$：$d_{sa} = \\tau_{sa}^{\\alpha} \\eta_{sa}^{\\beta} = (0.8)^{1} \\left(\\frac{1}{2.4}\\right)^{2} = \\frac{0.8}{5.76}$。\n- 对于边 $s \\to b$：$d_{sb} = \\tau_{sb}^{\\alpha} \\eta_{sb}^{\\beta} = (0.8)^{1} \\left(\\frac{1}{1.6}\\right)^{2} = \\frac{0.8}{2.56}$。\n\n为了求出概率，我们对这些值进行归一化。为求精确，我们使用精确分数进行计算。\n$t_{sa} = 2.4 = \\frac{12}{5}$，$t_{sb} = 1.6 = \\frac{8}{5}$，$\\tau_0 = 0.8 = \\frac{4}{5}$。\n$\\eta_{sa} = \\frac{5}{12}$，$\\eta_{sb} = \\frac{5}{8}$。\n\n$d_{sa} = \\left(\\frac{4}{5}\\right)^{1} \\left(\\frac{5}{12}\\right)^{2} = \\frac{4}{5} \\cdot \\frac{25}{144} = \\frac{100}{720} = \\frac{5}{36}$。\n$d_{sb} = \\left(\\frac{4}{5}\\right)^{1} \\left(\\frac{5}{8}\\right)^{2} = \\frac{4}{5} \\cdot \\frac{25}{64} = \\frac{100}{320} = \\frac{5}{16}$。\n\n总期望值是和 $D = d_{sa} + d_{sb}$：\n$D = \\frac{5}{36} + \\frac{5}{16}$。$36$ 和 $16$ 的最小公倍数是 $144$。\n$D = \\frac{5 \\cdot 4}{144} + \\frac{5 \\cdot 9}{144} = \\frac{20}{144} + \\frac{45}{144} = \\frac{65}{144}$。\n\n转移概率为：\n$p_{sa} = \\frac{d_{sa}}{D} = \\frac{5/36}{65/144} = \\frac{5}{36} \\cdot \\frac{144}{65} = \\frac{5}{1} \\cdot \\frac{4}{65} = \\frac{20}{65} = \\frac{4}{13}$。\n$p_{sb} = \\frac{d_{sb}}{D} = \\frac{5/16}{65/144} = \\frac{5}{16} \\cdot \\frac{144}{65} = \\frac5}{1} \\cdot \\frac{9}{65} = \\frac{45}{65} = \\frac{9}{13}$。\n作为检验，$p_{sa} + p_{sb} = \\frac{4}{13} + \\frac{9}{13} = 1$。\n\n**2. 确定蚂蚁的路径**\n\n使用轮盘赌选择法。我们为每个选择在 $[0, 1]$ 上建立区间。$s \\to a$ 的区间是 $[0, p_{sa})$，$s \\to b$ 的区间是 $[p_{sa}, 1)$。\n$p_{sa} = \\frac{4}{13} \\approx 0.3077$。\n给定的随机数是 $u_1 = 0.28$。\n由于 $u_1 = 0.28  p_{sa} \\approx 0.3077$，蚂蚁选择边 $s \\to a$。\n\n一旦蚂蚁到达节点 $a$，唯一不重复访问节点的可用前进边是 $a \\to g$。因此，蚂蚁的完整路径是 $s \\to a \\to g$。\n\n**3. 计算路径的总走时**\n\n路径 $s \\to a \\to g$ 的总走时为：\n$T_{\\text{path}} = t_{sa} + t_{ag} = 2.4 + 3.0 = 5.4$。\n\n**4. 更新信息素**\n\n最后一步是更新所有边上的信息素水平。题目要求的是边 $s \\to a$ 上更新后的值，我们记为 $\\tau'_{sa}$。由于该边位于采样路径上，我们使用包含沉积的更新规则：\n$\\tau'_{sa} = (1 - \\rho)\\tau_{sa} + \\frac{Q}{T_{\\text{path}}}$。\n\n给定参数为 $\\rho = 0.25$，$Q = 1.5$，初始信息素为 $\\tau_{sa} = 0.8$。\n$1 - \\rho = 1 - 0.25 = 0.75$。\n$T_{\\text{path}} = 5.4$。\n\n代入数值：\n$\\tau'_{sa} = (0.75)(0.8) + \\frac{1.5}{5.4}$。\n\n让我们将各项作为精确分数来计算：\n$0.75 = \\frac{3}{4}$，$0.8 = \\frac{4}{5}$。\n$\\frac{1.5}{5.4} = \\frac{15}{54} = \\frac{5}{18}$。\n\n所以，计算过程为：\n$\\tau'_{sa} = \\left(\\frac{3}{4}\\right) \\left(\\frac{4}{5}\\right) + \\frac{5}{18} = \\frac{3}{5} + \\frac{5}{18}$。\n\n为了将这些分数相加，我们找到一个公分母，即 $lcm(5, 18) = 90$。\n$\\tau'_{sa} = \\frac{3 \\cdot 18}{90} + \\frac{5 \\cdot 5}{90} = \\frac{54}{90} + \\frac{25}{90} = \\frac{79}{90}$。\n\n数字 $79$是素数，所以这个分数是不可约分的。\n\n经过这一次迭代后，边 $s \\to a$ 上更新后的信息素值为 $\\frac{79}{90}$。",
            "answer": "$$\\boxed{\\frac{79}{90}}$$"
        }
    ]
}