{
    "hands_on_practices": [
        {
            "introduction": "在许多优化问题中，目标函数涉及对变量的线性变换施加一个范数，例如 $\\|Ax-c\\|_1$。这个练习  提供了应用次微分链式法则的关键实践，这是分析此类复合函数的基石。通过显式地刻画函数在不可微点处的整个次梯度集合，你将对次微分的几何性质建立起具体的理解。",
            "id": "3188856",
            "problem": "考虑凸函数 $f:\\mathbb{R}^{2} \\to \\mathbb{R}$，其定义为 $f(x) = \\|B(Ax - c)\\|_{1}$，其中 $A \\in \\mathbb{R}^{3 \\times 2}$、$B \\in \\mathbb{R}^{3 \\times 3}$ 和 $c \\in \\mathbb{R}^{3}$ 由下式给出\n$$\nA = \\begin{pmatrix}\n1  0 \\\\\n0  1 \\\\\n1  -1\n\\end{pmatrix}, \n\\quad\nB = \\begin{pmatrix}\n2  0  0 \\\\\n0  1  0 \\\\\n0  0  -1\n\\end{pmatrix},\n\\quad\nc = \\begin{pmatrix}\n1 \\\\\n0 \\\\\n0\n\\end{pmatrix}.\n$$\n令 $x_{0} = \\begin{pmatrix} 1 \\\\ 1 \\end{pmatrix}$。仅使用凸次梯度和次微分的定义、$\\ell_1$-范数满足 $\\partial \\|z\\|_{1} = \\{s \\in \\mathbb{R}^{m} : s_{i} = \\operatorname{sign}(z_{i}) \\text{ 若 } z_{i} \\neq 0,\\ \\ s_{i} \\in [-1,1] \\text{ 若 } z_{i} = 0\\}$ 这一事实，以及复合凸函数与仿射映射的基本原理，推导次微分 $\\partial f(x_{0})$ 的有效表达式。具体来说，通过将集合 $\\partial f(x_{0})$ 显式地刻画为 $\\mathbb{R}^{2}$ 中的一个集合，来识别在 $x_{0}$ 处所有可能的次梯度。\n\n将最终答案表示为单个闭式集合表达式。不需要四舍五入。不涉及物理单位。",
            "solution": "所述问题是有效的。它在科学上基于凸分析的既定原则，是适定的且具有唯一解，并以客观、明确的数学语言表达。所有必要的数据和定义均已提供，且没有内部矛盾。因此，我们可以进行推导。\n\n函数由 $f(x) = \\|B(Ax - c)\\|_{1}$ 给出，其中 $x \\in \\mathbb{R}^{2}$。这是一个 $\\ell_1$-范数（一个凸函数）与一个仿射变换的复合。我们记 $h(z) = \\|z\\|_{1}$，仿射映射为 $g(x) = B(Ax - c) = (BA)x - Bc$。因此，$f(x) = h(g(x))$。\n\n次微分的链式法则表明，对于形式为 $f(x) = h(Lx + d)$ 的函数，其中 $h$ 是一个凸函数，而 $x \\mapsto Lx+d$ 是一个仿射映射，则 $f$ 的次微分由下式给出：\n$$\n\\partial f(x) = L^{T} \\partial h(Lx + d)\n$$\n在我们的例子中，仿射映射的线性部分是 $L = BA$。因此，$f$ 在点 $x$ 处的次微分是：\n$$\n\\partial f(x) = (BA)^{T} \\partial h(B(Ax - c)) = A^{T}B^{T} \\partial \\|B(Ax-c)\\|_{1}\n$$\n我们需要计算在特定点 $x_{0} = \\begin{pmatrix} 1 \\\\ 1 \\end{pmatrix}$ 处的次微分。该过程包括三个步骤：\n1.  计算范数的向量参数，$z_{0} = B(Ax_{0} - c)$。\n2.  确定 $\\ell_1$-范数在 $z_{0}$ 处的次微分，记为 $\\partial \\|z_{0}\\|_{1}$。\n3.  将线性变换 $A^{T}B^{T}$ 应用于集合 $\\partial \\|z_{0}\\|_{1}$。\n\n步骤 1：计算 $z_{0} = B(Ax_{0} - c)$。\n首先，我们计算仿射部分 $Ax_{0} - c$：\n$$\nA x_{0} = \\begin{pmatrix} 1  0 \\\\ 0  1 \\\\ 1  -1 \\end{pmatrix} \\begin{pmatrix} 1 \\\\ 1 \\end{pmatrix} = \\begin{pmatrix} 1 \\cdot 1 + 0 \\cdot 1 \\\\ 0 \\cdot 1 + 1 \\cdot 1 \\\\ 1 \\cdot 1 - 1 \\cdot 1 \\end{pmatrix} = \\begin{pmatrix} 1 \\\\ 1 \\\\ 0 \\end{pmatrix}\n$$\n$$\nAx_{0} - c = \\begin{pmatrix} 1 \\\\ 1 \\\\ 0 \\end{pmatrix} - \\begin{pmatrix} 1 \\\\ 0 \\\\ 0 \\end{pmatrix} = \\begin{pmatrix} 0 \\\\ 1 \\\\ 0 \\end{pmatrix}\n$$\n现在，我们应用矩阵 $B$：\n$$\nz_{0} = B(Ax_{0} - c) = \\begin{pmatrix} 2  0  0 \\\\ 0  1  0 \\\\ 0  0  -1 \\end{pmatrix} \\begin{pmatrix} 0 \\\\ 1 \\\\ 0 \\end{pmatrix} = \\begin{pmatrix} 2 \\cdot 0 \\\\ 1 \\cdot 1 \\\\ -1 \\cdot 0 \\end{pmatrix} = \\begin{pmatrix} 0 \\\\ 1 \\\\ 0 \\end{pmatrix}\n$$\n\n步骤 2：确定 $\\partial \\|z_{0}\\|_{1}$。\n问题给出了 $\\ell_1$-范数次微分的法则：\n$\\partial \\|z\\|_{1} = \\{s \\in \\mathbb{R}^{m} : s_{i} = \\operatorname{sign}(z_{i}) \\text{ 若 } z_{i} \\neq 0, \\text{ 且 } s_{i} \\in [-1,1] \\text{ 若 } z_{i} = 0\\}$。\n我们的向量是 $z_{0} = (z_{0,1}, z_{0,2}, z_{0,3})^{T} = (0, 1, 0)^{T}$。\n对于一个次梯度向量 $s = (s_{1}, s_{2}, s_{3})^{T} \\in \\partial \\|z_{0}\\|_{1}$：\n- 对于第一个分量，$z_{0,1} = 0$，所以 $s_{1}$ 可以是区间 $[-1, 1]$ 内的任意值。\n- 对于第二个分量，$z_{0,2} = 1 \\neq 0$，所以 $s_{2} = \\operatorname{sign}(1) = 1$。\n- 对于第三个分量，$z_{0,3} = 0$，所以 $s_{3}$ 可以是区间 $[-1, 1]$ 内的任意值。\n我们引入参数 $\\alpha = s_{1}$ 和 $\\beta = s_{3}$。在 $z_{0}$ 处范数的次梯度集合是：\n$$\n\\partial \\|z_{0}\\|_{1} = \\left\\{ \\begin{pmatrix} \\alpha \\\\ 1 \\\\ \\beta \\end{pmatrix} \\, \\middle| \\, \\alpha \\in [-1, 1], \\, \\beta \\in [-1, 1] \\right\\}\n$$\n\n步骤 3：应用变换 $A^{T}B^{T}$。\n首先，我们计算矩阵 $A^{T}B^{T}$：\n$$\nA^{T} = \\begin{pmatrix} 1  0  1 \\\\ 0  1  -1 \\end{pmatrix}, \\quad B^{T} = B = \\begin{pmatrix} 2  0  0 \\\\ 0  1  0 \\\\ 0  0  -1 \\end{pmatrix}\n$$\n$$\nA^{T}B^{T} = \\begin{pmatrix} 1  0  1 \\\\ 0  1  -1 \\end{pmatrix} \\begin{pmatrix} 2  0  0 \\\\ 0  1  0 \\\\ 0  0  -1 \\end{pmatrix} = \\begin{pmatrix} 2  0  -1 \\\\ 0  1  1 \\end{pmatrix}\n$$\n现在，我们求集合 $\\partial f(x_{0}) = A^{T}B^{T} \\partial \\|z_{0}\\|_{1}$。$\\partial f(x_{0})$ 中的任意元素 $g$ 都是通过将 $A^{T}B^{T}$ 乘以 $\\partial \\|z_{0}\\|_{1}$ 中的一个元素 $s$ 得到的：\n$$\ng = \\begin{pmatrix} 2  0  -1 \\\\ 0  1  1 \\end{pmatrix} \\begin{pmatrix} \\alpha \\\\ 1 \\\\ \\beta \\end{pmatrix} = \\begin{pmatrix} 2\\alpha - \\beta \\\\ 1 + \\beta \\end{pmatrix}\n$$\n其中 $\\alpha \\in [-1, 1]$ 且 $\\beta \\in [-1, 1]$。\n这就给出了次微分集合 $\\partial f(x_{0})$ 的显式刻画。$x_{0}$ 处的每个次梯度都是 $\\mathbb{R}^{2}$ 中的一个向量，它可以通过从各自的区间中选择 $\\alpha$ 和 $\\beta$ 的值来生成。\n\n因此，$f$ 在 $x_{0}$ 处的所有次梯度的集合是：\n$$\n\\partial f(x_{0}) = \\left\\{ \\begin{pmatrix} 2\\alpha - \\beta \\\\ 1 + \\beta \\end{pmatrix} \\, \\middle| \\, \\alpha \\in [-1, 1], \\, \\beta \\in [-1, 1] \\right\\}\n$$\n这个集合是 $\\mathbb{R}^{2}$ 中的一个平行四边形，由 $(\\alpha, \\beta)$ 平面中的正方形 $[-1,1] \\times [-1,1]$ 的线性映射定义。",
            "answer": "$$\n\\boxed{\\left\\{ \\begin{pmatrix} 2\\alpha - \\beta \\\\ 1 + \\beta \\end{pmatrix} \\, \\middle| \\, \\alpha \\in [-1, 1], \\, \\beta \\in [-1, 1] \\right\\}}\n$$"
        },
        {
            "introduction": "现代稀疏优化常使用比简单 $\\ell_1$ 范数更复杂的正则化项，但许多正则化项仍保持“可分”结构，其惩罚项是关于单个变量的函数之和。此问题  演示了如何通过独立分析每个分量然后组合结果来计算可分函数的次微分。掌握这种分解技巧对于高效处理复杂的高维正则化项以及理解坐标优化算法至关重要。",
            "id": "3483573",
            "problem": "考虑一个用于压缩感知和稀疏优化的可分离凸惩罚项，它对向量 $x \\in \\mathbb{R}^{n}$ 定义为\n$$\nf(x) \\;=\\; \\sum_{i=1}^{n} \\phi_i(x_i),\n$$\n其中每个坐标函数 $\\phi_i : \\mathbb{R} \\to \\mathbb{R}$ 由下式给出\n$$\n\\phi_i(t) \\;=\\; w_i\\,|t| \\;+\\; u_i\\,\\max(0,\\, t - a_i) \\;+\\; v_i\\,\\max(0,\\,-t - b_i).\n$$\n该惩罚项结合了加权 $\\ell_1$ 正则化器和不对称饱和铰链，旨在减少偏差同时保持稀疏性。使用次梯度的基本定义和可分离凸函数的性质，求出在给定点处，次微分中具有最小欧几里得范数的元素。\n\n设 $n = 5$，参数为\n$$\nw \\;=\\; (\\,3,\\, 1,\\, 2,\\, 1,\\, 2\\,),\\quad\nu \\;=\\; (\\,2,\\, 4,\\, 1,\\, 2,\\, 5\\,),\\quad\nv \\;=\\; (\\,5,\\, 3,\\, 2,\\, 1,\\, 1\\,),\n$$\n$$\na \\;=\\; (\\,1,\\, 2,\\, 3,\\, 0.2,\\, 0.5\\,),\\quad\nb \\;=\\; (\\,0.5,\\, 1,\\, 2,\\, 3,\\, 0.1\\,),\n$$\n且\n$$\nx \\;=\\; (\\,1,\\, 0,\\, 1,\\, -4,\\, -0.05\\,).\n$$\n计算次微分 $\\partial f(x)$ 中具有最小欧几里得范数的元素。你的最终答案必须是写成 LaTeX $\\pmatrix$ 表达式的单行向量。无需进行四舍五入。",
            "solution": "我们从凸函数的次梯度的定义开始。对于一个凸函数 $g : \\mathbb{R}^{m} \\to \\mathbb{R}$，如果一个向量 $s \\in \\mathbb{R}^{m}$ 满足\n$$\ng(y) \\;\\ge\\; g(z) \\;+\\; s^{\\top}(y - z)\\quad \\text{对所有 } y \\in \\mathbb{R}^{m},\n$$\n那么它就是 $g$ 在 $z$ 点的一个次梯度。次微分 $\\partial g(z)$ 是所有这类 $s$ 的集合。对于一个可分离凸函数 $f(x) = \\sum_{i=1}^{n} \\phi_i(x_i)$，其中每个 $\\phi_i : \\mathbb{R} \\to \\mathbb{R}$ 都是凸函数，我们有\n$$\n\\partial f(x) \\;=\\; \\prod_{i=1}^{n} \\partial \\phi_i(x_i),\n$$\n即按坐标的次微分的笛卡尔积（这可由次梯度在可分离性下的可加性以及定义在不相交坐标上的凸函数之和的次微分的闵可夫斯基和结构得出）。\n\n接下来，我们使用一些基本凸构造块的著名次微分：\n\n- 对于绝对值函数 $\\psi(t) = |t|$，其次微分是\n$$\n\\partial |t| \\;=\\; \n\\begin{cases}\n\\{1\\},  t > 0,\\\\\n[-1,\\,1],  t = 0,\\\\\n\\{-1\\},  t  0.\n\\end{cases}\n$$\n对于一个正权重 $w_i$，我们对该集合进行缩放：$\\partial\\big(w_i|t|\\big) = w_i \\,\\partial|t|$。\n\n- 对于正向的移位铰链函数 $\\eta_a(t) = \\max(0,\\, t - a)$，\n$$\n\\partial \\eta_a(t) \\;=\\;\n\\begin{cases}\n\\{0\\},  t  a,\\\\\n[0,\\,1],  t = a,\\\\\n\\{1\\},  t > a.\n\\end{cases}\n$$\n对于一个正权重 $u_i$，我们得到 $\\partial\\big(u_i \\eta_{a_i}(t)\\big) = u_i \\,\\partial \\eta_{a_i}(t)$。\n\n- 对于负向的移位铰链函数 $\\zeta_b(t) = \\max(0,\\, -t - b)$，\n$$\n\\partial \\zeta_b(t) \\;=\\;\n\\begin{cases}\n\\{-1\\},  t  -b,\\\\\n[-1,\\,0],  t = -b,\\\\\n\\{0\\},  t > -b.\n\\end{cases}\n$$\n对于一个正权重 $v_i$，我们有 $\\partial\\big(v_i \\zeta_{b_i}(t)\\big) = v_i \\,\\partial \\zeta_{b_i}(t)$。\n\n因为每个 $\\phi_i$ 都是单变量凸函数的和，其在 $t$ 点的次微分是相应集合的闵可夫斯基和：\n$$\n\\partial \\phi_i(t) \\;=\\; \\partial\\big(w_i|t|\\big) \\;+\\; \\partial\\big(u_i \\max(0, t - a_i)\\big) \\;+\\; \\partial\\big(v_i \\max(0, -t - b_i)\\big).\n$$\n\n现在我们使用给定的参数和 $x$ 来计算每个坐标 $i = 1,\\dots,5$ 的 $\\partial \\phi_i(x_i)$。\n\n- 坐标 $i = 1$：$x_1 = 1$, $a_1 = 1$, $b_1 = 0.5$, $w_1 = 3$, $u_1 = 2$, $v_1 = 5$。\n我们有 $x_1 = a_1$，所以\n$$\n\\partial\\big(w_1|x_1|\\big) = \\{\\,3\\,\\},\\quad\n\\partial\\big(u_1 \\max(0, x_1 - a_1)\\big) = u_1 \\,[0,1] = [\\,0,\\,2\\,],\\quad\n\\partial\\big(v_1 \\max(0, -x_1 - b_1)\\big) = \\{\\,0\\,\\},\n$$\n因为 $-x_1 - b_1 = -1 - 0.5 = -1.5  0$，所以负向铰链函数项的次微分为 $\\{\\,0\\,\\}$。因此，\n$$\n\\partial \\phi_1(x_1) \\;=\\; \\{\\,3\\,\\} + [\\,0,\\,2\\,] + \\{\\,0\\,\\} \\;=\\; [\\,3,\\,5\\,].\n$$\n\n- 坐标 $i = 2$：$x_2 = 0$, $a_2 = 2$, $b_2 = 1$, $w_2 = 1$, $u_2 = 4$, $v_2 = 3$。\n我们有 $x_2  a_2$ 且 $x_2 > -b_2$，所以\n$$\n\\partial\\big(w_2|x_2|\\big) = [-1,\\,1],\\quad\n\\partial\\big(u_2 \\max(0, x_2 - a_2)\\big) = \\{\\,0\\,\\},\\quad\n\\partial\\big(v_2 \\max(0, -x_2 - b_2)\\big) = \\{\\,0\\,\\}.\n$$\n因此，\n$$\n\\partial \\phi_2(x_2) \\;=\\; [-1,\\,1].\n$$\n\n- 坐标 $i = 3$：$x_3 = 1$, $a_3 = 3$, $b_3 = 2$, $w_3 = 2$, $u_3 = 1$, $v_3 = 2$。\n我们有 $x_3 > 0$，$x_3  a_3$，且 $x_3 > -b_3$，所以\n$$\n\\partial\\big(w_3|x_3|\\big) = \\{\\,2\\,\\},\\quad\n\\partial\\big(u_3 \\max(0, x_3 - a_3)\\big) = \\{\\,0\\,\\},\\quad\n\\partial\\big(v_3 \\max(0, -x_3 - b_3)\\big) = \\{\\,0\\,\\}.\n$$\n因此，\n$$\n\\partial \\phi_3(x_3) \\;=\\; \\{\\,2\\,\\}.\n$$\n\n- 坐标 $i = 4$：$x_4 = -4$, $a_4 = 0.2$, $b_4 = 3$, $w_4 = 1$, $u_4 = 2$, $v_4 = 1$。\n我们有 $x_4  0$，$x_4  -b_4$，所以\n$$\n\\partial\\big(w_4|x_4|\\big) = \\{-1\\},\\quad\n\\partial\\big(u_4 \\max(0, x_4 - a_4)\\big) = \\{\\,0\\,\\},\\quad\n\\partial\\big(v_4 \\max(0, -x_4 - b_4)\\big) = v_4\\{-1\\} = \\{-1\\}.\n$$\n因此，\n$$\n\\partial \\phi_4(x_4) \\;=\\; \\{-1\\} + \\{\\,0\\,\\} + \\{-1\\} \\;=\\; \\{-2\\}.\n$$\n\n- 坐标 $i = 5$：$x_5 = -0.05$, $a_5 = 0.5$, $b_5 = 0.1$, $w_5 = 2$, $u_5 = 5$, $v_5 = 1$。\n我们有 $x_5  0$，$x_5 > -b_5$ (因为 $-0.05 > -0.1$)，且 $x_5  a_5$，所以\n$$\n\\partial\\big(w_5|x_5|\\big) = \\{-2\\},\\quad\n\\partial\\big(u_5 \\max(0, x_5 - a_5)\\big) = \\{\\,0\\,\\},\\quad\n\\partial\\big(v_5 \\max(0, -x_5 - b_5)\\big) = \\{\\,0\\,\\}.\n$$\n因此，\n$$\n\\partial \\phi_5(x_5) \\;=\\; \\{-2\\}.\n$$\n\n汇总这些结果，函数 $f$ 在 $x$ 点的次微分是以下笛卡尔积\n$$\n\\partial f(x) \\;=\\; \\partial \\phi_1(x_1) \\times \\partial \\phi_2(x_2) \\times \\partial \\phi_3(x_3) \\times \\partial \\phi_4(x_4) \\times \\partial \\phi_5(x_5)\n\\;=\\; [\\,3,\\,5\\,] \\times [\\,-1,\\,1\\,] \\times \\{\\,2\\,\\} \\times \\{\\,-2\\,\\} \\times \\{\\,-2\\,\\}.\n$$\n\n现在我们求 $\\partial f(x)$ 中具有最小欧几里得范数的元素。因为 $\\partial f(x)$ 是区间（或单点集）的乘积，并且欧几里得范数的平方 $\\|g\\|_2^{2} = \\sum_{i=1}^{5} g_i^{2}$ 可以按坐标进行可加分解，所以最小化问题\n$$\n\\min_{g \\in \\partial f(x)} \\|g\\|_2\n$$\n可以解耦为按坐标的最小化问题\n$$\ng_i^{\\star} \\;\\in\\; \\arg\\min_{g_i \\in \\partial \\phi_i(x_i)} g_i^{2}.\n$$\n对于一个包含 $0$ 的区间 $[L, U]$，最小值点是 $g_i^{\\star} = 0$。如果区间不包含 $0$，最小值点是区间中绝对值最小（离零最近）的端点。对于单点集，选择就是其唯一的元素。\n\n应用这个规则：\n\n- 对于 $i = 1$，$\\partial \\phi_1(x_1) = [\\,3,\\,5\\,]$，不包含 $0$。离 $0$ 最近的点是 $g_1^{\\star} = 3$。\n\n- 对于 $i = 2$，$\\partial \\phi_2(x_2) = [\\,-1,\\,1\\,]$，包含 $0$。最小值点是 $g_2^{\\star} = 0$。\n\n- 对于 $i = 3$，$\\partial \\phi_3(x_3) = \\{\\,2\\,\\}$，所以 $g_3^{\\star} = 2$。\n\n- 对于 $i = 4$，$\\partial \\phi_4(x_4) = \\{\\,-2\\,\\}$，所以 $g_4^{\\star} = -2$。\n\n- 对于 $i = 5$，$\\partial \\phi_5(x_5) = \\{\\,-2\\,\\}$，所以 $g_5^{\\star} = -2$。\n\n因此，$\\partial f(x)$ 中具有最小欧几里得范数的元素是\n$$\ng^{\\star} \\;=\\; \\begin{pmatrix} 3  0  2  -2  -2 \\end{pmatrix}.\n$$",
            "answer": "$$\\boxed{\\begin{pmatrix} 3  0  2  -2  -2 \\end{pmatrix}}$$"
        },
        {
            "introduction": "压缩感知中的目标函数经常组合多个正则化项，例如同时促进信号本身及其变换后表示的稀疏性。这个高级练习  要求你综合运用次微分演算的多个法则——加法法则、链式法则以及不同范数的刻画——来分析一个混合目标函数。寻找次微分集合中最小范数元素的最终任务，与推导最优性条件和理解近端梯度法等优化算法的行为直接相关。",
            "id": "3483561",
            "problem": "考虑在压缩感知和稀疏优化中使用的稀疏正则化目标函数，它对 $x \\in \\mathbb{R}^{3}$ 定义为函数 $F(x) = \\|A x\\|_{1} + \\alpha \\|x\\|_{\\infty}$，其中 $\\alpha  0$ 是一个给定的标量，而 $A \\in \\mathbb{R}^{3 \\times 3}$ 是线性算子\n$$\nA = \\begin{pmatrix}\n1  0  1 \\\\\n0  1  0 \\\\\n0  0  1\n\\end{pmatrix}.\n$$\n令 $x^{\\star} = \\begin{pmatrix} 1 \\\\ 0 \\\\ -2 \\end{pmatrix}$。仅使用凸函数次梯度的基本定义以及通过对偶范数来刻画范数次梯度的基本方法，确定在 $\\partial F(x^{\\star})$ 中具有最小欧几里得范数 $\\|g\\|_{2}$ 的元素 $g^{\\star}$。请将您的最终答案表示为精确符号形式的行向量。无需四舍五入。",
            "solution": "该问题要求在函数 $F(x) = \\|A x\\|_{1} + \\alpha \\|x\\|_{\\infty}$ 于点 $x^{\\star} = \\begin{pmatrix} 1 \\\\ 0 \\\\ -2 \\end{pmatrix}$ 的次微分 $\\partial F(x^{\\star})$ 中，找到具有最小欧几里得范数的次梯度 $g^{\\star}$。给定的矩阵为 $A = \\begin{pmatrix} 1  0  1 \\\\ 0  1  0 \\\\ 0  0  1 \\end{pmatrix}$ 且 $\\alpha  0$。\n\n函数 $F(x)$ 是两个凸函数 $f_1(x) = \\|Ax\\|_{1}$ 和 $f_2(x) = \\alpha \\|x\\|_{\\infty}$ 的和。函数 $f_1(x)$ 是凸的 $\\ell_1$-范数与一个线性变换的复合，因此是凸的。函数 $f_2(x)$ 是凸的 $\\ell_\\infty$-范数乘以一个正常数 $\\alpha$，因此也是凸的。两个凸函数的和是凸的，所以 $F(x)$ 是凸的。\n\n对于凸函数 $F$，在一点 $x$ 处的次微分是一个非空、紧致的凸集。我们可以使用次微分的和法则（Fenchel-Moreau 定理的一个推论），该法则指出，如果两个函数都是凸的且其中一个是连续的，那么和的次微分是各次微分的闵可夫斯基和：\n$$\n\\partial F(x^{\\star}) = \\partial f_1(x^{\\star}) + \\partial f_2(x^{\\star}) = \\partial (\\|Ax\\|_{1})|_{x=x^{\\star}} + \\partial (\\alpha \\|x\\|_{\\infty})|_{x=x^{\\star}}\n$$\n\n首先，我们刻画 $f_1(x) = \\|Ax\\|_{1}$ 在 $x^{\\star}$ 处的次微分。我们对线性映射应用次微分的链式法则：\n$$\n\\partial f_1(x^{\\star}) = A^T \\partial(\\|\\cdot\\|_{1})|_{y=Ax^{\\star}}\n$$\n我们计算 $y^{\\star} = Ax^{\\star}$：\n$$\ny^{\\star} = A x^{\\star} = \\begin{pmatrix} 1  0  1 \\\\ 0  1  0 \\\\ 0  0  1 \\end{pmatrix} \\begin{pmatrix} 1 \\\\ 0 \\\\ -2 \\end{pmatrix} = \\begin{pmatrix} 1(1) + 0(0) + 1(-2) \\\\ 0(1) + 1(0) + 0(-2) \\\\ 0(1) + 0(0) + 1(-2) \\end{pmatrix} = \\begin{pmatrix} -1 \\\\ 0 \\\\ -2 \\end{pmatrix}\n$$\n$\\ell_1$-范数 $\\|y\\|_{1}$ 在一点 $y$ 的次微分是向量 $v$ 的集合，其分量 $v_i$ 满足：\n$$\nv_i = \\begin{cases} \\mathrm{sgn}(y_i)  \\text{若 } y_i \\neq 0 \\\\ c_i \\in [-1, 1]  \\text{若 } y_i = 0 \\end{cases}\n$$\n对于 $y^{\\star} = \\begin{pmatrix} -1 \\\\ 0 \\\\ -2 \\end{pmatrix}$：\n\\begin{itemize}\n    \\item $y^{\\star}_1 = -1$，所以 $v_1 = \\mathrm{sgn}(-1) = -1$。\n    \\item $y^{\\star}_2 = 0$，所以 $v_2$ 可以是 $[-1, 1]$ 中的任意值。我们用参数 $s_1$ 表示，其中 $s_1 \\in [-1, 1]$。\n    \\item $y^{\\star}_3 = -2$，所以 $v_3 = \\mathrm{sgn}(-2) = -1$。\n\\end{itemize}\n因此，$\\ell_1$-范数在 $y^{\\star}$ 处的次微分是集合：\n$$\n\\partial (\\|y^{\\star}\\|_{1}) = \\left\\{ \\begin{pmatrix} -1 \\\\ s_1 \\\\ -1 \\end{pmatrix} \\;\\middle|\\; s_1 \\in [-1, 1] \\right\\}\n$$\n现在，我们通过乘以 $A^T$ 来计算 $\\partial f_1(x^{\\star})$：\n$$\nA^T = \\begin{pmatrix} 1  0  0 \\\\ 0  1  0 \\\\ 1  0  1 \\end{pmatrix}\n$$\n$$\n\\partial f_1(x^{\\star}) = A^T \\partial(\\|y^{\\star}\\|_{1}) = \\left\\{ \\begin{pmatrix} 1  0  0 \\\\ 0  1  0 \\\\ 1  0  1 \\end{pmatrix} \\begin{pmatrix} -1 \\\\ s_1 \\\\ -1 \\end{pmatrix} \\;\\middle|\\; s_1 \\in [-1, 1] \\right\\} = \\left\\{ \\begin{pmatrix} -1 \\\\ s_1 \\\\ -2 \\end{pmatrix} \\;\\middle|\\; s_1 \\in [-1, 1] \\right\\}\n$$\n\n接下来，我们刻画 $f_2(x) = \\alpha \\|x\\|_{\\infty}$ 在 $x^{\\star}$ 处的次微分。使用次微分的缩放法则（$\\alpha  0$）：\n$$\n\\partial f_2(x^{\\star}) = \\alpha \\, \\partial (\\|x\\|_{\\infty})|_{x=x^{\\star}}\n$$\n题目要求使用通过对偶范数来刻画范数次梯度的方法。$\\ell_\\infty$-范数的对偶范数是 $\\ell_1$-范数。次微分 $\\partial \\|x\\|_{\\infty}$ 是满足 $\\|v\\|_{1} \\le 1$ 和 $v^T x = \\|x\\|_{\\infty}$ 的向量 $v$ 的集合。\n对于 $x^{\\star} = \\begin{pmatrix} 1 \\\\ 0 \\\\ -2 \\end{pmatrix}$，我们有 $\\|x^{\\star}\\|_{\\infty} = \\max(|1|, |0|, |-2|) = 2$。\n我们寻找满足以下条件的向量 $v = (v_1, v_2, v_3)^T$：\n\\begin{enumerate}\n    \\item $|v_1| + |v_2| + |v_3| \\le 1$\n    \\item $v^T x^{\\star} = v_1(1) + v_2(0) + v_3(-2) = v_1 - 2v_3 = 2$\n\\end{enumerate}\n根据条件2，由三角不等式，$2 = |v_1 - 2v_3| \\le |v_1| + 2|v_3|$。\n根据条件1，我们有 $|v_1| + |v_3| \\le |v_1| + |v_2| + |v_3| \\le 1$。\n所以，$|v_1| \\le 1$ 且 $|v_3| \\le 1$。\n$|v_1| + 2|v_3|$ 的最大值为 $1 + 2(1) = 3$。条件 $2 \\le |v_1| + 2|v_3|$ 是可能成立的。\n我们结合 $|v_1| + |v_3| \\le 1$ 和 $2 \\le |v_1| + 2|v_3|$。\n$2 \\le |v_1| + 2|v_3| = |v_1| + |v_3| + |v_3| \\le 1 + |v_3|$。这蕴含了 $|v_3| \\ge 1$。\n由于必须有 $|v_3| \\le 1$，唯一的可能性是 $|v_3| = 1$。\n如果 $|v_3|=1$，那么 $1+|v_3| = 2$。为了使不等式 $2 \\le 1+|v_3|$ 成立，所有中间的不等式都必须是等式。具体来说，$|v_1|+|v_2|+|v_3|=1$。因为 $|v_3|=1$，这要求 $|v_1|=0$ 和 $|v_2|=0$，所以 $v_1=0$ 和 $v_2=0$。\n我们来检查 $v_1=0, v_2=0, |v_3|=1$ 是否是一个解。\n将 $v_1=0$ 代入 $v_1 - 2v_3 = 2$，得到 $-2v_3=2$，所以 $v_3=-1$。这满足 $|v_3|=1$。\n所以唯一可能的向量是 $v = \\begin{pmatrix} 0 \\\\ 0 \\\\ -1 \\end{pmatrix}$。这个向量满足 $\\|v\\|_1 = 1 \\le 1$ 和 $v^T x^{\\star} = 0(1) + 0(0) + (-1)(-2) = 2 = \\|x^{\\star}\\|_\\infty$。\n因此，次微分是一个单点集：\n$$\n\\partial (\\|x^{\\star}\\|_{\\infty}) = \\left\\{ \\begin{pmatrix} 0 \\\\ 0 \\\\ -1 \\end{pmatrix} \\right\\}\n$$\n且\n$$\n\\partial f_2(x^{\\star}) = \\alpha \\left\\{ \\begin{pmatrix} 0 \\\\ 0 \\\\ -1 \\end{pmatrix} \\right\\} = \\left\\{ \\begin{pmatrix} 0 \\\\ 0 \\\\ -\\alpha \\end{pmatrix} \\right\\}\n$$\n\n现在我们通过闵可夫斯基和求总的次微分 $\\partial F(x^{\\star})$：\n$$\n\\partial F(x^{\\star}) = \\left\\{ \\begin{pmatrix} -1 \\\\ s_1 \\\\ -2 \\end{pmatrix} \\;\\middle|\\; s_1 \\in [-1, 1] \\right\\} + \\left\\{ \\begin{pmatrix} 0 \\\\ 0 \\\\ -\\alpha \\end{pmatrix} \\right\\} = \\left\\{ \\begin{pmatrix} -1 \\\\ s_1 \\\\ -2-\\alpha \\end{pmatrix} \\;\\middle|\\; s_1 \\in [-1, 1] \\right\\}\n$$\n这个集合描述了 $\\mathbb{R}^3$ 中的一条线段。我们需要找到集合 $\\partial F(x^{\\star})$ 中具有最小欧几里得范数 $\\|g\\|_{2}$ 的元素 $g$。这等价于最小化 $\\|g\\|_{2}^2$。\n令 $g(s_1) = \\begin{pmatrix} -1 \\\\ s_1 \\\\ -2-\\alpha \\end{pmatrix}$。\n$$\n\\|g(s_1)\\|_{2}^2 = (-1)^2 + s_1^2 + (-2-\\alpha)^2 = 1 + s_1^2 + (2+\\alpha)^2\n$$\n为了在 $s_1 \\in [-1, 1]$ 上最小化这个量，我们需要最小化 $s_1^2$。在区间 $[-1, 1]$ 上，$s_1^2$ 的最小值是 $0$，在 $s_1 = 0$ 时取到。\n因此，具有最小欧几里得范数的次梯度 $g^{\\star}$ 对应于 $s_1=0$。\n$$\ng^{\\star} = \\begin{pmatrix} -1 \\\\ 0 \\\\ -2-\\alpha \\end{pmatrix}\n$$\n问题要求答案以行向量形式表示。",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n-1  0  -2-\\alpha\n\\end{pmatrix}\n}\n$$"
        }
    ]
}