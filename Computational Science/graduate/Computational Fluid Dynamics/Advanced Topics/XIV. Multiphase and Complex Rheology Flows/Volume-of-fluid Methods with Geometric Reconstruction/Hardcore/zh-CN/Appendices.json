{
    "hands_on_practices": [
        {
            "introduction": "在分段线性界面计算（PLIC）方法中，一个最基本的问题是根据给定的流体体积分数$F$来确定界面位置参数$\\alpha$。我们将通过分析最简单的情况——在一个三维单元格中界面与网格轴对齐——来建立对这个反问题的基础理解。这个练习清晰地揭示了描述界面位置的几何参数与被追踪的守恒量（体积分数）之间的直接关系。",
            "id": "3388579",
            "problem": "在采用分段线性界面计算 (PLIC) 几何重构的流体体积 (VOF) 法中，考虑一个取自单位立方体 $[0,1]^3$ 的单个计算单元。单元内部重构的界面由一个平面 $\\mathbf{n} \\cdot \\mathbf{x} = \\alpha$ 表示，其中 $\\mathbf{n}$ 是一个已知的单位法向量，$\\alpha$ 是一个未知的标量，其选择需使得集合 $\\{ \\mathbf{x} \\in [0,1]^3 : \\mathbf{n} \\cdot \\mathbf{x} \\le \\alpha \\}$ 的体积等于给定的液体体积分数 $F \\in [0,1]$。假设液体占据 $\\mathbf{n} \\cdot \\mathbf{x} \\le \\alpha$ 一侧的半空间。\n\n1. 对于特殊情况 $\\mathbf{n}=(1,0,0)$，通过将区域 $\\{(x,y,z)\\in[0,1]^3 : x \\le \\alpha\\}$ 的体积设为等于 $F$，推导用 $F$ 表示 $\\alpha$ 的表达式。您可以假设 $0 \\le \\alpha \\le 1$ 和 $0 \\le F \\le 1$，以确保平面与单元相交，且在单元边界处不发生饱和现象。\n\n2. 将您的推导推广到任何与坐标轴对齐的单位法向量 $\\mathbf{n}$，即对于 $i \\in \\{1,2,3\\}$ 有 $\\mathbf{n}=\\mathbf{e}_i$，其中液体同样位于 $\\mathbf{n} \\cdot \\mathbf{x} \\le \\alpha$ 一侧，且 $0 \\le \\alpha \\le 1$。\n\n将您的最终答案表示为用 $F$ 表示 $\\alpha$ 的单个闭式解析表达式（无需单位）。无需进行四舍五入。",
            "solution": "问题陈述已经过验证，被认为是具有科学依据、适定且客观的。它提出了一个来自计算流体力学领域的简化但基础的几何问题，特别是与采用分段线性界面计算（PLIC）的流体体积（VOF）法相关。\n\n核心任务是对于给定的液体体积分数 $F$，求出平面标量常数 $\\alpha$。在单位立方体计算单元 $[0,1]^3$ 内，界面是一个由 $\\mathbf{n} \\cdot \\mathbf{x} = \\alpha$ 描述的平面。假设液体占据由 $\\{ \\mathbf{x} \\in [0,1]^3 : \\mathbf{n} \\cdot \\mathbf{x} \\le \\alpha \\}$ 定义的区域。单元的总体积是 $1^3 = 1$。因此，液体的体积 $V$ 在数值上等于体积分数 $F$。\n$$V = F$$\n我们需要找到 $\\alpha$，使得液体区域的体积等于 $F$。体积 $V$ 是通过对单位立方体中满足 $\\mathbf{n} \\cdot \\mathbf{x} \\le \\alpha$ 的部分进行积分来计算的。\n\n第1部分：针对 $\\mathbf{n}=(1,0,0)$ 的推导\n\n对于单位法向量为 $\\mathbf{n} = (1,0,0)$ 的特殊情况，平面界面方程 $\\mathbf{n} \\cdot \\mathbf{x} = \\alpha$ 变为：\n$$ (1,0,0) \\cdot (x,y,z) = x = \\alpha $$\n液体区域由单位立方体内满足 $x \\le \\alpha$ 的点集 $\\mathbf{x}=(x,y,z)$ 定义。一个点位于液体区域内的完整约束条件集是：\n$$ 0 \\le x \\le 1 $$\n$$ 0 \\le y \\le 1 $$\n$$ 0 \\le z \\le 1 $$\n$$ x \\le \\alpha $$\n问题指明了假设 $0 \\le \\alpha \\le 1$。这确保了平面 $x=\\alpha$ 与立方体相交，形成一个简单的截断体。结合对 $x$ 的约束，我们得到 $0 \\le x \\le \\alpha$。对 $y$ 和 $z$ 的约束保持为 $0 \\le y \\le 1$ 和 $0 \\le z \\le 1$。\n\n该区域的体积 $V$ 由在这些边界上的三重积分给出：\n$$ V = \\int_0^1 \\int_0^1 \\int_0^\\alpha dx \\, dy \\, dz $$\n我们分步计算该积分：\n$$ V = \\int_0^1 \\int_0^1 \\left[ x \\right]_0^\\alpha \\, dy \\, dz = \\int_0^1 \\int_0^1 (\\alpha - 0) \\, dy \\, dz = \\int_0^1 \\int_0^1 \\alpha \\, dy \\, dz $$\n$$ V = \\int_0^1 \\left[ \\alpha y \\right]_0^1 \\, dz = \\int_0^1 (\\alpha \\cdot 1 - \\alpha \\cdot 0) \\, dz = \\int_0^1 \\alpha \\, dz $$\n$$ V = \\left[ \\alpha z \\right]_0^1 = \\alpha \\cdot 1 - \\alpha \\cdot 0 = \\alpha $$\n液体区域的体积就是 $V = \\alpha$。通过将此体积与给定的液体体积分数 $F$ 相等，我们得到所需的关系：\n$$ \\alpha = F $$\n\n第2部分：对 $\\mathbf{n} = \\mathbf{e}_i$ 的推广\n\n我们现在将推导推广到任何与坐标轴对齐的单位法向量 $\\mathbf{n}$，即对于 $i \\in \\{1, 2, 3\\}$，有 $\\mathbf{n} = \\mathbf{e}_i$，其中 $\\mathbf{e}_1=(1,0,0)$、$\\mathbf{e}_2=(0,1,0)$ 和 $\\mathbf{e}_3=(0,0,1)$ 是标准基向量。\n\n情况 $i=1$：$\\mathbf{n} = \\mathbf{e}_1 = (1,0,0)$。这是第1部分中解决的情况，其结果是 $\\alpha = F$。\n\n情况 $i=2$：$\\mathbf{n} = \\mathbf{e}_2 = (0,1,0)$。液体区域的条件是 $\\mathbf{n} \\cdot \\mathbf{x} = y \\le \\alpha$。体积的积分边界是 $0 \\le x \\le 1$、$0 \\le y \\le \\alpha$（使用假设 $0 \\le \\alpha \\le 1$）和 $0 \\le z \\le 1$。体积是：\n$$ V = \\int_0^1 \\int_0^\\alpha \\int_0^1 dx \\, dy \\, dz = \\int_0^1 \\int_0^\\alpha 1 \\, dy \\, dz = \\int_0^1 \\alpha \\, dz = \\alpha $$\n令 $V=F$ 得到 $\\alpha = F$。\n\n情况 $i=3$：$\\mathbf{n} = \\mathbf{e}_3 = (0,0,1)$。液体区域的条件是 $\\mathbf{n} \\cdot \\mathbf{x} = z \\le \\alpha$。体积的积分边界是 $0 \\le x \\le 1$、$0 \\le y \\le 1$ 和 $0 \\le z \\le \\alpha$。体积是：\n$$ V = \\int_0^\\alpha \\int_0^1 \\int_0^1 dx \\, dy \\, dz = \\int_0^\\alpha \\int_0^1 1 \\, dy \\, dz = \\int_0^\\alpha 1 \\, dz = \\alpha $$\n再次令 $V=F$ 得到 $\\alpha = F$。\n\n由于单位立方体的对称性，对于任何与坐标轴对齐的法向量，计算都是相同的。在每种情况下，界面平面都平行于立方体的一个面，由此产生的液体体积是一个底面积为 $1 \\times 1 = 1$、高为 $\\alpha$ 的长方体。因此体积为 $1 \\times \\alpha = \\alpha$。\n\n因此，对于任何 $\\mathbf{n} \\in \\{ \\mathbf{e}_1, \\mathbf{e}_2, \\mathbf{e}_3 \\}$，在 $0 \\le \\alpha \\le 1$ 的约束下，标量 $\\alpha$ 与体积分数 $F$ 的关系由同一个简单的线性表达式给出。用 $F$ 表示 $\\alpha$ 的最终单个闭式表达式是 $\\alpha = F$。",
            "answer": "$$\n\\boxed{F}\n$$"
        },
        {
            "introduction": "现实世界中的流体界面很少与计算网格完美对齐。本练习将我们带入一个更真实的二维场景，其中界面具有任意方向。你将推导连接流体面积与界面位置的分段函数，并求解界面位置，这是开发稳健VOF程序的关键技能。这个过程突显了当界面法向不再与坐标轴对齐时所引入的几何复杂性。",
            "id": "3388618",
            "problem": "考虑一个边长为 $1$ 的二维方形计算单元，其占据的区域为 $\\{(x,y)\\,|\\,0 \\leq x \\leq 1,\\; 0 \\leq y \\leq 1\\}$。在采用分段线性界面计算（PLIC）的流体体积法（VOF）中，该单元内重构的界面由直线 $\\mathbf{n}\\cdot \\mathbf{x}=\\alpha$ 表示，其中 $\\mathbf{n}=(\\cos\\theta,\\sin\\theta)$ 是单位法向量。流体区域被视为单元中满足 $\\mathbf{n}\\cdot \\mathbf{x}\\leq \\alpha$ 的子集。体积分数 $F$ 等于这个单位正方形内流体区域的面积。\n\n从体积分数是区域 $\\{(x,y)\\in[0,1]^2 \\,|\\, \\mathbf{n}\\cdot\\mathbf{x}\\leq \\alpha\\}$ 的面积这一定义出发，通过基本的几何推理，识别出随着 $\\alpha$ 的变化，直线 $\\mathbf{n}\\cdot \\mathbf{x}=\\alpha$ 与哪些单元边界相交，从而推导出面积作为 $\\alpha$ 函数的分段表达式。然后，对于 $\\theta=\\pi/3$ 和 $F=0.3$ 的情况，根据 $\\alpha$ 相对于直线截距的位置来确定正确的几何情况，并求解 $\\alpha$。\n\n将最终的 $\\alpha$ 值四舍五入到四位有效数字。答案以纯数字形式表示，不带单位。",
            "solution": "本题要求在一个单位正方形计算单元内，推导流体面积（体积分数）$F$ 的分段表达式，然后给定特定的流体分数 $F$ 和界面法向角 $\\theta$，求解界面位置参数 $\\alpha$。\n\n计算单元是由 $\\{(x,y) \\in \\mathbb{R}^2 \\,|\\, 0 \\leq x \\leq 1, 0 \\leq y \\leq 1\\}$ 定义的单位正方形。\n界面是一条由方程 $\\mathbf{n} \\cdot \\mathbf{x} = \\alpha$ 给出的直线，其中 $\\mathbf{x}=(x,y)$ 是位置向量，$\\mathbf{n}=(\\cos\\theta, \\sin\\theta)$ 是单位法向量。该方程可以写成 $x\\cos\\theta + y\\sin\\theta = \\alpha$。\n流体区域被定义为单元内满足 $\\mathbf{n} \\cdot \\mathbf{x} \\leq \\alpha$ 的点集。体积分数 $F$ 是该区域的面积。\n\n为了推导面积 $F$ 作为 $\\alpha$ 的函数表达式，我们分析直线 $x\\cos\\theta + y\\sin\\theta = \\alpha$ 随着 $\\alpha$ 变化如何与单位正方形相交。当直线经过正方形的顶点 $(0,0)$, $(1,0)$, $(0,1)$ 和 $(1,1)$ 时，流体区域的几何形状会发生改变。函数 $g(x,y) = x\\cos\\theta + y\\sin\\theta$ 在这些顶点处的值决定了直线与正方形相交时 $\\alpha$ 的取值范围。\n$g(0,0) = 0$\n$g(1,0) = \\cos\\theta$\n$g(0,1) = \\sin\\theta$\n$g(1,1) = \\cos\\theta + \\sin\\theta$\n\n题目指定 $\\theta = \\pi/3$。由于 $0  \\pi/3  \\pi/2$，$\\cos\\theta$ 和 $\\sin\\theta$ 均为正值。对于 $\\theta = \\pi/3$，我们有 $\\pi/4  \\theta  \\pi/2$，这意味着 $\\cos\\theta  \\sin\\theta$。具体来说，$\\cos(\\pi/3) = 1/2$ 且 $\\sin(\\pi/3) = \\sqrt{3}/2$。\n$\\alpha$ 的有序临界值为 $0$, $\\cos\\theta$, $\\sin\\theta$ 和 $\\cos\\theta+\\sin\\theta$。我们根据这些值，在三个不同的区间内分析面积 $F(\\alpha)$。\n\n**情况1：$0 \\leq \\alpha \\leq \\cos\\theta$**\n在此区间内，直线 $x\\cos\\theta + y\\sin\\theta = \\alpha$ 与正方形的底边（$y=0$）和左边（$x=0$）相交。\n在x轴上的截距是 $x_{\\text{int}} = \\alpha/\\cos\\theta$。由于 $\\alpha \\leq \\cos\\theta$，我们有 $0 \\leq x_{\\text{int}} \\leq 1$。\n在y轴上的截距是 $y_{\\text{int}} = \\alpha/\\sin\\theta$。由于 $\\cos\\theta  \\sin\\theta$，我们有 $\\alpha  \\sin\\theta$，因此 $0 \\leq y_{\\text{int}}  1$。\n流体区域是一个直角三角形，其顶点为 $(0,0)$, $(\\alpha/\\cos\\theta, 0)$ 和 $(0, \\alpha/\\sin\\theta)$。\n这个三角形的面积是：\n$$F(\\alpha) = \\frac{1}{2} \\left(\\frac{\\alpha}{\\cos\\theta}\\right) \\left(\\frac{\\alpha}{\\sin\\theta}\\right) = \\frac{\\alpha^2}{2\\cos\\theta\\sin\\theta} = \\frac{\\alpha^2}{\\sin(2\\theta)}$$\n\n**情况2：$\\cos\\theta  \\alpha \\leq \\sin\\theta$**\n在此区间内，x轴截距 $x_{\\text{int}} = \\alpha/\\cos\\theta > 1$，所以直线不再与正方形的底边（x轴上的线段 $[0,1]$）相交。它现在与右边（$x=1$）相交。\ny轴截距 $y_{\\text{int}} = \\alpha/\\sin\\theta \\leq 1$，所以直线仍然与左边（$x=0$）相交。\n流体区域是正方形内由直线 $y = (\\alpha - x\\cos\\theta)/\\sin\\theta$ 和坐标轴所围成的区域。该面积可以通过对流体区域的高度从 $x=0$到$x=1$进行积分来计算。\n$$F(\\alpha) = \\int_0^1 \\frac{\\alpha - x\\cos\\theta}{\\sin\\theta} \\,dx$$\n由于 $\\alpha \\leq \\sin\\theta$，在 $x=0$ 处的最大高度为 $\\alpha/\\sin\\theta \\leq 1$，所以直线不会穿过正方形的上边。\n$$F(\\alpha) = \\frac{1}{\\sin\\theta} \\left[\\alpha x - \\frac{x^2}{2}\\cos\\theta\\right]_0^1 = \\frac{1}{\\sin\\theta}\\left(\\alpha - \\frac{1}{2}\\cos\\theta\\right) = \\frac{2\\alpha - \\cos\\theta}{2\\sin\\theta}$$\n\n**情况3：$\\sin\\theta  \\alpha \\leq \\cos\\theta + \\sin\\theta$**\n在此区间内，两个截距 $x_{\\text{int}} = \\alpha/\\cos\\theta > 1$ 和 $y_{\\text{int}} = \\alpha/\\sin\\theta > 1$。直线与右边（$x=1$）和上边（$y=1$）相交。\n此时流体占据了单元的大部分。更简单的方法是计算非流体区域（即 $x\\cos\\theta + y\\sin\\theta > \\alpha$）的面积，然后从单元的总面积 $1$ 中减去它。\n非流体区域是位于右上角的一个小三角形，其顶点为 $(1,1)$, $((\\alpha-\\sin\\theta)/\\cos\\theta, 1)$ 和 $(1, (\\alpha-\\cos\\theta)/\\sin\\theta)$。\n通过坐标变换可以简化计算。令 $x' = 1-x$ 和 $y' = 1-y$。非流体区域满足 $(1-x')\\cos\\theta + (1-y')\\sin\\theta > \\alpha$，化简后为 $x'\\cos\\theta + y'\\sin\\theta  \\cos\\theta + \\sin\\theta - \\alpha$。\n令 $\\alpha' = \\cos\\theta + \\sin\\theta - \\alpha$。非流体区域的面积可由情况1中的公式，用 $\\alpha'$ 代替 $\\alpha$ 得到：\n$$A_{\\text{non-fluid}} = \\frac{(\\alpha')^2}{2\\cos\\theta\\sin\\theta} = \\frac{(\\cos\\theta + \\sin\\theta - \\alpha)^2}{2\\cos\\theta\\sin\\theta}$$\n那么流体面积为：\n$$F(\\alpha) = 1 - A_{\\text{non-fluid}} = 1 - \\frac{(\\cos\\theta + \\sin\\theta - \\alpha)^2}{2\\cos\\theta\\sin\\theta}$$\n\n现在，我们将此框架应用于 $\\theta = \\pi/3$ 和 $F = 0.3$ 的具体问题。\n首先，我们确定在区间边界处的 $F$ 值。\n$\\alpha$ 的临界值为 $\\alpha_1 = \\cos(\\pi/3) = 1/2$ 和 $\\alpha_2 = \\sin(\\pi/3) = \\sqrt{3}/2$。\n$\\sin(2\\theta) = \\sin(2\\pi/3) = \\sqrt{3}/2$。\n在第一个边界 $\\alpha = \\alpha_1 = 1/2$ 处，$F$ 的值为：\n$$F(\\alpha_1) = \\frac{\\alpha_1^2}{\\sin(2\\theta)} = \\frac{(1/2)^2}{\\sqrt{3}/2} = \\frac{1/4}{\\sqrt{3}/2} = \\frac{1}{2\\sqrt{3}} = \\frac{\\sqrt{3}}{6} \\approx 0.2887$$\n在第二个边界 $\\alpha = \\alpha_2 = \\sqrt{3}/2$ 处，$F$ 的值为：\n$$F(\\alpha_2) = \\frac{2\\alpha_2 - \\cos\\theta}{2\\sin\\theta} = \\frac{2(\\sqrt{3}/2) - (1/2)}{2(\\sqrt{3}/2)} = \\frac{\\sqrt{3} - 1/2}{\\sqrt{3}} = 1 - \\frac{1}{2\\sqrt{3}} = 1 - \\frac{\\sqrt{3}}{6} \\approx 0.7113$$\n\n给定 $F=0.3$。将其与边界值进行比较：\n$F(\\alpha_1) \\approx 0.2887  0.3  0.7113 \\approx F(\\alpha_2)$。\n这意味着问题属于**情况2**，其中 $\\cos\\theta  \\alpha \\leq \\sin\\theta$。\n适用的面积公式为：\n$$F = \\frac{2\\alpha - \\cos\\theta}{2\\sin\\theta}$$\n我们必须解此方程求出 $\\alpha$：\n$$2F\\sin\\theta = 2\\alpha - \\cos\\theta$$\n$$2\\alpha = 2F\\sin\\theta + \\cos\\theta$$\n$$\\alpha = F\\sin\\theta + \\frac{1}{2}\\cos\\theta$$\n代入给定值 $F=0.3$ 和 $\\theta=\\pi/3$：\n$$\\alpha = (0.3)\\sin(\\pi/3) + \\frac{1}{2}\\cos(\\pi/3)$$\n$$\\alpha = (0.3)\\left(\\frac{\\sqrt{3}}{2}\\right) + \\frac{1}{2}\\left(\\frac{1}{2}\\right)$$\n$$\\alpha = 0.15\\sqrt{3} + 0.25$$\n现在，我们计算其数值：\n$$\\alpha \\approx 0.15 \\times (1.7320508) + 0.25$$\n$$\\alpha \\approx 0.25980762 + 0.25$$\n$$\\alpha \\approx 0.50980762$$\n将结果四舍五入到四位有效数字，得到：\n$$\\alpha \\approx 0.5098$$\n此值位于情况2的预期范围内：$1/2  0.5098 \\leq \\sqrt{3}/2$，即 $0.5  0.5098 \\leq 0.866$，这是成立的。",
            "answer": "$$\\boxed{0.5098}$$"
        }
    ]
}