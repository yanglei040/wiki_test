{
    "hands_on_practices": [
        {
            "introduction": "Before we can construct complex machine learning models, it is crucial to grasp the fundamental relationship between potential energy and atomic structure. This first exercise  utilizes a simple, analytical potential to demonstrate how the balance between attractive and repulsive interactions dictates the formation of a stable bond at a specific equilibrium distance. Understanding this principle is foundational for interpreting any potential energy surface, whether it is derived from a simple function or a sophisticated MLIP.",
            "id": "90979",
            "problem": "In the development of machine learning interatomic potentials, simplified analytical functions are often employed as descriptors or components of the total energy model. Consider a simple two-body potential used to model the interaction between two atoms in a dimer as a function of their separation distance, $r$.\n\nThe potential energy, $V(r)$, is described by the superposition of a short-range repulsive Gaussian function and a longer-range attractive Gaussian function:\n$$\nV(r) = A \\exp(-\\alpha r^2) - B \\exp(-\\beta r^2)\n$$\nHere, $A$, $B$, $\\alpha$, and $\\beta$ are positive constants that characterize the strength and range of the repulsive and attractive interactions, respectively. For a stable chemical bond to form, the parameters must satisfy the conditions $\\alpha > \\beta$ and $\\alpha A > \\beta B$.\n\nDerive a symbolic expression for the stable equilibrium bond distance, $r_e$, for this dimer in terms of the parameters $A, B, \\alpha$, and $\\beta$.",
            "solution": "We seek $r_e$ such that $\\displaystyle\\frac{dV}{dr}=0$ for \n$$\nV(r)=A\\exp\\bigl(-\\alpha r^2\\bigr)-B\\exp\\bigl(-\\beta r^2\\bigr).\n$$\n\nDifferentiate with respect to $r$:\n$$\n\\frac{dV}{dr}\n=-2\\alpha A\\,r\\exp\\bigl(-\\alpha r^2\\bigr)\n+2\\beta B\\,r\\exp\\bigl(-\\beta r^2\\bigr)\n=2r\\Bigl[\\beta B\\,e^{-\\beta r^2}-\\alpha A\\,e^{-\\alpha r^2}\\Bigr].\n$$\n\nSetting $\\dfrac{dV}{dr}=0$ and discarding the trivial solution $r=0$, we require\n$$\n\\beta B\\,e^{-\\beta r^2}=\\alpha A\\,e^{-\\alpha r^2}\n\\quad\\Longrightarrow\\quad\n\\frac{\\beta B}{\\alpha A}=e^{-(\\alpha-\\beta)r^2}.\n$$\nTaking the natural logarithm,\n$$\n-(\\alpha-\\beta)r^2=\\ln\\!\\Bigl(\\tfrac{\\beta B}{\\alpha A}\\Bigr)\n\\quad\\Longrightarrow\\quad\nr^2=\\frac{-1}{\\alpha-\\beta}\\ln\\!\\Bigl(\\tfrac{\\beta B}{\\alpha A}\\Bigr)\n=\\frac{1}{\\alpha-\\beta}\\ln\\!\\Bigl(\\tfrac{\\alpha A}{\\beta B}\\Bigr).\n$$\n\nHence the equilibrium bond distance is\n$$\nr_e=\\sqrt{\\frac{1}{\\alpha-\\beta}\\ln\\!\\Bigl(\\tfrac{\\alpha A}{\\beta B}\\Bigr)}.\n$$",
            "answer": "$$\\boxed{\\sqrt{\\frac{1}{\\alpha-\\beta}\\ln\\!\\Bigl(\\frac{\\alpha A}{\\beta B}\\Bigr)}}$$"
        },
        {
            "introduction": "The primary application of interatomic potentials is to drive molecular dynamics simulations, a task that requires the accurate calculation of the force acting on every atom. This next practice  illustrates this vital connection by guiding you through the derivation of atomic forces from a given potential energy function. By working with a simplified MLIP model based on radial basis functions, you will learn how the mathematical form of the potential directly translates into the forces that govern atomic motion.",
            "id": "91015",
            "problem": "In the field of computational materials science, Machine Learning Interatomic Potentials (MLIPs) are increasingly used to accelerate molecular dynamics simulations by providing a fast and accurate approximation of the potential energy surface. A common approach is to represent the total potential energy $U$ of a system of $N$ atoms as a sum over atomic contributions, which themselves depend on the local chemical environment.\n\nConsider a simplified two-body MLIP model where the total potential energy $U$ of the system is given by the sum of pairwise interaction potentials over all unique pairs of atoms:\n$$\nU = \\sum_{i=1}^{N} \\sum_{j > i}^{N} V(r_{ij})\n$$\nwhere $r_{ij} = |\\mathbf{r}_i - \\mathbf{r}_j|$ is the scalar distance between atom $i$ at position $\\mathbf{r}_i$ and atom $j$ at position $\\mathbf{r}_j$.\n\nThe pairwise potential $V(r)$ is modeled as a linear combination of $K$ fixed-width Gaussian-type radial basis functions, centered at different radii $r_k$:\n$$\nV(r) = \\sum_{k=1}^{K} c_k \\exp\\left(-\\frac{(r - r_k)^2}{2\\sigma^2}\\right)\n$$\nHere, $\\{c_k\\}_{k=1}^K$ are the linear coefficients (weights) determined during the training process, $\\{r_k\\}_{k=1}^K$ are the fixed centers of the Gaussian functions, and $\\sigma$ is a fixed width parameter, identical for all basis functions.\n\nUsing the definitions above, derive a closed-form vector expression for the total force $\\mathbf{F}_i$ exerted on a specific atom $i$ by all other atoms in the system. Your expression should be a function of the atomic positions $\\mathbf{r}_j$, the model parameters $c_k$, $r_k$, $\\sigma$, and the interatomic distances $r_{ij}$.",
            "solution": "We have the total energy  \n$$\nU=\\sum_{i=1}^N\\sum_{j>i}V(r_{ij}),\\quad r_{ij}=|\\mathbf r_i-\\mathbf r_j|.\n$$\nThe force on atom $i$ is  \n$$\n\\mathbf F_i=-\\nabla_{\\mathbf r_i}U=-\\sum_{j\\neq i}\\frac{dV(r_{ij})}{dr_{ij}}\\frac{\\partial r_{ij}}{\\partial\\mathbf r_i}.\n$$\nSince \n$$\n\\frac{\\partial r_{ij}}{\\partial\\mathbf r_i}=\\frac{\\mathbf r_i-\\mathbf r_j}{r_{ij}},\n\\quad\nV(r)=\\sum_{k=1}^K c_k\\exp\\!\\Bigl(-\\tfrac{(r-r_k)^2}{2\\sigma^2}\\Bigr),\n$$\nwe compute\n$$\n\\frac{dV}{dr}\n=\\sum_{k=1}^K c_k\\Bigl(-\\frac{r-r_k}{\\sigma^2}\\Bigr)\\exp\\!\\Bigl(-\\frac{(r-r_k)^2}{2\\sigma^2}\\Bigr)\n=-\\sum_{k=1}^K c_k\\frac{r-r_k}{\\sigma^2}e^{-\\frac{(r-r_k)^2}{2\\sigma^2}}.\n$$\nSubstituting into $\\mathbf F_i$ gives\n$$\n\\mathbf F_i\n=-\\sum_{j\\ne i}\\Bigl(-\\sum_{k=1}^K c_k\\frac{r_{ij}-r_k}{\\sigma^2}e^{-\\frac{(r_{ij}-r_k)^2}{2\\sigma^2}}\\Bigr)\\frac{\\mathbf r_i-\\mathbf r_j}{r_{ij}}\n=\\sum_{j\\ne i}\\sum_{k=1}^K c_k\\frac{r_{ij}-r_k}{\\sigma^2}e^{-\\frac{(r_{ij}-r_k)^2}{2\\sigma^2}}\\frac{\\mathbf r_i-\\mathbf r_j}{r_{ij}}.\n$$",
            "answer": "$$\\boxed{\\mathbf F_i=\\sum_{j\\ne i}\\sum_{k=1}^K c_k\\frac{(r_{ij}-r_k)}{\\sigma^2}\\exp\\!\\Bigl(-\\frac{(r_{ij}-r_k)^2}{2\\sigma^2}\\Bigr)\\frac{\\mathbf r_i-\\mathbf r_j}{r_{ij}}}$$"
        },
        {
            "introduction": "A successful MLIP must recognize an atom's local chemical environment in a way that is invariant to the rotation or translation of the system. This is accomplished using mathematical descriptors known as symmetry functions. This final exercise  offers direct experience with the influential Behler-Parrinello symmetry functions, challenging you to compute a descriptor value for an atom within a crystal lattice. This practice demystifies how complex structural information is featurized into a numerical representation suitable for a machine learning algorithm.",
            "id": "90953",
            "problem": "In the field of machine learning interatomic potentials, Behler-Parrinello symmetry functions are a cornerstone for creating robust and accurate models of atomic interactions. These functions describe the local chemical environment of an atom in a way that is invariant to rotation, translation, and permutation of like atoms.\n\nA common type of radial symmetry function, denoted as $G^i(\\eta, R_s)$, quantifies the radial distribution of neighboring atoms $j$ around a central atom $i$. It is defined as:\n$$\nG^i(\\eta, R_s) = \\sum_{j \\neq i} e^{-\\eta (R_{ij} - R_s)^2} f_c(R_{ij})\n$$\nHere, $R_{ij}$ is the distance between atoms $i$ and $j$. The parameter $\\eta$ controls the width of the Gaussian functions, and $R_s$ defines the radial distance at which the Gaussian is centered. The sum runs over all neighbors $j$ within a cutoff radius $R_c$. This cutoff is enforced by the cutoff function $f_c(R_{ij})$, which smoothly brings the contribution of each neighbor to zero as its distance approaches $R_c$. A frequently used form for $f_c(R_{ij})$ is the cosine cutoff function:\n$$\nf_c(R_{ij}) = \\begin{cases}\n\\frac{1}{2} \\left( \\cos\\left(\\frac{\\pi R_{ij}}{R_c}\\right) + 1 \\right) & \\text{if } R_{ij} \\le R_c \\\\\n0 & \\text{if } R_{ij} > R_c\n\\end{cases}\n$$\n\nConsider a single atom of an element arranged in an ideal simple cubic (SC) crystal lattice with a lattice constant $a$. For the atom located at the origin of this lattice, derive an analytical expression for the value of the radial symmetry function $G^i(\\eta, R_s)$. Use a cutoff radius of $R_c = \\frac{7}{4}a$. Your final expression should be in terms of the lattice constant $a$ and the symmetry function parameters $\\eta$ and $R_s$.",
            "solution": "1. The radial symmetry function is defined by  \n$$\nG^i(\\eta,R_s)=\\sum_{j\\neq i}e^{-\\eta\\bigl(R_{ij}-R_s\\bigr)^2}f_c(R_{ij})\\,,\n$$\nwith the cosine cutoff  \n$$\nf_c(R)=\\begin{cases}\n\\frac12\\bigl(\\cos(\\pi R/R_c)+1\\bigr)&R\\le R_c,\\\\\n0&R>R_c.\n\\end{cases}\n$$\n\n2. In a simple cubic lattice of constant $a$, atom $i$ at the origin has neighbors at positions $(n_x,n_y,n_z)a$, $n_x,n_y,n_z\\in\\mathbb Z\\setminus\\{0\\}$. Their distances are  \n$$\nR_{n_x,n_y,n_z}=a\\sqrt{n_x^2+n_y^2+n_z^2}\\,.\n$$\n\n3. With cutoff $R_c=\\tfrac74a$, only shells with $n_x^2+n_y^2+n_z^2\\le3$ contribute:\n- $n^2=1$: 6 atoms at $R=a$,\n- $n^2=2$: 12 atoms at $R=a\\sqrt2$,\n- $n^2=3$: 8 atoms at $R=a\\sqrt3$.\n\n4. Thus\n$$\nG^i=\\;6\\,e^{-\\eta(a-R_s)^2}f_c(a)\n\\;+\\;12\\,e^{-\\eta(a\\sqrt2-R_s)^2}f_c(a\\sqrt2)\n\\;+\\;8\\,e^{-\\eta(a\\sqrt3-R_s)^2}f_c(a\\sqrt3).\n$$\n\n5. Compute the cutoff factors, e.g.  \n$$\nf_c(a)=\\tfrac12\\bigl(\\cos(\\tfrac{\\pi a}{R_c})+1\\bigr)\n=\\tfrac12\\bigl(\\cos(\\tfrac{4\\pi}{7})+1\\bigr),\n$$\nand similarly\n$$\nf_c(a\\sqrt2)=\\tfrac12\\bigl(\\cos(\\tfrac{4\\pi\\sqrt2}{7})+1\\bigr),\\quad\nf_c(a\\sqrt3)=\\tfrac12\\bigl(\\cos(\\tfrac{4\\pi\\sqrt3}{7})+1\\bigr).\n$$\n\n6. Substituting and combining factors of $\\tfrac12$ gives  \n$$\nG^i\n=3\\,e^{-\\eta(a-R_s)^2}\\bigl(\\cos(\\tfrac{4\\pi}{7})+1\\bigr)\n+6\\,e^{-\\eta(a\\sqrt2-R_s)^2}\\bigl(\\cos(\\tfrac{4\\pi\\sqrt2}{7})+1\\bigr)\n+4\\,e^{-\\eta(a\\sqrt3-R_s)^2}\\bigl(\\cos(\\tfrac{4\\pi\\sqrt3}{7})+1\\bigr).\n$$",
            "answer": "$$\\boxed{3\\,e^{-\\eta(a-R_s)^2}\\bigl(\\cos\\!\\tfrac{4\\pi}{7}+1\\bigr)\n+6\\,e^{-\\eta(a\\sqrt2-R_s)^2}\\bigl(\\cos\\!\\tfrac{4\\pi\\sqrt2}{7}+1\\bigr)\n+4\\,e^{-\\eta(a\\sqrt3-R_s)^2}\\bigl(\\cos\\!\\tfrac{4\\pi\\sqrt3}{7}+1\\bigr)}$$"
        }
    ]
}