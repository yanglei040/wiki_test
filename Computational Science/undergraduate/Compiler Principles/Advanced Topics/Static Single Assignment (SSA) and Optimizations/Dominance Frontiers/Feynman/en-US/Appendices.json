{
    "hands_on_practices": [
        {
            "introduction": "To truly master dominance frontiers, we must begin by applying the formal definition with precision. This first exercise  challenges you to analyze a control-flow graph containing a self-loop, a simple yet revealing structure. By determining if a node can belong to its own dominance frontier, you will solidify your understanding of the core conditions involving dominance and strict dominance.",
            "id": "3638510",
            "problem": "Consider a Control Flow Graph (CFG) with nodes labeled $n_0, n_1, n_2, n_3, n_4, n_5$, where $n_0$ is the unique entry node and all nodes are reachable from $n_0$. The directed edges are given by $n_0 \\to n_1$, $n_1 \\to n_2$, $n_2 \\to n_2$, $n_2 \\to n_3$, $n_1 \\to n_4$, $n_3 \\to n_4$, and $n_4 \\to n_5$. The edge $n_2 \\to n_2$ is a self-loop. Using only the standard definitions of dominator and dominance frontier, compute the Dominance Frontier (DF) of the node $n_2$ in this CFG and determine whether $n_2$ belongs to its own dominance frontier. Let the Dominance Frontier (DF) of a node $x$ be defined as the set of nodes $y$ such that $x$ dominates at least one predecessor of $y$, but $x$ does not strictly dominate $y$. A node $d$ is said to dominate a node $n$ if every path from $n_0$ to $n$ includes $d$, and $d$ strictly dominates $n$ if $d$ dominates $n$ and $d \\neq n$. Define an indicator $I$ that equals $1$ if $n_2 \\in DF(n_2)$ and equals $0$ otherwise. Define $idx(n_i) = i$ for each node label $n_i$. Report the single numerical quantity $J = \\sum_{y \\in DF(n_2)} idx(y) + I$. No rounding is required.",
            "solution": "The problem requires the computation of a quantity $J$ derived from the Dominance Frontier (DF) of a specific node, $n_2$, in a given Control Flow Graph (CFG). The process will proceed in three steps: first, determining the dominator set for each node in the CFG; second, using these dominator sets to compute $DF(n_2)$; and third, calculating the final quantity $J$.\n\nThe provided CFG has nodes $\\{n_0, n_1, n_2, n_3, n_4, n_5\\}$ and edges $\\{n_0 \\to n_1, n_1 \\to n_2, n_2 \\to n_2, n_2 \\to n_3, n_1 \\to n_4, n_3 \\to n_4, n_4 \\to n_5\\}$. The unique entry node is $n_0$.\n\n**Step 1: Compute the Dominator Sets**\n\nA node $d$ dominates a node $n$, denoted $d \\in Dom(n)$, if every path from the entry node $n_0$ to $n$ contains $d$. A node always dominates itself.\n\n*   $Dom(n_0)$: The only path to $n_0$ from $n_0$ is the empty path. By definition, $n_0$ dominates itself. Thus, $Dom(n_0) = \\{n_0\\}$.\n*   $Dom(n_1)$: The only path from $n_0$ to $n_1$ is $n_0 \\to n_1$. The nodes on this path are $\\{n_0, n_1\\}$. Therefore, $Dom(n_1) = \\{n_0, n_1\\}$.\n*   $Dom(n_2)$: Any path from $n_0$ to $n_2$ must first pass through $n_1$. The initial path segment is $n_0 \\to n_1 \\to n_2$. The self-loop $n_2 \\to n_2$ does not introduce a path that avoids $n_0$ or $n_1$. Thus, every path to $n_2$ contains $n_0$, $n_1$, and $n_2$. $Dom(n_2) = \\{n_0, n_1, n_2\\}$.\n*   $Dom(n_3)$: To reach $n_3$, one must pass through $n_2$ via the edge $n_2 \\to n_3$. Therefore, any path to $n_3$ must be an extension of a path to $n_2$. The dominators of $n_3$ include all dominators of $n_2$. Hence, $Dom(n_3) = Dom(n_2) \\cup \\{n_3\\} = \\{n_0, n_1, n_2, n_3\\}$.\n*   $Dom(n_4)$: There are two incoming edges to $n_4$, one from $n_1$ and one from $n_3$. This means there are at least two distinct path structures from $n_0$ to $n_4$:\n    1.  $P_1 = n_0 \\to n_1 \\to n_4$. Nodes on this path: $\\{n_0, n_1, n_4\\}$.\n    2.  $P_2 = n_0 \\to n_1 \\to n_2 \\to n_3 \\to n_4$. Nodes on this path: $\\{n_0, n_1, n_2, n_3, n_4\\}$.\n    The dominators of $n_4$ are the intersection of the nodes on all possible paths from $n_0$ to $n_4$ (plus $n_4$ itself). The set of nodes common to all paths is the intersection of the node sets from representative paths: $\\{n_0, n_1, n_4\\} \\cap \\{n_0, n_1, n_2, n_3, n_4\\} = \\{n_0, n_1, n_4\\}$.\n    Thus, $Dom(n_4) = \\{n_0, n_1, n_4\\}$.\n*   $Dom(n_5)$: The only way to reach $n_5$ is from $n_4$. Therefore, any path to $n_5$ is an extension of a path to $n_4$. The dominators of $n_5$ are the dominators of $n_4$ plus $n_5$ itself. $Dom(n_5) = Dom(n_4) \\cup \\{n_5\\} = \\{n_0, n_1, n_4, n_5\\}$.\n\n**Step 2: Compute the Dominance Frontier $DF(n_2)$**\n\nThe dominance frontier of a node $x$ is defined as the set of all nodes $y$ such that $x$ dominates a predecessor of $y$, but $x$ does not strictly dominate $y$.\nA node $d$ strictly dominates $n$ if $d$ dominates $n$ and $d \\neq n$.\n\nWe need to compute $DF(n_2)$. We will examine each node $y$ in the graph to determine if it is in $DF(n_2)$. The condition is:\n$y \\in DF(n_2) \\iff (\\exists p \\in Pred(y) \\text{ such that } n_2 \\in Dom(p)) \\land (n_2 \\text{ does not strictly dominate } y)$.\n\nFirst, let's list the predecessors of each node:\n$Pred(n_0) = \\emptyset$\n$Pred(n_1) = \\{n_0\\}$\n$Pred(n_2) = \\{n_1, n_2\\}$\n$Pred(n_3) = \\{n_2\\}$\n$Pred(n_4) = \\{n_1, n_3\\}$\n$Pred(n_5) = \\{n_4\\}$\n\nNow we check each node $y$:\n*   $y = n_0$: $Pred(n_0)$ is empty, so the first part of the condition fails. $n_0 \\notin DF(n_2)$.\n*   $y = n_1$: $Pred(n_1)=\\{n_0\\}$. Does $n_2$ dominate $n_0$? No, $Dom(n_0) = \\{n_0\\}$. The first condition fails. $n_1 \\notin DF(n_2)$.\n*   $y = n_2$: $Pred(n_2)=\\{n_1, n_2\\}$.\n    1.  We need to find a predecessor $p$ of $n_2$ that is dominated by $n_2$. Let's check $p=n_2$. $n_2 \\in Dom(n_2)$, which is true. So the first condition is satisfied.\n    2.  Does $n_2$ not strictly dominate $n_2$? For $n_2$ to strictly dominate $n_2$, we need $n_2 \\in Dom(n_2)$ and $n_2 \\neq n_2$. The second part ($n_2 \\neq n_2$) is false. Therefore, $n_2$ does not strictly dominate $n_2$. The second condition is satisfied.\n    Since both conditions hold, $n_2 \\in DF(n_2)$.\n*   $y = n_3$: $Pred(n_3)=\\{n_2\\}$.\n    1.  The predecessor is $p=n_2$. Does $n_2$ dominate $n_2$? Yes. The first condition is satisfied.\n    2.  Does $n_2$ not strictly dominate $n_3$? From Step 1, $Dom(n_3)=\\{n_0, n_1, n_2, n_3\\}$. Since $n_2 \\in Dom(n_3)$ and $n_2 \\neq n_3$, $n_2$ *does* strictly dominate $n_3$. The second condition fails.\n    Therefore, $n_3 \\notin DF(n_2)$.\n*   $y = n_4$: $Pred(n_4)=\\{n_1, n_3\\}$.\n    1.  We need to find a predecessor $p$ of $n_4$ that is dominated by $n_2$.\n        - Checking $p=n_1$: Does $n_2$ dominate $n_1$? No, $Dom(n_1)=\\{n_0, n_1\\}$.\n        - Checking $p=n_3$: Does $n_2$ dominate $n_3$? Yes, $Dom(n_3)=\\{n_0, n_1, n_2, n_3\\}$.\n        Since one predecessor ($n_3$) is dominated by $n_2$, the first condition is satisfied.\n    2.  Does $n_2$ not strictly dominate $n_4$? From Step 1, $Dom(n_4)=\\{n_0, n_1, n_4\\}$. Since $n_2 \\notin Dom(n_4)$, $n_2$ does not dominate $n_4$, and thus cannot strictly dominate $n_4$. The second condition is satisfied.\n    Since both conditions hold, $n_4 \\in DF(n_2)$.\n*   $y = n_5$: $Pred(n_5)=\\{n_4\\}$.\n    1.  The predecessor is $p=n_4$. Does $n_2$ dominate $n_4$? No, $Dom(n_4)=\\{n_0, n_1, n_4\\}$. The first condition fails.\n    Therefore, $n_5 \\notin DF(n_2)$.\n\nCombining these results, the dominance frontier of $n_2$ is $DF(n_2) = \\{n_2, n_4\\}$.\n\n**Step 3: Calculate the Final Quantity $J$**\n\nThe problem asks for the value of $J = \\sum_{y \\in DF(n_2)} idx(y) + I$.\n\nFirst, we determine the value of the indicator $I$. $I$ is defined as $1$ if $n_2 \\in DF(n_2)$ and $0$ otherwise. From Step 2, we found that $n_2 \\in DF(n_2)$. Therefore, $I=1$.\n\nNext, we compute the sum. The function $idx(n_i)$ is defined as $i$.\n$$ \\sum_{y \\in DF(n_2)} idx(y) = idx(n_2) + idx(n_4) $$\nUsing the definition of $idx$, we have $idx(n_2)=2$ and $idx(n_4)=4$.\n$$ \\sum_{y \\in DF(n_2)} idx(y) = 2 + 4 = 6 $$\nFinally, we compute $J$:\n$$ J = \\left(\\sum_{y \\in DF(n_2)} idx(y)\\right) + I = 6 + 1 = 7 $$\nThe final numerical quantity is $7$.",
            "answer": "$$\\boxed{7}$$"
        },
        {
            "introduction": "Moving from single nodes to larger program structures, this practice focuses on loops, which are central to program behavior and compiler optimization. In this problem , you will analyze a control-flow graph with nested loops to compute the dominance frontiers for key loop-related nodes. This skill is fundamental for understanding how data flows into and out of loops, which is a prerequisite for many advanced optimizations.",
            "id": "3638564",
            "problem": "Consider the following reducible Control Flow Graph (CFG) with two nested loops. Nodes are labeled by integers, with a unique entry at node $0$ and a unique exit at node $10$. The directed edges are:\n$(0,1)$, $(1,2)$, $(2,3)$, $(2,9)$, $(3,4)$, $(4,5)$, $(4,7)$, $(5,6)$, $(6,4)$, $(7,8)$, $(8,2)$, $(9,10)$. The outer loop has header node $2$ with back edge $(8,2)$; the inner loop has header node $4$ with back edge $(6,4)$. The inner loop body contains node $5$.\n\nUsing only first principles from the theory of dominators in Control Flow Graphs, determine the dominance frontiers (DF) of the inner loop header node $4$ and of the inner loop body node $5$. Then compute the value\n$$S = \\sum_{n \\in \\mathrm{DF}(4)} n + 10 \\times \\sum_{m \\in \\mathrm{DF}(5)} m.$$\n\nExpress the final result as an exact integer (no rounding is needed). Here, DF denotes Dominance Frontier (DF) as standardly defined in compiler theory. You may assume that dominance is defined with respect to the unique entry node $0$ and that a node dominates itself.",
            "solution": "To solve this problem, we will first determine the dominator relationships in the graph, then use them to compute the required dominance frontiers, and finally calculate the specified sum.\n\n### Step 1: Definition of the Control Flow Graph (CFG)\n\nThe problem defines a CFG with nodes $V = \\{0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10\\}$. The entry node is $0$. The set of directed edges $E$ is given as:\n$E = \\{(0,1), (1,2), (2,3), (2,9), (3,4), (4,5), (4,7), (5,6), (6,4), (7,8), (8,2), (9,10)\\}$.\n\nTo find the dominance frontiers, we must first determine the dominator relationships for all nodes in the graph.\n\n### Step 2: Computation of Dominators\n\nA node $d$ dominates a node $n$, written as $d \\text{ dom } n$, if every path from the entry node ($0$) to $n$ must pass through $d$. By definition, every node dominates itself. The set of all dominators of $n$ is denoted $\\mathrm{Dom}(n)$. The dominator sets can be found by solving the following system of equations using a fixed-point iteration method:\n$$ \\mathrm{Dom}(n) = \\{n\\} \\cup \\bigcap_{p \\in \\mathrm{preds}(n)} \\mathrm{Dom}(p) $$\nwhere $\\mathrm{preds}(n)$ is the set of immediate predecessors of $n$. For the entry node $0$, $\\mathrm{Dom}(0)=\\{0\\}$.\n\nThe predecessors for each node are:\n$\\mathrm{preds}(0) = \\emptyset$\n$\\mathrm{preds}(1) = \\{0\\}$\n$\\mathrm{preds}(2) = \\{1, 8\\}$\n$\\mathrm{preds}(3) = \\{2\\}$\n$\\mathrm{preds}(4) = \\{3, 6\\}$\n$\\mathrm{preds}(5) = \\{4\\}$\n$\\mathrm{preds}(6) = \\{5\\}$\n$\\mathrm{preds}(7) = \\{4\\}$\n$\\mathrm{preds}(8) = \\{7\\}$\n$\\mathrm{preds}(9) = \\{2\\}$\n$\\mathrm{preds}(10) = \\{9\\}$\n\nWe initialize $\\mathrm{Dom}(0) = \\{0\\}$ and $\\mathrm{Dom}(n) = V$ for all $n \\ne 0$. The iterative computation converges to the following sets:\n- $\\mathrm{Dom}(0) = \\{0\\}$\n- $\\mathrm{Dom}(1) = \\{1\\} \\cup \\mathrm{Dom}(0) = \\{0, 1\\}$\n- $\\mathrm{Dom}(2) = \\{2\\} \\cup (\\mathrm{Dom}(1) \\cap \\mathrm{Dom}(8)) = \\{0, 1, 2\\}$\n- $\\mathrm{Dom}(3) = \\{3\\} \\cup \\mathrm{Dom}(2) = \\{0, 1, 2, 3\\}$\n- $\\mathrm{Dom}(4) = \\{4\\} \\cup (\\mathrm{Dom}(3) \\cap \\mathrm{Dom}(6)) = \\{0, 1, 2, 3, 4\\}$\n- $\\mathrm{Dom}(5) = \\{5\\} \\cup \\mathrm{Dom}(4) = \\{0, 1, 2, 3, 4, 5\\}$\n- $\\mathrm{Dom}(6) = \\{6\\} \\cup \\mathrm{Dom}(5) = \\{0, 1, 2, 3, 4, 5, 6\\}$\n- $\\mathrm{Dom}(7) = \\{7\\} \\cup \\mathrm{Dom}(4) = \\{0, 1, 2, 3, 4, 7\\}$\n- $\\mathrm{Dom}(8) = \\{8\\} \\cup \\mathrm{Dom}(7) = \\{0, 1, 2, 3, 4, 7, 8\\}$\n- $\\mathrm{Dom}(9) = \\{9\\} \\cup \\mathrm{Dom}(2) = \\{0, 1, 2, 9\\}$\n- $\\mathrm{Dom}(10) = \\{10\\} \\cup \\mathrm{Dom}(9) = \\{0, 1, 2, 9, 10\\}$\n\n### Step 3: Computation of Dominance Frontiers\n\nThe dominance frontier of a node $n$, denoted $\\mathrm{DF}(n)$, is the set of all nodes $y$ such that $n$ dominates an immediate predecessor of $y$, but $n$ does not strictly dominate $y$. A node $n$ strictly dominates $y$ (written $n \\text{ sdom } y$) if $n \\text{ dom } y$ and $n \\neq y$.\nThe formal definition is:\n$$ \\mathrm{DF}(n) = \\{ y \\mid (\\exists p \\in \\mathrm{preds}(y)) (n \\text{ dom } p) \\land \\neg(n \\text{ sdom } y) \\} $$\n\nWe apply this definition to compute $\\mathrm{DF}(4)$ and $\\mathrm{DF}(5)$.\n\n**Computation of $\\mathrm{DF}(4)$:**\nWe need to find all nodes $y$ such that for some predecessor $p$ of $y$, $4 \\text{ dom } p$ and $4$ does not strictly dominate $y$.\nThe set of nodes dominated by $4$ is $\\{4, 5, 6, 7, 8\\}$. We examine the successors of these nodes.\n- Successors of $4$: $\\{5, 7\\}$.\n  - For $y=5$, $p=4$. $4 \\text{ dom } 4$ is true. But $4 \\text{ sdom } 5$ is true, so $5 \\notin \\mathrm{DF}(4)$.\n  - For $y=7$, $p=4$. $4 \\text{ dom } 4$ is true. But $4 \\text{ sdom } 7$ is true, so $7 \\notin \\mathrm{DF}(4)$.\n- Successors of $5$: $\\{6\\}$.\n  - For $y=6$, $p=5$. $4 \\text{ dom } 5$ is true. But $4 \\text{ sdom } 6$ is true, so $6 \\notin \\mathrm{DF}(4)$.\n- Successors of $6$: $\\{4\\}$.\n  - For $y=4$, $p=6$. $4 \\text{ dom } 6$ is true. Does $4$ strictly dominate $4$? No. Thus, $\\neg(4 \\text{ sdom } 4)$ is true. Therefore, $4 \\in \\mathrm{DF}(4)$.\n- Successors of $7$: $\\{8\\}$.\n  - For $y=8$, $p=7$. $4 \\text{ dom } 7$ is true. But $4 \\text{ sdom } 8$ is true, so $8 \\notin \\mathrm{DF}(4)$.\n- Successors of $8$: $\\{2\\}$.\n  - For $y=2$, $p=8$. $4 \\text{ dom } 8$ is true. Does $4$ strictly dominate $2$? No, in fact $2$ dominates $4$. Thus, $\\neg(4 \\text{ sdom } 2)$ is true. Therefore, $2 \\in \\mathrm{DF}(4)$.\n\nCombining these results, the dominance frontier of node $4$ is $\\mathrm{DF}(4) = \\{2, 4\\}$.\n\n**Computation of $\\mathrm{DF}(5)$:**\nWe apply the same procedure for node $5$.\nThe set of nodes dominated by $5$ is $\\{5, 6\\}$. We examine the successors of these nodes.\n- Successors of $5$: $\\{6\\}$.\n  - For $y=6$, $p=5$. $5 \\text{ dom } 5$ is true. But $5 \\text{ sdom } 6$ is true, so $6 \\notin \\mathrm{DF}(5)$.\n- Successors of $6$: $\\{4\\}$.\n  - For $y=4$, $p=6$. $5 \\text{ dom } 6$ is true. Does $5$ strictly dominate $4$? No, $4$ dominates $5$. Thus, $\\neg(5 \\text{ sdom } 4)$ is true. Therefore, $4 \\in \\mathrm{DF}(5)$.\n\nThe dominance frontier of node $5$ is $\\mathrm{DF}(5) = \\{4\\}$.\n\n### Step 4: Final Calculation\n\nThe problem asks for the value of $S$ defined as:\n$$ S = \\sum_{n \\in \\mathrm{DF}(4)} n + 10 \\times \\sum_{m \\in \\mathrm{DF}(5)} m $$\nSubstituting the computed dominance frontiers:\n$$ S = \\sum_{n \\in \\{2, 4\\}} n + 10 \\times \\sum_{m \\in \\{4\\}} m $$\n$$ S = (2 + 4) + 10 \\times (4) $$\n$$ S = 6 + 40 $$\n$$ S = 46 $$\nThe final result is an exact integer.",
            "answer": "$$\n\\boxed{46}\n$$"
        },
        {
            "introduction": "The primary motivation for computing dominance frontiers is their critical role in constructing Static Single Assignment (SSA) form. This final practice  guides you through the complete process, from calculating the dominance frontiers for each node to applying the iterated dominance frontier algorithm. By determining where to place $\\phi$-functions for several variables, you will see how this theoretical concept directly enables one of the most important intermediate representations in modern compilers.",
            "id": "3638894",
            "problem": "Consider a control-flow graph (CFG) with nodes $E$, $B$, $L$, $R$, $J$, $B_{2}$, $L_{2}$, $R_{2}$, $J_{2}$, and $X$. The directed edges are:\n$E \\rightarrow B$, $B \\rightarrow L$, $B \\rightarrow R$, $L \\rightarrow J$, $R \\rightarrow J$, $J \\rightarrow B_{2}$, $B_{2} \\rightarrow L_{2}$, $B_{2} \\rightarrow R_{2}$, $L_{2} \\rightarrow J_{2}$, $R_{2} \\rightarrow J_{2}$, and $J_{2} \\rightarrow X$. This CFG forms two diamond-shaped regions in series.\n\nUse the following foundational definitions from compiler theory:\n- A node $d$ dominates a node $n$ if every path from the entry node to $n$ includes $d$. If $d \\neq n$, then $d$ strictly dominates $n$.\n- The dominance frontier $DF(n)$ of a node $n$ is the set of all nodes $y$ such that there exists a predecessor $p$ of $y$ where $n$ dominates $p$, but $n$ does not strictly dominate $y$.\n- Static Single Assignment (SSA) form is a representation in which each variable is assigned exactly once, and $\\phi$-functions are used at join points to merge values coming from multiple predecessors. Use the Cytron et al. construction algorithm for SSA with no liveness-based pruning: place $\\phi$-functions at nodes in the iterated dominance frontier of the set of definition sites for each variable until a fixed point is reached.\n\nTasks:\n1. Compute the dominance frontier $DF(n)$ for each node $n \\in \\{E, B, L, R, J, B_{2}, L_{2}, R_{2}, J_{2}, X\\}$.\n2. Suppose $3$ scalar variables $x$, $y$, and $w$ are defined as follows:\n   - $x$ is defined in $L$ and $R$.\n   - $y$ is defined in $L_{2}$ and $R_{2}$.\n   - $w$ is defined in $R$ and $L_{2}$.\n   Using the SSA construction described above, determine where $\\phi$-functions are placed for each variable by computing the iterated dominance frontier of its definition sites.\n3. What is the total number of $\\phi$-functions inserted across all three variables? Provide your final answer as a single integer. No rounding is required.",
            "solution": "The problem asks for an analysis of a given control-flow graph (CFG) to determine the placement of $\\phi$-functions according to the Static Single Assignment (SSA) construction algorithm by Cytron et al. This involves three main steps: first, determining the dominance frontiers for all nodes in the graph; second, using this information to find the iterated dominance frontiers for the definition sites of three specific variables; and third, counting the total number of $\\phi$-functions required.\n\nThe CFG has nodes $N = \\{E, B, L, R, J, B_{2}, L_{2}, R_{2}, J_{2}, X\\}$ and directed edges $A = \\{ (E,B), (B,L), (B,R), (L,J), (R,J), (J,B_{2}), (B_{2},L_{2}), (B_{2},R_{2}), (L_{2},J_{2}), (R_{2},J_{2}), (J_{2},X) \\}$. The node $E$ is the unique entry node of the graph, as it has an in-degree of $0$.\n\nFirst, we must determine the dominator relationships. A node $d$ dominates a node $n$, written $d \\text{ dom } n$, if every path from the entry node $E$ to $n$ contains $d$. A node $d$ strictly dominates $n$, written $d \\text{ sdom } n$, if $d \\text{ dom } n$ and $d \\neq n$. The immediate dominator of a node $n$, denoted $\\text{idom}(n)$, is the strict dominator of $n$ that is dominated by all other strict dominators of $n$.\n\nBy analyzing all paths from $E$, we establish the following immediate dominator relationships:\n- $\\text{idom}(B) = E$\n- $\\text{idom}(L) = B$\n- $\\text{idom}(R) = B$\n- $\\text{idom}(J) = B$. This is because any path to $J$ must pass through $B$, and the paths $E \\rightarrow B \\rightarrow L \\rightarrow J$ and $E \\rightarrow B \\rightarrow R \\rightarrow J$ show that neither $L$ nor $R$ dominates $J$.\n- $\\text{idom}(B_{2}) = J$\n- $\\text{idom}(L_{2}) = B_{2}$\n- $\\text{idom}(R_{2}) = B_{2}$\n- $\\text{idom}(J_{2}) = B_{2}$. Similar to $J$, any path to $J_{2}$ must pass through $B_{2}$, but not necessarily through $L_{2}$ or $R_{2}$.\n- $\\text{idom}(X) = J_{2}$\n\nThe dominator tree, which represents the immediate dominance relationships, can be constructed from these. $E$ is the root. The children of any node $d$ are all nodes $n$ for which $\\text{idom}(n) = d$.\n\n**Task 1: Compute the Dominance Frontier $DF(n)$ for each node**\n\nThe dominance frontier $DF(n)$ of a node $n$ is the set of all nodes $y$ such that $n$ dominates a predecessor $p$ of $y$, but $n$ does not strictly dominate $y$. We apply this definition to each node $n \\in N$.\n\n- $DF(L)$: The only node dominated solely by $L$ (and its dominators) is $L$ itself. The only outgoing edge from $L$ is $L \\rightarrow J$. Here, the predecessor $p$ is $L$ and the successor $y$ is $J$. We check the condition: $L \\text{ dom } L$, but $L$ does not strictly dominate $J$ (since $\\text{idom}(J) = B$). Thus, $J \\in DF(L)$. So, $DF(L) = \\{J\\}$.\n- $DF(R)$: By symmetric reasoning to $L$, the edge $R \\rightarrow J$ results in $J \\in DF(R)$. So, $DF(R) = \\{J\\}$.\n- $DF(L_{2})$: The edge is $L_{2} \\rightarrow J_{2}$. The predecessor is $p=L_{2}$ and the successor is $y=J_{2}$. We check: $L_{2} \\text{ dom } L_{2}$, but $L_{2}$ does not strictly dominate $J_{2}$ (since $\\text{idom}(J_{2}) = B_{2}$). Thus, $J_{2} \\in DF(L_{2})$. So, $DF(L_{2}) = \\{J_{2}\\}$.\n- $DF(R_{2})$: By symmetric reasoning to $L_{2}$, the edge $R_{2} \\rightarrow J_{2}$ results in $J_{2} \\in DF(R_{2})$. So, $DF(R_{2}) = \\{J_{2}\\}$.\n- For all other nodes $n \\in \\{E, B, J, B_{2}, J_{2}, X\\}$, any edge $(p, y)$ where $n \\text{ dom } p$ also has the property that $n \\text{ sdom } y$. For example, consider $n=J$. $J$ dominates $J$, $B_{2}$, $L_{2}$, $R_{2}$, $J_{2}$, and $X$. Any edge originating from one of these nodes (e.g., $J \\rightarrow B_{2}$ or $L_{2} \\rightarrow J_{2}$) leads to a node that is also strictly dominated by $J$. Therefore, their dominance frontiers are empty.\n- $DF(E) = \\emptyset$\n- $DF(B) = \\emptyset$\n- $DF(J) = \\emptyset$\n- $DF(B_{2}) = \\emptyset$\n- $DF(J_{2}) = \\emptyset$\n- $DF(X) = \\emptyset$ (no outgoing edges)\n\nTo summarize Task 1, the non-empty dominance frontiers are:\n$DF(L) = \\{J\\}$\n$DF(R) = \\{J\\}$\n$DF(L_{2}) = \\{J_{2}\\}$\n$DF(R_{2}) = \\{J_{2}\\}$\n\n**Task 2: Determine $\\phi$-function placement for variables $x$, $y$, and $w$**\n\nThe Cytron et al. algorithm states that a $\\phi$-function for a variable is placed at every node in the iterated dominance frontier, $DF^{+}(S)$, of the set $S$ of nodes containing definitions of that variable. The iterated dominance frontier is computed by repeatedly calculating the dominance frontier of the union of the original sites and the sites found in the previous iteration, until a fixed point is reached.\nLet $\\Phi$ be the set of nodes where $\\phi$-functions are placed.\n\n- **Variable $x$**: defined in $S_x = \\{L, R\\}$.\nWe compute $DF^+(S_x)$.\nThe initial set of nodes for which we need frontiers is $S_x$.\n$DF(S_x) = DF(L) \\cup DF(R) = \\{J\\} \\cup \\{J\\} = \\{J\\}$.\nSo, we must place a $\\phi$-function for $x$ at node $J$, so $\\Phi_x = \\{J\\}$.\nNow we iterate: we compute the DF for the new set of \"definitions\" $S_x \\cup \\Phi_x = \\{L, R, J\\}$.\n$DF(L) \\cup DF(R) \\cup DF(J) = \\{J\\} \\cup \\{J\\} \\cup \\emptyset = \\{J\\}$.\nThe set of $\\phi$-locations has not changed. The fixed point is reached.\nThe set of nodes for $\\phi$-functions for $x$ is $\\Phi_x = \\{J\\}$. This requires $1$ $\\phi$-function.\n\n- **Variable $y$**: defined in $S_y = \\{L_{2}, R_{2}\\}$.\nWe compute $DF^+(S_y)$.\n$DF(S_y) = DF(L_{2}) \\cup DF(R_{2}) = \\{J_{2}\\} \\cup \\{J_{2}\\} = \\{J_{2}\\}$.\nSo, we must place a $\\phi$-function for $y$ at node $J_{2}$, so $\\Phi_y = \\{J_{2}\\}$.\nNow we iterate: we compute the DF for $\\{L_{2}, R_{2}, J_{2}\\}$.\n$DF(L_{2}) \\cup DF(R_{2}) \\cup DF(J_{2}) = \\{J_{2}\\} \\cup \\{J_{2}\\} \\cup \\emptyset = \\{J_{2}\\}$.\nThe fixed point is reached.\nThe set of nodes for $\\phi$-functions for $y$ is $\\Phi_y = \\{J_{2}\\}$. This requires $1$ $\\phi$-function.\n\n- **Variable $w$**: defined in $S_w = \\{R, L_{2}\\}$.\nWe compute $DF^+(S_w)$.\n$DF(S_w) = DF(R) \\cup DF(L_{2}) = \\{J\\} \\cup \\{J_{2}\\} = \\{J, J_{2}\\}$.\nSo, we must place $\\phi$-functions for $w$ at nodes $J$ and $J_{2}$, so $\\Phi_w = \\{J, J_{2}\\}$.\nNow we iterate: we compute the DF for $\\{R, L_{2}, J, J_{2}\\}$.\n$DF(R) \\cup DF(L_{2}) \\cup DF(J) \\cup DF(J_{2}) = \\{J\\} \\cup \\{J_{2}\\} \\cup \\emptyset \\cup \\emptyset = \\{J, J_{2}\\}$.\nThe fixed point is reached.\nThe set of nodes for $\\phi$-functions for $w$ is $\\Phi_w = \\{J, J_{2}\\}$. This requires $2$ $\\phi$-functions.\n\n**Task 3: Compute the total number of $\\phi$-functions**\n\nThe total number of $\\phi$-functions is the sum of the number of $\\phi$-functions inserted for each variable.\nNumber for $x$: $|\\Phi_x| = |\\{J\\}| = 1$.\nNumber for $y$: $|\\Phi_y| = |\\{J_{2}\\}| = 1$.\nNumber for $w$: $|\\Phi_w| = |\\{J, J_{2}\\}| = 2$.\n\nTotal number of $\\phi$-functions = $1 + 1 + 2 = 4$.",
            "answer": "$$\n\\boxed{4}\n$$"
        }
    ]
}