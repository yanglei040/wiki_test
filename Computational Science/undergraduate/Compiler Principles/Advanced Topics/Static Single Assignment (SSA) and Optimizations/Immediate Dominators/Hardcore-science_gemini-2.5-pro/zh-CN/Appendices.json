{
    "hands_on_practices": [
        {
            "introduction": "为了建立扎实的理解，我们从基础开始。第一个练习  要求您在一个简单的控制流图中，通过直接应用其定义来确定直接支配点，这涉及到分析从入口节点出发的所有路径。在学习更复杂的算法之前，这种练习能够锻炼您从第一性原理出发进行推理的能力。",
            "id": "3645211",
            "problem": "给定一个有向控制流图 (CFG)，其入口节点为 $s$，并包含节点 $a$、$b$、$c$ 和 $j$。该CFG包含边 $s \\to a$、$s \\to b$、$s \\to c$ 以及 $a \\to j$、$b \\to j$、$c \\to j$。所有节点均可从 $s$ 到达。仅使用支配和直接支配的基本定义，确定此CFG中 $\\mathrm{idom}(j)$。然后，考虑一个修改后的CFG，该CFG通过额外添加边 $b \\to a$ 得到；确定修改后CFG中新的 $\\mathrm{idom}(j)$。\n\n使用的定义：\n- 如果从入口节点 $s$ 到节点 $y$ 的每条有向路径都包含节点 $x$，则节点 $x$ 支配节点 $y$。\n- 如果节点 $x$ 支配节点 $y$ 且 $x \\neq y$，则节点 $x$ 严格支配节点 $y$。\n- 节点 $y$ 的直接支配节点 $\\mathrm{idom}(y)$ 是 $y$ 的唯一严格支配节点，该节点不严格支配 $y$ 的任何其他严格支配节点。\n\n将你的最终答案表示为一个二元行向量 $\\left(x, y\\right)$，其中 $x$ 是原始CFG中的 $\\mathrm{idom}(j)$，$y$ 是修改后CFG中的 $\\mathrm{idom}(j)$，使用LaTeX的 $\\mathrm{pmatrix}$ 环境写作 $\\begin{pmatrix} x  y \\end{pmatrix}$。无需四舍五入，不涉及物理单位。将节点名称表示为数学符号（例如，$s$，$a$）。",
            "solution": "用户提供了一个关于确定控制流图 (CFG) 及其修改版本中某个节点的直接支配节点的问题。\n\n### 问题验证\n\n**步骤1：提取已知条件**\n- **原始CFG：**\n  - 节点：$\\{s, a, b, c, j\\}$\n  - 入口节点：$s$\n  - 边：$\\{(s, a), (s, b), (s, c), (a, j), (b, j), (c, j)\\}$\n  - 条件：所有节点均可从 $s$ 到达。\n- **修改后的CFG：**\n  - 额外添加的边：$(b, a)$\n- **定义：**\n  - 支配：如果从入口节点 $s$ 到节点 $y$ 的每条有向路径都包含节点 $x$，则节点 $x$ 支配节点 $y$。\n  - 严格支配：如果节点 $x$ 支配节点 $y$ 且 $x \\neq y$，则节点 $x$ 严格支配节点 $y$。\n  - 直接支配节点：节点 $y$ 的直接支配节点 $\\mathrm{idom}(y)$ 是 $y$ 的唯一严格支配节点，该节点不严格支配 $y$ 的任何其他严格支配节点。\n\n**步骤2：使用提取的已知条件进行验证**\n- **科学依据：**该问题使用了编译原理和图论中标准、明确定义的概​​念（控制流图、支配）。它在科学上是合理的。\n- **良构性：**图被明确定义，问题是精确的。所提供的定义导向唯一的解。\n- **客观性：**该问题使用图论的形式化方法陈述，不含任何主观性。\n- **完整性和一致性：**该问题提供了所有必要的信息（节点、边、入口节点、定义），且不包含内部矛盾。\n\n**步骤3：结论与行动**\n问题有效。将提供完整解答。\n\n### 第一部分：分析原始CFG\n\n设原始CFG为 $G_1$。节点集为 $V = \\{s, a, b, c, j\\}$，边集为 $E_1 = \\{(s, a), (s, b), (s, c), (a, j), (b, j), (c, j)\\}$。入口节点为 $s$。我们想要找到 $\\mathrm{idom}(j)$。\n\n首先，我们必须确定从入口节点 $s$到目标节点 $j$ 的所有路径。\n简单路径如下：\n1. $P_1: s \\to a \\to j$\n2. $P_2: s \\to b \\to j$\n3. $P_3: s \\to c \\to j$\n\n根据定义，如果节点 $x$ 出现在从 $s$ 到 $j$ 的每一条路径上，则 $x$ 支配 $j$。我们必须找到每条路径的节点集的交集。\n- $P_1$ 中的节点：$\\{s, a, j\\}$\n- $P_2$ 中的节点：$\\{s, b, j\\}$\n- $P_3$ 中的节点：$\\{s, c, j\\}$\n\n$j$ 的支配节点集，记为 $\\mathrm{dom}(j)$，是这些集合的交集：\n$$ \\mathrm{dom}(j) = \\{s, a, j\\} \\cap \\{s, b, j\\} \\cap \\{s, c, j\\} = \\{s, j\\} $$\n支配 $j$ 的节点是 $s$ 和 $j$ 本身。\n\n接下来，我们找到 $j$ 的严格支配节点集。如果节点 $x$ 支配 $j$ 且 $x \\neq j$，则 $x$ 严格支配 $j$。\n$j$ 的严格支配节点集是：\n$$ \\mathrm{sdom}(j) = \\mathrm{dom}(j) \\setminus \\{j\\} = \\{s, j\\} \\setminus \\{j\\} = \\{s\\} $$\n\n最后，我们找到 $j$ 的直接支配节点 $\\mathrm{idom}(j)$。定义指出 $\\mathrm{idom}(j)$ 是 $j$ 的唯一的严格支配节点，它不严格支配 $j$ 的任何其他严格支配节点。\n$j$ 的严格支配节点集是 $\\{s\\}$。由于该集合只包含一个元素 $s$，所以 $s$ 显然是那个不严格支配任何其他严格支配节点的唯一严格支配节点。\n因此，对于原始CFG，$\\mathrm{idom}(j) = s$。\n\n### 第二部分：分析修改后的CFG\n\n设修改后的CFG为 $G_2$。它是在 $G_1$ 的基础上添加边 $(b, a)$ 形成的。\n节点集仍然是 $V = \\{s, a, b, c, j\\}$。现在的边集是 $E_2 = E_1 \\cup \\{(b, a)\\} = \\{(s, a), (s, b), (s, c), (a, j), (b, j), (c, j), (b, a)\\}$。入口节点仍然是 $s$。我们想要找到新的 $\\mathrm{idom}(j)$。\n\n首先，我们确定 $G_2$ 中从 $s$ 到 $j$ 的所有路径。该图是一个有向无环图 (DAG)，所以我们只需要考虑简单路径。\n添加边 $(b, a)$ 引入了一条新路径。简单路径如下：\n1. $P_1: s \\to a \\to j$\n2. $P_2: s \\to b \\to j$\n3. $P_3: s \\to c \\to j$\n4. $P_4: s \\to b \\to a \\to j$\n\n现在我们通过求从 $s$ 到 $j$ 的所有路径的节点集的交集来找到 $j$ 的支配节点集。\n- $P_1$ 中的节点：$\\{s, a, j\\}$\n- $P_2$ 中的节点：$\\{s, b, j\\}$\n- $P_3$ 中的节点：$\\{s, c, j\\}$\n- $P_4$ 中的节点：$\\{s, b, a, j\\}$\n\n$j$ 的支配节点集 $\\mathrm{dom}(j)$ 是交集：\n$$ \\mathrm{dom}(j) = \\{s, a, j\\} \\cap \\{s, b, j\\} \\cap \\{s, c, j\\} \\cap \\{s, b, a, j\\} $$\n仅 $\\{s, b, j\\}$ 和 $\\{s, c, j\\}$ 的交集就是 $\\{s, j\\}$。因此，所有四个集合的交集至多是 $\\{s, j\\}$。\n我们验证 $s$ 和 $j$ 是否都在这四条路径中。经检验，确实如此。因此，\n$$ \\mathrm{dom}(j) = \\{s, j\\} $$\n\n接下来，我们找到 $j$ 的严格支配节点集：\n$$ \\mathrm{sdom}(j) = \\mathrm{dom}(j) \\setminus \\{j\\} = \\{s, j\\} \\setminus \\{j\\} = \\{s\\} $$\n\n最后，我们找到 $j$ 的直接支配节点。严格支配节点集同样是 $\\{s\\}$。与第一种情况一样，由于只有一个严格支配节点，它就是直接支配节点。\n因此，对于修改后的CFG，$\\mathrm{idom}(j) = s$。\n\n### 结论\n\n对于原始CFG， $j$ 的直接支配节点是 $s$。\n对于修改后的CFG， $j$ 的直接支配节点也是 $s$。\n最终答案是行向量 $(s, s)$。",
            "answer": "$$\n\\boxed{\\begin{pmatrix} s  s \\end{pmatrix}}\n$$"
        },
        {
            "introduction": "掌握了基础知识后，让我们将所学应用于一个包含循环和多重路径的、更为复杂的控制流图。这个问题  需要您系统性地找出所有节点的直接支配点，并引入了支配边界的概念。解决这个问题将展示这些结构属性之间如何相互关联，并对高级编译器分析至关重要。",
            "id": "3645154",
            "problem": "考虑以下有向控制流图 (CFG)，其唯一的入口节点为 $a$。节点集为 $\\{a,b,c,d,e,f,g,h,i,j\\}$，边集为\n$\\{(a,b),(a,c),(b,d),(c,d),(c,e),(d,f),(d,g),(e,c),(e,g),(f,h),(g,h),(g,i),(h,j),(i,d),(i,j)\\}$。\n  \n请仅使用支配、直接支配节点和支配边界的基础定义，按以下步骤操作：\n\n1. 确定每个节点 $n$ 的直接支配节点 $idom(n)$。你的推导需基于以下定义：一个节点 $x$ 支配一个节点 $y$ 当且仅当从入口节点 $a$ 到 $y$ 的每一条路径都包含 $x$；并且 $idom(y)$ 是 $y$ 的唯一的严格支配节点，该节点不严格支配 $y$ 的任何其他严格支配节点。\n\n2. 在不重新计算任何全局支配集的情况下，仅使用已构建的直接支配节点树（在 $idom(\\cdot)$ 关系下的子节点）和局部前驱关系，找出每个节点 $n$ 的支配边界 $DF(n)$。此处，一个节点 $n$ 的支配边界 (DF) 是这样的一个节点集合 $y$：$n$ 支配 $y$ 的至少一个前驱节点，但 $n$ 并不严格支配 $y$。\n\n3. 令 $S$ 表示这些支配边界的基数之和，即\n$$\nS \\;=\\; \\sum_{n \\in \\{a,b,c,d,e,f,g,h,i,j\\}} |DF(n)| \\, .\n$$\n计算 $S$。你的最终答案必须是一个整数。无需四舍五入。",
            "solution": "所提供的解答遵循一种系统化的方法，来确定给定控制流图 (CFG) 中每个节点的直接支配节点和支配边界。该解答按要求分为三个部分。\n\n首先，为方便参考，我们列出每个节点 $n$ 的前驱节点，记为 $pred(n)$：\n$pred(a) = \\{\\}$\n$pred(b) = \\{a\\}$\n$pred(c) = \\{a, e\\}$\n$pred(d) = \\{b, c, i\\}$\n$pred(e) = \\{c\\}$\n$pred(f) = \\{d\\}$\n$pred(g) = \\{d, e\\}$\n$pred(h) = \\{f, g\\}$\n$pred(i) = \\{g\\}$\n$pred(j) = \\{h, i\\}$\n\n1. 确定直接支配节点 ($idom(n)$)\n如果从入口节点 $a$ 到节点 $y$ 的每一条路径都包含节点 $x$，那么节点 $x$ 支配节点 $y$。我们通过分析 CFG 中的路径来找到每个节点的支配节点集 $dom(n)$。根据定义，每个节点都支配其自身。\n\n$dom(a) = \\{a\\}$。作为入口节点，它只被自身支配。\n$dom(b) = \\{a, b\\}$。到达 $b$ 的唯一路径是 $a \\to b$。\n$dom(c) = \\{a, c\\}$。所有到 $c$ 的路径都必须经过 $a$。路径 $a \\to c$ 表明，没有其他节点（除了 $a$ 和 $c$）必须存在于每条路径上。循环 $c \\to e \\to c$ 不会从外部引入新的支配节点。\n$dom(d) = \\{a, d\\}$。$d$ 的前驱节点是 $\\{b, c, i\\}$。$d$ 的支配节点是 $\\{d\\} \\cup (dom(b) \\cap dom(c) \\cap dom(i))$。通过分析路径 $a \\to b \\to d$ 和 $a \\to c \\to d$，我们看到除了 $d$ 以外唯一的公共节点是 $a$。因此，$d$ 的任何支配节点也必须是 $a$ 的支配节点。这个推理对于经过 $i$ 的路径也成立，因为 $a$ 也支配 $i$。所以，$dom(d) = \\{a, d\\}$。\n$dom(e) = \\{a, c, e\\}$。$e$ 的唯一前驱是 $c$。因此，$dom(e) = \\{e\\} \\cup dom(c) = \\{e\\} \\cup \\{a, c\\} = \\{a, c, e\\}$。\n$dom(f) = \\{a, d, f\\}$。$f$ 的唯一前驱是 $d$。因此，$dom(f) = \\{f\\} \\cup dom(d) = \\{f\\} \\cup \\{a, d\\} = \\{a, d, f\\}$。\n$dom(g) = \\{a, g\\}$。$g$ 的前驱是 $\\{d, e\\}$。其支配节点是 $\\{g\\} \\cup (dom(d) \\cap dom(e)) = \\{g\\} \\cup (\\{a, d\\} \\cap \\{a, c, e\\}) = \\{g\\} \\cup \\{a\\} = \\{a, g\\}$。\n$dom(h) = \\{a, h\\}$。$h$ 的前驱是 $\\{f, g\\}$。其支配节点是 $\\{h\\} \\cup (dom(f) \\cap dom(g)) = \\{h\\} \\cup (\\{a, d, f\\} \\cap \\{a, g\\}) = \\{h\\} \\cup \\{a\\} = \\{a, h\\}$。\n$dom(i) = \\{a, g, i\\}$。$i$ 的唯一前驱是 $g$。因此，$dom(i) = \\{i\\} \\cup dom(g) = \\{i\\} \\cup \\{a, g\\} = \\{a, g, i\\}$。\n$dom(j) = \\{a, j\\}$。$j$ 的前驱是 $\\{h, i\\}$。其支配节点是 $\\{j\\} \\cup (dom(h) \\cap dom(i)) = \\{j\\} \\cup (\\{a, h\\} \\cap \\{a, g, i\\}) = \\{j\\} \\cup \\{a\\} = \\{a, j\\}$。\n\n直接支配节点 $idom(y)$ 是 $y$ 的唯一的严格支配节点，且该节点被 $y$ 的所有其他严格支配节点所支配。根据支配节点集，我们推导出直接支配节点：\n$idom(b) = a$，因为 $sdom(b) = \\{a\\}$。\n$idom(c) = a$，因为 $sdom(c) = \\{a\\}$。\n$idom(d) = a$，因为 $sdom(d) = \\{a\\}$。\n$idom(e) = c$，因为 $sdom(e) = \\{a, c\\}$ 且 $a$ 支配 $c$。\n$idom(f) = d$，因为 $sdom(f) = \\{a, d\\}$ 且 $a$ 支配 $d$。\n$idom(g) = a$，因为 $sdom(g) = \\{a\\}$。\n$idom(h) = a$，因为 $sdom(h) = \\{a\\}$。\n$idom(i) = g$，因为 $sdom(i) = \\{a, g\\}$ 且 $a$ 支配 $g$。\n$idom(j) = a$，因为 $sdom(j) = \\{a\\}$。\n\n2. 确定支配边界 ($DF(n)$)\n节点 $n$ 的支配边界 $DF(n)$ 是满足以下条件的节点 $y$ 的集合：$n$ 支配 $y$ 的至少一个前驱，但 $n$ 并不严格支配 $y$。\n\n$DF(a) = \\{\\}$。节点 $a$ 严格支配所有其他节点，因此对于任何 $y \\neq a$，“$a$ 不严格支配 $y$”这一条件永远不会满足。对于 $y=a$ 的情况，它没有前驱节点。\n$DF(b) = \\{d\\}$。$b$ 支配其后继节点 $d$ 的前驱节点 $b$。$b$ 不严格支配 $d$ (因为 $dom(d) = \\{a, d\\}$)。\n$DF(c) = \\{c, d, g\\}$。\n- 对于 $y=d$：$c \\in pred(d)$，$c$ 支配 $c$，且 $c$ 不严格支配 $d$。所以 $d \\in DF(c)$。\n- 对于 $y=c$：$e \\in pred(c)$，$c$ 支配 $e$，且 $c$ 不严格支配 $c$。所以 $c \\in DF(c)$。\n- 对于 $y=g$：$e \\in pred(g)$，$c$ 支配 $e$，且 $c$ 不严格支配 $g$。所以 $g \\in DF(c)$。\n$DF(d) = \\{g, h\\}$。\n- 对于 $y=g$：$d \\in pred(g)$，$d$ 支配 $d$，且 $d$ 不严格支配 $g$。所以 $g \\in DF(d)$。\n- 对于 $y=h$：$f \\in pred(h)$，$d$ 支配 $f$，且 $d$ 不严格支配 $h$。所以 $h \\in DF(d)$。\n$DF(e) = \\{c, g\\}$。\n- 对于 $y=c$：$e \\in pred(c)$，$e$ 支配 $e$，且 $e$ 不严格支配 $c$。所以 $c \\in DF(e)$。\n- 对于 $y=g$：$e \\in pred(g)$，$e$ 支配 $e$，且 $e$ 不严格支配 $g$。所以 $g \\in DF(e)$。\n$DF(f) = \\{h\\}$。$f \\in pred(h)$，$f$ 支配 $f$，且 $f$ 不严格支配 $h$。\n$DF(g) = \\{d, h, j\\}$。\n- 对于 $y=h$：$g \\in pred(h)$，$g$ 支配 $g$，且 $g$ 不严格支配 $h$。所以 $h \\in DF(g)$。\n- 对于 $y=d$：$i \\in pred(d)$，$g$ 支配 $i$，且 $g$ 不严格支配 $d$。所以 $d \\in DF(g)$。\n- 对于 $y=j$：$i \\in pred(j)$，$g$ 支配 $i$，且 $g$ 不严格支配 $j$。所以 $j \\in DF(g)$。\n$DF(h) = \\{j\\}$。$h \\in pred(j)$，$h$ 支配 $h$，且 $h$ 不严格支配 $j$。\n$DF(i) = \\{d, j\\}$。\n- 对于 $y=d$：$i \\in pred(d)$，$i$ 支配 $i$，且 $i$ 不严格支配 $d$。所以 $d \\in DF(i)$。\n- 对于 $y=j$：$i \\in pred(j)$，$i$ 支配 $i$，且 $i$ 不严格支配 $j$。所以 $j \\in DF(i)$。\n$DF(j) = \\{\\}$。节点 $j$ 没有后继节点。\n\n3. 计算总和 $S$\n总和 $S$ 是所有支配边界中条目的总数。我们对计算出的集合的基数求和：\n$|DF(a)| = 0$\n$|DF(b)| = 1$\n$|DF(c)| = 3$\n$|DF(d)| = 2$\n$|DF(e)| = 2$\n$|DF(f)| = 1$\n$|DF(g)| = 3$\n$|DF(h)| = 1$\n$|DF(i)| = 2$\n$|DF(j)| = 0$\n\n$S = \\sum_{n \\in \\{a,..,j\\}} |DF(n)| = 0 + 1 + 3 + 2 + 2 + 1 + 3 + 1 + 2 + 0 = 15$。",
            "answer": "$$\n\\boxed{15}\n$$"
        },
        {
            "introduction": "除了为静态图计算支配点，理解当图被修改时支配关系如何变化也至关重要，这在编译器优化中经常发生。这个问题  提出了一个分裂“关键边”的假设场景，并要求您从概念上推断这对直接支配关系的影响。这个练习将您从按部就班的计算，引导向对控制流变换更深层次的抽象理解。",
            "id": "3645173",
            "problem": "设控制流图（CFG）是一个带有特定入口节点的有向图，其中程序执行沿着边构成的路径进行。如果从入口到节点 $n$ 的每一条路径都包含节点 $d$，则称节点 $d$ 支配节点 $n$。节点 $n$ 的严格支配者是指一个满足 $d \\neq n$ 的支配者 $d$。节点 $n$ 的直接支配者，记为 $idom(n)$，是 $n$ 的唯一的严格支配者，它被 $n$ 的所有其他严格支配者所支配，并且其自身也支配 $n$。如果 $outdeg(p)  1$ 且 $indeg(q)  1$，则称边 $p \\to q$ 为关键边。考虑通过插入一个新节点 $m$ 来分裂一条关键边 $p \\to q$，使得原始边 $p \\to q$ 被两条边 $p \\to m$ 和 $m \\to q$ 替换，并且图中没有添加或删除其他任何边。生成的节点 $m$ 只有一个前驱 $p$ 和一个后继 $q$。假设入口、可达性以及原始节点之间的路径集合在其他方面均不因 $m$ 的插入而改变。\n\n根据上述基本定义，推断此边分裂对直接支配者的影响。特别地，确定在修改后的图中，$idom(m)$ 和 $idom(q)$ 相对于原始图中的值之间的正确关系。\n\n哪个选项是正确的？\n\nA. $idom(m) = p$ 且 $idom(q)$ 相对于分裂前的值保持不变。\n\nB. $idom(m) = p$ 且 $idom(q) = m$。\n\nC. $idom(m) = idom(p)$ 且 $idom(q)$ 相对于分裂前的值保持不变。\n\nD. $idom(m) = p$ 且 $idom(q) = p$，即使 $idom(q)$ 在分裂前的值不同。\n\nE. $idom(m) = idom(q)$ 且 $idom(q)$ 相对于分裂前的值保持不变。",
            "solution": "用户希望我分析在控制流图（CFG）中分裂一条关键边对相关节点的直接支配者的影响。\n\n### 问题验证\n\n**步骤1：提取已知条件**\n\n-   CFG 是一个带有特定入口节点的有向图。\n-   **支配者**：如果从入口到节点 $n$ 的每一条路径都包含节点 $d$，则节点 $d$ 支配节点 $n$。\n-   **严格支配者**：节点 $n$ 的一个支配者 $d$，满足 $d \\neq n$。\n-   **直接支配者 ($idom(n)$)**：$n$ 的唯一的严格支配者，它被 $n$ 的所有其他严格支配者所支配，并且它本身也支配 $n$。\n-   **关键边**：如果 $outdeg(p)  1$ 且 $indeg(q)  1$，则边 $p \\to q$ 是关键边。\n-   **边分裂操作**：通过插入一个新节点 $m$ 来分裂一条关键边 $p \\to q$。原始边 $p \\to q$ 被两条边 $p \\to m$ 和 $m \\to q$ 替换。\n-   **新节点 $m$ 的属性**：\n    -   $m$ 只有一个前驱 $p$。\n    -   $m$ 只有一个后继 $q$。\n-   **假设**：入口节点、可达性以及原始节点之间的路径集合在其他方面保持不变。\n-   **问题**：确定在修改后的图中，$idom(m)$ 和 $idom(q)$ 相对于原始图的关系。\n\n**步骤2：使用提取的已知条件进行验证**\n\n-   **科学依据**：问题陈述基于编译器理论中的标准、成熟的概念，特别是数据流分析和CFG上的图算法。提供的所有定义（支配者、直接支配者、关键边、边分裂）都与标准文献（例如，Aho 等人的《编译器：原理、技术与工具》）一致。直接支配者的定义虽然有点冗长，但在功能上是正确的：它确定了在支配树中“最接近”节点的支配者。\n-   **适定性**：问题定义明确。图的转换被精确指定，问题要求确定转换后特定节点（$m$ 和 $q$）的一个确定性属性（$idom$）。可以从提供的定义中推导出唯一解。\n-   **客观性**：问题以客观、形式化的语言陈述。没有歧义或主观内容。\n\n**步骤3：结论与行动**\n\n问题陈述是有效的。它具有科学合理性、适定性和客观性。我将继续推导解决方案。\n\n### 解决方案推导\n\n设原始 CFG 为 $G = (V, E)$，修改后的 CFG 为 $G' = (V \\cup \\{m\\}, E')$，其中 $E' = (E \\setminus \\{p \\to q\\}) \\cup \\{p \\to m, m \\to q\\}$。设 $entry$ 为 CFG 的入口节点。\n\n#### $idom(m)$ 的分析\n\n1.  根据问题对边分裂操作的定义，新节点 $m$ 只有一个前驱节点 $p$。进入 $m$ 的唯一入边是 $p \\to m$。\n2.  考虑从 $entry$ 节点到 $m$ 的任意路径 $\\pi$。由于进入节点 $m$ 的唯一方式是通过边 $p \\to m$，任何此类路径 $\\pi$ 的形式必为 $entry \\to \\dots \\to p \\to m$。\n3.  这意味着节点 $p$ 存在于从 $entry$ 到 $m$ 的每一条路径上。\n4.  根据支配者的定义，$p$ 支配 $m$。由于 $p$ 和 $m$ 是不同的节点，所以 $p$ 是 $m$ 的一个严格支配者。\n5.  现在考虑 $m$ 的任何其他严格支配者，称之为 $d$，其中 $d \\neq p$。由于 $d$ 必须在从 $entry$ 到 $m$ 的每一条路径上，而每一条这样的路径都形如 $entry \\to \\dots \\to p \\to m$，所以 $d$ 必须位于从 $entry$ 到 $p$ 的子路径上。\n6.  这意味着 $m$ 的任何其他严格支配者 $d$ 也必须支配 $p$。\n7.  因此，$m$ 的严格支配者集合是 $\\{p\\} \\cup \\{p \\text{ 的严格支配者}\\}$。\n8.  根据所给定义，$idom(m)$ 是被 $m$ 的所有其他严格支配者所支配的那个严格支配者。节点 $p$ 满足这个条件：$m$ 的所有其他严格支配者也都是 $p$ 的支配者。因此，$p$ 是 $m$ 的直接支配者。\n9.  所以，我们得出结论 $idom(m) = p$。\n\n#### $idom(q)$ 的分析\n\n让我们比较 $q$ 在原始图 $G$ 中的支配者集合（称之为 $Dom_G(q)$）与在修改后的图 $G'$ 中的支配者集合（称之为 $Dom_{G'}(q)$）。\n\n1.  **证明 $Dom_G(q) \\subseteq Dom_{G'}(q)$**：\n    设 $d$ 是 $q$ 在 $G$ 中的一个支配者。这意味着 $d$ 在 $G$ 中从 $entry$ 到 $q$ 的每一条路径上。我们需要证明 $d$ 在 $G'$ 中从 $entry$ 到 $q$ 的每一条路径上。\n    从 $entry$ 到 $q$ 在 $G'$ 中的路径可以分为两类：\n    a) 不使用新节点 $m$ 的路径 $\\pi'$。这条路径必然存在于 $G$ 中，并且必须通过 $p$ 以外的前驱到达 $q$。由于 $d \\in Dom_G(q)$，$d$ 必须在这条路径 $\\pi'$ 上。\n    b) 使用新节点 $m$ 的路径 $\\pi''$。这条路径的形式必为 $entry \\to \\dots \\to p \\to m \\to q$。这条路径对应于原始图 $G$ 中的路径 $\\pi = entry \\to \\dots \\to p \\to q$。由于 $d \\in Dom_G(q)$，$d$ 必须在 $\\pi$ 上。因为 $d$ 是一个支配者，我们可以假设 $d \\neq q$。因此 $d$ 必须位于子路径 $entry \\to \\dots \\to p$ 上。这意味着 $d$ 也存在于新路径 $\\pi''$ 上。\n    由于 $d$ 在 $G'$ 中到 $q$ 的所有路径上，所以 $d$ 是 $q$ 在 $G'$ 中的支配者。因此，$Dom_G(q) \\subseteq Dom_{G'}(q)$。\n\n2.  **证明 $Dom_{G'}(q) \\subseteq Dom_G(q)$**：\n    设 $d'$ 是 $q$ 在 $G'$ 中的一个支配者。我们需要证明 $d'$ 在 $G$ 中从 $entry$ 到 $q$ 的每一条路径上。\n    首先，注意 $d'$ 不可能是新节点 $m$。这是因为边 $p \\to q$ 是关键边，意味着 $indeg(q)  1$。所以，在 $G$ 中存在至少一个 $q$ 的其他前驱 $u \\neq p$。路径 $entry \\to \\dots \\to u \\to q$ 在 $G'$ 中仍然存在并且不包含 $m$。由于 $d'$ 必须在 $G'$ 中支配 $q$，它必须在这条路径上。因此，$d' \\neq m$。所以 $d'$ 是来自 $V$ 的原始节点之一。\n    现在考虑 $G$ 中从 $entry$ 到 $q$ 的任意路径 $\\pi$。\n    a) 如果 $\\pi$ 不使用边 $p \\to q$，它也存在于 $G'$ 中。由于 $d' \\in Dom_{G'}(q)$，$d'$ 必须在这条路径上。\n    b) 如果 $\\pi$ 使用边 $p \\to q$，它的形式为 $entry \\to \\dots \\to p \\to q$。在 $G'$ 中，这对应于路径 $\\pi' = entry \\to \\dots \\to p \\to m \\to q$。由于 $d' \\in Dom_{G'}(q)$，$d'$ 必须在 $\\pi'$ 上。因为 $d' \\neq m$，$d'$ 必须位于子路径 $entry \\to \\dots \\to p$ 上。因此，$d'$ 也在原始路径 $\\pi$ 上。\n    由于 $d'$ 在 $G$ 中到 $q$ 的所有路径上，所以 $d'$ 是 $q$ 在 $G$ 中的支配者。因此，$Dom_{G'}(q) \\subseteq Dom_G(q)$。\n\n3.  由 (1) 和 (2) 可知，我们得出结论 $Dom_G(q) = Dom_{G'}(q)$。$q$ 的支配者集合不因边分裂操作而改变。\n\n4.  直接支配者 $idom(q)$ 被定义为 $q$ 的严格支配者集合中的一个特定元素。这个选择是基于*支配者自身之间*的支配关系。插入 $m$ 不会改变任意两个原始节点（不涉及被分裂的边 $p \\to q$）之间的路径，而那些确实涉及 $p \\to q$ 的路径的修改方式也不会影响非 $m$ 节点之间的支配关系。因此，对于任意节点对 $(x, y)$ 其中 $x, y \\in V$，支配关系得以保留。\n5.  由于 $q$ 的支配者集合相同，并且这些节点之间的支配层次结构没有改变，所以 $q$ 的直接支配者也必然相同。\n\n**结论**：在通过插入节点 $m$ 分裂关键边 $p \\to q$ 后，我们得到 $idom(m) = p$ 且 $idom(q)$ 相对于其在原始图中的值保持不变。\n\n### 逐项分析选项\n\n-   **A. $idom(m) = p$ 且 $idom(q)$ 相对于分裂前的值保持不变。**\n    这与我们推导出的结果相符。$idom(m) = p$ 因为 $p$ 是 $m$ 的唯一前驱。$idom(q)$ 保持不变是因为 $q$ 的支配者集合以及它们之间的支配关系都得以保留。\n    **结论：正确。**\n\n-   **B. $idom(m) = p$ 且 $idom(q) = m$。**\n    第一部分，$idom(m) = p$，是正确的。第二部分，$idom(q) = m$，是错误的。要使 $m$ 成为 $idom(q)$，它必须首先支配 $q$。然而，由于原始边是关键边，$indeg(q)  1$。这意味着在原始图中至少存在一个 $q$ 的前驱 $u \\neq p$。通过 $u$ 到达 $q$ 的路径在修改后的图中仍然存在，并且不包含 $m$。因此，$m$ 不支配 $q$。\n    **结论：错误。**\n\n-   **C. $idom(m) = idom(p)$ 且 $idom(q)$ 相对于分裂前的值保持不变。**\n    第一部分，$idom(m) = idom(p)$，是错误的。我们证明了 $idom(m) = p$。一般而言，$p \\neq idom(p)$（除非 $p$ 的直接支配者是 $p$ 本身，这对于严格支配者来说是不可能的，或者如果 $idom(p)$ 指的是一个恰好等于 $p$ 的属性，这是无意义的）。\n    **结论：错误。**\n\n-   **D. $idom(m) = p$ 且 $idom(q) = p$，即使 $idom(q)$ 在分裂前的值不同。**\n    第一部分，$idom(m) = p$，是正确的。第二部分，即 $idom(q)$ 变为 $p$，是错误的。正如对选项B的分析所示，可能存在不包含 $p$ 的到达 $q$ 的路径。因此，在修改后的图中，$p$ 不一定支配 $q$，因此在一般情况下不能成为其直接支配者。我们的详细分析表明 $idom(q)$ 保持不变。\n    **结论：错误。**\n\n-   **E. $idom(m) = idom(q)$ 且 $idom(q)$ 相对于分裂前的值保持不变。**\n    第二部分，$idom(q)$ 保持不变，是正确的。第一部分声称 $idom(m) = idom(q)$。因为我们知道 $idom(m) = p$，这个陈述等价于声称分裂后 $p = idom(q)$。由于 $idom(q)$ 保持不变，这意味着 $p$ 在分裂前必定是 $idom(q)$。这在一般情况下不成立。例如，在一个菱形结构中，来自节点 $A$ 的两条路径在 $q$ 处汇合，其中 $p$ 在一条路径上，那么 $idom(q)$ 将是 $A$，而不是 $p$。\n    **结论：错误。**",
            "answer": "$$\\boxed{A}$$"
        }
    ]
}