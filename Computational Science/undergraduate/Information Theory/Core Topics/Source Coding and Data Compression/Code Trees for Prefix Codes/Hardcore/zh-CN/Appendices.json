{
    "hands_on_practices": [
        {
            "introduction": "本章的第一个练习将我们讨论过的概念付诸实践。通过为一个给定的前缀码和信源分布计算平均码长，你将练习评估编码性能的基本技能，即衡量其期望传输成本。这个计算是比较不同编码方案的基石。",
            "id": "1610986",
            "problem": "一个研究团队正在为一种新型低功耗气象传感器开发一种简单的压缩方案。该传感器可以报告四种可能的状态之一，我们用抽象符号 $s_1, s_2, s_3, \\text{和 } s_4$ 来表示。为了高效地传输数据，该团队提出了一种二进制编码方案，将这些符号映射到以下码字：\n- $s_1 \\rightarrow \\text{01}$\n- $s_2 \\rightarrow \\text{1}$\n- $s_3 \\rightarrow \\text{000}$\n- $s_4 \\rightarrow \\text{001}$\n\n为了使这样的码字流能够被无歧义地、即时地解码，该编码必须是一种前缀码。如果一个编码集合中的任何码字都不是其他码字的前缀，那么该编码就被定义为前缀码。\n\n根据历史天气模式，每个符号出现的概率估计如下：\n- $P(s_1) = 0.20$\n- $P(s_2) = 0.50$\n- $P(s_3) = 0.15$\n- $P(s_4) = 0.15$\n\n计算该编码方案的平均码长。平均码长是码字长度的期望值，按其概率加权。以单个十进制数的形式给出您的答案。",
            "solution": "前缀码要求没有任何码字是其他码字的前缀。给定的集合 $\\{01, 1, 000, 001\\}$ 是无前缀的，因为这些字符串中没有一个是以集合中另一个完整的码字作为前缀。\n\n设码字长度为 $l(s_{1})=2$, $l(s_{2})=1$, $l(s_{3})=3$ 和 $l(s_{4})=3$，分别对应于 $01$, $1$, $000$ 和 $001$。\n\n平均码长 $L$ 是码字长度的期望值：\n$$\nL=\\sum_{i=1}^{4}P(s_{i})\\,l(s_{i})=P(s_{1})l(s_{1})+P(s_{2})l(s_{2})+P(s_{3})l(s_{3})+P(s_{4})l(s_{4}).\n$$\n代入给定的概率和长度：\n$$\nL=0.20\\cdot 2+0.50\\cdot 1+0.15\\cdot 3+0.15\\cdot 3=0.4+0.5+0.45+0.45=1.8.\n$$\n因此，平均码长为 $1.8$。",
            "answer": "$$\\boxed{1.8}$$"
        },
        {
            "introduction": "我们如何判断一个编码方案是否“优秀”？这个练习超越了简单的平均码长，引入了“效率”这一关键概念。通过将给定编码的平均长度与理论最小值——信源熵——进行比较，你将学会量化一个编码距离理想压缩极限的程度。这个练习是理解数据压缩性能基准的关键。",
            "id": "1611023",
            "problem": "一位计算机科学专业的学生正在为遥测数据开发一种自定义压缩算法。该数据源被建模为一个无记忆源，从字母表 $\\mathcal{A} = \\{s_1, s_2, s_3, s_4, s_5\\}$ 中发出符号。这些符号是独立生成的，其概率如下：$P(s_1) = 0.40$，$P(s_2) = 0.20$，$P(s_3) = 0.20$，$P(s_4) = 0.10$ 和 $P(s_5) = 0.10$。\n\n为了对数据进行编码，该学生设计了以下二进制码 $C$：\n- $s_1 \\rightarrow \\text{0}$\n- $s_2 \\rightarrow \\text{10}$\n- $s_3 \\rightarrow \\text{110}$\n- $s_4 \\rightarrow \\text{1110}$\n- $s_5 \\rightarrow \\text{1111}$\n\n信源编码的效率 $\\eta$ 是其性能的一种度量，定义为信源熵 $H(S)$ 与编码的平均长度 $L(C)$ 之比。计算该学生设计的编码的效率 $\\eta = \\frac{H(S)}{L(C)}$。在您的计算中，信源熵应以比特/符号为单位进行度量。\n\n将您的最终答案表示为四舍五入到三位有效数字的小数。",
            "solution": "我们给定一个离散无记忆源，其字母表为 $\\mathcal{A}=\\{s_{1},s_{2},s_{3},s_{4},s_{5}\\}$，概率为 $P(s_{1})=0.40$，$P(s_{2})=0.20$，$P(s_{3})=0.20$，$P(s_{4})=0.10$，$P(s_{5})=0.10$。设计的二进制码分配的长度为 $l(s_{1})=1$，$l(s_{2})=2$，$l(s_{3})=3$，$l(s_{4})=4$，$l(s_{5})=4$。\n\n平均码字长度定义为\n$$\nL(C)=\\sum_{i=1}^{5}P(s_{i})\\,l(s_{i}).\n$$\n代入给定值，\n$$\nL(C)=0.40\\cdot 1+0.20\\cdot 2+0.20\\cdot 3+0.10\\cdot 4+0.10\\cdot 4=2.2.\n$$\n\n信源熵（单位：比特/符号）为\n$$\nH(S)=-\\sum_{i=1}^{5}P(s_{i})\\,\\log_{2}\\big(P(s_{i})\\big).\n$$\n逐项计算：\n- 对于 $s_{1}$：$-0.40\\,\\log_{2}(0.40)=0.40\\cdot 1.321928094887362=0.528771237954945$。\n- 对于 $s_{2}$ 和 $s_{3}$：每一项的贡献为 $-0.20\\,\\log_{2}(0.20)=0.20\\cdot 2.321928094887362=0.464385618977472$，因此两者合计为 $0.928771237954944$。\n- 对于 $s_{4}$ 和 $s_{5}$：每一项的贡献为 $-0.10\\,\\log_{2}(0.10)=0.10\\cdot 3.321928094887362=0.332192809488736$，因此两者合计为 $0.664385618977472$。\n\n求和，\n$$\nH(S)=0.528771237954945+0.928771237954944+0.664385618977472=2.121928094887362.\n$$\n\n效率定义为\n$$\n\\eta=\\frac{H(S)}{L(C)}=\\frac{2.121928094887362}{2.2}=0.964512770403346\\ldots\n$$\n四舍五入到三位有效数字，\n$$\n\\eta\\approx 0.965.\n$$",
            "answer": "$$\\boxed{0.965}$$"
        },
        {
            "introduction": "现实世界的数据源通常是动态的，其统计特性会随时间变化。最后一个练习探讨了一个现实且重要的场景：当信源统计数据发生变化时，继续使用固定的霍夫曼编码会带来多大的性能损失？通过计算次优性能与新的最优性能之间的差异，你将对高效压缩系统的自适应特性有更深刻的理解。",
            "id": "1610971",
            "problem": "一个数据压缩系统使用霍夫曼编码对来自离散无记忆信源的数据进行无损压缩。该信源从集合 $S = \\{s_1, s_2, s_3, s_4, s_5\\}$ 中发出符号。最初，该系统针对一个平稳概率分布 $P_0$ 进行配置，其中符号的概率由下式给出：\n$p_0(s_1) = 0.45$\n$p_0(s_2) = 0.25$\n$p_0(s_3) = 0.15$\n$p_0(s_4) = 0.10$\n$p_0(s_5) = 0.05$\n\n基于此分布 $P_0$，生成了一个最优霍夫曼编码，为这些符号确定了一组特定的码长 $\\{l_0(s_1), l_0(s_2), l_0(s_3), l_0(s_4), l_0(s_5)\\}$。\n\n一段时间后，生成数据的底层过程发生变化，信源统计数据更新为一个新的平稳分布 $P_1$。新的概率为：\n$p_1(s_1) = 0.05$\n$p_1(s_2) = 0.25$\n$p_1(s_3) = 0.15$\n$p_1(s_4) = 0.10$\n$p_1(s_5) = 0.45$\n\n然而，系统没有更新其编码方案，而是继续使用对 $P_0$ 最优的原始码长 $l_0$。这导致了次优的平均码长。\n\n设 $L_{sub}$ 为在新概率 $P_1$ 的信源上使用原始编码（码长为 $l_0$）时的平均码长。\n设 $L_{opt}$ 为专门为分布 $P_1$ 生成新的霍夫曼编码所能达到的新的最优平均码长。\n\n不更新编码的“效率损失”是差值 $\\Delta L = L_{sub} - L_{opt}$。计算这个损失的值。将您的最终答案四舍五入到四位有效数字。",
            "solution": "问题要求计算效率损失 $\\Delta L = L_{sub} - L_{opt}$，这是由于在统计特性已改变的数据源上使用旧的霍夫曼编码而产生的。我们需要计算次优情况下的平均码长 ($L_{sub}$) 和新的最优情况下的平均码长 ($L_{opt}$)，然后求出它们的差值。\n\n**步骤1：确定初始霍夫曼编码的码长 ($l_0$)。**\n初始编码是使用概率分布 $P_0$ 构建的：$\\{p_0(s_1)=0.45, p_0(s_2)=0.25, p_0(s_3)=0.15, p_0(s_4)=0.10, p_0(s_5)=0.05\\}$。\n霍夫曼算法通过迭代合并两个概率最低的节点来进行。\n\n1.  初始节点列表（符号，概率）：\n    $(s_5, 0.05), (s_4, 0.10), (s_3, 0.15), (s_2, 0.25), (s_1, 0.45)$。\n\n2.  合并两个概率最低的节点，$s_5$ 和 $s_4$。这会创建一个新的内部节点，我们称之为 $n_1$，其概率为 $0.05 + 0.10 = 0.15$。\n    列表变为：$(s_3, 0.15), (n_1, 0.15), (s_2, 0.25), (s_1, 0.45)$。\n\n3.  合并两个新的概率最低的节点，$s_3$ 和 $n_1$。这会创建一个新的内部节点，$n_2$，其概率为 $0.15 + 0.15 = 0.30$。\n    列表变为：$(s_2, 0.25), (n_2, 0.30), (s_1, 0.45)$。\n\n4.  合并两个概率最低的节点，$s_2$ 和 $n_2$。这会创建一个新的内部节点，$n_3$，其概率为 $0.25 + 0.30 = 0.55$。\n    列表变为：$(s_1, 0.45), (n_3, 0.55)$。\n\n5.  合并最后两个节点，$s_1$ 和 $n_3$，形成概率为 $1.0$ 的树的根节点。\n\n现在，我们可以确定这棵树 $T_0$ 中每个符号的深度（码长）。\n-   $s_1$ 是根节点的直接子节点。其深度为1。所以，$l_0(s_1) = 1$。\n-   $n_3$ 是根节点的直接子节点。\n-   $s_2$ 是 $n_3$ 的子节点。其深度为2。所以，$l_0(s_2) = 2$。\n-   $n_2$ 是 $n_3$ 的子节点。\n-   $s_3$ 是 $n_2$ 的子节点。其深度为3。所以，$l_0(s_3) = 3$。\n-   $n_1$ 是 $n_2$ 的子节点。\n-   $s_4$ 是 $n_1$ 的子节点。其深度为4。所以，$l_0(s_4) = 4$。\n-   $s_5$ 是 $n_1$ 的子节点。其深度为4。所以，$l_0(s_5) = 4$。\n\n初始码长为：$\\{l_0(s_1), l_0(s_2), l_0(s_3), l_0(s_4), l_0(s_5)\\} = \\{1, 2, 3, 4, 4\\}$。\n\n**步骤2：计算次优平均码长 $L_{sub}$。**\n$L_{sub}$ 是使用旧码长 $l_0$ 和新概率 $P_1$ 计算的平均码长。\n$P_1$：$\\{p_1(s_1)=0.05, p_1(s_2)=0.25, p_1(s_3)=0.15, p_1(s_4)=0.10, p_1(s_5)=0.45\\}$。\n$$L_{sub} = \\sum_{i=1}^{5} p_1(s_i) l_0(s_i)$$\n$$L_{sub} = p_1(s_1)l_0(s_1) + p_1(s_2)l_0(s_2) + p_1(s_3)l_0(s_3) + p_1(s_4)l_0(s_4) + p_1(s_5)l_0(s_5)$$\n$$L_{sub} = (0.05)(1) + (0.25)(2) + (0.15)(3) + (0.10)(4) + (0.45)(4)$$\n$$L_{sub} = 0.05 + 0.50 + 0.45 + 0.40 + 1.80 = 3.20$$\n\n**步骤3：确定新的最优霍夫曼编码的码长 ($l_1$)。**\n新的编码是使用概率分布 $P_1$ 构建的。$P_1$ 中的概率值集合是 $\\{0.05, 0.10, 0.15, 0.25, 0.45\\}$。这与 $P_0$ 中的概率值集合*完全相同*，只是分配给了不同的符号。由于霍夫曼树的结构仅取决于概率值的集合，因此新的最优树 $T_1$ 将具有与 $T_0$ 相同的结构。因此，最优码长的集合也将是相同的：$\\{1, 2, 3, 4, 4\\}$。\n\n关键的区别在于哪个符号获得哪个长度。在最优霍夫曼编码中，概率最高的符号获得最短的码长。\n-   $p_1(s_5) = 0.45$ (最高)，所以 $l_1(s_5) = 1$。\n-   $p_1(s_2) = 0.25$ (第二高)，所以 $l_1(s_2) = 2$。\n-   $p_1(s_3) = 0.15$ (第三高)，所以 $l_1(s_3) = 3$。\n-   $p_1(s_4) = 0.10$ (第四高)，所以 $l_1(s_4) = 4$。\n-   $p_1(s_1) = 0.05$ (最低)，所以 $l_1(s_1) = 4$。\n\n新的最优码长为：$\\{l_1(s_1), l_1(s_2), l_1(s_3), l_1(s_4), l_1(s_5)\\} = \\{4, 2, 3, 4, 1\\}$。\n\n**步骤4：计算新的最优平均码长 $L_{opt}$。**\n$L_{opt}$ 是使用新码长 $l_1$ 和新概率 $P_1$ 计算的平均码长。\n$$L_{opt} = \\sum_{i=1}^{5} p_1(s_i) l_1(s_i)$$\n$$L_{opt} = p_1(s_1)l_1(s_1) + p_1(s_2)l_1(s_2) + p_1(s_3)l_1(s_3) + p_1(s_4)l_1(s_4) + p_1(s_5)l_1(s_5)$$\n$$L_{opt} = (0.05)(4) + (0.25)(2) + (0.15)(3) + (0.10)(4) + (0.45)(1)$$\n$$L_{opt} = 0.20 + 0.50 + 0.45 + 0.40 + 0.45 = 2.00$$\n\n**步骤5：计算效率损失 $\\Delta L$。**\n$$\\Delta L = L_{sub} - L_{opt}$$\n$$\\Delta L = 3.20 - 2.00 = 1.20$$\n将结果四舍五入到四位有效数字得到 $1.200$。",
            "answer": "$$\\boxed{1.200}$$"
        }
    ]
}