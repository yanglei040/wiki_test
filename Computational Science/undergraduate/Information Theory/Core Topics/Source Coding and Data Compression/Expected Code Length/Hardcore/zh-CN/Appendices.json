{
    "hands_on_practices": [
        {
            "introduction": "为了实现高效的数据压缩，我们的核心目标是为信源符号设计一种前缀码，使其平均码长最短。霍夫曼编码 (Huffman coding) 是解决这一问题的经典算法，它通过贪心策略构建最优码树。本练习将引导你完成一个基本但至关重要的任务：针对给定的概率分布，应用霍夫曼算法计算最小预期码长，这是掌握无损压缩技术的基石。",
            "id": "1623278",
            "problem": "一艘深空探测器被设计用于监测和分类五种不同类型的宇宙射线事件，分别标记为 A、B、C、D 和 E。该探测器自主运行，并且由于其发射器的功率限制，必须使用尽可能高效的方案将每次探测到的事件的分类编码为一串二进制数字（比特）。根据大量的先前观测，已经确定了在一个标准观测窗口内探测到每种事件类型的长期概率。事件 A 和 B 各自以 $1/3$ 的概率发生。事件 C、D 和 E 各自以 $1/9$ 的概率发生。\n\n假设目标是最小化每个事件传输的平均比特数，这个可能的最小平均长度是多少？请用一个分数表示你的答案。",
            "solution": "我们将此问题建模为构造一个二进制前缀码，以最小化期望码长。设符号概率为 $p_{A}=p_{B}=\\frac{1}{3}$ 和 $p_{C}=p_{D}=p_{E}=\\frac{1}{9}$。为了在二进制前缀码中达到最优，我们应用 Huffman 编码。\n\n使用最小概率的 Huffman 合并步骤如下：\n1. 合并两个概率为 $\\frac{1}{9}$ 的符号，形成一个权重为 $\\frac{2}{9}$ 的节点。这会使这两个符号的码长增加 $1$。\n2. 将权重为 $\\frac{2}{9}$ 的节点与剩下的概率为 $\\frac{1}{9}$ 的符号合并，形成一个权重为 $\\frac{3}{9}=\\frac{1}{3}$ 的节点。这会使三个概率为 $\\frac{1}{9}$ 的符号的码长各增加 $1$（到目前为止累计：前两个增加了 $2$，最后一个增加了 $1$）。\n3. 现在权重的多重集是 $\\left\\{\\frac{1}{3},\\frac{1}{3},\\frac{1}{3}\\right\\}$。合并任意两个权重为 $\\frac{1}{3}$ 的节点，得到一个权重为 $\\frac{2}{3}$ 的节点。这会使这两个符号的码长增加 $1$。\n4. 将权重为 $\\frac{2}{3}$ 的节点与剩下的权重为 $\\frac{1}{3}$ 的节点合并，形成根节点。这会使这些节点下的所有三个符号的码长各增加 $1$。\n\n追踪深度（码长）：\n- 符号 $A$ 和 $B$（概率均为 $\\frac{1}{3}$）在第 3 步合并，然后在第 4 步与另一个权重为 $\\frac{1}{3}$ 的节点合并，因此 $l_{A}=l_{B}=2$。\n- 在 $\\{C,D,E\\}$ 中未参与第一次合并的符号（称之为 $E$）在第 2 步和第 4 步被合并，因此 $l_{E}=2$。\n- 最先合并的两个符号（称之为 $C$ 和 $D$）在第 1、2 和 4 步被合并，因此 $l_{C}=l_{D}=3$。\n\n因此，期望码长为\n$$\nL=\\frac{1}{3}\\cdot l_{A}+\\frac{1}{3}\\cdot l_{B}+\\frac{1}{9}\\cdot l_{C}+\\frac{1}{9}\\cdot l_{D}+\\frac{1}{9}\\cdot l_{E}\n= \\frac{1}{3}\\cdot 2+\\frac{1}{3}\\cdot 2+\\frac{1}{9}\\cdot 3+\\frac{1}{9}\\cdot 3+\\frac{1}{9}\\cdot 2.\n$$\n计算：\n$$\nL=\\frac{2}{3}+\\frac{2}{3}+\\frac{3}{9}+\\frac{3}{9}+\\frac{2}{9}=\\frac{4}{3}+\\frac{8}{9}=\\frac{12}{9}+\\frac{8}{9}=\\frac{20}{9}.\n$$\n根据 Huffman 编码的最优性，这是每个事件可能的最小平均比特数。作为一致性检验，信源熵（以比特为单位）为\n$$\nH=-2\\cdot \\frac{1}{3}\\log_{2}\\!\\left(\\frac{1}{3}\\right)-3\\cdot \\frac{1}{9}\\log_{2}\\!\\left(\\frac{1}{9}\\right)=\\frac{4}{3}\\log_{2}(3),\n$$\n并且确实有 $H \\leq \\frac{20}{9}$，这与编码界限一致。",
            "answer": "$$\\boxed{\\frac{20}{9}}$$"
        },
        {
            "introduction": "在构建霍夫曼编码的过程中，当出现概率相等的符号时，我们可能会做出不同的合并选择，从而产生结构不同但平均码长同样最优的编码方案。这个练习将带你探索这种编码的非唯一性，并引入一个新的评估维度——码长方差。通过比较不同最优编码的方差，我们可以更深入地理解，除了平均效率外，编码稳定性和可预测性等其他性能指标也同样重要。",
            "id": "1623280",
            "problem": "一个离散无记忆信源从字母表 $\\mathcal{S} = \\{S_1, S_2, S_3, S_4, S_5\\}$ 中发出符号。这些符号的概率由下式给出：\n$P(S_1) = 1/3$\n$P(S_2) = 1/3$\n$P(S_3) = 1/9$\n$P(S_4) = 1/9$\n$P(S_5) = 1/9$\n\n对于此特定概率分布，可以使用霍夫曼算法构建多个最优前缀码，其中生成的代码因具有不同的码长集合而区分。\n\n构建两个这样不同的霍夫曼码。对于每个代码，计算码长的方差。码长 $l$ 的方差 $\\sigma^2$ 定义为 $\\sigma^2 = E[l^2] - (E[l])^2$，其中 $E[\\cdot]$ 表示关于信源概率的期望。\n\n两个计算出的方差之间的绝对差是多少？将最终答案表示为四舍五入到四位有效数字的小数。",
            "solution": "将信源概率按非递减顺序排列：三个符号的概率为 $1/9$，两个符号的概率为 $1/3$。应用二元霍夫曼算法。合并时出现的相等情况允许进行不同的选择，从而产生两个具有不同码长集合的不同的最优树。\n\n构建代码 A（在第三步将两个概率为 $1/3$ 的符号合并在一起）：\n- 合并三个 $1/9$ 中的两个，得到 $2/9$。\n- 合并 $1/9$ 和 $2/9$，得到 $1/3$。\n- 合并两个概率为 $1/3$ 的信源符号，得到 $2/3$，然后与概率为 $1/3$ 的复合节点合并。\n\n与此树一致的一种显式分配是：\nS1: 00, S2: 01, S3: 10, S4: 110, S5: 111。\n这产生了码长集合 $\\{2,2,2,3,3\\}$，分别对应于概率 $\\{1/3,1/3,1/9,1/9,1/9\\}$。\n\n计算代码 A 的期望值：\n$$E[l]=\\frac{1}{3}\\cdot 2+\\frac{1}{3}\\cdot 2+\\frac{1}{9}\\cdot 2+\\frac{1}{9}\\cdot 3+\\frac{1}{9}\\cdot 3=\\frac{20}{9}.$$\n$$E[l^{2}]=\\frac{1}{3}\\cdot 4+\\frac{1}{3}\\cdot 4+\\frac{1}{9}\\cdot 4+\\frac{1}{9}\\cdot 9+\\frac{1}{9}\\cdot 9=\\frac{46}{9}.$$\n因此\n$$\\sigma^{2}_{A}=E[l^{2}]-(E[l])^{2}=\\frac{46}{9}-\\left(\\frac{20}{9}\\right)^{2}=\\frac{46}{9}-\\frac{400}{81}=\\frac{14}{81}.$$\n\n构建代码 B（在第三步将一个概率为 $1/3$ 的符号与概率为 $1/3$ 的复合节点合并）：\n- 合并三个 $1/9$ 中的两个，得到 $2/9$。\n- 合并 $1/9$ 和 $2/9$，得到 $1/3$。\n- 将一个概率为 $1/3$ 的信源符号与概率为 $1/3$ 的复合节点合并，得到 $2/3$，然后与剩下的概率为 $1/3$ 的信源符号合并。\n\n与此树一致的一种显式分配是：\nS2: 0, S1: 10, S3: 110, S4: 1110, S5: 1111。\n这产生了码长集合 $\\{1,2,3,4,4\\}$，分别对应于概率 $\\{1/3,1/3,1/9,1/9,1/9\\}$。\n\n计算代码 B 的期望值：\n$$E[l]=\\frac{1}{3}\\cdot 1+\\frac{1}{3}\\cdot 2+\\frac{1}{9}\\cdot 3+\\frac{1}{9}\\cdot 4+\\frac{1}{9}\\cdot 4=\\frac{20}{9}.$$\n$$E[l^{2}]=\\frac{1}{3}\\cdot 1+\\frac{1}{3}\\cdot 4+\\frac{1}{9}\\cdot 9+\\frac{1}{9}\\cdot 16+\\frac{1}{9}\\cdot 16=\\frac{56}{9}.$$\n因此\n$$\\sigma^{2}_{B}=E[l^{2}]-(E[l])^{2}=\\frac{56}{9}-\\left(\\frac{20}{9}\\right)^{2}=\\frac{56}{9}-\\frac{400}{81}=\\frac{104}{81}.$$\n\n两个方差之间的绝对差是\n$$\\left|\\sigma^{2}_{B}-\\sigma^{2}_{A}\\right|=\\left|\\frac{104}{81}-\\frac{14}{81}\\right|=\\frac{90}{81}=\\frac{10}{9}.$$\n作为四舍五入到四位有效数字的小数，结果是 $1.111$。",
            "answer": "$$\\boxed{1.111}$$"
        },
        {
            "introduction": "在现实世界的应用中，我们构建编码所依据的信源概率模型可能与信源的真实概率分布不完全匹配。本练习旨在探讨这种“模型失配”带来的后果，即当我们使用为假定概率分布 $P_0$ 设计的理想码来编码一个真实分布为 $P_1$ 的信源时，其预期码长会是多少。这个思想实验将算法实践与信息论的核心概念——交叉熵 (cross-entropy) 联系起来，揭示了错误假设所带来的性能损失。",
            "id": "1623255",
            "problem": "一位通信工程师的任务是为字母表为 $\\mathcal{A} = \\{0, 1\\}$ 的无记忆二进制信源设计一种信源编码。该工程师基于信源是参数为 $p_0$ 的伯努利过程这一假设，设计了一种最优二进制前缀码，其中生成“1”的概率为 $P_0(1) = p_0$，生成“0”的概率为 $P_0(0) = 1-p_0$。对于这样一种理想最优码，分配给一个假设概率为 $p(s)$ 的符号 $s$ 的码字长度由 $l(s) = -\\log_2(p(s))$ 给出。\n\n在编码构建完成后，它被部署用于对一个不同的信源进行编码。这个新信源也是一个无记忆伯努利过程，但其真实参数为 $p_1$。因此，生成“1”的实际概率为 $P_1(1) = p_1$，生成“0”的实际概率为 $P_1(0) = 1-p_1$。参数 $p_0$ 和 $p_1$ 都在 $(0, 1)$ 范围内。\n\n当为 $p_0$ 信源设计的编码被用于对 $p_1$ 信源进行编码时，推导其平均码字长度 $L$ 的表达式。你的答案应该是一个用 $p_0$ 和 $p_1$ 表示的解析表达式。",
            "solution": "给定一个字母表为 $\\mathcal{A}=\\{0,1\\}$ 的无记忆二进制信源，以及一个为假设的伯努利参数 $p_{0}$ 设计的理想编码，因此对于一个假设概率为 $p_{0}(s)$ 的符号 $s\\in\\{0,1\\}$，其码字长度为\n$$\nl(s)=-\\log_{2}\\big(p_{0}(s)\\big).\n$$\n对于二进制符号，这给出\n$$\nl(1)=-\\log_{2}(p_{0}),\\qquad l(0)=-\\log_{2}(1-p_{0}).\n$$\n该编码被用于一个真实参数为 $p_{1}$ 的不同伯努利信源，因此 $P_{1}(1)=p_{1}$ 且 $P_{1}(0)=1-p_{1}$。在真实信源下的平均码字长度是码字长度关于真实分布的期望值：\n$$\nL=\\sum_{s\\in\\{0,1\\}}P_{1}(s)\\,l(s).\n$$\n代入 $l(s)$ 的表达式，我们得到\n$$\nL=P_{1}(1)\\,l(1)+P_{1}(0)\\,l(0)=p_{1}\\big(-\\log_{2}(p_{0})\\big)+(1-p_{1})\\big(-\\log_{2}(1-p_{0})\\big).\n$$\n因此，\n$$\nL=-p_{1}\\log_{2}(p_{0})-(1-p_{1})\\log_{2}(1-p_{0}).\n$$\n等价地，考虑到交叉熵分解，\n$$\nL=-\\sum_{s\\in\\{0,1\\}}P_{1}(s)\\log_{2}\\big(P_{0}(s)\\big)=\\big[-p_{1}\\log_{2}(p_{1})-(1-p_{1})\\log_{2}(1-p_{1})\\big]+\\sum_{s}P_{1}(s)\\log_{2}\\!\\left(\\frac{P_{1}(s)}{P_{0}(s)}\\right),\n$$\n但题目所要求的用 $p_{0}$ 和 $p_{1}$ 表示的解析表达式是上面那个更简单的形式。条件 $p_{0},p_{1}\\in(0,1)$ 确保了所有对数都有明确定义。",
            "answer": "$$\\boxed{-p_{1}\\log_{2}(p_{0})-(1-p_{1})\\log_{2}(1-p_{0})}$$"
        }
    ]
}