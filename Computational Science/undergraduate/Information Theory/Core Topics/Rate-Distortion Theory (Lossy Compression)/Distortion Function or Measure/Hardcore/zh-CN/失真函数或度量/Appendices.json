{
    "hands_on_practices": [
        {
            "introduction": "我们从一个基本问题开始，探讨如何量化模拟信号转换为数字信号时产生的误差。这个练习以数字温度计为背景，比较了两种最常见的失真度量：平方误差和绝对误差。通过计算这两种度量下的平均失真，你将亲身体会到不同失真函数如何影响我们对系统性能的评价，并理解为何平方误差对较大误差的“惩罚”更为严重。",
            "id": "1618900",
            "problem": "一个数字温度计被设计用来测量环境温度。真实温度，用连续随机变量 $X$ 表示，可以精确地用区间 $[-5.5, 5.5]$ 摄氏度上的均匀分布来建模。该温度计的内部模数转换器处理真实温度 $X$ 并输出一个量化值 $\\hat{X}$，该值是与 $X$ 最接近的整数。\n\n这个量化过程的性能可以用不同的失真度量来评估。我们考虑两种常见的度量：\n1.  平方误差失真，对于真实值 $x$ 及其量化版本 $\\hat{x}$，定义为 $d_2(x, \\hat{x}) = (x - \\hat{x})^2$。\n2.  绝对误差失真，定义为 $d_1(x, \\hat{x}) = |x - \\hat{x}|$。\n\n平均失真是失真度量在真实温度 $X$ 的分布上的期望值。设 $D_2$ 为平均平方误差失真，$D_1$ 为平均绝对误差失真。\n\n计算比率 $\\frac{D_2}{D_1}$。将你的答案表示为一个精确的分数。",
            "solution": "量化器将每个 $x \\in [k - \\frac{1}{2}, k + \\frac{1}{2}]$ 映射到整数 $k$，其中 $k \\in \\{-5,-4,\\ldots,5\\}$。在半整数点上的取值构成一个零测集，不影响期望值的计算。真实温度 $X$ 在 $[-5.5, 5.5]$ 上服从均匀分布，所以它在此区间上的密度为 $f_{X}(x) = \\frac{1}{11}$。\n\n定义量化误差 $U = X - \\hat{X}$。在每个单元 $[k - \\frac{1}{2}, k + \\frac{1}{2}]$ 中，记 $x = k + u$，其中 $u \\in \\left[-\\frac{1}{2}, \\frac{1}{2}\\right]$，此时 $\\hat{X} = k$，所以 $U = u$。根据均匀性和平移不变性，每个单元的贡献是相同的，并且总共有 $11$ 个单元。因此，\n$$\nD_{2} = \\mathbb{E}\\!\\left[(X - \\hat{X})^{2}\\right] = \\sum_{k=-5}^{5} \\int_{k - \\frac{1}{2}}^{k + \\frac{1}{2}} (x - k)^{2} \\cdot \\frac{1}{11} \\, dx = \\int_{-\\frac{1}{2}}^{\\frac{1}{2}} u^{2} \\, du,\n$$\n其中，在进行变量替换 $u = x - k$ 后，来自求和的因子 $11$ 与密度 $\\frac{1}{11}$ 相抵消。计算\n$$\n\\int_{-\\frac{1}{2}}^{\\frac{1}{2}} u^{2} \\, du = \\left[ \\frac{u^{3}}{3} \\right]_{-\\frac{1}{2}}^{\\frac{1}{2}} = \\frac{2}{3} \\left(\\frac{1}{2}\\right)^{3} = \\frac{1}{12}.\n$$\n类似地，\n$$\nD_{1} = \\mathbb{E}\\!\\left[|X - \\hat{X}|\\right] = \\sum_{k=-5}^{5} \\int_{k - \\frac{1}{2}}^{k + \\frac{1}{2}} |x - k| \\cdot \\frac{1}{11} \\, dx = \\int_{-\\frac{1}{2}}^{\\frac{1}{2}} |u| \\, du.\n$$\n根据对称性，\n$$\n\\int_{-\\frac{1}{2}}^{\\frac{1}{2}} |u| \\, du = 2 \\int_{0}^{\\frac{1}{2}} u \\, du = 2 \\cdot \\frac{1}{2} \\left(\\frac{1}{2}\\right)^{2} = \\frac{1}{4}.\n$$\n因此，该比率为\n$$\n\\frac{D_{2}}{D_{1}} = \\frac{\\frac{1}{12}}{\\frac{1}{4}} = \\frac{1}{3}.\n$$",
            "answer": "$$\\boxed{\\frac{1}{3}}$$"
        },
        {
            "introduction": "失真度量的选择并非总是基于纯粹的数学便利性，它往往与现实世界中的“成本”或“风险”紧密相关。本练习模拟了一个传输交通信号灯状态的场景，其中某些特定错误（如将“红灯”错判为“绿灯”）比其他错误具有灾难性的后果。通过为一个离散信源定义一个非对称的失真矩阵，你将学习如何根据特定应用的安全性和功能要求来量化不同错误的严重程度，并计算系统的平均预期风险。",
            "id": "1618910",
            "problem": "一个用于自动驾驶汽车网络的远程监控系统传输交通灯的状态。可能的状态集合（信源字母表）为 $\\mathcal{X} = \\{x_1, x_2, x_3\\}$，分别对应于{红灯, 黄灯, 绿灯}。对交通灯的长期统计观察表明，每种状态的概率如下：$P(x_1=\\text{Red}) = 0.45$，$P(x_2=\\text{Yellow}) = 0.10$，以及 $P(x_3=\\text{Green}) = 0.45$。\n\n该状态通过一个有噪通信信道进行传输。该信道是对称的，任何符号被正确传输的概率为 $1-p$，其中 $p=0.02$。如果发生错误（概率为 $p$），传输的符号被接收为其他两个符号中任意一个的概率相等。接收到的符号集合（重建字母表）为 $\\mathcal{Y} = \\{y_1, y_2, y_3\\}$，也对应于{红灯, 黄灯, 绿灯}。\n\n为了量化传输错误的影响，定义了一个失真度量 $d(x, y)$。该度量基于无量纲的“成本单位”。\n- 如果一个符号被正确传输和接收（即 $x=y$），则失真为 0。\n- 大多数不正确的传输（即 $x \\neq y$）被认为是一种不便，并被分配 1 个成本单位的失真。\n- 然而，状态为“红灯”（$x_1$）但被接收为“绿灯”（$y_3$）的特定错误被认为是高度危险的。这个特定错误被分配了 10 个成本单位的失真。所有其他类型的错误，包括“绿灯”被接收为“红灯”，其失真均为 1 个成本单位。\n\n计算该通信系统的平均失真。将您的答案表示为一个实数，四舍五入到三位有效数字。",
            "solution": "设 $X \\in \\mathcal{X}$ 表示发送的符号，$Y \\in \\mathcal{Y}$ 表示接收的符号。该信道是对称的，其条件概率为\n$$\nP(Y=y \\mid X=x) = \\begin{cases}\n1-p, & \\text{如果 } y=x \\\\\n\\frac{p}{2}, & \\text{如果 } y \\neq x\n\\end{cases}\n$$\n其中 $p=0.02$。失真度量满足：如果 $x=y$，则 $d(x,y)=0$；$d(x_1,y_3)=10$；对于所有其他 $x \\neq y$ 的情况，$d(x,y)=1$。\n\n平均失真为\n$$\n\\mathbb{E}[d(X,Y)] = \\sum_{x \\in \\mathcal{X}} P_{X}(x) \\sum_{y \\in \\mathcal{Y}} P_{Y|X}(y \\mid x)\\, d(x,y).\n$$\n\n计算条件期望：\n- 对于 $X=x_1$ (红灯)：\n$$\n\\mathbb{E}[d \\mid X=x_1] = \\frac{p}{2}\\cdot 1 + \\frac{p}{2}\\cdot 10 = \\frac{11}{2}p.\n$$\n- 对于 $X=x_2$ (黄灯)：\n$$\n\\mathbb{E}[d \\mid X=x_2] = \\frac{p}{2}\\cdot 1 + \\frac{p}{2}\\cdot 1 = p.\n$$\n- 对于 $X=x_3$ (绿灯)：\n$$\n\\mathbb{E}[d \\mid X=x_3] = \\frac{p}{2}\\cdot 1 + \\frac{p}{2}\\cdot 1 = p.\n$$\n\n按信源概率 $P(x_1)=0.45$，$P(x_2)=0.10$，$P(x_3)=0.45$ 进行加权，\n$$\n\\mathbb{E}[d(X,Y)] = 0.45 \\cdot \\frac{11}{2}p + 0.10 \\cdot p + 0.45 \\cdot p\n= p\\left( \\frac{11}{2} \\cdot 0.45 + 0.55 \\right).\n$$\n将 $0.45$ 表示为 $\\frac{9}{20}$ 以及 $0.55$ 表示为 $\\frac{11}{20}$，\n$$\n\\mathbb{E}[d(X,Y)] = p \\left( \\frac{11}{2} \\cdot \\frac{9}{20} + \\frac{11}{20} \\right)\n= p \\left( \\frac{99}{40} + \\frac{22}{40} \\right)\n= p \\cdot \\frac{121}{40}.\n$$\n\n代入 $p=0.02=\\frac{1}{50}$，可得\n$$\n\\mathbb{E}[d(X,Y)] = \\frac{121}{40} \\cdot \\frac{1}{50} = \\frac{121}{2000} = 0.0605.\n$$\n四舍五入到三位有效数字，结果为 $0.0605$。",
            "answer": "$$\\boxed{0.0605}$$"
        },
        {
            "introduction": "当我们需要表示和压缩多维数据（如图像或空间坐标）时，失真的概念从一维标量扩展到了多维向量。这个练习将带你进入向量量化的领域，比较两种不同的二维空间划分方案——方形网格和六边形网格——的效率。通过在相同“码点”密度下计算各自的平均平方误差，你将发现一个深刻的结论：在二维空间中，六边形量化比我们更熟悉的方形量化更有效。这揭示了在信息表示中，几何结构的选择对系统性能有至关重要的影响。",
            "id": "1618929",
            "problem": "考虑一个生成随机向量 $\\mathbf{X} = (X, Y)$ 的二维连续信息源。该源的概率分布在平面的一个大区域上是均匀的。为了对该源进行数字化，我们使用一个量化器，它将源向量 $\\mathbf{X}$ 映射到一组预定义的代表点（称为码本）中的最近点。这些码本点形成一个规则的格点结构，对平面进行镶嵌。\n\n我们将比较两种不同的格点量化方案：一种基于方形网格，另一种基于正六边形网格。在第一种方案中，代表点是平面方形铺砖的中心。在第二种方案中，它们是正六边形铺砖的中心。\n\n为确保公平比较，两种方案必须使用相同的代表点密度。这等价于要求单个量化单元（代表点周围的沃罗诺伊区域）的面积对于两种格点是相同的。设这个公共单元面积为 $A$。\n\n量化的质量由平均失真度来衡量。所使用的失真函数是源向量 $\\mathbf{x}$ 与其量化表示 $\\hat{\\mathbf{x}}$ 之间的平方欧几里得距离，即 $d(\\mathbf{x}, \\hat{\\mathbf{x}}) = ||\\mathbf{x} - \\hat{\\mathbf{x}}||^2$。\n\n计算比值 $\\frac{D_{sq}}{D_{hex}}$ 的数值，其中 $D_{sq}$ 是方形格点量化器的平均失真度，$D_{hex}$ 是六边形格点量化器的平均失真度。将最终答案四舍五入到四位有效数字。",
            "solution": "对于 $n$ 维的高分辨率格点量化器，每个向量的平均平方误差失真等于 $\\|x\\|^{2}$ 在沃罗诺伊单元上的均值。记单元体积为 $V$，归一化二阶矩为\n$$\nG \\equiv \\frac{1}{n V^{1+2/n}} \\int_{\\mathcal{V}} \\|x\\|^{2} \\, dx,\n$$\n失真度为\n$$\nD = \\frac{1}{V} \\int_{\\mathcal{V}} \\|x\\|^{2} \\, dx = n G V^{2/n}.\n$$\n在二维（$n=2$）且公共单元面积为 $A$ 的情况下，这简化为\n$$\nD = 2 G A.\n$$\n因此，对于相等的 $A$，失真度之比为\n$$\n\\frac{D_{sq}}{D_{hex}} = \\frac{G_{sq}}{G_{hex}}.\n$$\n\n方形格点（方形沃罗诺伊单元）：设正方形边长为 $s$，则 $A = s^{2}$。那么\n$$\n\\int_{\\mathcal{V}} \\|x\\|^{2} \\, dx = \\int_{-s/2}^{s/2} \\int_{-s/2}^{s/2} (x^{2}+y^{2}) \\, dx \\, dy = \\frac{s^{4}}{6}.\n$$\n当 $V = s^{2}$ 且 $n=2$ 时，归一化二阶矩为\n$$\nG_{sq} = \\frac{1}{2 V^{2}} \\int_{\\mathcal{V}} \\|x\\|^{2} \\, dx = \\frac{1}{2 s^{4}} \\cdot \\frac{s^{4}}{6} = \\frac{1}{12}.\n$$\n\n六边形格点（正六边形沃罗诺伊单元）：设边心距为 $r$，扇形半角为 $\\alpha = \\pi/6$。面积为\n$$\nV = A = 6 r^{2} \\tan \\alpha = 2 \\sqrt{3} \\, r^{2}.\n$$\n（关于中心的）极惯性矩为\n$$\nJ_{z} = \\int_{\\mathcal{V}} \\|x\\|^{2} \\, dA = \\frac{1}{4} \\int_{0}^{2\\pi} \\rho(\\theta)^{4} \\, d\\theta,\n$$\n其中，在每个宽度为 $2\\alpha$ 的扇形区域内，对于 $\\theta \\in [-\\alpha,\\alpha]$，边界为 $\\rho(\\theta) = r/\\cos \\theta$。因此，\n$$\nJ_{z} = \\frac{6 r^{4}}{4} \\int_{-\\alpha}^{\\alpha} \\sec^{4} \\theta \\, d\\theta\n= \\frac{6 r^{4}}{4} \\cdot 2 \\left( \\tan \\alpha + \\frac{1}{3} \\tan^{3} \\alpha \\right).\n$$\n当 $\\tan \\alpha = \\tan(\\pi/6) = 1/\\sqrt{3}$ 时，可得\n$$\nJ_{z} = \\frac{6 r^{4}}{4} \\cdot \\frac{20}{9 \\sqrt{3}} = \\frac{10 r^{4}}{3 \\sqrt{3}}.\n$$\n因此\n$$\nG_{hex} = \\frac{1}{2 V^{2}} J_{z} = \\frac{1}{2 (2 \\sqrt{3} \\, r^{2})^{2}} \\cdot \\frac{10 r^{4}}{3 \\sqrt{3}} = \\frac{5}{36 \\sqrt{3}}.\n$$\n\n所以，\n$$\n\\frac{D_{sq}}{D_{hex}} = \\frac{G_{sq}}{G_{hex}} = \\frac{\\frac{1}{12}}{\\frac{5}{36 \\sqrt{3}}} = \\frac{3 \\sqrt{3}}{5}.\n$$\n数值上，$\\frac{3 \\sqrt{3}}{5} \\approx 1.0392304845$，四舍五入到四位有效数字为 $1.039$。",
            "answer": "$$\\boxed{1.039}$$"
        }
    ]
}