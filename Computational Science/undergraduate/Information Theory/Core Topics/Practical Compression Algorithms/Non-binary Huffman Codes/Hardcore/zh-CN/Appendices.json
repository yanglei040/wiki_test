{
    "hands_on_practices": [
        {
            "introduction": "在我们开始构建非二元霍夫曼编码之前，必须确保我们的符号集能够形成一个“满”D元树，即每个内部节点都有 $D$ 个子节点。这通常需要添加概率为零的“虚拟符号”来满足结构约束。本练习  侧重于计算构建一个有效编码树所需满足的基本条件，并理解最终的树结构，这是整个编码过程中的第一个关键步骤。",
            "id": "1643132",
            "problem": "一种数据压缩算法使用非二元霍夫曼编码方案来表示来自源字母表的消息。在此特定应用中，编码字母表是四进制的，意味着它由四个不同的符号组成 ($D=4$)。该信源从一个包含8个不同符号的集合中生成消息。构建一棵有效的$D$元霍夫曼树要求源符号的数量（包括任何必要的零概率“虚拟”符号）能够创建一棵满$D$元树，其中每个内部节点都恰好有$D$个子节点。\n\n在此设置下，确定最终的四进制霍夫曼编码树中内部节点的总数。",
            "solution": "令 $D=4$ 且 $s=8$ 为源符号的数量。在一棵满$D$元霍夫曼树中，叶节点的数量 $L$（等于源符号数量加上任何零概率虚拟符号的数量）必须满足每个内部节点恰好有 $D$ 个子节点的结构约束。\n\n令 $I$ 为内部节点的数量。在任何有根树中，边的数量等于节点总数减 $1$，所以\n$$\nE = (I + L) - 1.\n$$\n在一棵满$D$元树中，每个内部节点都恰好为其子节点贡献 $D$ 条边，所以\n$$\nE = D I.\n$$\n将这两个等式联立可得\n$$\nD I = I + L - 1 \\quad \\Longrightarrow \\quad L = (D - 1) I + 1.\n$$\n因此，$L \\equiv 1 \\pmod{D-1}$。对于 $D=4$，我们需要 $L \\equiv 1 \\pmod{3}$。满足此性质的最小 $L \\ge 8$ 可以通过写出 $L = 1 + 3k$ 并选择满足 $1 + 3k \\ge 8$ 的最小整数 $k$ 来找到，即 $k=3$，这得出\n$$\nL = 1 + 3 \\cdot 3 = 10.\n$$\n当 $L=10$ 和 $D=4$ 时，使用 $L = (D - 1) I + 1$ 解出 $I$：\n$$\n10 = 3 I + 1 \\quad \\Longrightarrow \\quad I = \\frac{10 - 1}{3} = 3.\n$$\n因此，四进制霍夫曼编码树中内部节点的总数为 $3$。",
            "answer": "$$\\boxed{3}$$"
        },
        {
            "introduction": "在掌握了构建D元树的结构要求后，我们便可以应用完整的非二元霍夫曼算法。本练习  将引导你为一个给定的概率分布构建一个三元（$D=3$）编码，这是一个将理论付诸实践的核心操作。你将通过添加虚拟符号，并迭代地合并概率最小的节点，来亲手确定一组最优的码字长度。",
            "id": "1643155",
            "problem": "一个离散无记忆信源从符号集 $X = \\{x_1, x_2, x_3, x_4\\}$ 中发出符号，其概率如下：\n$P(x_1) = 0.50$\n$P(x_2) = 0.20$\n$P(x_3) = 0.15$\n$P(x_4) = 0.15$\n\n需要使用三元霍夫曼算法（将符号以三个为一组进行分组，$D=3$）为该信源构建一个唯一可译的变长信源编码。确定与符号 $\\{x_1, x_2, x_3, x_4\\}$ 相对应的码长集合 $\\{l_1, l_2, l_3, l_4\\}$。\n\n以下哪个选项表示最终的码长集合？\nA. $\\{1, 1, 2, 2\\}$\nB. $\\{1, 2, 2, 2\\}$\nC. $\\{1, 2, 3, 3\\}$\nD. $\\{2, 2, 2, 2\\}$",
            "solution": "我们要为一个概率为 $P(x_{1})=0.50$、$P(x_{2})=0.20$、$P(x_{3})=0.15$、$P(x_{4})=0.15$ 的信源构建一个三元霍夫曼编码。对于一个 $D$ 元霍夫曼编码（其中 $D=3$），满树中的叶子节点数 $n$ 必须满足 $n \\equiv 1 \\pmod{D-1}$，即 $n \\equiv 1 \\pmod{2}$。给定的 $n=4$ 是偶数，因此我们添加一个概率为 $0$ 的哑符号，得到 $n'=5$，它满足 $5 \\equiv 1 \\pmod{2}$。\n\n将权重多重集初始化为 $\\{0.50, 0.20, 0.15, 0.15, 0\\}$。三元霍夫曼算法的步骤是重复地将三个最小的权重合并成一个单独的节点，其权重是它们的和，并且每次合并时，该合并节点中包含的每个叶子节点的码长加 1。\n\n步骤 1：将三个最小的权重 $0$、$0.15$ 和 $0.15$ 合并成一个权重为 $0.30$ 的节点。当前的节点集合变为 $\\{0.50, 0.20, 0.30\\}$。权重为 $0.15$ 的两个真实符号（即 $x_{3}$ 和 $x_{4}$）在此次合并中各自的码长增加 1。\n\n步骤 2：剩下恰好三个节点，它们成为根节点的三个子节点。因此，权重为 $0.50$（符号 $x_{1}$）和 $0.20$（符号 $x_{2}$）的节点被分配深度 1（码长 1），而权重为 $0.30$ 的合并节点被分配深度 1，其组成的叶子节点 $x_{3}$ 和 $x_{4}$ 的深度变为 2（码长 2）。\n\n因此，码长为 $l_{1}=1$、$l_{2}=1$、$l_{3}=2$、$l_{4}=2$，这与选项 A 相符。作为快速检查，三元克拉夫特不等式成立：\n$$\\sum_{i=1}^{4} 3^{-l_{i}}=3^{-1}+3^{-1}+3^{-2}+3^{-2}=\\frac{1}{3}+\\frac{1}{3}+\\frac{1}{9}+\\frac{1}{9}=\\frac{8}{9}\\leq 1.$$\n因此，最终的码长集合是 $\\{1,1,2,2\\}$。",
            "answer": "$$\\boxed{A}$$"
        },
        {
            "introduction": "霍夫曼算法保证了在平均码长意义上的最优性，但这个最优编码是唯一的吗？本练习  探讨了在合并过程中遇到概率相等（即“平局”）时的情况。它揭示了不同的选择可能导致不同的编码结构和码长分布，而这些编码在平均码长上却都是同等最优的，这促使我们更深入地思考“最优性”的含义以及评估编码性能的其他维度，如码长方差。",
            "id": "1643174",
            "problem": "正在为简化版机械臂的六个基本指令集 $\\mathcal{C} = \\{C_1, C_2, C_3, C_4, C_5, C_6\\}$ 设计一种数据压缩方案。根据大量的操作数据，这些指令的概率被确定为 $P(C_1)=0.30$、$P(C_2)=0.20$、$P(C_3)=0.15$、$P(C_4)=0.15$、$P(C_5)=0.10$ 和 $P(C_6)=0.10$。将使用三元（$D=3$）霍夫曼编码对这些指令进行编码。\n\nD元霍夫曼算法通过迭代地合并具有最低概率的 $D$ 个符号或先前合并的节点来进行。在此过程中，选择三个概率最低的项目进行合并时遇到了平局情况。两位工程师都正确地遵循了该算法，但在该平局点做出了不同的有效选择。这导致生成了两个不同但同样最优的三元霍夫曼编码，我们称之为编码A和编码B。\n\n编码A中六个指令的码字长度集合将与编码B中的长度集合不同。设 $L_A$ 和 $L_B$ 分别是代表在编码A和编码B下，原始六个指令的码字长度的随机变量。计算这两个长度分布的方差之间的绝对差值，即 $|\\text{Var}(L_A) - \\text{Var}(L_B)|$。\n\n将您的最终答案四舍五入到三位有效数字。",
            "solution": "我们为概率为 $0.30, 0.20, 0.15, 0.15, 0.10, 0.10$ 的六个指令构建一个三元霍夫曼编码。对于一个 $D=3$ 的 $D$ 元霍夫曼编码，一个满树要求叶子节点数 $n$ 满足 $n \\equiv 1 \\pmod{D-1}$。这里 $n=6$ 且 $D-1=2$，所以 $6 \\not\\equiv 1 \\pmod{2}$。因此，我们添加一个概率为 $0$ 的虚拟符号，使得增广集合有 $7$ 个项目，满足 $7 \\equiv 1 \\pmod{2}$。\n\n从概率的多重集 $\\{0, 0.10, 0.10, 0.15, 0.15, 0.20, 0.30\\}$ 开始。在每一步中合并三个最小的项目。\n\n步骤1：合并 $0$、$0.10$、$0.10$ 形成一个概率为 $0.20$ 的节点 $N_{1}$。\n\n剩下的项目是 $\\{0.15, 0.15, 0.20, 0.30, 0.20\\}$，其中两个 $0.20$ 分别是 $C_{2}$ 和 $N_{1}$。现在我们必须选择第三个项目与两个 $0.15$ 值合并。在来自 $C_{2}$ 的 $0.20$ 和来自 $N_{1}$ 的 $0.20$ 之间出现了平局，产生了两个有效的选项。\n\n编码A：合并 $0.15, 0.15, 0.20(C_{2})$ 形成一个概率为 $0.50$ 的节点 $N_{2}$。最后三个项目是 $N_{1}(0.20)$、$C_{1}(0.30)$ 和 $N_{2}(0.50)$，它们在根节点处合并。码字长度由深度得出：\n- $C_{1}$ 是根节点的子节点，所以 $l(C_{1})=1$。\n- $N_{1}$ 和 $N_{2}$ 是根节点的子节点；它们的叶子节点长度为 $2$。因此 $l(C_{2})=l(C_{3})=l(C_{4})=l(C_{5})=l(C_{6})=2$。\n因此，对于 $L_{A}$，其长度分布为\n$$\nP(L_{A}=1)=0.30,\\quad P(L_{A}=2)=0.70.\n$$\n计算均值、二阶矩和方差：\n$$\n\\mathbb{E}[L_{A}]=1\\cdot 0.30+2\\cdot 0.70=1.70,\n$$\n$$\n\\mathbb{E}[L_{A}^{2}]=1^{2}\\cdot 0.30+2^{2}\\cdot 0.70=3.10,\n$$\n$$\n\\operatorname{Var}(L_{A})=\\mathbb{E}[L_{A}^{2}]-(\\mathbb{E}[L_{A}])^{2}=3.10-(1.70)^{2}=0.21.\n$$\n\n编码B：合并 $0.15, 0.15, 0.20(N_{1})$ 形成一个概率为 $0.50$ 的节点 $N_{2}'$。最后三个项目是 $C_{2}(0.20)$、$C_{1}(0.30)$ 和 $N_{2}'(0.50)$，它们在根节点处合并。码字长度：\n- $C_{1}$ 和 $C_{2}$ 是根节点的子节点，所以 $l(C_{1})=l(C_{2})=1$。\n- $C_{3}$ 和 $C_{4}$ 是 $N_{2}'$ 的子节点，所以 $l(C_{3})=l(C_{4})=2$。\n- $C_{5}$ 和 $C_{6}$ 是 $N_{1}$ 的子节点，而 $N_1$ 是 $N_2'$ 的子节点，所以 $l(C_{5})=l(C_{6})=3$。\n因此，对于 $L_{B}$，其长度分布为\n$$\nP(L_{B}=1)=0.30+0.20=0.50,\\quad P(L_{B}=2)=0.15+0.15=0.30,\\quad P(L_{B}=3)=0.10+0.10=0.20.\n$$\n计算均值、二阶矩和方差：\n$$\n\\mathbb{E}[L_{B}]=1\\cdot 0.50+2\\cdot 0.30+3\\cdot 0.20=1.70,\n$$\n$$\n\\mathbb{E}[L_{B}^{2}]=1^{2}\\cdot 0.50+2^{2}\\cdot 0.30+3^{2}\\cdot 0.20=3.50,\n$$\n$$\n\\operatorname{Var}(L_{B})=\\mathbb{E}[L_{B}^{2}]-(\\mathbb{E}[L_{B}])^{2}=3.50-(1.70)^{2}=0.61.\n$$\n\n方差之间的绝对差值为\n$$\n|\\operatorname{Var}(L_{A})-\\operatorname{Var}(L_{B})|=|0.21-0.61|=0.40,\n$$\n保留三位有效数字为 $0.400$。",
            "answer": "$$\\boxed{0.400}$$"
        }
    ]
}