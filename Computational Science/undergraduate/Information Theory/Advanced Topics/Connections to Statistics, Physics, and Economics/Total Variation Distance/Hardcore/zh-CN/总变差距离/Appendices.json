{
    "hands_on_practices": [
        {
            "introduction": "全变差距离不仅是一个抽象的数学公式，它还具有一个强大的操作性解释：它量化了在仅有一次观测的情况下，区分两种概率分布的最大优势。这个练习  提供了一个具体的场景——计算机芯片的质量控制——来计算这种“可区分性”。通过解决这个问题，你将亲身体会到全变差距离如何直接对应于找到一个最优检验，以最大化区分两个制造商的成功概率。",
            "id": "1664855",
            "problem": "两家相互竞争的制造商，“CircuitSys”和“Logicore”，生产一种特殊类型的逻辑芯片。每块芯片包含3个相同的处理核心。芯片的质量由其包含的无缺陷核心的数量决定。\n\n对于来自CircuitSys的芯片，3个核心中的每一个无缺陷的独立概率为 $p_C = \\frac{1}{2}$。\n对于来自Logicore的芯片，3个核心中的每一个无缺陷的独立概率为 $p_L = \\frac{1}{4}$。\n\n设随机变量$X_C$为CircuitSys芯片中无缺陷核心的数量，随机变量$X_L$为Logicore芯片中无缺陷核心的数量。一个质量控制机构想要设计一个二元测试来区分这两家制造商的芯片。该测试需要指定一个结果集 $A \\subseteq \\{0, 1, 2, 3\\}$，其中结果是无缺陷核心的数量。为了实现两家制造商之间尽可能好的区分，该机构决定选择能够使概率的绝对差 $|P(X_C \\in A) - P(X_L \\in A)|$ 最大化的集合$A$。\n\n计算这个最大可能差值。将您的答案表示为最简精确分数。",
            "solution": "设 $X_{C} \\sim \\mathrm{Binomial}(3,\\frac{1}{2})$ 且 $X_{L} \\sim \\mathrm{Binomial}(3,\\frac{1}{4})$。它们的概率质量函数为\n$$\nP_{C}(k)=\\binom{3}{k}\\left(\\frac{1}{2}\\right)^{k}\\left(1-\\frac{1}{2}\\right)^{3-k}=\\binom{3}{k}\\left(\\frac{1}{2}\\right)^{3},\\quad k\\in\\{0,1,2,3\\},\n$$\n$$\nP_{L}(k)=\\binom{3}{k}\\left(\\frac{1}{4}\\right)^{k}\\left(\\frac{3}{4}\\right)^{3-k},\\quad k\\in\\{0,1,2,3\\}.\n$$\n分别计算每个值，\n$$\nP_{C}(0)=\\frac{1}{8},\\quad P_{C}(1)=\\frac{3}{8},\\quad P_{C}(2)=\\frac{3}{8},\\quad P_{C}(3)=\\frac{1}{8},\n$$\n$$\nP_{L}(0)=\\left(\\frac{3}{4}\\right)^{3}=\\frac{27}{64},\\quad P_{L}(1)=3\\cdot\\frac{1}{4}\\cdot\\left(\\frac{3}{4}\\right)^{2}=\\frac{27}{64},\\quad P_{L}(2)=3\\cdot\\left(\\frac{1}{4}\\right)^{2}\\cdot\\frac{3}{4}=\\frac{9}{64},\\quad P_{L}(3)=\\left(\\frac{1}{4}\\right)^{3}=\\frac{1}{64}.\n$$\n设 $d(k)=P_{C}(k)-P_{L}(k)$。那么\n$$\nd(0)=\\frac{1}{8}-\\frac{27}{64}=-\\frac{19}{64},\\quad d(1)=\\frac{3}{8}-\\frac{27}{64}=-\\frac{3}{64},\\quad d(2)=\\frac{3}{8}-\\frac{9}{64}=\\frac{15}{64},\\quad d(3)=\\frac{1}{8}-\\frac{1}{64}=\\frac{7}{64}.\n$$\n对于任意 $A\\subseteq\\{0,1,2,3\\}$，\n$$\nP(X_{C}\\in A)-P(X_{L}\\in A)=\\sum_{k\\in A}d(k).\n$$\n为了使绝对差最大化，选择集合 $A$ 恰好包含那些 $d(k)0$ 的 $k$（这是达到总变差距离的集合的标准特征）。因此取 $A=\\{2,3\\}$，得到\n$$\n\\max_{A}\\left|P(X_{C}\\in A)-P(X_{L}\\in A)\\right|=\\sum_{k:d(k)0}d(k)=\\frac{15}{64}+\\frac{7}{64}=\\frac{22}{64}=\\frac{11}{32}.\n$$\n等价地，这等于 $\\frac{1}{2}\\sum_{k=0}^{3}|P_{C}(k)-P_{L}(k)|=\\frac{1}{2}\\cdot\\frac{44}{64}=\\frac{11}{32}$。",
            "answer": "$$\\boxed{\\frac{11}{32}}$$"
        },
        {
            "introduction": "在理解了如何量化两个数据源的可区分性之后，一个自然的问题是：如果我们不直接观察原始数据，而是观察其某个函数（即对数据进行处理），可区分性会发生什么变化？这个问题  探讨了数据处理对全变差距离的影响，具体展示了信息论中的一个基本原则——数据处理不等式。通过计算，你将发现数据处理永远不会增加可区分性，这揭示了信息在处理过程中只会丢失或保持不变。",
            "id": "1664823",
            "problem": "在信息论中，衡量两个概率分布“可区分性”的一种方法是总变差（TV）距离。对于定义在同一离散样本空间 $\\mathcal{A}$ 上的两个概率分布 $P$ 和 $Q$，其总变差距离由以下公式给出：\n$$d_{TV}(P, Q) = \\frac{1}{2} \\sum_{a \\in \\mathcal{A}} |P(a) - Q(a)|$$\n\n考虑两个随机变量 $X_1$ 和 $X_2$，它们都从集合 $\\mathcal{X} = \\{0, 1, 2, 3\\}$ 中取值。它们各自的概率质量函数，记为 $P_1(x)$ 和 $P_2(x)$，在下表中给出。\n\n| $x$ | $P_1(x)$ | $P_2(x)$ |\n|:---:|:--------:|:--------:|\n| 0   | 0.4      | 0.2      |\n| 1   | 0.3      | 0.1      |\n| 2   | 0.1      | 0.4      |\n| 3   | 0.2      | 0.3      |\n\n现在，我们通过变换 $Y = X \\pmod 2$ 定义一个新的随机变量 $Y$ 作为 $X$ 的函数。$Y$ 的样本空间是 $\\mathcal{Y} = \\{0, 1\\}$。令 $Q_1(y)$ 和 $Q_2(y)$ 分别为随机变量 $Y_1 = X_1 \\pmod 2$ 和 $Y_2 = X_2 \\pmod 2$ 的概率质量函数。\n\n计算比率 $R = \\frac{d_{TV}(Q_1, Q_2)}{d_{TV}(P_1, P_2)}$。将您的最终答案四舍五入到三位有效数字。",
            "solution": "我们已知在 $\\mathcal{X}=\\{0,1,2,3\\}$ 上的两个概率质量函数（pmfs）$P_{1}$ 和 $P_{2}$，以及总变差距离的定义\n$$\nd_{TV}(P,Q)=\\frac{1}{2}\\sum_{a\\in\\mathcal{A}}|P(a)-Q(a)|.\n$$\n首先计算 $d_{TV}(P_{1},P_{2})$：\n$$\n\\sum_{x\\in\\{0,1,2,3\\}}|P_{1}(x)-P_{2}(x)|=|0.4-0.2|+|0.3-0.1|+|0.1-0.4|+|0.2-0.3|.\n$$\n计算每一项，\n$$\n0.2+0.2+0.3+0.1=0.8,\\quad\\text{so}\\quad d_{TV}(P_{1},P_{2})=\\frac{1}{2}\\cdot 0.8=0.4.\n$$\n\n定义 $Y=X\\bmod 2$，其样本空间为 $\\mathcal{Y}=\\{0,1\\}$。对于 $Y_{1}=X_{1}\\bmod 2$ 和 $Y_{2}=X_{2}\\bmod 2$，它们的概率质量函数通过对 $0$（偶数）和 $1$（奇数）的原像求和得到：\n$$\nQ_{1}(0)=P_{1}(0)+P_{1}(2)=0.4+0.1=0.5,\\quad Q_{1}(1)=P_{1}(1)+P_{1}(3)=0.3+0.2=0.5,\n$$\n$$\nQ_{2}(0)=P_{2}(0)+P_{2}(2)=0.2+0.4=0.6,\\quad Q_{2}(1)=P_{2}(1)+P_{2}(3)=0.1+0.3=0.4.\n$$\n现在计算 $d_{TV}(Q_{1},Q_{2})$：\n$$\n\\sum_{y\\in\\{0,1\\}}|Q_{1}(y)-Q_{2}(y)|=|0.5-0.6|+|0.5-0.4|=0.1+0.1=0.2,\n$$\n因此\n$$\nd_{TV}(Q_{1},Q_{2})=\\frac{1}{2}\\cdot 0.2=0.1.\n$$\n\n比率为\n$$\nR=\\frac{d_{TV}(Q_{1},Q_{2})}{d_{TV}(P_{1},P_{2})}=\\frac{0.1}{0.4}=0.25.\n$$\n四舍五入到三位有效数字，$R=0.250$。",
            "answer": "$$\\boxed{0.250}$$"
        },
        {
            "introduction": "我们最后的练习将挑战我们对期望和分布的直观理解。两个概率分布是否可能在产生相同平均结果（即期望值相同）的同时，其本质却截然不同？这个问题  引导我们构建两个具有相同期望值但支撑集完全不相交的分布。计算它们之间的全变差距离将揭示该度量的最大值意味着什么，并强调像均值这样的简单统计量有时会掩盖底层过程之间的根本差异。",
            "id": "1664827",
            "problem": "设 $P$ 和 $Q$ 为定义在样本空间 $\\Omega = \\{1, 2, 3, 4\\}$ 上的随机变量 $X$ 的两个不同概率分布。\n\n这两个分布根据以下规则构建：\n1.  概率质量函数 $P(x)$ 仅在子集 $\\{1, 4\\}$ 中的结果上非零，且这两个结果的概率相等。\n2.  概率质量函数 $Q(x)$ 仅在子集 $\\{2, 3\\}$ 中的结果上非零，且这两个结果的概率也相等。\n3.  这两个分布对随机变量 $X$ 产生相同的期望值，即 $\\mathbb{E}_P[X] = \\mathbb{E}_Q[X]$。\n\n你的任务是计算 $P$ 和 $Q$ 之间的全变差距离。全变差距离定义为 $d_{TV}(P, Q) = \\frac{1}{2} \\sum_{x \\in \\Omega} |P(x) - Q(x)|$。\n\n将你的答案表示为一个实数。",
            "solution": "问题要求计算样本空间 $\\Omega = \\{1, 2, 3, 4\\}$ 上两个概率分布 $P$ 和 $Q$ 之间的全变差距离。我们必须首先使用给定的规则确定概率质量函数 $P(x)$ 和 $Q(x)$ 的显式形式。\n\n**步骤 1：确定概率分布 P。**\n根据规则 1，分布 $P$ 仅在 $x=1$ 和 $x=4$ 时具有非零概率。设 $P(1) = p_1$ 且 $P(4) = p_4$。我们被告知这些概率相等，因此 $p_1 = p_4$。其他结果的概率为零：$P(2) = 0$ 且 $P(3) = 0$。\n对于任何有效的概率分布，样本空间上所有概率的总和必须等于 1。\n$$ \\sum_{x \\in \\Omega} P(x) = P(1) + P(2) + P(3) + P(4) = 1 $$\n代入已知值和相等条件：\n$$ p_1 + 0 + 0 + p_1 = 1 $$\n$$ 2p_1 = 1 $$\n$$ p_1 = \\frac{1}{2} $$\n因此，$p_1 = P(1) = 1/2$ 且 $p_4 = P(4) = 1/2$。完整的分布 $P$ 是：\n$P = (P(1), P(2), P(3), P(4)) = (\\frac{1}{2}, 0, 0, \\frac{1}{2})$。\n\n**步骤 2：确定概率分布 Q。**\n根据规则 2，分布 $Q$ 仅在 $x=2$ 和 $x=3$ 时具有非零概率。设 $Q(2) = q_2$ 且 $Q(3) = q_3$。我们被告知这些概率相等，因此 $q_2 = q_3$。其他结果的概率为零：$Q(1) = 0$ 且 $Q(4) = 0$。\n概率总和必须为 1：\n$$ \\sum_{x \\in \\Omega} Q(x) = Q(1) + Q(2) + Q(3) + Q(4) = 1 $$\n代入已知值和相等条件：\n$$ 0 + q_2 + q_2 + 0 = 1 $$\n$$ 2q_2 = 1 $$\n$$ q_2 = \\frac{1}{2} $$\n因此，$q_2 = Q(2) = 1/2$ 且 $q_3 = Q(3) = 1/2$。完整的分布 $Q$ 是：\n$Q = (Q(1), Q(2), Q(3), Q(4)) = (0, \\frac{1}{2}, \\frac{1}{2}, 0)$。\n\n**步骤 3：验证期望约束。**\n规则 3 指出期望必须相等，$\\mathbb{E}_P[X] = \\mathbb{E}_Q[X]$。让我们验证这一点作为一致性检查。\n$P$ 的期望是：\n$$ \\mathbb{E}_P[X] = \\sum_{x \\in \\Omega} x P(x) = 1 \\cdot P(1) + 2 \\cdot P(2) + 3 \\cdot P(3) + 4 \\cdot P(4) $$\n$$ \\mathbb{E}_P[X] = 1 \\cdot \\left(\\frac{1}{2}\\right) + 2 \\cdot (0) + 3 \\cdot (0) + 4 \\cdot \\left(\\frac{1}{2}\\right) = \\frac{1}{2} + 2 = \\frac{5}{2} $$\n$Q$ 的期望是：\n$$ \\mathbb{E}_Q[X] = \\sum_{x \\in \\Omega} x Q(x) = 1 \\cdot Q(1) + 2 \\cdot Q(2) + 3 \\cdot Q(3) + 4 \\cdot Q(4) $$\n$$ \\mathbb{E}_Q[X] = 1 \\cdot (0) + 2 \\cdot \\left(\\frac{1}{2}\\right) + 3 \\cdot \\left(\\frac{1}{2}\\right) + 4 \\cdot (0) = 1 + \\frac{3}{2} = \\frac{5}{2} $$\n由于 $\\mathbb{E}_P[X] = \\mathbb{E}_Q[X] = 5/2$，我们找到的分布与问题陈述中给出的所有规则一致。\n\n**步骤 4：计算全变差距离。**\n全变差距离定义为 $d_{TV}(P, Q) = \\frac{1}{2} \\sum_{x \\in \\Omega} |P(x) - Q(x)|$。我们逐项计算概率的绝对差之和。\n$$ \\sum_{x \\in \\Omega} |P(x) - Q(x)| = |P(1) - Q(1)| + |P(2) - Q(2)| + |P(3) - Q(3)| + |P(4) - Q(4)| $$\n$$ = \\left|\\frac{1}{2} - 0\\right| + \\left|0 - \\frac{1}{2}\\right| + \\left|0 - \\frac{1}{2}\\right| + \\left|\\frac{1}{2} - 0\\right| $$\n$$ = \\frac{1}{2} + \\frac{1}{2} + \\frac{1}{2} + \\frac{1}{2} = 2 $$\n现在，我们将此和乘以 $1/2$ 以得到全变差距离：\n$$ d_{TV}(P, Q) = \\frac{1}{2} \\times 2 = 1 $$\n两个分布之间的全变差距离为 1。",
            "answer": "$$\\boxed{1}$$"
        }
    ]
}