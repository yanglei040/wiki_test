{
    "hands_on_practices": [
        {
            "introduction": "差分隐私的实际应用始于理解其核心机制。本练习将指导您完成一个基础而关键的任务：为一个平均值查询校准拉普拉斯噪声。通过计算查询的 $L_1$ 敏感度并应用拉普拉斯机制的公式，您将学会如何根据给定的隐私预算 $\\epsilon$ 来确定所需的噪声规模，这是实现 $\\epsilon$-差分隐私的第一步。",
            "id": "1618236",
            "problem": "一家数字健康研究所正在进行一项关于社交媒体使用情况的研究。他们从 $N=500$ 名志愿者那里收集数据。对于每位志愿者 $i$，数据库 $D$ 存储一个数字 $d_i$，代表他们自我报告的每天社交媒体使用小时数。为了处理异常值并确保一致性，所有报告值都被裁剪到 $[0, H]$ 范围内，其中允许的最大每日使用量为 $H = 8.0$ 小时。\n\n该研究所希望公布所有志愿者的平均每日社交媒体使用量。该查询被正式定义为 $f(D) = \\frac{1}{N} \\sum_{i=1}^{N} d_i$。为了保护志愿者的隐私，该研究所不会公布真实的平均值 $f(D)$。取而代之，他们将发布一个私有化的结果 $\\tilde{f}(D) = f(D) + Y$，其中 $Y$ 是一个随机噪声值。噪声 $Y$ 从一个概率密度函数为 $p(y|b) = \\frac{1}{2b} \\exp\\left(-\\frac{|y|}{b}\\right)$ 的分布中抽取，其中 $b > 0$ 是一个控制噪声量的尺度参数。\n\n该隐私机制必须满足 $\\epsilon$-差分隐私 (DP)。$\\epsilon$-DP 保证确保了对于任意两个仅在一名志愿者数据上有所不同（即，它们是邻近的）的数据库 $D$ 和 $D'$，以及对于任意可能的结果集 $\\mathcal{S}$，以下不等式成立：\n$$\n\\text{Pr}[\\tilde{f}(D) \\in \\mathcal{S}] \\le \\exp(\\epsilon) \\cdot \\text{Pr}[\\tilde{f}(D') \\in \\mathcal{S}]\n$$\n给定隐私预算为 $\\epsilon = 0.12$，确定尺度参数 $b$ 所需的最小值，以确保平均使用量查询满足 $\\epsilon$-差分隐私。\n\n用小时表示尺度参数 $b$ 的答案，并四舍五入到四位有效数字。",
            "solution": "我们在拉普拉斯机制下发布平均值 $f(D) = \\frac{1}{N} \\sum_{i=1}^{N} d_{i}$，即 $\\tilde{f}(D) = f(D) + Y$，其中 $Y$ 的密度为 $p(y \\mid b) = \\frac{1}{2b} \\exp\\!\\left(-\\frac{|y|}{b}\\right)$。为使用拉普拉斯机制确保 $\\epsilon$-差分隐私，尺度参数必须满足\n$$\nb = \\frac{\\Delta_{1} f}{\\epsilon},\n$$\n其中 $\\Delta_{1} f$ 是 $f$ 的全局 $\\ell_{1}$-敏感度。\n\n计算平均值的敏感度。对于仅在一个条目（设其索引为 $j$）上有所不同的邻近数据库 $D$ 和 $D'$，\n$$\n\\left| f(D) - f(D') \\right| = \\left| \\frac{1}{N} \\sum_{i=1}^{N} d_{i} - \\frac{1}{N} \\sum_{i=1}^{N} d_{i}' \\right| = \\frac{1}{N} \\left| \\sum_{i=1}^{N} (d_{i} - d_{i}') \\right| = \\frac{1}{N} \\left| d_{j} - d_{j}' \\right|.\n$$\n由于所有值都被裁剪到 $[0, H]$ 范围内，我们有 $\\left| d_{j} - d_{j}' \\right| \\leq H$，因此\n$$\n\\Delta_{1} f = \\max_{D \\sim D'} \\left| f(D) - f(D') \\right| \\leq \\frac{H}{N}.\n$$\n通过将一个值取为 $0$ 而另一个值取为 $H$，可知这个上界是紧的，所以 $\\Delta_{1} f = \\frac{H}{N}$。\n\n因此，实现 $\\epsilon$-DP 所需的拉普拉斯尺度为\n$$\nb_{\\min} = \\frac{\\Delta_{1} f}{\\epsilon} = \\frac{H}{N \\epsilon}.\n$$\n代入 $H = 8.0$，$N = 500$ 和 $\\epsilon = 0.12$，\n$$\nb_{\\min} = \\frac{8}{500 \\cdot 0.12} = \\frac{8}{60} = \\frac{2}{15} = 0.133333\\ldots\n$$\n四舍五入到四位有效数字，结果为 $0.1333$ 小时。",
            "answer": "$$\\boxed{0.1333}$$"
        },
        {
            "introduction": "在拉普拉斯机制之外，高斯机制为差分隐私提供了另一种重要的实现方式，尤其是在它引入了更为宽松的 $(\\epsilon, \\delta)$-差分隐私概念时。这个练习将让您直接应用高斯机制的标准校准公式。您将为一个具有给定 $L_2$ 敏感度的查询计算满足 $(\\epsilon, \\delta)$-DP 所需的最小噪声标准差，从而理解参数 $\\delta$ 如何在隐私保证中发挥作用。",
            "id": "1618211",
            "problem": "一个研究联盟的数据隐私官负责从一个敏感的医疗数据库中发布统计数据。他们计划回答一个特定的数值查询 $f$，该查询计算符合特定标准的患者数量。已经确定该查询的 $L_2$-敏感度为 $\\Delta_2 = 1$。\n\n为确保患者隐私，该隐私官采用了高斯机制。该技术包括在数据库 $D$ 上计算真实答案 $f(D)$，然后发布一个扰动值 $M(D) = f(D) + Z$，其中 $Z$ 是从均值为 0、标准差为 $\\sigma$ 的高斯（正态）分布中抽取的随机噪声变量。\n\n隐私发布必须满足 $(\\epsilon, \\delta)$-差分隐私的保证。使用高斯机制的标准校准方法，确定所需的最小噪声标准差 $\\sigma$。\n\n请用隐私参数 $\\epsilon$ 和 $\\delta$ 的符号表达式来表示你的答案。",
            "solution": "给定一个 $L_{2}$-敏感度为 $\\Delta_{2} = 1$ 的计数查询，高斯机制发布 $M(D) = f(D) + Z$，其中 $Z \\sim \\mathcal{N}(0, \\sigma^{2})$。目标是确保 $(\\epsilon, \\delta)$-差分隐私。\n\n高斯机制的标准校准方法指出，对于 $\\epsilon \\in (0,1)$，添加标准差为\n$$\n\\sigma \\geq \\frac{\\Delta_{2}}{\\epsilon} \\sqrt{2 \\ln\\!\\left(\\frac{1.25}{\\delta}\\right)}\n$$\n的高斯噪声可确保 $(\\epsilon, \\delta)$-差分隐私。\n\n将给定的敏感度 $\\Delta_{2} = 1$ 代入校准界限中，得到\n$$\n\\sigma \\geq \\frac{1}{\\epsilon} \\sqrt{2 \\ln\\!\\left(\\frac{1.25}{\\delta}\\right)}.\n$$\n\n因此，通过等式可获得所需的最小标准差：\n$$\n\\sigma_{\\min} = \\frac{\\sqrt{2 \\ln\\!\\left(\\frac{1.25}{\\delta}\\right)}}{\\epsilon}.\n$$",
            "answer": "$$\\boxed{\\frac{\\sqrt{2 \\ln\\!\\left(\\frac{1.25}{\\delta}\\right)}}{\\epsilon}}$$"
        },
        {
            "introduction": "实现差分隐私不仅仅是添加噪声，更关键的是要理解其对数据效用的影响。这个练习将带您直面隐私与效用之间的内在权衡。通过在一个具体的场景中计算获得“低效用”结果的概率，您将亲身体会到隐私保护措施（尤其是在小数据集或强隐私保证下）如何影响最终发布数据的实用价值。",
            "id": "1618189",
            "problem": "一家新的数据分析初创公司正在一个非常小的初步数据库上测试其隐私保护算法。该数据库包含其最初两位客户的年龄：一位是 18 岁，另一位是 82 岁。\n\n该公司希望计算数据库中年龄的总和。为了遵守隐私法规，他们决定使用拉普拉斯机制，这是一种实现 $(\\epsilon, 0)$-差分隐私的标准技术。该机制的工作原理是首先计算真实的总和，然后添加从拉普拉斯分布中抽取的随机噪声。\n\n过程如下：\n1.  为了计算隐私预算，假设任何个人的年龄首先被裁剪到一个预定义的范围 $[0, C]$ 内，其中 $C = 100$ 岁。因此，求和查询的敏感度由这个裁剪值决定。\n2.  计算（可能经过裁剪的）年龄的真实总和。\n3.  在这个总和上添加噪声 $Z$。噪声 $Z$ 是一个从拉普拉斯分布中抽取的随机变量，其概率密度函数为 $p(z) = \\frac{1}{2b} \\exp\\left(-\\frac{|z|}{b}\\right)$，其中尺度参数为 $b = \\frac{S_f}{\\epsilon}$。这里，$S_f$ 是求和查询的敏感度，$\\epsilon$ 是隐私参数。\n4.  公司选择的隐私参数为 $\\epsilon = 0.5$。\n\n如果查询结果产生一个无意义的值（即小于 0），或者它与真实总和的偏差超过 100%，则该结果被认为具有“低效用”。换句话说，对于真实总和 $S$，如果结果 $\\tilde{S}$ 满足 $\\tilde{S}  0$ 或 $\\tilde{S} > 2S$，则该结果具有低效用。\n\n计算差分隐私的年龄总和具有低效用的概率。将您的答案表示为保留三位有效数字的小数。",
            "solution": "我们首先确定在裁剪下的求和查询的敏感度。由于每个人的年龄都被裁剪到范围 $[0, C]$ 且 $C=100$，改变一个人的值最多可以使总和改变 $C$，所以敏感度为 $S_{f}=C$。\n\n真实的（裁剪后的）年龄是 $18$ 和 $82$，都在 $[0,100]$ 范围内，所以真实的总和是\n$$\nS=18+82=100.\n$$\n拉普拉斯机制添加的噪声 $Z$ 来自 $\\mathrm{Laplace}(0,b)$ 分布，其密度为 $p(z)=\\frac{1}{2b}\\exp\\!\\left(-\\frac{|z|}{b}\\right)$，尺度为\n$$\nb=\\frac{S_{f}}{\\epsilon}=\\frac{C}{\\epsilon}=\\frac{100}{0.5}=200.\n$$\n发布的值是 $\\tilde{S}=S+Z$。如果 $\\tilde{S}0$ 或 $\\tilde{S}>2S$，则结果具有低效用。当 $S=100$ 时，这个条件是\n$$\nS+Z0 \\;\\;\\text{or}\\;\\; S+Z>200 \\quad\\Longleftrightarrow\\quad Z-100 \\;\\;\\text{or}\\;\\; Z>100 \\quad\\Longleftrightarrow\\quad |Z|>100.\n$$\n因此，低效用的概率是\n$$\n\\mathbb{P}(|Z|>100)=\\mathbb{P}(Z>100)+\\mathbb{P}(Z-100).\n$$\n对于 $Z\\sim\\mathrm{Laplace}(0,b)$ 和任意 $t\\ge 0$，\n$$\n\\mathbb{P}(Z>t)=\\int_{t}^{\\infty}\\frac{1}{2b}\\exp\\!\\left(-\\frac{z}{b}\\right)\\,dz=\\frac{1}{2}\\exp\\!\\left(-\\frac{t}{b}\\right),\n$$\n并且根据对称性，\n$$\n\\mathbb{P}(Z-t)=\\frac{1}{2}\\exp\\!\\left(-\\frac{t}{b}\\right).\n$$\n因此，\n$$\n\\mathbb{P}(|Z|t)=\\exp\\!\\left(-\\frac{t}{b}\\right).\n$$\n设 $t=100$ 和 $b=200$，我们得到\n$$\n\\mathbb{P}(\\text{low utility})=\\exp\\!\\left(-\\frac{100}{200}\\right)=\\exp(-0.5)\\approx 0.607 \\text{ (to three significant figures)}.\n$$",
            "answer": "$$\\boxed{0.607}$$"
        }
    ]
}