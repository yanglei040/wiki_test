{
    "hands_on_practices": [
        {
            "introduction": "在无线通信中，衰落信道的一个基本特征是其不可靠性。本练习将引导你量化这种不可靠性，通过计算在经典的瑞利衰落（Rayleigh fading）模型下的中断概率（outage probability）。通过这个实践，你将学会如何将信道的统计模型与一个关键的系统性能指标联系起来，这是理解和设计无线系统的第一步。",
            "id": "1624220",
            "problem": "一个无线传感器网络被部署在偏远的森林中用于环境监测。单个传感器将数据传输到中央基站。由于植被茂密且缺乏直接的视线路径，信号经历了丰富的多径散射，这种情况可以很好地用瑞利衰落模型来描述。\n\n在瑞利衰落信道中，瞬时信噪比（SNR），记为 $\\gamma$，是一个随机变量。其概率密度函数（PDF）由下式给出：\n$$ f_{\\gamma}(x) = \\frac{1}{\\bar{\\gamma}} \\exp\\left(-\\frac{x}{\\bar{\\gamma}}\\right) \\quad \\text{for } x \\ge 0 $$\n其中 $\\bar{\\gamma}$ 是信道的恒定平均信噪比。\n\n为了使接收到的数据能够被正确解码，瞬时信噪比 $\\gamma$ 必须大于或等于一个最小所需阈值 $\\gamma_{th}$。如果瞬时信噪比低于此阈值，则称发生中断，传输的数据包会丢失。\n\n推导中断概率 $P_{out}$（即发生中断的概率）的闭式解析表达式。用 $\\bar{\\gamma}$ 和 $\\gamma_{th}$ 表示你的答案。",
            "solution": "当瞬时信噪比低于阈值时，发生中断事件，因此中断概率定义为\n$$\nP_{out} = \\Pr(\\gamma < \\gamma_{th}).\n$$\n给定瑞利衰落信噪比的概率密度函数，\n$$\nf_{\\gamma}(x) = \\frac{1}{\\bar{\\gamma}} \\exp\\!\\left(-\\frac{x}{\\bar{\\gamma}}\\right) \\quad \\text{for } x \\ge 0,\n$$\n对于阈值 $\\gamma_{th} \\ge 0$，中断概率是累积分布函数在 $\\gamma_{th}$ 处的值：\n$$\nP_{out} = \\int_{0}^{\\gamma_{th}} \\frac{1}{\\bar{\\gamma}} \\exp\\!\\left(-\\frac{x}{\\bar{\\gamma}}\\right)\\,dx.\n$$\n为了计算该积分，我们注意到积分公式\n$$\n\\int \\frac{1}{\\bar{\\gamma}} \\exp\\!\\left(-\\frac{x}{\\bar{\\gamma}}\\right)\\,dx = -\\exp\\!\\left(-\\frac{x}{\\bar{\\gamma}}\\right) + C,\n$$\n因此，从 $0$ 到 $\\gamma_{th}$ 求定积分可得\n$$\nP_{out} = \\left[-\\exp\\!\\left(-\\frac{x}{\\bar{\\gamma}}\\right)\\right]_{0}^{\\gamma_{th}} = -\\exp\\!\\left(-\\frac{\\gamma_{th}}{\\bar{\\gamma}}\\right) + \\exp(0) = 1 - \\exp\\!\\left(-\\frac{\\gamma_{th}}{\\bar{\\gamma}}\\right).\n$$\n因此，在平均信噪比为 $\\bar{\\gamma}$、阈值为 $\\gamma_{th}$ 的瑞利衰落信道中，闭式中断概率为\n$$\nP_{out} = 1 - \\exp\\!\\left(-\\frac{\\gamma_{th}}{\\bar{\\gamma}}\\right).\n$$",
            "answer": "$$\\boxed{1 - \\exp\\!\\left(-\\frac{\\gamma_{th}}{\\bar{\\gamma}}\\right)}$$"
        },
        {
            "introduction": "知道了如何评估衰落的负面影响后，我们自然会问：如何对抗衰落？分集（diversity）是其中最强大和最广泛使用的技术之一。本练习将探讨一种简单的分集方案——选择合并（selection combining），并让你计算其分集增益（diversity gain），这是一个衡量系统性能随信噪比改善速率的关键指标，直观地展示了“多一根天线”带来的好处。",
            "id": "1624209",
            "problem": "一个现代无线通信系统采用分集技术来对抗信号衰落的不利影响。考虑一个配备有两个独立天线的接收机。每个天线接收到的信号都经过一条独立且非相同的路径。这种配置被称为双支路分集系统。\n\n与这两个天线相关的信道被建模为独立同分布 (i.i.d.) 的瑞利衰落信道。由于这种衰落，每个支路上的瞬时信噪比 (SNR)，记为 $\\gamma_1$ 和 $\\gamma_2$，是一个随机变量。对于瑞利衰落信道，信噪比 $\\gamma_i$ 服从均值为 $\\bar{\\gamma}$ 的指数分布，其中 $\\bar{\\gamma}$ 代表平均信噪比。单个支路信噪比的累积分布函数 (CDF) 由下式给出：\n$$F_{\\gamma}(x) = P(\\gamma_i \\le x) = 1 - \\exp\\left(-\\frac{x}{\\bar{\\gamma}}\\right) \\quad \\text{for } x \\ge 0$$\n\n接收机使用一种称为选择合并 (SC) 的技术，它测量来自两个支路的信噪比，并选择值较高的那一个。因此，接收机的有效信噪比为 $\\gamma_{\\text{SC}} = \\max(\\gamma_1, \\gamma_2)$。\n\n如果有效信噪比 $\\gamma_{\\text{SC}}$ 降至可靠解码所需的某个最小阈值 $\\gamma_{\\text{th}}$ 以下，则会发生通信中断。中断概率 $P_{\\text{out}}$ 是该事件发生的概率：$P_{\\text{out}}(\\bar{\\gamma}) = P(\\gamma_{\\text{SC}} < \\gamma_{\\text{th}})$。\n\n在高信噪比区域（即，对于非常大的 $\\bar{\\gamma}$），中断概率可以用一个幂律来近似。分集增益 $d$ 量化了中断概率随平均信噪比增加而下降的速率。它的正式定义为，在信噪比趋于无穷大的极限情况下，对数-对数坐标图上 $P_{\\text{out}}(\\bar{\\gamma})$ 相对于 $\\bar{\\gamma}$ 的曲线斜率的负值：\n$$d = -\\lim_{\\bar{\\gamma} \\to \\infty} \\frac{\\ln(P_{\\text{out}}(\\bar{\\gamma}))}{\\ln(\\bar{\\gamma})}$$\n\n求出该双支路选择合并系统的分集增益 $d$。",
            "solution": "双支路选择合并下的有效信噪比为 $\\gamma_{\\text{SC}}=\\max(\\gamma_{1},\\gamma_{2})$。中断事件为 $\\{\\gamma_{\\text{SC}}<\\gamma_{\\text{th}}\\}=\\{\\gamma_{1}<\\gamma_{\\text{th}},\\,\\gamma_{2}<\\gamma_{\\text{th}}\\}$。利用独立性以及给定的CDF $F_{\\gamma}(x)=1-\\exp(-x/\\bar{\\gamma})$ (对于 $x\\ge 0$)，中断概率为\n$$\nP_{\\text{out}}(\\bar{\\gamma})=P(\\gamma_{1}<\\gamma_{\\text{th}})P(\\gamma_{2}<\\gamma_{\\text{th}})=\\left[1-\\exp\\!\\left(-\\frac{\\gamma_{\\text{th}}}{\\bar{\\gamma}}\\right)\\right]^{2}.\n$$\n在高信噪比区域，定义 $x=\\gamma_{\\text{th}}/\\bar{\\gamma}$，因此当 $\\bar{\\gamma}\\to\\infty$ 时，有 $x\\to 0^{+}$。使用级数展开 $\\exp(-x)=1-x+\\frac{x^{2}}{2}+O(x^{3})$，我们得到\n$$\n1-\\exp(-x)=x-\\frac{x^{2}}{2}+O(x^{3}),\n$$\n因此\n$$\nP_{\\text{out}}(\\bar{\\gamma})=\\left(x-\\frac{x^{2}}{2}+O(x^{3})\\right)^{2}=x^{2}+O(x^{3})=\\frac{\\gamma_{\\text{th}}^{2}}{\\bar{\\gamma}^{2}}+o\\!\\left(\\bar{\\gamma}^{-2}\\right).\n$$\n因此，对于较大的 $\\bar{\\gamma}$，\n$$\nP_{\\text{out}}(\\bar{\\gamma})\\sim K\\,\\bar{\\gamma}^{-2}\\quad\\text{其中}\\quad K=\\gamma_{\\text{th}}^{2}.\n$$\n使用分集增益的定义，\n$$\nd=-\\lim_{\\bar{\\gamma}\\to\\infty}\\frac{\\ln\\!\\left(P_{\\text{out}}(\\bar{\\gamma})\\right)}{\\ln(\\bar{\\gamma})}\n=-\\lim_{\\bar{\\gamma}\\to\\infty}\\frac{\\ln K-2\\ln(\\bar{\\gamma})+o(1)}{\\ln(\\bar{\\gamma})}\n=-\\lim_{\\bar{\\gamma}\\to\\infty}\\left(\\frac{\\ln K}{\\ln(\\bar{\\gamma})}-2+\\frac{o(1)}{\\ln(\\bar{\\gamma})}\\right)=2.\n$$\n因此，分集增益等于独立支路的数量，对于这个双支路选择合并系统，该值为 $2$。",
            "answer": "$$\\boxed{2}$$"
        },
        {
            "introduction": "除了中断概率，平均误码率（average bit error rate）是衡量通信系统长期性能的另一个核心指标，它反映了在不断变化的信道条件下数据传输的平均保真度。本练习要求你对一个具体的调制方案（BPSK）在瑞利衰落信道下的性能进行平均，推导出其平均误码率的闭合表达式。这个“在衰落上求平均”的过程是分析任何实际无线系统性能的基石。",
            "id": "1624256",
            "problem": "一个远程气象传感器使用无线发射器将气象数据发送到基站。该通信链路受到慢、平坦的 Rayleigh 衰落的影响，这是一种在无直射路径环境中无线信道的常见模型。该传感器采用二进制相移键控 (BPSK) 调制。\n\nBPSK 的性能由其比特错误概率来表征，该概率取决于瞬时信噪比 (SNR)，记为 $\\gamma$。对于一个给定的恒定 $\\gamma$，条件比特错误概率由下式给出：\n$$ P_{e|\\gamma} = Q(\\sqrt{2\\gamma}) $$\n其中 $Q(x)$ 是高斯 Q 函数，定义为标准正态分布的尾部概率：\n$$ Q(x) = \\frac{1}{\\sqrt{2\\pi}} \\int_{x}^{\\infty} \\exp\\left(-\\frac{u^2}{2}\\right) du $$\n\n由于衰落，瞬时信噪比 $\\gamma$ 不是一个常数，而是一个随机变量。对于 Rayleigh 衰落信道，$\\gamma$ 的概率密度函数 (PDF) 由一个指数分布给出：\n$$ f_{\\gamma}(\\gamma) = \\frac{1}{\\bar{\\gamma}} \\exp\\left(-\\frac{\\gamma}{\\bar{\\gamma}}\\right), \\quad \\text{for } \\gamma \\ge 0 $$\n其中 $\\bar{\\gamma}$ 是衰落信道上的平均信噪比。\n\n平均比特错误概率 $P_e$ 是通过对条件错误概率 $P_{e|\\gamma}$ 在 $\\gamma$ 的分布上求平均得到的。\n\n推导该系统平均比特错误概率 $P_e$ 作为平均信噪比 $\\bar{\\gamma}$ 函数的闭式表达式。",
            "solution": "平均比特错误概率 $P_e$ 是条件比特错误概率 $P_{e|\\gamma}$ 关于随机变量 $\\gamma$ 的期望值。这是通过将条件概率与 $\\gamma$ 的概率密度函数 (PDF) 的乘积在 $\\gamma$ 的所有可能值上进行积分来计算的。\n\n一般公式为：\n$$ P_e = \\mathbb{E}_{\\gamma}[P_{e|\\gamma}] = \\int_{0}^{\\infty} P_{e|\\gamma} f_{\\gamma}(\\gamma) d\\gamma $$\n\n代入 $P_{e|\\gamma}$ 和 $f_{\\gamma}(\\gamma)$ 的给定表达式：\n$$ P_e = \\int_{0}^{\\infty} Q(\\sqrt{2\\gamma}) \\left( \\frac{1}{\\bar{\\gamma}} \\exp\\left(-\\frac{\\gamma}{\\bar{\\gamma}}\\right) \\right) d\\gamma $$\n\n这个积分可以使用分部积分法求解，其公式为 $\\int u \\, dv = uv - \\int v \\, du$。我们定义 $u$ 和 $dv$ 部分：\n令 $u = Q(\\sqrt{2\\gamma})$ 且 $dv = \\frac{1}{\\bar{\\gamma}} \\exp\\left(-\\frac{\\gamma}{\\bar{\\gamma}}\\right) d\\gamma$。\n\n首先，我们通过对 $dv$ 积分来求得 $v$：\n$$ v = \\int \\frac{1}{\\bar{\\gamma}} \\exp\\left(-\\frac{\\gamma}{\\bar{\\gamma}}\\right) d\\gamma = -\\exp\\left(-\\frac{\\gamma}{\\bar{\\gamma}}\\right) $$\n\n接下来，我们通过对 $u$ 关于 $\\gamma$ 求导来求得 $du$。我们对 $Q(x)$ 的定义使用链式法则和微积分基本定理 (Leibniz 法则)。$Q(x)$ 的导数是 $\\frac{d}{dx}Q(x) = -\\frac{1}{\\sqrt{2\\pi}} \\exp(-x^2/2)$。\n$$ \\frac{du}{d\\gamma} = \\frac{d}{d\\gamma}Q(\\sqrt{2\\gamma}) = \\left(-\\frac{1}{\\sqrt{2\\pi}} \\exp\\left(-\\frac{(\\sqrt{2\\gamma})^2}{2}\\right)\\right) \\cdot \\frac{d}{d\\gamma}(\\sqrt{2\\gamma}) $$\n$$ \\frac{du}{d\\gamma} = \\left(-\\frac{1}{\\sqrt{2\\pi}} \\exp(-\\gamma)\\right) \\cdot \\left(\\sqrt{2} \\cdot \\frac{1}{2\\sqrt{\\gamma}}\\right) = -\\frac{1}{\\sqrt{2\\pi}} \\exp(-\\gamma) \\cdot \\frac{1}{\\sqrt{2\\gamma}} = -\\frac{\\exp(-\\gamma)}{\\sqrt{4\\pi\\gamma}} = -\\frac{\\exp(-\\gamma)}{2\\sqrt{\\pi\\gamma}} $$\n因此，$du = -\\frac{\\exp(-\\gamma)}{2\\sqrt{\\pi\\gamma}} d\\gamma$。\n\n现在，应用分部积分公式：\n$$ P_e = \\left[ u \\cdot v \\right]_0^\\infty - \\int_0^\\infty v \\, du $$\n$$ P_e = \\left[ -Q(\\sqrt{2\\gamma}) \\exp\\left(-\\frac{\\gamma}{\\bar{\\gamma}}\\right) \\right]_0^\\infty - \\int_0^\\infty \\left(-\\exp\\left(-\\frac{\\gamma}{\\bar{\\gamma}}\\right)\\right) \\left(-\\frac{\\exp(-\\gamma)}{2\\sqrt{\\pi\\gamma}}\\right) d\\gamma $$\n\n首先，计算边界项 $[uv]_0^\\infty$：\n当 $\\gamma \\to \\infty$ 时，$Q(\\sqrt{2\\gamma}) \\to 0$ 且 $\\exp(-\\gamma/\\bar{\\gamma}) \\to 0$，所以乘积为 0。\n在 $\\gamma = 0$ 时，$Q(0) = 1/2$ 且 $\\exp(0) = 1$。\n所以，边界项为 $0 - (-Q(0) \\cdot \\exp(0)) = 0 - (-(1/2) \\cdot 1) = \\frac{1}{2}$。\n\n接下来，计算剩余的积分：\n$$ - \\int_0^\\infty \\frac{1}{2\\sqrt{\\pi\\gamma}} \\exp\\left(-\\frac{\\gamma}{\\bar{\\gamma}}\\right) \\exp(-\\gamma) d\\gamma = - \\frac{1}{2\\sqrt{\\pi}} \\int_0^\\infty \\gamma^{-1/2} \\exp\\left(-\\gamma\\left(1+\\frac{1}{\\bar{\\gamma}}\\right)\\right) d\\gamma $$\n令指数中的常数为 $A = 1 + \\frac{1}{\\bar{\\gamma}} = \\frac{\\bar{\\gamma}+1}{\\bar{\\gamma}}$。积分变为：\n$$ - \\frac{1}{2\\sqrt{\\pi}} \\int_0^\\infty \\gamma^{-1/2} \\exp(-A\\gamma) d\\gamma $$\n我们进行变量替换：$t = A\\gamma$。则 $\\gamma = t/A$ 并且 $d\\gamma = dt/A$。\n积分变换为：\n$$ - \\frac{1}{2\\sqrt{\\pi}} \\int_0^\\infty \\left(\\frac{t}{A}\\right)^{-1/2} \\exp(-t) \\frac{dt}{A} = - \\frac{1}{2\\sqrt{\\pi}} \\int_0^\\infty \\frac{A^{1/2}}{t^{1/2}} \\exp(-t) \\frac{dt}{A} $$\n$$ = - \\frac{A^{-1/2}}{2\\sqrt{\\pi}} \\int_0^\\infty t^{-1/2} \\exp(-t) dt = - \\frac{A^{-1/2}}{2\\sqrt{\\pi}} \\int_0^\\infty t^{1/2-1} \\exp(-t) dt $$\n积分部分是在 $z=1/2$ 处求值的 Gamma 函数 $\\Gamma(z) = \\int_0^\\infty t^{z-1} e^{-t} dt$。\n我们使用已知结果 $\\Gamma(1/2) = \\sqrt{\\pi}$。\n所以积分的计算结果为：\n$$ - \\frac{A^{-1/2}}{2\\sqrt{\\pi}} \\cdot \\sqrt{\\pi} = - \\frac{1}{2} A^{-1/2} $$\n代回 $A = \\frac{\\bar{\\gamma}+1}{\\bar{\\gamma}}$：\n$$ - \\frac{1}{2} \\left(\\frac{\\bar{\\gamma}+1}{\\bar{\\gamma}}\\right)^{-1/2} = - \\frac{1}{2} \\sqrt{\\frac{\\bar{\\gamma}}{\\bar{\\gamma}+1}} $$\n\n最后，将边界项的结果和积分的结果结合起来，求得总的平均比特错误概率 $P_e$：\n$$ P_e = \\frac{1}{2} - \\frac{1}{2} \\sqrt{\\frac{\\bar{\\gamma}}{\\bar{\\gamma}+1}} $$\n这可以写成最终形式：\n$$ P_e = \\frac{1}{2}\\left(1 - \\sqrt{\\frac{\\bar{\\gamma}}{1+\\bar{\\gamma}}}\\right) $$",
            "answer": "$$\\boxed{\\frac{1}{2}\\left(1 - \\sqrt{\\frac{\\bar{\\gamma}}{1 + \\bar{\\gamma}}}\\right)}$$"
        }
    ]
}