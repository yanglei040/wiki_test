{
    "hands_on_practices": [
        {
            "introduction": "A fundamental aspect of designing wireless systems is understanding when communication is likely to fail. In a fading channel, the signal strength fluctuates randomly, so we must think probabilistically. This first exercise will guide you through calculating one of the most important performance metrics: the outage probability. You will determine the likelihood that the signal-to-noise ratio (SNR) in a classic Rayleigh fading environment falls below the minimum threshold required for successful communication, thereby providing a direct measure of the channel's reliability .",
            "id": "1624220",
            "problem": "A wireless sensor network is deployed for environmental monitoring in a remote forest. A single sensor transmits data to a central base station. Due to dense foliage and a lack of a direct line-of-sight path, the signal experiences rich multipath scattering, a condition well-modeled by Rayleigh fading.\n\nIn a Rayleigh fading channel, the instantaneous Signal-to-Noise Ratio (SNR), denoted by $\\gamma$, is a random variable. Its Probability Density Function (PDF) is given by:\n$$ f_{\\gamma}(x) = \\frac{1}{\\bar{\\gamma}} \\exp\\left(-\\frac{x}{\\bar{\\gamma}}\\right) \\quad \\text{for } x \\ge 0 $$\nwhere $\\bar{\\gamma}$ is the constant average SNR of the channel.\n\nFor the received data to be decoded correctly, the instantaneous SNR $\\gamma$ must be greater than or equal to a minimum required threshold, $\\gamma_{th}$. If the instantaneous SNR falls below this threshold, an outage is said to occur, and the transmitted data packet is lost.\n\nDerive a closed-form analytic expression for the outage probability, $P_{out}$, which is the probability that an outage occurs. Express your answer in terms of $\\bar{\\gamma}$ and $\\gamma_{th}$.",
            "solution": "The outage event occurs when the instantaneous SNR falls below the threshold, so the outage probability is defined as\n$$\nP_{out} = \\Pr(\\gamma < \\gamma_{th}).\n$$\nGiven the PDF of the Rayleigh-faded SNR,\n$$\nf_{\\gamma}(x) = \\frac{1}{\\bar{\\gamma}} \\exp\\!\\left(-\\frac{x}{\\bar{\\gamma}}\\right) \\quad \\text{for } x \\ge 0,\n$$\nthe outage probability for a threshold $\\gamma_{th} \\ge 0$ is the cumulative distribution function evaluated at $\\gamma_{th}$:\n$$\nP_{out} = \\int_{0}^{\\gamma_{th}} \\frac{1}{\\bar{\\gamma}} \\exp\\!\\left(-\\frac{x}{\\bar{\\gamma}}\\right)\\,dx.\n$$\nCompute the integral by noting that\n$$\n\\int \\frac{1}{\\bar{\\gamma}} \\exp\\!\\left(-\\frac{x}{\\bar{\\gamma}}\\right)\\,dx = -\\exp\\!\\left(-\\frac{x}{\\bar{\\gamma}}\\right) + C,\n$$\nso evaluating from $0$ to $\\gamma_{th}$ yields\n$$\nP_{out} = \\left[-\\exp\\!\\left(-\\frac{x}{\\bar{\\gamma}}\\right)\\right]_{0}^{\\gamma_{th}} = -\\exp\\!\\left(-\\frac{\\gamma_{th}}{\\bar{\\gamma}}\\right) + \\exp(0) = 1 - \\exp\\!\\left(-\\frac{\\gamma_{th}}{\\bar{\\gamma}}\\right).\n$$\nThus, the closed-form outage probability in a Rayleigh fading channel with mean SNR $\\bar{\\gamma}$ and threshold $\\gamma_{th}$ is\n$$\nP_{out} = 1 - \\exp\\!\\left(-\\frac{\\gamma_{th}}{\\bar{\\gamma}}\\right).\n$$",
            "answer": "$$\\boxed{1 - \\exp\\!\\left(-\\frac{\\gamma_{th}}{\\bar{\\gamma}}\\right)}$$"
        },
        {
            "introduction": "Now that we have a tool to quantify the unreliability caused by fading, the next logical question is how to combat it. The most powerful technique is diversity, which involves receiving the signal over multiple independent paths to reduce the chance of a simultaneous deep fade. This practice explores a simple yet effective diversity method called Selection Combining (SC) and introduces the concept of diversity gain, $d$, an elegant metric that quantifies how quickly our system's performance improves as we increase transmit power . Understanding this will reveal why modern wireless systems from Wi-Fi to 5G universally rely on diversity.",
            "id": "1624209",
            "problem": "A modern wireless communication system employs a diversity technique to combat the detrimental effects of signal fading. Consider a receiver equipped with two separate antennas. The signal received at each antenna travels through an independent path. This configuration is known as a two-branch diversity system.\n\nThe channels associated with the two antennas are modeled as independent and identically distributed (i.i.d.) Rayleigh fading channels. Due to this fading, the instantaneous Signal-to-Noise Ratio (SNR) at each branch, denoted by $\\gamma_1$ and $\\gamma_2$, is a random variable. For a Rayleigh fading channel, the SNR $\\gamma_i$ follows an exponential distribution with a mean value $\\bar{\\gamma}$, which represents the average SNR. The Cumulative Distribution Function (CDF) for the SNR of a single branch is given by:\n$$F_{\\gamma}(x) = P(\\gamma_i \\le x) = 1 - \\exp\\left(-\\frac{x}{\\bar{\\gamma}}\\right) \\quad \\text{for } x \\ge 0$$\n\nThe receiver uses a technique called Selection Combining (SC), where it measures the SNR from both branches and selects the one with the higher value. Therefore, the effective SNR at the receiver is $\\gamma_{\\text{SC}} = \\max(\\gamma_1, \\gamma_2)$.\n\nA communication outage occurs if the effective SNR $\\gamma_{\\text{SC}}$ drops below a certain minimum threshold required for reliable decoding, denoted as $\\gamma_{\\text{th}}$. The outage probability, $P_{\\text{out}}$, is the probability of this event: $P_{\\text{out}}(\\bar{\\gamma}) = P(\\gamma_{\\text{SC}}  \\gamma_{\\text{th}})$.\n\nIn the high-SNR regime (i.e., for very large $\\bar{\\gamma}$), the outage probability can be approximated by a power law. The diversity gain, $d$, quantifies the rate at which the outage probability decreases as the average SNR increases. It is formally defined as the negative of the slope of the $P_{\\text{out}}$ curve versus $\\bar{\\gamma}$ on a log-log plot, in the limit of infinite SNR:\n$$d = -\\lim_{\\bar{\\gamma} \\to \\infty} \\frac{\\ln(P_{\\text{out}}(\\bar{\\gamma}))}{\\ln(\\bar{\\gamma})}$$\n\nDetermine the diversity gain, $d$, for this two-branch selection combining system.",
            "solution": "The effective SNR under two-branch selection combining is $\\gamma_{\\text{SC}}=\\max(\\gamma_{1},\\gamma_{2})$. The outage event is $\\{\\gamma_{\\text{SC}}\\gamma_{\\text{th}}\\}=\\{\\gamma_{1}\\gamma_{\\text{th}},\\,\\gamma_{2}\\gamma_{\\text{th}}\\}$. Using independence and the given CDF $F_{\\gamma}(x)=1-\\exp(-x/\\bar{\\gamma})$ for $x\\ge 0$, the outage probability is\n$$\nP_{\\text{out}}(\\bar{\\gamma})=P(\\gamma_{1}\\gamma_{\\text{th}})P(\\gamma_{2}\\gamma_{\\text{th}})=\\left[1-\\exp\\!\\left(-\\frac{\\gamma_{\\text{th}}}{\\bar{\\gamma}}\\right)\\right]^{2}.\n$$\nIn the high-SNR regime, define $x=\\gamma_{\\text{th}}/\\bar{\\gamma}$ so that $x\\to 0^{+}$ as $\\bar{\\gamma}\\to\\infty$. Using the series $\\exp(-x)=1-x+\\frac{x^{2}}{2}+O(x^{3})$, we obtain\n$$\n1-\\exp(-x)=x-\\frac{x^{2}}{2}+O(x^{3}),\n$$\nhence\n$$\nP_{\\text{out}}(\\bar{\\gamma})=\\left(x-\\frac{x^{2}}{2}+O(x^{3})\\right)^{2}=x^{2}+O(x^{3})=\\frac{\\gamma_{\\text{th}}^{2}}{\\bar{\\gamma}^{2}}+o\\!\\left(\\bar{\\gamma}^{-2}\\right).\n$$\nTherefore, for large $\\bar{\\gamma}$,\n$$\nP_{\\text{out}}(\\bar{\\gamma})\\sim K\\,\\bar{\\gamma}^{-2}\\quad\\text{with}\\quad K=\\gamma_{\\text{th}}^{2}.\n$$\nUsing the definition of diversity gain,\n$$\nd=-\\lim_{\\bar{\\gamma}\\to\\infty}\\frac{\\ln\\!\\left(P_{\\text{out}}(\\bar{\\gamma})\\right)}{\\ln(\\bar{\\gamma})}\n=-\\lim_{\\bar{\\gamma}\\to\\infty}\\frac{\\ln K-2\\ln(\\bar{\\gamma})+o(1)}{\\ln(\\bar{\\gamma})}\n=-\\lim_{\\bar{\\gamma}\\to\\infty}\\left(\\frac{\\ln K}{\\ln(\\bar{\\gamma})}-2+\\frac{o(1)}{\\ln(\\bar{\\gamma})}\\right)=2.\n$$\nThus the diversity gain equals the number of independent branches, which is $2$ for this two-branch selection combining system.",
            "answer": "$$\\boxed{2}$$"
        },
        {
            "introduction": "Let's take our analysis a step further. While outage probability tells us the chance of a total link failure, it's often more useful to know the long-term average bit error rate (BER) for a specific modulation scheme. This final practice bridges the gap between the physical channel model and digital communication performance. You will learn to calculate the average BER for a Binary Phase-Shift Keying (BPSK) system operating over a Rayleigh fading channel by averaging its performance across all possible fading states, a crucial skill for any communication engineer .",
            "id": "1624256",
            "problem": "A remote weather sensor uses a wireless transmitter to send meteorological data to a base station. The communication link is subject to slow, flat Rayleigh fading, a common model for wireless channels in environments without a direct line-of-sight. The sensor employs Binary Phase-Shift Keying (BPSK) modulation.\n\nThe performance of BPSK is characterized by its probability of bit error, which depends on the instantaneous Signal-to-Noise Ratio (SNR), denoted by $\\gamma$. For a given constant $\\gamma$, the conditional bit error probability is given by:\n$$ P_{e|\\gamma} = Q(\\sqrt{2\\gamma}) $$\nwhere $Q(x)$ is the Gaussian Q-function, defined as the tail probability of the standard normal distribution:\n$$ Q(x) = \\frac{1}{\\sqrt{2\\pi}} \\int_{x}^{\\infty} \\exp\\left(-\\frac{u^2}{2}\\right) du $$\n\nDue to fading, the instantaneous SNR $\\gamma$ is not constant but is a random variable. For a Rayleigh fading channel, the probability density function (PDF) of $\\gamma$ is given by an exponential distribution:\n$$ f_{\\gamma}(\\gamma) = \\frac{1}{\\bar{\\gamma}} \\exp\\left(-\\frac{\\gamma}{\\bar{\\gamma}}\\right), \\quad \\text{for } \\gamma \\ge 0 $$\nwhere $\\bar{\\gamma}$ is the average SNR over the fading channel.\n\nThe average bit error probability, $P_e$, is obtained by averaging the conditional error probability $P_{e|\\gamma}$ over the distribution of $\\gamma$.\n\nDerive a closed-form expression for the average bit error probability $P_e$ for this system as a function of the average SNR, $\\bar{\\gamma}$.",
            "solution": "The average bit error probability, $P_e$, is the expected value of the conditional bit error probability $P_{e|\\gamma}$ with respect to the random variable $\\gamma$. This is calculated by integrating the product of the conditional probability and the probability density function (PDF) of $\\gamma$ over all possible values of $\\gamma$.\n\nThe general formula is:\n$$ P_e = \\mathbb{E}_{\\gamma}[P_{e|\\gamma}] = \\int_{0}^{\\infty} P_{e|\\gamma} f_{\\gamma}(\\gamma) d\\gamma $$\n\nSubstitute the given expressions for $P_{e|\\gamma}$ and $f_{\\gamma}(\\gamma)$:\n$$ P_e = \\int_{0}^{\\infty} Q(\\sqrt{2\\gamma}) \\left( \\frac{1}{\\bar{\\gamma}} \\exp\\left(-\\frac{\\gamma}{\\bar{\\gamma}}\\right) \\right) d\\gamma $$\n\nThis integral can be solved using integration by parts, which follows the formula $\\int u \\, dv = uv - \\int v \\, du$. Let's define the parts $u$ and $dv$:\nLet $u = Q(\\sqrt{2\\gamma})$ and $dv = \\frac{1}{\\bar{\\gamma}} \\exp\\left(-\\frac{\\gamma}{\\bar{\\gamma}}\\right) d\\gamma$.\n\nFirst, we find $v$ by integrating $dv$:\n$$ v = \\int \\frac{1}{\\bar{\\gamma}} \\exp\\left(-\\frac{\\gamma}{\\bar{\\gamma}}\\right) d\\gamma = -\\exp\\left(-\\frac{\\gamma}{\\bar{\\gamma}}\\right) $$\n\nNext, we find $du$ by differentiating $u$ with respect to $\\gamma$. We use the chain rule and the Fundamental Theorem of Calculus (Leibniz rule) on the definition of $Q(x)$. The derivative of $Q(x)$ is $\\frac{d}{dx}Q(x) = -\\frac{1}{\\sqrt{2\\pi}} \\exp(-x^2/2)$.\n$$ \\frac{du}{d\\gamma} = \\frac{d}{d\\gamma}Q(\\sqrt{2\\gamma}) = \\left(-\\frac{1}{\\sqrt{2\\pi}} \\exp\\left(-\\frac{(\\sqrt{2\\gamma})^2}{2}\\right)\\right) \\cdot \\frac{d}{d\\gamma}(\\sqrt{2\\gamma}) $$\n$$ \\frac{du}{d\\gamma} = \\left(-\\frac{1}{\\sqrt{2\\pi}} \\exp(-\\gamma)\\right) \\cdot \\left(\\sqrt{2} \\cdot \\frac{1}{2\\sqrt{\\gamma}}\\right) = -\\frac{1}{\\sqrt{2\\pi}} \\exp(-\\gamma) \\cdot \\frac{1}{\\sqrt{2\\gamma}} = -\\frac{\\exp(-\\gamma)}{\\sqrt{4\\pi\\gamma}} = -\\frac{\\exp(-\\gamma)}{2\\sqrt{\\pi\\gamma}} $$\nTherefore, $du = -\\frac{\\exp(-\\gamma)}{2\\sqrt{\\pi\\gamma}} d\\gamma$.\n\nNow, apply the integration by parts formula:\n$$ P_e = \\left[ u \\cdot v \\right]_0^\\infty - \\int_0^\\infty v \\, du $$\n$$ P_e = \\left[ -Q(\\sqrt{2\\gamma}) \\exp\\left(-\\frac{\\gamma}{\\bar{\\gamma}}\\right) \\right]_0^\\infty - \\int_0^\\infty \\left(-\\exp\\left(-\\frac{\\gamma}{\\bar{\\gamma}}\\right)\\right) \\left(-\\frac{\\exp(-\\gamma)}{2\\sqrt{\\pi\\gamma}}\\right) d\\gamma $$\n\nFirst, evaluate the boundary term $[uv]_0^\\infty$:\nAs $\\gamma \\to \\infty$, $Q(\\sqrt{2\\gamma}) \\to 0$ and $\\exp(-\\gamma/\\bar{\\gamma}) \\to 0$, so the product is 0.\nAt $\\gamma = 0$, $Q(0) = 1/2$ and $\\exp(0) = 1$.\nSo, the boundary term is $0 - (-Q(0) \\cdot \\exp(0)) = 0 - (-(1/2) \\cdot 1) = \\frac{1}{2}$.\n\nNext, evaluate the remaining integral:\n$$ - \\int_0^\\infty \\frac{1}{2\\sqrt{\\pi\\gamma}} \\exp\\left(-\\frac{\\gamma}{\\bar{\\gamma}}\\right) \\exp(-\\gamma) d\\gamma = - \\frac{1}{2\\sqrt{\\pi}} \\int_0^\\infty \\gamma^{-1/2} \\exp\\left(-\\gamma\\left(1+\\frac{1}{\\bar{\\gamma}}\\right)\\right) d\\gamma $$\nLet the constant in the exponent be $A = 1 + \\frac{1}{\\bar{\\gamma}} = \\frac{\\bar{\\gamma}+1}{\\bar{\\gamma}}$. The integral becomes:\n$$ - \\frac{1}{2\\sqrt{\\pi}} \\int_0^\\infty \\gamma^{-1/2} \\exp(-A\\gamma) d\\gamma $$\nLet's perform a change of variables: $t = A\\gamma$. Then $\\gamma = t/A$ and $d\\gamma = dt/A$.\nThe integral transforms to:\n$$ - \\frac{1}{2\\sqrt{\\pi}} \\int_0^\\infty \\left(\\frac{t}{A}\\right)^{-1/2} \\exp(-t) \\frac{dt}{A} = - \\frac{1}{2\\sqrt{\\pi}} \\int_0^\\infty \\frac{A^{1/2}}{t^{1/2}} \\exp(-t) \\frac{dt}{A} $$\n$$ = - \\frac{A^{-1/2}}{2\\sqrt{\\pi}} \\int_0^\\infty t^{-1/2} \\exp(-t) dt = - \\frac{A^{-1/2}}{2\\sqrt{\\pi}} \\int_0^\\infty t^{1/2-1} \\exp(-t) dt $$\nThe integral part is the Gamma function $\\Gamma(z) = \\int_0^\\infty t^{z-1} e^{-t} dt$ evaluated at $z=1/2$.\nWe use the known result $\\Gamma(1/2) = \\sqrt{\\pi}$.\nSo the integral evaluates to:\n$$ - \\frac{A^{-1/2}}{2\\sqrt{\\pi}} \\cdot \\sqrt{\\pi} = - \\frac{1}{2} A^{-1/2} $$\nSubstitute back $A = \\frac{\\bar{\\gamma}+1}{\\bar{\\gamma}}$:\n$$ - \\frac{1}{2} \\left(\\frac{\\bar{\\gamma}+1}{\\bar{\\gamma}}\\right)^{-1/2} = - \\frac{1}{2} \\sqrt{\\frac{\\bar{\\gamma}}{\\bar{\\gamma}+1}} $$\n\nFinally, combine the result from the boundary term and the integral to find the total average bit error probability $P_e$:\n$$ P_e = \\frac{1}{2} - \\frac{1}{2} \\sqrt{\\frac{\\bar{\\gamma}}{\\bar{\\gamma}+1}} $$\nThis can be written in the final form:\n$$ P_e = \\frac{1}{2}\\left(1 - \\sqrt{\\frac{\\bar{\\gamma}}{1+\\bar{\\gamma}}}\\right) $$",
            "answer": "$$\\boxed{\\frac{1}{2}\\left(1 - \\sqrt{\\frac{\\bar{\\gamma}}{1 + \\bar{\\gamma}}}\\right)}$$"
        }
    ]
}