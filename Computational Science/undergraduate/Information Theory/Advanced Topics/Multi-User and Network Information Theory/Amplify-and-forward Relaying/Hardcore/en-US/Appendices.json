{
    "hands_on_practices": [
        {
            "introduction": "To begin our practical exploration of Amplify-and-Forward (AF) relaying, we start with the most fundamental operation: setting the relay's gain. An AF relay's primary function is to boost the received signal, but critically, it also amplifies the noise it receives. This exercise  challenges you to calculate the precise amplification factor needed to ensure the relay transmits at a fixed power level, a common constraint in real-world systems. Mastering this calculation is the first step toward understanding the behavior and limitations of AF relays.",
            "id": "1602718",
            "problem": "In a wireless communication system, a source node (S) transmits information to a destination node (D). Due to a large distance, the direct link between S and D is unreliable. To overcome this, an Amplify-and-Forward (AF) relay node (R) is placed between them. The system operates as follows: the source transmits a signal with an average power $P_S$. This signal travels to the relay through a channel characterized by a power gain $|h_{SR}|^2$. At the relay's receiver, this signal is corrupted by Additive White Gaussian Noise (AWGN) having an average power of $N_0$.\n\nThe AF relay is a simple device that does not decode the signal. Instead, it amplifies the total received waveform (signal plus noise) by a voltage amplification factor $G$. The relay is designed to maintain a constant average transmit power of $P_R$.\n\nGiven the following parameters for the system:\n- Source transmit power, $P_S = 100$ mW\n- Target relay transmit power, $P_R = 500$ mW\n- Source-to-relay channel power gain, $|h_{SR}|^2 = 2.5 \\times 10^{-4}$\n- Average noise power at the relay's input, $N_0 = 1.5 \\times 10^{-5}$ W\n\nCalculate the required voltage amplification factor $G$ for the relay. Round your final answer to three significant figures.",
            "solution": "The signal received at the relay is $y_{R} = h_{SR} x_{S} + n_{R}$, where $E[|x_{S}|^{2}] = P_{S}$ and $E[|n_{R}|^{2}] = N_{0}$. The average power at the relay input is therefore\n$$\nE[|y_{R}|^{2}] = P_{S} |h_{SR}|^{2} + N_{0}.\n$$\nThe AF relay scales the received waveform by a voltage gain $G$ and transmits $x_{R} = G y_{R}$. The relay transmit power is\n$$\nP_{R} = E[|x_{R}|^{2}] = G^{2} E[|y_{R}|^{2}] = G^{2} \\left(P_{S} |h_{SR}|^{2} + N_{0}\\right).\n$$\nTo satisfy the relay power constraint, solve for $G$:\n$$\nG = \\sqrt{\\frac{P_{R}}{P_{S} |h_{SR}|^{2} + N_{0}}}.\n$$\nSubstitute the given values $P_{S} = 100 \\times 10^{-3}$, $P_{R} = 500 \\times 10^{-3}$, $|h_{SR}|^{2} = 2.5 \\times 10^{-4}$, and $N_{0} = 1.5 \\times 10^{-5}$ (all in watts where applicable):\n$$\nP_{S} |h_{SR}|^{2} = (100 \\times 10^{-3})(2.5 \\times 10^{-4}) = 2.5 \\times 10^{-5},\n$$\n$$\nP_{S} |h_{SR}|^{2} + N_{0} = 2.5 \\times 10^{-5} + 1.5 \\times 10^{-5} = 4.0 \\times 10^{-5},\n$$\n$$\nG^{2} = \\frac{0.5}{4.0 \\times 10^{-5}} = \\frac{5 \\times 10^{-1}}{4 \\times 10^{-5}} = \\frac{5}{4} \\times 10^{4} = 1.25 \\times 10^{4},\n$$\n$$\nG = \\sqrt{1.25 \\times 10^{4}} = \\sqrt{12500} = 50 \\sqrt{5} \\approx 111.803\\ldots\n$$\nRounded to three significant figures, $G = 112$.",
            "answer": "$$\\boxed{112}$$"
        },
        {
            "introduction": "Having understood how a single relay operates, we now analyze the performance of a complete source-relay-destination link. In any chain of processes, performance is often dictated by its weakest part, and a two-hop relay system is no exception. This practice  introduces the crucial concept of a 'bottleneck hop,' guiding you to determine the conditions under which the overall system performance is limited by the quality of the first hop versus the second. This develops a key intuition for designing and troubleshooting relayed communication links.",
            "id": "1602653",
            "problem": "Consider a wireless communication system composed of a source node (S), a single relay node (R), and a destination node (D). Communication occurs in two orthogonal time slots, forming a dual-hop link. In the first slot, S transmits a signal to R. In the second slot, R forwards an amplified version of what it received to D. There is no direct communication link between S and D. This scheme is known as Amplify-and-Forward (AF) relaying.\n\nThe system operates under the following conditions:\n- The source S transmits with a constant average power $P_S$.\n- The channel from S to R has a power gain of $g_{SR}$, and the channel from R to D has a power gain of $g_{RD}$. These gains are positive, real constants.\n- The receiver at the relay and the receiver at the destination both experience additive white Gaussian noise with the same average power $N_0$ within the signal's bandwidth.\n- The relay's amplification factor is dynamically adjusted such that its retransmission to the destination always has a constant average power $P_R$.\n\nIn the high Signal-to-Noise Ratio (SNR) regime, a common approximation for the end-to-end equivalent SNR of this system, $\\text{SNR}_{eq}$, is given by the harmonic mean of the effective SNRs of the two hops:\n$$ \\frac{1}{\\text{SNR}_{eq}} \\approx \\frac{1}{\\text{SNR}_{SR}} + \\frac{1}{\\text{SNR}_{RD}} $$\nwhere $\\text{SNR}_{SR}$ is the SNR of the S-R link and $\\text{SNR}_{RD}$ is the effective SNR of the R-D link, defined using their respective transmit powers and channel gains.\n\nThe overall system performance is limited by the \"bottleneck\" hop, which is defined as the hop with the lower effective SNR. Determine the condition, expressed as an inequality, under which the first hop (S-R) is the performance bottleneck.\n\nA. $\\frac{g_{SR}}{g_{RD}}  \\frac{P_R}{P_S}$\n\nB. $\\frac{g_{SR}}{g_{RD}}  \\frac{P_R}{P_S}$\n\nC. $\\frac{g_{SR}}{g_{RD}}  \\frac{P_S}{P_R}$\n\nD. $\\frac{g_{SR}}{g_{RD}}  \\frac{P_S}{P_R}$\n\nE. $g_{SR} g_{RD}  P_S P_R$\n\nF. $g_{SR} + g_{RD}  P_S + P_R$",
            "solution": "In high-SNR AF relaying with orthogonal slots, the equivalent SNR obeys\n$$\n\\frac{1}{\\text{SNR}_{eq}} \\approx \\frac{1}{\\text{SNR}_{SR}} + \\frac{1}{\\text{SNR}_{RD}}.\n$$\nThe bottleneck hop is the one with the lower effective SNR. With the stated definitions, the per-hop SNRs are\n$$\n\\text{SNR}_{SR} = \\frac{P_{S} g_{SR}}{N_{0}}, \\qquad \\text{SNR}_{RD} = \\frac{P_{R} g_{RD}}{N_{0}},\n$$\nsince the relay transmits with average power $P_{R}$ and the same noise power $N_{0}$ applies at both receivers.\n\nThe first hop (S-R) is the bottleneck when it has the lower SNR:\n$$\n\\text{SNR}_{SR}  \\text{SNR}_{RD}.\n$$\nSubstituting the expressions and canceling $N_{0}0$ gives\n$$\nP_{S} g_{SR}  P_{R} g_{RD}.\n$$\nSince $P_{S}, P_{R}, g_{SR}, g_{RD}  0$, dividing both sides by $P_{S} g_{RD}$ preserves the inequality:\n$$\n\\frac{g_{SR}}{g_{RD}}  \\frac{P_{R}}{P_{S}}.\n$$\nThis corresponds to option A.",
            "answer": "$$\\boxed{A}$$"
        },
        {
            "introduction": "We now elevate our analysis from a single path to a network of potential relays, tackling a realistic design problem. When a signal traverses multiple AF relays, noise accumulates in a non-linear fashion, making path selection a non-trivial task. This advanced exercise  asks you to find the optimal path through a network to maximize the end-to-end Signal-to-Noise Ratio ($SNR$). Solving this requires moving beyond simple metrics and engaging with the unique, multiplicative nature of noise propagation in cascaded AF systems.",
            "id": "1602719",
            "problem": "You are a network architect designing a robust communication link for a remote environmental monitoring system. The system consists of a Base Station (Node 0), a critical Sensor Package (Node 5), and four potential Relay Posts (Nodes 1, 2, 3, and 4) that can be used to form a multi-hop path.\n\nAll nodes in the network operate using an Amplify-and-Forward (AF) protocol. In this protocol, a relay node receives a signal, amplifies the entire received signal (including noise), and retransmits it to the next node in the path. This process of noise amplification at each step affects the overall end-to-end Signal-to-Noise Ratio (SNR), a key measure of communication quality.\n\nThe end-to-end SNR for a path is determined by the SNRs of the individual hops. Let $\\Gamma_{\\text{path}}$ be the end-to-end SNR for a given path from the source to a relay. If this path is extended by one more hop from the last relay (node $u$) to a new node ($v$), the new end-to-end SNR, denoted $\\Gamma_{\\text{path} \\to v}$, is given by the following relationship:\n$$\n\\frac{1}{\\Gamma_{\\text{path} \\to v}} = \\frac{1}{\\Gamma_{\\text{path}}} + \\frac{1}{\\gamma_{uv}} + \\frac{1}{\\Gamma_{\\text{path}} \\cdot \\gamma_{uv}}\n$$\nHere, $\\gamma_{uv}$ represents the single-hop SNR for the direct link from node $u$ to node $v$. For the very first hop from the source (node $s$) to the first relay (node $r_1$), the path SNR is simply the hop SNR, $\\Gamma_{s \\to r_1} = \\gamma_{sr_1}$.\n\nThe available unidirectional links and their corresponding single-hop SNRs ($\\gamma_{ij}$ for a link from node $i$ to node $j$) have been characterized as follows:\n- $\\gamma_{01} = 10$\n- $\\gamma_{02} = 5$\n- $\\gamma_{03} = 3$\n- $\\gamma_{13} = 8$\n- $\\gamma_{14} = 4$\n- $\\gamma_{15} = 2.5$\n- $\\gamma_{23} = 2$\n- $\\gamma_{24} = 9$\n- $\\gamma_{35} = 12$\n- $\\gamma_{45} = 6$\n\nYour task is to determine the optimal multi-hop path from the Base Station (Node 0) to the Sensor Package (Node 5) that maximizes the final end-to-end SNR. What is the value of this maximum possible SNR?\n\nRound your final answer to four significant figures.",
            "solution": "We are given the AF incremental SNR relation for extending a path with end-to-end SNR $\\Gamma_{\\text{path}}$ by a hop of single-hop SNR $\\gamma_{uv}$:\n$$\n\\frac{1}{\\Gamma_{\\text{path} \\to v}}=\\frac{1}{\\Gamma_{\\text{path}}}+\\frac{1}{\\gamma_{uv}}+\\frac{1}{\\Gamma_{\\text{path}}\\gamma_{uv}}.\n$$\nRewriting, we get\n$$\n\\frac{1}{\\Gamma_{\\text{path} \\to v}}=\\frac{\\gamma_{uv}+\\Gamma_{\\text{path}}+1}{\\Gamma_{\\text{path}}\\gamma_{uv}}\n\\quad\\Longrightarrow\\quad\n\\Gamma_{\\text{path} \\to v}=\\frac{\\Gamma_{\\text{path}}\\gamma_{uv}}{\\Gamma_{\\text{path}}+\\gamma_{uv}+1}.\n$$\nDefine the transformation $T(\\Gamma)=1+\\frac{1}{\\Gamma}$. Then\n$$\nT(\\Gamma_{\\text{path} \\to v})=1+\\frac{1}{\\Gamma_{\\text{path} \\to v}}\n=1+\\frac{\\Gamma_{\\text{path}}+\\gamma_{uv}+1}{\\Gamma_{\\text{path}}\\gamma_{uv}}\n=\\frac{(\\Gamma_{\\text{path}}+1)(\\gamma_{uv}+1)}{\\Gamma_{\\text{path}}\\gamma_{uv}}\n=\\left(1+\\frac{1}{\\Gamma_{\\text{path}}}\\right)\\left(1+\\frac{1}{\\gamma_{uv}}\\right).\n$$\nHence, along any path with hop SNRs $\\{\\gamma_{i}\\}$,\n$$\nT_{\\text{total}}=\\prod_{i}\\left(1+\\frac{1}{\\gamma_{i}}\\right),\\qquad\n\\Gamma_{\\text{end}}=\\frac{1}{T_{\\text{total}}-1}.\n$$\nTherefore, maximizing $\\Gamma_{\\text{end}}$ is equivalent to minimizing $T_{\\text{total}}=\\prod_{i}\\left(1+\\frac{1}{\\gamma_{i}}\\right)$ over all directed paths from node $0$ to node $5$.\n\nCompute $t_{ij}=1+\\frac{1}{\\gamma_{ij}}$ for each available link as exact fractions:\n$$\nt_{01}=\\frac{11}{10},\\quad t_{02}=\\frac{6}{5},\\quad t_{03}=\\frac{4}{3},\\quad\nt_{13}=\\frac{9}{8},\\quad t_{14}=\\frac{5}{4},\\quad t_{15}=\\frac{7}{5},\\quad\nt_{23}=\\frac{3}{2},\\quad t_{24}=\\frac{10}{9},\\quad t_{35}=\\frac{13}{12},\\quad t_{45}=\\frac{7}{6}.\n$$\nEvaluate $T_{\\text{total}}$ and $\\Gamma_{\\text{end}}$ for each feasible path from $0$ to $5$:\n- Path $0\\to 1\\to 5$: $T=\\frac{11}{10}\\cdot\\frac{7}{5}=\\frac{77}{50}\\Rightarrow \\Gamma=\\frac{1}{\\frac{77}{50}-1}=\\frac{50}{27}\\approx 1.8518518519$.\n- Path $0\\to 1\\to 3\\to 5$: $T=\\frac{11}{10}\\cdot\\frac{9}{8}\\cdot\\frac{13}{12}=\\frac{429}{320}\\Rightarrow \\Gamma=\\frac{1}{\\frac{429}{320}-1}=\\frac{320}{109}\\approx 2.9357798165$.\n- Path $0\\to 1\\to 4\\to 5$: $T=\\frac{11}{10}\\cdot\\frac{5}{4}\\cdot\\frac{7}{6}=\\frac{77}{48}\\Rightarrow \\Gamma=\\frac{1}{\\frac{77}{48}-1}=\\frac{48}{29}\\approx 1.6551724138$.\n- Path $0\\to 2\\to 3\\to 5$: $T=\\frac{6}{5}\\cdot\\frac{3}{2}\\cdot\\frac{13}{12}=\\frac{39}{20}\\Rightarrow \\Gamma=\\frac{1}{\\frac{39}{20}-1}=\\frac{20}{19}\\approx 1.0526315789$.\n- Path $0\\to 2\\to 4\\to 5$: $T=\\frac{6}{5}\\cdot\\frac{10}{9}\\cdot\\frac{7}{6}=\\frac{14}{9}\\Rightarrow \\Gamma=\\frac{1}{\\frac{14}{9}-1}=\\frac{9}{5}=1.8$.\n- Path $0\\to 3\\to 5$: $T=\\frac{4}{3}\\cdot\\frac{13}{12}=\\frac{13}{9}\\Rightarrow \\Gamma=\\frac{1}{\\frac{13}{9}-1}=\\frac{9}{4}=2.25$.\n\nThe maximum end-to-end SNR is achieved by the path $0\\to 1\\to 3\\to 5$ with $\\Gamma_{\\text{max}}=\\frac{320}{109}\\approx 2.9357798165$. Rounding to four significant figures gives $2.936$.",
            "answer": "$$\\boxed{2.936}$$"
        }
    ]
}