{
    "hands_on_practices": [
        {
            "introduction": "我们从一个经典的资源分配问题开始，这在商业和制造业中非常普遍。当目标和限制条件都是线性的时候，问题就简化为线性规划。这个练习将引导你通过检查可行域的顶点来找到最优解，这为你理解不等式约束如何定义决策空间提供了直观的实践。",
            "id": "2168954",
            "problem": "一家小型手工公司生产两种类型的专用电子元件：A型和B型。这些元件的生产受到与资源和劳动力相关的若干日常限制。设 $x$ 为每日生产的A型元件数量，$y$ 为每日生产的B型元件数量。\n\n每售出一个A型元件的利润为 $100 美元，每售出一个B型元件的利润为 $200 美元。\n\n生产受到以下因素的限制：\n1.  **装配时间：** 每个元件，无论是A型还是B型，都需要一小时的熟练劳动力进行装配。公司每天总共有40小时的熟练劳动力可用。\n2.  **原材料：** 一种特定的稀有材料专门用于A型元件。这种材料的每日供应量仅足以生产最多30个A型元件。\n3.  **非负性：** 生产的元件数量不能为负。\n\n假设公司可以售出其生产的所有元件，那么每日可能的最大利润是多少？请用美元表示您的答案。",
            "solution": "设 $x$ 和 $y$ 分别表示A型和B型元件的每日生产数量。需要最大化的利润函数是总利润\n$$P(x,y)=100x+200y.$$\n约束条件如下。装配时间提供了\n$$x+y\\leq 40,$$\n因为每个元件，不论类型，都需要一小时，而总共只有 $40$ 小时可用。A型的原材料约束条件为\n$$x\\leq 30.$$\n非负性要求\n$$x\\geq 0,\\quad y\\geq 0.$$\n这是一个线性规划问题：在一个凸多边形可行域上最大化一个线性函数。根据线性规划的基本性质，最优解（如果存在）出现在可行域的极点（顶点）处。\n\n通过将边界线与非负性条件相交来确定候选顶点：\n1) 将 $x=0$ 与 $x+y=40$ 相交：解 $0+y=40$ 得 $(x,y)=(0,40)$。\n2) 将 $x=30$ 与 $x+y=40$ 相交：解 $30+y=40$ 得 $(x,y)=(30,10)$。\n3) 与坐标轴在约束条件下的交点：$(0,0)$ 是可行的；$(30,0)$ 是可行的，因为 $30\\leq 30$ 且 $30+0=30\\leq 40$。\n\n在这些顶点处评估目标函数：\n$$P(0,0)=100\\cdot 0+200\\cdot 0=0,$$\n$$P(0,40)=100\\cdot 0+200\\cdot 40=8000,$$\n$$P(30,0)=100\\cdot 30+200\\cdot 0=3000,$$\n$$P(30,10)=100\\cdot 30+200\\cdot 10=3000+2000=5000.$$\n最大值为 $8000$，在 $(x,y)=(0,40)$ 处取得，这也与每装配小时的边际利润相符：A型每小时产生 $100$ 的利润，而B型每小时产生 $200$ 的利润，因此将所有 $40$ 小时分配给B型，在 $x\\leq 30$ 的约束下，可以最大化利润。",
            "answer": "$$\\boxed{8000}$$"
        },
        {
            "introduction": "接下来，我们将从线性规划的几何直观转向一种更强大、更通用的分析工具——拉格朗日乘子法，用于处理等式约束。在一个球形小行星表面寻找温度最高的点是一个典型的应用场景。这个练习将优雅地展示在最优点上，目标函数的梯度如何与约束函数的梯度平行，从而揭示这一核心优化原理。",
            "id": "2168916",
            "problem": "一个机器人探测器正在绘制一个半径为 $R=4$ 米的小型完美球形小行星的表面地图。该小行星的中心位于笛卡尔坐标系的原点 $(0,0,0)$。探测器上的一个传感器测量其表面温度，由于内部热源和太阳辐射，发现其表面温度根据函数 $T(x,y,z) = 250 + x - 2y + 3z$ 变化，其中 $T$ 是以开尔文为单位的温度，$(x,y,z)$ 是小行星表面上以米为单位的坐标。\n\n你的任务是确定小行星表面温度达到绝对最大值的点的坐标。\n\n将你的答案表示为一组三个精确坐标 $(x,y,z)$，单位为米。",
            "solution": "我们必须在以原点为中心、半径为 $R=4$ 的球面上最大化温度函数。该球面由约束条件\n$$\nx^{2}+y^{2}+z^{2}=R^{2}.\n$$\n给出。温度为\n$$\nT(x,y,z)=250+x-2y+3z.\n$$\n由于加上一个常数不影响最大值的位置，最大化 $T$ 等价于在约束条件 $x^{2}+y^{2}+z^{2}=R^{2}$ 下最大化\n$$\nf(x,y,z)=x-2y+3z\n$$\n。\n\n使用拉格朗日乘子法，定义\n$$\n\\mathcal{L}(x,y,z,\\lambda)=x-2y+3z-\\lambda\\left(x^{2}+y^{2}+z^{2}-R^{2}\\right).\n$$\n将偏导数设为零：\n$$\n\\frac{\\partial \\mathcal{L}}{\\partial x}=1-2\\lambda x=0,\\quad \\frac{\\partial \\mathcal{L}}{\\partial y}=-2-2\\lambda y=0,\\quad \\frac{\\partial \\mathcal{L}}{\\partial z}=3-2\\lambda z=0,\\quad \\frac{\\partial \\mathcal{L}}{\\partial \\lambda}=x^{2}+y^{2}+z^{2}-R^{2}=0.\n$$\n由前三个方程可得，\n$$\nx=\\frac{1}{2\\lambda},\\quad y=-\\frac{1}{\\lambda},\\quad z=\\frac{3}{2\\lambda}.\n$$\n代入约束条件：\n$$\nx^{2}+y^{2}+z^{2}=\\left(\\frac{1}{2\\lambda}\\right)^{2}+\\left(\\frac{1}{\\lambda}\\right)^{2}+\\left(\\frac{3}{2\\lambda}\\right)^{2}=\\left(\\frac{1}{4}+\\frac{1}{1}+\\frac{9}{4}\\right)\\frac{1}{\\lambda^{2}}=\\frac{14}{4}\\frac{1}{\\lambda^{2}}=\\frac{7}{2}\\frac{1}{\\lambda^{2}}=R^{2}.\n$$\n因此，\n$$\n\\frac{1}{\\lambda^{2}}=\\frac{2}{7}R^{2}\\quad \\Rightarrow \\quad \\lambda=\\pm \\frac{\\sqrt{7/2}}{R}.\n$$\n使用 $x=\\frac{1}{2\\lambda}$，$y=-\\frac{1}{\\lambda}$，$z=\\frac{3}{2\\lambda}$，我们得到\n$$\n(x,y,z)=\\frac{1}{2\\lambda}(1,-2,3).\n$$\n要在球面上最大化 $f(x,y,z)=x-2y+3z=(1,-2,3)\\cdot (x,y,z)$，向量 $(x,y,z)$ 必须与 $(1,-2,3)$ 同向，这对应于选择 $\\lambda>0$。当 $\\lambda=\\frac{\\sqrt{7/2}}{R}$ 时，\n$$\n\\frac{1}{2\\lambda}=\\frac{R}{2\\sqrt{7/2}}=\\frac{R}{\\sqrt{14}},\n$$\n所以\n$$\n(x,y,z)=\\frac{R}{\\sqrt{14}}(1,-2,3).\n$$\n最后，代入 $R=4$，得到\n$$\n(x,y,z)=\\left(\\frac{4}{\\sqrt{14}},-\\frac{8}{\\sqrt{14}},\\frac{12}{\\sqrt{14}}\\right).\n$$\n这些坐标满足 $x^{2}+y^{2}+z^{2}=\\frac{16}{14}(1+4+9)=16=R^{2}$，并且与温度增加的方向一致，因此给出了绝对最大值。",
            "answer": "$$\\boxed{\\begin{pmatrix}\\frac{4}{\\sqrt{14}}  -\\frac{8}{\\sqrt{14}}  \\frac{12}{\\sqrt{14}}\\end{pmatrix}}$$"
        },
        {
            "introduction": "最后，我们将拉格朗日乘子法应用于更复杂的现实世界问题，例如工程设计和数据科学。这个问题要求我们找到材料的最佳混合比例，以最接近一个目标性能指标，这需要最小化误差（一个二次目标函数）同时满足物理约束（质量分数之和必须为1）。这个实践将抽象的数学工具与具体的数据拟合应用联系起来，展示了约束优化的强大功能。",
            "id": "2168934",
            "problem": "一位材料科学家正在通过混合两种现有金属（金属1和金属2）来配制一种新的金属合金。最终合金的特性由一个包含三个关键性能指标的向量来表征。根据实验室数据，混合物的指标向量 $p \\in \\mathbb{R}^3$ 可以通过线性模型 $p = Ax$ 很好地近似，其中 $x = \\begin{pmatrix} x_1 \\\\ x_2 \\end{pmatrix}$ 是一个列向量，分别包含金属1和金属2的质量分数。矩阵 $A$ 的列包含了纯金属的指标向量。\n\n矩阵 $A$ 和期望的目标指标向量 $b$ 的具体值如下：\n$$\nA = \\begin{pmatrix} 10  30 \\\\ 20  10 \\\\ 5  15 \\end{pmatrix}, \\quad b = \\begin{pmatrix} 18 \\\\ 16 \\\\ 9 \\end{pmatrix}\n$$\n该科学家的目标是找到一种成分 $x$，使得合金的指标 $Ax$ 尽可能接近目标指标 $b$。这可以通过最小化结果指标与目标指标之间的平方误差和来实现，其数学表达式为最小化平方欧几里得范数 $\\|Ax - b\\|_2^2$。\n\n由于 $x_1$ 和 $x_2$ 代表最终混合物中两种金属的比例，它们的和必须等于1。\n\n求在满足此约束条件下，使目标函数最小化的最优比例 $x_1$ 和 $x_2$。请用一个包含精确分数组分的列向量 $\\begin{pmatrix} x_1 \\\\ x_2 \\end{pmatrix}$ 来表示你的答案。",
            "solution": "我们需要在等式约束 $c^{T}x=1$ 的条件下，最小化平方欧几里得范数 $\\|Ax - b\\|_{2}^{2}$，其中 $c=\\begin{pmatrix}1 \\\\ 1\\end{pmatrix}$，$A=\\begin{pmatrix}10  30 \\\\ 20  10 \\\\ 5  15\\end{pmatrix}$，且 $b=\\begin{pmatrix}18 \\\\ 16 \\\\ 9\\end{pmatrix}$。使用拉格朗日乘子法，定义拉格朗日函数\n$$\n\\mathcal{L}(x,\\lambda)=(Ax-b)^{T}(Ax-b)+\\lambda(c^{T}x-1).\n$$\n一阶最优性条件是\n$$\n\\nabla_{x}\\mathcal{L}=2A^{T}(Ax-b)+\\lambda c=0,\\quad c^{T}x=1.\n$$\n令 $\\mu=\\lambda/2$。则 KKT 系统变为\n$$\nA^{T}A\\,x+\\mu c=A^{T}b,\\quad c^{T}x=1.\n$$\n计算 $A^{T}A$ 和 $A^{T}b$：\n$$\nA^{T}A=\\begin{pmatrix}525  575 \\\\ 575  1225\\end{pmatrix},\\quad A^{T}b=\\begin{pmatrix}545 \\\\ 835\\end{pmatrix},\\quad c=\\begin{pmatrix}1 \\\\ 1\\end{pmatrix}.\n$$\n因此\n$$\n\\begin{cases}\n525x_{1}+575x_{2}+\\mu=545,\\\\\n575x_{1}+1225x_{2}+\\mu=835,\\\\\nx_{1}+x_{2}=1.\n\\end{cases}\n$$\n用第二个方程减去第一个方程以消去 $\\mu$：\n$$\n(575-525)x_{1}+(1225-575)x_{2}=835-545 \\;\\Rightarrow\\; 50x_{1}+650x_{2}=290.\n$$\n两边除以 $10$：\n$$\n5x_{1}+65x_{2}=29.\n$$\n使用约束条件 $x_{1}=1-x_{2}$，代入可得\n$$\n5(1-x_{2})+65x_{2}=29 \\;\\Rightarrow\\; 5+60x_{2}=29 \\;\\Rightarrow\\; 60x_{2}=24 \\;\\Rightarrow\\; x_{2}=\\frac{2}{5}.\n$$\n因此\n$$\nx_{1}=1-\\frac{2}{5}=\\frac{3}{5}.\n$$\n作为检验，对于这个 $x$，$Ax=b$ 精确成立，所以残差为零，该解是最优解。",
            "answer": "$$\\boxed{\\begin{pmatrix} \\frac{3}{5} \\\\ \\frac{2}{5} \\end{pmatrix}}$$"
        }
    ]
}