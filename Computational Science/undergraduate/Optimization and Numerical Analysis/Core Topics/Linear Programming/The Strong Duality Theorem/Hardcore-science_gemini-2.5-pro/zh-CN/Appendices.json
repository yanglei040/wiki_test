{
    "hands_on_practices": [
        {
            "introduction": "让我们从一个经典且直观的例子开始。这个练习要求我们找到二维平面上的一条直线距离原点的最近点。这是一个具有线性等式约束的凸二次规划问题，通过分别求解原始问题和其拉格朗日对偶问题，我们可以直接验证它们的最优值是相等的，从而亲手体验强对偶定理的精髓。",
            "id": "2221847",
            "problem": "考虑一个在 $\\mathbb{R}^2$ 中定义的最优化问题。目标是找到一个点 $(x, y)$，使其与原点的欧几里得距离的平方最小，该距离由函数 $f_0(x, y) = x^2 + y^2$ 给出。最小化问题受限于一个线性等式约束 $ax + by = c$，其中 $a, b$ 和 $c$ 是非零实数常量。这个提法被称为原始问题（primal problem）。令该原始问题的最优值为 $p^*$。\n\n相应的拉格朗日对偶问题（Lagrange dual problem）涉及最大化拉格朗日对偶函数 $g(\\nu)$。令该对偶问题的最优值为 $d^*$。\n\n你的任务是确定原始最优值 $p^*$ 和对偶最优值 $d^*$ 关于常量 $a, b$ 和 $c$ 的解析表达式。\n\n将你的最终答案表示为一个 $1 \\times 2$ 的行矩阵，其中第一个元素是 $p^*$ 的值，第二个元素是 $d^*$ 的值。",
            "solution": "我们要最小化凸二次函数 $f_{0}(x,y)=x^{2}+y^{2}$，其受限于仿射等式约束 $ax+by=c$，其中 $a\\neq 0$ 且 $b\\neq 0$。因此，可行集非空，KKT 条件是充要条件。\n\n构造拉格朗日函数，设对偶变量为 $\\nu\\in\\mathbb{R}$：\n$$\nL(x,y,\\nu)=x^{2}+y^{2}+\\nu(ax+by-c).\n$$\n关于 $x$ 和 $y$ 的平稳性条件要求\n$$\n\\frac{\\partial L}{\\partial x}=2x+\\nu a=0,\\qquad \\frac{\\partial L}{\\partial y}=2y+\\nu b=0,\n$$\n这给出\n$$\nx=-\\frac{\\nu a}{2},\\qquad y=-\\frac{\\nu b}{2}.\n$$\n代入原始可行性条件 $ax+by=c$ 得到\n$$\na\\left(-\\frac{\\nu a}{2}\\right)+b\\left(-\\frac{\\nu b}{2}\\right)=c\n\\;\\;\\Longrightarrow\\;\\;\n-\\frac{\\nu}{2}(a^{2}+b^{2})=c\n\\;\\;\\Longrightarrow\\;\\;\n\\nu^{\\star}=-\\frac{2c}{a^{2}+b^{2}}.\n$$\n因此原始最优点是\n$$\nx^{\\star}=\\frac{ac}{a^{2}+b^{2}},\\qquad y^{\\star}=\\frac{bc}{a^{2}+b^{2}},\n$$\n原始最优值为\n$$\np^{\\star}=(x^{\\star})^{2}+(y^{\\star})^{2}\n=\\frac{a^{2}c^{2}+b^{2}c^{2}}{(a^{2}+b^{2})^{2}}\n=\\frac{c^{2}}{a^{2}+b^{2}}.\n$$\n\n对于对偶问题，对偶函数是 $g(\\nu)=\\inf_{x,y}L(x,y,\\nu)$，通过代入平稳点 $x=-\\nu a/2$ 和 $y=-\\nu b/2$ 获得：\n$$\nx^{2}+y^{2}=\\frac{\\nu^{2}}{4}(a^{2}+b^{2}),\\qquad\nax+by=-\\frac{\\nu}{2}(a^{2}+b^{2}),\n$$\n所以\n$$\ng(\\nu)=\\frac{\\nu^{2}}{4}(a^{2}+b^{2})+\\nu\\left(-\\frac{\\nu}{2}(a^{2}+b^{2})-c\\right)\n=-\\frac{a^{2}+b^{2}}{4}\\nu^{2}-c\\nu.\n$$\n对偶问题是 $\\max_{\\nu\\in\\mathbb{R}}g(\\nu)$；求导并令其为零：\n$$\ng'(\\nu)=-\\frac{a^{2}+b^{2}}{2}\\nu-c=0\n\\;\\;\\Longrightarrow\\;\\;\n\\nu^{\\star}=-\\frac{2c}{a^{2}+b^{2}}.\n$$\n计算对偶最优值，\n$$\nd^{\\star}=g(\\nu^{\\star})\n=-\\frac{a^{2}+b^{2}}{4}\\left(\\frac{4c^{2}}{(a^{2}+b^{2})^{2}}\\right)-c\\left(-\\frac{2c}{a^{2}+b^{2}}\\right)\n=-\\frac{c^{2}}{a^{2}+b^{2}}+\\frac{2c^{2}}{a^{2}+b^{2}}\n=\\frac{c^{2}}{a^{2}+b^{2}}.\n$$\n由于该问题是凸问题，带有一个仿射等式约束，且存在可行点，强对偶性成立，因此 $p^{\\star}=d^{\\star}=\\frac{c^{2}}{a^{2}+b^{2}}$。\n\n因此，所求的 $1\\times 2$ 行矩阵为 $\\begin{pmatrix}p^{\\star}  d^{\\star}\\end{pmatrix}=\\begin{pmatrix}\\frac{c^{2}}{a^{2}+b^{2}}  \\frac{c^{2}}{a^{2}+b^{2}}\\end{pmatrix}$。",
            "answer": "$$\\boxed{\\begin{pmatrix}\\frac{c^{2}}{a^{2}+b^{2}}  \\frac{c^{2}}{a^{2}+b^{2}}\\end{pmatrix}}$$"
        },
        {
            "introduction": "在第一个练习的基础上，我们现在引入不等式约束，这使得问题变得更加丰富。我们将寻找原点到一个线段（而非无限直线）的最短距离，这需要我们应用完整的卡罗需-库恩-塔克（KKT）条件。这个练习的核心是理解“互补松弛性”这一重要概念，它揭示了在最优解处，对偶变量（拉格朗日乘子）的值如何告诉我们哪些约束是起作用的（即“紧的”）。",
            "id": "2221842",
            "problem": "一个点机器人必须在二维笛卡尔平面上沿着一条直线段路径移动。该路径始于点 $A=(1, 5)$，止于点 $B=(5, 3)$。为了一项监控任务，需要找出这条路径上距离位于原点 $(0,0)$ 的固定传感器最近的位置。\n\n这个几何问题可以构建为一个约束优化问题。线段上的一个点可以由 $P(t) = (1-t)A + tB$ 参数化，其中参数 $t$ 被约束在区间 $[0, 1]$ 内。目标是最小化从原点到点 $P(t)$ 的平方欧氏距离。\n\n设 $d_{min}^2$ 为最小平方距离。在此类问题的标准形式中，我们为关于 $t$ 的不等式约束引入拉格朗日乘子（对偶变量）。设 $\\lambda_1$ 为约束 $t \\ge 0$（可写作 $-t \\le 0$）的拉格朗日乘子，$\\lambda_2$ 为约束 $t \\le 1$（可写作 $t-1 \\le 0$）的拉格朗日乘子。\n\n确定最小平方距离 $d_{min}^2$ 的数值，以及相应的拉格朗日乘子 $\\lambda_1$ 和 $\\lambda_2$ 的最优值。请以元组 $(d_{min}^2, \\lambda_1, \\lambda_2)$ 的形式提供你的答案，包含三个数值。",
            "solution": "我们用 $P(t)=(1-t)A+tB$ 参数化线段上的点，其中 $A=(1,5)$ 且 $B=(5,3)$。因此\n$$\nP(t)=(1,5)+t\\big((5,3)-(1,5)\\big)=(1,5)+t(4,-2)=(1+4t,\\,5-2t),\n$$\n约束条件为 $t\\in[0,1]$。\n\n从原点出发的平方欧氏距离是目标函数\n$$\nf(t)=\\|P(t)\\|^{2}=(1+4t)^{2}+(5-2t)^{2}.\n$$\n展开得，\n$$\n(1+4t)^{2}=1+8t+16t^{2},\\qquad (5-2t)^{2}=25-20t+4t^{2},\n$$\n所以\n$$\nf(t)=\\big(1+8t+16t^{2}\\big)+\\big(25-20t+4t^{2}\\big)=20t^{2}-12t+26.\n$$\n\n我们将其构建为一个带有不等式约束 $g_{1}(t)=-t\\le 0$ 和 $g_{2}(t)=t-1\\le 0$ 的约束优化问题。拉格朗日函数为\n$$\n\\mathcal{L}(t,\\lambda_{1},\\lambda_{2})=20t^{2}-12t+26+\\lambda_{1}(-t)+\\lambda_{2}(t-1),\n$$\n其中 $\\lambda_{1}\\ge 0$ 且 $\\lambda_{2}\\ge 0$。\n\n卡罗需-库恩-塔克（Karush–Kuhn–Tucker）条件如下：\n- 平稳性：\n$$\n\\frac{\\partial \\mathcal{L}}{\\partial t}=40t-12-\\lambda_{1}+\\lambda_{2}=0.\n$$\n- 原始可行性：$0\\le t\\le 1$。\n- 对偶可行性：$\\lambda_{1}\\ge 0$, $\\lambda_{2}\\ge 0$。\n- 互补松弛性：\n$$\n\\lambda_{1}(-t)=0\\quad\\Longleftrightarrow\\quad \\lambda_{1}t=0,\\qquad \\lambda_{2}(t-1)=0.\n$$\n\n首先通过令 $f'(t)=0$ 来找到 $f(t)$ 的无约束极小值点：\n$$\nf'(t)=40t-12=0\\quad\\Longrightarrow\\quad t^{*}=\\frac{12}{40}=\\frac{3}{10}.\n$$\n因为 $t^{*}=\\frac{3}{10}\\in(0,1)$，两个不等式约束都是非激活的（严格不等）：$-t^{*}0$ 和 $t^{*}-10$。根据互补松弛性，这意味着\n$$\n\\lambda_{1}^{*}=0,\\qquad \\lambda_{2}^{*}=0.\n$$\n代入这些值，平稳性条件简化为 $40t-12=0$，从而验证了 $t^{*}=\\frac{3}{10}$。\n\n计算最小平方距离：\n$$\nd_{\\min}^{2}=f\\!\\left(\\frac{3}{10}\\right)=20\\left(\\frac{3}{10}\\right)^{2}-12\\left(\\frac{3}{10}\\right)+26=20\\cdot \\frac{9}{100}-\\frac{36}{10}+26=\\frac{9}{5}-\\frac{18}{5}+26=26-\\frac{9}{5}=\\frac{121}{5}.\n$$\n\n因此，最优元组为 $\\left(d_{\\min}^{2},\\lambda_{1}^{*},\\lambda_{2}^{*}\\right)=\\left(\\frac{121}{5},0,0\\right)$。",
            "answer": "$$\\boxed{\\begin{pmatrix}\\frac{121}{5}  0  0\\end{pmatrix}}$$"
        },
        {
            "introduction": "强对偶性的应用远不止于连续优化问题。这个练习将我们带入离散优化的领域，以经典的 0-1 背包问题为例。虽然整数规划问题通常不满足强对偶性，但其线性规划（LP）松弛的对偶问题却能提供一个强大的工具：计算真实整数解最优值的一个紧密上界。通过这个练习，你将学会如何利用对偶理论为组合优化难题建立界限，这是许多高级算法的基石。",
            "id": "2221817",
            "problem": "一个工程师团队正在为一次深空补给任务编写一个货物装载机器人的程序。该机器人必须将货物装入一个最大载重能力为 $W = 15$ 公斤的容器中。现有四种可用的科学仪器包，每种都有特定的重量和指定的“科学价值”。目标是最大化所装载仪器的总科学价值。由于一件仪器要么完全装入，要么完全不装入，这是一个经典的 0-1 背包问题。\n\n可用的仪器包如下：\n- 包 A：重量 $w_A = 8$ 公斤，科学价值 $v_A = 100$ 单位。\n- 包 B：重量 $w_B = 5$ 公斤，科学价值 $v_B = 60$ 单位。\n- 包 C：重量 $w_C = 6$ 公斤，科学价值 $v_C = 70$ 单位。\n- 包 D：重量 $w_D = 4$ 公斤，科学价值 $v_D = 42$ 单位。\n\n为了快速找到最佳整数解的一个上界，首席分析师决定研究该问题的线性规划（LP）松弛。您的任务是计算与此 0-1 背包问题的 LP 松弛相关联的对偶问题的最优值。请用科学价值单位表示您的答案，并四舍五入到四位有效数字。",
            "solution": "我们首先将 0-1 背包问题的 LP 松弛写为\n$$\n\\max \\sum_{i \\in \\{A,B,C,D\\}} v_{i} x_{i}\n\\quad \\text{subject to} \\quad\n\\sum_{i} w_{i} x_{i} \\leq W,\\quad 0 \\leq x_{i} \\leq 1 \\ \\forall i.\n$$\n为容量约束引入一个对偶变量 $y \\geq 0$，并为上界约束 $x_{i} \\leq 1$ 引入对偶变量 $z_{i} \\geq 0$，则对偶问题为\n$$\n\\min \\ W y + \\sum_{i} z_{i}\n\\quad \\text{subject to} \\quad\nw_{i} y + z_{i} \\geq v_{i} \\ \\forall i,\\quad y \\geq 0,\\ z_{i} \\geq 0.\n$$\n对于固定的 $y$，每个 $z_{i}$ 通过以下方式最小化\n$$\nz_{i} = \\max\\{0,\\, v_{i} - w_{i} y\\},\n$$\n因此对偶问题简化为一个单变量凸规划\n$$\n\\min_{y \\geq 0} \\ f(y) = W y + \\sum_{i} \\max\\{0,\\, v_{i} - w_{i} y\\}.\n$$\n对于给定的数据，\n$$\nW=15,\\quad (w_{A},v_{A})=(8,100),\\ (w_{B},v_{B})=(5,60),\\ (w_{C},v_{C})=(6,70),\\ (w_{D},v_{D})=(4,42).\n$$\n断点出现在比率 $r_{i} = v_{i}/w_{i}$ 处：\n$$\nr_{A}=\\frac{100}{8}=12.5,\\quad r_{B}=\\frac{60}{5}=12,\\quad r_{C}=\\frac{70}{6}=\\frac{35}{3},\\quad r_{D}=\\frac{42}{4}=10.5.\n$$\n我们分段分析 $f(y)$。\n\n1) 对于 $y \\geq 12.5$，所有 $v_{i} - w_{i} y \\leq 0$，因此 $f(y)=15 y$。此区间上的最小值在 $y=12.5$ 处取得，得到 $f=15 \\cdot 12.5=187.5$。\n\n2) 对于 $12 \\leq y  12.5$，只有 $v_{A} - 8 y > 0$。则\n$$\nf(y)=15 y + (100 - 8 y)=7 y + 100,\n$$\n该函数在 $y$ 上是递增的，因此在 $y=12$ 处取得最小值，为 $f=7 \\cdot 12 + 100=184$。\n\n3) 对于 $\\frac{35}{3} \\leq y  12$，我们有 $v_{A} - 8 y > 0$ 和 $v_{B} - 5 y > 0$，其余为非正。则\n$$\nf(y)=15 y + (100 - 8 y) + (60 - 5 y)=2 y + 160,\n$$\n该函数是递增的，因此在 $y=\\frac{35}{3}$ 处取得最小值，为\n$$\nf\\!\\left(\\frac{35}{3}\\right)=2 \\cdot \\frac{35}{3} + 160=\\frac{70}{3} + 160=\\frac{550}{3}.\n$$\n\n4) 对于 $10.5 \\leq y  \\frac{35}{3}$，我们有 $v_{A} - 8 y > 0$、$v_{B} - 5 y > 0$、$v_{C} - 6 y > 0$ 和 $v_{D} - 4 y \\leq 0$。则\n$$\nf(y)=15 y + (100 - 8 y) + (60 - 5 y) + (70 - 6 y) = -4 y + 230,\n$$\n该函数是递减的，因此在右端点 $y=\\frac{35}{3}$ 处取得最小值，得到相同的值 $\\frac{550}{3}$。\n\n5) 对于 $0 \\leq y  10.5$，所有四个残差项均为正，得到\n$$\nf(y)=15 y + (100 - 8 y) + (60 - 5 y) + (70 - 6 y) + (42 - 4 y) = -8 y + 272,\n$$\n该函数随 $y$ 递减，因此在 $y=10.5$ 处取得最小值，为 $f=272 - 8 \\cdot 10.5=188$。\n\n综合所有区间的最小值，全局最小值为\n$$\n\\min_{y \\geq 0} f(y) = \\frac{550}{3} \\approx 183.333\\ldots\n$$\n根据线性规划的强对偶性，这个值等于对偶问题（以及原始 LP 松弛）的最优值。四舍五入到四位有效数字，得到 $183.3$ 科学价值单位。",
            "answer": "$$\\boxed{183.3}$$"
        }
    ]
}