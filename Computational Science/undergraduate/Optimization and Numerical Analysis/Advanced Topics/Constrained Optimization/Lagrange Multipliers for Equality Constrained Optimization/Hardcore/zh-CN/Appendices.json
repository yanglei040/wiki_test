{
    "hands_on_practices": [
        {
            "introduction": "拉格朗日乘数法是解决约束优化问题的强大工具。我们将从一个经典且直观的资源分配问题开始，该问题旨在优化一个系统的性能。在这个练习  中，我们需要在固定的总功耗预算下，将功率分配给芯片的三个子系统，以最大化其性能指标。这个问题将帮助你掌握建立和求解一个典型的拉格朗日乘数法问题的基本步骤，并体会其在对称性问题中的简洁之美。",
            "id": "2183845",
            "problem": "一家科技公司正在设计一款新的处理芯片。该芯片的总功耗预算固定为 $P_{total} = 360$ 瓦特。此功耗必须完全分配给三个主要子系统：中央处理器（CPU）、图形处理器（GPU）和内存控制器。设 $p_{cpu}$、$p_{gpu}$ 和 $p_{mem}$ 分别是分配给CPU、GPU和内存控制器的功耗（单位：瓦特）。这些功耗分配值必须为正值。\n\n芯片的整体性能由一个经验性指标 $M$ 来量化，该指标被建模为三个子系统功耗分配的乘积：$M = p_{cpu} \\cdot p_{gpu} \\cdot p_{mem}$。\n\n该公司希望确定能够最大化此性能指标的功耗分配方案。性能指标 $M$ 的最大可能值是多少？请以瓦特立方（$W^3$）为单位，用一个实数表示你的答案。",
            "solution": "该问题要求我们在总功耗分配的约束下，最大化性能指标函数 $M(p_{cpu}, p_{gpu}, p_{mem}) = p_{cpu} \\cdot p_{gpu} \\cdot p_{mem}$。约束条件是各项功耗分配之和必须等于总功耗预算，可写为方程 $p_{cpu} + p_{gpu} + p_{mem} = P_{total}$，其中 $P_{total} = 360$ 瓦。此外，题目给定 $p_{cpu}  0$，$p_{gpu}  0$ 且 $p_{mem}  0$。\n\n这是一个约束优化问题，可以使用拉格朗日乘数法来解决。首先，我们定义目标函数 $f(p_{cpu}, p_{gpu}, p_{mem}) = p_{cpu} p_{gpu} p_{mem}$ 和约束函数 $g(p_{cpu}, p_{gpu}, p_{mem}) = p_{cpu} + p_{gpu} + p_{mem} - P_{total} = 0$。\n\n拉格朗日函数 $\\mathcal{L}$ 构建为 $\\mathcal{L} = f - \\lambda g$，其中 $\\lambda$ 是拉格朗日乘数：\n$$ \\mathcal{L}(p_{cpu}, p_{gpu}, p_{mem}, \\lambda) = p_{cpu} p_{gpu} p_{mem} - \\lambda(p_{cpu} + p_{gpu} + p_{mem} - P_{total}) $$\n为了找到最大值的候选点，我们对 $\\mathcal{L}$ 关于每个变量（$p_{cpu}, p_{gpu}, p_{mem}, \\lambda$）求偏导数，并令其为零。这得到一个包含四个方程的方程组：\n\n1.  $\\frac{\\partial \\mathcal{L}}{\\partial p_{cpu}} = p_{gpu} p_{mem} - \\lambda = 0 \\implies \\lambda = p_{gpu} p_{mem}$\n2.  $\\frac{\\partial \\mathcal{L}}{\\partial p_{gpu}} = p_{cpu} p_{mem} - \\lambda = 0 \\implies \\lambda = p_{cpu} p_{mem}$\n3.  $\\frac{\\partial \\mathcal{L}}{\\partial p_{mem}} = p_{cpu} p_{gpu} - \\lambda = 0 \\implies \\lambda = p_{cpu} p_{gpu}$\n4.  $\\frac{\\partial \\mathcal{L}}{\\partial \\lambda} = -(p_{cpu} + p_{gpu} + p_{mem} - P_{total}) = 0 \\implies p_{cpu} + p_{gpu} + p_{mem} = P_{total}$\n\n由方程（1）和（2），我们可以令 $\\lambda$ 的表达式相等：\n$p_{gpu} p_{mem} = p_{cpu} p_{mem}$\n因为问题说明功耗分配必须为正，我们知道 $p_{mem}  0$。因此，我们可以将两边同时除以 $p_{mem}$ 得到：\n$p_{gpu} = p_{cpu}$\n\n同理，令方程（2）和（3）相等：\n$p_{cpu} p_{mem} = p_{cpu} p_{gpu}$\n因为 $p_{cpu}$ 也必须为正，我们可以除以 $p_{cpu}$ 得到：\n$p_{mem} = p_{gpu}$\n\n结合这些结果，我们发现要使性能指标达到极值，功耗必须在三个子系统之间平均分配：\n$p_{cpu} = p_{gpu} = p_{mem}$\n\n现在我们使用约束方程（4）来求解这些分配的具体值。将等式代入约束条件：\n$p_{cpu} + p_{cpu} + p_{cpu} = P_{total}$\n$3 p_{cpu} = P_{total}$\n$p_{cpu} = \\frac{P_{total}}{3}$\n\n鉴于总功耗预算为 $P_{total} = 360$ 瓦，每个子系统的最优功耗分配为：\n$p_{cpu} = p_{gpu} = p_{mem} = \\frac{360}{3} = 120 \\text{ W}$\n\n问题要求性能指标 $M$ 的最大可能值。我们将最优功耗值代回 $M$ 的表达式中来求得此值：\n$M_{max} = (120) \\cdot (120) \\cdot (120) = 120^3$\n\n最后，我们计算其数值：\n$M_{max} = 1,728,000$\n\n因此，性能指标 $M$ 的最大可能值为 $1,728,000$ 瓦$^3$。该解对应于一个最大值，因为目标函数 $M$ 在可行域内为正，但在其边界（即任一功耗分配为零时）趋于零，并且我们已经找到了该区域内唯一的临界点。",
            "answer": "$$\\boxed{1728000}$$"
        },
        {
            "introduction": "在掌握了基本方法后，让我们来看一个在工程领域中的实际应用。在物理学和工程学中，许多问题都涉及寻找一个依赖于方向的量的最大值或最小值。这个问题  将带我们进入连续介质力学的世界，去确定材料中的主应力，即法向应力的极值。这个练习展示了拉格朗日乘数法如何被用来解决一个本质上的特征值问题，这是线性代数及其应用的一个基石。",
            "id": "2183834",
            "problem": "在连续介质力学领域，材料内某一点的应力状态由一个应力张量来表征。对于一个二维（平面应力）问题，薄板上某特定点的应力张量分量为 $\\sigma_{xx} = 80.0$ 兆帕 (MPa)，$\\sigma_{yy} = 20.0$ 兆帕 (MPa)，以及 $\\sigma_{xy} = -30.0$ 兆帕 (MPa)。\n\n通过该点的平面上的正应力 $\\sigma_n$ 取决于该平面的方向，该方向可由一个分量为 $(n_x, n_y)$ 的单位法向量 $\\mathbf{n}$ 来定义。正应力的值由以下公式给出：\n$$ \\sigma_n = \\sigma_{xx} n_x^2 + \\sigma_{yy} n_y^2 + 2 \\sigma_{xy} n_x n_y $$\n由于 $\\mathbf{n}$ 是一个单位向量，其分量必须满足条件 $n_x^2 + n_y^2 = 1$。\n\n在所有可能方向上 $\\sigma_n$ 的极值被称为主应力。确定最大主应力 $\\sigma_\\text{max}$ 和最小主应力 $\\sigma_\\text{min}$。\n\n以兆帕（MPa）为单位表示您的答案，并四舍五入到三位有效数字。将这两个值 $\\sigma_\\text{max}$ 和 $\\sigma_\\text{min}$ 按此顺序以行矩阵的形式呈现。",
            "solution": "通过某一点的平面上的正应力极值即为主应力，它们是平面内应力张量的特征值。此问题相当于寻找目标函数 $\\sigma_{n}=\\mathbf{n}^{T}\\boldsymbol{\\sigma}\\mathbf{n}$ 在约束 $\\mathbf{n}^{T}\\mathbf{n}=1$ 下的极值。我们为此约束引入拉格朗日乘子 $\\lambda$，并定义拉格朗日函数 $\\mathcal{L}(\\mathbf{n},\\lambda)=\\mathbf{n}^{T}\\boldsymbol{\\sigma}\\mathbf{n}-\\lambda(\\mathbf{n}^{T}\\mathbf{n}-1)$。关于 $\\mathbf{n}$ 的驻定条件可得：\n$$\n\\frac{\\partial \\mathcal{L}}{\\partial \\mathbf{n}}=2\\boldsymbol{\\sigma}\\mathbf{n}-2\\lambda \\mathbf{n}=\\mathbf{0}\\quad\\Rightarrow\\quad (\\boldsymbol{\\sigma}-\\lambda \\mathbf{I})\\mathbf{n}=\\mathbf{0},\n$$\n因此，为了得到非平凡解，需要满足：\n$$\n\\det(\\boldsymbol{\\sigma}-\\lambda \\mathbf{I})=0.\n$$\n对于给定的具有分量 $\\sigma_{xx}$、$\\sigma_{yy}$ 和 $\\sigma_{xy}$ 的平面应力张量，特征方程为：\n$$\n\\det\\begin{pmatrix}\\sigma_{xx}-\\lambda  \\sigma_{xy}\\\\ \\sigma_{xy}  \\sigma_{yy}-\\lambda\\end{pmatrix}=(\\sigma_{xx}-\\lambda)(\\sigma_{yy}-\\lambda)-\\sigma_{xy}^{2}=0,\n$$\n展开后得到：\n$$\n\\lambda^{2}-(\\sigma_{xx}+\\sigma_{yy})\\lambda+(\\sigma_{xx}\\sigma_{yy}-\\sigma_{xy}^{2})=0.\n$$\n其解（即主应力）为：\n$$\n\\lambda=\\frac{\\sigma_{xx}+\\sigma_{yy}}{2}\\pm \\sqrt{\\left(\\frac{\\sigma_{xx}-\\sigma_{yy}}{2}\\right)^{2}+\\sigma_{xy}^{2}}.\n$$\n代入 $\\sigma_{xx}=80.0$、$\\sigma_{yy}=20.0$ 和 $\\sigma_{xy}=-30.0$（单位：MPa），我们有：\n$$\n\\frac{\\sigma_{xx}+\\sigma_{yy}}{2}=50.0,\\qquad \\left(\\frac{\\sigma_{xx}-\\sigma_{yy}}{2}\\right)^{2}=30^{2}=900,\\qquad \\sigma_{xy}^{2}=900,\n$$\n所以根号项为：\n$$\n\\sqrt{\\left(\\frac{\\sigma_{xx}-\\sigma_{yy}}{2}\\right)^{2}+\\sigma_{xy}^{2}}=\\sqrt{1800}=30\\sqrt{2}.\n$$\n因此，主应力为：\n$$\n\\sigma_{\\max}=50+30\\sqrt{2},\\qquad \\sigma_{\\min}=50-30\\sqrt{2}.\n$$\n数值上（单位：MPa）取三位有效数字，\n$$\n\\sigma_{\\max}\\approx 92.4,\\qquad \\sigma_{\\min}\\approx 7.57.\n$$",
            "answer": "$$\\boxed{\\begin{pmatrix} 92.4  7.57 \\end{pmatrix}}$$"
        },
        {
            "introduction": "最后，我们将通过一个更具挑战性的问题来展示拉格朗日乘数法在物理或几何空间之外的抽象能力和通用性。这个问题  源于统计推断领域：如何根据新的证据（由均值和方差约束给出）来更新我们的先验信念（一个概率分布）。我们的目标是找到一个与初始假设“最接近”的新分布，这个概念在信息论和机器学习中至关重要。这个练习将让你在一个非空间背景下，应用该方法处理多个约束，从而深化你对这一工具的理解。",
            "id": "2183898",
            "problem": "一位数据科学家正在为一个产品建立用户偏好模型，该产品有五种不同的包装。这些包装在一个数值尺度上进行评分，可能的分数值集合为 $\\{x_1, x_2, x_3, x_4, x_5\\} = \\{-2, -1, 0, 1, 2\\}$。最初，在没有任何数据的情况下，该数据科学家假设每种包装被偏好的可能性相同，这对应于每个分数 $x_i$ 的离散均匀概率分布 $q_i = 1/5$。\n\n一项新的市场调查提供了关于用户群的关键信息。调查结果表明，被偏好包装的平均分是 $\\mu_0 = 0.5$，分数的方差是 $\\sigma_0^2 = 1.5$。\n\n为了更新模型，该数据科学家决定寻找一个新的概率分布 $P = \\{p_1, p_2, p_3, p_4, p_5\\}$，该分布满足实验确定的均值和方差，同时尽可能接近原始的均匀分布假设。“接近度”通过最小化新分布 $P$ 和均匀分布 $Q = \\{q_1, ..., q_5\\}$ 之间的平方欧几里得距离来衡量，该距离由目标函数 $D(P, Q) = \\sum_{i=1}^{5} (p_i - q_i)^2$ 给出。\n\n你的任务是确定更新后的概率 $p_1$，即一个随机选择的用户偏好分数为 $x_1 = -2$ 的包装的概率。将你的最终答案四舍五入到三位有效数字。",
            "solution": "我们的目标是在满足均值和方差约束的条件下，在离散支撑集 $\\{-2,-1,0,1,2\\}$ 上，最小化与均匀先验分布 $q_i=1/5$ 的平方欧几里得距离。约束条件是：\n$$\n\\sum_{i=1}^{5} p_{i} = 1,\\qquad \\sum_{i=1}^{5} x_{i} p_{i} = \\mu_{0} = \\frac{1}{2},\\qquad \\sum_{i=1}^{5} x_{i}^{2} p_{i} = \\sigma_{0}^{2} + \\mu_{0}^{2} = \\frac{3}{2} + \\frac{1}{4} = \\frac{7}{4}.\n$$\n为最小化 $D(P,Q) = \\sum_{i=1}^{5} (p_{i} - \\frac{1}{5})^{2}$，我们使用乘子 $\\lambda_{0},\\lambda_{1},\\lambda_{2}$ 建立拉格朗日函数：\n$$\n\\mathcal{L} = \\sum_{i=1}^{5} \\left(p_{i} - \\frac{1}{5}\\right)^{2} + \\lambda_{0}\\left(\\sum_{i=1}^{5} p_{i} - 1\\right) + \\lambda_{1}\\left(\\sum_{i=1}^{5} x_{i} p_{i} - \\frac{1}{2}\\right) + \\lambda_{2}\\left(\\sum_{i=1}^{5} x_{i}^{2} p_{i} - \\frac{7}{4}\\right).\n$$\n关于 $p_{i}$ 的一阶最优性条件给出：\n$$\n\\frac{\\partial \\mathcal{L}}{\\partial p_{i}} = 2\\left(p_{i} - \\frac{1}{5}\\right) + \\lambda_{0} + \\lambda_{1} x_{i} + \\lambda_{2} x_{i}^{2} = 0,\n$$\n所以\n$$\np_{i} = \\frac{1}{5} - \\frac{1}{2}\\left(\\lambda_{0} + \\lambda_{1} x_{i} + \\lambda_{2} x_{i}^{2}\\right).\n$$\n我们现在使用约束条件和在 $\\{-2,-1,0,1,2\\}$ 上的求和来确定 $\\lambda_{0},\\lambda_{1},\\lambda_{2}$。首先计算所需的各次幂的和：\n$$\n\\sum_{i=1}^{5} 1 = 5,\\quad \\sum_{i=1}^{5} x_{i} = 0,\\quad \\sum_{i=1}^{5} x_{i}^{2} = 10,\\quad \\sum_{i=1}^{5} x_{i}^{3} = 0,\\quad \\sum_{i=1}^{5} x_{i}^{4} = 34.\n$$\n应用 $\\sum p_{i} = 1$：\n$$\n\\sum_{i=1}^{5} p_{i} = \\sum_{i=1}^{5} \\frac{1}{5} - \\frac{1}{2}\\left(5\\lambda_{0} + \\lambda_{1}\\sum x_{i} + \\lambda_{2}\\sum x_{i}^{2}\\right) = 1 - \\frac{1}{2}\\left(5\\lambda_{0} + 0 + 10\\lambda_{2}\\right) = 1,\n$$\n这得出\n$$\n5\\lambda_{0} + 10\\lambda_{2} = 0.\n$$\n应用 $\\sum x_{i} p_{i} = \\frac{1}{2}$：\n$$\n\\sum_{i=1}^{5} x_{i} p_{i} = \\sum_{i=1}^{5} x_{i}\\cdot \\frac{1}{5} - \\frac{1}{2}\\left(\\lambda_{0}\\sum x_{i} + \\lambda_{1}\\sum x_{i}^{2} + \\lambda_{2}\\sum x_{i}^{3}\\right) = 0 - \\frac{1}{2}\\left(0 + 10\\lambda_{1} + 0\\right) = \\frac{1}{2},\n$$\n所以\n$$\n-5\\lambda_{1} = \\frac{1}{2}\\quad\\Rightarrow\\quad \\lambda_{1} = -\\frac{1}{10}.\n$$\n应用 $\\sum x_{i}^{2} p_{i} = \\frac{7}{4}$：\n$$\n\\sum_{i=1}^{5} x_{i}^{2} p_{i} = \\sum_{i=1}^{5} x_{i}^{2}\\cdot \\frac{1}{5} - \\frac{1}{2}\\left(\\lambda_{0}\\sum x_{i}^{2} + \\lambda_{1}\\sum x_{i}^{3} + \\lambda_{2}\\sum x_{i}^{4}\\right) = 2 - \\frac{1}{2}\\left(10\\lambda_{0} + 0 + 34\\lambda_{2}\\right) = \\frac{7}{4},\n$$\n因此\n$$\n10\\lambda_{0} + 34\\lambda_{2} = \\frac{1}{2}.\n$$\n结合 $5\\lambda_{0} + 10\\lambda_{2} = 0$，我们求解 $\\lambda_{0},\\lambda_{2}$。从 $5\\lambda_{0} + 10\\lambda_{2} = 0$ 我们得到 $\\lambda_{0} = -2\\lambda_{2}$。代入 $10\\lambda_{0} + 34\\lambda_{2} = \\frac{1}{2}$ 得到\n$$\n10(-2\\lambda_{2}) + 34\\lambda_{2} = \\frac{1}{2}\\quad\\Rightarrow\\quad 14\\lambda_{2} = \\frac{1}{2}\\quad\\Rightarrow\\quad \\lambda_{2} = \\frac{1}{28},\\quad \\lambda_{0} = -\\frac{1}{14}.\n$$\n因此\n$$\np_{i} = \\frac{1}{5} - \\frac{1}{2}\\left(-\\frac{1}{14} - \\frac{1}{10}x_{i} + \\frac{1}{28}x_{i}^{2}\\right) = \\frac{1}{5} + \\frac{1}{28} + \\frac{1}{20}x_{i} - \\frac{1}{56}x_{i}^{2}.\n$$\n对于 $x_{1} = -2$，\n$$\np_{1} = \\frac{1}{5} + \\frac{1}{28} + \\frac{1}{20}(-2) - \\frac{1}{56}(-2)^{2} = \\frac{1}{5} + \\frac{1}{28} - \\frac{1}{10} - \\frac{1}{14} = \\frac{9}{140}.\n$$\n因此 $p_{1} = \\frac{9}{140} \\approx 0.0642857\\ldots$，四舍五入到三位有效数字为 $0.0643$。",
            "answer": "$$\\boxed{0.0643}$$"
        }
    ]
}