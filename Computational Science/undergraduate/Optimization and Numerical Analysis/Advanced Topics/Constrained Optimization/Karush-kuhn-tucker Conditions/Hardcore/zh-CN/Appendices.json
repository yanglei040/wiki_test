{
    "hands_on_practices": [
        {
            "introduction": "掌握KKT条件的第一步是能够有条不紊地验证它们。这个练习提供了一个具体的优化问题和一个候选点，要求你逐一检查四个KKT条件：平稳性、原始可行性、对偶可行性和互补松弛性。通过这个基础练习 ，你将熟悉KKT条件在实践中的应用方式，并学会如何判断一个点是否为潜在的最优解。",
            "id": "2183108",
            "problem": "考虑以下优化问题：\n最小化函数 $f(x, y) = (x - 4)^{2} + (y - 3)^{2}$，并满足不等式约束 $g(x, y) = x^{2} + 2y - 6 \\le 0$。\n\n对于此形式的约束优化问题（最小化 $f(\\mathbf{x})$，满足 $g_i(\\mathbf{x}) \\le 0$），一个点若要成为潜在的局部最小值，必须满足 Karush-Kuhn-Tucker (KKT) 条件。对于这个带有一个约束的特定问题，点 $(x, y)$ 的 KKT 条件如下：\n\n1.  **平稳性 (Stationarity)**：存在一个拉格朗日乘子 $\\mu$ 使得 $\\nabla f(x, y) + \\mu \\nabla g(x, y) = \\mathbf{0}$。\n2.  **原始可行性 (Primal Feasibility)**：$g(x, y) \\le 0$。\n3.  **对偶可行性 (Dual Feasibility)**：拉格朗日乘子 $\\mu \\ge 0$。\n4.  **互补松弛性 (Complementary Slackness)**：$\\mu \\, g(x, y) = 0$。\n\n通过检查所有四个 KKT 条件来分析点 $(x_0, y_0) = (2, 1)$。根据您的分析，从以下选项中选择正确的陈述。\n\nA. 所有四个 KKT 条件都满足，所以该点是一个 KKT 点。\n\nB. 平稳性条件不满足，因为不存在一个一致的拉格朗日乘子。因此，该点不是一个 KKT 点。\n\nC. 对偶可行性条件不满足，因为所需的拉格朗日乘子为负。因此，该点不是一个 KKT 点。\n\nD. 互补松弛性条件不满足。因此，该点不是一个 KKT 点。\n\nE. 原始可行性条件不满足。因此，该点不是一个 KKT 点。",
            "solution": "给定函数 $f(x,y)=(x-4)^{2}+(y-3)^{2}$ 和约束 $g(x,y)=x^{2}+2y-6\\le 0$。对于点 $(x_{0},y_{0})=(2,1)$，我们检查 KKT 条件。\n\n计算梯度：\n$$\n\\nabla f(x,y)=\\left(2(x-4),\\,2(y-3)\\right),\\quad \\nabla g(x,y)=\\left(2x,\\,2\\right).\n$$\n在点 $(2,1)$ 处，\n$$\n\\nabla f(2,1)=(-4,\\,-4),\\quad \\nabla g(2,1)=(4,\\,2).\n$$\n\n平稳性条件要求存在 $\\mu$ 使得\n$$\n\\nabla f(2,1)+\\mu\\,\\nabla g(2,1)=(0,0),\n$$\n这给出了线性方程组\n$$\n-4+4\\mu=0,\\qquad -4+2\\mu=0.\n$$\n从第一个方程得到 $\\mu=1$。从第二个方程得到 $\\mu=2$。这不一致，所以不存在 $\\mu$ 满足平稳性条件。因此，平稳性条件不满足。\n\n原始可行性要求 $g(2,1)\\le 0$。计算：\n$$\ng(2,1)=2^{2}+2\\cdot 1-6=4+2-6=0\\le 0,\n$$\n所以原始可行性成立。\n\n对偶可行性要求 $\\mu\\ge 0$。由于不存在 $\\mu$ 满足平稳性条件，因此没有一致的乘子可供检验；失败的原因是平稳性，而不是 $\\mu$ 的符号。\n\n互补松弛性要求 $\\mu\\,g(2,1)=0$。由于 $g(2,1)=0$，这个条件对任何 $\\mu$ 都成立；因此互补松弛性得到满足。\n\n结论：该点因不存在一个一致的拉格朗日乘子而未能满足平稳性条件。正确选项是 B。",
            "answer": "$$\\boxed{B}$$"
        },
        {
            "introduction": "拉格朗日乘子不仅仅是一个数学工具，它还具有深刻的含义。这个练习  通过一个可变参数揭示了当约束条件从“非激活”变为“激活”时，最优解和拉格朗日乘子 $ \\mu $ 如何变化。这有助于你理解互补松弛性条件的本质，以及为什么乘子可以被看作是约束的“影子价格”。",
            "id": "2183096",
            "problem": "一个工业过程旨在设定一个操作参数 $x$，使其与目标值 $a$ 相匹配。与该目标值的偏差所带来的成本由函数 $f(x) = (x-a)^2$ 建模。然而，由于安全规定，参数 $x$ 受到不等式 $x \\le 1$ 的约束。\n\n我们的任务是找到最优的操作参数 $x$，在满足安全规定的前提下，使成本函数最小化。这可以表述为以下约束优化问题：\n$$ \\text{最小化} \\quad f(x) = (x-a)^2 $$\n$$ \\text{满足约束} \\quad g(x) = x-1 \\le 0 $$\n\n使用拉格朗日乘子法，我们可以通过 Karush-Kuhn-Tucker (KKT) 条件来分析此问题。考虑目标值为 $a = 4$ 的具体情况。求在最优解处，与不等式约束相关的拉格朗日乘子 $\\mu$ 的值。",
            "solution": "我们最小化 $f(x)=(x-a)^{2}$，约束条件为 $g(x)=x-1\\le 0$。拉格朗日函数为\n$$\n\\mathcal{L}(x,\\mu)=(x-a)^{2}+\\mu(x-1),\n$$\n其 KKT 条件为：\n- 原始可行性 (Primal feasibility)：$x-1\\le 0$。\n- 对偶可行性 (Dual feasibility)：$\\mu\\ge 0$。\n- 互补松弛性 (Complementary slackness)：$\\mu(x-1)=0$。\n- 平稳性 (Stationarity)：$\\frac{\\partial \\mathcal{L}}{\\partial x}=2(x-a)+\\mu=0$。\n\n设 $a=4$。无约束最小化解为 $x=4$，这违反了 $x\\le 1$，因此最优解位于激活约束 (active constraint) $x^{\\star}=1$ 上。根据互补松弛性，当 $x-1=0$ 时，$\\mu$ 可以为正。在 $x^{\\star}=1$ 处应用平稳性条件：\n$$\n2(1-4)+\\mu=0 \\;\\;\\Rightarrow\\;\\; -6+\\mu=0 \\;\\;\\Rightarrow\\;\\; \\mu=6.\n$$\n这满足对偶可行性 $\\mu\\ge 0$。由于该问题是凸问题且 Slater 条件成立（例如，$x=0$ 是严格可行的），这些 KKT 条件是必要且充分的，因此最优解处的拉格朗日乘子为 $\\mu=6$。",
            "answer": "$$\\boxed{6}$$"
        },
        {
            "introduction": "KKT条件不仅是代数规则，它们也蕴含着清晰的几何直觉。这个练习  要求你找到一个点到可行域的最近点，这在几何上等同于将该点投影到可行集上。通过解决这个问题，你将看到KKT条件如何精确地描述了在最优点处，目标函数的梯度与约束边界法向量之间的关系。",
            "id": "2183125",
            "problem": "考虑函数 $f(x,y) = (x-2)^2 + (y-2)^2$。设 $P_u = (x_u, y_u)$ 为该函数在笛卡尔平面上达到其无约束全局最小值的点。设 $P_c = (x_c, y_c)$ 为同一函数 $f(x,y)$ 在不等式约束 $x + y \\le 1$ 下达到其最小值的点。\n\n确定点 $P_u$ 和 $P_c$ 之间的欧几里得距离。请以精确的解析表达式给出你的答案。",
            "solution": "我们首先确定 $f(x,y)=(x-2)^{2}+(y-2)^{2}$ 的无约束全局最小值点。由于 $f$ 是严格凸函数，无约束最小值点 $P_{u}=(x_{u},y_{u})$ 可以通过将其梯度设为零来找到：\n$$\n\\frac{\\partial f}{\\partial x}=2(x-2)=0 \\quad\\Rightarrow\\quad x_{u}=2, \\qquad \\frac{\\partial f}{\\partial y}=2(y-2)=0 \\quad\\Rightarrow\\quad y_{u}=2.\n$$\n因此 $P_{u}=(2,2)$。\n\n对于有约束问题，我们在 $x+y\\leq 1$ 的约束下最小化 $f(x,y)$。由于 $f(x,y)$ 是点 $(x,y)$ 到 $(2,2)$ 的欧几里得距离的平方，有约束最小值点 $P_{c}$ 是 $(2,2)$ 在闭半平面 $\\{(x,y):x+y\\leq 1\\}$ 上的投影。因为 $2+2=41$，所以投影点位于边界线 $x+y=1$ 上。\n\n使用拉格朗日乘数法将 $(2,2)$ 投影到 $x+y=1$ 上。定义拉格朗日函数\n$$\n\\mathcal{L}(x,y,\\lambda)=(x-2)^{2}+(y-2)^{2}+\\lambda(x+y-1).\n$$\n平稳性条件给出\n$$\n\\frac{\\partial \\mathcal{L}}{\\partial x}=2(x-2)+\\lambda=0 \\quad\\Rightarrow\\quad x=2-\\frac{\\lambda}{2}, \\qquad \\frac{\\partial \\mathcal{L}}{\\partial y}=2(y-2)+\\lambda=0 \\quad\\Rightarrow\\quad y=2-\\frac{\\lambda}{2}.\n$$\n代入约束条件 $x+y=1$ 可得\n$$\n\\left(2-\\frac{\\lambda}{2}\\right)+\\left(2-\\frac{\\lambda}{2}\\right)=1 \\quad\\Rightarrow\\quad 4-\\lambda=1 \\quad\\Rightarrow\\quad \\lambda=3.\n$$\n因此\n$$\nx_{c}=y_{c}=2-\\frac{3}{2}=\\frac{1}{2}, \\quad \\text{所以} \\quad P_{c}=\\left(\\frac{1}{2},\\frac{1}{2}\\right).\n$$\n\n$P_{u}$ 和 $P_{c}$ 之间的欧几里得距离为\n$$\nd=\\sqrt{\\left(2-\\frac{1}{2}\\right)^{2}+\\left(2-\\frac{1}{2}\\right)^{2}}=\\sqrt{\\frac{9}{4}+\\frac{9}{4}}=\\sqrt{\\frac{9}{2}}=\\frac{3}{\\sqrt{2}}=\\frac{3\\sqrt{2}}{2}.\n$$",
            "answer": "$$\\boxed{\\frac{3\\sqrt{2}}{2}}$$"
        }
    ]
}