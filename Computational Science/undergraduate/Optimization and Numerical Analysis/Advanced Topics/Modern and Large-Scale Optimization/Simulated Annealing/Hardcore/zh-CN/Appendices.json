{
    "hands_on_practices": [
        {
            "introduction": "模拟退火算法的核心是在一个巨大的“解空间”中进行探索。但在我们开始探索之前，必须首先定义“一步”的含义——即从当前解如何移动到相邻的解。这正是“邻域函数”的作用。本练习  将以经典的旅行商问题（TSP）为背景，帮助你具体地理解和构建一个状态的邻域，这是掌握模拟退火算法结构的第一步。",
            "id": "2202549",
            "problem": "在优化领域，模拟退火（SA）是一种用于寻找给定函数的近似全局最优解的概率性技术。考虑其在旅行商问题（TSP）简化版本中的应用，其目标是找到一条访问一系列城市并返回起始城市的最短可能路径。\n\n在此背景下，一个“状态”被定义为一个特定的巡回路径，表示为待访问城市的一个有序列表（一个排列）。一个算法正在探索一个包含五个不同城市（标记为 C1, C2, C3, C4, C5）的问题的解空间。\n\n在某一步，算法处于当前状态 $S = [\\text{C1, C2, C3, C4, C5}]$。为了生成候选移动，该算法定义了当前状态的一个“邻域”。对于这个特定的实现，邻域函数定义如下：一个新状态在 $S$ 的邻域内，当且仅当它可以通过交换表示 $S$ 的列表中的恰好一对相邻城市来获得。\n\n下列哪个集合正确且完整地表示了状态 $S$ 的邻域？\n\nA. $\\{[\\text{C2, C1, C3, C4, C5}], [\\text{C1, C3, C2, C4, C5}], [\\text{C1, C2, C4, C3, C5}], [\\text{C1, C2, C3, C5, C4}]\\}$\n\nB. $\\{[\\text{C5, C2, C3, C4, C1}], [\\text{C1, C4, C3, C2, C5}], [\\text{C1, C2, C5, C4, C3}]\\}$\n\nC. $\\{[\\text{C2, C1, C3, C4, C5}], [\\text{C1, C3, C2, C4, C5}], [\\text{C1, C2, C4, C3, C5}]\\}$\n\nD. $\\{[\\text{C2, C1, C3, C4, C5}], [\\text{C1, C3, C2, C4, C5}], [\\text{C1, C2, C4, C3, C5}], [\\text{C1, C2, C3, C5, C4}], [\\text{C1, C2, C3, C4, C5}]\\}$\n\nE. $\\{[\\text{C3, C2, C1, C4, C5}], [\\text{C1, C4, C3, C2, C5}], [\\text{C1, C2, C5, C4, C3}], [\\text{C5, C2, C3, C4, C1}]\\}$",
            "solution": "我们给定了当前状态 $S = [\\text{C1, C2, C3, C4, C5}]$ 以及一个通过交换恰好一对相邻城市来定义的邻域。在一个长度为 $n$ 的列表中，有 $n-1$ 对相邻城市；这里 $n=5$，所以有 $5-1=4$ 对相邻城市：$(\\text{C1, C2})$, $(\\text{C2, C3})$, $(\\text{C3, C4})$, 和 $(\\text{C4, C5})$。\n\n将每对相邻城市交换恰好一次，会产生以下不同的邻域状态：\n- 交换 $\\text{C1}$ 和 $\\text{C2}$：$[\\text{C2, C1, C3, C4, C5}]$。\n- 交换 $\\text{C2}$ 和 $\\text{C3}$：$[\\text{C1, C3, C2, C4, C5}]$。\n- 交换 $\\text{C3}$ 和 $\\text{C4}$：$[\\text{C1, C2, C4, C3, C5}]$。\n- 交换 $\\text{C4}$ 和 $\\text{C5}$：$[\\text{C1, C2, C3, C5, C4}]$。\n\n因此，邻域恰好由这四个状态组成。与选项比较：\n- A 列出了恰好这四个状态。\n- C 遗漏了 $[\\text{C1, C2, C3, C5, C4}]$。\n- D 错误地包含了原始状态，这需要零次交换，违反了“恰好一次”的条件。\n- B 和 E 包含了无法通过单次相邻交换获得的状态。\n\n因此，正确且完整的集合由选项 A 给出。",
            "answer": "$$\\boxed{A}$$"
        },
        {
            "introduction": "模拟退火的精髓在于其概率性地接受“更差”解的能力，从而有机会跳出局部最优，寻找全局最优。这个过程由关键参数“温度”$T$ 控制。本练习  将让你量化地分析温度变化如何直接影响接受概率，从而加深你对温度在算法初期促进广泛探索、后期帮助稳定收敛这一核心机制的直观理解。",
            "id": "2202501",
            "problem": "一位工程师正在使用一种计算优化算法来确定电路板上元件的最优布局。任何给定布局的质量由一个成本函数 $E$ 来量化，其中较低的成本代表更好的设计。该算法通过迭代地对布局提出微小改变来进行。如果一个提议的改变降低了成本，它总是被接受。然而，为了避免陷入次优解，该算法有时可以接受一个增加成本的改变。\n\n接受一个使成本增加量为 $\\Delta E  0$ 的“更差”移动的概率 $P$ 由以下关系决定：\n$$\nP = \\exp\\left(-\\frac{\\Delta E}{T}\\right)\n$$\n其中 $T$ 是一个称为“计算温度”的正控制参数。\n\n在一个优化过程中，该算法考虑一个特定的布局修改，已知该修改会使成本函数增加 $\\Delta E = 12.5$ 个单位。在算法的一个版本中，此阶段的计算温度设置为 $T_1 = 25.0$。在第二个更具探索性的版本中，同一阶段的温度设置得更高，为 $T_2 = 40.0$。\n\n当计算温度从 $T_1$ 增加到 $T_2$ 时，接受这个特定有害移动的概率乘以了多少倍？请以四舍五入到三位有效数字的数值形式提供您的答案。",
            "solution": "接受一个有害移动的概率由 $P = \\exp\\left(-\\frac{\\Delta E}{T}\\right)$ 给出。设 $P_{1}$ 是温度为 $T_{1}$ 时的概率， $P_{2}$ 是温度为 $T_{2}$ 时的概率。当温度从 $T_{1}$ 增加到 $T_{2}$ 时，概率所乘的因子是\n$$\n\\frac{P_{2}}{P_{1}}=\\frac{\\exp\\left(-\\frac{\\Delta E}{T_{2}}\\right)}{\\exp\\left(-\\frac{\\Delta E}{T_{1}}\\right)}=\\exp\\left(-\\frac{\\Delta E}{T_{2}}+\\frac{\\Delta E}{T_{1}}\\right)=\\exp\\left(\\Delta E\\left(\\frac{1}{T_{1}}-\\frac{1}{T_{2}}\\right)\\right).\n$$\n代入 $\\Delta E=12.5$，$T_{1}=25.0$ 和 $T_{2}=40.0$：\n$$\n\\frac{P_{2}}{P_{1}}=\\exp\\left(12.5\\left(\\frac{1}{25.0}-\\frac{1}{40.0}\\right)\\right)=\\exp\\left(12.5\\left(0.04-0.025\\right)\\right)=\\exp\\left(12.5\\times 0.015\\right)=\\exp(0.1875).\n$$\n数值上，\n$$\n\\exp(0.1875)\\approx 1.20623,\n$$\n保留三位有效数字为 $1.21$。",
            "answer": "$$\\boxed{1.21}$$"
        },
        {
            "introduction": "在实际应用模拟退火算法时，一个常见的挑战是：“初始温度 $T_0$ 应该设为多少？”一个过高或过低的初始温度都可能影响算法的效率和效果。本练习  从理论转向实际操作，介绍了一种设置初始温度的常用启发式方法。通过分析一次“随机游走”的统计数据，你将学会如何估算一个合理的初始温度，以确保算法在开始阶段有足够的探索能力。",
            "id": "2202487",
            "problem": "在利用模拟退火进行优化的背景下，选择一个合适的初始温度 $T_0$ 至关重要。一种常见的启发式方法是，选择一个 $T_0$ ，使得能量增加的移动（上山移动）的平均接受概率很高，例如，在80%左右。这能确保系统在模拟开始时可以自由地探索搜索空间。\n\n一位工程师正试图最小化一个能量函数 $E(x)$。为了设置初始温度，他们进行了一次包含大量提议移动的初步随机游走。对于每一次从状态 $x$ 到新状态 $x'$ 的提议移动，都会计算能量变化 $\\Delta E = E(x') - E(x)$。\n\n预运行分析得到了能量增加（$\\Delta E  0$）的移动的以下统计数据：\n- 观测到的上山移动总数为 $M = 2500$。\n- 所有正能量变化的总和为 $\\sum_{\\Delta E  0} \\Delta E = 582.5$（单位为任意能量单位）。\n\n上山移动的接受概率由Metropolis准则给出，$P(\\text{接受}) = \\exp(-\\Delta E / T)$，其中 $T$ 是温度。\n\n您的任务是确定所需的初始温度 $T_0$，以使这些上山移动的目标平均接受概率达到 $P_{\\text{目标}} = 0.8$。要做到这一点，您必须使用一个近似方法，即指数概率的平均值可以用平均能量变化的指数来估计。也就是说，用 $\\exp(-\\overline{\\Delta E}/T_0)$ 来近似 $\\frac{1}{M}\\sum_{j=1}^{M} \\exp(-\\Delta E_j/T_0)$，其中 $\\overline{\\Delta E}$ 是上山移动的平均能量变化。\n\n用相同的任意能量单位计算 $T_0$ 的值。将您的最终答案四舍五入到三位有效数字。",
            "solution": "我们用 $M$ 表示观测到的上山移动次数，用 $\\{\\Delta E_{j}\\}_{j=1}^{M}$ 表示其对应的正能量增量。上山移动变化的样本均值为\n$$\n\\overline{\\Delta E}=\\frac{1}{M}\\sum_{j=1}^{M}\\Delta E_{j}=\\frac{582.5}{2500}=\\frac{233}{1000}=0.233.\n$$\n根据Metropolis准则，使用所述的平均接受概率近似方法，\n$$\n\\frac{1}{M}\\sum_{j=1}^{M}\\exp\\!\\left(-\\frac{\\Delta E_{j}}{T_{0}}\\right)\\approx \\exp\\!\\left(-\\frac{\\overline{\\Delta E}}{T_{0}}\\right),\n$$\n并设目标概率 $P_{\\text{目标}}=0.8$，我们得到\n$$\n\\exp\\!\\left(-\\frac{\\overline{\\Delta E}}{T_{0}}\\right)=0.8.\n$$\n对两边取自然对数，得到\n$$\n-\\frac{\\overline{\\Delta E}}{T_{0}}=\\ln(0.8),\n$$\n所以\n$$\nT_{0}=-\\frac{\\overline{\\Delta E}}{\\ln(0.8)}=\\frac{\\overline{\\Delta E}}{-\\ln(0.8)}.\n$$\n代入 $\\overline{\\Delta E}=0.233$ 得\n$$\nT_{0}=\\frac{0.233}{-\\ln(0.8)}\\approx \\frac{0.233}{0.223143551}\\approx 1.044\\ldots\n$$\n四舍五入到三位有效数字，得到 $T_{0}\\approx 1.04$。",
            "answer": "$$\\boxed{1.04}$$"
        }
    ]
}