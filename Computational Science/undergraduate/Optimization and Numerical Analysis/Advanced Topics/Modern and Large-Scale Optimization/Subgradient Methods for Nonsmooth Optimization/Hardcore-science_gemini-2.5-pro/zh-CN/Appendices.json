{
    "hands_on_practices": [
        {
            "introduction": "这个首个练习使用最简单的非光滑函数——绝对值函数，来介绍次梯度方法的基本更新步骤。通过使用一个较大的步长，该问题揭示了此方法一个关键且常常与直觉相悖的特性：它并非一种“下降”方法，即一次迭代并不保证函数值会减小。理解这一行为是掌握次梯度优化本质的关键。",
            "id": "2207140",
            "problem": "考虑使用次梯度法最小化非光滑凸函数 $f(x) = |x|$ 的问题。次梯度法的迭代更新规则由 $x_{k+1} = x_k - \\alpha_k g_k$ 给出，其中 $x_k$ 是第 $k$ 步的迭代点，$\\alpha_k$ 是步长，而 $g_k$ 是函数 $f$ 在点 $x_k$ 处的一个次梯度。对于函数 $f(x)=|x|$，在任意点 $x \\neq 0$ 处，一个有效的次梯度由 $g = \\operatorname{sign}(x)$ 给出，其中 $\\operatorname{sign}(x)$ 是符号函数，当 $x0$ 时返回 $1$，当 $x0$ 时返回 $-1$。\n\n假设我们从点 $x_0 = 5$ 开始迭代，并对所有步骤使用恒定步长 $\\alpha_k = \\alpha = 10$。\n\n计算下一个迭代点 $x_1$ 的值。",
            "solution": "我们使用次梯度法最小化凸非光滑函数 $f(x)=|x|$，其更新规则为\n$$\nx_{k+1} = x_{k} - \\alpha_{k} g_{k},\n$$\n其中 $g_{k} \\in \\partial f(x_{k})$ 是 $f$ 在 $x_{k}$ 处的一个次梯度。对于 $f(x)=|x|$ 和任意 $x \\neq 0$，一个有效的次梯度是 $g=\\operatorname{sign}(x)$，其中如果 $x0$，则 $\\operatorname{sign}(x)=1$；如果 $x0$，则 $\\operatorname{sign}(x)=-1$。\n\n给定 $x_{0}=5$ 和恒定步长 $\\alpha_{k}=\\alpha=10$，我们计算在 $x_{0}$ 处的次梯度：\n$$\ng_{0}=\\operatorname{sign}(x_{0})=\\operatorname{sign}(5)=1.\n$$\n应用更新规则，\n$$\nx_{1}=x_{0}-\\alpha g_{0}=5-10\\cdot 1=-5.\n$$\n因此，下一个迭代点是 $x_{1}=-5$。",
            "answer": "$$\\boxed{-5}$$"
        },
        {
            "introduction": "在基本更新法则的基础上，本练习将探讨在函数的“扭结”点或不可微点会发生什么。对于 $L_1$ 范数函数，您将看到次梯度不是一个单一向量，而是一个可能向量的集合，称为次微分。这个练习  展示了从这个集合中选择不同的有效次梯度如何导致不同的优化路径，这是非光滑优化区别于光滑优化的一个核心概念。",
            "id": "2207146",
            "problem": "考虑在 $\\mathbb{R}^2$ 中使用次梯度法最小化 $L_1$ 范数函数 $f(x_1, x_2) = |x_1| + |x_2|$ 的问题。次梯度法的迭代更新规则如下：\n$$x_{k+1} = x_k - \\alpha_k g_k$$\n其中 $x_k$ 是当前迭代点，$\\alpha_k  0$ 是步长，$g_k$ 是函数 $f$ 在 $x_k$ 处的一个次梯度。\n\n$L_1$范数的所有次梯度的集合，称为次微分 $\\partial f(x)$，定义如下：若向量 $g = (g_1, g_2)$ 的各分量满足以下条件，则该向量是函数 $f(x_1, x_2) = |x_1| + |x_2|$ 在点 $x = (x_1, x_2)$ 处的一个次梯度：\n$$ g_i = \\begin{cases} \\operatorname{sign}(x_i)  \\text{若 } x_i \\neq 0 \\\\ v_i  \\text{若 } x_i = 0 \\end{cases} $$\n其中 $\\operatorname{sign}(\\cdot)$ 为符号函数，且对于任何满足 $x_i = 0$ 的分量 $i$，$v_i$ 可以是区间 $[-1, 1]$ 中的任意值。\n\n假设我们从点 $x_0 = (1, 0)$ 出发，并采用固定步长 $\\alpha_0 = 0.5$。由于 $x_0$ 的第二个分量为零，因此在该点的次梯度不唯一。\n\n我们考虑在 $x_0$ 处的两个不同的有效次梯度。\n首先，选择次梯度 $g^{(a)}$，其中对应于 $x_0$ 零坐标的分量取其允许区间内的最小值。\n其次，选择次梯度 $g^{(b)}$，其中对应于 $x_0$ 零坐标的分量取其允许区间内的最大值。\n\n分别使用次梯度 $g^{(a)}$ 和 $g^{(b)}$ 进行一次次梯度法迭代，计算得到的下一个迭代点 $x_1^{(a)}$ 和 $x_1^{(b)}$。\n\n最终答案应为一个行矩阵，按 $(x_{1}^{(a)}, x_{2}^{(a)}, x_{1}^{(b)}, x_{2}^{(b)})$ 的顺序包含这两个点的四个坐标。",
            "solution": "我们使用次梯度法 $x_{k+1}=x_{k}-\\alpha_{k}g_{k}$ 最小化 $f(x_{1},x_{2})=|x_{1}|+|x_{2}|$，其中 $g_{k}\\in\\partial f(x_{k})$。次微分按分量定义为：若 $x_{i}\\neq 0$，则 $g_{i}=\\operatorname{sign}(x_{i})$；若 $x_{i}=0$，则 $g_{i}\\in[-1,1]$。\n\n在点 $x_{0}=(1,0)$ 处，次梯度的分量满足 $g_{1}=\\operatorname{sign}(1)=1$ 且 $g_{2}\\in[-1,1]$。步长为 $\\alpha_{0}=\\frac{1}{2}$：\n- 选择 $g^{(a)}=(1,-1)$，即为第二个分量取其允许的最小值。\n- 选择 $g^{(b)}=(1,1)$，即为第二个分量取其允许的最大值。\n\n应用更新公式：\n$$x_{1}^{(a)}=x_{0}-\\alpha_{0}g^{(a)}=(1,0)-\\frac{1}{2}(1,-1)=\\left(1-\\frac{1}{2},\\,0-(-\\frac{1}{2})\\right)=\\left(\\frac{1}{2},\\,\\frac{1}{2}\\right),$$\n$$x_{1}^{(b)}=x_{0}-\\alpha_{0}g^{(b)}=(1,0)-\\frac{1}{2}(1,1)=\\left(1-\\frac{1}{2},\\,0-\\frac{1}{2}\\right)=\\left(\\frac{1}{2},\\,-\\frac{1}{2}\\right)。$$\n\n因此，按 $(x_{1}^{(a)}, x_{2}^{(a)}, x_{1}^{(b)}, x_{2}^{(b)})$ 的顺序，所求行矩阵为 $\\left(\\frac{1}{2},\\,\\frac{1}{2},\\,\\frac{1}{2},\\,-\\frac{1}{2}\\right)$。",
            "answer": "$$\\boxed{\\begin{pmatrix}\\frac{1}{2}  \\frac{1}{2}  \\frac{1}{2}  -\\frac{1}{2}\\end{pmatrix}}$$"
        },
        {
            "introduction": "现实世界中的优化问题通常包含解必须满足的约束条件。这最后一个练习介绍了投影次梯度法，这是一种处理此类约束问题的强大扩展。通过将标准的次梯度更新与投影到可行集上的步骤相结合，该方法确保所有迭代点都保持有效 。本练习将帮助您理解如何调整次梯度算法，以适应解被限制在特定区域内的实际应用。",
            "id": "2207183",
            "problem": "考虑在可行集 $C = [0, 5]$ 上最小化函数 $f(x) = |x - 10|$ 的约束优化问题。我们将应用一次投影次梯度法的迭代来寻找最小值的更新估计。\n\n投影次梯度法的迭代更新规则如下：\n$$x_{k+1} = P_C(x_k - \\alpha_k g_k)$$\n其中 $x_k$ 是当前点，$g_k$ 是目标函数 $f$ 在 $x_k$ 处的一个次梯度，$\\alpha_k$ 是步长，$P_C(y)$ 是点 $y$ 在可行集 $C$ 上的欧几里得投影。对于闭区间 $[a, b]$，点 $y$ 在该区间上的投影是 $[a,b]$ 中距离 $y$ 最近的点。\n\n给定初始点 $x_0 = 4$ 和常数步长 $\\alpha = 3$，计算下一次迭代的值 $x_1$。",
            "solution": "问题要求使用投影次梯度法进行一次迭代，以在集合 $C = [0, 5]$ 上最小化 $f(x) = |x-10|$，初始点为 $x_0=4$，步长为 $\\alpha=3$。更新规则为 $x_1 = P_C(x_0 - \\alpha g_0)$，其中 $g_0$ 是 $f$ 在 $x_0$ 处的一个次梯度，$P_C$ 是到集合 $C$ 上的投影。\n\n**步骤1：求 $f(x)$ 在 $x_0=4$ 处的次梯度。**\n目标函数为 $f(x) = |x - 10|$。函数 $h(x) = |x-c|$ 在点 $x$ 处的次微分由下式给出：\n$$\n\\partial h(x) =\n\\begin{cases}\n\\{1\\}  \\text{若 } x > c \\\\\n\\{-1\\}  \\text{若 } x  c \\\\\n[-1, 1]  \\text{若 } x = c\n\\end{cases}\n$$\n在我们的问题中，$c=10$，我们在 $x_0 = 4$ 处计算次梯度。由于 $4  10$，函数 $f(x)$ 在此点是可微的，其次微分只包含一个元素，即导数。当 $x10$ 时，函数为 $f(x) = -(x-10) = 10-x$。其导数为 $f'(x) = -1$。\n因此，$f$ 在 $x_0=4$ 处的一个次梯度是 $g_0 = -1$。\n\n**步骤2：执行无约束更新步骤。**\n我们首先计算投影前的点，记为 $y_1$：\n$$y_1 = x_0 - \\alpha g_0$$\n给定 $x_0 = 4$，$\\alpha = 3$，并且我们已求得 $g_0 = -1$。代入这些值：\n$$y_1 = 4 - 3(-1) = 4 + 3 = 7$$\n\n**步骤3：将点 $y_1$ 投影到可行集 $C$ 上。**\n最后一步是通过将中间点 $y_1=7$ 投影到可行集 $C = [0, 5]$ 上来找到下一个迭代点 $x_1$。投影 $P_C(y_1)$ 是区间 $[0, 5]$ 中距离 $y_1=7$ 最近的点。\n点 $y_1 = 7$ 位于区间 $[0, 5]$ 的右侧。区间中距离 7 最近的点是右端点，即 5。\n\n形式上，点 $y$ 到闭区间 $[a,b]$ 上的投影由以下公式给出：\n$$P_{[a,b]}(y) = \\max(a, \\min(b, y))$$\n将 $a=0$，$b=5$ 和 $y=7$ 应用于此公式：\n$$x_1 = P_{[0,5]}(7) = \\max(0, \\min(5, 7))$$\n首先，我们计算内部部分：$\\min(5, 7) = 5$。\n然后，我们计算外部部分：$\\max(0, 5) = 5$。\n因此，下一次迭代的结果是 $x_1 = 5$。",
            "answer": "$$\\boxed{5}$$"
        }
    ]
}