{
    "hands_on_practices": [
        {
            "introduction": "雅可比矩阵是分析多变量函数的基石。本练习旨在通过一个给定的坐标变换，训练计算雅可比矩阵的基本技能，这对于理解系统如何进行局部变化至关重要。掌握这一计算是应用雅可比矩阵解决更复杂问题（如计算流体力学中的问题）的第一步。",
            "id": "2216501",
            "problem": "在计算流体动力学领域，通常使用变换将复杂的物理域映射到更简单的计算网格上。考虑一个从笛卡尔坐标系 $(x,y)$ 到由向量函数 $\\mathbf{F}: \\mathbb{R}^2 \\to \\mathbb{R}^2$ 定义的新坐标系 $(u,v)$ 的坐标变换。该映射由以下分量函数给出：\n$u(x, y) = x^3 - 3xy^2$\n$v(x, y) = 3x^2y - y^3$\n\n此变换在任意点的局部线性近似由其雅可比矩阵描述，该矩阵是向量函数所有一阶偏导数的矩阵。计算此变换在点 $(x, y) = (2, -1)$ 处的雅可比矩阵 $\\mathbf{J}_{\\mathbf{F}}(x,y)$。",
            "solution": "设 $\\mathbf{F}(x,y) = \\big(u(x,y), v(x,y)\\big)$，其中 $u(x,y) = x^{3} - 3xy^{2}$ 且 $v(x,y) = 3x^{2}y - y^{3}$。雅可比矩阵是一阶偏导数的矩阵：\n$$\n\\mathbf{J}_{\\mathbf{F}}(x,y) = \\begin{pmatrix}\n\\frac{\\partial u}{\\partial x}  \\frac{\\partial u}{\\partial y} \\\\\n\\frac{\\partial v}{\\partial x}  \\frac{\\partial v}{\\partial y}\n\\end{pmatrix}.\n$$\n显式计算每个偏导数：\n$$\n\\frac{\\partial u}{\\partial x} = \\frac{\\partial}{\\partial x}\\left(x^{3} - 3xy^{2}\\right) = 3x^{2} - 3y^{2},\n$$\n$$\n\\frac{\\partial u}{\\partial y} = \\frac{\\partial}{\\partial y}\\left(x^{3} - 3xy^{2}\\right) = -6xy,\n$$\n$$\n\\frac{\\partial v}{\\partial x} = \\frac{\\partial}{\\partial x}\\left(3x^{2}y - y^{3}\\right) = 6xy,\n$$\n$$\n\\frac{\\partial v}{\\partial y} = \\frac{\\partial}{\\partial y}\\left(3x^{2}y - y^{3}\\right) = 3x^{2} - 3y^{2}.\n$$\n因此，\n$$\n\\mathbf{J}_{\\mathbf{F}}(x,y) = \\begin{pmatrix}\n3x^{2} - 3y^{2}  -6xy \\\\\n6xy  3x^{2} - 3y^{2}\n\\end{pmatrix}.\n$$\n在点 $(x,y) = (2,-1)$ 处求值可得\n$$\n\\mathbf{J}_{\\mathbf{F}}(2,-1) = \\begin{pmatrix}\n3\\cdot 2^{2} - 3\\cdot (-1)^{2}  -6\\cdot 2 \\cdot (-1) \\\\\n6\\cdot 2 \\cdot (-1)  3\\cdot 2^{2} - 3\\cdot (-1)^{2}\n\\end{pmatrix}\n= \\begin{pmatrix}\n9  12 \\\\\n-12  9\n\\end{pmatrix}.\n$$",
            "answer": "$$\\boxed{\\begin{pmatrix}9  12 \\\\ -12  9\\end{pmatrix}}$$"
        },
        {
            "introduction": "除了基本计算，雅可比矩阵的真正威力在于它是一个函数最佳的线性近似。本练习将展示如何使用雅可比矩阵来估计一个非线性系统（例如机器人手臂末端执行器的位置）在输入发生微小变化时的输出。这一原理是机器人学、控制理论和数值优化等领域的基础。",
            "id": "2325300",
            "problem": "一个具有两个关节的机械臂在二维平面上运行。其末端执行器的笛卡尔坐标 $(x, y)$ 由其两个关节的角度 $(\\theta_1, \\theta_2)$ 决定，这可以用一个函数 $P: \\mathbb{R}^2 \\to \\mathbb{R}^2$ 来描述，使得 $(x, y) = P(\\theta_1, \\theta_2)$。角度以弧度为单位，坐标以米为单位。\n\n在关节角度为 $(\\theta_1, \\theta_2) = (\\frac{\\pi}{6}, \\frac{\\pi}{3})$ 的特定配置下，末端执行器位于位置 $(x, y) = (2.50, 1.75)$ 米。在此配置下，末端执行器位置对关节角度微小变化的灵敏度由函数 $P$ 的雅可比矩阵描述：\n$$ J_P\\left(\\frac{\\pi}{6}, \\frac{\\pi}{3}\\right) = \\begin{pmatrix} -1.2  0.8 \\\\ 2.0  1.5 \\end{pmatrix} $$\n雅可比矩阵中各项的单位是米/弧度。\n\n假设控制系统对关节角度引入一个小的扰动，将它们移动到一个新的配置 $(\\theta_1', \\theta_2') = (\\frac{\\pi}{6} + 0.02, \\frac{\\pi}{3} - 0.04)$。\n\n使用线性近似，估计末端执行器新的笛卡尔坐标 $(x', y')$。将你的答案表示为一对坐标。将每个坐标四舍五入到三位有效数字。最终答案应以米为单位给出。",
            "solution": "我们使用函数 $P$ 在配置 $(\\theta_{1},\\theta_{2})$ 附近的一阶（线性）近似：\n$$\n\\begin{pmatrix} x' \\\\ y' \\end{pmatrix} \\approx \\begin{pmatrix} x \\\\ y \\end{pmatrix} + J_{P}(\\theta_{1},\\theta_{2}) \\begin{pmatrix} \\Delta \\theta_{1} \\\\ \\Delta \\theta_{2} \\end{pmatrix},\n$$\n其中 $\\Delta \\theta_{1} = \\theta_{1}' - \\theta_{1}$ 且 $\\Delta \\theta_{2} = \\theta_{2}' - \\theta_{2}$。在给定配置下，$(x,y) = (2.50,1.75)$ 米，并且\n$$\nJ_{P}\\left(\\frac{\\pi}{6},\\frac{\\pi}{3}\\right) = \\begin{pmatrix} -1.2  0.8 \\\\ 2.0  1.5 \\end{pmatrix}.\n$$\n关节角度的扰动为\n$$\n\\Delta \\theta_{1} = 0.02, \\quad \\Delta \\theta_{2} = -0.04.\n$$\n计算位置变化：\n$$\n\\Delta \\mathbf{p} = J_{P} \\begin{pmatrix} 0.02 \\\\ -0.04 \\end{pmatrix} = \\begin{pmatrix} -1.2  0.8 \\\\ 2.0  1.5 \\end{pmatrix} \\begin{pmatrix} 0.02 \\\\ -0.04 \\end{pmatrix} = \\begin{pmatrix} -1.2\\cdot 0.02 + 0.8\\cdot(-0.04) \\\\ 2.0\\cdot 0.02 + 1.5\\cdot(-0.04) \\end{pmatrix} = \\begin{pmatrix} -0.056 \\\\ -0.02 \\end{pmatrix}.\n$$\n将其加到标称位置上：\n$$\n\\begin{pmatrix} x' \\\\ y' \\end{pmatrix} \\approx \\begin{pmatrix} 2.50 \\\\ 1.75 \\end{pmatrix} + \\begin{pmatrix} -0.056 \\\\ -0.02 \\end{pmatrix} = \\begin{pmatrix} 2.444 \\\\ 1.73 \\end{pmatrix}.\n$$\n将每个坐标四舍五入到三位有效数字，得到 $x' \\approx 2.44$ 和 $y' \\approx 1.73$（米）。",
            "answer": "$$\\boxed{\\begin{pmatrix} 2.44 \\\\ 1.73 \\end{pmatrix}}$$"
        },
        {
            "introduction": "许多复杂系统是通过组合更简单的变换构建的，从计算机图形学管线到多阶段的物理过程。多变量链式法则允许我们通过将各个组成部分的雅可比矩阵相乘，来求得整个复合系统的雅可比矩阵。本练习将引导你将链式法则应用于一个计算机图形学中的实例，说明如何将局部线性近似串联起来。",
            "id": "2216466",
            "problem": "在一个计算机图形学应用中，一个由坐标 $(u,v)$ 定义的二维控制曲面被映射到一个三维对象空间，然后投影到一个二维观察平面上。\n\n第一个变换 $g: \\mathbb{R}^2 \\to \\mathbb{R}^3$ 将控制坐标 $(u,v)$ 映射到圆锥面上的一个点 $(x,y,z)$。该变换由以下函数定义：\n$g(u,v) = (u\\cos(v), u\\sin(v), u)$\n\n第二个变换是投影和坐标变换 $f: \\mathbb{R}^3 \\to \\mathbb{R}^2$，它将三维对象空间中的点 $(x,y,z)$ 映射到具有坐标 $(s,t)$ 的二维观察平面上。该变换由以下线性函数定义：\n$f(x,y,z) = (x + 2y, 3y - z)$\n\n考虑复合函数 $h = f \\circ g$，它将控制坐标 $(u,v)$ 直接映射到观察平面坐标 $(s,t)$。求变换 $h(u,v)$ 的雅可比矩阵。将你的答案表示为一个矩阵，其元素是关于 $u$ 和 $v$ 的函数。",
            "solution": "问题要求复合函数 $h = f \\circ g$ 的雅可比矩阵，其中 $g: \\mathbb{R}^2 \\to \\mathbb{R}^3$ 且 $f: \\mathbb{R}^3 \\to \\mathbb{R}^2$。复合函数的雅可比矩阵可以使用多变量链式法则求得，该法则指出复合函数的雅可比矩阵是各个函数在相应点上求值的雅可比矩阵的乘积。具体来说，$J_h(u,v) = J_f(g(u,v)) \\cdot J_g(u,v)$。\n\n首先，我们求函数 $g(u,v) = (x,y,z) = (u\\cos(v), u\\sin(v), u)$ 的雅可比矩阵。\n雅可比矩阵 $J_g$ 是一个 $3 \\times 2$ 矩阵，由下式给出：\n$$\nJ_g(u,v) = \\begin{pmatrix} \\frac{\\partial x}{\\partial u}  \\frac{\\partial x}{\\partial v} \\\\ \\frac{\\partial y}{\\partial u}  \\frac{\\partial y}{\\partial v} \\\\ \\frac{\\partial z}{\\partial u}  \\frac{\\partial z}{\\partial v} \\end{pmatrix}\n$$\n我们计算偏导数：\n$\\frac{\\partial x}{\\partial u} = \\frac{\\partial}{\\partial u}(u\\cos(v)) = \\cos(v)$\n$\\frac{\\partial x}{\\partial v} = \\frac{\\partial}{\\partial v}(u\\cos(v)) = -u\\sin(v)$\n$\\frac{\\partial y}{\\partial u} = \\frac{\\partial}{\\partial u}(u\\sin(v)) = \\sin(v)$\n$\\frac{\\partial y}{\\partial v} = \\frac{\\partial}{\\partial v}(u\\sin(v)) = u\\cos(v)$\n$\\frac{\\partial z}{\\partial u} = \\frac{\\partial}{\\partial u}(u) = 1$\n$\\frac{\\partial z}{\\partial v} = \\frac{\\partial}{\\partial v}(u) = 0$\n\n将这些偏导数组合成矩阵 $J_g$：\n$$\nJ_g(u,v) = \\begin{pmatrix} \\cos(v)  -u\\sin(v) \\\\ \\sin(v)  u\\cos(v) \\\\ 1  0 \\end{pmatrix}\n$$\n\n接下来，我们求函数 $f(x,y,z) = (s,t) = (x + 2y, 3y - z)$ 的雅可比矩阵。\n雅可比矩阵 $J_f$ 是一个 $2 \\times 3$ 矩阵，由下式给出：\n$$\nJ_f(x,y,z) = \\begin{pmatrix} \\frac{\\partial s}{\\partial x}  \\frac{\\partial s}{\\partial y}  \\frac{\\partial s}{\\partial z} \\\\ \\frac{\\partial t}{\\partial x}  \\frac{\\partial t}{\\partial y}  \\frac{\\partial t}{\\partial z} \\end{pmatrix}\n$$\n我们计算偏导数：\n$\\frac{\\partial s}{\\partial x} = \\frac{\\partial}{\\partial x}(x + 2y) = 1$\n$\\frac{\\partial s}{\\partial y} = \\frac{\\partial}{\\partial y}(x + 2y) = 2$\n$\\frac{\\partial s}{\\partial z} = \\frac{\\partial}{\\partial z}(x + 2y) = 0$\n$\\frac{\\partial t}{\\partial x} = \\frac{\\partial}{\\partial x}(3y - z) = 0$\n$\\frac{\\partial t}{\\partial y} = \\frac{\\partial}{\\partial y}(3y - z) = 3$\n$\\frac{\\partial t}{\\partial z} = \\frac{\\partial}{\\partial z}(3y - z) = -1$\n\n将这些偏导数组合成矩阵 $J_f$：\n$$\nJ_f(x,y,z) = \\begin{pmatrix} 1  2  0 \\\\ 0  3  -1 \\end{pmatrix}\n$$\n由于 $J_f$ 的所有元素都是常数，因此矩阵 $J_f(g(u,v))$ 与 $J_f(x,y,z)$ 相同。\n\n现在我们可以通过将雅可比矩阵 $J_f$ 和 $J_g$ 相乘来求 $h$ 的雅可比矩阵。一个 $2 \\times 3$ 矩阵和一个 $3 \\times 2$ 矩阵的乘积将得到一个 $2 \\times 2$ 矩阵。\n$$\nJ_h(u,v) = J_f(g(u,v)) \\cdot J_g(u,v) = \\begin{pmatrix} 1  2  0 \\\\ 0  3  -1 \\end{pmatrix} \\begin{pmatrix} \\cos(v)  -u\\sin(v) \\\\ \\sin(v)  u\\cos(v) \\\\ 1  0 \\end{pmatrix}\n$$\n执行矩阵乘法：\n第一行第一列的元素是 $(1)(\\cos(v)) + (2)(\\sin(v)) + (0)(1) = \\cos(v) + 2\\sin(v)$。\n第一行第二列的元素是 $(1)(-u\\sin(v)) + (2)(u\\cos(v)) + (0)(0) = -u\\sin(v) + 2u\\cos(v) = u(2\\cos(v) - \\sin(v))$。\n第二行第一列的元素是 $(0)(\\cos(v)) + (3)(\\sin(v)) + (-1)(1) = 3\\sin(v) - 1$。\n第二行第二列的元素是 $(0)(-u\\sin(v)) + (3)(u\\cos(v)) + (-1)(0) = 3u\\cos(v)$。\n\n所以，$h(u,v)$ 的雅可比矩阵是：\n$$\nJ_h(u,v) = \\begin{pmatrix} \\cos(v) + 2\\sin(v)  u(2\\cos(v) - \\sin(v)) \\\\ 3\\sin(v) - 1  3u\\cos(v) \\end{pmatrix}\n$$",
            "answer": "$$\\boxed{\\begin{pmatrix} \\cos(v) + 2\\sin(v)  u(2\\cos(v) - \\sin(v)) \\\\ 3\\sin(v) - 1  3u\\cos(v) \\end{pmatrix}}$$"
        }
    ]
}