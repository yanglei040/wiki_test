{
    "hands_on_practices": [
        {
            "introduction": "理论学习的最佳方式是实践。掌握KKT条件的第一步是能够像使用清单一样逐一核对它们。这个练习  提供了一个具体的情景，让你在一个给定的点上检验所有四个KKT条件，从而熟悉整个流程。通过这个练习，你将深刻理解为何所有条件都必须同时满足，一个点才能成为KKT点。",
            "id": "2183108",
            "problem": "考虑以下优化问题：\n最小化函数 $f(x, y) = (x - 4)^{2} + (y - 3)^{2}$，约束条件为不等式 $g(x, y) = x^{2} + 2y - 6 \\le 0$。\n\n对于这种形式的约束优化问题（最小化 $f(\\mathbf{x})$，约束条件为 $g_i(\\mathbf{x}) \\le 0$），一个点若要成为可能的局部最小值，必须满足 Karush-Kuhn-Tucker (KKT) 条件。对于这个只有一个约束的特定问题，点 $(x, y)$ 的 KKT 条件如下：\n\n1.  **平稳性 (Stationarity)**：存在一个拉格朗日乘子 $\\mu$，使得 $\\nabla f(x, y) + \\mu \\nabla g(x, y) = \\mathbf{0}$。\n2.  **原始可行性 (Primal Feasibility)**：$g(x, y) \\le 0$。\n3.  **对偶可行性 (Dual Feasibility)**：拉格朗日乘子 $\\mu \\ge 0$。\n4.  **互补松弛性 (Complementary Slackness)**：$\\mu \\, g(x, y) = 0$。\n\n通过检查所有四个 KKT 条件来分析点 $(x_0, y_0) = (2, 1)$。根据您的分析，从以下选项中选择正确的陈述。\n\nA. 所有四个 KKT 条件都满足，因此该点是 KKT 点。\n\nB. 平稳性条件不满足，因为不存在一个一致的拉格朗日乘子。因此，该点不是 KKT 点。\n\nC. 对偶可行性条件不满足，因为所需的拉格朗日乘子为负。因此，该点不是 KKT 点。\n\nD. 互补松弛性条件不满足。因此，该点不是 KKT 点。\n\nE. 原始可行性条件不满足。因此，该点不是 KKT 点。",
            "solution": "我们已知 $f(x,y)=(x-4)^{2}+(y-3)^{2}$ 和 $g(x,y)=x^{2}+2y-6\\le 0$。对于点 $(x_{0},y_{0})=(2,1)$，我们检查 KKT 条件。\n\n计算梯度：\n$$\n\\nabla f(x,y)=\\left(2(x-4),\\,2(y-3)\\right),\\quad \\nabla g(x,y)=\\left(2x,\\,2\\right).\n$$\n在点 $(2,1)$ 处，\n$$\n\\nabla f(2,1)=(-4,\\,-4),\\quad \\nabla g(2,1)=(4,\\,2).\n$$\n\n平稳性条件要求存在 $\\mu$ 使得\n$$\n\\nabla f(2,1)+\\mu\\,\\nabla g(2,1)=(0,0),\n$$\n这给出了线性方程组\n$$\n-4+4\\mu=0,\\qquad -4+2\\mu=0.\n$$\n从第一个方程得出 $\\mu=1$。从第二个方程得出 $\\mu=2$。这不一致，所以没有 $\\mu$ 能满足平稳性条件。因此，平稳性条件不成立。\n\n原始可行性要求 $g(2,1)\\le 0$。计算：\n$$\ng(2,1)=2^{2}+2\\cdot 1-6=4+2-6=0\\le 0,\n$$\n所以原始可行性成立。\n\n对偶可行性要求 $\\mu\\ge 0$。由于没有 $\\mu$ 满足平稳性条件，因此没有一致的乘子可供检验；失败的原因是平稳性，而不是 $\\mu$ 的符号。\n\n互补松弛性要求 $\\mu\\,g(2,1)=0$。由于 $g(2,1)=0$，这个条件对任何 $\\mu$ 都成立；因此互补松弛性得到满足。\n\n结论：该点由于不存在一致的拉格朗日乘子而未能满足平稳性条件。正确选项是 B。",
            "answer": "$$\\boxed{B}$$"
        },
        {
            "introduction": "KKT条件不仅是验证工具，更是寻找最优解的强大武器。这个练习  将代数化的KKT条件与几何直觉联系起来，揭示了约束最优化问题在几何上通常对应于将一个点投影到可行域上。解决这个问题将帮助你更直观地理解约束条件如何改变最优点的位置。",
            "id": "2183125",
            "problem": "考虑函数 $f(x,y) = (x-2)^2 + (y-2)^2$。令 $P_u = (x_u, y_u)$ 为笛卡尔平面上该函数取得其无约束全局最小值的点。令 $P_c = (x_c, y_c)$ 为同一函数 $f(x,y)$ 在不等式约束 $x + y \\le 1$ 条件下取得其最小值的点。\n\n求点 $P_u$ 和 $P_c$ 之间的欧几里得距离。请以精确解析表达式的形式给出答案。",
            "solution": "我们首先确定 $f(x,y)=(x-2)^{2}+(y-2)^{2}$ 的无约束全局最小值点。由于 $f$ 是严格凸函数，其无约束最小值点 $P_{u}=(x_{u},y_{u})$ 可通过将其梯度设为零来求得：\n$$\n\\frac{\\partial f}{\\partial x}=2(x-2)=0 \\quad\\Rightarrow\\quad x_{u}=2, \\qquad \\frac{\\partial f}{\\partial y}=2(y-2)=0 \\quad\\Rightarrow\\quad y_{u}=2.\n$$\n因此 $P_{u}=(2,2)$。\n\n对于约束问题，我们在 $x+y\\leq 1$ 的约束下最小化 $f(x,y)$。由于 $f(x,y)$ 是到点 $(2,2)$ 的欧几里得距离的平方，因此约束最小值点 $P_{c}$ 是点 $(2,2)$ 在闭合半平面 $\\{(x,y):x+y\\leq 1\\}$ 上的投影。因为 $2+2=4>1$，所以该投影点位于边界线 $x+y=1$ 上。\n\n使用拉格朗日乘数法将点 $(2,2)$ 投影到直线 $x+y=1$ 上。定义拉格朗日函数\n$$\n\\mathcal{L}(x,y,\\lambda)=(x-2)^{2}+(y-2)^{2}+\\lambda(x+y-1).\n$$\n驻点条件给出\n$$\n\\frac{\\partial \\mathcal{L}}{\\partial x}=2(x-2)+\\lambda=0 \\quad\\Rightarrow\\quad x=2-\\frac{\\lambda}{2}, \\qquad \\frac{\\partial \\mathcal{L}}{\\partial y}=2(y-2)+\\lambda=0 \\quad\\Rightarrow\\quad y=2-\\frac{\\lambda}{2}.\n$$\n代入约束条件 $x+y=1$ 可得\n$$\n\\left(2-\\frac{\\lambda}{2}\\right)+\\left(2-\\frac{\\lambda}{2}\\right)=1 \\quad\\Rightarrow\\quad 4-\\lambda=1 \\quad\\Rightarrow\\quad \\lambda=3.\n$$\n因此\n$$\nx_{c}=y_{c}=2-\\frac{3}{2}=\\frac{1}{2}, \\quad \\text{so} \\quad P_{c}=\\left(\\frac{1}{2},\\frac{1}{2}\\right).\n$$\n\n$P_{u}$ 和 $P_{c}$ 之间的欧几里得距离为\n$$\nd=\\sqrt{\\left(2-\\frac{1}{2}\\right)^{2}+\\left(2-\\frac{1}{2}\\right)^{2}}=\\sqrt{\\frac{9}{4}+\\frac{9}{4}}=\\sqrt{\\frac{9}{2}}=\\frac{3}{\\sqrt{2}}=\\frac{3\\sqrt{2}}{2}.\n$$",
            "answer": "$$\\boxed{\\frac{3\\sqrt{2}}{2}}$$"
        },
        {
            "introduction": "KKT条件有一个关键的微妙之处：它们是 optimality 的一阶*必要*条件，而非*充分*条件。这意味着满足KKT条件的点只是最优解的“候选者”。这个更具挑战性的练习  要求你找出一个满足KKT条件但并非局部最小值的点，从而强调在确认最优点时进行额外分析（如检查二阶条件或局部函数行为）的重要性。",
            "id": "3246265",
            "problem": "给定一个不等式约束优化问题，要求最小化函数 $f:\\mathbb{R}^{2}\\to\\mathbb{R}$，其定义为 $f(x)=x_{1}^{2}-x_{2}^{2}$，可行域为闭合凸单位圆盘 $\\{x\\in\\mathbb{R}^{2}:x_{1}^{2}+x_{2}^{2}\\leq 1\\}$。将可行集描述为单个不等式约束 $g(x)\\leq 0$，其中 $g:\\mathbb{R}^{2}\\to\\mathbb{R}$ 是一个合适的光滑函数。仅使用约束最优性的定义、拉格朗日乘子以及不等式约束的标准一阶必要最优性条件，完成以下任务：\n\n- 通过指定 $f(x)$ 和 $g(x)$，将问题表述为标准不等式约束形式。\n- 通过引用一个广泛使用的不等式约束充分正则性条件，证明在所有可行点上，一个标准的约束规范条件成立。\n- 根据平稳性、可行性、乘子符号和互补松弛性，推导局部极小点处的一阶必要最优性条件。\n- 对可行集中的所有候选点显式求解这些条件，并通过测试 $f$ 在可行方向上的行为来区分哪些是局部极小点，哪些不是。\n\n您的任务是找出一个满足 Karush-Kuhn-Tucker (KKT) 条件但不是 $f$ 在单位圆盘上的局部极小点的可行点。将该点作为您的最终答案。\n\n无需进行数值四舍五入。以有序对 $(x_{1},x_{2})$ 的形式表示您的最终答案，不带单位。",
            "solution": "用户提出了一个约束优化问题，并要求使用 Karush-Kuhn-Tucker (KKT) 条件进行分析，以找到一种特定类型的点。\n\n### 问题验证\n\n**步骤1：提取已知条件**\n- **目标函数**：$f(x)=x_{1}^{2}-x_{2}^{2}$，其中 $f:\\mathbb{R}^{2}\\to\\mathbb{R}$ 且 $x=(x_1, x_2)$。\n- **可行集**：闭合单位圆盘 $\\{x\\in\\mathbb{R}^{2}:x_{1}^{2}+x_{2}^{2}\\leq 1\\}$。\n- **约束表述**：使用单个不等式约束 $g(x)\\leq 0$，其中 $g:\\mathbb{R}^{2}\\to\\mathbb{R}$ 为光滑函数。\n- **任务**：\n    1. 将问题表述为标准形式。\n    2. 证明一个标准的约束规范条件成立。\n    3. 推导一阶必要最优性 (KKT) 条件。\n    4. 求解 KKT 条件以找出所有候选点。\n    5. 对这些点进行分类，找到一个 KKT 点但不是局部极小点。\n- **要求输出**：一个满足 KKT 条件但不是局部极小点的可行点 $(x_1, x_2)$。\n\n**步骤2：使用提取的已知条件进行验证**\n该问题是非线性规划中一个明确定义的练习。\n- **科学基础**：该问题完全属于数学优化理论的范畴。目标函数、约束和 KKT 条件的概念是该领域的基础。\n- **适定性**：目标函数 $f(x)$ 是连续的，可行集是 $\\mathbb{R}^{2}$ 的一个紧子集。根据极值定理，全局最小值和最大值必然存在，因此解是存在的。问题结构清晰。\n- **明确性**：问题使用精确的数学语言陈述，没有歧义或主观因素。\n- **完整性与一致性**：问题提供了进行分析所需的所有必要信息。目标函数和可行集都已完全指定。\n\n**步骤3：结论与行动**\n该问题是有效的。它是一个标准的、自洽的、适定的约束优化问题。将按照要求的步骤提供解答。\n\n### 解答\n\n**1. 问题表述**\n问题是要最小化函数 $f(x_{1}, x_{2}) = x_{1}^{2}-x_{2}^{2}$。可行集由不等式 $x_{1}^{2}+x_{2}^{2} \\leq 1$ 描述。为了将其表示为标准形式 $g(x) \\leq 0$，我们定义约束函数 $g(x_{1}, x_{2}) = x_{1}^{2}+x_{2}^{2}-1$。$f$ 和 $g$ 都是多项式，因此在 $\\mathbb{R}^{2}$ 上处处连续可微。\n\n优化问题是：\n$$\n\\begin{array}{ll}\n\\text{最小化}  f(x_{1}, x_{2}) = x_{1}^{2}-x_{2}^{2} \\\\\n\\text{约束条件为}  g(x_{1}, x_{2}) = x_{1}^{2}+x_{2}^{2}-1 \\leq 0\n\\end{array}\n$$\n\n**2. 约束规范**\n为了使 KKT 条件成为最优性的必要条件，在任何潜在的局部极小点上都必须满足约束规范。一个广泛使用的条件是线性无关约束规范 (LICQ)。对于单个不等式约束 $g(x) \\leq 0$，如果在约束有效（即 $g(x^*) = 0$）的点 $x^*$ 处，梯度向量 $\\nabla g(x^*)$ 非零，则 LICQ 在该点成立。如果约束无效（$g(x^*)  0$），则 LICQ 不言自明地成立。\n\n我们来计算约束函数的梯度：\n$$\n\\nabla g(x_{1}, x_{2}) = \\begin{pmatrix} \\frac{\\partial g}{\\partial x_{1}} \\\\ \\frac{\\partial g}{\\partial x_{2}} \\end{pmatrix} = \\begin{pmatrix} 2x_{1} \\\\ 2x_{2} \\end{pmatrix}\n$$\n梯度 $\\nabla g(x)$ 为零向量 $\\begin{pmatrix} 0 \\\\ 0 \\end{pmatrix}$ 当且仅当 $x_{1}=0$ 且 $x_{2}=0$。点 $(0,0)$ 位于可行集的内部，因为 $g(0,0) = 0^{2}+0^{2}-1=-1  0$。对于可行集边界上的任何点 $x^*$，约束是有效的，$x_{1}^{*2}+x_{2}^{*2}=1$。这样的点不可能是 $(0,0)$。因此，对于任何约束有效的可行点 $x^*$，都有 $\\nabla g(x^*) \\neq \\begin{pmatrix} 0 \\\\ 0 \\end{pmatrix}$。\n因此，LICQ 在每个可行点上都成立。这确保了任何局部极小点都必须满足 KKT 条件。\n\n**3. Karush-Kuhn-Tucker (KKT) 条件**\n该问题的拉格朗日函数是：\n$$\nL(x_{1}, x_{2}, \\mu) = f(x_{1}, x_{2}) + \\mu g(x_{1}, x_{2}) = (x_{1}^{2}-x_{2}^{2}) + \\mu(x_{1}^{2}+x_{2}^{2}-1)\n$$\n其中 $\\mu$ 是与不等式约束相关的拉格朗日乘子。一个点 $(x_{1}, x_{2})$ 成为局部极小点的一阶必要 (KKT) 条件是：\n\na) **平稳性**：拉格朗日函数关于 $x$ 的梯度为零。\n$$\n\\nabla_{x} L(x_{1}, x_{2}, \\mu) = \\begin{pmatrix} 0 \\\\ 0 \\end{pmatrix} \\implies\n\\begin{cases}\n\\frac{\\partial L}{\\partial x_{1}} = 2x_{1} + 2\\mu x_{1} = 2x_{1}(1+\\mu) = 0 \\\\\n\\frac{\\partial L}{\\partial x_{2}} = -2x_{2} + 2\\mu x_{2} = 2x_{2}(\\mu-1) = 0\n\\end{cases}\n$$\n\nb) **原始可行性**：该点必须在可行集内。\n$$\nx_{1}^{2}+x_{2}^{2}-1 \\leq 0\n$$\n\nc) **对偶可行性**：拉格朗日乘子必须为非负。\n$$\n\\mu \\geq 0\n$$\n\nd) **互补松弛性**：乘子与约束函数的乘积为零。\n$$\n\\mu(x_{1}^{2}+x_{2}^{2}-1) = 0\n$$\n\n**4. 求解 KKT 点**\n我们根据互补松弛性条件分情况分析这些条件。\n\n**情况1：约束无效 ($x_{1}^{2}+x_{2}^{2}-1  0$)**\n根据互补松弛性，这要求 $\\mu=0$。\n平稳性条件变为：\n$$\n\\begin{cases}\n2x_{1}(1+0) = 2x_{1} = 0 \\implies x_{1}=0 \\\\\n2x_{2}(0-1) = -2x_{2} = 0 \\implies x_{2}=0\n\\end{cases}\n$$\n这给出了候选点 $(0,0)$。\n我们检查可行性：$g(0,0) = 0^{2}+0^{2}-1 = -1 \\leq 0$。该点是可行的。\n对于点 $(x_1, x_2) = (0,0)$ 和 $\\mu=0$，所有 KKT 条件都满足。这是我们的第一个 KKT 点。\n\n**情况2：约束有效 ($x_{1}^{2}+x_{2}^{2}-1 = 0$)**\n这意味着 $x_{1}^{2}+x_{2}^{2}=1$。根据对偶可行性，我们有 $\\mu \\geq 0$。\n平稳性条件是：\n1) $2x_{1}(1+\\mu) = 0$\n2) $2x_{2}(\\mu-1) = 0$\n\n从方程 (1) 可知，$x_{1}=0$ 或 $1+\\mu=0$。因为 $\\mu \\geq 0$，所以 $1+\\mu \\geq 1  0$。因此，必须有 $x_{1}=0$。\n将 $x_{1}=0$ 代入有效约束条件 $x_{1}^{2}+x_{2}^{2}=1$，我们得到 $x_{2}^{2}=1$，所以 $x_{2}=1$ 或 $x_{2}=-1$。\n\n现在我们使用方程 (2)，$2x_{2}(\\mu-1)=0$。由于 $x_{2}$ 非零（为 $1$ 或 $-1$），我们必须有 $\\mu-1=0$，这意味着 $\\mu=1$。这个值与 $\\mu \\geq 0$ 一致。\n这给出了两个候选点：$(0,1)$（对应 $\\mu=1$）和 $(0,-1)$（对应 $\\mu=1$）。\n\n我们检查其他可能性。从方程 (2) 可知，$x_2=0$ 或 $\\mu=1$。\n- 如果我们假设 $\\mu=1$，方程 (2) 满足。方程 (1) 变为 $2x_1(1+1)=4x_1=0$，得到 $x_1=0$。这导出了与之前相同的点 $(0, \\pm 1)$。\n- 如果我们假设 $x_2=0$，有效约束 $x_1^2+x_2^2=1$ 给出 $x_1 = \\pm 1$。方程 (1) 是 $2x_1(1+\\mu)=0$。由于 $x_1 \\neq 0$，我们需要 $1+\\mu=0$，这意味着 $\\mu=-1$。这违反了对偶可行性条件 $\\mu \\geq 0$。因此，$(\\pm 1, 0)$ 不是此最小化问题的 KKT 点。\n\n总而言之，我们找到了三个满足 KKT 条件的点：\n- $P_1 = (0,0)$，对应 $\\mu=0$。\n- $P_2 = (0,1)$，对应 $\\mu=1$。\n- $P_3 = (0,-1)$，对应 $\\mu=1$。\n\n**5. KKT 点的分类**\n最后一步是确定这些点中哪些不是局部极小点。\n\n**$P_1 = (0,0)$ 的分析：**\n该点的函数值为 $f(0,0) = 0^{2}-0^{2} = 0$。\n为了测试这是否是一个局部极小点，我们检查 $f$ 在 $(0,0)$ 附近一个小邻域内的行为。由于该点位于可行集的内部，任何小的扰动都会得到一个可行点。\n- 考虑沿 $x_{1}$ 轴的一个点 $(h, 0)$，其中 $h$ 是一个小的非零数。这个点是可行的。函数值为 $f(h,0) = h^{2}-0^{2} = h^{2}  0 = f(0,0)$。\n- 考虑沿 $x_{2}$ 轴的一个点 $(0, k)$，其中 $k$ 是一个小的非零数。这个点是可行的。函数值为 $f(0,k) = 0^{2}-k^{2} = -k^{2}  0 = f(0,0)$。\n由于在 $(0,0)$ 的任意近邻都存在函数值大于 $f(0,0)$ 的点，以及函数值小于 $f(0,0)$ 的点，所以点 $(0,0)$ 是一个鞍点，而不是局部极小点。\n\n因此，点 $(0,0)$ 是一个满足 KKT 条件但不是局部极小点的可行点。\n\n为了完整起见，我们可以研究另外两个点。\n**$P_2 = (0,1)$ 和 $P_3 = (0,-1)$ 的分析：**\n这两点的函数值均为 $f(0, \\pm 1) = 0^{2} - (\\pm 1)^{2} = -1$。\n我们考虑任何满足 $x_1^2+x_2^2 \\le 1$ 的可行点 $(x_1, x_2)$。\n$f(x_{1}, x_{2}) = x_{1}^{2}-x_{2}^{2}$。一个更简单的论证是 $f(x_1, x_2) = x_1^2 - x_2^2 \\ge 0 - x_2^2 \\ge -1$，因为 $x_1^2 \\ge 0$ 并且 $x_2^2 \\le 1$。最小值 $-1$ 仅在 $x_1^2=0$ 且 $x_2^2=1$ 时取得，即在点 $(0, \\pm 1)$ 处。因此，$(0,1)$ 和 $(0,-1)$ 是全局（因此也是局部）极小点。\n\n问题要求找出一个满足 KKT 条件但不是局部极小点的可行点。点 $(0,0)$ 满足此要求。",
            "answer": "$$\\boxed{(0, 0)}$$"
        }
    ]
}