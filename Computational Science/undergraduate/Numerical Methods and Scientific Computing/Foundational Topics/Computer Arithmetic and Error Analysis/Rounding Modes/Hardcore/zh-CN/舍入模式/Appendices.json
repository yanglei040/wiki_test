{
    "hands_on_practices": [
        {
            "introduction": "现实世界的数据（例如传感器读数）通常是连续的。为了让数字系统能够处理这些数据，必须将其转换为有限精度的格式，这个过程称为量化。本练习  提供了对这一基本步骤的动手实践，探讨了在将一个十进制值表示为定点数时，不同的舍入规则——截断和四舍五入到最近的偶数——如何产生不同的结果。",
            "id": "2199486",
            "problem": "一个为远程环境监测站设计的嵌入式系统使用了一款专用的低功耗处理器。为节省功耗和硅片面积，该处理器避免了浮点运算，而是使用一种有符号8位定点格式来表示所有传感器数据。该格式定义为Q3.4，表示每个8位数包含1个符号位、3个整数位和4个小数位。\n\n一个新的气压传感器经过校准，输出一个归一化值，该值可正可负。该传感器的一个特定读数为$-0.3$。在处理该值之前，必须将其转换为Q3.4二进制格式。处理器的指令集架构为此转换提供了两种不同的舍入模式：\n1.  **截断（向零舍入）：** 丢弃数字的小数部分。例如，$5.9$变为$5$，$-5.9$变为$-5$。\n2.  **向最近偶数舍入（收敛舍入）：** 将数字舍入到最接近的整数。如果数字恰好在两个整数中间（例如，小数部分恰好为$0.5$），则舍入到最接近的偶数。例如，$5.5$舍入为$6$，$4.5$舍入为$4$。\n\n请确定在使用上述两种舍入模式转换后，代表传感器读数$-0.3$的二进制模式所对应的两个8位有符号整数值。请将你的答案以（截断结果，向最近偶数舍入结果）的顺序表示为一个整数对。",
            "solution": "在一个总位数为8位的有符号Q3.4定点格式中，有1个符号位、3个整数位和4个小数位。因此，量化步长为$2^{-4}$。将实数$x$转换为此格式的过程是先进行缩放再进行舍入：\n$$\nS = x \\cdot 2^{4}, \\quad I = R(S),\n$$\n其中$R(\\cdot)$是舍入规则，存储的8位有符号整数是$I$。其所代表的实数值为$I \\cdot 2^{-4}$。\n\n对于$x=-0.3$，缩放后的值为\n$$\nS = -0.3 \\cdot 2^{4} = -0.3 \\cdot 16 = -4.8.\n$$\n\n在截断（向零舍入）规则下，小数部分被丢弃，对于负数这等同于向上取整：\n$$\nI_{\\text{trunc}} = -4.\n$$\n\n在向最近偶数舍入规则下，我们选择最接近$-4.8$的整数。由于$-5$比$-4$更接近，并且没有出现平局（即并非恰好在两数正中间），结果为\n$$\nI_{\\text{rne}} = -5.\n$$\n\n$I_{\\text{trunc}}$和$I_{\\text{rne}}$都在有效的8位有符号整数范围内，因此不需要进行饱和处理。因此，所要求的8位有符号整数对为$(-4,-5)$，顺序为（截断，向最近偶数舍入）。",
            "answer": "$$\\boxed{(-4, -5)}$$"
        },
        {
            "introduction": "在纯数学中，像 $\\frac{x}{y \\cdot z}$ 这样的表达式，其运算顺序不会改变最终结果。然而，在计算世界中，每一步的计算结果都会被舍入，因此情况就不同了。本练习  展示了浮点数运算的非结合性，揭示了舍入误差如何根据计算顺序以不同方式累积。",
            "id": "2199510",
            "problem": "一名修读计算科学导论课程的学生正在使用一个简化的计算机系统，该系统有一个特殊的算术处理单元。该系统以浮点格式表示所有数字，并且在每次单独的算术运算（例如，单次乘法或单次除法）后，它会立即将结果舍入到3位有效数字。所采用的舍入规则是标准的：如果第四位有效数字大于或等于5，则第三位有效数字向上舍入；否则，在第三位有效数字后截断。\n\n学生需要对给定的值 $x = 100.0$，$y = 6.00$ 和 $z = 7.00$ 计算表达式 $V = \\frac{x}{y \\cdot z}$。由于该系统的特性，运算顺序会影响最终结果。学生决定比较两种不同的计算方法：\n\n方法A：首先，计算分母中的乘积 $p = y \\cdot z$，然后计算最终值 $V_A = x / p$。\n方法B：首先，计算初始商 $q = x / y$，然后计算最终值 $V_B = q / z$。\n\n计算在这个特定系统上使用这两种不同方法所产生的绝对差 $|V_A - V_B|$。",
            "solution": "我们应用以下规则：每次单独的乘法或除法运算后，立即使用标准舍入法将结果舍入到3位有效数字（看第四位有效数字；如果它大于或等于5，则第三位向上舍入；否则在第三位后截断）。\n\n方法A：\n1) 计算分母中的乘积：\n$$p=y\\cdot z=6.00\\cdot 7.00=42.00.$$\n舍入到3位有效数字：$p=42.0$。\n2) 计算最终的除法：\n$$V_{A}=\\frac{x}{p}=\\frac{100.0}{42.0}=2.380952\\ldots.$$\n舍入到3位有效数字：第三位有效数字是 $2.38$ 中的8，第四位有效数字是0，所以 $V_{A}=2.38$。\n\n方法B：\n1) 计算初始的商：\n$$q=\\frac{x}{y}=\\frac{100.0}{6.00}=16.666\\ldots.$$\n舍入到3位有效数字：第三位有效数字是 $16.6$ 中的6，第四位是 $6\\geq 5$，所以 $q=16.7$。\n2) 计算最终的除法：\n$$V_{B}=\\frac{q}{z}=\\frac{16.7}{7.00}=2.385714\\ldots.$$\n舍入到3位有效数字：第三位有效数字是 $2.38$ 中的8，第四位是 $5\\geq 5$，所以 $V_{B}=2.39$。\n\n绝对差：\n$$|V_{A}-V_{B}|=|2.38-2.39|=0.01.$$",
            "answer": "$$\\boxed{0.01}$$"
        },
        {
            "introduction": "“灾难性抵消”是数值计算中最引人注目的陷阱之一，它发生在两个非常接近的数字相减时，导致大部分有效数字被“抹去”，从而得到一个极不准确的结果。本练习  不仅让您亲眼目睹这种有效位的损失，还展示了一种强大的技巧：通过代数方法重新构造表达式，以实现数值上稳定且远为精确的计算。",
            "id": "2199459",
            "problem": "一个用于金融分析的计算系统使用一种特定的十进制浮点算术进行操作。在该系统中，每个数字的存储以及每次运算（加、减、乘、除和平方根）的中间结果都会立即舍入到恰好5位有效十进制数字的精度。该系统采用“舍半取偶”的舍入规则，即数值被舍入到最接近的值，而恰好在两个可表示数中间的值则被舍入到末位为偶数的那个数。\n\n你的任务是对于输入值 $x = 8888$ 计算函数 $f(x) = \\sqrt{x+1} - \\sqrt{x}$ 的值。\n\n首先，使用 $f(x)$ 的表达式直接计算函数值。设此结果为 $v_1$。\n\n其次，使用代数上等价的表达式 $g(x) = \\frac{1}{\\sqrt{x+1} + \\sqrt{x}}$ 计算函数值。设此结果为 $v_2$。\n\n假设通过第二种方法得到的值 $v_2$ 是真实值的更精确表示，计算第一种方法结果 $v_1$ 的相对误差。相对误差定义为 $\\frac{|v_2 - v_1|}{|v_2|}$。\n\n将相对误差的最终答案表示为小数，并舍入到三位有效数字。",
            "solution": "问题要求计算在一个特定算术系统中，用两种计算方法评估一个函数值之间的相对误差。该系统使用十进制算术，精度为 $p=5$ 位有效数字，并对每个中间运算使用“舍半取偶”规则进行舍入。输入值为 $x=8888$。\n\n首先，我们使用直接方法 $f(x) = \\sqrt{x+1} - \\sqrt{x}$ 计算数值。我们称计算结果为 $v_1$。\n\n1.  计算 $x+1$：\n    $x+1 = 8888 + 1 = 8889$。这是一个精确计算，结果有4位有效数字，小于系统的5位精度，因此不需要舍入。\n\n2.  计算第一个平方根 $\\sqrt{x+1}$：\n    $\\sqrt{8889} \\approx 94.28149339...$。我们必须将这个中间结果舍入到5位有效数字。前5位数字是 $94.281$。第6位数字是4，小于5，所以我们向下舍入（截断）。\n    我们称这个舍入后的值为 $y_1 = 94.281$。\n\n3.  计算第二个平方根 $\\sqrt{x}$：\n    $\\sqrt{8888} \\approx 94.27618919...$。我们将其舍入到5位有效数字。前5位数字是 $94.276$。第6位数字是1，小于5，所以我们向下舍入。\n    我们称这个舍入后的值为 $y_2 = 94.276$。\n\n4.  执行减法运算：\n    $v_1 = y_1 - y_2 = 94.281 - 94.276 = 0.005$。这个结果只有一位有效数字。它可以在5位精度的系统内被精确表示（如 $5.0000 \\times 10^{-3}$），因此不需要进一步舍入。\n    所以，$v_1 = 0.005$。\n\n接下来，我们使用另一种代数上等价的方法 $g(x) = \\frac{1}{\\sqrt{x+1} + \\sqrt{x}}$ 来计算数值。我们称计算结果为 $v_2$。\n\n1.  中间的平方根计算与之前相同。我们使用舍入后的值：\n    $y_1 = 94.281$\n    $y_2 = 94.276$\n\n2.  执行分母中的加法运算：\n    $y_1 + y_2 = 94.281 + 94.276 = 188.557$。这个中间结果有6位有效数字，必须舍入到5位。前5位数字是 $188.55$。第6位数字是7，大于5，所以我们必须将第5位数字向上舍入。\n    我们称这个舍入后的和为 $S = 188.56$。\n\n3.  执行除法运算：\n    $v_2 = \\frac{1}{S} = \\frac{1}{188.56}$。未舍入的值大约是 $0.00530335171...$。我们必须将其舍入到5位有效数字。该值位于两个可表示的5位有效数字 $0.0053033$ 和 $0.0053034$ 之间。它们的中点是 $0.00530335$。由于 $0.00530335171... > 0.00530335$，它更接近 $0.0053034$。因此，我们将其舍入到最接近的值，即 $v_2 = 0.0053034$。“舍半取偶”规则仅在数值恰好是中点时才适用，此处不适用。\n\n最后，我们计算 $v_1$ 相对于 $v_2$ 的相对误差。公式为 $E_r = \\frac{|v_2 - v_1|}{|v_2|}$。\n\n1.  代入计算出的值：\n    $E_r = \\frac{|0.0053034 - 0.005|}{|0.0053034|} = \\frac{0.0003034}{0.0053034}$。\n\n2.  计算最终值：\n    $E_r \\approx 0.05720877...$\n\n3.  按要求将结果舍入到三位有效数字。前三位有效数字是 $5, 7, 2$。下一位数字是0，所以我们向下舍入。\n    最终答案是 $0.0572$。",
            "answer": "$$\\boxed{0.0572}$$"
        }
    ]
}