{
    "hands_on_practices": [
        {
            "introduction": "掌握KKT条件的第一步是熟悉其四个核心组成部分。这个练习让你扮演一个“裁判”的角色：给定一个优化问题和一个候选点，你的任务是逐一检查该点是否满足平稳性、原始可行性、对偶可行性和互补松弛性条件。这项诊断技能对于验证和调试优化模型至关重要，是理解更复杂应用的基础。",
            "id": "2183108",
            "problem": "考虑以下优化问题：\n最小化函数 $f(x, y) = (x - 4)^{2} + (y - 3)^{2}$，满足不等式约束 $g(x, y) = x^{2} + 2y - 6 \\le 0$。\n\n对于此类约束优化问题（最小化 $f(\\mathbf{x})$，满足 $g_i(\\mathbf{x}) \\le 0$），一个点若要成为可能的局部最小值，必须满足 Karush-Kuhn-Tucker (KKT) 条件。对于这个带有一个约束的特定问题，点 $(x, y)$ 的 KKT 条件如下：\n\n1.  **平稳性 (Stationarity)**：存在一个拉格朗日乘子 $\\mu$ 使得 $\\nabla f(x, y) + \\mu \\nabla g(x, y) = \\mathbf{0}$。\n2.  **原始可行性 (Primal Feasibility)**：$g(x, y) \\le 0$。\n3.  **对偶可行性 (Dual Feasibility)**：拉格朗日乘子 $\\mu \\ge 0$。\n4.  **互补松弛性 (Complementary Slackness)**：$\\mu \\, g(x, y) = 0$。\n\n通过检查所有四个 KKT 条件来分析点 $(x_0, y_0) = (2, 1)$。根据您的分析，从以下选项中选择正确的陈述。\n\nA. 所有四个 KKT 条件均满足，因此该点是 KKT 点。\n\nB. 平稳性条件不满足，因为不存在一个一致的拉格朗日乘子。因此，该点不是 KKT 点。\n\nC. 对偶可行性条件不满足，因为所需的拉格朗日乘子为负。因此，该点不是 KKT 点。\n\nD. 互补松弛性条件不满足。因此，该点不是 KKT 点。\n\nE. 原始可行性条件不满足。因此，该点不是 KKT 点。",
            "solution": "我们给定函数 $f(x,y)=(x-4)^{2}+(y-3)^{2}$ 和约束 $g(x,y)=x^{2}+2y-6\\le 0$。对于点 $(x_{0},y_{0})=(2,1)$，我们检查 KKT 条件。\n\n计算梯度：\n$$\n\\nabla f(x,y)=\\left(2(x-4),\\,2(y-3)\\right),\\quad \\nabla g(x,y)=\\left(2x,\\,2\\right).\n$$\n在点 $(2,1)$ 处，\n$$\n\\nabla f(2,1)=(-4,\\,-4),\\quad \\nabla g(2,1)=(4,\\,2).\n$$\n\n平稳性条件要求存在 $\\mu$ 使得\n$$\n\\nabla f(2,1)+\\mu\\,\\nabla g(2,1)=(0,0),\n$$\n这给出了线性方程组\n$$\n-4+4\\mu=0,\\qquad -4+2\\mu=0.\n$$\n从第一个方程得出 $\\mu=1$。从第二个方程得出 $\\mu=2$。这存在矛盾，因此没有 $\\mu$ 能满足平稳性条件。所以，平稳性条件不满足。\n\n原始可行性要求 $g(2,1)\\le 0$。计算得：\n$$\ng(2,1)=2^{2}+2\\cdot 1-6=4+2-6=0\\le 0,\n$$\n因此原始可行性条件成立。\n\n对偶可行性要求 $\\mu\\ge 0$。由于没有 $\\mu$ 满足平稳性条件，因此没有一致的乘子可供检验；失败的原因是平稳性，而不是 $\\mu$ 的符号。\n\n互补松弛性要求 $\\mu\\,g(2,1)=0$。由于 $g(2,1)=0$，该条件对任何 $\\mu$ 都成立；因此互补松弛性条件满足。\n\n结论：该点因不存在一致的拉格朗日乘子而未能满足平稳性条件。正确选项是 B。",
            "answer": "$$\\boxed{B}$$"
        },
        {
            "introduction": "在验证了KKT条件后，我们现在要利用它们来寻找最优解。这个问题模拟了一个常见情景：在没有约束的情况下，最优选择因一项规定而变得不可行。我们将运用KKT条件来揭示最优解如何被“推”到可行域的边界上，并探讨这对于关联的拉格朗日乘子 $\\mu$ 意味着什么，这个乘子通常被解释为约束的“影子价格”。",
            "id": "2183096",
            "problem": "一个工业过程旨在设定一个操作参数 $x$，以匹配目标值 $a$。与偏离此目标相关的成本由函数 $f(x) = (x-a)^2$ 建模。然而，由于安全规定，参数 $x$ 受到不等式 $x \\le 1$ 的约束。\n\n我们的任务是找到最优操作参数 $x$，在满足安全规定的前提下最小化成本函数。这可以表述为以下约束优化问题：\n$$ \\text{最小化} \\quad f(x) = (x-a)^2 $$\n$$ \\text{约束条件为} \\quad g(x) = x-1 \\le 0 $$\n\n使用拉格朗日乘子法，我们可以利用 Karush-Kuhn-Tucker (KKT) 条件来分析这个问题。考虑目标值为 $a = 4$ 的具体情景。确定在最优解处，与不等式约束相关的拉格朗日乘子 $\\mu$ 的值。",
            "solution": "我们将 $f(x)=(x-a)^{2}$ 在约束 $g(x)=x-1\\le 0$ 下最小化。拉格朗日函数为\n$$\n\\mathcal{L}(x,\\mu)=(x-a)^{2}+\\mu(x-1),\n$$\n其 KKT 条件为：\n- 原始可行性：$x-1\\le 0$。\n- 对偶可行性：$\\mu\\ge 0$。\n- 互补松弛性：$\\mu(x-1)=0$。\n- 驻点条件：$\\frac{\\partial \\mathcal{L}}{\\partial x}=2(x-a)+\\mu=0$。\n\n设 $a=4$。无约束最小化解为 $x=4$，这违反了 $x\\le 1$ 的约束，因此最优解位于激活约束 $x^{\\star}=1$ 上。根据互补松弛性，当 $x-1=0$ 时，$\\mu$ 可以为正。在 $x^{\\star}=1$ 处应用驻点条件：\n$$\n2(1-4)+\\mu=0 \\;\\;\\Rightarrow\\;\\; -6+\\mu=0 \\;\\;\\Rightarrow\\;\\; \\mu=6.\n$$\n这满足对偶可行性 $\\mu\\ge 0$。由于该问题是凸的且 Slater 条件成立（例如，$x=0$ 是严格可行的），这些 KKT 条件是充分必要条件，因此 $\\mu=6$ 是最优解处的拉格朗日乘子。",
            "answer": "$$\\boxed{6}$$"
        },
        {
            "introduction": "现在，让我们将所学技能应用于一个经典的经济学问题。在这个练习中，你将帮助一个公司决定如何组合两种生产投入，以在满足产量要求的同时实现成本最小化。这个问题不仅展示了KKT条件在解决多变量、多约束实际问题中的威力，也为我们理解其中的经济学含义提供了深刻见解。",
            "id": "2404874",
            "problem": "一个面临成本最小化问题的公司使用两种非负投入 $x$ 和 $y$，其价格 $w_{x} > 0$ 和 $w_{y} > 0$ 均为严格正数。该公司必须使用柯布-道格拉斯生产技术 $q=\\sqrt{x y}$ 生产至少一个单位的产出。该公司选择 $x$ 和 $y$ 以在满足技术要求和非负性约束的条件下最小化总成本：\n$$\n\\min_{x,y} \\; w_{x} x + w_{y} y\n$$\n约束条件为\n$$\nx \\ge 0,\\quad y \\ge 0,\\quad x y \\ge 1.\n$$\n根据 $w_{x}$ 和 $w_{y}$，确定满足此问题的卡鲁什-库恩-塔克（KKT）条件的所有点 $(x,y)$。请用一个单行矩阵表示您的最终答案对。",
            "solution": "所述问题是微观经济理论中一个标准的凸优化问题，具体来说是成本最小化问题。该问题是适定的、有科学依据的，并包含了唯一解所需的所有信息。因此，该问题是有效的，我们继续进行分析。\n\n问题是在一组约束条件下，求目标函数 $f(x, y) = w_{x} x + w_{y} y$ 的最小值。为了应用卡鲁什-库恩-塔克（KKT）条件，我们首先将问题表述为最小化问题的标准形式，即 $\\min f(\\mathbf{z})$，约束条件为 $g_i(\\mathbf{z}) \\le 0$ 和 $h_j(\\mathbf{z}) = 0$。在本例中，我们只有不等式约束。\n\n目标函数是 $f(x, y) = w_{x} x + w_{y} y$。\n约束条件如下：\n$1$. $x \\ge 0$，我们将其重写为 $g_1(x, y) = -x \\le 0$。\n$2$. $y \\ge 0$，我们将其重写为 $g_2(x, y) = -y \\le 0$。\n$3$. $xy \\ge 1$，我们将其重写为 $g_3(x, y) = 1 - xy \\le 0$。\n\n价格 $w_x$ 和 $w_y$ 是严格为正的，即 $w_x > 0$ 且 $w_y > 0$。目标函数 $f(x,y)$ 是线性的，因此是凸函数。由约束条件定义的可行集也是一个凸集。因此，KKT条件是全局最小值的充分必要条件。\n\n这个问题的拉格朗日函数 $\\mathcal{L}$ 是通过将每个不等式约束 $g_i(x,y) \\le 0$ 与一个拉格朗日乘子（或KKT乘子）$\\lambda_i \\ge 0$ 相关联来构建的：\n$$\n\\mathcal{L}(x, y, \\lambda_1, \\lambda_2, \\lambda_3) = f(x, y) + \\sum_{i=1}^{3} \\lambda_i g_i(x, y)\n$$\n$$\n\\mathcal{L}(x, y, \\lambda_1, \\lambda_2, \\lambda_3) = w_{x} x + w_{y} y - \\lambda_1 x - \\lambda_2 y + \\lambda_3 (1 - xy)\n$$\n\nKKT条件包括平稳性、原始可行性、对偶可行性和互补松弛性。\n\n$1$. **平稳性** (Stationarity)：拉格朗日函数对决策变量的偏导数必须为零。\n$$\n\\frac{\\partial \\mathcal{L}}{\\partial x} = w_x - \\lambda_1 - \\lambda_3 y = 0 \\quad (1)\n$$\n$$\n\\frac{\\partial \\mathcal{L}}{\\partial y} = w_y - \\lambda_2 - \\lambda_3 x = 0 \\quad (2)\n$$\n\n$2$. **原始可行性** (Primal Feasibility)：必须满足原问题的约束条件。\n$$\n-x \\le 0 \\implies x \\ge 0 \\quad (3)\n$$\n$$\n-y \\le 0 \\implies y \\ge 0 \\quad (4)\n$$\n$$\n1 - xy \\le 0 \\implies xy \\ge 1 \\quad (5)\n$$\n\n$3$. **对偶可行性** (Dual Feasibility)：不等式约束的拉格朗日乘子必须为非负。\n$$\n\\lambda_1 \\ge 0 \\quad (6)\n$$\n$$\n\\lambda_2 \\ge 0 \\quad (7)\n$$\n$$\n\\lambda_3 \\ge 0 \\quad (8)\n$$\n\n$4$. **互补松弛性** (Complementary Slackness)：每个拉格朗日乘子与其对应的约束函数之积必须为零。\n$$\n\\lambda_1 (-x) = 0 \\implies \\lambda_1 x = 0 \\quad (9)\n$$\n$$\n\\lambda_2 (-y) = 0 \\implies \\lambda_2 y = 0 \\quad (10)\n$$\n$$\n\\lambda_3 (1 - xy) = 0 \\quad (11)\n$$\n\n我们现在求解这个方程组。根据原始可行性条件 $(5)$，$xy \\ge 1$。由于根据 $(3)$ 和 $(4)$，$x$ 和 $y$也必须为非负，所以 $x$ 或 $y$ 都不可能为零。因此，我们必须有 $x > 0$ 和 $y > 0$。\n\n根据 $x > 0$ 和互补松弛性条件 $(9)$，$\\lambda_1 x = 0$，我们得出结论 $\\lambda_1 = 0$。\n类似地，根据 $y > 0$ 和互补松弛性条件 $(10)$，$\\lambda_2 y = 0$，我们得出结论 $\\lambda_2 = 0$。\n\n将 $\\lambda_1 = 0$ 和 $\\lambda_2 = 0$ 代入平稳性方程 $(1)$ 和 $(2)$，可简化为：\n$$\nw_x - \\lambda_3 y = 0 \\implies w_x = \\lambda_3 y \\quad (1')\n$$\n$$\nw_y - \\lambda_3 x = 0 \\implies w_y = \\lambda_3 x \\quad (2')\n$$\n\n由于 $w_x > 0$，$w_y > 0$，$x > 0$ 且 $y > 0$，方程 $(1')$ 和 $(2')$ 意味着 $\\lambda_3$ 必须为严格正数，即 $\\lambda_3 > 0$。\n\n现在，我们使用互补松弛性条件 $(11)$，$\\lambda_3 (1 - xy) = 0$。由于我们已经确定 $\\lambda_3 > 0$，那么必然有 $1 - xy = 0$，这意味着生产约束是紧的（binding）：\n$$\nxy = 1 \\quad (12)\n$$\n\n我们现在有一个包含三个未知数（$x$，$y$，$\\lambda_3$）的方程组：\na) $w_x = \\lambda_3 y$\nb) $w_y = \\lambda_3 x$\nc) $xy = 1$\n\n从(a)和(b)，我们可以用 $\\lambda_3$ 表示 $x$ 和 $y$：\n$$\ny = \\frac{w_x}{\\lambda_3}\n$$\n$$\nx = \\frac{w_y}{\\lambda_3}\n$$\n将 $x$ 和 $y$ 的这些表达式代入方程(c)：\n$$\n\\left(\\frac{w_y}{\\lambda_3}\\right) \\left(\\frac{w_x}{\\lambda_3}\\right) = 1\n$$\n$$\n\\frac{w_x w_y}{\\lambda_3^2} = 1 \\implies \\lambda_3^2 = w_x w_y\n$$\n由于 $\\lambda_3 > 0$，我们取正根：\n$$\n\\lambda_3 = \\sqrt{w_x w_y}\n$$\n最后，我们将 $\\lambda_3$ 的这个值代回到 $x$ 和 $y$ 的表达式中：\n$$\nx = \\frac{w_y}{\\sqrt{w_x w_y}} = \\sqrt{\\frac{w_y^2}{w_x w_y}} = \\sqrt{\\frac{w_y}{w_x}}\n$$\n$$\ny = \\frac{w_x}{\\sqrt{w_x w_y}} = \\sqrt{\\frac{w_x^2}{w_x w_y}} = \\sqrt{\\frac{w_x}{w_y}}\n$$\n因此，满足此问题KKT条件的点 $(x,y)$ 由输入价格 $w_x$ 和 $w_y$ 唯一确定。该点满足所有KKT条件，并且由于问题的凸性，该点是全局成本最小值。",
            "answer": "$$\n\\boxed{\\begin{pmatrix} \\sqrt{\\frac{w_y}{w_x}} & \\sqrt{\\frac{w_x}{w_y}} \\end{pmatrix}}\n$$"
        }
    ]
}