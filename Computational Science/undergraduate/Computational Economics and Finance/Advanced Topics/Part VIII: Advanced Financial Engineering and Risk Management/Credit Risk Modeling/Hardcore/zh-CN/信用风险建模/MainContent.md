## 引言
在现代金融体系中，[信用风险](@entry_id:146012)是银行、投资者和监管机构面临的最核心、最复杂的挑战之一。准确地量化、定价和管理这种风险，是维护金融稳定和实现稳健回报的基石。[信用风险](@entry_id:146012)建模作为量化金融皇冠上的明珠，为我们提供了应对这一挑战的强大分析工具。然而，该领域存在多种建模[范式](@entry_id:161181)，从解释违约经济原因的结构化方法到直接对违约事件进行[统计建模](@entry_id:272466)的简约方法，其理论基础和应用场景各不相同，常常令初学者感到困惑。

本文旨在系统性地梳理[信用风险](@entry_id:146012)建模的知识体系，填补理论与实践之间的鸿沟。我们将带领读者从第一性原理出发，清晰地辨析不同模型的思想内核、数学构造及其在真实世界中的力量与局限。

在接下来的内容中，我们将分三步深入探索这个领域。首先，在“原理与机制”一章中，我们将深入剖析结构化模型与[简约式模型](@entry_id:137045)这两大[范式](@entry_id:161181)，理解它们如何从不同的哲学角度看待违约事件，并掌握其核心数学工具，如[默顿模型](@entry_id:143249)、[跳跃扩散过程](@entry_id:147901)和违约强度。接着，在“应用与跨学科联系”一章中，我们将展示这些模型如何在金融实践中大放异彩，从主权风险评估、信用[衍生品定价](@entry_id:144008)到系统性[风险分析](@entry_id:140624)，并进一步探索其思想如何跨越学科边界，应用于[供应链管理](@entry_id:266646)、气候金融等前沿领域。最后，在“动手实践”部分，您将有机会通过解决一系列精心设计的问题，将理论知识转化为解决实际问题的能力。

## 原理与机制

本章旨在深入探讨[信用风险](@entry_id:146012)建模的核心原理与关键机制。继前一章对[信用风险](@entry_id:146012)的背景介绍之后，我们将系统性地剖析两类主要的建模[范式](@entry_id:161181)——结构化模型与[简约式模型](@entry_id:137045)。我们将从第一性原理出发，构建每一类模型的基础，并借助具体的案例来说明其在金融实践中的应用，例如[衍生品定价](@entry_id:144008)、投资组合风险管理以及监管资本计算。通过本章的学习，读者将能够理解不同模型的理论假设、数学构造及其各自的优势与局限。

### [信用风险](@entry_id:146012)建模的两种[范式](@entry_id:161181)：结构化模型与[简约式模型](@entry_id:137045)

在[信用风险](@entry_id:146012)建模领域，存在两种截然不同的思想体系：**结构化模型（Structural Models）**和**[简约式模型](@entry_id:137045)（Reduced-form Models）**，后者亦常被称为**强度模型（Intensity Models）**。

**结构化模型**试图解释违约发生的**经济原因**。其核心思想源于 Robert Merton 在1974年的开创性工作，该理论将公司的股权和债务与期权联系起来。在这一框架下，违约被视为一个内生事件，当公司的资产价值因市场波动等因素下跌至某个临界水平（通常是其债务的账面价值）以下时，公司便会发生违约。因此，违约过程与公司的资本结构和资产价值动态直接相关。这类模型的优点在于其经济直觉清晰，能够将[信用风险](@entry_id:146012)与公司的财务状况和市场风险联系起来。

与此相对，**[简约式模型](@entry_id:137045)**并不探究违约背后的具体经济动因，而是将违约视为一个由外部定义的、不可预测的随机事件。这类模型关注的是违约事件发生的**时间点**。其核心工具是**违约强度（Default Intensity）**或**风险率（Hazard Rate）**，记为 $\lambda(t)$，它描述了在给定实体至今尚未违约的条件下，在下一瞬间发生违约的瞬时概率。违约被建模为泊松过程或更广义的点过程的“首次到达事件”。这种方法的优势在于其灵活性和对市场数据的拟合能力，尤其是在为信用衍生品（如[信用违约互换](@entry_id:137107)，[CDS](@entry_id:137107)）定价时，可以直接利用市场交易数据来校准违约强度，而无需对公司的资产价值和资本结构做出复杂的假设。

接下来，我们将分别对这两种[范式](@entry_id:161181)进行深入的剖析。

### 结构化[信用风险](@entry_id:146012)模型

结构化模型将公司的违约风险内生化，视其为公司资产价值[随机过程](@entry_id:159502)的直接产物。这一[范式](@entry_id:161181)的基石是[默顿模型](@entry_id:143249)。

#### [默顿模型](@entry_id:143249)：公司作为一种期权

[默顿模型](@entry_id:143249)将公司的资本结构视为一系列对公司总资产价值的或有要求权（Contingent Claims）。假设一家公司仅通过股权和一笔零息债券进行融资，该债券的面值为 $D$，到期日为 $T$。公司的总资产价值 $V_t$ 是一个[随机过程](@entry_id:159502)。

在到期日 $T$，如果公司资产价值 $V_T$ 大于债务面值 $D$，公司将偿还债务，股东则获得剩余价值 $V_T - D$。如果 $V_T$ 小于或等于 $D$，公司无法偿还债务，发生违约。此时，债权人接管公司所有剩余资产 $V_T$，而股东一无所获。这种[支付结构](@entry_id:634071)与一个以公司资产 $V_t$ 为标的资产、以债务面值 $D$ 为执行价格、到期日为 $T$ 的欧式看涨期权完全相同。因此，在时刻 $t$ 的公司**股权价值 $E_t$** 可以被看作是一个关于公司资产价值的**看涨期权**，而**债权价值 $B_t$** 则等于无风险债券的价值减去一个关于公司资产的**看跌期权**（即卖给股东的违约保险）。

为了对这些或有要求权进行定价，我们通常假设在[风险中性测度](@entry_id:147013)下，公司资产价值 $V_t$ 服从**[几何布朗运动](@entry_id:137398)（Geometric Brownian Motion, GBM）**。例如，在一个更贴近现实的场景中，我们可以将公司的持续现金消耗建模为连续支付的股息率 $q$。此时，$V_t$ 的随机微分方程（SDE）可以写作：
$$
dV_t = (r - q)V_t dt + \sigma V_t dW_t
$$
其中 $r$ 是无风险利率，$\sigma$ 是资产价值的波动率，$W_t$ 是一个标准[维纳过程](@entry_id:137696)。

根据[伊藤引理](@entry_id:138912)（Itô's Lemma），在时刻 $T$，对数资产价值 $\ln(V_T)$ 服从正态分布：
$$
\ln(V_T) \sim \mathcal{N}\left(\ln(V_0) + \left(r - q - \frac{\sigma^2}{2}\right)T, \sigma^2 T\right)
$$
违约事件定义为 $V_T \le D$。因此，**风险中性违约概率（Probability of Default, PD）** 就是 $\mathbb{P}(V_T \le D)$。通过对上述正态分布进行标准化，我们可以得到：
$$
\text{PD} = \mathbb{P}(\ln V_T \le \ln D) = \Phi\left(\frac{\ln D - (\ln V_0 + (r - q - \frac{\sigma^2}{2})T)}{\sigma\sqrt{T}}\right) = \Phi(-d_2)
$$
其中 $\Phi(\cdot)$ 是[标准正态分布](@entry_id:184509)的累积分布函数（CDF），而 $d_2$ 是[布莱克-斯科尔斯-默顿](@entry_id:147622)（[Black-Scholes-Merton](@entry_id:147622)）公式中的一个标准参数：
$$
d_2 = \frac{\ln(V_0/D) + (r - q - \frac{\sigma^2}{2})T}{\sigma\sqrt{T}}
$$
公司的股权价值 $E_0$ 就是该看涨期权的现值，可以直接使用包含连续股息的BSM公式计算：
$$
E_0 = V_0 e^{-qT} \Phi(d_1) - D e^{-rT} \Phi(d_2)
$$
其中 $d_1 = d_2 + \sigma\sqrt{T}$。

这个框架不仅适用于传统公司，还可以被创造性地应用于其他场景。例如，我们可以将一家初创公司的估值问题置于此框架下，其中未来的融资目标 $K$ 扮演了债务面值的角色，而公司价值 $V_t$ 的消耗则对应于现金燃烧率 $q$。如果公司在融资截止日 $T$ 的企业价值 $V_T$ 未能达到门槛 $K$，则视为“违约”或失败。这种方法为早期科技公司的[风险评估](@entry_id:170894)和估值提供了一个严谨的理论工具 。

#### 关键[随机过程](@entry_id:159502)与[违约距离](@entry_id:139421)

在结构化模型中，对核心[随机过程](@entry_id:159502)的深入理解至关重要。一个在[信用风险](@entry_id:146012)分析中极具影响力的指标是**[违约距离](@entry_id:139421)（Distance-to-Default, DD）**。它衡量了公司资产的预期价值在未来某个时间点与违约点之间的距离，并以资产价值的波动性进行标准化。其直观含义是：公司距离违约还有“几个标准差”。

一个常见的定义形式为，在给定实体测度下（漂移率为 $\mu$），时刻 $t$ 的[违约距离](@entry_id:139421)为：
$$
DD_t = \frac{\ln(V_t/D) + (\mu - \sigma^2/2)t}{\sigma \sqrt{t}}
$$
这个指标本身也是一个[随机过程](@entry_id:159502)。通过对 $DD_t$ 应用[伊藤引理](@entry_id:138912)，我们可以推导出其自身的随机微分方程（SDE）。这一过程虽然在数学上较为复杂，但它揭示了[违约距离](@entry_id:139421)这一关键信用指标如何随时间和市场变化而演变。例如，对于上述定义的 $DD_t$，其SDE可以被推导出来，其漂移项和[扩散](@entry_id:141445)项都是时间的函数，并且漂移项还依赖于 $DD_t$ 自身 。这类分析使得我们能够对信用健康状况的动态演变进行建模和预测。

#### 扩展：考虑跳跃的跳跃-扩散模型

[几何布朗运动](@entry_id:137398)模型假设资产价值是连续变化的，但这无法捕捉由重大负面消息、自然灾害或市场崩盘等事件引发的资产价值**突变**或**跳跃**。为了使模型更加贴近现实，Merton (1976) 提出了**跳跃-扩散模型（Jump-Diffusion Model）**。

在该模型下，资产价值的变化由两部分构成：一部分是连续的[扩散过程](@entry_id:170696)（如GBM），另一部分是由泊松过程驱动的离散[跳跃过程](@entry_id:180953)。其风险中性动态的SDE可以表示为：
$$
\frac{dV_t}{V_{t^-}} = (r - q - \lambda \kappa)dt + \sigma dW_t + (J - 1)dN_t
$$
这里，$N_t$ 是一个强度为 $\lambda$ 的泊松过程，表示跳跃事件的发生；$J$ 是跳跃大小的乘数，通常假设其对数 $\ln(J)$ 服从正态分布 $\mathcal{N}(\mu_J, \delta_J^2)$；$\kappa = \mathbb{E}[J - 1]$ 是一个补偿项，用以确保经风险调整后的资产价格过程是一个鞅。

为了计算该模型下的违约概率 $\mathbb{P}(V_T \le D)$，我们需要求解 $\ln V_T$ 的[分布](@entry_id:182848)。$\ln V_T$ 由三部分组成：一个确定性漂移项、一个正态分布的[扩散](@entry_id:141445)项（来自 $W_T$）以及一个由[复合泊松过程](@entry_id:140283)产生的跳跃项（$\sum_{i=1}^{N_T} \ln(J_i)$）。

由于跳跃项的存在，$\ln V_T$ 不再是简单的正态分布。但我们可以通过**[全概率公式](@entry_id:194231)**，以跳跃次数 $N_T=n$ 为条件来求解。条件于在 $[0, T]$ 区间内发生 $n$ 次跳跃，$\ln V_T$ 的[分布](@entry_id:182848)是正态的，其均值和[方差](@entry_id:200758)会随 $n$ 的增加而改变。然后，我们将这些[条件概率](@entry_id:151013)乘以发生 $n$ 次跳跃的泊松概率 $\mathbb{P}(N_T = n) = \frac{e^{-\lambda T}(\lambda T)^n}{n!}$，并对所有可能的跳跃次数 $n$ (从 $0$到$\infty$)求和，即可得到总的违约概率 。
$$
\text{PD} = \sum_{n=0}^{\infty} \mathbb{P}(V_T \le D | N_T = n) \mathbb{P}(N_T = n)
$$
这个框架极大地增强了结构化模型的现实性，因为它能够捕捉由突发事件导致的“瞬间违约”风险，这是纯[扩散模型](@entry_id:142185)无法体现的。

### 简约式[信用风险](@entry_id:146012)模型（强度模型）

与结构化模型试图解释违约的内在机制不同，[简约式模型](@entry_id:137045)采取了一种更为现象学的方法，直接对违约事件的到达时间进行建模。

#### 核心思想：作为意外事件的违约

[简约式模型](@entry_id:137045)将违约视为一个随机“意外”，其到达由一个称为**违约强度** $\lambda(t)$ 的过程所支配。违约强度（或称[风险率](@entry_id:266388)）的直观含义是，在时刻 $t$ 之前尚未违约的条件下，在接下来的极短时间 $dt$ 内发生违约的概率近似为 $\lambda(t)dt$。

违约时间 $\tau$ 的**生存函数 $S(t)$**，即实体存活超过时间 $t$ 的概率，由违约强度决定：
$$
S(t) = \mathbb{P}(\tau > t) = \exp\left(-\int_0^t \lambda(u)du\right)
$$
相应地，在时间 $t$ 或之前发生违约的累积概率为 $1 - S(t)$。

在最简单的形式中，违约强度可以是一个常数 $\lambda$（对应于指数分布的违约时间），或者是一个确定的时间函数 $\lambda(t)$。更复杂的模型中，$\lambda(t)$ 本身也可以是一个[随机过程](@entry_id:159502)，例如，它可以与利率、股票波动率等宏观经济变量或公司特定变量相关联。一个常见的建模方法是**[考克斯过程](@entry_id:747993)（Cox Process）**，其中强度过程由可观测的协变量驱动。例如，我们可以假设强度 $\lambda_t$ 遵循对数线性规范 ：
$$
\lambda_t = \lambda_0 \exp(\beta_{\sigma}\sigma_t + \beta_r r_t)
$$
其中 $\sigma_t$ 是公司股票的波动率，$r_t$ 是无风险利率。这种设定使得模型能够动态地反映变化的经济环境对[信用风险](@entry_id:146012)的影响。

#### [简约式模型](@entry_id:137045)的应用

[简约式模型](@entry_id:137045)的灵活性使其在金融市场中得到了广泛应用，特别是在信用[衍生品定价](@entry_id:144008)和[风险管理](@entry_id:141282)方面。

##### [CDS](@entry_id:137107) 定价

**[信用违约互换](@entry_id:137107)（Credit Default Swap, [CDS](@entry_id:137107)）** 是一种金融合约，其中一方（保护买方）定期向另一方（保护卖方）支付保费，以换取在某个参考实体发生违约事件时获得的一次性赔付。这个定期支付的保费率被称为[CDS](@entry_id:137107)**价差（spread）**。

在[简约式模型](@entry_id:137045)框架下，计算[CDS](@entry_id:137107)的公允价差 $S^*$ 需要对合约的两个“腿”进行估值：**保护腿（Protection Leg）**和**保费腿（Premium Leg）**。公允价差使得在合约初始时，两个腿的现值相等。

*   **保护腿的[现值](@entry_id:141163) ($PV_{prot}$)** 是在违约发生时，保护卖方需支付的损失（通常是 $(1-R) \times \text{名义本金}$，其中 $R$ 是回收率）的风险中性期望折[现值](@entry_id:141163)。其计算公式为：
    $$
    PV_{prot} = (1-R) \int_0^T e^{-\int_0^t r(u)du} \lambda(t) S(t) dt
    $$
    其中 $e^{-\int_0^t r(u)du}$ 是折现因子。

*   **保费腿的[现值](@entry_id:141163) ($PV_{prem}$)** 是未来一系列保费支付的风险中性期望折现值。由于只有在参考实体尚未违约时才需支付保费，因此每次支付都需要乘以相应的生存概率。对于一份年费率为 $S$、在时刻 $t_i$ 支付的合约，其保费腿的现值（通常还包括对违约发生时未结计保费的处理）可以表示为 $S \times \text{RPLT01}$，其中 $\text{RPLT01}$ 被称为“每基点风险[现值](@entry_id:141163)”，代表了单位价差的[现值](@entry_id:141163)。

公允价差 $S^*$ 就是使得 $S^* \times \text{RPLT01} = PV_{prot}$ 的值，即：
$$
S^* = \frac{PV_{prot}}{\text{RPLT01}}
$$
在实践中，如果利率 $r(t)$ 和违约强度 $\lambda(t)$ 被假设为分段[常数函数](@entry_id:152060)，这些积分可以被分解为一系列易于计算的解析表达式之和，从而高效地为[CDS](@entry_id:137107)定价 。

##### 预期信用损失（ECL）的计算

[简约式模型](@entry_id:137045)也是计算**预期信用损失（Expected Credit Loss, ECL）** 的核心工具，这在银行的会计准则（如IFRS 9）和监管资本要求（如巴塞尔协议）中至关重要。ECL是在某个时间范围内，因借款人违约而可能发生的经济损失的概率加权估计。

其[通用计算](@entry_id:275847)公式为：
$$
EL_H = \int_0^H (EAD \cdot LGD) \cdot e^{-rt} \cdot f(t) \, dt
$$
其中，$H$ 是计算损失的时间范围，$EAD$ 是违约风险敞口，$LGD$ 是违约损失率，$f(t) = \lambda(t)S(t)$ 是违约时间密度函数。

不同的监管和会计框架要求使用不同的时间范围 $H$。
*   **IFRS 9** 要求银行根据[信用风险](@entry_id:146012)的显著增加来区分阶段，对于信用质量未显著恶化的资产（第一阶段），计提12个月的ECL；而对于信用质量显著恶化（第二阶段）或已发生信用减值（第三阶段）的资产，则需要计提**整个存续期（Lifetime）**的ECL。
*   **巴塞尔协议**的资本要求计算通常关注**一年期**的风险指标。

使用[简约式模型](@entry_id:137045)，我们可以精确计算不同时间范围下的ECL。例如，对于一笔期限为 $T$ 的贷款，其IFRS 9存续期ECL的计算范围是 $H=T$，而巴塞尔框架下的一年期ECL的计算范围则是 $H=\min(T, 1)$。由于通常 $\lambda(t) > 0$，存续期ECL会高于一年期ECL，这一差异直接影响银行的拨备计提和利润，凸显了模型在满足不同监管要求时的关键作用 。

### 投资组合[信用风险](@entry_id:146012)模型

以上模型主要关注单个实体的[信用风险](@entry_id:146012)。然而，在现实中，银行和投资者持有的是由众多资产构成的投资组合。组合的[信用风险](@entry_id:146012)并不仅仅是单个风险的简单加总，**违约相关性**在其中扮演着至关重要的角色。

#### 从个体到组合：违约相关性的重要性

如果组合中所有借款人的违约是[相互独立](@entry_id:273670)的，那么根据[大数定律](@entry_id:140915)，组合的实际损失率将非常接近其预期损失率。然而，经济周期、行业冲击等系统性因素会导致不同借款人的违约概率同时上升或下降，形成正相关。这种相关性会使得组合损失[分布](@entry_id:182848)产生“[厚尾](@entry_id:140093)”，即发生远超预期的极端损失的可能性显著增加。因此，对违约相关性进行建模是投资组合[信用风险](@entry_id:146012)管理的核心。

#### 核心框架：潜在变量模型

**潜在变量模型（Latent Variable Models）**，或称**[因子模型](@entry_id:141879)（Factor Models）**，是分析投资组合[信用风险](@entry_id:146012)最主流的框架。其基本思想是，每个公司 $i$ 的违约行为由一个不可观测的“潜在变量” $A_i$ 决定。当 $A_i$ 低于某个违约阈值时，公司就会违约。

这些潜在变量 $A_i$ 并非[相互独立](@entry_id:273670)，而是被假设为由一组共同的系统性风险因子和一个公司特有的[异质性风险](@entry_id:139231)因子共同驱动。正是这些共同因子，在模型中引入了违约相关性。

#### 单因子高斯 Copula 模型

最著名且应用最广泛的投资组合[信用风险](@entry_id:146012)模型是**单因子高斯[Copula模型](@entry_id:143986)**，有时也被称为瓦西切克（Vasicek）模型。该模型假设所有公司的潜在变量都受到同一个标准正态分布的宏观经济因子 $Z$ 的影响。

对于组合中的任何一个借款人 $i$，其潜在变量 $A_i$ 定义为：
$$
A_i = \sqrt{\rho}Z + \sqrt{1-\rho}E_i
$$
其中，$Z \sim \mathcal{N}(0,1)$ 是代表宏观经济环境的**共同因子**，$E_i \sim \mathcal{N}(0,1)$ 是代表公司特定风险的**异质性因子**，且 $Z$ 与所有 $E_i$ [相互独立](@entry_id:273670)。参数 $\rho \in [0,1)$ 代表了**[资产相关性](@entry_id:142332)**，衡量了公司资产价值对共同因子的敏感度。

在此模型下，可以从第一性原理推导出几个关键结果 ：
1.  **违约阈值**：如果每个借款人的无条件违约概率为 $p$，那么其违约阈值为 $t = \Phi^{-1}(p)$。
2.  **条件违约概率**：在给定宏观因子实现值为 $z$ 的条件下，单个借款人的条件违约概率为：
    $$
    L(z) = \mathbb{P}(A_i \le t | Z=z) = \Phi\left(\frac{\Phi^{-1}(p) - \sqrt{\rho}z}{\sqrt{1-\rho}}\right)
    $$
    对于一个无限精细（infinitely granular）的大型同质化投资组合，这个条件违约概率就是整个组合的损失率。
3.  **投资组合损失[分布](@entry_id:182848)的[分位数](@entry_id:178417)**：由于组合损失率 $L$ 是 $Z$ 的单调递减函数，我们可以推导出损失[分布](@entry_id:182848)的 $\alpha$-分位数（即 $\alpha$-[VaR](@entry_id:140792)）：
    $$
    L_\alpha = \Phi\left(\frac{\Phi^{-1}(p) + \sqrt{\rho}\Phi^{-1}(\alpha)}{\sqrt{1-\rho}}\right)
    $$
    这个公式是巴塞尔II/III框架中计算监管资本的核心部分，它将组合的极端损失（如99.9%[分位数](@entry_id:178417)）与无条件违约概率 $p$ 和[资产相关性](@entry_id:142332) $\rho$ 直接联系起来。
4.  **违约相关性**：两个不同借款人 $i$ 和 $j$ 的违约事件之间的相关性可以被精确计算，它依赖于 $p$ 和 $\rho$。

这个模型优雅地解释了违约的聚集现象（default clustering）：当宏观经济因子 $Z$ 取一个很大的负值时（经济衰退），所有公司的条件违约概率都会同时上升，导致大规模的违约事件。

#### 分散化收益的量化

[因子模型](@entry_id:141879)也为理解和量化**分散化（Diversification）**的收益提供了有力的工具。考虑一个由多个行业构成的投资组合，每个行业由其自身的、相互独立的系统性因子 $F_k$ 驱动 。

组合的总损失是各行业损失之和：$L_{\text{port}} = \sum_{k=1}^{K} L_k$。由于各行业因子 $F_k$ 相互独立，各行业的总损失 $L_k$ 也是不相关的。因此，组合总损失的[方差](@entry_id:200758)等于各行业损失[方差](@entry_id:200758)之和：
$$
\mathrm{Var}(L_{\text{port}}) = \sum_{k=1}^{K} \mathrm{Var}(L_k)
$$
组合的**意外损失（Unexpected Loss, UL）**被定义为损失的标准差。因此，组合的意外损失为：
$$
U_{\text{port}} = \mathrm{UL}(L_{\text{port}}) = \sqrt{\sum_{k=1}^{K} \mathrm{Var}(L_k)}
$$
然而，各行业意外损失的简单加总是：
$$
S = \sum_{k=1}^{K} \mathrm{UL}(L_k) = \sum_{k=1}^{K} \sqrt{\mathrm{Var}(L_k)}
$$
根据基本的数学性质（[向量范数](@entry_id:140649)的[三角不等式](@entry_id:143750)），只要行业数 $K>1$ 且至少有两个行业的风险不为零，就必然有：
$$
U_{\text{port}} \le S
$$
这个不等式精确地量化了分散化的收益：一个跨行业（不相关风险源）分散的投资组合，其总体风险**小于**各部分风险的算术和。这揭示了为什么将风险分散到不相关的领域是[风险管理](@entry_id:141282)的一项基本原则。

### 高级主题与模型扩展

基础的[信用风险](@entry_id:146012)模型在许多方面都可以进行扩展，以适应更复杂的现实情况。

#### 随机违约损失率（LGD）

大多数基础模型假设**违约损失率（Loss Given Default, LGD）**是一个固定的常数。然而在现实中，LGD往往是随机的，并且可能与导致违约的宏观经济因素相关（例如，在经济衰退期间，抵押品的回收价值通常更低，导致更高的LGD）。

一个高级的建模方法是将LGD本身建模为一个[随机变量](@entry_id:195330)，其[分布](@entry_id:182848)依赖于宏观经济[协变](@entry_id:634097)量。由于LGD通常表示为损失占敞口的比例，其取值范围在 $[0,1]$ 之间，因此**Beta[分布](@entry_id:182848)**是一个非常合适的选择。模型的参数 $\alpha$ 和 $\beta$ 可以通过一个联接函数（如对数联接）与宏观变量（如失业率、GDP增长率等）联系起来 。
$$
\log \alpha = w_{\alpha}^\top x, \qquad \log \beta = w_{\beta}^\top x
$$
其中 $x$ 是宏观经济变量构成的向量。这种方法使得模型能够捕捉在不同经济情景下LGD[分布](@entry_id:182848)的变化，从而可以计算出条件期望、风险价值（[VaR](@entry_id:140792)）和条件尾部期望（CTE）等更精细的风险度量。

#### 系统性风险与[传染模型](@entry_id:266899)

[因子模型](@entry_id:141879)通过共同因子来捕捉系统性风险，但这是一种“自上而下”的宏观驱动模式。它无法很好地刻画金融系统中“自下而上”的**传染（Contagion）**效应，即一家机构的倒闭通过交易对手关系、资产抛售等直接渠道，像多米诺骨牌一样引发其他机构的连锁失败。

为了研究这类网络效应驱动的系统性风险，**[基于主体的模型](@entry_id:199978)（Agent-Based Models, ABM）**提供了一种强大的模拟工具。在ABM中，我们可以构建一个由多家银行（主体）组成的[金融网络](@entry_id:138916)，银行之间通过资产负债表上的相互敞口（如银行间借贷）连接起来 。

在这样的模型中，可以模拟一个初始的外部冲击（例如，一家银行外生违约）。这家银行的违约会给其债权银行带来损失。如果这些损失足够大，超出了某些债权银行的资本吸收能力，就会增加它们的违约概率，甚至导致它们也发生违约。这些新的违约又会进一步向网络中的其他银行传播损失，形成一个[正反馈](@entry_id:173061)循环或“违约瀑布”。通过运行大量的蒙特卡洛模拟，ABM可以帮助我们理解[金融网络](@entry_id:138916)的脆弱性、识别系统重要性机构，并评估不同监管政策（如提高资本充足率）在抑制传染风险方面的效果。