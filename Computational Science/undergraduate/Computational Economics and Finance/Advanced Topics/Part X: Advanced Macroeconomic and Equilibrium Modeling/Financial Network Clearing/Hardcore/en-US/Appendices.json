{
    "hands_on_practices": [
        {
            "introduction": "This first exercise is designed to build your foundational skills in solving for the clearing vector. By working through a simple two-bank system with a parameterized liability haircut, you will gain hands-on experience with the iterative algorithm that is central to the Eisenberg-Noe model. This practice will help you understand how a policy intervention directly impacts the payments that banks can ultimately make. ",
            "id": "2392822",
            "problem": "Consider an Eisenberg–Noe financial network with $2$ banks (indexed by $i \\in \\{1,2\\}$) and a societal node. Let the external assets be $x = (x_{1}, x_{2}) = (2, 1)$. The nominal interbank liabilities are given by the matrix $L$ with entries $L_{12} = 1$ and $L_{21} = 2$ (and $L_{11} = L_{22} = 0$). Each bank also owes to society: $l_{10} = 1$ and $l_{20} = 1$. A uniform haircut with parameter $\\alpha$ where $0  \\alpha  1$ is applied to interbank liabilities only, so the interbank liabilities become $(1-\\alpha) L$ while $l_{10}$, $l_{20}$, and $x$ are unchanged.\n\nFor each bank $i \\in \\{1,2\\}$, the total nominal obligations after the haircut are\n$$\\bar{p}_{1}(\\alpha) = (1 - \\alpha)L_{12} + l_{10}, \\quad \\bar{p}_{2}(\\alpha) = (1 - \\alpha)L_{21} + l_{20}.$$\nDefine the relative liabilities matrix $\\Pi(\\alpha)$ by $\\Pi_{ij}(\\alpha) = \\frac{L'_{ij}(\\alpha)}{\\bar{p}_{i}(\\alpha)}$ for interbank links ($j \\in \\{1,2\\}$) and $\\Pi_{i0}(\\alpha) = \\frac{l_{i0}}{\\bar{p}_{i}(\\alpha)}$, where $L'(\\alpha) = (1 - \\alpha)L$ and $l_{i0} = l_{10}$ for $i=1$ and $l_{20}$ for $i=2$. The Eisenberg–Noe clearing payments vector $p^{*}(\\alpha) \\in \\mathbb{R}^{2}_{+}$ is any fixed point satisfying limited liability and proportionality, that is,\n$$p^{*}(\\alpha) = \\min\\big(\\bar{p}(\\alpha), \\, x + \\Pi(\\alpha)^{\\top} p^{*}(\\alpha)\\big),$$\nwith the minimum taken componentwise.\n\nCompute $p^{*}(\\alpha)$ explicitly as a function of $\\alpha$. Express your final answer as a $1 \\times 2$ row vector in terms of $\\alpha$. No rounding is required.",
            "solution": "The problem statement is subject to validation prior to any attempt at a solution.\n\n**Step 1: Extract Givens**\n- Number of banks: $2$, indexed by $i \\in \\{1, 2\\}$.\n- External assets vector: $x = (x_1, x_2) = (2, 1)$.\n- Nominal interbank liabilities matrix: $L$, with $L_{12} = 1$, $L_{21} = 2$, and $L_{11} = L_{22} = 0$.\n- Liabilities to society: $l_{10} = 1$, $l_{20} = 1$.\n- Haircut parameter: $\\alpha$, with $0  \\alpha  1$.\n- Post-haircut interbank liabilities: $L'(\\alpha) = (1-\\alpha)L$.\n- Total nominal obligations vector $\\bar{p}(\\alpha) = (\\bar{p}_1(\\alpha), \\bar{p}_2(\\alpha))$:\n  $\\bar{p}_1(\\alpha) = (1 - \\alpha)L_{12} + l_{10}$\n  $\\bar{p}_2(\\alpha) = (1 - \\alpha)L_{21} + l_{20}$\n- Relative liabilities matrix $\\Pi(\\alpha)$: $\\Pi_{ij}(\\alpha) = \\frac{L'_{ij}(\\alpha)}{\\bar{p}_i(\\alpha)}$ for interbank links ($j \\in \\{1,2\\}$) and $\\Pi_{i0}(\\alpha) = \\frac{l_{i0}}{\\bar{p}_i(\\alpha)}$.\n- Clearing payments vector $p^*(\\alpha)$, a fixed point of the equation:\n  $p^*(\\alpha) = \\min\\big(\\bar{p}(\\alpha), \\, x + \\Pi(\\alpha)^{\\top} p^*(\\alpha)\\big)$, where the minimum is componentwise.\n\n**Step 2: Validate Using Extracted Givens**\nThe problem is scientifically grounded, well-posed, and objective. It is a standard exercise in the field of financial network clearing, based on the established Eisenberg-Noe model. All data and definitions required for a solution are provided, and they are internally consistent. There are no violations of scientific principles, mathematical logic, or factual accuracy. The problem is formalizable and solvable.\n\n**Verdict**\nThe problem is deemed valid. A solution will be constructed.\n\n**Solution Derivation**\nThe task is to find the clearing payments vector $p^*(\\alpha) = \\begin{pmatrix} p_1^*(\\alpha) \\\\ p_2^*(\\alpha) \\end{pmatrix}$ that is a fixed point of the given equation.\n\nFirst, we express the components of the model in terms of the given parameter $\\alpha$.\nThe external assets vector is $x = \\begin{pmatrix} 2 \\\\ 1 \\end{pmatrix}$.\nThe total nominal obligations for each bank are:\n$\\bar{p}_1(\\alpha) = (1-\\alpha)L_{12} + l_{10} = (1-\\alpha)(1) + 1 = 2-\\alpha$.\n$\\bar{p}_2(\\alpha) = (1-\\alpha)L_{21} + l_{20} = (1-\\alpha)(2) + 1 = 3-2\\alpha$.\nSo, the vector of total nominal obligations is $\\bar{p}(\\alpha) = \\begin{pmatrix} 2-\\alpha \\\\ 3-2\\alpha \\end{pmatrix}$.\n\nThe income that bank $i$ receives from the system is the $i$-th component of the vector $\\Pi(\\alpha)^{\\top} p^*(\\alpha)$. This component is a sum over payments received from other banks, weighted by relative liabilities. The income for bank $i$ from bank $j$ is $p_j^*(\\alpha) \\frac{L'_{ji}(\\alpha)}{\\bar{p}_j(\\alpha)}$.\nLet $\\hat{\\Pi}(\\alpha)$ denote the interbank part of the relative liabilities matrix, with entries $\\hat{\\Pi}_{ij}(\\alpha) = \\frac{(1-\\alpha)L_{ij}}{\\bar{p}_i(\\alpha)}$.\nThe vector of interbank incomes is then $\\hat{\\Pi}(\\alpha)^{\\top}p^*(\\alpha)$. The matrix $\\hat{\\Pi}(\\alpha)$ is:\n$$ \\hat{\\Pi}(\\alpha) = \\begin{pmatrix} \\frac{(1-\\alpha)L_{11}}{\\bar{p}_1(\\alpha)}  \\frac{(1-\\alpha)L_{12}}{\\bar{p}_1(\\alpha)} \\\\ \\frac{(1-\\alpha)L_{21}}{\\bar{p}_2(\\alpha)}  \\frac{(1-\\alpha)L_{22}}{\\bar{p}_2(\\alpha)} \\end{pmatrix} = \\begin{pmatrix} 0  \\frac{1-\\alpha}{2-\\alpha} \\\\ \\frac{2(1-\\alpha)}{3-2\\alpha}  0 \\end{pmatrix} $$\nIts transpose is:\n$$ \\hat{\\Pi}(\\alpha)^{\\top} = \\begin{pmatrix} 0  \\frac{2(1-\\alpha)}{3-2\\alpha} \\\\ \\frac{1-\\alpha}{2-\\alpha}  0 \\end{pmatrix} $$\nThe fixed-point equation can be written for each component $p_i^* = p_i^*(\\alpha)$:\n$$p_1^* = \\min\\left(2-\\alpha, 2 + \\frac{2(1-\\alpha)}{3-2\\alpha}p_2^*\\right)$$\n$$p_2^* = \\min\\left(3-2\\alpha, 1 + \\frac{1-\\alpha}{2-\\alpha}p_1^*\\right)$$\n\nThe canonical solution for the Eisenberg-Noe clearing vector is the greatest fixed point of the mapping $F(p) = \\min(\\bar{p}, x + \\hat{\\Pi}^{\\top} p)$. This can be found using the fictitious default algorithm, which starts with the initial guess $p^{(0)} = \\bar{p}(\\alpha)$ and iterates $p^{(k+1)} = F(p^{(k)})$.\n\nLet us initialize the iteration:\n$p^{(0)} = \\bar{p}(\\alpha) = \\begin{pmatrix} 2-\\alpha \\\\ 3-2\\alpha \\end{pmatrix}$.\n\nCompute the first iteration $p^{(1)}$:\n$$ p_1^{(1)} = \\min\\left(2-\\alpha, 2 + \\frac{2(1-\\alpha)}{3-2\\alpha}p_2^{(0)}\\right) = \\min\\left(2-\\alpha, 2 + \\frac{2(1-\\alpha)}{3-2\\alpha}(3-2\\alpha)\\right) $$\n$$ p_1^{(1)} = \\min(2-\\alpha, 2 + 2(1-\\alpha)) = \\min(2-\\alpha, 4-2\\alpha) $$\nFor the given range $0  \\alpha  1$, we have $2-\\alpha  1$ and $4-2\\alpha  2$. Also, $2-\\alpha  4-2\\alpha$ since $2  \\alpha$. Thus, $p_1^{(1)} = 2-\\alpha$.\n\n$$ p_2^{(1)} = \\min\\left(3-2\\alpha, 1 + \\frac{1-\\alpha}{2-\\alpha}p_1^{(0)}\\right) = \\min\\left(3-2\\alpha, 1 + \\frac{1-\\alpha}{2-\\alpha}(2-\\alpha)\\right) $$\n$$ p_2^{(1)} = \\min(3-2\\alpha, 1 + (1-\\alpha)) = \\min(3-2\\alpha, 2-\\alpha) $$\nFor $0  \\alpha  1$, we have $2-\\alpha  3-2\\alpha$ because $\\alpha  1$. Thus, $p_2^{(1)} = 2-\\alpha$.\n\nSo, the first iteration yields $p^{(1)} = \\begin{pmatrix} 2-\\alpha \\\\ 2-\\alpha \\end{pmatrix}$.\n\nNow, we compute the second iteration $p^{(2)}$ using $p^{(1)}$:\n$$ p_1^{(2)} = \\min\\left(2-\\alpha, 2 + \\frac{2(1-\\alpha)}{3-2\\alpha}p_2^{(1)}\\right) = \\min\\left(2-\\alpha, 2 + \\frac{2(1-\\alpha)(2-\\alpha)}{3-2\\alpha}\\right) $$\nIn the range $0  \\alpha  1$, the term $\\frac{2(1-\\alpha)(2-\\alpha)}{3-2\\alpha}$ is strictly positive. Therefore, $2-\\alpha  2 + \\frac{2(1-\\alpha)(2-\\alpha)}{3-2\\alpha}$. This means $p_1^{(2)} = 2-\\alpha$.\n\n$$ p_2^{(2)} = \\min\\left(3-2\\alpha, 1 + \\frac{1-\\alpha}{2-\\alpha}p_1^{(1)}\\right) = \\min\\left(3-2\\alpha, 1 + \\frac{1-\\alpha}{2-\\alpha}(2-\\alpha)\\right) $$\n$$ p_2^{(2)} = \\min(3-2\\alpha, 2-\\alpha) $$\nAs before, for $0  \\alpha  1$, we have $2-\\alpha  3-2\\alpha$. This means $p_2^{(2)} = 2-\\alpha$.\n\nThe second iteration yields $p^{(2)} = \\begin{pmatrix} 2-\\alpha \\\\ 2-\\alpha \\end{pmatrix}$.\nSince $p^{(2)} = p^{(1)}$, the algorithm has converged to a fixed point.\nThis vector $p^*(\\alpha) = \\begin{pmatrix} 2-\\alpha \\\\ 2-\\alpha \\end{pmatrix}$ is the clearing vector.\n\nThis solution corresponds to the regime where bank 1 is solvent ($p_1^*(\\alpha) = \\bar{p}_1(\\alpha) = 2-\\alpha$) and bank 2 defaults ($p_2^*(\\alpha) = 2-\\alpha  3-2\\alpha = \\bar{p}_2(\\alpha)$ for $\\alpha  1$).",
            "answer": "$$ \\boxed{ \\begin{pmatrix} 2 - \\alpha  2 - \\alpha \\end{pmatrix} } $$"
        },
        {
            "introduction": "Financial models are powerful tools for conducting what-if analyses of different regulatory environments. This problem challenges you to compare two fundamental legal regimes: a standard limited liability system versus one with extended liability, where owners must inject capital to cover shortfalls. By calculating the clearing outcomes in both scenarios, you will learn to quantify how institutional rules affect the stability of the system, the solvency of its members, and the welfare of other stakeholders. ",
            "id": "2392864",
            "problem": "Consider an interbank network in the sense of the Eisenberg–Noe clearing model. There are $3$ banks, labeled $A$, $B$, and $C$ (indices $i \\in \\{1,2,3\\}$ correspond to $A,B,C$ respectively). Let the vector of external endowments be $x=(0.2,\\,0.2,\\,0)$ and the vector of total nominal obligations be $\\bar p=(2,\\,1.5,\\,1)$. The relative liabilities matrix $\\Pi$ (rows index debtor, columns index creditor) has the following nonzero entries: $\\Pi_{1,2}=0.5$, $\\Pi_{1,0}=0.5$ (node $0$ denotes society), $\\Pi_{2,3}=1$, and $\\Pi_{3,1}=1$. Under limited liability with no bankruptcy costs, a clearing payments vector $p \\in \\mathbb{R}_+^3$ satisfies, for each $i \\in \\{1,2,3\\}$,\n$$\np_i \\;=\\; \\min\\big\\{\\bar p_i,\\; x_i \\;+\\; \\sum_{j=1}^3 \\Pi_{j i}\\, p_j \\big\\}.\n$$\nNow suppose the legal rule is changed to extended liability in the following precise sense: each bank $i$'s owners are required to inject up to an exogenously given amount of outside wealth $u_i$ to cover shortfalls, with $u=(0.4,\\,0.1,\\,0)$. Under extended liability, the available resources inside the firm become $x_i+u_i+\\sum_{j=1}^3 \\Pi_{j i} p_j$, and the clearing payments vector $p \\in \\mathbb{R}_+^3$ satisfies\n$$\np_i \\;=\\; \\min\\big\\{\\bar p_i,\\; x_i \\;+\\; u_i \\;+\\; \\sum_{j=1}^3 \\Pi_{j i}\\, p_j \\big\\}.\n$$\nLet “default” for a bank $i$ mean $p_i  \\bar p_i$. Let the equity of bank $i$ at the clearing outcome be defined as $e_i = x_i + \\sum_{j=1}^3 \\Pi_{j i} p_j - p_i$ under limited liability, and $e_i^{\\mathrm{ext}} = x_i + u_i + \\sum_{j=1}^3 \\Pi_{j i} p_j^{\\mathrm{ext}} - p_i^{\\mathrm{ext}}$ under extended liability (where $p^{\\mathrm{ext}}$ denotes the extended-liability clearing payments). The total payment to society equals $\\Pi_{1,0}\\, p_1 + \\Pi_{2,0}\\, p_2 + \\Pi_{3,0}\\, p_3$.\n\nWhich of the following statements about the effect of changing the legal rule from limited liability to extended liability on the clearing outcome is correct? Select all that apply.\n\nA. Under extended liability with $u=(0.4,\\,0.1,\\,0)$, the clearing payments are $p^{\\mathrm{ext}}=(1.6,\\,1.1,\\,1.0)$, so bank $C$ is solvent while banks $A$ and $B$ remain in default.\n\nB. The total payment to society weakly decreases when moving from limited liability to extended liability.\n\nC. In this instance, the componentwise clearing payments weakly increase and the default set weakly shrinks when moving from limited liability to extended liability.\n\nD. In this instance, the equity of every bank weakly increases when moving from limited liability to extended liability.",
            "solution": "The problem statement is subject to validation before any solution is attempted.\n\n### Problem Validation\n\n**Step 1: Extract Givens**\n\nThe explicit data provided are:\n-   Number of banks: $3$, indexed as $i \\in \\{1,2,3\\}$ for banks $A, B, C$.\n-   External endowments vector: $x=(0.2,\\,0.2,\\,0)$.\n-   Total nominal obligations vector: $\\bar p=(2,\\,1.5,\\,1)$.\n-   Nonzero entries of the relative liabilities matrix $\\Pi$: $\\Pi_{1,2}=0.5$, $\\Pi_{1,0}=0.5$, $\\Pi_{2,3}=1$, and $\\Pi_{3,1}=1$. All other entries are implicitly zero.\n-   Clearing condition under limited liability: $p_i = \\min\\big\\{\\bar p_i,\\; x_i \\;+\\; \\sum_{j=1}^3 \\Pi_{j i}\\, p_j \\big\\}$.\n-   Exogenous outside wealth for extended liability: $u=(0.4,\\,0.1,\\,0)$.\n-   Clearing condition under extended liability: $p_i^{\\mathrm{ext}} = \\min\\big\\{\\bar p_i,\\; x_i \\;+\\; u_i \\;+\\; \\sum_{j=1}^3 \\Pi_{j i}\\, p_j^{\\mathrm{ext}} \\big\\}$.\n-   Definition of default: Bank $i$ defaults if $p_i  \\bar p_i$.\n-   Definition of equity (limited liability): $e_i = x_i + \\sum_{j=1}^3 \\Pi_{j i} p_j - p_i$.\n-   Definition of equity (extended liability): $e_i^{\\mathrm{ext}} = x_i + u_i + \\sum_{j=1}^3 \\Pi_{j i} p_j^{\\mathrm{ext}} - p_i^{\\mathrm{ext}}$.\n-   Definition of total payment to society: $\\Pi_{1,0}\\, p_1 + \\Pi_{2,0}\\, p_2 + \\Pi_{3,0}\\, p_3$.\n\n**Step 2: Validate Using Extracted Givens**\n\nThe problem is a direct application of the Eisenberg–Noe (2001) model of financial clearing, a standard and well-established framework in computational finance.\n-   **Scientific Grounding**: The model is scientifically sound within its domain.\n-   **Well-Posedness**: The existence and uniqueness of a clearing vector is a known theoretical result for this model. The system of equations is well-defined.\n-   **Objectivity and Clarity**: The terms are defined precisely, and the data is quantitative and unambiguous.\n-   **Consistency**: The row sums of the liability matrix $\\Pi$ for each debtor bank $i$ sum to $1$. For bank $1$: $\\Pi_{1,2}+\\Pi_{1,0} = 0.5+0.5=1$. For bank $2$: $\\Pi_{2,3}=1$. For bank $3$: $\\Pi_{3,1}=1$. The data is internally consistent.\n-   **Completeness**: All necessary information to determine the clearing vectors is provided.\n\n**Step 3: Verdict and Action**\n\nThe problem statement is scientifically grounded, well-posed, and internally consistent. It is therefore **valid**. We proceed to the solution.\n\n### Solution Derivation\n\nFirst, we establish the specific system of equations for the interbank liabilities. The term $\\sum_{j=1}^3 \\Pi_{j i}\\, p_j$ represents the total inflow to bank $i$ from other banks. The matrix $\\Pi$ has rows as debtors and columns as creditors, so the inflows to bank $i$ are given by the $i$-th column of $\\Pi$.\nThe interbank liability network is:\n-   Bank $C$ (debtor $3$) owes to bank $A$ (creditor $1$): $\\Pi_{3,1}=1$.\n-   Bank $A$ (debtor $1$) owes to bank $B$ (creditor $2$): $\\Pi_{1,2}=0.5$.\n-   Bank $B$ (debtor $2$) owes to bank $C$ (creditor $3$): $\\Pi_{2,3}=1$.\n\nThe available resources for each bank $i$ under limited liability are $A_i(p) = x_i + \\sum_{j=1}^3 \\Pi_{ji} p_j$.\nThe system of clearing equations is:\n$p_1 = \\min\\{\\bar p_1, x_1 + \\Pi_{3,1} p_3\\} = \\min\\{2, 0.2 + p_3\\}$\n$p_2 = \\min\\{\\bar p_2, x_2 + \\Pi_{1,2} p_1\\} = \\min\\{1.5, 0.2 + 0.5 p_1\\}$\n$p_3 = \\min\\{\\bar p_3, x_3 + \\Pi_{2,3} p_2\\} = \\min\\{1, p_2\\}$\n\n**1. Clearing Payments under Limited Liability ($p$)**\n\nWe solve for the clearing vector $p$. A common method is to first hypothesize a default set. Let us assume all banks default, i.e., $p_i  \\bar p_i$ for all $i$. In this case, each bank pays out all its available resources:\n$p_1 = 0.2 + p_3$\n$p_2 = 0.2 + 0.5 p_1$\n$p_3 = p_2$\n\nSubstituting $p_3=p_2$ into the first equation gives $p_1 = 0.2 + p_2$. Substituting this into the second equation yields:\n$p_2 = 0.2 + 0.5(0.2 + p_2) = 0.2 + 0.1 + 0.5 p_2 = 0.3 + 0.5 p_2$\n$0.5 p_2 = 0.3 \\implies p_2 = 0.6$\nFrom this, we find $p_3 = p_2 = 0.6$ and $p_1 = 0.2 + p_3 = 0.2 + 0.6 = 0.8$.\nThe candidate solution is $p = (0.8, 0.6, 0.6)$. We must verify the initial assumption that all banks default:\n-   Bank $A$: $p_1=0.8  \\bar p_1=2$. Default confirmed.\n-   Bank $B$: $p_2=0.6  \\bar p_2=1.5$. Default confirmed.\n-   Bank $C$: $p_3=0.6  \\bar p_3=1$. Default confirmed.\nThe assumption is consistent. Thus, the clearing vector under limited liability is $p=(0.8, 0.6, 0.6)$.\n\n**2. Clearing Payments under Extended Liability ($p^{\\mathrm{ext}}$)**\n\nUnder extended liability, the available resources are $A_i^{\\mathrm{ext}}(p^{\\mathrm{ext}}) = x_i + u_i + \\sum_{j=1}^3 \\Pi_{ji} p_j^{\\mathrm{ext}}$.\nThe endowments become $x+u = (0.2+0.4, 0.2+0.1, 0+0) = (0.6, 0.3, 0)$.\nThe system of equations is:\n$p_1^{\\mathrm{ext}} = \\min\\{2, 0.6 + p_3^{\\mathrm{ext}}\\}$\n$p_2^{\\mathrm{ext}} = \\min\\{1.5, 0.3 + 0.5 p_1^{\\mathrm{ext}}\\}$\n$p_3^{\\mathrm{ext}} = \\min\\{1, p_2^{\\mathrm{ext}}\\}$\n\nAssume all banks default:\n$p_1^{\\mathrm{ext}} = 0.6 + p_3^{\\mathrm{ext}}$\n$p_2^{\\mathrm{ext}} = 0.3 + 0.5 p_1^{\\mathrm{ext}}$\n$p_3^{\\mathrm{ext}} = p_2^{\\mathrm{ext}}$\nSolving this linear system: $p_1^{\\mathrm{ext}} = 0.6 + p_2^{\\mathrm{ext}}$. Substitute into the second equation:\n$p_2^{\\mathrm{ext}} = 0.3 + 0.5(0.6 + p_2^{\\mathrm{ext}}) = 0.3 + 0.3 + 0.5 p_2^{\\mathrm{ext}} = 0.6 + 0.5 p_2^{\\mathrm{ext}}$\n$0.5 p_2^{\\mathrm{ext}} = 0.6 \\implies p_2^{\\mathrm{ext}} = 1.2$.\nThen $p_3^{\\mathrm{ext}} = 1.2$ and $p_1^{\\mathrm{ext}} = 0.6 + 1.2 = 1.8$.\nThe candidate solution is $p^{\\mathrm{ext}} = (1.8, 1.2, 1.2)$. We check consistency:\n-   Bank $A$: $p_1^{\\mathrm{ext}} = 1.8  \\bar p_1 = 2$. Consistent.\n-   Bank $B$: $p_2^{\\mathrm{ext}} = 1.2  \\bar p_2 = 1.5$. Consistent.\n-   Bank $C$: $p_3^{\\mathrm{ext}} = 1.2  \\bar p_3 = 1$. Inconsistent.\nThe assumption that bank $C$ defaults is false. Bank $C$ must be solvent, meaning $p_3^{\\mathrm{ext}} = \\bar p_3 = 1$.\n\nLet us re-solve with $p_3^{\\mathrm{ext}} = 1$.\n$p_1^{\\mathrm{ext}} = \\min\\{2, 0.6 + p_3^{\\mathrm{ext}}\\} = \\min\\{2, 0.6 + 1\\} = \\min\\{2, 1.6\\} = 1.6$.\n$p_2^{\\mathrm{ext}} = \\min\\{1.5, 0.3 + 0.5 p_1^{\\mathrm{ext}}\\} = \\min\\{1.5, 0.3 + 0.5(1.6)\\} = \\min\\{1.5, 0.3+0.8\\} = \\min\\{1.5, 1.1\\} = 1.1$.\nFinally, we must check consistency for bank $C$:\n$p_3^{\\mathrm{ext}} = \\min\\{1, p_2^{\\mathrm{ext}}\\} = \\min\\{1, 1.1\\} = 1$. This matches our assumption.\nThe clearing vector under extended liability is $p^{\\mathrm{ext}}=(1.6, 1.1, 1.0)$.\n\n### Option-by-Option Analysis\n\n**A. Under extended liability with $u=(0.4,\\,0.1,\\,0)$, the clearing payments are $p^{\\mathrm{ext}}=(1.6,\\,1.1,\\,1.0)$, so bank $C$ is solvent while banks $A$ and $B$ remain in default.**\n\nOur derived clearing vector is $p^{\\mathrm{ext}}=(1.6,\\,1.1,\\,1.0)$, which matches the value in the statement.\nWe check the solvency status against $\\bar p=(2,\\,1.5,\\,1)$:\n-   Bank $A$ ($i=1$): $p_1^{\\mathrm{ext}} = 1.6  \\bar p_1 = 2$. The bank is in default.\n-   Bank $B$ ($i=2$): $p_2^{\\mathrm{ext}} = 1.1  \\bar p_2 = 1.5$. The bank is in default.\n-   Bank $C$ ($i=3$): $p_3^{\\mathrm{ext}} = 1.0 = \\bar p_3 = 1$. The bank is solvent.\nThe conclusion that bank $C$ is solvent while banks $A$ and $B$ are in default is correct.\nVerdict on A: **Correct**.\n\n**B. The total payment to society weakly decreases when moving from limited liability to extended liability.**\n\nThe total payment to society is $S = \\Pi_{1,0} p_1 + \\Pi_{2,0} p_2 + \\Pi_{3,0} p_3$. From the problem statement, $\\Pi_{1,0}=0.5$ and $\\Pi_{2,0}=\\Pi_{3,0}=0$. Thus, $S = 0.5 p_1$.\n-   Under limited liability: $p_1 = 0.8$. The payment is $S_{LL} = 0.5 \\times 0.8 = 0.4$.\n-   Under extended liability: $p_1^{\\mathrm{ext}} = 1.6$. The payment is $S_{EL} = 0.5 \\times 1.6 = 0.8$.\nThe payment to society increases from $0.4$ to $0.8$. The statement claims it weakly decreases.\nVerdict on B: **Incorrect**.\n\n**C. In this instance, the componentwise clearing payments weakly increase and the default set weakly shrinks when moving from limited liability to extended liability.**\n\nFirst part: Componentwise payment increase.\nWe compare $p=(0.8, 0.6, 0.6)$ with $p^{\\mathrm{ext}}=(1.6, 1.1, 1.0)$.\n$p_1^{\\mathrm{ext}} = 1.6  p_1 = 0.8$.\n$p_2^{\\mathrm{ext}} = 1.1  p_2 = 0.6$.\n$p_3^{\\mathrm{ext}} = 1.0  p_3 = 0.6$.\nEach component of the payment vector strictly increases, which satisfies the condition of weak increase ($p^{\\mathrm{ext}} \\ge p$).\n\nSecond part: Default set shrinkage.\nThe default set $D$ is $\\{i \\mid p_i  \\bar p_i\\}$.\n-   Under limited liability: All banks defaulted, so $D_{LL} = \\{1, 2, 3\\}$.\n-   Under extended liability: Banks $A$ ($1$) and $B$ ($2$) defaulted, but bank $C$ ($3$) became solvent. So $D_{EL} = \\{1, 2\\}$.\nThe condition that the default set weakly shrinks means $D_{EL} \\subseteq D_{LL}$. Here, $\\{1, 2\\} \\subset \\{1, 2, 3\\}$, so the set strictly shrinks. This satisfies the weak shrinkage condition.\nBoth parts of the statement are true.\nVerdict on C: **Correct**.\n\n**D. In this instance, the equity of every bank weakly increases when moving from limited liability to extended liability.**\n\nWe calculate equities for both scenarios. If a bank $i$ defaults, it pays out all its available cash, so its equity is $0$.\nLimited liability equity ($e_i$):\n-   All banks default. Therefore, $e_1 = e_2 = e_3 = 0$.\n$e_1 = x_1 + \\Pi_{31}p_3 - p_1 = 0.2 + 0.6 - 0.8 = 0$.\n$e_2 = x_2 + \\Pi_{12}p_1 - p_2 = 0.2 + 0.5(0.8) - 0.6 = 0.2 + 0.4 - 0.6 = 0$.\n$e_3 = x_3 + \\Pi_{23}p_2 - p_3 = 0 + 0.6 - 0.6 = 0$.\nSo $e=(0,0,0)$.\n\nExtended liability equity ($e_i^{\\mathrm{ext}}$):\n-   Banks $A$ and $B$ default. Therefore, $e_1^{\\mathrm{ext}} = 0$ and $e_2^{\\mathrm{ext}} = 0$.\n-   Bank $C$ is solvent. Its equity is its available resources minus its payment:\n$e_3^{\\mathrm{ext}} = (x_3 + u_3 + \\Pi_{23} p_2^{\\mathrm{ext}}) - p_3^{\\mathrm{ext}} = (0 + 0 + 1 \\times 1.1) - 1.0 = 1.1 - 1.0 = 0.1$.\nSo $e^{\\mathrm{ext}}=(0, 0, 0.1)$.\n\nComparison:\n-   $e_1^{\\mathrm{ext}} = 0$ and $e_1 = 0$. So $e_1^{\\mathrm{ext}} \\ge e_1$.\n-   $e_2^{\\mathrm{ext}} = 0$ and $e_2 = 0$. So $e_2^{\\mathrm{ext}} \\ge e_2$.\n-   $e_3^{\\mathrm{ext}} = 0.1$ and $e_3 = 0$. So $e_3^{\\mathrm{ext}} \\ge e_3$.\nThe equity of every bank weakly increases.\nVerdict on D: **Correct**.",
            "answer": "$$ \\boxed{ACD} $$"
        },
        {
            "introduction": "We now move from analytical solutions to computational implementation, a crucial skill for modern financial analysis. This exercise requires you to write code that solves for the Eisenberg-Noe clearing vector, allowing you to investigate a classic policy dilemma: the too big to fail doctrine. By simulating bailouts of different banks, you will computationally demonstrate that in a networked system, interconnectedness can be a more critical determinant of systemic risk than sheer size. ",
            "id": "2392815",
            "problem": "You are given a financial system with $n$ banks represented in the Eisenberg–Noe (EN) framework. Each bank $i \\in \\{0,\\dots,n-1\\}$ has a total nominal liability $\\bar{p}_i \\ge 0$ toward all creditors (both interbank and external). Let $L \\in \\mathbb{R}_{\\ge 0}^{n \\times n}$ be the matrix of interbank nominal liabilities where $L_{ij}$ denotes the nominal amount owed by bank $i$ to bank $j$. Define the relative liabilities matrix $\\Pi \\in \\mathbb{R}_{\\ge 0}^{n \\times n}$ by\n$$\n\\pi_{ij} = \\begin{cases}\n\\dfrac{L_{ij}}{\\bar{p}_i},  \\text{if } \\bar{p}_i  0,\\\\\n0,  \\text{if } \\bar{p}_i = 0.\n\\end{cases}\n$$\nLet $x \\in \\mathbb{R}_{\\ge 0}^n$ denote the vector of external assets (endowments). The Eisenberg–Noe clearing payments vector $p \\in \\mathbb{R}_{\\ge 0}^n$ is defined as the greatest fixed point solving, componentwise,\n$$\np_i = \\min\\left\\{\\bar{p}_i,\\ x_i + \\sum_{j=0}^{n-1} \\pi_{ji} p_j\\right\\} \\quad \\text{for all } i \\in \\{0,\\dots,n-1\\},\n$$\nor in vector form,\n$$\np = \\min\\left\\{\\bar{p},\\ x + \\Pi^\\top p\\right\\},\n$$\nwhere the minimum is taken componentwise. Consider a targeted bailout policy that injects a nonnegative budget $b$ into a single bank $k$, modeled as adding $b$ to $x_k$ while leaving all other $x_i$ unchanged.\n\nFor each test case below, you must compute the difference\n$$\n\\Delta = \\left(\\sum_{i=0}^{n-1} p_i^{(\\text{small})}\\right) - \\left(\\sum_{i=0}^{n-1} p_i^{(\\text{large})}\\right),\n$$\nwhere $p^{(\\text{small})}$ is the clearing payments vector when the entire budget $b$ is injected into the specified smaller, more connected bank, and $p^{(\\text{large})}$ is the clearing payments vector when the entire budget $b$ is injected into the largest bank by total nominal liabilities $\\bar{p}_i$. You are provided explicit indices for the largest bank and for the smaller, more connected bank in each test. Your program must produce the list of $\\Delta$ values for the test suite, rounded to six decimal places.\n\nAll inputs are dimensionless monetary quantities; no physical units are involved.\n\nTest suite:\n- Test case $1$:\n    - $n = 4$.\n    - $\\bar{p} = (10, 6, 6, 6)$.\n    - $x = (1, 1, 1, 1)$.\n    - $$ L = \\begin{pmatrix} 0  0  0  0 \\\\ 0  0  3  3 \\\\ 1  0  0  0 \\\\ 1  0  0  0 \\end{pmatrix} $$\n    - Budget $b = 2$.\n    - Index of largest bank $i_{\\text{large}} = 0$.\n    - Index of smaller, more connected bank $i_{\\text{small}} = 1$.\n- Test case $2$:\n    - $n = 3$.\n    - $\\bar{p} = (5, 4, 4)$.\n    - $x = (0.5, 0.5, 0.5)$.\n    - $$ L = \\begin{pmatrix} 0  0  0 \\\\ 0  0  2 \\\\ 0  1  0 \\end{pmatrix} $$\n    - Budget $b = 0$.\n    - Index of largest bank $i_{\\text{large}} = 0$.\n    - Index of smaller, more connected bank $i_{\\text{small}} = 1$.\n- Test case $3$:\n    - $n = 3$.\n    - $\\bar{p} = (8, 3, 3)$.\n    - $x = (1, 0.5, 0.5)$.\n    - $$ L = \\begin{pmatrix} 0  3  3 \\\\ 0  0  0 \\\\ 0  0  0 \\end{pmatrix} $$\n    - Budget $b = 2$.\n    - Index of largest bank $i_{\\text{large}} = 0$.\n    - Index of smaller, more connected bank $i_{\\text{small}} = 1$.\n\nYour program should produce a single line of output containing the results as a comma-separated list enclosed in square brackets, with each entry equal to $\\Delta$ for the corresponding test case, rounded to six decimal places (for example, $[\\delta_1, \\delta_2, \\delta_3]$).",
            "solution": "The problem statement has been evaluated and is deemed valid. It is self-contained, scientifically grounded in the established Eisenberg-Noe model of financial network clearing, and mathematically well-posed. All data required for a unique solution are provided, and there are no internal contradictions.\n\nThe central task is to compute the Eisenberg-Noe clearing payments vector $p$, which is defined as the greatest fixed point of the equation\n$$\np = \\min\\left\\{\\bar{p},\\ x + \\Pi^\\top p\\right\\}\n$$\nwhere the minimum is taken componentwise. The vector $\\bar{p}$ represents the total nominal liabilities, $x$ is the vector of external assets, and $\\Pi$ is the relative interbank liabilities matrix.\n\nTo find the solution, we define an operator $F: \\mathbb{R}^n \\to \\mathbb{R}^n$ as\n$$\nF(p) = \\min\\left\\{\\bar{p},\\ x + \\Pi^\\top p\\right\\}\n$$\nThe search for the clearing vector $p$ is restricted to the compact set $[0, \\bar{p}]$, which is the hyperrectangle $\\{p \\in \\mathbb{R}^n \\mid 0 \\le p_i \\le \\bar{p}_i \\text{ for all } i\\}$. This set, endowed with the componentwise partial order, forms a complete lattice.\n\nThe operator $F(p)$ is monotone on this lattice. That is, if $p^{(a)} \\le p^{(b)}$ componentwise, then $x + \\Pi^\\top p^{(a)} \\le x + \\Pi^\\top p^{(b)}$ because $\\Pi^\\top$ has non-negative entries. Consequently, $F(p^{(a)}) = \\min\\{\\bar{p}, x + \\Pi^\\top p^{(a)}\\} \\le \\min\\{\\bar{p}, x + \\Pi^\\top p^{(b)}\\} = F(p^{(b)})$.\n\nAccording to Tarski's fixed-point theorem, any monotone function on a complete lattice has a set of fixed points that is itself a non-empty complete lattice. This guarantees the existence of a greatest fixed point. This greatest fixed point can be found by a simple iterative algorithm. We initialize the iteration with the maximal element of the lattice, $p^{(0)} = \\bar{p}$. The sequence is then generated by\n$$\np^{(k+1)} = F(p^{(k)}) = \\min\\left\\{\\bar{p},\\ x + \\Pi^\\top p^{(k)}\\right\\}\n$$\nSince $p^{(1)} = F(p^{(0)}) \\le p^{(0)}$ and $F$ is monotone, the sequence $\\{p^{(k)}\\}_{k \\ge 0}$ is non-increasing and bounded below by the zero vector. Therefore, it is guaranteed to converge to a fixed point, and because it starts from the top of the lattice, it converges to the greatest fixed point.\n\nThe overall procedure to solve the problem for each test case is as follows:\n\n1.  Given the parameters $n, \\bar{p}, x, L, b, i_{\\text{large}}, i_{\\text{small}}$, first compute the relative liabilities matrix $\\Pi$ according to its definition:\n    $$\n    \\pi_{ij} = \\begin{cases}\n    \\dfrac{L_{ij}}{\\bar{p}_i},  \\text{if } \\bar{p}_i  0,\\\\\n    0,  \\text{if } \\bar{p}_i = 0.\n    \\end{cases}\n    $$\n2.  Define two scenarios for the external assets vector based on the bailout target. Let $e_k$ be the standard basis vector with a $1$ at index $k$ and $0$ elsewhere.\n    - For the bailout of the smaller bank: $x^{(\\text{small})} = x + b \\cdot e_{i_{\\text{small}}}$.\n    - For the bailout of the largest bank: $x^{(\\text{large})} = x + b \\cdot e_{i_{\\text{large}}}$.\n3.  For each scenario, compute the corresponding clearing vector:\n    - Compute $p^{(\\text{small})}$ by iterating $p \\gets \\min\\{\\bar{p}, x^{(\\text{small})} + \\Pi^\\top p\\}$ starting with $p = \\bar{p}$ until the vector $p$ converges.\n    - Compute $p^{(\\text{large})}$ by iterating $p \\gets \\min\\{\\bar{p}, x^{(\\text{large})} + \\Pi^\\top p\\}$ starting with $p = \\bar{p}$ until the vector $p$ converges.\n4.  Calculate the sum of payments for each resulting clearing vector:\n    $$\n    S_{\\text{small}} = \\sum_{i=0}^{n-1} p_i^{(\\text{small})} \\quad \\text{and} \\quad S_{\\text{large}} = \\sum_{i=0}^{n-1} p_i^{(\\text{large})}\n    $$\n5.  Finally, compute the required difference $\\Delta = S_{\\text{small}} - S_{\\text{large}}$.\n\nThis structured, theoretically-grounded algorithm will be implemented to find the numerical solution for each specified test case. The convergence criterion for the iteration will be when the change between successive vectors is negligible, for instance, when the supremum norm of the difference, $\\|p^{(k+1)} - p^{(k)}\\|_\\infty$, falls below a small tolerance $\\epsilon  0$.",
            "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\n\ndef compute_clearing_vector(p_bar: np.ndarray, x: np.ndarray, Pi: np.ndarray) - np.ndarray:\n    \"\"\"\n    Computes the Eisenberg-Noe clearing payments vector.\n\n    This function finds the greatest fixed point of the equation:\n    p = min(p_bar, x + Pi.T @ p)\n    using a convergent iterative method starting from p = p_bar.\n\n    Args:\n        p_bar: Vector of total nominal liabilities.\n        x: Vector of external assets.\n        Pi: Relative liabilities matrix.\n\n    Returns:\n        The clearing payments vector p.\n    \"\"\"\n    n = len(p_bar)\n    # Initialize with the maximal element of the lattice [0, p_bar].\n    p = p_bar.copy()\n    \n    # Iterate until convergence.\n    # The sequence is non-increasing and bounded below, so it must converge.\n    for _ in range(1000):  # A sufficiently large number of iterations for convergence\n        p_prev = p.copy()\n        p = np.minimum(p_bar, x + Pi.T @ p_prev)\n        # Check for convergence using a small tolerance.\n        if np.allclose(p, p_prev, rtol=1e-12, atol=1e-12):\n            break\n            \n    return p\n\ndef solve():\n    \"\"\"\n    Solves the problem for the given test suite.\n    \"\"\"\n    # Define the test cases from the problem statement.\n    test_cases = [\n        # Test case 1\n        {\n            \"n\": 4,\n            \"p_bar\": np.array([10.0, 6.0, 6.0, 6.0]),\n            \"x\": np.array([1.0, 1.0, 1.0, 1.0]),\n            \"L\": np.array([\n                [0.0, 0.0, 0.0, 0.0],\n                [0.0, 0.0, 3.0, 3.0],\n                [1.0, 0.0, 0.0, 0.0],\n                [1.0, 0.0, 0.0, 0.0]\n            ]),\n            \"b\": 2.0,\n            \"i_large\": 0,\n            \"i_small\": 1,\n        },\n        # Test case 2\n        {\n            \"n\": 3,\n            \"p_bar\": np.array([5.0, 4.0, 4.0]),\n            \"x\": np.array([0.5, 0.5, 0.5]),\n            \"L\": np.array([\n                [0.0, 0.0, 0.0],\n                [0.0, 0.0, 2.0],\n                [0.0, 1.0, 0.0]\n            ]),\n            \"b\": 0.0,\n            \"i_large\": 0,\n            \"i_small\": 1,\n        },\n        # Test case 3\n        {\n            \"n\": 3,\n            \"p_bar\": np.array([8.0, 3.0, 3.0]),\n            \"x\": np.array([1.0, 0.5, 0.5]),\n            \"L\": np.array([\n                [0.0, 3.0, 3.0],\n                [0.0, 0.0, 0.0],\n                [0.0, 0.0, 0.0]\n            ]),\n            \"b\": 2.0,\n            \"i_large\": 0,\n            \"i_small\": 1,\n        },\n    ]\n\n    results = []\n    for case in test_cases:\n        n = case[\"n\"]\n        p_bar = case[\"p_bar\"]\n        x = case[\"x\"]\n        L = case[\"L\"]\n        b = case[\"b\"]\n        i_large = case[\"i_large\"]\n        i_small = case[\"i_small\"]\n\n        # Calculate the relative liabilities matrix Pi\n        Pi = np.zeros((n, n))\n        for i in range(n):\n            if p_bar[i]  0:\n                Pi[i, :] = L[i, :] / p_bar[i]\n\n        # Scenario 1: Bailout injected into the smaller bank\n        x_small = x.copy()\n        x_small[i_small] += b\n        p_small = compute_clearing_vector(p_bar, x_small, Pi)\n        total_payments_small = np.sum(p_small)\n\n        # Scenario 2: Bailout injected into the largest bank\n        x_large = x.copy()\n        x_large[i_large] += b\n        p_large = compute_clearing_vector(p_bar, x_large, Pi)\n        total_payments_large = np.sum(p_large)\n        \n        # Calculate the difference delta\n        delta = total_payments_small - total_payments_large\n        results.append(f\"{delta:.6f}\")\n\n    # Final print statement in the exact required format.\n    print(f\"[{','.join(results)}]\")\n\nsolve()\n```"
        }
    ]
}