{
    "hands_on_practices": [
        {
            "introduction": "本练习构成了我们实践工作的基础。我们将超越简单的双资产情景，通过计算推导出包含50种资产的投资组合的切点投资组合和资本市场线（CML）。这项实践将巩固你对投资组合理论核心优化问题的理解，并学习如何用代码实现它。",
            "id": "2438483",
            "problem": "给定一个包含 $50$ 种风险资产的集合。设 $R$ 为资产回报率的 $50 \\times 50$ 相关系数矩阵，$\\sigma \\in \\mathbb{R}^{50}$ 为资产标准差向量，$\\mu \\in \\mathbb{R}^{50}$ 为期望回报率向量（所有值均以小数而非百分比表示），$\\Sigma = D R D$ 为协方差矩阵，其中 $D = \\operatorname{diag}(\\sigma)$。存在一个无风险利率 $r_f \\in \\mathbb{R}$（也以小数表示）。考虑由无风险资产和切点投资组合构成的资本配置线（Capital Allocation Line, CAL），在均衡状态下也称为资本市场线（Capital Market Line, CML）。\n\n定义切点投资组合 $w^\\star \\in \\mathbb{R}^{50}$ 为最大化夏普比率的最优化问题的解，允许卖空并满足预算约束：\n- 在 $w \\in \\mathbb{R}^{50}$ 上最大化 $(\\mu^\\top w - r_f)/\\sqrt{w^\\top \\Sigma w}$，\n- 约束条件为 $\\mathbf{1}^\\top w = 1$，其中 $\\mathbf{1}$ 是 $\\mathbb{R}^{50}$ 中的全1向量。\n\n设资本配置线（CAL）的斜率为 $S = (\\mu^\\top w^\\star - r_f)/\\sqrt{(w^\\star)^\\top \\Sigma w^\\star}$。对于任意目标标准差 $\\bar{\\sigma} \\ge 0$，CAL上的期望回报率为 $E_{\\text{CAL}}(\\bar{\\sigma}) = r_f + S \\, \\bar{\\sigma}$。\n\n对于下方的每个测试用例，您必须：\n- 按规定构建 $R$、$\\sigma$、$\\mu$ 和 $\\Sigma$；\n- 在允许卖空的约束 $\\mathbf{1}^\\top w^\\star = 1$ 下，为给定的 $r_f$ 计算切点投资组合 $w^\\star$；\n- 为目标标准差 $\\bar{\\sigma} \\in \\{0.0, 0.05, 0.15\\}$ 计算CAL斜率 $S$ 和CAL期望回报率 $E_{\\text{CAL}}(\\bar{\\sigma})$。\n\n所有回报率和标准差均为无单位的小数。所有浮点数输出均需四舍五入至 $6$ 位小数。\n\n每个用例的测试套件和数据构建方法：\n- 对于给定的种子 $s \\in \\mathbb{Z}$，使用该种子定义一个随机数生成器。生成一个元素为独立标准正态分布的矩阵 $A \\in \\mathbb{R}^{50 \\times 50}$。令 $M = A A^\\top$。通过 $R_{ij} = M_{ij}/\\sqrt{M_{ii} M_{jj}}$（对所有 $i,j$）定义相关系数矩阵。对于每个 $i \\in \\{1,\\dots,50\\}$，从 $[0.05, 0.35]$ 上的连续均匀分布中独立抽取 $\\sigma_i$。对于每个 $i \\in \\{1,\\dots,50\\}$，从 $[0.02, 0.18]$ 上的连续均匀分布中独立抽取 $\\mu_i$。设置 $D = \\operatorname{diag}(\\sigma)$ 和 $\\Sigma = D R D$。\n- 使用以下测试用例：\n    1. 用例1：种子 $s=7$，无风险利率 $r_f = 0.02$。\n    2. 用例2：种子 $s=11$，无风险利率 $r_f = 0.00$。\n    3. 用例3：种子 $s=13$，无风险利率 $r_f = -0.01$。\n\n您的程序应生成单行输出，其中包含一个由逗号分隔并用方括号括起来的结果列表。对于每个测试用例，输出列表 $[S, E_{\\text{CAL}}(0.0), E_{\\text{CAL}}(0.05), E_{\\text{CAL}}(0.15)]$，每个条目四舍五入至 $6$ 位小数。总体输出必须是一个包含按顺序排列的三个测试用例结果的单一列表。例如，最终输出格式必须为：\n[[S1,E1_0.0,E1_0.05,E1_0.15],[S2,E2_0.0,E2_0.05,E2_0.15],[S3,E3_0.0,E3_0.05,E3_0.15]]。",
            "solution": "该问题陈述经确认为科学上合理、定义明确、客观且内容完整。它描述了现代投资组合理论中的一个标准问题：确定资本配置线（CAL）。我们将进行完整的推导和计算求解。\n\n基本任务是找到“切点投资组合”，即当与无风险资产结合时，能提供最佳风险-回报权衡的风险资产组合。该投资组合位于期望回报-标准差平面上，是风险资产有效前沿与始于无风险利率的射线之间的切点。这条射线就是资本配置线。CAL的斜率是切点投资组合的夏普比率。\n\n设 `$w \\in \\mathbb{R}^{50}` 为 `$50$` 种风险资产的权重向量，权重之和为1：`$\\mathbf{1}^\\top w = 1$`，其中 `$\\mathbf{1}` 是全1向量。允许卖空，因此 `$w_i \\in \\mathbb{R}`。此类投资组合的期望回报率为 `$E[R_p] = \\mu^\\top w$`，其方差为 `$\\sigma_p^2 = w^\\top \\Sigma w$`，其中 `$\\mu}` 是期望回报率向量，`$\\Sigma}` 是资产回报率的协方差矩阵。\n\n目标是最大化风险资产组合的夏普比率 `$S_p$`：\n$$ \\text{maximize}_{w} \\quad S_p(w) = \\frac{\\mu^\\top w - r_f}{\\sqrt{w^\\top \\Sigma w}} $$\n约束条件为预算约束：\n$$ \\mathbf{1}^\\top w = 1 $$\n其中 `$r_f$` 是无风险回报率。\n\n令 `$\\mu_e = \\mu - r_f \\mathbf{1}` 为相对于无风险利率的超额期望回报向量。目标函数变为最大化 `$(\\mu_e^\\top w)/\\sqrt{w^\\top \\Sigma w}`。根据投资组合理论中的一个已知结论，该问题的解是一个其权重 `$w` 与 `$\\Sigma^{-1} \\mu_e$`成比例的投资组合。这可以通过求解一个等价的最优化问题来正式证明：对于固定的超额回报水平 `$\\mu_e^\\top w = C$`（其中 `$C > 0$` 为某个常数），最小化方差 `$\\frac{1}{2} w^\\top \\Sigma w$`。这个等价问题的拉格朗日函数是 `$\\mathcal{L}(w, \\lambda) = \\frac{1}{2} w^\\top \\Sigma w - \\lambda (\\mu_e^\\top w - C)$`。\n对 `$w$` 求导并令其为零，得到一阶条件：\n$$ \\frac{\\partial \\mathcal{L}}{\\partial w} = \\Sigma w - \\lambda \\mu_e = 0 $$\n假设 `$\\Sigma}` 是可逆的（根据指定的构建方法，其可逆的概率为 `$1}`），我们发现任何此类最优投资组合的权重都具有以下形式：\n$$ w = \\lambda \\Sigma^{-1} \\mu_e $$\n这意味着切点投资组合的权重 `$w^\\star$` 与我们记作 `$w_{\\text{unscaled}} = \\Sigma^{-1} \\mu_e$` 的向量成比例。\n\n为了找到满足预算约束 `$\\mathbf{1}^\\top w^\\star = 1$` 的具体权重 `$w^\\star$`，我们必须对这个未缩放的权重向量进行归一化。令 `$k = \\mathbf{1}^\\top w_{\\text{unscaled}}$` 为未缩放权重的总和。那么，归一化后的切点投资组合权重为：\n$$ w^\\star = \\frac{w_{\\text{unscaled}}}{k} = \\frac{\\Sigma^{-1} \\mu_e}{\\mathbf{1}^\\top (\\Sigma^{-1} \\mu_e)} = \\frac{\\Sigma^{-1} (\\mu - r_f \\mathbf{1})}{\\mathbf{1}^\\top \\Sigma^{-1} (\\mu - r_f \\mathbf{1})} $$\n在计算上，求解线性方程组 `$\\Sigma w_{\\text{unscaled}} = \\mu_e$` 来得到 `$w_{\\text{unscaled}}$`，比直接计算 `$\\Sigma}` 的逆矩阵在数值上更稳定。\n\n一旦确定了切点投资组合的权重 `$w^\\star$`，我们就可以计算其期望回报率 `$\\mu_p^\\star = \\mu^\\top w^\\star$` 和标准差 `$\\sigma_p^\\star = \\sqrt{(w^\\star)^\\top \\Sigma w^\\star}`。\n\n资本配置线的斜率 `$S$` 是该切点投资组合的夏普比率：\n$$ S = \\frac{\\mu_p^\\star - r_f}{\\sigma_p^\\star} = \\frac{\\mu^\\top w^\\star - r_f}{\\sqrt{(w^\\star)^\\top \\Sigma w^\\star}} $$\n\n最后，对于给定的目标标准差 `$\\bar{\\sigma} \\ge 0$`，CAL上的期望回报率由以下线性关系给出：\n$$ E_{\\text{CAL}}(\\bar{\\sigma}) = r_f + S \\cdot \\bar{\\sigma} $$\n该公式描述了将一部分资本配置给切点投资组合，剩余部分配置给无风险资产所形成的完整投资组合的期望回报率。当 `$\\bar{\\sigma} = 0.0$` 时，投资组合 `$100\\%$` 投资于无风险资产，且 `$E_{\\text{CAL}}(0.0) = r_f$`。\n\n每个测试用例的算法如下：\n1.  使用给定的种子 `$s$` 初始化一个随机数生成器。\n2.  从 `$\\mathcal{N}(0, 1)` 生成一个 `$50 \\times 50$` 的标准正态随机变量矩阵 `$A$`。\n3.  计算 `$M = A A^\\top$`。\n4.  构建相关系数矩阵 `$R$`，其中 `$R_{ij} = M_{ij} / \\sqrt{M_{ii} M_{jj}}$`。\n5.  从 `$U(0.05, 0.35)$` 生成标准差向量 `$\\sigma$`，并从 `$U(0.02, 0.18)$` 生成期望回报率向量 `$\\mu$`。\n6.  构建协方差矩阵 `$\\Sigma = D R D$`，其中 `$D = \\operatorname{diag}(\\sigma)$`。\n7.  计算超额回报向量 `$\\mu_e = \\mu - r_f \\mathbf{1}`。\n8.  求解线性方程组 `$\\Sigma w_{\\text{unscaled}} = \\mu_e$` 以得到 `$w_{\\text{unscaled}}$`。\n9.  归一化权重：`$w^\\star = w_{\\text{unscaled}} / (\\mathbf{1}^\\top w_{\\text{unscaled}})$`。\n10. 计算CAL斜率 `$S = (\\mu^\\top w^\\star - r_f) / \\sqrt{(w^\\star)^\\top \\Sigma w^\\star}`。\n11. 为 `$\\bar{\\sigma} \\in \\{0.0, 0.05, 0.15\\}` 计算 `$E_{\\text{CAL}}(\\bar{\\sigma}) = r_f + S \\cdot \\bar{\\sigma}`。\n12. 整理结果并四舍五入至 `$6$` 位小数。",
            "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Computes the Capital Allocation Line slope and expected returns for several test cases.\n    \"\"\"\n    # Define the test cases from the problem statement.\n    test_cases = [\n        # (seed, risk-free rate)\n        (7, 0.02),\n        (11, 0.00),\n        (13, -0.01),\n    ]\n\n    target_sigmas = [0.0, 0.05, 0.15]\n    all_results = []\n    \n    for case in test_cases:\n        s, r_f = case\n        \n        # --- Start of calculation for one case ---\n        N = 50  # Number of assets\n        rng = np.random.default_rng(seed=s)\n\n        # Step 1: Generate asset parameters\n        # Generate random matrix A and use it to construct a valid correlation matrix R\n        A = rng.standard_normal((N, N))\n        M = A @ A.T\n\n        # R_ij = M_ij / sqrt(M_ii * M_jj)\n        diag_M = np.diag(M)\n        diag_M_inv_sqrt = np.diag(1.0 / np.sqrt(diag_M))\n        R = diag_M_inv_sqrt @ M @ diag_M_inv_sqrt\n\n        # Generate vectors for standard deviation and expected return\n        sigma_vec = rng.uniform(0.05, 0.35, N)\n        mu_vec = rng.uniform(0.02, 0.18, N)\n\n        # Construct covariance matrix Sigma = D * R * D\n        D = np.diag(sigma_vec)\n        Sigma = D @ R @ D\n\n        # Step 2: Compute the tangency portfolio\n        # Vector of excess returns over the risk-free rate\n        mu_e = mu_vec - r_f\n        \n        # Solve the linear system Sigma * w_unscaled = mu_e for unscaled weights.\n        # This is more numerically stable than inverting Sigma.\n        w_unscaled = np.linalg.solve(Sigma, mu_e)\n\n        # Normalize weights to sum to 1 to get the tangency portfolio weights\n        w_star = w_unscaled / np.sum(w_unscaled)\n\n        # Step 3: Compute the CAL slope S\n        # Calculate expected return and standard deviation of the tangency portfolio\n        mu_p_star = mu_vec.T @ w_star\n        sigma_p_star = np.sqrt(w_star.T @ Sigma @ w_star)\n\n        # The slope S is the Sharpe ratio of the tangency portfolio\n        S = (mu_p_star - r_f) / sigma_p_star\n\n        # Step 4: Compute CAL expected returns for target standard deviations\n        E_cal_values = [r_f + S * ts for ts in target_sigmas]\n        \n        # Collect the results for the current case: [S, E_CAL(0.0), E_CAL(0.05), E_CAL(0.15)]\n        case_result_list = [S] + E_cal_values\n        \n        # --- End of calculation for one case ---\n        all_results.append(case_result_list)\n\n    # Final print statement in the exact required format.\n    # Format: [[S1,E1_0.0,E1_0.05,E1_0.15],[S2,...],[S3,...]]\n    outer_parts = []\n    for res_list in all_results:\n        # Format each number to 6 decimal places\n        inner_parts = [f\"{val:.6f}\" for val in res_list]\n        outer_parts.append(f\"[{','.join(inner_parts)}]\")\n    \n    final_output_str = f\"[{','.join(outer_parts)}]\"\n\n    print(final_output_str)\n\nsolve()\n\n```"
        },
        {
            "introduction": "标准模型通常假设资产回报在时间上是独立的。本练习通过引入自相关性来挑战这一假设，而自相关性是真实金融数据中的一个普遍特征。你将学习如何调整投资组合风险和资本配置线斜率的计算，以考虑这种时间序列依赖性，从而在投资期内对风险有更细致的认识。",
            "id": "2438505",
            "problem": "一位投资者正在评估一项风险资产。该资产的单日算术回报率（对第 $t$ 天记为 $r_{t}$）是协方差平稳的，且满足 $\\mathbb{E}[r_{t}] = \\mu_{d}$，$\\operatorname{Var}(r_{t}) = \\sigma_{d}^{2}$，以及一阶自相关系数 $\\operatorname{Corr}(r_{t}, r_{t-1}) = \\rho$。假设对所有 $k \\geq 2$，$\\operatorname{Cov}(r_{t}, r_{t-k}) = 0$。该投资者的单个决策期为 $n$ 个交易日，在均值-方差分析中，该风险资产的单期算术回报率定义为为期 $n$ 天的累积算术回报率\n$$\nR_{n} \\equiv \\sum_{t=1}^{n} r_{t}.\n$$\n为期 $n$ 天的无风险简单回报率是一个已知常数 $R_{f,n}$。在此单期内，该投资者构建了一个投资组合，将财富的 $y$ 份投资于风险资产，$1-y$ 份投资于无风险资产。此风险资产和无风险资产的资本配置线（CAL）是随着 $y$ 变化而得到的所有可达到的点对 $\\big(\\sigma_{p}(y), \\mathbb{E}[R_{p}(y)]\\big)$ 的集合，其中 $R_{p}(y)$ 是单期投资组合的算术回报率，而 $\\sigma_{p}(y)$ 是其标准差。\n\n给定以下参数\n- $\\mu_{d} = 5 \\times 10^{-4}$,\n- $\\sigma_{d} = 10^{-2}$,\n- $\\rho = 0.2$,\n- $n = 20$,\n- $R_{f,n} = 2 \\times 10^{-3}$,\n\n计算资本配置线的斜率，其定义为\n$$\nS \\equiv \\frac{\\mathbb{E}[R_{n}] - R_{f,n}}{\\sigma_{n}},\n$$\n其中 $\\sigma_{n} \\equiv \\sqrt{\\operatorname{Var}(R_{n})}$ 是经过给定自相关性调整后的 $n$ 天累积算术回报率的标准差。\n\n将 $S$ 的最终数值以小数形式表示，并四舍五入至四位有效数字。",
            "solution": "资本配置线（CAL）描述了在单个决策期内，一项风险资产和一项无风险资产的所有线性组合。当只有一项风险资产和一项无风险资产时，单期投资组合的算术回报率为 $R_{p}(y) = y R_{n} + (1-y) R_{f,n}$，因此 $\\mathbb{E}[R_{p}(y)] = R_{f,n} + y\\big(\\mathbb{E}[R_{n}] - R_{f,n}\\big)$ 且 $\\sigma_{p}(y) = |y|\\,\\sigma_{n}$，因为无风险回报率是非随机的。因此，CAL的斜率等于该风险资产在此期间的夏普比率：\n$$\nS = \\frac{\\mathbb{E}[R_{n}] - R_{f,n}}{\\sigma_{n}}.\n$$\n\n为了在计算 $\\sigma_{n}$ 时考虑自相关性，我们从协方差平稳过程中和的方差入手。根据定义，\n$$\nR_{n} = \\sum_{t=1}^{n} r_{t}, \\quad \\mathbb{E}[R_{n}] = \\sum_{t=1}^{n} \\mathbb{E}[r_{t}] = n \\mu_{d}.\n$$\n方差为\n$$\n\\operatorname{Var}(R_{n}) = \\operatorname{Var}\\!\\Big(\\sum_{t=1}^{n} r_{t}\\Big) = \\sum_{t=1}^{n} \\operatorname{Var}(r_{t}) + 2 \\sum_{1 \\leq i < j \\leq n} \\operatorname{Cov}(r_{i}, r_{j}).\n$$\n对于 $k \\geq 0$，设 $\\gamma_{k} \\equiv \\operatorname{Cov}(r_{t}, r_{t-k})$。在协方差平稳性的条件下，$\\gamma_{0} = \\sigma_{d}^{2}$，并且根据给定的假设，$\\gamma_{1} = \\rho \\sigma_{d}^{2}$ 且对所有 $k \\geq 2$ 有 $\\gamma_{k} = 0$。那么，只有滞后0期和滞后1期的项有贡献：\n- 有 $n$ 个滞后0期的项，其和为 $n \\sigma_{d}^{2}$。\n- 有 $(n-1)$ 对不同的滞后1期配对 $(i,j)$ 满足 $j=i+1$，并且由于 $(i,j)$ 和 $(j,i)$ 的对称性，每一对在双重求和中出现两次，贡献了 $2(n-1)\\gamma_{1} = 2(n-1)\\rho \\sigma_{d}^{2}$。\n\n因此，\n$$\n\\operatorname{Var}(R_{n}) = n \\sigma_{d}^{2} + 2(n-1)\\rho \\sigma_{d}^{2} = \\sigma_{d}^{2}\\Big[n + 2(n-1)\\rho\\Big],\n$$\n以及\n$$\n\\sigma_{n} = \\sigma_{d}\\,\\sqrt{n + 2(n-1)\\rho}.\n$$\n\n现在代入给定值：\n- $\\mu_{d} = 5 \\times 10^{-4}$,\n- $\\sigma_{d} = 10^{-2}$,\n- $\\rho = 0.2$,\n- $n = 20$,\n- $R_{f,n} = 2 \\times 10^{-3}$.\n\n计算均值：\n$$\n\\mathbb{E}[R_{n}] = n \\mu_{d} = 20 \\times 5 \\times 10^{-4} = 1.0 \\times 10^{-2}.\n$$\n计算标准差：\n$$\n\\sigma_{n} = 10^{-2} \\sqrt{20 + 2 \\times 19 \\times 0.2} = 10^{-2} \\sqrt{20 + 7.6} = 10^{-2} \\sqrt{27.6}.\n$$\n从而，\n$$\nS = \\frac{1.0 \\times 10^{-2} - 2 \\times 10^{-3}}{10^{-2} \\sqrt{27.6}} = \\frac{8.0 \\times 10^{-3}}{10^{-2} \\sqrt{27.6}} = \\frac{0.8}{\\sqrt{27.6}}.\n$$\n进行数值计算：\n$$\n\\sqrt{27.6} \\approx 5.2553,\\quad S \\approx \\frac{0.8}{5.2553} \\approx 0.1523.\n$$\n四舍五入到四位有效数字后，得到 $S = 0.1523$。",
            "answer": "$$\\boxed{0.1523}$$"
        },
        {
            "introduction": "一个真正无风险资产的概念是一种理想状态。本问题探讨了一个关键的现实世界复杂性：通货膨胀。你将分析通胀风险如何将一个*名义上*的无风险资产转变为一个*实际上*的风险资产，以及这对构建实际（经通胀调整后）的资本配置线（CAL）意味着什么。",
            "id": "2438498",
            "problem": "一位投资者以实际（经通货膨胀调整的）价值评估单期投资组合选择。名义无风险资产是一张国库券，其在一个时期内支付确定的名义简单回报率 $r_f^{N} = 0.03$。设总通货膨胀率为 $I \\equiv 1 + \\pi$，其中 $\\ln I \\sim \\mathcal{N}(\\mu_I, \\sigma_I^2)$，参数为 $\\mu_I = 0.02$ 且 $\\sigma_I = 0.04$。假设 $I$ 在统计上与国库券的名义支付无关，也与任何风险资产的名义回报无关。国库券的事后实际简单回报率定义为 $R_f^{\\text{real}} \\equiv \\dfrac{1 + r_f^{N}}{I} - 1$。在以实际价值表示的均值-标准差图上，资本配置线（CAL）是通过将名义国库券和风险市场投资组合（两者均以实际价值评估）进行线性组合而获得的均值-方差组合的集合。\n\n哪个选项正确地量化了 $R_f^{\\text{real}}$ 的期望值和标准差，并说明了其对实际资本配置线（real CAL）的 y 轴截距的影响？\n\nA. $\\mathbb{E}[R_f^{\\text{real}}] \\approx r_f^{N} - \\mathbb{E}[\\pi] \\approx 0.0090$，$\\operatorname{sd}(R_f^{\\text{real}}) = 0$。实际资本配置线仍然明确地与 y 轴相交于约 $0.90\\%$ 的点。\n\nB. $\\mathbb{E}[R_f^{\\text{real}}] = (1 + r_f^{N})\\,\\mathbb{E}\\!\\left[\\dfrac{1}{I}\\right] - 1 \\approx 0.0104$ 且 $\\operatorname{sd}(R_f^{\\text{real}}) = (1 + r_f^{N})\\sqrt{\\operatorname{Var}\\!\\left(\\dfrac{1}{I}\\right)} \\approx 0.0405$。因此，实际的“无风险”点具有正的水平离散度；实际资本配置线的 y 轴截距不再是 y 轴上的一个清晰的点，而是在 $1.04\\%$ 附近变成一个具有非零水平跨度的弥散带。\n\nC. $\\mathbb{E}[R_f^{\\text{real}}] = \\dfrac{1 + r_f^{N}}{1 + \\mathbb{E}[\\pi]} - 1 \\approx 0.0088$ 且 $\\operatorname{sd}(R_f^{\\text{real}}) \\approx 0.0400$。在大型投资组合中，通货膨胀风险可以被分散掉，因此实际资本配置线的 y 轴截距不受影响。\n\nD. $\\mathbb{E}[R_f^{\\text{real}}] = r_f^{N} = 0.03$，而由于通货膨胀，$\\operatorname{sd}(R_f^{\\text{real}}) > 0$。实际资本配置线的 y 轴截距保持在 $3\\%$，但由于风险资产波动性上升，该线会旋转以获得更小的斜率。",
            "solution": "题目陈述是计算金融学中的一个有效练习。它具有科学依据、问题设定良好且客观。所有为得出唯一解所需的数据和定义均已提供。\n\n问题要求计算名义国库券的实际简单回报率的期望值和标准差，以及其对以实际价值表示的资本配置线（CAL）的影响。\n\n首先，我们定义并分析实际简单回报率的随机变量 $R_f^{\\text{real}}$。\n已知数据：\n名义无风险简单回报率为 $r_f^{N} = 0.03$。\n因此，国库券的总名义回报为 $1 + r_f^{N} = 1.03$，这是一个常数。\n总通货膨胀率为 $I \\equiv 1 + \\pi$。\n总通货膨胀率的对数分布为 $\\ln I \\sim \\mathcal{N}(\\mu_I, \\sigma_I^2)$，参数为 $\\mu_I = 0.02$ 且 $\\sigma_I = 0.04$。\n这意味着 $I$ 服从对数正态分布。\n国库券的事后实际简单回报率定义为：\n$$R_f^{\\text{real}} = \\frac{1 + r_f^{N}}{I} - 1 = \\frac{1.03}{I} - 1$$\n为了求出 $R_f^{\\text{real}}$ 的期望值和标准差，我们需要随机变量 $1/I$ 的前两阶矩。\n设 $X = \\ln I$。已知 $X \\sim \\mathcal{N}(\\mu_I, \\sigma_I^2)$。\n我们感兴趣的变量是 $1/I = e^{-\\ln I} = e^{-X}$。\n由于 $X$ 服从正态分布，$-X$ 也服从正态分布：$-X \\sim \\mathcal{N}(-\\mu_I, \\sigma_I^2)$。\n因此，$1/I$ 是一个服从对数正态分布的随机变量。\n\n一个对数正态变量 $Y = e^W$（其中 $W \\sim \\mathcal{N}(\\mu_W, \\sigma_W^2)$）的 $k$ 阶矩由公式 $\\mathbb{E}[Y^k] = e^{k\\mu_W + \\frac{1}{2}k^2\\sigma_W^2}$ 给出。\n对于我们的变量 $1/I$，其底层的正态变量是 $W = -X$，其中 $\\mu_W = -\\mu_I = -0.02$ 且 $\\sigma_W = \\sigma_I = 0.04$。\n\n$1/I$ 的期望值是其一阶矩 ($k=1$)：\n$$\\mathbb{E}\\left[\\frac{1}{I}\\right] = e^{1 \\cdot (-\\mu_I) + \\frac{1}{2}(1)^2\\sigma_I^2} = e^{-\\mu_I + \\frac{1}{2}\\sigma_I^2}$$\n代入给定值：\n$$\\mathbb{E}\\left[\\frac{1}{I}\\right] = e^{-0.02 + \\frac{1}{2}(0.04)^2} = e^{-0.02 + \\frac{1}{2}(0.0016)} = e^{-0.02 + 0.0008} = e^{-0.0192}$$\n$$e^{-0.0192} \\approx 0.9809904$$\n现在，我们可以求出实际回报的期望值：\n$$\\mathbb{E}[R_f^{\\text{real}}] = \\mathbb{E}\\left[\\frac{1.03}{I} - 1\\right] = 1.03 \\cdot \\mathbb{E}\\left[\\frac{1}{I}\\right] - 1$$\n$$\\mathbb{E}[R_f^{\\text{real}}] = 1.03 \\cdot e^{-0.0192} - 1 \\approx 1.03 \\cdot (0.9809904) - 1$$\n$$\\mathbb{E}[R_f^{\\text{real}}] \\approx 1.0104199 - 1 = 0.0104199 \\approx 0.0104$$\n\n接下来，我们计算标准差 $\\operatorname{sd}(R_f^{\\text{real}})$。首先，我们求方差 $\\operatorname{Var}(R_f^{\\text{real}})$。\n$$\\operatorname{Var}(R_f^{\\text{real}}) = \\operatorname{Var}\\left(\\frac{1.03}{I} - 1\\right) = \\operatorname{Var}\\left(\\frac{1.03}{I}\\right) = (1.03)^2 \\operatorname{Var}\\left(\\frac{1}{I}\\right)$$\n对数正态变量 $Y$ 的方差可以计算为 $\\operatorname{Var}(Y) = \\mathbb{E}[Y^2] - (\\mathbb{E}[Y])^2$。\n我们需要 $1/I$ 的二阶矩 ($k=2$)：\n$$\\mathbb{E}\\left[\\left(\\frac{1}{I}\\right)^2\\right] = e^{2 \\cdot (-\\mu_I) + \\frac{1}{2}(2)^2\\sigma_I^2} = e^{-2\\mu_I + 2\\sigma_I^2}$$\n代入数值：\n$$\\mathbb{E}\\left[\\left(\\frac{1}{I}\\right)^2\\right] = e^{-2(0.02) + 2(0.04)^2} = e^{-0.04 + 2(0.0016)} = e^{-0.04 + 0.0032} = e^{-0.0368}$$\n$$e^{-0.0368} \\approx 0.9638703$$\n我们已经求得 $(\\mathbb{E}[1/I])^2 = (e^{-0.0192})^2 = e^{-0.0384} \\approx (0.9809904)^2 \\approx 0.9623422$。\n所以，$1/I$ 的方差是：\n$$\\operatorname{Var}\\left(\\frac{1}{I}\\right) = \\mathbb{E}\\left[\\left(\\frac{1}{I}\\right)^2\\right] - \\left(\\mathbb{E}\\left[\\frac{1}{I}\\right]\\right)^2 = e^{-0.0368} - e^{-0.0384}$$\n$$\\operatorname{Var}\\left(\\frac{1}{I}\\right) \\approx 0.9638703 - 0.9623319 = 0.0015384$$\n现在，将此代入 $R_f^{\\text{real}}$ 的方差表达式：\n$$\\operatorname{Var}(R_f^{\\text{real}}) = (1.03)^2 \\cdot \\operatorname{Var}\\left(\\frac{1}{I}\\right) \\approx 1.0609 \\cdot (0.0015384) \\approx 0.0016321$$\n标准差是方差的平方根：\n$$\\operatorname{sd}(R_f^{\\text{real}}) = \\sqrt{\\operatorname{Var}(R_f^{\\text{real}})} \\approx \\sqrt{0.0016321} \\approx 0.040399$$\n四舍五入到四位小数，我们得到 $\\operatorname{sd}(R_f^{\\text{real}}) \\approx 0.0404$。\n\n对实际资本配置线（real CAL）的影响：在标准的均值-标准差图中，其中一轴是期望回报 $\\mathbb{E}[R]$，另一轴是标准差 $\\operatorname{sd}(R)$，无风险资产是纵轴（y 轴）上的一个点，因为其标准差为零。资本配置线是从该点出发并与风险资产的有效前沿相切的直线。\n在本题中，名义国库券仅在名义上是无风险的。当其回报转换为实际价值时，它会受到通货膨胀风险的影响。正如我们计算的，其实际回报的标准差为 $\\operatorname{sd}(R_f^{\\text{real}}) \\approx 0.0404$，这是非零的。\n因此，在以实际价值表示的均值-标准差图中，国库券不再是无风险资产。它是一个风险资产，由点 $(\\sigma, \\mu) = (\\operatorname{sd}(R_f^{\\text{real}}), \\mathbb{E}[R_f^{\\text{real}}]) \\approx (0.0404, 0.0104)$ 表示。\n这个点不在 y 轴上。由该资产与风险市场投资组合构成的“实际资本配置线”是一条连接风险 $(\\sigma>0)$ 平面中两点的曲线（除非相关性为完美，否则为双曲线）。它没有传统意义上无风险利率的 y 轴截距。资本配置线的基础已经从一个无风险点转移到了一个风险点。\n\n现在，我们评估每个选项：\n\n**A. $\\mathbb{E}[R_f^{\\text{real}}] \\approx r_f^{N} - \\mathbb{E}[\\pi] \\approx 0.0090$，$\\operatorname{sd}(R_f^{\\text{real}}) = 0$。实际资本配置线仍然明确地与 y 轴相交于约 $0.90\\%$ 的点。**\n期望回报的计算使用了费雪一阶近似，其精度低于精确公式。更关键的是，它错误地指出实际回报的标准差为零。由于通货膨胀是不确定的，名义资产的实际回报也是不确定的。对资本配置线的影响也是错误的，因为该资产在实际意义上并非无风险。\n结论：**错误**。\n\n**B. $\\mathbb{E}[R_f^{\\text{real}}] = (1 + r_f^{N})\\,\\mathbb{E}\\!\\left[\\dfrac{1}{I}\\right] - 1 \\approx 0.0104$ 且 $\\operatorname{sd}(R_f^{\\text{real}}) = (1 + r_f^{N})\\sqrt{\\operatorname{Var}\\!\\left(\\dfrac{1}{I}\\right)} \\approx 0.0405$。因此，实际的“无风险”点具有正的水平离散度；实际资本配置线的 y 轴截距不再是 y 轴上的一个清晰的点，而是在 $1.04\\%$ 附近变成一个具有非零水平跨度的弥散带。**\n期望值的公式是正确的，其数值 $\\approx 0.0104$ 与我们的计算相符。标准差的公式也是正确的。我们的计算得出 $\\approx 0.0404$，这与题目提供的 $0.0405$ 非常接近；微小的差异可能是由于题目设计中的四舍五入造成的。对其影响的定性描述是准确的：所谓的“无风险”资产现在具有正的标准差（“水平离散度”），因此不是 y 轴上的一个点。将这种变化描述为“弥散带”是一种非技术性但概念上正确的表达方式，说明确定的无风险锚点已经消失。\n结论：**正确**。\n\n**C. $\\mathbb{E}[R_f^{\\text{real}}] = \\dfrac{1 + r_f^{N}}{1 + \\mathbb{E}[\\pi]} - 1 \\approx 0.0088$ 且 $\\operatorname{sd}(R_f^{\\text{real}}) \\approx 0.0400$。在大型投资组合中，通货膨胀风险可以被分散掉，因此实际资本配置线的 y 轴截距不受影响。**\n期望值的公式不正确；这是对期望值的错误应用，因为 $\\mathbb{E}[1/I] \\neq 1/\\mathbb{E}[I]$。标准差的值 $0.0400$ 是一个常见但精度较低的近似值（$\\operatorname{sd}(R_f^{\\text{real}}) \\approx \\sigma_I$）。“通货膨胀风险可以被分散掉”的说法是根本错误的。通货膨胀是系统性风险的来源，因为它影响经济中所有名义合约的实际价值。它不能通过投资组合多样化来消除。\n结论：**错误**。\n\n**D. $\\mathbb{E}[R_f^{\\text{real}}] = r_f^{N} = 0.03$，而由于通货膨胀，$\\operatorname{sd}(R_f^{\\text{real}}) > 0$。实际资本配置线的 y 轴截距保持在 $3\\%$，但由于风险资产波动性上升，该线会旋转以获得更小的斜率。**\n该选项错误地声称预期实际回报等于名义无风险利率，完全忽略了通货膨胀的影响。虽然它正确地指出标准差大于零，但其 y 轴截距保持在 $3\\%$ 的结论是自相矛盾的。如果标准差为正，该点就不可能在 y 轴上。\n结论：**错误**。",
            "answer": "$$\\boxed{B}$$"
        }
    ]
}