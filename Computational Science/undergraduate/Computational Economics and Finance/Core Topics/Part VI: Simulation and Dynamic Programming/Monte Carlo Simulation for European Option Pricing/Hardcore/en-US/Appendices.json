{
    "hands_on_practices": [
        {
            "introduction": "A robust computational model should behave sensibly at its conceptual boundaries. This first exercise provides a crucial sanity check for your Monte Carlo pricer by exploring a world with no uncertainty—that is, where volatility $\\sigma = 0$. By verifying that your simulation converges to the simple, deterministic forward price, you can build confidence in the fundamental mechanics of your asset price generator and discounting logic. ",
            "id": "2411899",
            "problem": "You have implemented a risk-neutral Monte Carlo simulator to price a European call option on a non-dividend-paying stock. The stock price under the risk-neutral measure follows Geometric Brownian Motion (GBM), that is, the stochastic differential equation (SDE) $$\\mathrm{d}S_t = r S_t \\,\\mathrm{d}t + \\sigma S_t \\,\\mathrm{d}W_t,$$ with initial value $$S_0>0,$$ risk-free rate $$r\\ge 0,$$ volatility $$\\sigma\\ge 0,$$ and maturity $$T>0.$$ The option has strike $$K>0,$$ and the pricer estimates the arbitrage-free present value by simulating terminal prices $$S_T$$ and taking the sample average of discounted payoffs $e^{-rT}(S_T - K)^+$.\n\nAs a unit test, you set $$\\sigma=0.$$ In the limit of infinitely many simulated paths, to which value should the Monte Carlo estimator converge?\n\nA. $$e^{-rT}\\,\\max\\!\\big(S_0 e^{rT} - K,\\,0\\big)$$\nB. $$\\max\\!\\big(S_0 e^{rT} - K,\\,0\\big)$$\nC. $$\\max\\!\\big(S_0 - K,\\,0\\big)$$\nD. $$e^{-rT}\\,\\max\\!\\big(S_0 - K,\\,0\\big)$$",
            "solution": "The problem statement must first be validated for scientific soundness, self-consistency, and clarity.\n\nStep 1: Extract Givens\n-   The underlying asset is a non-dividend-paying stock whose price $S_t$ follows the stochastic differential equation (SDE) for Geometric Brownian Motion (GBM) under the risk-neutral measure: $$\\mathrm{d}S_t = r S_t \\,\\mathrm{d}t + \\sigma S_t \\,\\mathrm{d}W_t$$.\n-   Initial stock price: $$S_0 > 0$$.\n-   Risk-free interest rate: $$r \\ge 0$$.\n-   Volatility: $$\\sigma \\ge 0$$.\n-   Time to maturity: $$T > 0$$.\n-   The option is a European call option with strike price $$K > 0$$.\n-   The Monte Carlo estimator calculates the arbitrage-free present value as the sample average of discounted payoffs: $e^{-rT}(S_T - K)^+$.\n-   The specific condition for the unit test is $$\\sigma=0$$.\n-   The question asks for the value to which the Monte Carlo estimator converges in the limit of infinitely many simulated paths.\n\nStep 2: Validate Using Extracted Givens\nThe problem is well-defined within the standard framework of modern quantitative finance, specifically the Black-Scholes-Merton model. The SDE is the standard risk-neutral dynamics for a non-dividend stock. The Monte Carlo pricing method described is a standard numerical technique. The question asks for the limit of the estimator, which, by the Law of Large Numbers, is the theoretical expected value. The condition $$\\sigma=0$$ is a valid and common degenerate case used to test the consistency of a model, as it represents a world with no uncertainty. In this case, the asset should grow deterministically at the risk-free rate. All parameters are properly defined with appropriate constraints. The problem is scientifically grounded, well-posed, objective, and contains no contradictions or ambiguities.\n\nStep 3: Verdict and Action\nThe problem statement is valid. A solution will be derived.\n\nThe Monte Carlo estimator for the price of the European call option, $C_0$, is given by the sample mean of a large number, $N$, of simulated discounted payoffs:\n$$ \\hat{C}_{0,N} = \\frac{1}{N} \\sum_{i=1}^{N} e^{-rT} \\max(S_T^{(i)} - K, 0) $$\nwhere $S_T^{(i)}$ is the terminal stock price from the $i$-th simulation path.\n\nBy the Law of Large Numbers, as the number of simulated paths $N$ approaches infinity, the Monte Carlo estimator $\\hat{C}_{0,N}$ converges to the true expected value of the discounted payoff under the risk-neutral measure $\\mathbb{Q}$:\n$$ \\lim_{N \\to \\infty} \\hat{C}_{0,N} = \\mathbb{E}_{\\mathbb{Q}}\\left[e^{-rT} \\max(S_T - K, 0)\\right] $$\nSince the discount factor $e^{-rT}$ is a constant, it can be pulled out of the expectation:\n$$ C_0 = e^{-rT} \\mathbb{E}_{\\mathbb{Q}}\\left[\\max(S_T - K, 0)\\right] $$\nThe problem requires us to evaluate this limit under the specific condition that the volatility $\\sigma$ is set to $0$.\n\nWhen $\\sigma = 0$, the SDE for the stock price becomes:\n$$ \\mathrm{d}S_t = r S_t \\,\\mathrm{d}t + (0) S_t \\,\\mathrm{d}W_t $$\n$$ \\mathrm{d}S_t = r S_t \\,\\mathrm{d}t $$\nThis is no longer a stochastic differential equation but a simple first-order ordinary differential equation (ODE). The stochastic component, which introduces randomness into the price path, has vanished. The solution to this ODE with the initial condition $S(0) = S_0$ is found by separation of variables:\n$$ \\frac{\\mathrm{d}S_t}{S_t} = r \\,\\mathrm{d}t $$\nIntegrating from time $0$ to time $T$:\n$$ \\int_{S_0}^{S_T} \\frac{\\mathrm{d}S}{S} = \\int_0^T r \\,\\mathrm{d}t $$\n$$ \\ln(S_T) - \\ln(S_0) = rT $$\n$$ \\ln\\left(\\frac{S_T}{S_0}\\right) = rT $$\nExponentiating both sides gives the solution for the terminal price $S_T$:\n$$ S_T = S_0 e^{rT} $$\nIn this zero-volatility scenario, the terminal stock price $S_T$ is a deterministic quantity, not a random variable. Every simulated path will yield the exact same terminal price.\n\nNow, we substitute this deterministic value of $S_T$ back into the expectation formula for the option price. Since the argument of the expectation is no longer random, the expectation of a constant is the constant itself:\n$$ \\mathbb{E}_{\\mathbb{Q}}\\left[\\max(S_T - K, 0)\\right] = \\max(S_0 e^{rT} - K, 0) $$\nFinally, the price of the option is the present value of this deterministic payoff:\n$$ C_0 = e^{-rT} \\max(S_0 e^{rT} - K, 0) $$\nThis is the value to which the Monte Carlo estimator must converge.\n\nNow, we evaluate each provided option.\n\nA. $$e^{-rT}\\,\\max\\!\\big(S_0 e^{rT} - K,\\,0\\big)$$\nThis expression matches our derived result. It correctly identifies the deterministic terminal price $S_T = S_0 e^{rT}$, calculates the corresponding payoff at maturity $\\max(S_0 e^{rT} - K, 0)$, and discounts it back to the present value using the factor $e^{-rT}$. This option is **Correct**.\n\nB. $$\\max\\!\\big(S_0 e^{rT} - K,\\,0\\big)$$\nThis expression represents the undiscounted payoff at maturity $T$. The task is to find the value of the pricer, which estimates the present value (at time $0$) of the option. This option omits the necessary discounting factor $e^{-rT}$. This is the value of the option at time $T$, not at time $0$. This option is **Incorrect**.\n\nC. $$\\max\\!\\big(S_0 - K,\\,0\\big)$$\nThis is the intrinsic value of the option at time $t=0$. It is the payoff one would receive if the option could be exercised immediately. It completely ignores the time to maturity $T > 0$, the growth of the stock price, and the time value of money. This option is **Incorrect**.\n\nD. $$e^{-rT}\\,\\max\\!\\big(S_0 - K,\\,0\\big)$$\nThis expression incorrectly calculates the payoff based on the initial price $S_0$ instead of the terminal price $S_T$. It then discounts this incorrect payoff value. The payoff of a European option is fundamentally linked to the price of the underlying asset at maturity, $S_T$. This option is fundamentally flawed in its construction. This option is **Incorrect**.",
            "answer": "$$\\boxed{A}$$"
        },
        {
            "introduction": "With the basic mechanics confirmed, we can move to a more nuanced validation using fundamental no-arbitrage principles. This practice challenges you to use the celebrated Put-Call Parity theorem not just as a formula, but as a dynamic tool to cross-validate your simulation's output for call and put options. Successfully navigating this exercise requires understanding how theoretical identities manifest amidst the statistical noise inherent in Monte Carlo methods. ",
            "id": "2411949",
            "problem": "You are pricing a European call and a European put written on the same non-dividend-paying stock using Monte Carlo (MC) simulation under the risk-neutral measure. The underlying stock price is modeled as a Geometric Brownian Motion (GBM) with parameters $S_0 = 100$, $K = 100$, $r = 0.05$, $\\sigma = 0.2$, and maturity $T = 1$. You simulate $N = 100{,}000$ independent terminal prices and estimate the option prices as the sample means of discounted payoffs. From one run you obtain $\\widehat{C} = 10.46$ with an estimated standard error $0.06$ for the call and $\\widehat{P} = 5.57$ with an estimated standard error $0.06$ for the put. Using these, an estimated put-call parity residual $\\widehat{\\Delta} = \\widehat{C} - \\widehat{P} - \\left(S_0 - K e^{-rT}\\right)$ is computed to be approximately $0.01$ with an estimated standard error (based on independent sampling for the call and put) of approximately $0.085$. Which statement is most accurate?\nA. The small nonzero $\\widehat{\\Delta}$ is consistent with sampling variability; as $N \\to \\infty$, $\\widehat{\\Delta} \\to 0$ if risk-neutral dynamics and discounting are correctly implemented. Moreover, computing $\\widehat{C}$ and $\\widehat{P}$ on the same simulated $S_T$ values and forming their pathwise difference typically increases the variance of $\\widehat{\\Delta}$ because the discounted call and put payoffs are negatively correlated.\nB. The nonzero $\\widehat{\\Delta}$ indicates a violation of put-call parity, implying the risk-neutral simulation is misspecified unless dividends are included.\nC. Because the drift in the simulation is set to $r$, discounting by $e^{-rT}$ is unnecessary; using undiscounted payoffs would still yield unbiased prices and exact parity for any $N$.\nD. Using antithetic variates forces $\\widehat{\\Delta} = 0$ for any finite $N$, so any nonzero residual must be due to coding error.",
            "solution": "The problem statement must first be validated for scientific and logical integrity.\n\nA. Problem Validation\n\nStep 1: Extract Givens\n\n- Asset: Non-dividend-paying stock.\n- Model: Geometric Brownian Motion (GBM).\n- Pricing Measure: Risk-Neutral Measure.\n- Numerical Method: Monte Carlo (MC) simulation.\n- Initial Stock Price: $S_0 = 100$.\n- Strike Price: $K = 100$.\n- Risk-Free Interest Rate: $r = 0.05$.\n- Volatility: $\\sigma = 0.2$.\n- Time to Maturity: $T = 1$.\n- Number of simulations: $N = 100,000$.\n- Estimated call price: $\\widehat{C} = 10.46$.\n- Estimated standard error of the call price estimator: $SE(\\widehat{C}) \\approx 0.06$.\n- Estimated put price: $\\widehat{P} = 5.57$.\n- Estimated standard error of the put price estimator: $SE(\\widehat{P}) \\approx 0.06$.\n- Put-Call Parity Residual Definition: $\\widehat{\\Delta} = \\widehat{C} - \\widehat{P} - \\left(S_0 - K e^{-rT}\\right)$.\n- Observed Residual Value: $\\widehat{\\Delta} \\approx 0.01$.\n- Stated sampling method for residual calculation: \"independent sampling for the call and put\".\n- Estimated standard error of the residual: $SE(\\widehat{\\Delta}) \\approx 0.085$.\n\nStep 2: Validate Using Extracted Givens\n\nThe problem statement describes a standard application of Monte Carlo simulation for European option pricing within the Black-Scholes-Merton framework. All concepts—GBM, risk-neutral pricing, put-call parity, and Monte Carlo estimation—are scientifically grounded and central to computational finance.\n\nWe must check the internal consistency of the provided numerical values.\nThe put-call parity relationship for European options on a non-dividend-paying stock is:\n$C - P = S_0 - K e^{-rT}$\nwhere $C$ and $P$ are the true option prices.\nThe deterministic part of this parity is:\n$S_0 - K e^{-rT} = 100 - 100 \\times e^{-0.05 \\times 1} \\approx 100 - 100 \\times 0.9512294 = 4.87706$\nThe estimated difference from the simulation is:\n$\\widehat{C} - \\widehat{P} = 10.46 - 5.57 = 4.89$\nThe estimated residual is therefore:\n$\\widehat{\\Delta} = (\\widehat{C} - \\widehat{P}) - (S_0 - K e^{-rT}) \\approx 4.89 - 4.87706 = 0.01294$\nThe problem states $\\widehat{\\Delta} \\approx 0.01$, which is consistent.\n\nThe problem states that the standard error of the residual, $SE(\\widehat{\\Delta})$, was estimated assuming independent sampling for the call and put. In this case, the variance of the difference of the estimators is the sum of their variances:\n$Var(\\widehat{\\Delta}) = Var(\\widehat{C} - \\widehat{P}) = Var(\\widehat{C}) + Var(\\widehat{P})$\nThe standard error of an estimator is the square root of its variance. Thus:\n$SE(\\widehat{\\Delta}) = \\sqrt{SE(\\widehat{C})^2 + SE(\\widehat{P})^2}$\nUsing the given values:\n$SE(\\widehat{\\Delta}) \\approx \\sqrt{(0.06)^2 + (0.06)^2} = \\sqrt{0.0036 + 0.0036} = \\sqrt{0.0072} \\approx 0.08485$\nThe problem states $SE(\\widehat{\\Delta}) \\approx 0.085$, which is also consistent.\n\nThe problem statement is self-contained, objective, scientifically grounded, and internally consistent. It does not violate any of the validation criteria.\n\nStep 3: Verdict and Action\n\nThe problem is valid. We will proceed with the analysis.\n\nB. Solution and Option Evaluation\n\nThe theoretical price of a European option is the discounted expected payoff under the risk-neutral measure. For a call ($C$) and a put ($P$):\n$$C = E \\left[ e^{-rT} \\max(S_T-K, 0) \\right]$$\n$$P = E \\left[ e^{-rT} \\max(K-S_T, 0) \\right]$$\nIn a Monte Carlo simulation, we generate $N$ independent paths for the terminal stock price $S_T^{(i)}$ under the risk-neutral dynamics $dS_t = rS_t dt + \\sigma S_t dW_t$. The estimators are the sample means:\n$$\\widehat{C} = \\frac{1}{N} \\sum_{i=1}^{N} e^{-rT} \\max(S_T^{(i)}-K, 0)$$\n$$\\widehat{P} = \\frac{1}{N} \\sum_{i=1}^{N} e^{-rT} \\max(K-S_T^{(i)}, 0)$$\nDue to the identity $\\max(x, 0) - \\max(-x, 0) = x$, we have $\\max(S_T-K, 0) - \\max(K-S_T, 0) = S_T-K$. If the same simulated paths $S_T^{(i)}$ are used for both estimators, their difference is:\n$\\widehat{C} - \\widehat{P} = \\frac{1}{N} \\sum_{i=1}^{N} e^{-rT} (S_T^{(i)}-K) = e^{-rT} \\left( \\frac{1}{N} \\sum_{i=1}^{N} S_T^{(i)} \\right) - K e^{-rT}$\nLet $\\widehat{S}_T = \\frac{1}{N} \\sum S_T^{(i)}$. Then the estimated difference is $e^{-rT} \\widehat{S}_T - K e^{-rT}$. The put-call parity residual is:\n$\\widehat{\\Delta} = (\\widehat{C} - \\widehat{P}) - (S_0 - K e^{-rT}) = (e^{-rT} \\widehat{S}_T - K e^{-rT}) - (S_0 - K e^{-rT}) = e^{-rT} (\\widehat{S}_T - S_0 e^{rT})$\nSince $E[S_T] = S_0 e^{rT}$, the expected value of the residual is $E[\\widehat{\\Delta}] = 0$. However, for any finite $N$, $\\widehat{S}_T$ is a random variable and will almost surely not equal its expectation $S_0 e^{rT}$. Thus, $\\widehat{\\Delta}$ will be non-zero due to sampling variability. By the Law of Large Numbers, $\\widehat{S}_T \\to E[S_T]$ as $N \\to \\infty$, so $\\widehat{\\Delta} \\to 0$.\n\nNow, we evaluate each option.\n\n**Option A:** \"The small nonzero $\\widehat{\\Delta}$ is consistent with sampling variability; as $N \\to \\infty$, $\\widehat{\\Delta} \\to 0$ if risk-neutral dynamics and discounting are correctly implemented. Moreover, computing $\\widehat{C}$ and $\\widehat{P}$ on the same simulated $S_T$ values and forming their pathwise difference typically increases the variance of $\\widehat{\\Delta}$ because the discounted call and put payoffs are negatively correlated.\"\n\n- **First Part:** The observed residual is $\\widehat{\\Delta} \\approx 0.01$ with a standard error of $SE(\\widehat{\\Delta}) \\approx 0.085$. The residual is about $0.12$ standard errors from zero, which is statistically insignificant and entirely consistent with sampling noise. As shown above, $\\widehat{\\Delta} \\to 0$ as $N \\to \\infty$. This part is correct.\n- **Second Part:** This part analyzes the variance of the difference estimator when using the same random numbers (common paths) for both the call and the put. The variance of the difference of two random variables $X$ and $Y$ is $Var(X-Y) = Var(X) + Var(Y) - 2Cov(X,Y)$. Let $X$ be the discounted call payoff and $Y$ be the discounted put payoff for a single path.\nThe product of the payoffs is $XY = e^{-2rT} \\max(S_T-K, 0) \\max(K-S_T, 0) = 0$ for any value of $S_T$.\nThus, the covariance is $Cov(X,Y) = E[XY] - E[X]E[Y] = 0 - E[X]E[Y]$. Since $E[X]=C>0$ and $E[Y]=P>0$, their covariance is negative: $Cov(X,Y) = -CP  0$.\nThe variance of the pathwise difference estimator, $\\widehat{\\Delta}$, depends on the variance of the difference of the payoffs, $Var(X-Y)$.\n$Var(X-Y) = Var(X) + Var(Y) - 2Cov(X,Y)$\nSince $Cov(X,Y)$ is negative, the term $-2Cov(X,Y)$ is positive. Therefore:\n$Var(X-Y) = Var(X) + Var(Y) + 2|Cov(X,Y)| > Var(X) + Var(Y)$\nThis means the variance of the estimator for the difference $C-P$ is *larger* when using common paths than it would be if using independent paths (where the covariance term would be zero). The statement that using common paths increases the variance of $\\widehat{\\Delta}$ because the payoffs are negatively correlated is mathematically correct.\nBoth parts of the statement are accurate.\n**Verdict: Correct**\n\n**Option B:** \"The nonzero $\\widehat{\\Delta}$ indicates a violation of put-call parity, implying the risk-neutral simulation is misspecified unless dividends are included.\"\n\nThis is incorrect. A nonzero residual in a Monte Carlo simulation is expected due to statistical sampling error. The magnitude of the residual ($\\approx 0.01$) is very small relative to its standard error ($\\approx 0.085$), meaning it is statistically indistinguishable from zero. Attributing this noise to a fundamental model error such as missing dividends is an invalid conclusion. The problem specified a non-dividend-paying stock.\n**Verdict: Incorrect**\n\n**Option C:** \"Because the drift in the simulation is set to $r$, discounting by $e^{-rT}$ is unnecessary; using undiscounted payoffs would still yield unbiased prices and exact parity for any $N$.\"\n\nThis statement is fundamentally flawed. Risk-neutral pricing theory defines an asset's price as the *present value* of its expected future payoffs. The expectation is taken under the risk-neutral measure (where assets are expected to grow at rate $r$), and this expectation is then discounted back to today using the risk-free rate $r$. Omitting the discount factor $e^{-rT}$ would yield the expected future value of the option at time $T$, not its present value (price) at time $0$.\nFurthermore, the claim of \"exact parity for any $N$\" is false. The undiscounted difference estimator would be $\\widehat{C}_{undisc} - \\widehat{P}_{undisc} = \\widehat{S}_T - K$. The corresponding theoretical parity is $C e^{rT} - P e^{rT} = S_0 e^{rT} - K$. These are equal only if $\\widehat{S}_T = S_0 e^{rT}$, which is not true for any finite sample $N$ due to sampling error.\n**Verdict: Incorrect**\n\n**Option D:** \"Using antithetic variates forces $\\widehat{\\Delta} = 0$ for any finite $N$, so any nonzero residual must be due to coding error.\"\n\nAntithetic variates is a variance reduction technique that uses pairs of simulated paths based on standard normal deviates $Z$ and $-Z$. The estimator for $E[f(Z)]$ becomes $\\frac{1}{2N}\\sum_{i=1}^N (f(Z_i) + f(-Z_i))$. The put-call parity residual $\\widehat{\\Delta}$ is proportional to $\\widehat{S}_T - E[S_T]$. The estimator for $S_T$ with antithetic variates is:\n$$\\widehat{S}_{T,AV} = \\frac{1}{2N} \\sum_{i=1}^N S_0 \\exp\\left(\\left(r - \\frac{\\sigma^2}{2}\\right)T\\right) \\left[ e^{\\sigma\\sqrt{T}Z_i} + e^{\\sigma\\sqrt{T}(-Z_i)} \\right]$$\nThis simplifies to:\n$$\\widehat{S}_{T,AV} = \\frac{S_0}{N} \\exp\\left(\\left(r - \\frac{\\sigma^2}{2}\\right)T\\right) \\sum_{i=1}^N \\cosh(\\sigma\\sqrt{T}Z_i)$$\nThe term $\\cosh(\\sigma\\sqrt{T}Z_i)$ is a random variable, not a constant. The sample average of this term over a finite sample $N$ is not guaranteed to equal its expectation. Therefore, $\\widehat{S}_{T,AV}$ will not be exactly equal to $E[S_T]$ for a finite $N$, and consequentially, the residual $\\widehat{\\Delta}$ will not be forced to zero. Antithetic variates reduce the variance of the estimator $\\widehat{S}_T$ (and thus of $\\widehat{\\Delta}$), but do not eliminate it.\n**Verdict: Incorrect**",
            "answer": "$$\\boxed{A}$$"
        },
        {
            "introduction": "In practice, a model rarely works perfectly on the first try, and a persistent discrepancy between your simulation and a known benchmark is a common challenge. This final exercise elevates you from a model user to a model diagnostician, asking you to design a systematic procedure to uncover the source of an error. Learning to distinguish between implementation bugs, numerical bias from discretization, and statistical sampling error is one of the most critical skills in computational finance. ",
            "id": "2411885",
            "problem": "You implemented a Monte Carlo (MC) estimator for the price of a European call option under the Black–Scholes (BS) model. Under the risk-neutral measure, the underlying follows Geometric Brownian Motion (GBM): $\\mathrm{d}S_t = r S_t \\,\\mathrm{d}t + \\sigma S_t \\,\\mathrm{d}W_t$ with initial price $S_0$, constant risk-free rate $r$, volatility $\\sigma$, and maturity $T$. The European call payoff is $\\max(S_T - K, 0)$ with strike $K$. Your MC pricer simulates $N$ sample paths with $m$ uniform time steps of size $\\Delta t = T/m$ using an Euler discretization for the state dynamics and discounts with $\\exp(-rT)$. You observe a persistent discrepancy between your MC estimate and the closed-form BS price.\n\nYou need to determine whether the discrepancy is due to an implementation bug, a time-discretization bias, or finite-sample sampling error. Which of the following test plans most reliably diagnoses the cause from first principles?\n\nA. Fix a random seed and compare your MC estimate to a binomial tree price using the same $m$; if they are close, conclude no bug. Then switch from standard normal random numbers to uniform random numbers for the Brownian increments; if the price changes only slightly, attribute the residual difference to sampling error. Finally, change the strike $K$ by $10\\%$ to see if the price sensitivity matches numerical differentiation; if not, conclude discretization bias.\n\nB. Replace the path simulation with exact sampling of the terminal distribution $S_T = S_0 \\exp\\!\\big((r - \\tfrac{1}{2}\\sigma^2)T + \\sigma \\sqrt{T}\\, Z\\big)$ with $Z \\sim \\mathcal{N}(0,1)$, holding $N$ fixed; compare the resulting MC estimate to the BS price to test for time-discretization bias. Next, double $N$ repeatedly (e.g., $N, 2N, 4N, 8N$), computing the sample standard error and a $95\\%$ confidence interval each time to test whether the discrepancy scales like $N^{-1/2}$ and whether the BS price lies within the interval (testing for sampling error). Separately, run a martingale diagnostic by estimating $\\mathbb{E}[e^{-rT} S_T]$ from your simulation and checking whether it is statistically indistinguishable from $S_0$; if it is not, suspect an implementation bug (e.g., drift, discounting, or random number issues). Finally, if the exact-terminal simulation agrees with BS while the time-stepped one does not, refine $m$ (e.g., $m, 2m, 4m$) to verify that the bias shrinks as $\\Delta t \\to 0$.\n\nC. Keep $N$ and $m$ fixed and vary $S_0$ across a grid; for each $S_0$, compute both call and put MC prices and verify put–call parity exactly. If parity holds for all grid points, conclude there is no bug. Then compare your prices to a lattice method with $m$ steps and attribute any remaining difference to sampling error because both methods are discrete approximations.\n\nD. Switch to quasi-Monte Carlo (QMC) using Sobol’ sequences with the same $N$ and $m$ and compare to your pseudorandom MC price. If QMC moves the estimate closer to the BS price, infer that the original discrepancy was sampling error. If not, increase $m$ once; if the estimate still does not match BS within a single standard error computed from QMC replication, declare the issue a bug.\n\nSelect the best answer.",
            "solution": "The problem at hand is a classic exercise in the validation and debugging of a numerical simulation, a task of paramount importance in any quantitative discipline. We are presented with a Monte Carlo pricer for a European call option under the Black-Scholes model, which exhibits a \"persistent discrepancy\" from the known analytical solution. Our objective is to identify the most scientifically rigorous plan to diagnose the source of this error, which could be an implementation bug, a time-discretization bias, or a finite-sample statistical error.\n\nFirst, let us formalize the problem. The asset price $S_t$ follows the stochastic differential equation (SDE) under the risk-neutral measure $\\mathbb{Q}$:\n$$ \\mathrm{d}S_t = r S_t \\,\\mathrm{d}t + \\sigma S_t \\,\\mathrm{d}W_t $$\nwhere $r$ is the constant risk-free rate, $\\sigma$ is the constant volatility, and $W_t$ is a standard Brownian motion. The Monte Carlo simulation uses an Euler-Maruyama discretization scheme over $m$ time steps of size $\\Delta t = T/m$:\n$$ S_{t_{i+1}} = S_{t_i} + r S_{t_i} \\Delta t + \\sigma S_{t_i} \\sqrt{\\Delta t} Z_i $$\nwhere $Z_i \\sim \\mathcal{N}(0,1)$ are independent standard normal random variables. The MC estimator for the call price $C_0$ is:\n$$ \\hat{C}_N = e^{-rT} \\frac{1}{N} \\sum_{j=1}^{N} \\max(S_{T}^{(j)} - K, 0) $$\nwhere $S_T^{(j)}$ is the terminal price from the $j$-th simulated path.\n\nThe total error between the MC estimate $\\hat{C}_N$ and the true Black-Scholes price $C_{BS}$ can be decomposed:\n$$ \\text{Error} = \\hat{C}_N - C_{BS} = (\\hat{C}_N - \\mathbb{E}[\\hat{C}_N]) + (\\mathbb{E}[\\hat{C}_N] - C_{BS}) $$\nThe first term, $(\\hat{C}_N - \\mathbb{E}[\\hat{C}_N])$, is the **statistical sampling error**, which is random and decreases in magnitude as $N \\to \\infty$, specifically with order $O(N^{-1/2})$. The second term, $(\\mathbb{E}[\\hat{C}_N] - C_{BS})$, is the **systematic bias**. This bias is primarily due to the time discretization of the SDE. For the Euler scheme, this **discretization bias** has a weak order of convergence of $1$, meaning it is of order $O(\\Delta t)$, or $O(m^{-1})$. An **implementation bug** can manifest as an additional, often dominant, source of systematic bias, or it might incorrectly affect the statistical properties of the estimate.\n\nA robust diagnostic procedure must be able to isolate and test for each of these three potential error sources independently.\n\nLet us evaluate the proposed plans.\n\n**Analysis of Option A:**\nThis plan is methodologically unsound and contains severe flaws.\n$1$. Comparing the MC estimate to a binomial tree price is a comparison of two distinct numerical approximations. Agreement between them does not imply correctness with respect to the true continuous-time model. Both could have discretization biases of similar magnitude, or one could have a bug that coincidentally cancels its bias. This test fails to isolate anything.\n$2$. The suggestion to \"switch from standard normal random numbers to uniform random numbers for the Brownian increments\" is a catastrophic error in reasoning. The SDE is defined with a Brownian motion, whose increments are necessarily Gaussian. Replacing them with uniformly distributed variables fundamentally alters the model being simulated. It is not a diagnostic test; it is the deliberate introduction of a gross modeling error. The outcome of such a procedure is meaningless.\n$3$. Testing price sensitivity (delta) by changing the strike $K$ is an indirect test. A discrepancy in the numerical delta could be a symptom of any of the three error types and does not allow for their separation. For instance, a large sampling error in the price estimate will lead to a large error in its numerical derivative.\nTherefore, this plan is filled with logical fallacies and scientifically incorrect procedures.\n**Verdict for A: Incorrect.**\n\n**Analysis of Option B:**\nThis plan is systematic, rigorous, and follows established best practices for an investigation of this nature. Each step is designed to isolate a specific source of error.\n$1$. **Testing for Discretization Bias:** The SDE for $S_t$ has a known analytical solution: $S_T = S_0 \\exp((r - \\frac{1}{2}\\sigma^2)T + \\sigma W_T)$, where $W_T = \\sqrt{T}Z$ with $Z \\sim \\mathcal{N}(0,1)$. By replacing the step-by-step Euler simulation with direct sampling from this exact terminal distribution, the time-discretization error is completely eliminated. If the MC estimate using this exact method aligns with the Black-Scholes price (within statistical noise), while the original Euler-based estimate does not, the discrepancy is definitively identified as discretization bias. This is a perfect control experiment.\n$2$. **Testing for Sampling Error:** The procedure of repeatedly doubling the number of paths $N$ and constructing confidence intervals is the canonical method for analyzing statistical convergence. The Central Limit Theorem dictates that the standard error of the MC mean should shrink proportionally to $N^{-1/2}$. By verifying this scaling and checking if the true $C_{BS}$ price falls within the computed confidence intervals, one can determine if the observed discrepancy is consistent with expected statistical fluctuations for the given sample size $N$.\n$3$. **Testing for Implementation Bugs:** The martingale property of the discounted asset price, $\\mathbb{E}_{\\mathbb{Q}}[e^{-rT} S_T] = S_0$, is a fundamental principle of risk-neutral pricing. An MC estimator for the left-hand side, $\\frac{1}{N} \\sum_{j=1}^N e^{-rT} S_T^{(j)}$, should yield a value statistically close to $S_0$. A significant deviation points to a fundamental flaw in the simulation logic—such as an incorrect drift term, improper scaling of the random numbers, or an error in the discounting factor—which may not be revealed by simply pricing an option. This provides a clean, powerful, and independent test for the correctness of the core path generator.\n$4$. **Confirmation:** The final step, refining the number of time steps $m$ and observing the convergence of the bias towards zero, serves as a confirmation of the discretization bias diagnosis. It validates that the error behaves as theoretically predicted for a weakly convergent scheme.\nEvery part of this plan is logically sound and surgically targets a potential cause of error.\n**Verdict for B: Correct.**\n\n**Analysis of Option C:**\nThis plan demonstrates weaker reasoning and contains impractical suggestions.\n$1$. Verifying put-call parity, $C - P = S_0 - K e^{-rT}$, is a valid sanity check. Since the payoffs combine linearly as $\\max(S_T-K,0) - \\max(K-S_T,0) = S_T - K$, this test reduces to checking whether $e^{-rT}\\mathbb{E}[S_T] - e^{-rT}K \\approx S_0 - K e^{-rT}$, which simplifies to the martingale test $e^{-rT}\\mathbb{E}[S_T] \\approx S_0$. While a valid check, the plan's mandate to \"verify put-call parity exactly\" is impossible with a statistical method like Monte Carlo. There will always be sampling error.\n$2$. A conclusion of \"no bug\" if parity holds is not robust. For example, an implementation with an incorrect volatility $\\sigma$ would still satisfy the put-call parity relation, as the relation is independent of $\\sigma$. The test is not comprehensive.\n$3$. Comparing one discrete approximation (Euler MC) to another (a lattice method) is, as with option A, not a definitive diagnostic. It does not use the known analytical solution as the benchmark. Attributing the difference solely to \"sampling error\" is an unsubstantiated leap, as both methods have their own discretization biases which may differ.\n**Verdict for C: Incorrect.**\n\n**Analysis of Option D:**\nThis plan relies on a sophisticated technique, quasi-Monte Carlo (QMC), but applies it heuristically rather than for rigorous diagnosis.\n$1$. QMC methods, using low-discrepancy sequences like Sobol', often achieve a faster convergence rate (e.g., $O(N^{-1}\\log^d N)$) than the $O(N^{-1/2})$ rate of standard MC. If switching to QMC significantly reduces the error, this suggests that the error is indeed related to the quality of sampling, pointing towards sampling error. However, this is not a definitive test. If a large discretization bias exists, both MC and QMC will converge to the same wrong, biased value. QMC will simply get there with fewer points. It does not help distinguish bias from sampling error relative to the true price.\n$2$. The diagnostic logic is weak: \"increase $m$ once\" is insufficient to analyze the trend of discretization bias. A conclusion of a \"bug\" based on failing to match the BS price \"within a single standard error\" is arbitrary and lacks statistical rigor. Standard error estimation for QMC is also non-trivial and typically requires randomization of the sequences, which the proposal does not mention.\nThis plan mistakes a variance reduction technique for a primary diagnostic tool and employs flawed, non-rigorous logic.\n**Verdict for D: Incorrect.**\n\nIn summary, Option B presents the only comprehensive and scientifically-sound methodology. It systematically isolates each potential source of error—discretization bias, sampling error, and implementation bugs—using definitive, independent tests that are standard practice in computational finance.",
            "answer": "$$\\boxed{B}$$"
        }
    ]
}