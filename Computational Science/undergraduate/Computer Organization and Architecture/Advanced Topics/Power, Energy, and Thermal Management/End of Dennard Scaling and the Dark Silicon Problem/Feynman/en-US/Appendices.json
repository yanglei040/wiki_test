{
    "hands_on_practices": [
        {
            "introduction": "This first exercise provides a direct, quantitative look at the dark silicon problem. By distinguishing between per-unit thermal limits and the overall chip Thermal Design Power ($P_{\\mathrm{TDP}}$), you will calculate the maximum number of cores that can be active simultaneously. This practice makes the abstract concept of power-limited parallelism concrete and establishes the fundamental arithmetic behind dark silicon.",
            "id": "3639241",
            "problem": "A multicore system-on-chip with $N = 128$ identical compute units operates at a constant supply voltage $V$ due to the end of Dennard scaling, so that the dynamic switching energy per transition does not decrease with frequency. At a reference frequency $f_{0} = 1$ GHz, the measured dynamic power per active compute unit is $P_{\\mathrm{dyn},0} = 2$ W, and the leakage power per active compute unit is $P_{\\mathrm{leak}} = 0.5$ W. The per-unit power cap, imposed to prevent local thermal runaway, is $P_{\\mathrm{cap}} = 3$ W. The chip-level Thermal Design Power (TDP) is $P_{\\mathrm{TDP}} = 200$ W, and there is a fixed uncore baseline power $P_{\\mathrm{uncore}} = 20$ W that does not depend on the number of active compute units.\n\nAssume that all active compute units operate at a common clock frequency $f$, and that at constant $V$ the dynamic power scales linearly with frequency. Non-active (dark) units are fully power-gated and contribute negligible power. Using only these facts, first determine the maximum feasible frequency $f_{\\max}$ such that the total power of an active unit satisfies $P_{\\mathrm{unit}}(f) \\leq P_{\\mathrm{cap}}$. Then, at $f = f_{\\max}$, determine the maximum number $M$ of simultaneously active compute units such that the total chip power is less than or equal to $P_{\\mathrm{TDP}}$.\n\nExpress intermediate frequencies in GHz. For the final answer, report the single number $M$ as an integer.",
            "solution": "The problem will first be validated against the required criteria.\n\n### Problem Validation\n\n**Step 1: Extract Givens**\nThe explicit data and conditions provided in the problem statement are:\n- Total number of compute units: $N = 128$\n- Supply voltage: $V$ is constant\n- Reference frequency: $f_{0} = 1$ GHz\n- Dynamic power per active unit at $f_0$: $P_{\\mathrm{dyn},0} = 2$ W\n- Leakage power per active unit: $P_{\\mathrm{leak}} = 0.5$ W\n- Per-unit power cap: $P_{\\mathrm{cap}} = 3$ W\n- Chip-level Thermal Design Power: $P_{\\mathrm{TDP}} = 200$ W\n- Fixed uncore baseline power: $P_{\\mathrm{uncore}} = 20$ W\n- Assumption: Dynamic power scales linearly with frequency, $f$.\n- Assumption: Non-active units are fully power-gated and have negligible power contribution.\n- Objective 1: Determine the maximum feasible frequency $f_{\\max}$ such that the power of a single active unit, $P_{\\mathrm{unit}}(f)$, does not exceed $P_{\\mathrm{cap}}$.\n- Objective 2: At $f = f_{\\max}$, determine the maximum number of active units, $M$, such that the total chip power does not exceed $P_{\\mathrm{TDP}}$.\n\n**Step 2: Validate Using Extracted Givens**\nThe problem is analyzed for validity:\n- **Scientifically Grounded:** The problem is based on fundamental concepts in computer architecture and VLSI design, specifically the power consumption characteristics of modern multicore processors. The concepts of Dennard scaling breakdown, dynamic power, leakage power, power capping, and Thermal Design Power (TDP) are standard and well-established. The model of linear scaling of dynamic power with frequency at a fixed voltage is a correct first-order approximation ($P_{\\mathrm{dyn}} = C V^2 f$, where $C$ and $V$ are constant). The distinction between core power and uncore power is also standard.\n- **Well-Posed:** The problem provides all necessary numerical values and a clear set of constraints to uniquely determine the two requested quantities, $f_{\\max}$ and $M$. The objectives are clearly stated.\n- **Objective:** The language is precise and quantitative, free of any subjective or ambiguous terminology.\n- **Completeness and Consistency:** The data are self-consistent and sufficient. There are no contradictions. For example, the calculated number of active cores is expected to be less than the total number of available cores ($M < N$), which is a hallmark of the \"dark silicon\" problem this question models.\n- **Realism:** The power and frequency values are within a plausible range for a high-performance system-on-chip.\n\n**Step 3: Verdict and Action**\nThe problem is deemed **valid**. It is a well-posed, scientifically grounded problem in computer engineering. A complete solution will be provided.\n\n### Solution\n\nThe total power of a single active compute unit, $P_{\\mathrm{unit}}$, is the sum of its dynamic power, $P_{\\mathrm{dyn}}$, and its leakage power, $P_{\\mathrm{leak}}$.\n$$P_{\\mathrm{unit}}(f) = P_{\\mathrm{dyn}}(f) + P_{\\mathrm{leak}}$$\nThe leakage power is given as a constant value, $P_{\\mathrm{leak}} = 0.5$ W.\nThe dynamic power, $P_{\\mathrm{dyn}}(f)$, is stated to scale linearly with the operating frequency, $f$, at a constant supply voltage $V$. We can write this relationship as:\n$$P_{\\mathrm{dyn}}(f) = k \\cdot f$$\nwhere $k$ is a constant of proportionality. We can determine $k$ from the given reference conditions: at $f = f_0 = 1$ GHz, the dynamic power is $P_{\\mathrm{dyn},0} = 2$ W.\n$$k = \\frac{P_{\\mathrm{dyn},0}}{f_0} = \\frac{2 \\text{ W}}{1 \\text{ GHz}} = 2 \\frac{\\text{W}}{\\text{GHz}}$$\nTherefore, the power of a single active unit as a function of frequency is:\n$$P_{\\mathrm{unit}}(f) = \\left(\\frac{P_{\\mathrm{dyn},0}}{f_0}\\right)f + P_{\\mathrm{leak}}$$\n\nThe first objective is to find the maximum feasible frequency, $f_{\\max}$, for which the power of a single unit does not exceed the per-unit power cap, $P_{\\mathrm{cap}}$. This is expressed by the inequality:\n$$P_{\\mathrm{unit}}(f) \\leq P_{\\mathrm{cap}}$$\nTo find the maximum frequency, we set the unit's power equal to the cap:\n$$P_{\\mathrm{unit}}(f_{\\max}) = P_{\\mathrm{cap}}$$\nSubstituting the expression for $P_{\\mathrm{unit}}(f)$:\n$$\\left(\\frac{P_{\\mathrm{dyn},0}}{f_0}\\right)f_{\\max} + P_{\\mathrm{leak}} = P_{\\mathrm{cap}}$$\nWe can now solve for $f_{\\max}$:\n$$f_{\\max} = \\frac{P_{\\mathrm{cap}} - P_{\\mathrm{leak}}}{\\left(\\frac{P_{\\mathrm{dyn},0}}{f_0}\\right)} = f_0 \\frac{P_{\\mathrm{cap}} - P_{\\mathrm{leak}}}{P_{\\mathrm{dyn},0}}$$\nPlugging in the given numerical values:\n$$f_{\\max} = (1 \\text{ GHz}) \\frac{3 \\text{ W} - 0.5 \\text{ W}}{2 \\text{ W}} = (1 \\text{ GHz}) \\frac{2.5}{2} = 1.25 \\text{ GHz}$$\n\nThe second objective is to find the maximum number of simultaneously active compute units, $M$, when operating at this frequency, $f_{\\max}$, without exceeding the chip-level Thermal Design Power, $P_{\\mathrm{TDP}}$.\n\nThe total power of the chip, $P_{\\mathrm{total}}$, is the sum of the power from the $M$ active units and the fixed uncore power, $P_{\\mathrm{uncore}}$.\n$$P_{\\mathrm{total}} = M \\cdot P_{\\mathrm{unit}}(f_{\\max}) + P_{\\mathrm{uncore}}$$\nFrom the previous step, we know that at $f = f_{\\max}$, the power of each active unit is exactly at its cap, so $P_{\\mathrm{unit}}(f_{\\max}) = P_{\\mathrm{cap}} = 3$ W.\nThe total power constraint is:\n$$P_{\\mathrm{total}} \\leq P_{\\mathrm{TDP}}$$\nTo find the maximum number of active units, $M$, we set the total power equal to the TDP:\n$$M \\cdot P_{\\mathrm{cap}} + P_{\\mathrm{uncore}} = P_{\\mathrm{TDP}}$$\nSolving for $M$:\n$$M = \\frac{P_{\\mathrm{TDP}} - P_{\\mathrm{uncore}}}{P_{\\mathrm{cap}}}$$\nSubstituting the given numerical values:\n$$M = \\frac{200 \\text{ W} - 20 \\text{ W}}{3 \\text{ W}} = \\frac{180 \\text{ W}}{3 \\text{ W}} = 60$$\nSince the number of compute units must be an integer, the maximum number is $60$. This is less than the total available units ($60 < 128$), which illustrates the dark silicon problem.",
            "answer": "$$\\boxed{60}$$"
        },
        {
            "introduction": "With the power budget established as a finite resource, the next challenge is how to allocate it effectively. This practice explores a realistic architectural trade-off: disabling a shared L3 cache to free up power for higher core frequencies. By analyzing the performance impact on both compute-bound and memory-bound applications, you will discover that the 'best' allocation strategy is highly dependent on the workload, a central theme in modern processor design.",
            "id": "3639291",
            "problem": "A multicore processor designed after the end of Dennard scaling has eight identical cores and a shared Level-3 (L3) cache. The chip’s Thermal Design Power (TDP) is $95$ W. At a nominal operating point with the L3 cache enabled, the cores run at frequency $f_0 = 2.5$ GHz and the total chip power equals the TDP. At this nominal point, the L3 cache consumes $20$ W, and the eight cores together consume the remaining power. Assume core dynamic power follows the standard switching relation $P_{\\text{dyn}} = \\alpha C V^2 f$, and to achieve higher frequency in this technology $V$ scales approximately linearly with $f$ in the allowed range, so $V = k f$ for some constant $k$. Leakage is present but is approximately constant across the small voltage/frequency change considered, and may be treated as negligible in the differential analysis.\n\nWhen the L3 cache is disabled (kept dark) to save power, all of the saved L3 power is reallocated to the cores by increasing their supply voltage and frequency until the chip again reaches the TDP. With the L3 disabled, the memory hierarchy has only Level-1 (L1) and Level-2 (L2) caches; L3 hits in the enabled case become main memory (DRAM) accesses in the disabled case. Consider two application classes:\n\n- Compute-bound application: base compute cycles per instruction $c_{\\text{CB}} = 1.0$, average memory operations per instruction $a_{\\text{CB}} = 0.01$.\n- Memory-bound application: base compute cycles per instruction $c_{\\text{MB}} = 1.5$, average memory operations per instruction $a_{\\text{MB}} = 0.30$.\n\nAssume the following memory parameters, which apply equally across applications:\n- L1 miss probability per memory operation $m_1 = 0.10$.\n- Conditional L2 miss probability given an L1 miss $m_2 = 0.50$.\n- Conditional L3 miss probability given an L2 miss in the enabled case $m_3 = 0.20$.\n- L2 hit stall time $T_{L2} = 6$ ns.\n- L3 hit stall time $T_{L3} = 20$ ns.\n- DRAM stall time $T_{\\text{DRAM}} = 80$ ns.\n\nAssume in-order dependence prevents overlap of memory stall times with compute; the stall times sum linearly, and base compute cycles per instruction convert to time as $(\\text{cycles})/f$. All memory stall times are in absolute time (nanoseconds) and do not depend on core frequency. Neglect prefetch effects and write-back costs.\n\nUsing only the foundational relations above, determine the net performance change when the L3 cache is disabled and the cores are clocked higher to remain within TDP. Define performance as instructions per second, and define the speedup of the “L3 disabled, higher $f$” configuration relative to the nominal “L3 enabled at $f_0$” configuration as the ratio of new throughput to old throughput. Compute two speedups: one for the compute-bound application and one for the memory-bound application. Express the two speedups as unitless decimal values, in the order “compute-bound, memory-bound.” Round your final values to four significant figures.",
            "solution": "The user-provided problem is assessed to be valid as it is scientifically grounded in the principles of computer architecture, well-posed with a complete and consistent set of parameters, and objective in its formulation. The problem presents a realistic scenario concerning the trade-offs between processing power and memory hierarchy performance in the post-Dennard scaling era, commonly known as the dark silicon problem. We can therefore proceed with a full solution.\n\nThe solution is structured in three parts:\n1.  Calculation of the new core frequency when power is reallocated from the L3 cache.\n2.  Calculation of the average memory stall time for the two configurations (L3 enabled vs. L3 disabled).\n3.  Calculation of the overall performance speedup for the two specified applications.\n\n**1. Core Frequency Calculation**\n\nThe problem states that the core dynamic power $P_{\\text{dyn}}$ is related to supply voltage $V$ and frequency $f$ by $P_{\\text{dyn}} = \\alpha C V^2 f$, where $\\alpha$ and $C$ are constants. Furthermore, voltage scales linearly with frequency, $V = kf$. Substituting the voltage relation into the power equation yields:\n$$P_{\\text{dyn}} = \\alpha C (kf)^2 f = (\\alpha C k^2) f^3$$\nSince leakage power is considered negligible for this differential analysis, the total core power $P_{\\text{cores}}$ is proportional to the cube of the frequency:\n$$P_{\\text{cores}} = A f^3$$\nwhere $A$ is a constant of proportionality.\n\nIn the nominal configuration (L3 cache enabled), the chip's total power is the Thermal Design Power (TDP), $P_{\\text{TDP}} = 95$ W. The L3 cache consumes $P_{L3} = 20$ W. The remaining power is consumed by the $8$ cores.\n$$P_{\\text{cores},0} = P_{\\text{TDP}} - P_{L3} = 95 \\text{ W} - 20 \\text{ W} = 75 \\text{ W}$$\nThis power level corresponds to the nominal frequency $f_0 = 2.5$ GHz.\n\nWhen the L3 cache is disabled (\"dark\"), its power consumption becomes zero, and this power is reallocated to the cores. The total chip power remains at the TDP, so the new power budget for the cores is:\n$$P_{\\text{cores}, \\text{new}} = P_{\\text{TDP}} = 95 \\text{ W}$$\n\nWe can find the new frequency, $f_{\\text{new}}$, by setting up a ratio using the power-frequency relationship:\n$$\\frac{P_{\\text{cores}, \\text{new}}}{P_{\\text{cores}, 0}} = \\frac{A f_{\\text{new}}^3}{A f_0^3} = \\left(\\frac{f_{\\text{new}}}{f_0}\\right)^3$$\nSolving for $f_{\\text{new}}$:\n$$f_{\\text{new}} = f_0 \\left(\\frac{P_{\\text{cores}, \\text{new}}}{P_{\\text{cores}, 0}}\\right)^{1/3} = 2.5 \\text{ GHz} \\times \\left(\\frac{95}{75}\\right)^{1/3} = 2.5 \\text{ GHz} \\times \\left(\\frac{19}{15}\\right)^{1/3}$$\nNumerically, $f_{\\text{new}} \\approx 2.7050$ GHz.\n\n**2. Memory Stall Time Calculation**\n\nThe average stall time per memory operation, $T_{\\text{stall, mem-op}}$, is determined by the miss probabilities and penalty latencies of the memory hierarchy. The stall is initiated by an L1 miss. The penalty is the time to retrieve data from the next level of the hierarchy.\n\nThe average stall time per memory operation is given by:\n$$T_{\\text{stall, mem-op}} = m_1 \\times (\\text{L1 miss penalty})$$\nwhere $m_1$ is the L1 miss probability. The L1 miss penalty depends on where the data is found (L2, L3, or DRAM).\n$$\\text{L1 miss penalty} = (1-m_2)T_{L2} + m_2 \\times (\\text{L2 miss penalty})$$\nwhere $m_2$ is the conditional L2 miss probability given an L1 miss, and $T_{L2}$ is the L2 hit stall time.\n\n**Configuration 1: L3 Cache Enabled**\n\nIn this case, an L2 miss can be serviced by the L3 cache or main memory (DRAM).\n$$\\text{L2 miss penalty}_{\\text{enabled}} = (1-m_3)T_{L3} + m_3 T_{\\text{DRAM}}$$\nwhere $m_3$ is the conditional L3 miss probability.\n\nCombining these, the average stall time per memory operation is:\n$$T_{\\text{stall, enabled}} = m_1 \\left( (1-m_2)T_{L2} + m_2 \\left[ (1-m_3)T_{L3} + m_3 T_{\\text{DRAM}} \\right] \\right)$$\nUsing the given values: $m_1=0.10$, $m_2=0.50$, $m_3=0.20$, $T_{L2}=6$ ns, $T_{L3}=20$ ns, and $T_{\\text{DRAM}}=80$ ns.\n$$T_{\\text{stall, enabled}} = 0.10 \\left( (1-0.50)(6) + 0.50 \\left[ (1-0.20)(20) + (0.20)(80) \\right] \\right) \\text{ ns}$$\n$$T_{\\text{stall, enabled}} = 0.10 \\left( (0.50)(6) + 0.50 \\left[ (0.80)(20) + 16 \\right] \\right) \\text{ ns}$$\n$$T_{\\text{stall, enabled}} = 0.10 \\left( 3 + 0.50 \\left[ 16 + 16 \\right] \\right) \\text{ ns} = 0.10 \\left( 3 + 0.50(32) \\right) \\text{ ns}$$\n$$T_{\\text{stall, enabled}} = 0.10 \\left( 3 + 16 \\right) \\text{ ns} = 1.9 \\text{ ns}$$\n\n**Configuration 2: L3 Cache Disabled**\n\nWhen the L3 cache is disabled, any miss in the L2 cache must be serviced by DRAM. This is equivalent to setting the L3 miss probability $m_3=1$.\n$$\\text{L2 miss penalty}_{\\text{disabled}} = T_{\\text{DRAM}}$$\nThe average stall time becomes:\n$$T_{\\text{stall, disabled}} = m_1 \\left( (1-m_2)T_{L2} + m_2 T_{\\text{DRAM}} \\right)$$\n$$T_{\\text{stall, disabled}} = 0.10 \\left( (1-0.50)(6) + 0.50(80) \\right) \\text{ ns}$$\n$$T_{\\text{stall, disabled}} = 0.10 \\left( (0.50)(6) + 40 \\right) \\text{ ns} = 0.10 \\left( 3 + 40 \\right) \\text{ ns}$$\n$$T_{\\text{stall, disabled}} = 4.3 \\text{ ns}$$\n\n**3. Performance Speedup Calculation**\n\nThe total time to execute one instruction, $T_{\\text{inst}}$, is the sum of the time for core computation and the memory stall time.\n$$T_{\\text{inst}} = T_{\\text{compute}} + T_{\\text{stall}} = \\frac{c_{\\text{base}}}{f} + a \\times T_{\\text{stall, mem-op}}$$\nwhere $c_{\\text{base}}$ is the base cycles per instruction and $a$ is the average memory operations per instruction.\n\nSpeedup $S$ is the ratio of the new throughput to the old throughput. Throughput is instructions per second, which is $1/T_{\\text{inst}}$.\n$$S = \\frac{\\text{Throughput}_{\\text{new}}}{\\text{Throughput}_{\\text{enabled}}} = \\frac{1 / T_{\\text{inst, new}}}{1 / T_{\\text{inst, enabled}}} = \\frac{T_{\\text{inst, enabled}}}{T_{\\text{inst, new}}}$$\n\nWe now calculate this for both application classes. Note that frequency $f$ in GHz means $1/f$ is in nanoseconds.\n\n**Compute-Bound Application** ($c_{\\text{CB}} = 1.0$, $a_{\\text{CB}} = 0.01$)\n\nTime per instruction (enabled L3, nominal frequency $f_0$):\n$$T_{\\text{inst, enabled, CB}} = \\frac{c_{\\text{CB}}}{f_0} + a_{\\text{CB}} T_{\\text{stall, enabled}} = \\frac{1.0}{2.5} + 0.01 \\times 1.9 = 0.4 + 0.019 = 0.419 \\text{ ns}$$\nTime per instruction (disabled L3, new frequency $f_{\\text{new}}$):\n$$T_{\\text{inst, new, CB}} = \\frac{c_{\\text{CB}}}{f_{\\text{new}}} + a_{\\text{CB}} T_{\\text{stall, disabled}} = \\frac{1.0}{2.5 \\left(\\frac{19}{15}\\right)^{1/3}} + 0.01 \\times 4.3 \\approx 0.369686 \\text{ ns} + 0.043 \\text{ ns} = 0.412686 \\text{ ns}$$\nSpeedup for compute-bound application:\n$$S_{\\text{CB}} = \\frac{T_{\\text{inst, enabled, CB}}}{T_{\\text{inst, new, CB}}} = \\frac{0.419}{0.412686} \\approx 1.015300$$\nRounded to four significant figures, the speedup is $1.015$.\n\n**Memory-Bound Application** ($c_{\\text{MB}} = 1.5$, $a_{\\text{MB}} = 0.30$)\n\nTime per instruction (enabled L3, nominal frequency $f_0$):\n$$T_{\\text{inst, enabled, MB}} = \\frac{c_{\\text{MB}}}{f_0} + a_{\\text{MB}} T_{\\text{stall, enabled}} = \\frac{1.5}{2.5} + 0.30 \\times 1.9 = 0.6 + 0.57 = 1.17 \\text{ ns}$$\nTime per instruction (disabled L3, new frequency $f_{\\text{new}}$):\n$$T_{\\text{inst, new, MB}} = \\frac{c_{\\text{MB}}}{f_{\\text{new}}} + a_{\\text{MB}} T_{\\text{stall, disabled}} = \\frac{1.5}{2.5 \\left(\\frac{19}{15}\\right)^{1/3}} + 0.30 \\times 4.3 \\approx 0.554528 \\text{ ns} + 1.29 \\text{ ns} = 1.844528 \\text{ ns}$$\nSpeedup for memory-bound application:\n$$S_{\\text{MB}} = \\frac{T_{\\text{inst, enabled, MB}}}{T_{\\text{inst, new, MB}}} = \\frac{1.17}{1.844528} \\approx 0.634323$$\nRounded to four significant figures, the speedup is $0.6343$. A value less than $1$ indicates a slowdown.",
            "answer": "$$\\boxed{\\begin{pmatrix} 1.015 & 0.6343 \\end{pmatrix}}$$"
        },
        {
            "introduction": "This final practice examines how designers formally evaluate the trade-offs explored previously. You will assess several core activation policies using standard industry metrics: the Energy-Delay Product ($EDP$) and the Energy-Delay Squared Product ($ED^2P$). This exercise reveals that the 'optimal' policy depends entirely on the chosen objective, whether it is balancing energy and performance or aggressively minimizing execution time.",
            "id": "3639311",
            "problem": "A chip integrates $N_{\\text{total}} = 20$ identical cores but, due to the end of Dennard scaling, not all transistors can be powered simultaneously without violating the Thermal Design Power (TDP) constraint. This leads to the dark silicon phenomenon, where a fraction of the silicon must remain unpowered at any time. Each core can be operated in one of two voltage-frequency points: a turbo point and an eco point. Empirically, and consistent with dynamic power scaling where dynamic power is proportional to $V^2 f$ and throughput is proportional to $f$, the following per-core operating points are achievable:\n- Turbo: per-core power $p_T = 12\\,\\text{W}$ and per-core throughput $r_T = 4\\,\\text{Gops/s}$.\n- Eco: per-core power $p_E = 4\\,\\text{W}$ and per-core throughput $r_E = 2\\,\\text{Gops/s}$.\nAssume a power cap (TDP) of $P_{\\text{cap}} = 96\\,\\text{W}$. Due to a shared memory bandwidth constraint, at most $12$ eco-mode cores can be fed concurrently without throughput saturation; beyond $12$ eco-mode cores, aggregate throughput does not increase. Assume no such memory bottleneck for the given turbo-mode counts listed below. Consider a fixed workload of $W = 240\\,\\text{Gops}$, where $\\text{Gops/s}$ denotes giga-operations per second and $\\text{Gops}$ denotes giga-operations. The Energy-Delay Product (EDP) is defined as $EDP = E \\cdot T$, and the Energy-Delay Squared Product ($ED^2P$) is defined as $ED^2P = E \\cdot T^2$, where energy $E$ equals power $P$ times execution time $T$, and $T = W/X$ for throughput $X$.\n\nThree feasible policies are proposed:\n- Policy $1$: Activate $8$ turbo cores, leaving all others off.\n- Policy $2$: Activate $12$ eco cores, leaving all others off (do not exceed the memory bandwidth limit).\n- Policy $3$: Hybrid: activate $4$ turbo cores and $6$ eco cores, leaving all others off.\n\nFor each policy, use only the first principles $E = P \\cdot T$ and $T = W/X$ to compute $EDP$ and $ED^2P$. Then determine which policy minimizes $EDP$ and which policy minimizes $ED^2P$. Also compute the dark silicon fraction in each selected policy, defined as the fraction of the $N_{\\text{total}}$ cores that must remain unpowered.\n\nChoose the correct statement below.\n\nA. Minimizing $EDP$ selects Policy $2$ with dark silicon fraction $40\\%$; minimizing $ED^2P$ selects Policy $1$ with dark silicon fraction $60\\%$.\n\nB. Minimizing $EDP$ selects Policy $1$ with dark silicon fraction $60\\%$; minimizing $ED^2P$ selects Policy $2$ with dark silicon fraction $40\\%$.\n\nC. Both $EDP$ and $ED^2P$ select Policy $3$ with dark silicon fraction $50\\%$.\n\nD. Minimizing $EDP$ selects Policy $2$; minimizing $ED^2P$ selects Policy $3$ (dark silicon fractions need not be computed).",
            "solution": "The problem statement is first subjected to validation.\n\n### Step 1: Extract Givens\n- Total number of cores: $N_{\\text{total}} = 20$.\n- Turbo core operating point: per-core power $p_T = 12\\,\\text{W}$, per-core throughput $r_T = 4\\,\\text{Gops/s}$.\n- Eco core operating point: per-core power $p_E = 4\\,\\text{W}$, per-core throughput $r_E = 2\\,\\text{Gops/s}$.\n- Chip power cap (TDP): $P_{\\text{cap}} = 96\\,\\text{W}$.\n- Memory bandwidth constraint: at most $12$ eco-mode cores can be active.\n- Workload: $W = 240\\,\\text{Gops}$.\n- Energy-Delay Product ($EDP$): $EDP = E \\cdot T$.\n- Energy-Delay Squared Product ($ED^2P$): $ED^2P = E \\cdot T^2$.\n- Energy: $E = P \\cdot T$.\n- Execution time: $T = W/X$, where $X$ is aggregate throughput.\n- Dark silicon fraction: (Number of unpowered cores) / $N_{\\text{total}}$.\n- Policy $1$: $n_T = 8$ turbo cores, $n_E = 0$ eco cores.\n- Policy $2$: $n_E = 12$ eco cores, $n_T = 0$ turbo cores.\n- Policy $3$: $n_T = 4$ turbo cores, $n_E = 6$ eco cores.\n\n### Step 2: Validate Using Extracted Givens\nThe problem is scientifically grounded in the established concepts of Dennard scaling breakdown, dark silicon, and power/performance trade-offs in multi-core processors. The metrics $EDP$ and $ED^2P$ are standard in computer architecture for evaluating the balance between performance and energy consumption. The problem is well-posed, with all necessary data and definitions provided to calculate the required quantities for each policy.\n\nWe must verify that each proposed policy is \"feasible\" as stated, meaning it respects the power cap and memory bandwidth constraints.\n- **Policy 1:** Total power is $8 \\cdot p_T = 8 \\cdot 12\\,\\text{W} = 96\\,\\text{W}$, which is equal to $P_{\\text{cap}} = 96\\,\\text{W}$. The constraint is met.\n- **Policy 2:** Total power is $12 \\cdot p_E = 12 \\cdot 4\\,\\text{W} = 48\\,\\text{W}$, which is less than $P_{\\text{cap}}$. The number of eco cores ($12$) is at the specified memory bandwidth limit, but does not exceed it. The constraint is met.\n- **Policy 3:** Total power is $4 \\cdot p_T + 6 \\cdot p_E = 4 \\cdot 12\\,\\text{W} + 6 \\cdot 4\\,\\text{W} = 48\\,\\text{W} + 24\\,\\text{W} = 72\\,\\text{W}$, which is less than $P_{\\text{cap}}$. The number of eco cores ($6$) is below the memory bandwidth limit. The constraint is met.\n\nThe problem is self-contained, consistent, objective, and scientifically sound. No flaws are identified.\n\n### Step 3: Verdict and Action\nThe problem is valid. The solution proceeds.\n\n### Derivation of Solution\nWe will compute the relevant metrics for each policy. The core quantities are: aggregate power ($P$), aggregate throughput ($X$), execution time ($T$), total energy ($E$), Energy-Delay Product ($EDP$), and Energy-Delay Squared Product ($ED^2P$). The workload $W = 240\\,\\text{Gops}$ is constant.\n\n**Policy 1: Activate $8$ turbo cores**\n- Aggregate Power: $P_1 = 8 \\cdot p_T = 8 \\cdot 12\\,\\text{W} = 96\\,\\text{W}$.\n- Aggregate Throughput: $X_1 = 8 \\cdot r_T = 8 \\cdot 4\\,\\text{Gops/s} = 32\\,\\text{Gops/s}$.\n- Execution Time: $T_1 = W / X_1 = 240\\,\\text{Gops} / 32\\,\\text{Gops/s} = 7.5\\,\\text{s}$.\n- Energy: $E_1 = P_1 \\cdot T_1 = 96\\,\\text{W} \\cdot 7.5\\,\\text{s} = 720\\,\\text{J}$.\n- EDP: $EDP_1 = E_1 \\cdot T_1 = 720\\,\\text{J} \\cdot 7.5\\,\\text{s} = 5400\\,\\text{J}\\cdot\\text{s}$.\n- $ED^2P$: $ED^2P_1 = E_1 \\cdot T_1^2 = 720\\,\\text{J} \\cdot (7.5\\,\\text{s})^2 = 720 \\cdot 56.25\\,\\text{J}\\cdot\\text{s}^2 = 40500\\,\\text{J}\\cdot\\text{s}^2$.\n- Dark Silicon: $8$ of $20$ cores are active. The number of unpowered cores is $20 - 8 = 12$. The fraction is $12/20 = 0.6 = 60\\%$.\n\n**Policy 2: Activate $12$ eco cores**\n- Aggregate Power: $P_2 = 12 \\cdot p_E = 12 \\cdot 4\\,\\text{W} = 48\\,\\text{W}$.\n- Aggregate Throughput: $X_2 = 12 \\cdot r_E = 12 \\cdot 2\\,\\text{Gops/s} = 24\\,\\text{Gops/s}$.\n- Execution Time: $T_2 = W / X_2 = 240\\,\\text{Gops} / 24\\,\\text{Gops/s} = 10\\,\\text{s}$.\n- Energy: $E_2 = P_2 \\cdot T_2 = 48\\,\\text{W} \\cdot 10\\,\\text{s} = 480\\,\\text{J}$.\n- EDP: $EDP_2 = E_2 \\cdot T_2 = 480\\,\\text{J} \\cdot 10\\,\\text{s} = 4800\\,\\text{J}\\cdot\\text{s}$.\n- $ED^2P$: $ED^2P_2 = E_2 \\cdot T_2^2 = 480\\,\\text{J} \\cdot (10\\,\\text{s})^2 = 48000\\,\\text{J}\\cdot\\text{s}^2$.\n- Dark Silicon: $12$ of $20$ cores are active. The number of unpowered cores is $20 - 12 = 8$. The fraction is $8/20 = 0.4 = 40\\%$.\n\n**Policy 3: Hybrid: activate $4$ turbo cores and $6$ eco cores**\n- Aggregate Power: $P_3 = 4 \\cdot p_T + 6 \\cdot p_E = 4 \\cdot 12\\,\\text{W} + 6 \\cdot 4\\,\\text{W} = 48\\,\\text{W} + 24\\,\\text{W} = 72\\,\\text{W}$.\n- Aggregate Throughput: $X_3 = 4 \\cdot r_T + 6 \\cdot r_E = 4 \\cdot 4\\,\\text{Gops/s} + 6 \\cdot 2\\,\\text{Gops/s} = 16\\,\\text{Gops/s} + 12\\,\\text{Gops/s} = 28\\,\\text{Gops/s}$.\n- Execution Time: $T_3 = W / X_3 = 240\\,\\text{Gops} / 28\\,\\text{Gops/s} = 60/7\\,\\text{s} \\approx 8.57\\,\\text{s}$.\n- Energy: $E_3 = P_3 \\cdot T_3 = 72\\,\\text{W} \\cdot (60/7)\\,\\text{s} = 4320/7\\,\\text{J} \\approx 617.14\\,\\text{J}$.\n- EDP: $EDP_3 = E_3 \\cdot T_3 = (4320/7)\\,\\text{J} \\cdot (60/7)\\,\\text{s} = 259200/49\\,\\text{J}\\cdot\\text{s} \\approx 5289.8\\,\\text{J}\\cdot\\text{s}$.\n- $ED^2P$: $ED^2P_3 = E_3 \\cdot T_3^2 = EDP_3 \\cdot T_3 = (259200/49)\\,\\text{J}\\cdot\\text{s} \\cdot (60/7)\\,\\text{s} = 15552000/343\\,\\text{J}\\cdot\\text{s}^2 \\approx 45341.1\\,\\text{J}\\cdot\\text{s}^2$.\n- Dark Silicon: $4+6=10$ of $20$ cores are active. The number of unpowered cores is $20 - 10 = 10$. The fraction is $10/20 = 0.5 = 50\\%$.\n\n### Comparison and Conclusion\n- **Minimizing EDP**:\n  - $EDP_1 = 5400\\,\\text{J}\\cdot\\text{s}$\n  - $EDP_2 = 4800\\,\\text{J}\\cdot\\text{s}$ (Minimum)\n  - $EDP_3 \\approx 5289.8\\,\\text{J}\\cdot\\text{s}$\n  The policy that minimizes $EDP$ is **Policy 2**. Its dark silicon fraction is $40\\%$.\n\n- **Minimizing $ED^2P$**:\n  - $ED^2P_1 = 40500\\,\\text{J}\\cdot\\text{s}^2$ (Minimum)\n  - $ED^2P_2 = 48000\\,\\text{J}\\cdot\\text{s}^2$\n  - $ED^2P_3 \\approx 45341.1\\,\\text{J}\\cdot\\text{s}^2$\n  The policy that minimizes $ED^2P$ is **Policy 1**. Its dark silicon fraction is $60\\%$.\n\nThe metric $EDP = P T^2$ heavily penalizes power but less so time, while $ED^2P = P T^3$ penalizes long execution times even more stringently. Policy 2 is the most energy-efficient ($E_2=480\\,\\text{J}$), making it the best for $EDP$. Policy 1 has the shortest execution time ($T_1=7.5\\,\\text{s}$), making it the best for the more time-sensitive $ED^2P$ metric.\n\n### Option-by-Option Analysis\n\nA. **Minimizing $EDP$ selects Policy $2$ with dark silicon fraction $40\\%$; minimizing $ED^2P$ selects Policy $1$ with dark silicon fraction $60\\%$.**\nThis statement perfectly matches our derived results. Minimizing $EDP$ selects Policy $2$ (dark silicon $40\\%$), and minimizing $ED^2P$ selects Policy $1$ (dark silicon $60\\%$).\n**Verdict: Correct.**\n\nB. **Minimizing $EDP$ selects Policy $1$ with dark silicon fraction $60\\%$; minimizing $ED^2P$ selects Policy $2$ with dark silicon fraction $40\\%$.**\nThis statement inverts the correct correspondence. $EDP$ is minimized by Policy $2$, not Policy $1$. $ED^2P$ is minimized by Policy $1$, not Policy $2$.\n**Verdict: Incorrect.**\n\nC. **Both $EDP$ and $ED^2P$ select Policy $3$ with dark silicon fraction $50\\%$.**\nPolicy $3$ minimizes neither metric. Policy $2$ minimizes $EDP$ and Policy $1$ minimizes $ED^2P$.\n**Verdict: Incorrect.**\n\nD. **Minimizing $EDP$ selects Policy $2$; minimizing $ED^2P$ selects Policy $3$ (dark silicon fractions need not be computed).**\nThe first part, \"Minimizing $EDP$ selects Policy $2$\", is correct. However, the second part, \"minimizing $ED^2P$ selects Policy $3$\", is incorrect. Our calculation shows $ED^2P_1 = 40500\\,\\text{J}\\cdot\\text{s}^2$, which is less than $ED^2P_3 \\approx 45341.1\\,\\text{J}\\cdot\\text{s}^2$.\n**Verdict: Incorrect.**",
            "answer": "$$\\boxed{A}$$"
        }
    ]
}