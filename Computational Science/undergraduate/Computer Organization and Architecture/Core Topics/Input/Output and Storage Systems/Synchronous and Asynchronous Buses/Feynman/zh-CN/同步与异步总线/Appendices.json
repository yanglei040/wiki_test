{
    "hands_on_practices": [
        {
            "introduction": "理论是灰色的，而实践之树常青。为了真正掌握同步和异步总线的核心区别，我们将通过一系列动手实践来深化理解。第一个练习将引导我们直面一个核心问题：当任务处理时间不固定时，两种总线架构的性能表现有何不同？通过这个练习，你将亲手量化同步总线的“时钟量化”开销，并体会异步设计如何优雅地适应变化的负载，从而揭示其在特定场景下的性能优势 。",
            "id": "3683502",
            "problem": "一个计算机系统内置了两种外设互连：同步总线和异步总线。您的任务是为一个片上性能计数器建模，该计数器用于估算在同步总线上每次数据传输的平均总线时钟周期数，并将其与在工作负载可变的情况下异步总线上的平均握手持续时间进行比较。\n\n假设存在以下操作定义和条件：\n\n- 在同步总线上，每次传输包括一个地址阶段和一个数据阶段。总线仅在时钟边界上采样数据。如果设备的服务时间超过了到下一个采样边界的时间，总线将插入等待状态，直到服务完成时或之后出现一个采样边界。性能计数器记录在一个长观察窗口内主动执行传输所花费的总线时钟周期总数，以及已完成的传输总数。\n\n- 在异步总线上，使用经典的四相请求-应答握手协议：请求置位、应答置位、请求复位、应答复位。每次控制信号的转换都会产生一个固定的传播延迟。直到设备完成其服务，应答信号才会被置位。\n\n- 设备服务时间是一个用于建模工作负载可变性的随机变量：服务时间等于 $x_{f}$（快速情况）的概率为 $p$，等于 $x_{s}$（慢速情况）的概率为 $1 - p$。同样的服务时间可变性适用于两种总线。\n\n给定以下参数：\n\n- 同步总线时钟频率 $f = 200$ 兆赫兹。\n- 异步总线上每次转换的控制信号传播延迟 $t_{p} = 1$ 纳秒。\n- 快速服务时间 $x_{f} = 7$ 纳秒。\n- 慢速服务时间 $x_{s} = 19$ 纳秒。\n- 快速情况的概率 $p = 0.7$。\n\n仅使用同步传输时序和四相异步握手时间线的第一性原理定义：\n\n1. 推导在长观察窗口内，性能计数器报告的同步总线上每次传输的期望时钟周期数。\n2. 推导异步总线上的期望握手持续时间。\n3. 计算异步总线的期望握手持续时间与同步总线的期望传输时间（以秒为单位）的比率 $R$。\n\n将最终比率 $R$ 表示为一个简化的精确分数。无需四舍五入，该比率为无量纲。最终答案中不要包含任何单位。",
            "solution": "问题要求在概率性工作负载下分析同步总线和异步总线的性能。分析必须基于第一性原理。问题陈述具有科学依据、适定且客观，因此是有效的。我们进行正式推导。\n\n给定的参数如下：\n- 同步总线时钟频率，$f = 200 \\times 10^6$ Hz。\n- 异步总线每次转换的控制信号传播延迟，$t_p = 1 \\times 10^{-9}$ s。\n- 快速服务时间，$x_f = 7 \\times 10^{-9}$ s。\n- 慢速服务时间，$x_s = 19 \\times 10^{-9}$ s。\n- 快速服务时间的概率，$p = 0.7$。\n\n服务时间 $x$ 是一个随机变量，其概率质量函数为 $P(x=x_f) = p$ 和 $P(x=x_s) = 1-p$。\n\n**1. 同步总线分析**\n\n首先，我们确定同步总线的时钟周期 $T_{clk}$。\n$$T_{clk} = \\frac{1}{f} = \\frac{1}{200 \\times 10^6 \\text{ Hz}} = 5 \\times 10^{-9} \\text{ s} = 5 \\text{ ns}$$\n\n同步总线上的一次传输包含一个地址阶段和一个数据阶段。这种协议的一个标准最小模型假设地址阶段占用一个时钟周期。地址发出后，开始持续时间为 $x$ 的设备服务。数据只能在时钟上升沿被采样。因此，会插入等待状态，直到服务完成时或之后出现的第一个时钟沿。\n\n假设一次传输在时间 $t=0$ 开始。地址阶段消耗一个时钟周期，因此在时间 $t=T_{clk}$ 结束。此时开始持续时间为 $x$ 的服务，数据在时间 $T_{clk} + x$ 变得可用。传输的总持续时间必须是整数个时钟周期，记为 $C_{sync}(x)$，使得总时间 $C_{sync}(x) \\cdot T_{clk}$ 至少为 $T_{clk} + x$。\n$$C_{sync}(x) \\cdot T_{clk} \\ge T_{clk} + x$$\n周期数是满足此条件的最小整数，可以使用向上取整函数（ceiling function）求得：\n$$C_{sync}(x) = \\left\\lceil \\frac{T_{clk} + x}{T_{clk}} \\right\\rceil = 1 + \\left\\lceil \\frac{x}{T_{clk}} \\right\\rceil$$\n\n我们将此模型应用于两种服务时间情况：\n对于快速情况（$x_f = 7 \\text{ ns}$）：\n$$C_{sync}(x_f) = 1 + \\left\\lceil \\frac{7 \\text{ ns}}{5 \\text{ ns}} \\right\\rceil = 1 + \\lceil 1.4 \\rceil = 1 + 2 = 3 \\text{ cycles}$$\n对于慢速情况（$x_s = 19 \\text{ ns}$）：\n$$C_{sync}(x_s) = 1 + \\left\\lceil \\frac{19 \\text{ ns}}{5 \\text{ ns}} \\right\\rceil = 1 + \\lceil 3.8 \\rceil = 1 + 4 = 5 \\text{ cycles}$$\n\n每次传输的期望时钟周期数 $E[C_{sync}]$，是快速和慢速情况下周期数的加权平均值。\n$$E[C_{sync}] = p \\cdot C_{sync}(x_f) + (1-p) \\cdot C_{sync}(x_s)$$\n$$E[C_{sync}] = (0.7)(3) + (1-0.7)(5) = (0.7)(3) + (0.3)(5) = 2.1 + 1.5 = 3.6$$\n这是问题第一部分的答案。\n\n**2. 异步总线分析**\n\n异步总线使用四相握手协议。对于给定的服务时间 $x$，此握手的持续时间 $T_{async}(x)$ 可以通过将每个阶段的延迟相加来确定：\n1. 主设备置位请求信号。信号传播到从设备需要时间 $t_p$。\n2. 从设备接收到请求，执行服务（持续时间 $x$），然后置位应答信号。\n3. 应答信号传播回主设备，这又需要时间 $t_p$。\n4. 主设备接收到应答并复位请求信号。该信号在 $t_p$ 时间内传播到从设备。\n5. 从设备接收到复位的请求并复位应答信号。该信号在 $t_p$ 时间内传回主设备。\n握手的总持续时间是服务时间与四个传播延迟之和。\n$$T_{async}(x) = x + 4t_p$$\n\n我们将此模型应用于两种服务时间情况，其中 $t_p = 1 \\text{ ns}$：\n对于快速情况（$x_f = 7 \\text{ ns}$）：\n$$T_{async}(x_f) = 7 \\text{ ns} + 4(1 \\text{ ns}) = 11 \\text{ ns}$$\n对于慢速情况（$x_s = 19 \\text{ ns}$）：\n$$T_{async}(x_s) = 19 \\text{ ns} + 4(1 \\text{ ns}) = 23 \\text{ ns}$$\n\n期望握手持续时间 $E[T_{async}]$ 是加权平均值。\n$$E[T_{async}] = p \\cdot T_{async}(x_f) + (1-p) \\cdot T_{async}(x_s)$$\n$$E[T_{async}] = (0.7)(11 \\text{ ns}) + (0.3)(23 \\text{ ns}) = 7.7 \\text{ ns} + 6.9 \\text{ ns} = 14.6 \\text{ ns}$$\n这是问题第二部分的答案。\n\n**3. 比率 R 的计算**\n\n问题要求计算异步总线的期望握手持续时间与同步总线的期望传输时间（以秒为单位）的比率 $R$。\n分子是 $E[T_{async}] = 14.6 \\text{ ns}$。\n\n分母是同步总线上的期望传输时间 $E[T_{sync}]$。对于服务时间为 $x$ 的同步传输，其时间为 $T_{sync}(x) = C_{sync}(x) \\cdot T_{clk}$。期望时间是：\n$$E[T_{sync}] = E[C_{sync}(x) \\cdot T_{clk}]$$\n由于 $T_{clk}$ 是一个常数，我们可以写成：\n$$E[T_{sync}] = E[C_{sync}] \\cdot T_{clk}$$\n使用第1部分的结果，$E[C_{sync}] = 3.6$，以及 $T_{clk} = 5 \\text{ ns}$：\n$$E[T_{sync}] = 3.6 \\cdot 5 \\text{ ns} = 18 \\text{ ns}$$\n\n现在我们可以计算比率 $R$：\n$$R = \\frac{E[T_{async}]}{E[T_{sync}]} = \\frac{14.6 \\text{ ns}}{18 \\text{ ns}} = \\frac{14.6}{18}$$\n\n为了将其表示为一个简化的精确分数，我们将小数转换为分数：\n$$R = \\frac{146}{180}$$\n我们通过将分子和分母除以它们的最大公约数 $2$ 来简化分数：\n$$R = \\frac{146 \\div 2}{180 \\div 2} = \\frac{73}{90}$$\n由于 $73$ 是一个质数且不能整除 $90$，该分数已完全简化。",
            "answer": "$$\\boxed{\\frac{73}{90}}$$"
        },
        {
            "introduction": "除了性能，功耗是现代芯片设计中另一个至关重要的考量因素。这个练习将带你从第一性原理出发，探索总线通信的能量成本。你将推导并比较在数据随机变化和稀疏变化两种情况下，同步与异步总线的动态功耗 。这个实践不仅能让你理解为什么异步总线在特定应用中更为节能，还能让你掌握评估数字电路功耗的基本分析方法。",
            "id": "3683515",
            "problem": "考虑一个采用互补金属氧化物半导体（CMOS）技术实现的片上宽数据总线。该总线宽度为 $w$ 位，每条位线呈现一个负载电容 $C_{\\ell}$。电源电压为 $V$。假设静态泄漏和短路功率可以忽略不计，并将每个位线的翻转建模为通过一个电阻网络对一个等效电容器进行充电或放电。\n\n该总线在两种模式下使用：\n- 同步模式：在高时钟频率下工作，总线上连续的字是独立的，且每一位为 $0$ 或 $1$ 的概率均等。\n- 异步模式：数据活动稀疏，在连续的字之间，只有一小部分位位置会经历 $0 \\to 1$ 的翻转。\n\n利用电容器通过电阻路径从 $0$ 充电到 $V$ 时的能量传输第一性原理，推导出在每种模式下，每个传输的字从电源汲取的期望能量，该能量是关于 $w$、$C_{\\ell}$、$V$ 以及活动因子 $\\alpha$ 的函数。活动因子 $\\alpha$ 定义为在连续的字之间经历 $0 \\to 1$ 翻转的位位置的期望比例。对于同步模式，根据独立性和等概率假设推导出 $\\alpha$。然后，使用以下参数评估异步模式与同步模式下每个字的能量之比：\n- 总线宽度 $w = 128$，\n- 每位线电容 $C_{\\ell} = 0.20 \\,\\text{pF}$，\n- 电源电压 $V = 0.90 \\,\\text{V}$，\n- 异步活动因子 $\\alpha_{\\text{async}} = 0.05$。\n\n将最终结果表示为单一比率 $R = \\dfrac{E_{\\text{async}}}{E_{\\text{sync}}}$。无需四舍五入。如果计算中间能量，请以焦耳为单位表示。",
            "solution": "该问题是有效的，因为它科学地基于CMOS电路功耗原理，问题陈述清晰且提供了所有必要信息，并使用了客观的技术语言。所提供的参数对于现代集成电路是物理上现实的。\n\n求解过程分为三个主要步骤：\n1.  基于第一性原理，推导单次 $0 \\to 1$ 位翻转从电源汲取的能量。\n2.  使用活动因子的概念，为同步和异步两种模式建立每个字传输的期望能量公式。\n3.  计算异步能量与同步能量之比。\n\n**步骤 1：单次位翻转的能量**\n问题要求考虑电容器通过电阻路径充电时的能量传输。将单条位线建模为一个电容为 $C_{\\ell}$ 的电容器。一次 $0 \\to 1$ 的翻转对应于将该电容器从初始电压 $0$ 充电到电源电压 $V$。充电过程是通过具有某个等效电阻 $R$ 的上拉网络从电源 $V$ 进行的。\n\n充电期间从电源流出的瞬时电流为 $i(t)$。从电源汲取的瞬时功率为 $P(t) = V i(t)$。从电源汲取的总能量 $E_{\\text{supply}}$ 是该功率在整个充电期间（从 $t=0$ 到 $t \\to \\infty$）的积分：\n$$E_{\\text{supply}} = \\int_0^\\infty P(t) \\,dt = \\int_0^\\infty V i(t) \\,dt$$\n由于电源电压 $V$ 是恒定的，我们可以写出：\n$$E_{\\text{supply}} = V \\int_0^\\infty i(t) \\,dt$$\n电流对时间的积分是从电源流向电容器以将其充电至电压 $V$ 的总电荷 $Q$。电容器上存储的电荷由 $Q = C_{\\ell}V$ 给出。\n将此代入能量方程，我们得到：\n$$E_{\\text{supply}} = V Q = V(C_{\\ell}V) = C_{\\ell}V^2$$\n这是单条位线上一次 $0 \\to 1$ 翻转从电源汲取的总能量。一个基本结论是，这些能量的一半，即 $\\frac{1}{2}C_{\\ell}V^2$，存储在电容器中，另一半则在电阻路径中以热量形式耗散掉。\n\n对于 $1 \\to 0$ 的翻转，电容器 $C_{\\ell}$ 通过下拉网络放电到地。存储的能量 $\\frac{1}{2}C_{\\ell}V^2$ 在下拉晶体管中以热量形式耗散。在此过程中，没有能量从电源 $V$ 中汲取。\n对于 $0 \\to 0$ 和 $1 \\to 1$ 的翻转，电容器电压不发生变化，因此不消耗动态能量。\n因此，动态能量仅在 $0 \\to 1$ 翻转期间从电源汲取。\n\n**步骤 2：每个字的期望能量**\n每次字传输从电源汲取的总能量取决于从 $0$ 翻转到 $1$ 的位线的期望数量。\n设 $\\alpha$ 为活动因子，定义为在连续的字之间经历 $0 \\to 1$ 翻转的位位置的期望比例。这等同于单条位线从 $0$ 翻转到 $1$ 的概率。\n对于宽度为 $w$ 的总线，每次字传输的 $0 \\to 1$ 翻转的期望数量 $N_{0 \\to 1}$ 为：\n$$N_{0 \\to 1} = w \\alpha$$\n每个字从电源汲取的总期望能量 $E_{\\text{word}}$ 是 $0 \\to 1$ 翻转的期望数量与每次翻转能量的乘积：\n$$E_{\\text{word}} = N_{0 \\to 1} \\times E_{\\text{supply}} = (w \\alpha) (C_{\\ell}V^2) = w \\alpha C_{\\ell}V^2$$\n\n**同步模式：**\n在同步模式下，连续的字是独立的，且每一位为 $0$ 或 $1$ 的概率均等。设 $b_t$ 为位在时间 $t$ 的状态。\n$$P(b_t=0) = \\frac{1}{2} \\quad \\text{和} \\quad P(b_t=1) = \\frac{1}{2}$$\n同步模式的活动因子 $\\alpha_{\\text{sync}}$ 是从时间 $t-1$ 到 $t$ 发生 $0 \\to 1$ 翻转的概率。由于独立性：\n$$\\alpha_{\\text{sync}} = P(b_{t-1}=0 \\text{ and } b_t=1) = P(b_{t-1}=0) \\times P(b_t=1) = \\frac{1}{2} \\times \\frac{1}{2} = \\frac{1}{4} = 0.25$$\n在同步模式下，每个字的期望能量为：\n$$E_{\\text{sync}} = w \\alpha_{\\text{sync}} C_{\\ell}V^2 = w (0.25) C_{\\ell}V^2$$\n\n**异步模式：**\n在异步模式下，活动因子 $\\alpha_{\\text{async}}$ 在问题陈述中已作为反映稀疏数据活动的参数直接给出。\n$$\\alpha_{\\text{async}} = 0.05$$\n在异步模式下，每个字的期望能量为：\n$$E_{\\text{async}} = w \\alpha_{\\text{async}} C_{\\ell}V^2 = w (0.05) C_{\\ell}V^2$$\n\n**步骤 3：能量之比**\n问题要求计算比率 $R = \\frac{E_{\\text{async}}}{E_{\\text{sync}}}$。\n$$R = \\frac{w \\alpha_{\\text{async}} C_{\\ell}V^2}{w \\alpha_{\\text{sync}} C_{\\ell}V^2}$$\n总线宽度（$w$）、线电容（$C_{\\ell}$）和电源电压（$V$）的项相互抵消。该比率仅取决于两种模式的活动因子。\n$$R = \\frac{\\alpha_{\\text{async}}}{\\alpha_{\\text{sync}}}$$\n代入活动因子的值：\n$$R = \\frac{0.05}{0.25} = \\frac{5}{25} = \\frac{1}{5} = 0.2$$\n$w$、$C_{\\ell}$ 和 $V$ 的具体数值不需要用来计算最终比率，因为它们在两种模式下是相同的，因此相互抵消。该比率表明，在同步、随机数据模式下，总线每个字消耗的能量是在所述的异步、稀疏数据模式下的 $5$ 倍。",
            "answer": "$$\\boxed{0.2}$$"
        },
        {
            "introduction": "在实际的片上系统（SoC）设计中，不同时钟域的模块（如异步外设和同步总线）必须协同工作，这引入了独特的可靠性挑战。本练习聚焦于“跨时钟域”这一关键问题，特别是亚稳态现象。你将通过计算和比较不同级联深度同步器的平均无故障时间（MTBF），来量化增加一个触发器所带来的可靠性巨大提升 。这个练习将揭示工程设计中如何通过简单的结构来解决复杂的物理难题，确保系统稳定运行。",
            "id": "3683482",
            "problem": "一个片上系统（SoC）集成了一个异步外设，该外设以平均独立的翻转率 $f_{\\text{in}}$ 断言一个状态信号，该信号由一个以频率 $f_{\\text{clk}}$ 工作的同步总线进行采样。为了减轻跨时钟域的亚稳态问题，总线接口设计者考虑使用一个由边沿触发触发器链构成的同步器。第一个触发器内部节点的亚稳态动力学遵循指数衰减模型：节点在时间 $t$ 之后仍保持亚稳态的概率随时间常数 $\\tau$呈指数衰减，而 $t=0$ 时的密度由一个有效的孔径参数 $T_{0}$ 来表征，该参数设定了模型中稀有事件可能性的尺度。假设独立的采样机会以与 $f_{\\text{in}} f_{\\text{clk}}$ 成正比的速率发生，并使用此指数模型作为估算平均无故障时间（MTBF）的基础。\n\n设计者正在比较一个双触发器同步器和一个三触发器同步器。设时钟周期为 $T_{\\text{clk}} = 1/f_{\\text{clk}}$，从一个级到下一级的总时钟到输出加布线延迟为 $t_{\\text{pd}}$，接收触发器的建立时间为 $t_{\\text{setup}}$。对于一个 $N$ 级同步器，到最终采样的可用亚稳态解析时间为\n$$\nT_{\\text{res}}(N) = (N-1) \\, T_{\\text{clk}} - t_{\\text{pd}} - t_{\\text{setup}}.\n$$\n从指数亚稳态衰减模型以及失效率是机会率与亚稳态持续到最终采样事件的概率的乘积这一事实出发，推导 $N$ 级同步器的 MTBF 表达式，然后将其特化为 $N=2$ 和 $N=3$ 的情况，以获得比率\n$$\nR \\equiv \\frac{\\text{MTBF}_{3}}{\\text{MTBF}_{2}}.\n$$\n\n使用以下器件和系统参数：\n- $f_{\\text{in}} = 10\\,\\text{MHz}$,\n- $f_{\\text{clk}} = 250\\,\\text{MHz}$,\n- $t_{\\text{pd}} = 70\\,\\text{ps}$,\n- $t_{\\text{setup}} = 50\\,\\text{ps}$,\n- $\\tau = 50\\,\\text{ps}$,\n- $T_{0} = 1.0 \\times 10^{-10}\\,\\text{s}$.\n\n在这些假设下，计算 $R$ 的数值。将您的答案表示为一个无单位的纯数字，并四舍五入到三位有效数字。",
            "solution": "用户要求我解决一个关于触发器同步器的平均无故障时间（MTBF）的问题。\n\n### 步骤 1：提取已知条件\n\n-   异步输入信号翻转率: $f_{\\text{in}} = 10\\,\\text{MHz}$\n-   同步总线时钟频率: $f_{\\text{clk}} = 250\\,\\text{MHz}$\n-   亚稳态时间常数: $\\tau = 50\\,\\text{ps}$\n-   有效孔径参数: $T_{0} = 1.0 \\times 10^{-10}\\,\\text{s}$\n-   总时钟到输出加布线延迟: $t_{\\text{pd}} = 70\\,\\text{ps}$\n-   接收触发器的建立时间: $t_{\\text{setup}} = 50\\,\\text{ps}$\n-   时钟周期: $T_{\\text{clk}} = 1/f_{\\text{clk}}$\n-   N级同步器的可用亚稳态解析时间: $T_{\\text{res}}(N) = (N-1) \\, T_{\\text{clk}} - t_{\\text{pd}} - t_{\\text{setup}}$\n-   模型假设：问题要求使用指数衰减模型来处理亚稳态，其中失效率是机会率（与 $f_{\\text{in}} f_{\\text{clk}}$ 成正比）和持续概率的乘积。\n-   目标：推导比率 $R \\equiv \\text{MTBF}_{3} / \\text{MTBF}_{2}$ 的表达式并计算其数值。\n\n### 步骤 2：使用提取的已知条件进行验证\n\n-   **科学依据**：该问题在数字逻辑设计和计算机体系结构的原理方面有很好的基础，特别解决了跨时钟域和亚稳态的关键问题。所提供的基于指数衰减的模型（Chaney-Molnar模型）是分析同步器可靠性的标准（尽管简化了）方法。解析时间 $T_{\\text{res}}(N)$ 的公式是问题明确提供的模型假设。尽管它简化了复杂的、逐级解析的过程，但它是一个数学上连贯的陈述，必须根据问题的定义来遵循。数值参数对于现代CMOS技术是现实的。\n-   **适定性**：该问题是适定的。它提供了所有必要的参数、定义和明确的目标。可以从提供的模型和数据中确定比率 $R$ 的唯一解。\n-   **客观性**：该问题以精确、客观和技术性的语言陈述。没有主观因素。\n-   **完整性和一致性**：该问题是自洽的。推导和计算所需的所有变量和常数都已明确给出。没有内部矛盾。\n\n### 步骤 3：结论和行动\n\n-   **结论**：该问题是**有效的**。这是一个基于已建立的亚稳态模型的标准（尽管简化了的）工程计算。\n-   **行动**：进行完整解答。\n\n问题要求推导和计算一个3级同步器与一个2级同步器的平均无故障时间（MTBF）之比。MTBF是失效率 $\\lambda$ 的倒数。\n\n同步器的失效率取决于亚稳态事件的发生率以及此类事件未在允许时间内解析的概率。一个与问题中描述的指数衰减模型一致的、被广泛接受的同步器 MTBF 公式是：\n$$\n\\text{MTBF} = \\frac{\\exp(T_{\\text{res}}/\\tau)}{C \\cdot f_{\\text{clk}} \\cdot f_{\\text{in}}}\n$$\n其中 $T_{\\text{res}}$ 是亚稳态解析的可用时间，$\\tau$ 是此解析的技术相关时间常数，$f_{\\text{clk}}$ 是采样时钟频率，$f_{\\text{in}}$ 是异步输入上数据转换的速率，$C$ 是一个比例常数。在许多公式中，这个常数被等同于触发器的有效时间孔径，问题中给出为 $T_0$。因此，对于一个 $N$ 级同步器，我们有：\n$$\n\\text{MTBF}_{N} = \\frac{\\exp(T_{\\text{res}}(N)/\\tau)}{T_0 f_{\\text{clk}} f_{\\text{in}}}\n$$\n问题为 $N$ 级同步器提供了一个特定的解析时间公式 $T_{\\text{res}}(N)$：\n$$\nT_{\\text{res}}(N) = (N-1) T_{\\text{clk}} - t_{\\text{pd}} - t_{\\text{setup}}\n$$\n这里，$T_{\\text{clk}} = 1/f_{\\text{clk}}$ 是时钟周期。\n\n我们需要找到比率 $R = \\text{MTBF}_{3} / \\text{MTBF}_{2}$。让我们首先使用给定的公式写出 $\\text{MTBF}_{2}$ 和 $\\text{MTBF}_{3}$ 的表达式。\n\n对于一个 2 级同步器 ($N=2$)：\n$$\nT_{\\text{res}}(2) = (2-1) T_{\\text{clk}} - t_{\\text{pd}} - t_{\\text{setup}} = T_{\\text{clk}} - t_{\\text{pd}} - t_{\\text{setup}}\n$$\n$$\n\\text{MTBF}_{2} = \\frac{\\exp(T_{\\text{res}}(2)/\\tau)}{T_0 f_{\\text{clk}} f_{\\text{in}}}\n$$\n\n对于一个 3 级同步器 ($N=3$)：\n$$\nT_{\\text{res}}(3) = (3-1) T_{\\text{clk}} - t_{\\text{pd}} - t_{\\text{setup}} = 2 T_{\\text{clk}} - t_{\\text{pd}} - t_{\\text{setup}}\n$$\n$$\n\\text{MTBF}_{3} = \\frac{\\exp(T_{\\text{res}}(3)/\\tau)}{T_0 f_{\\text{clk}} f_{\\text{in}}}\n$$\n\n现在，我们可以计算比率 $R$：\n$$\nR = \\frac{\\text{MTBF}_{3}}{\\text{MTBF}_{2}} = \\frac{\\frac{\\exp(T_{\\text{res}}(3)/\\tau)}{T_0 f_{\\text{clk}} f_{\\text{in}}}}{\\frac{\\exp(T_{\\text{res}}(2)/\\tau)}{T_0 f_{\\text{clk}} f_{\\text{in}}}}\n$$\n公共分母项 $T_0 f_{\\text{clk}} f_{\\text{in}}$ 被消掉，剩下：\n$$\nR = \\frac{\\exp(T_{\\text{res}}(3)/\\tau)}{\\exp(T_{\\text{res}}(2)/\\tau)} = \\exp\\left(\\frac{T_{\\text{res}}(3) - T_{\\text{res}}(2)}{\\tau}\\right)\n$$\n让我们计算解析时间的差值：\n$$\nT_{\\text{res}}(3) - T_{\\text{res}}(2) = (2 T_{\\text{clk}} - t_{\\text{pd}} - t_{\\text{setup}}) - (T_{\\text{clk}} - t_{\\text{pd}} - t_{\\text{setup}})\n$$\n$$\nT_{\\text{res}}(3) - T_{\\text{res}}(2) = 2 T_{\\text{clk}} - T_{\\text{clk}} = T_{\\text{clk}}\n$$\n将此结果代回 $R$ 的表达式，我们得到一个简化的符号表达式：\n$$\nR = \\exp\\left(\\frac{T_{\\text{clk}}}{\\tau}\\right)\n$$\n这个结果表明，在给定模型内，增加一个同步器级所带来的 MTBF 改善是时钟周期与亚稳态时间常数之比的指数函数。\n\n为了求出 $R$ 的数值，我们必须首先根据给定的 $f_{\\text{clk}}$ 计算 $T_{\\text{clk}}$。\n给定的参数是：\n- $f_{\\text{clk}} = 250\\,\\text{MHz} = 250 \\times 10^6\\,\\text{Hz}$\n- $\\tau = 50\\,\\text{ps} = 50 \\times 10^{-12}\\,\\text{s}$\n\n首先，我们计算时钟周期 $T_{\\text{clk}}$：\n$$\nT_{\\text{clk}} = \\frac{1}{f_{\\text{clk}}} = \\frac{1}{250 \\times 10^6\\,\\text{Hz}} = 4.0 \\times 10^{-9}\\,\\text{s}\n$$\n为了保持比率 $T_{\\text{clk}}/\\tau$ 的单位一致，我们可以将 $T_{\\text{clk}}$ 表示为皮秒：\n$$\nT_{\\text{clk}} = 4.0 \\times 10^{-9}\\,\\text{s} = 4000 \\times 10^{-12}\\,\\text{s} = 4000\\,\\text{ps}\n$$\n现在我们计算无量纲的指数：\n$$\n\\frac{T_{\\text{clk}}}{\\tau} = \\frac{4000\\,\\text{ps}}{50\\,\\text{ps}} = 80\n$$\n最后，我们可以计算比率 $R$ 的值：\n$$\nR = \\exp(80) \\approx 5.540622 \\times 10^{34}\n$$\n根据要求，将结果四舍五入到三位有效数字：\n$$\nR \\approx 5.54 \\times 10^{34}\n$$\n这表明通过在同步器链中增加一个额外的触发器级，可靠性得到了极大的提高。",
            "answer": "$$ \\boxed{5.54 \\times 10^{34}} $$"
        }
    ]
}