{
    "hands_on_practices": [
        {
            "introduction": "要真正理解SR锁存器，仅仅掌握其状态表是不够的；其动态行为至关重要。输入信号必须保持的最小时间，即“保持时间”，是一个由其反馈回路内部传播延迟决定的关键参数。这个练习将指导你计算这一基本时序特性，并分析添加输出缓冲器——一种常用于增强信号驱动能力的设计选择——如何影响锁存器的内部时序。",
            "id": "3679974",
            "problem": "由两个交叉耦合的双输入或非门构成的置位-复位（SR）锁存器是最小的异步存储元件。一个双输入或非门（NOR）实现布尔函数 $Y=\\overline{A+B}$，其中 $\\overline{(\\cdot)}$ 表示逻辑非，+ 表示逻辑或。SR锁存器通过交叉耦合输出构建，使得 $Q$ 由一个输入为 $R$ 和 $\\overline{Q}$ 的或非门驱动，而 $\\overline{Q}$ 由一个输入为 $S$ 和 $Q$ 的或非门驱动。该SR锁存器是高电平有效的：置位 $S$（$S=1$）使 $Q=1$，置位 $R$（$R=1$）使 $Q=0$。\n\n假设每个或非门具有不同的从低到高和从高到低的传播延迟：输出从低到高延迟 $t_{\\text{NOR}}^{\\text{PLH}}$ 和输出从高到低延迟 $t_{\\text{NOR}}^{\\text{PHL}}$。传播延迟 $t^{\\text{PLH}}$ 指的是从最终导致输出上升的输入变化发生，到输出达到逻辑高电平所需的时间；而 $t^{\\text{PHL}}$ 是指输出下降所需的类似时间。\n\n从这些定义出发，推导无缓冲双门或非SR锁存器在置位和复位操作中的最小输入保持时间要求：即为了使锁存器达到一个自持状态（在此状态下撤销置位/复位信号不会改变存储的状态），$S$ 必须保持置位（对于置位操作）或 $R$ 必须保持置位（对于复位操作）的最小持续时间。然后，考虑一个修改后的锁存器，其中每个输出（$Q$ 和 $\\overline{Q}$）驱动一个相同的单级输出缓冲器，并且到对侧或非门的反馈连接取自缓冲器的输出（即，缓冲后的 $Q$ 反馈到 $S$ 侧的或非门，缓冲后的 $\\overline{Q}$ 反馈到 $R$ 侧的或非门）。缓冲器具有从低到高的输出延迟 $t_{\\text{BUF}}^{\\text{PLH}}$ 和从高到低的输出延迟 $t_{\\text{BUF}}^{\\text{PHL}}$。\n\n仅使用上述基本定义，确定：\n- 与无缓冲锁存器相比，当 $Q$ 的状态改变时，仅因添加输出缓冲器，在对侧或非门输入端所观察到的反馈路径延迟的最坏情况增量（假设导线延迟可忽略不计）。\n- 与无缓冲锁存器相比，因添加输出缓冲器导致的最小输入保持时间的最坏情况增量。\n\n使用以下具体数值且科学上合理的延迟：\n- 或非门从低到高延迟：$t_{\\text{NOR}}^{\\text{PLH}}=150\\ \\text{ps}$。\n- 或非门从高到低延迟：$t_{\\text{NOR}}^{\\text{PHL}}=180\\ \\text{ps}$。\n- 缓冲器从低到高延迟：$t_{\\text{BUF}}^{\\text{PLH}}=90\\ \\text{ps}$。\n- 缓冲器从高到低延迟：$t_{\\text{BUF}}^{\\text{PHL}}=110\\ \\text{ps}$。\n\n将两个最终结果以纳秒为单位表示，并四舍五入到四位有效数字。使用 LaTeX 的 $pmatrix$ 环境将两个数字以单行形式给出，顺序为：反馈延迟增量，保持时间增量。",
            "solution": "用户提供的问题已经过验证，被认为是数字逻辑设计领域中一个定义明确、有科学依据的问题。解法如下。\n\n该问题要求计算与在标准或非门置位-复位（SR）锁存器上添加输出缓冲器相关的两个量：反馈路径延迟的最坏情况增量和最小输入保持时间的最坏情况增量。\n\n首先，我们必须分析无缓冲和带缓冲两种锁存器配置的时序特性。SR锁存器由两个交叉耦合的或非门构成。或非门的布尔函数为 $Y = \\overline{A+B}$。\n\n在无缓冲锁存器中，输出定义为：\n$Q = \\overline{R + \\overline{Q}}$\n$\\overline{Q} = \\overline{S + Q}$\n\n最小输入保持时间（$t_{\\text{hold}}$）是输入信号（$S$ 或 $R$）必须保持有效的最小持续时间，以确保锁存器可靠地改变状态，并在输入信号撤销后保持在新状态。为了使状态变化变得自我维持，反馈环路必须完成其跃迁并内部“锁定”新状态。\n\n我们来分析无缓冲锁存器的**置位**操作（从 $Q=0, \\overline{Q}=1$ 跃迁到 $Q=1, \\overline{Q}=0$）。\n$1$. 在时间 $t=0$ 时，$S$ 从 $0$ 跃迁到 $1$（此时 $R=0$）。\n$2$. 产生 $\\overline{Q}$ 的底部或非门的输入变为 $S=1$ 和 $Q=0$。其输出 $\\overline{Q}$ 将从 $1$ 跃迁到 $0$。这是一个从高到低的跃迁，需要时间 $t_{\\text{NOR}}^{\\text{PHL}}$。\n$3$. 新的 $\\overline{Q}=0$ 值被反馈到顶部的或非门。其输入现在是 $R=0$ 和 $\\overline{Q}=0$。输出 $Q$ 将从 $0$ 跃迁到 $1$。这是一个从低到高的跃迁，需要额外的时间 $t_{\\text{NOR}}^{\\text{PLH}}$。\n$4$. 在总时间 $t_{\\text{NOR}}^{\\text{PHL}} + t_{\\text{NOR}}^{\\text{PLH}}$ 后，输出 $Q$ 变为 $1$。这个新的 $Q$ 值被反馈回底部的或非门。此时，底部或非门的输入是 $S$ 和 $Q=1$。其输出为 $\\overline{Q} = \\overline{S+1} = 0$。如果现在将 $S$ 撤销为 $0$，输入变为 $S=0, Q=1$，输出仍为 $\\overline{Q} = \\overline{0+1} = 0$。新状态是稳定的。\n因此，最小保持时间是信号传播通过两个门以完成环路所需的时间。\n$t_{\\text{hold, unbuffered}} = t_{\\text{NOR}}^{\\text{PHL}} + t_{\\text{NOR}}^{\\text{PLH}}$。\n对复位操作（$R=1$）的对称分析得出相同的结果。\n\n现在，考虑带有输出缓冲器的修改后锁存器。反馈连接取自缓冲器的输出。设缓冲后的输出为 $Q_{\\text{buf}}$ 和 $\\overline{Q}_{\\text{buf}}$。\n电路方程变为：\n$Q = \\overline{R + \\overline{Q}_{\\text{buf}}}$\n$\\overline{Q} = \\overline{S + Q_{\\text{buf}}}$\n并且缓冲器的输出是锁存器输出的延迟版本：$Q_{\\text{buf}}(t) = Q(t - t_{\\text{BUF}})$ 和 $\\overline{Q}_{\\text{buf}}(t) = \\overline{Q}(t - t_{\\text{BUF}})$，其中具体的缓冲器延迟（$t_{\\text{BUF}}^{\\text{PLH}}$ 或 $t_{\\text{BUF}}^{\\text{PHL}}$）取决于跃迁类型。\n\n反馈环路现在包含两个或非门和两个缓冲器。最小保持时间是输入引发的变化传播通过整个环路以建立自持状态所需的时间。我们来追踪带缓冲锁存器的置位操作（$S=1$）。\n$1$. $S$ 从 $0 \\to 1$ 跃迁。\n$2$. 经过 $t_{\\text{NOR}}^{\\text{PHL}}$ 的延迟后，$\\overline{Q}$ 从 $1 \\to 0$ 跃迁。\n$3$. 经过额外的 $t_{\\text{BUF}}^{\\text{PHL}}$ 延迟后，$\\overline{Q}_{\\text{buf}}$ 从 $1 \\to 0$ 跃迁。\n$4$. 经过额外的 $t_{\\text{NOR}}^{\\text{PLH}}$ 延迟后，$Q$ 从 $0 \\to 1$ 跃迁。\n$5$. 经过额外的 $t_{\\text{BUF}}^{\\text{PLH}}$ 延迟后，$Q_{\\text{buf}}$ 从 $0 \\to 1$ 跃迁。\n一旦 $Q_{\\text{buf}}=1$ 的值到达底部的或非门，状态就变为自持的，因为即使在 $S$ 被撤销后，这也会保持 $\\overline{Q}$ 为低电平。最小保持时间是完成这整个序列所需的总时间。\n$t_{\\text{hold, buffered}} = t_{\\text{NOR}}^{\\text{PHL}} + t_{\\text{BUF}}^{\\text{PHL}} + t_{\\text{NOR}}^{\\text{PLH}} + t_{\\text{BUF}}^{\\text{PLH}}$。\n这可以重新排列为：\n$t_{\\text{hold, buffered}} = (t_{\\text{NOR}}^{\\text{PLH}} + t_{\\text{NOR}}^{\\text{PHL}}) + (t_{\\text{BUF}}^{\\text{PLH}} + t_{\\text{BUF}}^{\\text{PHL}})$。\n\n有了这些符号表达式，我们现在可以回答这两个问题。\n\n**1. 反馈路径延迟的最坏情况增量**\n反馈路径是从一个内部锁存器输出（例如 $Q$）到对侧或非门输入的连接。在无缓冲锁存器中，此延迟假定为 $0$。在带缓冲的锁存器中，此路径包含一个缓冲器，因此延迟是该缓冲器的传播延迟。延迟的增量 $\\Delta t_{\\text{feedback}}$ 因此就是缓冲器的延迟。问题要求的是最坏情况（即最大）增量。一个缓冲器有两个延迟参数，$t_{\\text{BUF}}^{\\text{PLH}}$ 和 $t_{\\text{BUF}}^{\\text{PHL}}$。最坏情况增量是这两个值中较大的一个。\n$\\Delta t_{\\text{feedback}} = \\max(t_{\\text{BUF}}^{\\text{PLH}}, t_{\\text{BUF}}^{\\text{PHL}})$\n\n使用给定值：\n$t_{\\text{BUF}}^{\\text{PLH}} = 90\\ \\text{ps}$\n$t_{\\text{BUF}}^{\\text{PHL}} = 110\\ \\text{ps}$\n$\\Delta t_{\\text{feedback}} = \\max(90\\ \\text{ps}, 110\\ \\text{ps}) = 110\\ \\text{ps}$。\n转换为纳秒：$110\\ \\text{ps} = 0.110\\ \\text{ns}$。四舍五入到四位有效数字，结果是 $0.1100\\ \\text{ns}$。\n\n**2. 最小输入保持时间的最坏情况增量**\n保持时间的增量 $\\Delta t_{\\text{hold}}$ 是带缓冲锁存器和无缓冲锁存器的保持时间之差。\n$\\Delta t_{\\text{hold}} = t_{\\text{hold, buffered}} - t_{\\text{hold, unbuffered}}$\n$\\Delta t_{\\text{hold}} = ((t_{\\text{NOR}}^{\\text{PLH}} + t_{\\text{NOR}}^{\\text{PHL}}) + (t_{\\text{BUF}}^{\\text{PLH}} + t_{\\text{BUF}}^{\\text{PHL}})) - (t_{\\text{NOR}}^{\\text{PLH}} + t_{\\text{NOR}}^{\\text{PHL}})$\n$\\Delta t_{\\text{hold}} = t_{\\text{BUF}}^{\\text{PLH}} + t_{\\text{BUF}}^{\\text{PHL}}$\n对置位和复位操作的分析得出相同的表达式，因此这是唯一的情况，也就是最坏情况。保持时间的增量是一个缓冲器的从低到高和从高到低传播延迟之和，这代表了在完整的反馈环路中由两个缓冲器增加的总延迟。\n\n使用给定值：\n$\\Delta t_{\\text{hold}} = 90\\ \\text{ps} + 110\\ \\text{ps} = 200\\ \\text{ps}$。\n转换为纳秒：$200\\ \\text{ps} = 0.200\\ \\text{ns}$。四舍五入到四位有效数字，结果是 $0.2000\\ \\text{ns}$。\n\n两个最终结果是反馈延迟的增量（$0.1100\\ \\text{ns}$）和保持时间的增量（$0.2000\\ \\text{ns}$）。",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n0.1100  0.2000\n\\end{pmatrix}\n}\n$$"
        },
        {
            "introduction": "标准的SR锁存器存在一个“非法”输入状态（$S=R=1$），这会导致不可预测的行为。在实际系统中，解决这种模糊性对于保证可靠性至关重要。本实践将挑战你从分析者转变为设计者，通过修改基本锁存器电路，在输入冲突时确定性地强制执行一个优先级（在此案例中为“置位”优先），从而创造一个更健壮、更可预测的存储元件。",
            "id": "3680037",
            "problem": "考虑一个由两个交叉耦合的或非 (NOR) 门实现的置位-复位 (SR) 锁存器。每个 NOR 门有两个输入：左侧的 NOR 门接收外部复位输入 $R$ 和反馈 $\\overline{Q}$ 以产生 $Q$，右侧的 NOR 门接收外部置位输入 $S$ 和反馈 $Q$ 以产生 $\\overline{Q}$。根据或非门的定义，每个 NOR 门输出其输入的析取的逻辑非。在标准的高电平有效SR语义下，输入组合 $S=1, R=0$ 和 $S=0, R=1$ 分别置位和复位锁存器，而 $S=R=0$ 则保持状态。情况 $S=R=1$ 会强制 $Q$ 和 $\\overline{Q}$ 均为低电平，这被认为是非法的，因为它破坏了互补关系，并且随后的释放可能导致不确定的解析结果。\n\n假设输入 $S$ 和 $R$ 由上游逻辑生成，并且由于瞬时险象或异步行为，可能会出现 $S=R=1$ 的短暂区间。要求你在门级上修改该锁存器，使得任何临时的 $S=R=1$ 区间都能确定性地产生一个置位结果（即强制S优先），而不是允许一个不确定的解析结果。目标是使用一个附加的逻辑元件来使交叉耦合环路偏向于 $S$，而不是改变 NOR 门对的内部 SR 结构。\n\n假设以下时序模型：\n- 每个 NOR 门的传播延迟为 $t_{\\mathrm{pd,NOR}}$。\n- 一个反相器的传播延迟为 $t_{\\mathrm{pd,INV}}$。\n- 一个双输入与门或或门的传播延迟分别为 $t_{\\mathrm{pd,AND}}$ 或 $t_{\\mathrm{pd,OR}}$。\n- 所有门都是惯性的，上升/下降延迟等于该门指定的 $t_{\\mathrm{pd}}$。\n\n偏置条件和强度定义如下：\n- 如果对于任何使 $S=R=1$ 的 $S$ 和 $R$ 的同时上升沿（形成宽度为 $\\tau$ 的脉冲），锁存器的响应方式能确定性地确保 $Q$ 转换为 $1$ 且 $\\overline{Q}$ 转换为 $0$（前提是 $\\tau$ 高于一个可计算的阈值），那么该修改强制执行了S优先。\n- 偏置强度由一个非负时间裕度 $\\Delta$ 来量化，它表示在同时断言的情况下，有利于 $S$ 的效应比任何可能的 $R$ 对环路的影响早多少。较大的 $\\Delta$ 意味着对 $R$ 影响的抗扰度更强。\n\n哪个选项正确地指定了一个实现S优先的门级附加电路，并给出了关于 $\\Delta$ 和最小脉冲宽度 $\\tau_{\\min}$（为保证在临时 $S=R=1$ 区间内 $Q$ 将被置位所必需）的正确量化条件，用 $t_{\\mathrm{pd,NOR}}$、$t_{\\mathrm{pd,INV}}$ 和 $t_{\\mathrm{pd,AND}}$ 表示？\n\nA. 通过使用一个作用于 $S$ 的反相器和一个双输入与门形成 $R' = R \\land \\lnot S$ 来门控复位输入，将 $R'$ 送到左侧的 NOR 门，并将 $S$ 直接送到右侧的 NOR 门。在 $S=R=1$ 的同时上升沿下，条件 $t_{\\mathrm{pd,INV}}  t_{\\mathrm{pd,AND}}$ 保证 $R'$ 在整个断言期间保持为 $0$，产生一个偏置裕度 $\\Delta = t_{\\mathrm{pd,AND}} - t_{\\mathrm{pd,INV}} \\ge 0$。在 $R'$ 被抑制的情况下，保证 $Q$ 置位的最小脉冲宽度是 $\\tau_{\\min} = 2\\,t_{\\mathrm{pd,NOR}}$。\n\nB. 通过使用一个作用于 $R$ 的反相器和一个双输入与门形成 $S' = S \\land \\lnot R$ 来门控置位输入，将 $S'$ 送到右侧的 NOR 门，并将 $R$ 直接送到左侧的 NOR 门。在 $S=R=1$ 的同时上升沿下，条件 $t_{\\mathrm{pd,INV}}  t_{\\mathrm{pd,AND}}$ 产生一个偏置裕度 $\\Delta = t_{\\mathrm{pd,AND}} - t_{\\mathrm{pd,INV}} \\ge 0$ 和最小脉冲宽度 $\\tau_{\\min} = 2\\,t_{\\mathrm{pd,NOR}}$，这强制执行了S优先。\n\nC. 添加一个双输入或门形成 $S' = S \\lor R$，将 $S'$ 送到右侧的 NOR 门，并将 $R$ 直接送到左侧的 NOR 门。S优先由偏置裕度 $\\Delta = t_{\\mathrm{pd,OR}}$ 和 $\\tau_{\\min} = t_{\\mathrm{pd,NOR}}$ 保证。\n\nD. 不添加任何额外门，通过调整门的尺寸使左侧 NOR 门（产生 $Q$ 的门）的传播延迟为 $t_{\\mathrm{pd,NOR},Q}$，右侧 NOR 门（产生 $\\overline{Q}$ 的门）的传播延迟为 $t_{\\mathrm{pd,NOR},\\overline{Q}}$，且满足 $t_{\\mathrm{pd,NOR},Q}  t_{\\mathrm{pd,NOR},\\overline{Q}}$，从而使环路偏斜。这确保了S优先，偏置裕度为 $\\Delta = t_{\\mathrm{pd,NOR},\\overline{Q}} - t_{\\mathrm{pd,NOR},Q}$，且 $\\tau_{\\min} = t_{\\mathrm{pd,NOR},Q} + t_{\\mathrm{pd,NOR},\\overline{Q}}$。",
            "solution": "我们从或非 (NOR) 门的功能定义开始：对于输入 $x$ 和 $y$，输出为 $\\lnot(x \\lor y)$。一对交叉耦合的 NOR 门构成了传统的有源高电平置位-复位 (SR) 锁存器，其方程为\n$$\nQ = \\lnot\\big(R \\lor \\overline{Q}\\big), \\quad \\overline{Q} = \\lnot\\big(S \\lor Q\\big).\n$$\n对于 $S=1, R=0$，右侧的 NOR 门经过一个传播延迟 $t_{\\mathrm{pd,NOR}}$ 后强制 $\\overline{Q}=0$，然后左侧的 NOR 门再经过一个 $t_{\\mathrm{pd,NOR}}$ 的延迟后强制 $Q=1$。对称地，对于 $S=0, R=1$，$Q$ 复位为 $0$。当 $S=R=0$ 时，两个输入都处于空闲状态，锁存器保持其先前状态。当 $S=R=1$ 时，两个 NOR 门的输出都被驱动为 $0$（因为每个门都看到一个有效的外部输入），破坏了互补性并产生了一个非法状态。在释放到 $S=R=0$ 时，两个门都可能尝试切换到高电平，其解析结果取决于微小的不对称性，无法提供确定性的优先级。\n\n为了在临时的 $S=R=1$ 期间确定性地强制S优先，修改必须确保在 $S$ 断言有效时，复位的影响要么被逻辑上抑制，要么被充分延迟，以使环路行为等同于 $R=0$。在逻辑层面上，最直接的方法是用 $\\lnot S$ 来门控 $R$，这样只要 $S$ 为高电平，$R$ 就会被有效阻塞。\n\n选项 A 提出了 $R' = R \\land \\lnot S$，通过一个作用于 $S$ 的反相器和一个双输入与门实现，将 $R'$ 送到左侧的 NOR 门，而 $S$ 直接驱动右侧的 NOR 门。我们分析其结构的正确性和时序。\n\n- 结构效应：在 $S=1$ 的情况下，$R'=R \\land \\lnot 1 = R \\land 0 = 0$，即无论 $R$ 为何值，左侧 NOR 门的外部输入都被抑制。因此，即使 $S=R=1$，锁存器也不会进入两个输出都被外部强制为低电平的非法状态。相反，右侧的 NOR 门看到 $S=1$ 并驱动 $\\overline{Q}\\rightarrow 0$，然后通过左侧的 NOR 门驱动 $Q\\rightarrow 1$，实现了期望的置位动作和S优先。\n\n- 时序和偏置裕度 $\\Delta$：考虑在时间 $t=0$ 时 $S$ 和 $R$ 的同时上升沿产生 $S=R=1$。在作用于 $S$ 的反相器传播延迟完成之前，其输出 $\\lnot S$ 在长达 $t_{\\mathrm{pd,INV}}$ 的时间内仍为 $1$，因此与门有可能在其自身延迟后输出 $R' = 1 \\land 1 = 1$。为保证 $R'$ 永不为高电平，反相后的 $S$ 必须在与门能输出高电平之前到达与门。所需的条件是\n$$\nt_{\\mathrm{pd,INV}}  t_{\\mathrm{pd,AND}},\n$$\n这产生一个非负的偏置裕度\n$$\n\\Delta = t_{\\mathrm{pd,AND}} - t_{\\mathrm{pd,INV}} \\ge 0.\n$$\n直观地，$\\Delta$ 量化了当 $S$ 和 $R$ 一同上升时，抑制信号 $\\lnot S$ 比通过与门的 $R$ 的传播早多少时间来阻止它。\n\n- 最小脉冲宽度 $\\tau_{\\min}$：在 $R'$ 被抑制的情况下，锁存器的置位沿着 $S$-到-$\\overline{Q}$-到-$Q$ 的路径进行。右侧的 NOR 门在 $t_{\\mathrm{pd,NOR}}$ 延迟后驱动 $\\overline{Q}\\rightarrow 0$，然后左侧的 NOR 门再经过一个 $t_{\\mathrm{pd,NOR}}$ 的延迟后驱动 $Q\\rightarrow 1$。因此，在 $R'$ 保持为 $0$ 的期间（由上述偏置条件保证），$S=1$ 断言所需的持续时间是\n$$\n\\tau_{\\min} = 2\\,t_{\\mathrm{pd,NOR}}.\n$$\n任何宽度 $\\tau \\ge \\tau_{\\min}$ 的同时 $S=R=1$ 脉冲都会确定性地置位 $Q$。\n\n因此，选项 A 提出了正确的门级附加电路和量化条件。\n\n我们现在评估其他选项。\n\n选项 B 提出了 $S' = S \\land \\lnot R$ 和直接输入 $R$。这个结构在 $R$ 为高电平时抑制 $S$，这与S优先相反。在 $S=R=1$ 的情况下，即使 $t_{\\mathrm{pd,INV}}  t_{\\mathrm{pd,AND}}$，$S' = 1 \\land \\lnot 1 = 0$，所以右侧的 NOR 门不会收到置位请求，而左侧的 NOR 门接收到 $R=1$ 并驱动 $Q\\rightarrow 0$，强制执行复位。所声称的S优先和相关的时序裕度是不正确的。结论：不正确。\n\n选项 C 提出了 $S' = S \\lor R$，将 $S'$ 送到右侧的 NOR 门，并将 $R$ 直接送到左侧的 NOR 门。在 $R=1$ 的情况下，即使 $S=0$，我们得到 $S' = 0 \\lor 1 = 1$，这会在仅请求复位时也强制置位。这破坏了SR语义，并且没有实现一个仅在非法的 $S=R=1$ 条件下才激活的优先级；相反，它破坏了在合法的 $S=0, R=1$ 条件下的功能。所声称的偏置裕度 $\\Delta = t_{\\mathrm{pd,OR}}$ 不是在同时断言下对 $R$ 抗扰度的正确度量，并且 $\\tau_{\\min} = t_{\\mathrm{pd,NOR}}$ 忽略了从 $\\overline{Q}$ 传播到 $Q$ 所需的第二个 NOR 延迟。结论：不正确。\n\n选项 D 建议不添加门，而是通过使 NOR 门对具有不对称的传播延迟。虽然调整尺寸可以在从 $S=R=1$ 释放后（当输入返回到 $0$ 时）偏置解析结果，但在非法区间本身，两个 NOR 门的输出都被外部高电平强制为 $0$，因此直到 $S$ 和 $R$ 撤销断言，$Q$ 都不能被置位。因此，这并没有在 $S=R=1$ 的情况下强制立即置位；它只影响释放后的竞争行为。此外，所提出的 $\\tau_{\\min}$ 为 $t_{\\mathrm{pd,NOR},Q} + t_{\\mathrm{pd,NOR},\\overline{Q}}$ 并不对应于在非法区间内的保证置位（因为在此期间输出始终被强制为低电平），并且所声称的S优先也无法保证，除非将输入释放时序与内部时滞相关联，而该选项并未指明这一点。结论：不正确。\n\n因此，正确的选项是 A，它既保留了合法输入的SR语义，又通过对 $R$ 的逻辑抑制，在临时的 $S=R=1$ 期间确定性地强制S优先，并提供了正确的时序条件和脉冲宽度阈值。",
            "answer": "$$\\boxed{A}$$"
        },
        {
            "introduction": "理想的逻辑图假设信号瞬时传输，但在现实中，导线有长度，因此会引入延迟。当“置位”和“复位”信号的延迟不匹配时——这种现象称为时钟偏移（skew）——即使控制逻辑设计完美，也可能出现时序风险。这个问题弥合了抽象逻辑与物理现实之间的鸿沟，要求你量化在电路失效前可以容忍多大的物理导线长度差异。",
            "id": "3679978",
            "problem": "一个由交叉耦合的或非门构成的置位-复位 (SR) 锁存器，由两个控制器输出驱动，即置位输入 $S$ 和复位输入 $R$。控制器保证这两个信号在其源引脚处永远不会同时被置为高电平。在控制器处，每次互斥的置位/复位操作之间的转换都由一个最小非重叠时间裕量 $m$ 分隔：对于置位到复位的转换，$S$ 为高电平并在时间 $t=T_{0}$ 返回低电平，然后在时间 $t=T_{0}+m$ 将 $R$ 驱动为高电平；对于复位到置位的转换，$R$ 为高电平并在时间 $t=T_{1}$ 返回低电平，然后在时间 $t=T_{1}+m$ 将 $S$ 驱动为高电平。将 $S$ 和 $R$ 信号布线到锁存器的导线分别引入了纯传输延迟 $\\tau_{S}$ 和 $\\tau_{R}$，其中 $\\tau_{S}=\\tau_{R}+d$，$d\\ge 0$ 模拟了 $S$ 路径比 $R$ 路径长一个延迟差 $d$ 的情况。锁存器中的每个或非门都用一个惯性传播延迟 $t_{g}$ 来建模：输入变化必须持续至少 $t_{g}$ 的时间才能影响输出。\n\n仅从 SR 锁存器行为、传输和惯性延迟模型以及非重叠裕量 $m$ 的定义出发，完成以下任务：\n- 对于置位到复位的转换，推导 $d$ 需满足的精确条件，在该条件下，锁存器的输入引脚会经历一个暂时的禁止状态（锁存器输入端同时出现 $S=1$ 和 $R=1$），且该状态持续时间足够长，能够被或非门检测到。\n- 简要解释在同样的 $d\\ge 0$ 假设下，反向转换（复位到置位）是否会产生这种暂时的禁止状态，并说明原因。\n- 现在假设互连线的单位长度延迟为 $k=50\\ \\text{ps/mm}$，即 $k=0.050\\ \\text{ns/mm}$。控制器保证 $m=0.60\\ \\text{ns}$，每个或非门的延迟为 $t_{g}=0.15\\ \\text{ns}$。将临界边界视为可接受，计算 $S$ 和 $R$ 路径之间允许的最大物理长度失配 $\\Delta L_{\\max}$（以毫米为单位），以确保在置位到复位的转换过程中，门电路不会检测到暂时的禁止输入。\n\n此外，提出两种在实践中最小化 $d$ 的物理布局和布线策略。\n\n将最终数值答案表示为 $\\Delta L_{\\max}$ 的单个值，单位为毫米，并四舍五入到四位有效数字。",
            "solution": "此问题被认为是有效的，因为它科学地基于数字逻辑和时序分析的原理，问题阐述清晰、客观，并包含一套完整且一致的给定条件。因此，我们可以开始求解。\n\n设控制器源端的信号表示为 $S_{\\text{src}}(t)$ 和 $R_{\\text{src}}(t)$，锁存器输入引脚处的信号表示为 $S_{\\text{latch}}(t)$ 和 $R_{\\text{latch}}(t)$。源信号和锁存器信号之间的关系由纯传输延迟 $\\tau_{S}$ 和 $\\tau_{R}$ 决定：\n$$S_{\\text{latch}}(t) = S_{\\text{src}}(t - \\tau_{S})$$\n$$R_{\\text{latch}}(t) = R_{\\text{src}}(t - \\tau_{R})$$\n给定延迟之间的关系为 $\\tau_{S} = \\tau_{R} + d$，其中 $d \\ge 0$。\n\n首先，我们推导在置位到复位转换期间，可检测的禁止状态出现的条件。\n在置位到复位的转换中，锁存器初始处于置位状态（$S=1, R=0$）。控制器先将 $S$ 置为无效（低电平），然后将 $R$ 置为有效（高电平）。\n$S_{\\text{src}}$ 的下降沿发生在时间 $t = T_{0}$。该边沿在时间 $t_{S\\downarrow}$ 到达锁存器的 $S$ 输入端：\n$$t_{S\\downarrow} = T_{0} + \\tau_{S}$$\n经过一个非重叠裕量 $m$ 后，$R_{\\text{src}}$ 的上升沿发生在时间 $t = T_{0} + m$。该边沿在时间 $t_{R\\uparrow}$ 到达锁存器的 $R$ 输入端：\n$$t_{R\\uparrow} = (T_{0} + m) + \\tau_{R}$$\n如果 $R$ 的上升沿在 $S$ 的下降沿之前到达，锁存器输入端就会出现暂时的禁止状态（$S_{\\text{latch}}=1$ 且 $R_{\\text{latch}}=1$）。也就是说，时间区间 $[t_{R\\uparrow}, t_{S\\downarrow})$ 必须非空。这等价于条件 $t_{R\\uparrow}  t_{S\\downarrow}$。\n代入到达时间的表达式：\n$$(T_{0} + m) + \\tau_{R}  T_{0} + \\tau_{S}$$\n$$\\implies m + \\tau_{R}  \\tau_{S}$$\n使用给定的关系 $\\tau_{S} = \\tau_{R} + d$：\n$$m + \\tau_{R}  \\tau_{R} + d$$\n$$\\implies m  d$$\n这是发生重叠的条件。此重叠的持续时间 $\\Delta t_{\\text{overlap}}$（即两个输入均为高电平的时间）是两个边沿到达时间的差值：\n$$\\Delta t_{\\text{overlap}} = t_{S\\downarrow} - t_{R\\uparrow} = (T_{0} + \\tau_{S}) - ((T_{0} + m) + \\tau_{R}) = \\tau_{S} - \\tau_{R} - m$$\n代入 $\\tau_{S} - \\tau_{R} = d$：\n$$\\Delta t_{\\text{overlap}} = d - m$$\n锁存器的或非门具有惯性延迟 $t_{g}$，这意味着禁止输入状态必须持续至少这么长时间才能被检测到并影响锁存器的状态。因此，可检测的禁止状态的条件是：\n$$\\Delta t_{\\text{overlap}} \\ge t_{g}$$\n$$d - m \\ge t_{g}$$\n因此，$d$ 的精确条件是：\n$$d \\ge m + t_{g}$$\n\n其次，我们分析反向转换（复位到置位）。\n在复位到置位的转换中，锁存器初始处于复位状态（$S=0, R=1$）。控制器先将 $R$ 置为无效（低电平），然后将 $S$ 置为有效（高电平）。\n$R_{\\text{src}}$ 的下降沿发生在时间 $t = T_{1}$。该边沿在时间 $t_{R\\downarrow}$ 到达锁存器的 $R$ 输入端：\n$$t_{R\\downarrow} = T_{1} + \\tau_{R}$$\n经过裕量 $m$ 后，$S_{\\text{src}}$ 的上升沿发生在时间 $t = T_{1} + m$。该边沿在时间 $t_{S\\uparrow}$ 到达锁存器的 $S$ 输入端：\n$$t_{S\\uparrow} = (T_{1} + m) + \\tau_{S}$$\n如果 $S$ 的上升沿在 $R$ 的下降沿之前到达，就会发生禁止状态（$t_{S\\uparrow}  t_{R\\downarrow}$）：\n$$(T_{1} + m) + \\tau_{S}  T_{1} + \\tau_{R}$$\n$$\\implies m + \\tau_{S}  \\tau_{R}$$\n使用关系 $\\tau_{S} = \\tau_{R} + d$：\n$$m + (\\tau_{R} + d)  \\tau_{R}$$\n$$\\implies m + d  0$$\n根据定义，非重叠裕量 $m$ 是一个正的时间段，因此 $m > 0$。我们还已知延迟差 $d \\ge 0$。因此，和 $m+d$ 严格为正。条件 $m + d  0$ 永远不能满足。因此，在给定约束条件 $S$ 路径至少与 $R$ 路径一样长（$d \\ge 0$）的情况下，复位到置位的转换过程中不会发生暂时的禁止状态。$S$ 线路上的额外延迟 $d$ 进一步分开了 $S$ 上升沿和 $R$ 下降沿的到达时间，增加了此次转换的时序裕量。\n\n第三，我们计算允许的最大物理长度失配 $\\Delta L_{\\text{max}}$。\n问题陈述将临界边界视为可接受。在置位到复位的转换过程中，可检测的禁止状态的临界边界是 $d = m + t_{g}$。这定义了最大允许延迟差 $d_{\\text{max}}$：\n$$d_{\\text{max}} = m + t_{g}$$\n传输延迟 $\\tau$ 通过单位长度延迟 $k$ 与物理布线长度 $L$ 相关，即 $\\tau = kL$。因此，延迟差 $d$ 与长度失配 $\\Delta L = L_{S} - L_{R}$ 的关系如下：\n$$d = \\tau_{S} - \\tau_{R} = kL_{S} - kL_{R} = k(L_{S} - L_{R}) = k \\Delta L$$\n最大允许长度失配 $\\Delta L_{\\text{max}}$ 对应于 $d_{\\text{max}}$：\n$$\\Delta L_{\\text{max}} = \\frac{d_{\\text{max}}}{k} = \\frac{m + t_{g}}{k}$$\n代入给定的数值：$m = 0.60\\ \\text{ns}$，$t_{g} = 0.15\\ \\text{ns}$，以及 $k = 0.050\\ \\text{ns/mm}$。\n$$d_{\\text{max}} = 0.60\\ \\text{ns} + 0.15\\ \\text{ns} = 0.75\\ \\text{ns}$$\n$$\\Delta L_{\\text{max}} = \\frac{0.75\\ \\text{ns}}{0.050\\ \\text{ns/mm}} = 15\\ \\text{mm}$$\n四舍五入到四位有效数字，结果是 $15.00\\ \\text{mm}$。\n\n最后，在实践中最小化 $d$ 的两种物理布局和布线策略是：\n1.  **组件共置与朝向**：在印刷电路板（PCB）或集成电路（IC）上，将控制器和 SR 锁存器尽可能彼此靠近放置。此外，调整组件的朝向，使控制器上用于 $S$ 和 $R$ 的输出引脚与锁存器上相应的输入引脚对称分布。这可以最小化两条路径的直线距离，从而更容易匹配它们最终的布线长度。\n2.  **等长布线**：布局后，明确匹配 $S$ 和 $R$ 路径的物理走线长度。如果某条路径（在此例中为 $R$ 路径）天生较短，布线软件或设计者会使用蛇形或“长号形”走线模式为其增加补偿长度。这种技术确保 $L_S \\approx L_R$，从而使延迟差 $d = k(L_S - L_R)$ 接近于零，为防止时序风险提供最大可能裕量。",
            "answer": "$$\\boxed{15.00}$$"
        }
    ]
}