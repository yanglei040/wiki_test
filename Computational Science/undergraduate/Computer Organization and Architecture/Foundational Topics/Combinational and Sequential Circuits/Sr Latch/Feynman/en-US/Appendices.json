{
    "hands_on_practices": [
        {
            "introduction": "To truly understand a sequential circuit, we must first analyze its fundamental timing characteristics. This practice guides you through calculating the minimum input hold time for an SR latch, a critical parameter determined by the propagation delays within its feedback loop. By examining how signals travel through the cross-coupled NOR gates, you will gain a quantitative understanding of how the physical speed of the gates dictates the latch's ability to reliably store information .",
            "id": "3679974",
            "problem": "An Set-Reset (SR) latch constructed from two cross-coupled two-input NOR gates is the minimal asynchronous storage element. A two-input NOT-OR (NOR) gate implements the Boolean function $Y=\\overline{A+B}$, where $\\overline{(\\cdot)}$ denotes logical negation and $+$ denotes logical disjunction. The SR latch is built by cross-coupling the outputs so that $Q$ is driven by a NOR whose inputs are $R$ and $\\overline{Q}$, and $\\overline{Q}$ is driven by a NOR whose inputs are $S$ and $Q$. The SR latch is active-high: asserting $S$ ($S=1$) sets $Q=1$ and asserting $R$ ($R=1$) resets $Q=0$.\n\nAssume each NOR gate has distinct low-to-high and high-to-low propagation delays: low-to-high output delay $t_{\\text{NOR}}^{\\text{PLH}}$ and high-to-low output delay $t_{\\text{NOR}}^{\\text{PHL}}$. A propagation delay $t^{\\text{PLH}}$ is the time from an input change that ultimately causes the output to rise to the time the output reaches logic high, and $t^{\\text{PHL}}$ is the analogous time for the output to fall.\n\nStarting from these definitions, derive the minimum input hold time requirement of the unbuffered two-gate NOR SR latch for both the set and reset operations: the minimum duration that $S$ must remain asserted (for set) or that $R$ must remain asserted (for reset) for the latch to reach a self-sustaining state such that removing the assertion does not change the stored state. Then consider a modified latch in which each output ($Q$ and $\\overline{Q}$) drives an identical single-stage output buffer, and the feedback connections into the opposite NOR gate are taken after the buffer outputs (that is, the buffered $Q$ is fed into the $S$-side NOR gate, and the buffered $\\overline{Q}$ is fed into the $R$-side NOR gate). The buffers have low-to-high output delay $t_{\\text{BUF}}^{\\text{PLH}}$ and high-to-low output delay $t_{\\text{BUF}}^{\\text{PHL}}$.\n\nUsing only the fundamental definitions above, determine:\n- The worst-case increase in the feedback path delay as seen by the input of the opposite NOR gate when the state of $Q$ changes, due solely to adding the output buffers compared to the unbuffered latch (assume wire delay is negligible).\n- The worst-case increase in the minimum input hold time due to adding the output buffers, compared to the unbuffered latch.\n\nUse the following numerically specified, scientifically plausible delays:\n- NOR gate low-to-high delay: $t_{\\text{NOR}}^{\\text{PLH}}=150\\ \\text{ps}$.\n- NOR gate high-to-low delay: $t_{\\text{NOR}}^{\\text{PHL}}=180\\ \\text{ps}$.\n- Buffer low-to-high delay: $t_{\\text{BUF}}^{\\text{PLH}}=90\\ \\text{ps}$.\n- Buffer high-to-low delay: $t_{\\text{BUF}}^{\\text{PHL}}=110\\ \\text{ps}$.\n\nExpress both final results in nanoseconds and round your answers to four significant figures. Provide both numbers as a single row using the LaTeX $pmatrix$ environment, in the order: feedback delay increase, hold time increase.",
            "solution": "The problem asks for two quantities related to adding output buffers to a standard NOR-gate Set-Reset (SR) latch: the worst-case increase in the feedback path delay and the worst-case increase in the minimum input hold time.\n\nFirst, we must analyze the timing characteristics of both the unbuffered and buffered latch configurations. The SR latch is constructed from two cross-coupled NOR gates. The Boolean function for a NOR gate is $Y = \\overline{A+B}$.\n\nIn the unbuffered latch, the outputs are defined as:\n$Q = \\overline{R + \\overline{Q}}$\n$\\overline{Q} = \\overline{S + Q}$\n\nThe minimum input hold time ($t_{\\text{hold}}$) is the minimum duration an input signal ($S$ or $R$) must be asserted to ensure that the latch reliably changes state and remains in the new state after the input is de-asserted. For the state change to become self-sustaining, the feedback loop must complete its transition and \"lock\" the new state internally.\n\nLet's analyze the **set** operation for the unbuffered latch (transition from $Q=0, \\overline{Q}=1$ to $Q=1, \\overline{Q}=0$).\n$1$. At time $t=0$, $S$ transitions from $0$ to $1$ (while $R=0$).\n$2$. The inputs to the bottom NOR gate (producing $\\overline{Q}$) become $S=1$ and $Q=0$. The output $\\overline{Q}$ will transition from $1$ to $0$. This is a high-to-low transition, which takes a time of $t_{\\text{NOR}}^{\\text{PHL}}$.\n$3$. The new value $\\overline{Q}=0$ is fed to the top NOR gate. Its inputs are now $R=0$ and $\\overline{Q}=0$. The output $Q$ will transition from $0$ to $1$. This is a low-to-high transition, which takes an additional time of $t_{\\text{NOR}}^{\\text{PLH}}$.\n$4$. At a total time of $t_{\\text{NOR}}^{\\text{PHL}} + t_{\\text{NOR}}^{\\text{PLH}}$, the output $Q$ becomes $1$. This new value of $Q$ is fed back to the bottom NOR gate. At this point, the inputs to the bottom gate are $S$ and $Q=1$. Its output $\\overline{Q} = \\overline{S+1} = 0$. If $S$ is now de-asserted to $0$, the inputs become $S=0, Q=1$, and the output remains $\\overline{Q} = \\overline{0+1} = 0$. The new state is stable.\nTherefore, the minimum hold time is the time required for the signal to propagate through both gates, completing the loop.\n$t_{\\text{hold, unbuffered}} = t_{\\text{NOR}}^{\\text{PHL}} + t_{\\text{NOR}}^{\\text{PLH}}$.\nA symmetric analysis for the reset operation ($R=1$) yields the same result.\n\nNow, consider the modified latch with output buffers. The feedback connections are taken from the buffer outputs. Let the buffered outputs be $Q_{\\text{buf}}$ and $\\overline{Q}_{\\text{buf}}$.\nThe circuit equations become:\n$Q = \\overline{R + \\overline{Q}_{\\text{buf}}}$\n$\\overline{Q} = \\overline{S + Q_{\\text{buf}}}$\nAnd the buffer outputs are delayed versions of the latch outputs: $Q_{\\text{buf}}(t) = Q(t - t_{\\text{BUF}})$ and $\\overline{Q}_{\\text{buf}}(t) = \\overline{Q}(t - t_{\\text{BUF}})$, where the specific buffer delay ($t_{\\text{BUF}}^{\\text{PLH}}$ or $t_{\\text{BUF}}^{\\text{PHL}}$) depends on the transition.\n\nThe feedback loop now consists of two NOR gates and two buffers. The minimum hold time is the time required for a change initiated by an input to propagate through the entire loop to establish a self-sustaining state. Let's trace the set operation ($S=1$) for the buffered latch.\n$1$. $S$ transitions $0 \\to 1$.\n$2$. $\\overline{Q}$ transitions $1 \\to 0$ after a delay of $t_{\\text{NOR}}^{\\text{PHL}}$.\n$3$. $\\overline{Q}_{\\text{buf}}$ transitions $1 \\to 0$ after an additional delay of $t_{\\text{BUF}}^{\\text{PHL}}$.\n$4$. $Q$ transitions $0 \\to 1$ after an additional delay of $t_{\\text{NOR}}^{\\text{PLH}}$.\n$5$. $Q_{\\text{buf}}$ transitions $0 \\to 1$ after an additional delay of $t_{\\text{BUF}}^{\\text{PLH}}$.\nThe state is self-sustaining once the value of $Q_{\\text{buf}}=1$ reaches the bottom NOR gate, as this will keep $\\overline{Q}$ low even after $S$ is de-asserted. The minimum hold time is the total time for this entire sequence to complete.\n$t_{\\text{hold, buffered}} = t_{\\text{NOR}}^{\\text{PHL}} + t_{\\text{BUF}}^{\\text{PHL}} + t_{\\text{NOR}}^{\\text{PLH}} + t_{\\text{BUF}}^{\\text{PLH}}$.\nThis can be rearranged as:\n$t_{\\text{hold, buffered}} = (t_{\\text{NOR}}^{\\text{PLH}} + t_{\\text{NOR}}^{\\text{PHL}}) + (t_{\\text{BUF}}^{\\text{PLH}} + t_{\\text{BUF}}^{\\text{PHL}})$.\n\nWith these symbolic expressions, we can now answer the two questions.\n\n**1. Worst-case increase in the feedback path delay**\nThe feedback path is the connection from an internal latch output (e.g., $Q$) to the input of the opposite NOR gate. In the unbuffered latch, this delay is assumed to be $0$. In the buffered latch, this path includes a buffer, so the delay is the propagation delay of that buffer. The increase in delay, $\\Delta t_{\\text{feedback}}$, is therefore the buffer's delay. The question asks for the worst-case (i.e., maximum) increase. A buffer has two delay parameters, $t_{\\text{BUF}}^{\\text{PLH}}$ and $t_{\\text{BUF}}^{\\text{PHL}}$. The worst-case increase is the larger of these two values.\n$\\Delta t_{\\text{feedback}} = \\max(t_{\\text{BUF}}^{\\text{PLH}}, t_{\\text{BUF}}^{\\text{PHL}})$\n\nUsing the given values:\n$t_{\\text{BUF}}^{\\text{PLH}} = 90\\ \\text{ps}$\n$t_{\\text{BUF}}^{\\text{PHL}} = 110\\ \\text{ps}$\n$\\Delta t_{\\text{feedback}} = \\max(90\\ \\text{ps}, 110\\ \\text{ps}) = 110\\ \\text{ps}$.\nConverting to nanoseconds: $110\\ \\text{ps} = 0.110\\ \\text{ns}$. Rounded to four significant figures, this is $0.1100\\ \\text{ns}$.\n\n**2. Worst-case increase in the minimum input hold time**\nThe increase in hold time, $\\Delta t_{\\text{hold}}$, is the difference between the hold time of the buffered and unbuffered latches.\n$\\Delta t_{\\text{hold}} = t_{\\text{hold, buffered}} - t_{\\text{hold, unbuffered}}$\n$\\Delta t_{\\text{hold}} = ((t_{\\text{NOR}}^{\\text{PLH}} + t_{\\text{NOR}}^{\\text{PHL}}) + (t_{\\text{BUF}}^{\\text{PLH}} + t_{\\text{BUF}}^{\\text{PHL}})) - (t_{\\text{NOR}}^{\\text{PLH}} + t_{\\text{NOR}}^{\\text{PHL}})$\n$\\Delta t_{\\text{hold}} = t_{\\text{BUF}}^{\\text{PLH}} + t_{\\text{BUF}}^{\\text{PHL}}$\nThe analysis for set and reset operations yields the same expression, so this is the only case, and thus the worst case. The increase in hold time is the sum of the low-to-high and high-to-low propagation delays of a buffer, representing the total delay added by the two buffers in the complete feedback loop.\n\nUsing the given values:\n$\\Delta t_{\\text{hold}} = 90\\ \\text{ps} + 110\\ \\text{ps} = 200\\ \\text{ps}$.\nConverting to nanoseconds: $200\\ \\text{ps} = 0.200\\ \\text{ns}$. Rounded to four significant figures, this is $0.2000\\ \\text{ns}$.\n\nThe two final results are the increase in feedback delay ($0.1100\\ \\text{ns}$) and the increase in hold time ($0.2000\\ \\text{ns}$).",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n0.1100 & 0.2000\n\\end{pmatrix}\n}\n$$"
        },
        {
            "introduction": "The standard SR latch has a significant weakness: the input combination $S=R=1$ is considered \"illegal\" because it can lead to an unpredictable state. This exercise challenges you to engineer a solution by modifying the circuit to enforce a priority, ensuring a deterministic outcome even when this illegal input occurs. Through this practice, you will learn how to augment a basic design to resolve ambiguity and build a more robust and predictable memory element .",
            "id": "3680037",
            "problem": "Consider a Set-Reset (SR) latch implemented with two cross-coupled Not-OR (NOR) gates. Each NOR gate has two inputs: the left NOR takes the external reset input $R$ and the feedback $\\overline{Q}$ to produce $Q$, and the right NOR takes the external set input $S$ and the feedback $Q$ to produce $\\overline{Q}$. By definition of Not-OR, each NOR gate outputs the logical complement of the disjunction of its inputs. Under standard active-high SR semantics, the combinations $S=1$, $R=0$ and $S=0$, $R=1$ respectively set and reset the latch, while $S=R=0$ holds. The case $S=R=1$ forces both $Q$ and $\\overline{Q}$ low and is considered illegal because it destroys the complementary relationship and subsequent release can lead to indeterminate resolution.\n\nSuppose the inputs $S$ and $R$ are generated by upstream logic and, due to temporary hazards or asynchronous behavior, brief intervals with $S=R=1$ can occur. You are asked to modify the latch at gate level so that any temporary $S=R=1$ interval deterministically produces a set outcome (i.e., enforces $S$-priority) rather than allowing an indeterminate resolution. The goal is to bias the cross-coupled loop in favor of $S$ using an added logic element, not by changing the internal SR structure of the NOR pair.\n\nAssume the following timing model:\n- Each NOR gate has propagation delay $t_{\\mathrm{pd,NOR}}$.\n- An inverter has propagation delay $t_{\\mathrm{pd,INV}}$.\n- A two-input AND or OR gate has propagation delay $t_{\\mathrm{pd,AND}}$ or $t_{\\mathrm{pd,OR}}$, respectively.\n- All gates are inertial and rising/falling delays are equal to the specified $t_{\\mathrm{pd}}$ for that gate.\n\nDefine the bias condition and strength as follows:\n- A modification enforces $S$-priority if, for any simultaneous rising edges $S$ and $R$ making $S=R=1$ for a pulse of width $\\tau$, the latch responds in a way that ensures $Q$ transitions to $1$ and $\\overline{Q}$ to $0$ deterministically, provided $\\tau$ is above a computable threshold.\n- The bias strength is quantified by a nonnegative time margin $\\Delta$ that expresses how much earlier the $S$-favoring effect defeats any possible $R$ influence on the loop under simultaneous assertion. Larger $\\Delta$ implies stronger immunity to $R$’s influence.\n\nWhich option correctly specifies a gate-level addition that achieves $S$-priority and gives the correct quantitative conditions on $\\Delta$ and the minimum pulse width $\\tau_{\\min}$ required to guarantee $Q$ will be set during a temporary $S=R=1$ interval, in terms of $t_{\\mathrm{pd,NOR}}$, $t_{\\mathrm{pd,INV}}$, and $t_{\\mathrm{pd,AND}}$?\n\nA. Gate the reset input by forming $R' = R \\land \\lnot S$ using one inverter on $S$ and one two-input AND gate, feed $R'$ to the left NOR, and feed $S$ directly to the right NOR. Under simultaneous rising edges to $S=R=1$, the condition $t_{\\mathrm{pd,INV}} < t_{\\mathrm{pd,AND}}$ guarantees $R'$ remains $0$ throughout the assertion, yielding a bias margin $\\Delta = t_{\\mathrm{pd,AND}} - t_{\\mathrm{pd,INV}} \\ge 0$. With $R'$ suppressed, the minimum pulse width that guarantees $Q$ sets is $\\tau_{\\min} = 2\\,t_{\\mathrm{pd,NOR}}$.\n\nB. Gate the set input by forming $S' = S \\land \\lnot R$ using one inverter on $R$ and one two-input AND gate, feed $S'$ to the right NOR, and feed $R$ directly to the left NOR. Under simultaneous rising edges to $S=R=1$, the condition $t_{\\mathrm{pd,INV}} < t_{\\mathrm{pd,AND}}$ yields a bias margin $\\Delta = t_{\\mathrm{pd,AND}} - t_{\\mathrm{pd,INV}} \\ge 0$ and minimum pulse width $\\tau_{\\min} = 2\\,t_{\\mathrm{pd,NOR}}$, which enforces $S$-priority.\n\nC. Add a two-input OR gate to form $S' = S \\lor R$, feed $S'$ to the right NOR and feed $R$ directly to the left NOR. The $S$-priority is guaranteed with bias margin $\\Delta = t_{\\mathrm{pd,OR}}$ and $\\tau_{\\min} = t_{\\mathrm{pd,NOR}}$.\n\nD. Without adding any extra gates, skew the loop by sizing the left NOR (the gate producing $Q$) to have propagation delay $t_{\\mathrm{pd,NOR},Q}$ and the right NOR (producing $\\overline{Q}$) to have propagation delay $t_{\\mathrm{pd,NOR},\\overline{Q}}$ such that $t_{\\mathrm{pd,NOR},Q} < t_{\\mathrm{pd,NOR},\\overline{Q}}$. This ensures $S$-priority with bias margin $\\Delta = t_{\\mathrm{pd,NOR},\\overline{Q}} - t_{\\mathrm{pd,NOR},Q}$ and $\\tau_{\\min} = t_{\\mathrm{pd,NOR},Q} + t_{\\mathrm{pd,NOR},\\overline{Q}}$.",
            "solution": "We begin from the functional definition of the Not-OR (NOR) gate: for inputs $x$ and $y$, the output is $\\lnot(x \\lor y)$. A cross-coupled pair of NOR gates produces the conventional active-high Set-Reset (SR) latch with equations\n$$\nQ = \\lnot\\big(R \\lor \\overline{Q}\\big), \\quad \\overline{Q} = \\lnot\\big(S \\lor Q\\big).\n$$\nFor $S=1$, $R=0$, the right NOR forces $\\overline{Q}=0$ after one propagation delay $t_{\\mathrm{pd,NOR}}$, and the left NOR then forces $Q=1$ after an additional $t_{\\mathrm{pd,NOR}}$. Symmetrically, for $S=0$, $R=1$, $Q$ resets to $0$. When $S=R=0$, both inputs are idle and the latch holds its prior state. When $S=R=1$, both NOR outputs are driven to $0$ (since each sees an asserted external input), destroying complementarity and creating an illegal state. Upon release to $S=R=0$, both gates may attempt to switch high, and resolution depends on minute asymmetries, offering no deterministic priority.\n\nTo enforce an $S$-priority deterministically during temporary $S=R=1$, the modification must ensure that while $S$ is asserted, the reset influence is either logically inhibited or delayed sufficiently that the loop behavior is equivalent to $R=0$. The most direct way at the logic level is to gate $R$ by $\\lnot S$ so that $R$ is effectively blocked whenever $S$ is high.\n\nOption A proposes $R' = R \\land \\lnot S$, implemented with an inverter on $S$ and a two-input AND, feeding $R'$ to the left NOR, while $S$ drives the right NOR directly. We analyze both correctness of the structure and the timing.\n\n- Structural effect: Under $S=1$, $R'=R \\land \\lnot 1 = R \\land 0 = 0$, i.e., the left NOR’s external input is suppressed regardless of $R$. Thus, even if $S=R=1$, the latch does not enter the illegal state where both outputs are externally forced low. Instead, the right NOR sees $S=1$ and drives $\\overline{Q}\\rightarrow 0$, which then drives $Q\\rightarrow 1$ through the left NOR, realizing the desired set action and $S$-priority.\n\n- Timing and bias margin $\\Delta$: Consider simultaneous rising edges of $S$ and $R$ at time $t=0$ producing $S=R=1$. Before the inverter on $S$ has propagated, its output $\\lnot S$ is still $1$ for up to $t_{\\mathrm{pd,INV}}$, so the AND can potentially output $R' = 1 \\land 1 = 1$ after its own delay. To guarantee that $R'$ never asserts, the inverted $S$ must arrive at the AND before the AND can present a high at its output. The required condition is\n$$\nt_{\\mathrm{pd,INV}} < t_{\\mathrm{pd,AND}},\n$$\nwhich yields a nonnegative bias margin\n$$\n\\Delta = t_{\\mathrm{pd,AND}} - t_{\\mathrm{pd,INV}} \\ge 0.\n$$\nIntuitively, $\\Delta$ quantifies how much earlier the suppressing signal $\\lnot S$ defeats the propagation of $R$ through the AND when $S$ and $R$ rise together.\n\n- Minimum pulse width $\\tau_{\\min}$: With $R'$ suppressed, setting the latch proceeds along the $S$-to-$\\overline{Q}$-to-$Q$ path. The right NOR drives $\\overline{Q}\\rightarrow 0$ after $t_{\\mathrm{pd,NOR}}$, and then the left NOR drives $Q\\rightarrow 1$ after another $t_{\\mathrm{pd,NOR}}$. Therefore, the required duration of the $S=1$ assertion during which $R'$ remains $0$ (which is ensured by the above bias condition) is\n$$\n\\tau_{\\min} = 2\\,t_{\\mathrm{pd,NOR}}.\n$$\nAny simultaneous $S=R=1$ pulse with $\\tau \\ge \\tau_{\\min}$ deterministically sets $Q$.\n\nThus, Option A presents the correct gate-level addition and quantitative conditions.\n\nWe now evaluate the other options.\n\nOption B proposes $S' = S \\land \\lnot R$ and $R$ direct. This structure suppresses $S$ whenever $R$ is high, which is the opposite of $S$-priority. Under $S=R=1$, even if $t_{\\mathrm{pd,INV}} < t_{\\mathrm{pd,AND}}$, $S' = 1 \\land \\lnot 1 = 0$, so the right NOR does not receive a set request while the left NOR receives $R=1$ and drives $Q\\rightarrow 0$, enforcing reset. The claimed $S$-priority and associated timing margins are incorrect. Verdict: Incorrect.\n\nOption C proposes $S' = S \\lor R$, feeding $S'$ to the right NOR and $R$ directly to the left. Under $R=1$, even if $S=0$, we get $S' = 0 \\lor 1 = 1$, which forces a set even when only reset is requested. This breaks SR semantics and does not implement a priority that is only active during the illegal $S=R=1$ condition; rather, it corrupts the function under legal $S=0$, $R=1$. The claimed bias margin $\\Delta = t_{\\mathrm{pd,OR}}$ is not a correct measure of immunity to $R$ under simultaneous assertion, and $\\tau_{\\min} = t_{\\mathrm{pd,NOR}}$ omits the required second NOR delay needed to propagate from $\\overline{Q}$ to $Q$. Verdict: Incorrect.\n\nOption D suggests asymmetric propagation delays of the NOR pair without adding gates. Although sizing can bias resolution after release from $S=R=1$ (when inputs return to $0$), during the illegal interval itself both NOR outputs are forced to $0$ by the external highs, so $Q$ cannot be set until $S$ and $R$ deassert. Therefore, this does not enforce an immediate set under $S=R=1$; it only affects post-release race behavior. Moreover, the proposed $\\tau_{\\min}$ as $t_{\\mathrm{pd,NOR},Q} + t_{\\mathrm{pd,NOR},\\overline{Q}}$ does not correspond to a guaranteed set during the illegal interval (since the outputs remain forced low throughout), and the claimed $S$-priority is not guaranteed unless one correlates input release timing with the internal skew, which the option does not specify. Verdict: Incorrect.\n\nTherefore, the correct choice is Option A, which both preserves SR semantics for legal inputs and deterministically enforces $S$-priority during temporary $S=R=1$ via logical inhibition of $R$ and provides the correct timing conditions and pulse-width threshold.",
            "answer": "$$\\boxed{A}$$"
        },
        {
            "introduction": "Abstract logic diagrams are an idealization; in reality, circuits are physical constructs where signal propagation is not instantaneous. This final practice explores the crucial impact of wire routing delays, demonstrating how a physical mismatch in wire lengths can introduce timing hazards that violate the assumptions of a purely logical model. You will analyze how such real-world constraints can lead to the forbidden $S=R=1$ state at the latch's inputs and learn about physical design strategies to prevent these failures .",
            "id": "3679978",
            "problem": "A Set–Reset (SR) latch constructed from cross-coupled NOR gates is driven by two controller outputs, the set input $S$ and the reset input $R$, that are guaranteed by the controller never to be asserted high simultaneously at their source pins. At the controller, each handoff between mutually exclusive assertions is separated by a minimum non-overlap time margin $m$: for a set-to-reset handoff, $S$ is high and returns low at time $t=T_{0}$, and then $R$ is driven high at time $t=T_{0}+m$; for a reset-to-set handoff, $R$ is high and returns low at time $t=T_{1}$, and then $S$ is driven high at time $t=T_{1}+m$. The wires that route $S$ and $R$ to the latch impose pure transport delays $\\tau_{S}$ and $\\tau_{R}$, respectively, with $\\tau_{S}=\\tau_{R}+d$ where $d\\ge 0$ models that the $S$ route is longer than the $R$ route by a delay difference $d$. Each NOR gate in the latch is modeled with an inertial propagation delay $t_{g}$: an input change must persist for at least $t_{g}$ to affect the output.\n\nStarting only from the definitions of the SR latch behavior, transport and inertial delay models, and the non-overlap margin $m$, do the following:\n- Derive, for the set-to-reset handoff, the exact condition on $d$ under which the latch’s input pins experience a temporary forbidden condition (both $S=1$ and $R=1$ at the latch inputs simultaneously) that persists long enough to be detectable by the NOR gates.\n- Briefly explain why the reverse handoff (reset-to-set) does or does not produce such a temporary forbidden condition under the same $d\\ge 0$ assumption.\n- Now suppose the interconnect exhibits a delay per unit length of $k=50\\ \\text{ps/mm}$, i.e., $k=0.050\\ \\text{ns/mm}$. The controller guarantees $m=0.60\\ \\text{ns}$, and each NOR gate has $t_{g}=0.15\\ \\text{ns}$. Treating the critical boundary as acceptable, compute the largest allowable physical length mismatch $\\Delta L_{\\max}$ (in millimeters) between the $S$ and $R$ routes such that no temporary forbidden input is detected at the gates during a set-to-reset handoff.\n\nAdditionally, propose two physical placement and routing strategies that minimize $d$ in practice.\n\nExpress your final numerical answer as the single value of $\\Delta L_{\\max}$ in millimeters, and round your answer to four significant figures.",
            "solution": "Let the signals at the controller source be denoted $S_{\\text{src}}(t)$ and $R_{\\text{src}}(t)$, and the signals at the latch's input pins be $S_{\\text{latch}}(t)$ and $R_{\\text{latch}}(t)$. The relationship between the source and latch signals is governed by the pure transport delays $\\tau_{S}$ and $\\tau_{R}$:\n$$S_{\\text{latch}}(t) = S_{\\text{src}}(t - \\tau_{S})$$\n$$R_{\\text{latch}}(t) = R_{\\text{src}}(t - \\tau_{R})$$\nWe are given the relationship between the delays as $\\tau_{S} = \\tau_{R} + d$, with $d \\ge 0$.\n\nFirst, we derive the condition for a detectable forbidden state during a set-to-reset handoff.\nIn a set-to-reset handoff, the latch is initially in the set state ($S=1, R=0$). The controller de-asserts $S$ and then asserts $R$.\nThe falling edge of $S_{\\text{src}}$ occurs at time $t = T_{0}$. This edge arrives at the latch's $S$ input at time $t_{S\\downarrow}$:\n$$t_{S\\downarrow} = T_{0} + \\tau_{S}$$\nAfter a non-overlap margin $m$, the rising edge of $R_{\\text{src}}$ occurs at time $t = T_{0} + m$. This edge arrives at the latch's $R$ input at time $t_{R\\uparrow}$:\n$$t_{R\\uparrow} = (T_{0} + m) + \\tau_{R}$$\nA temporary forbidden condition ($S_{\\text{latch}}=1$ and $R_{\\text{latch}}=1$) occurs at the latch inputs if the rising edge of $R$ arrives before the falling edge of $S$. That is, the interval $[t_{R\\uparrow}, t_{S\\downarrow})$ must be non-empty. This is equivalent to the condition $t_{R\\uparrow} < t_{S\\downarrow}$.\nSubstituting the expressions for the arrival times:\n$$(T_{0} + m) + \\tau_{R} < T_{0} + \\tau_{S}$$\n$$\\implies m + \\tau_{R} < \\tau_{S}$$\nUsing the given relation $\\tau_{S} = \\tau_{R} + d$:\n$$m + \\tau_{R} < \\tau_{R} + d$$\n$$\\implies m < d$$\nThis is the condition for an overlap to occur. The duration of this overlap, $\\Delta t_{\\text{overlap}}$, during which both inputs are high, is the difference between the arrival times of the two edges:\n$$\\Delta t_{\\text{overlap}} = t_{S\\downarrow} - t_{R\\uparrow} = (T_{0} + \\tau_{S}) - ((T_{0} + m) + \\tau_{R}) = \\tau_{S} - \\tau_{R} - m$$\nSubstituting $\\tau_{S} - \\tau_{R} = d$:\n$$\\Delta t_{\\text{overlap}} = d - m$$\nThe latch's NOR gates have an inertial delay $t_{g}$, meaning the forbidden input state must persist for at least this duration to be detected and affect the latch's state. Therefore, the condition for a detectable forbidden state is:\n$$\\Delta t_{\\text{overlap}} \\ge t_{g}$$\n$$d - m \\ge t_{g}$$\nThe exact condition on $d$ is thus:\n$$d \\ge m + t_{g}$$\n\nSecond, we analyze the reverse handoff (reset-to-set).\nIn a reset-to-set handoff, the latch is initially in the reset state ($S=0, R=1$). The controller de-asserts $R$ and then asserts $S$.\nThe falling edge of $R_{\\text{src}}$ occurs at time $t = T_{1}$. This edge arrives at the latch's $R$ input at time $t_{R\\downarrow}$:\n$$t_{R\\downarrow} = T_{1} + \\tau_{R}$$\nAfter the margin $m$, the rising edge of $S_{\\text{src}}$ occurs at time $t = T_{1} + m$. This edge arrives at the latch's $S$ input at time $t_{S\\uparrow}$:\n$$t_{S\\uparrow} = (T_{1} + m) + \\tau_{S}$$\nA forbidden condition occurs if the rising edge of $S$ arrives before the falling edge of $R$ ($t_{S\\uparrow} < t_{R\\downarrow}$):\n$$(T_{1} + m) + \\tau_{S} < T_{1} + \\tau_{R}$$\n$$\\implies m + \\tau_{S} < \\tau_{R}$$\nUsing the relation $\\tau_{S} = \\tau_{R} + d$:\n$$m + (\\tau_{R} + d) < \\tau_{R}$$\n$$\\implies m + d < 0$$\nBy definition, the non-overlap margin $m$ is a positive duration of time, so $m > 0$. We are also given that the delay difference $d \\ge 0$. The sum $m+d$ is therefore strictly positive. The condition $m + d < 0$ can never be satisfied. Consequently, a temporary forbidden condition does not occur during a reset-to-set handoff under the given constraint that the $S$ route is at least as long as the $R$ route ($d \\ge 0$). The extra delay $d$ on the $S$ line further separates the arrival of the $S$ rising edge from the $R$ falling edge, increasing the timing margin for this handoff.\n\nThird, we compute the largest allowable physical length mismatch $\\Delta L_{\\text{max}}$.\nThe problem states to treat the critical boundary as acceptable. The critical boundary for a detectable forbidden state during a set-to-reset handoff is $d = m + t_{g}$. This defines the maximum allowable delay difference, $d_{\\text{max}}$:\n$$d_{\\text{max}} = m + t_{g}$$\nThe transport delay $\\tau$ is related to the physical route length $L$ by the delay per unit length, $k$, such that $\\tau = kL$. The delay difference $d$ is therefore related to the length mismatch $\\Delta L = L_{S} - L_{R}$ as follows:\n$$d = \\tau_{S} - \\tau_{R} = kL_{S} - kL_{R} = k(L_{S} - L_{R}) = k \\Delta L$$\nThe maximum allowable length mismatch, $\\Delta L_{\\text{max}}$, corresponds to $d_{\\text{max}}$:\n$$\\Delta L_{\\text{max}} = \\frac{d_{\\text{max}}}{k} = \\frac{m + t_{g}}{k}$$\nSubstituting the given numerical values: $m = 0.60\\ \\text{ns}$, $t_{g} = 0.15\\ \\text{ns}$, and $k = 0.050\\ \\text{ns/mm}$.\n$$d_{\\text{max}} = 0.60\\ \\text{ns} + 0.15\\ \\text{ns} = 0.75\\ \\text{ns}$$\n$$\\Delta L_{\\text{max}} = \\frac{0.75\\ \\text{ns}}{0.050\\ \\text{ns/mm}} = 15\\ \\text{mm}$$\nRounding to four significant figures, the result is $15.00\\ \\text{mm}$.\n\nFinally, two physical placement and routing strategies to minimize $d$ in practice are:\n1.  **Component Co-location and Orientation**: Place the controller and the SR latch as close to each other as possible on the printed circuit board (PCB) or integrated circuit (IC). Furthermore, orient the components such that the output pins for $S$ and $R$ on the controller and the corresponding input pins on the latch are symmetrically positioned. This minimizes the straight-line distance for both routes, making it easier to match their final routed lengths.\n2.  **Length-Matched Routing**: After placement, explicitly match the physical trace lengths of the $S$ and $R$ routes. If one route is inherently shorter (in this case, the $R$ route), the routing software or designer adds compensatory length to it using serpentine or \"trombone-style\" trace patterns. This technique ensures that $L_S \\approx L_R$, which in turn makes the delay difference $d = k(L_S - L_R)$ close to zero, providing the maximum possible margin against timing hazards.",
            "answer": "$$\\boxed{15.00}$$"
        }
    ]
}