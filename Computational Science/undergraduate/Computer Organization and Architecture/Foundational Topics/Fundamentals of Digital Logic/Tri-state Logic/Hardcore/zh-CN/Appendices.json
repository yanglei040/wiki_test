{
    "hands_on_practices": [
        {
            "introduction": "理论是基础，但真正的理解来自于实践。本节的第一个练习将带你深入三态逻辑的电气核心。在考虑总线速度或复杂协议之前，我们必须确保它在基本的直流（DC）负载下能够正常工作。这个练习模拟了一个驱动器和多个接收器负载的场景，要求你计算在最坏情况下总线上的实际电压，并验证这些电压是否满足接收器对逻辑高电平和低电平的阈值要求，这是确保数字系统可靠性的第一步。",
            "id": "3685867",
            "problem": "一个同步共享总线由相同的三态输出驱动器驱动。当启用并驱动逻辑高电平时，每个驱动器可以被建模为一个戴维南等效电路，该电路由一个值为 $V_{OH,\\min}$ 的理想电压源串联一个输出电阻 $R_{out}$ 组成。当启用并驱动逻辑低电平时，每个驱动器可以被建模为一个值为 $V_{OL,\\max}$ 的理想电压源串联相同的电阻 $R_{out}$。在任何时候只有一个驱动器被启用。该总线由 $N$ 个接收设备加载，其组合的最坏情况静态负载可由一个大小为 $I_{load}$ 的等效电流源表示，该电流源连接在总线节点和参考电位之间，具体如下：在驱动高电平状态下，负载从总线向地吸取大小为 $I_{load}$ 的电流；而在驱动低电平状态下，负载从电源向总线提供大小相同的电流 $I_{load}$。\n\n给定驱动器和接收器的以下保证参数：\n- 最小高电平开路输出电压 $V_{OH,\\min} = 3.0\\,\\text{V}$。\n- 最大低电平开路输出电压 $V_{OL,\\max} = 0.12\\,\\text{V}$。\n- 输出电阻 $R_{out} = 14.7\\,\\Omega$。\n- 最坏情况静态负载电流大小 $I_{load} = 0.016\\,\\text{A}$。\n- 接收器最小高电平输入阈值 $V_{IH,\\min} = 2.30\\,\\text{V}$。\n- 接收器最大低电平输入阈值 $V_{IL,\\max} = 1.00\\,\\text{V}$。\n\n从基尔霍夫定律、欧姆定律和上述戴维南等效模型出发，推导在指定负载下，驱动高电平和驱动低电平状态时最坏情况的直流总线电压 $V_{bus}$ 的表达式，然后进行数值计算。验证计算出的最坏情况总线电压是否满足接收器的逻辑电平阈值，并给出有序对 $\\left(V_{bus,\\text{high}},\\,V_{bus,\\text{low}}\\right)$。\n\n以伏特为单位提供您的最终有序对，并四舍五入到四位有效数字。",
            "solution": "问题陈述经评估有效。它在科学上基于基本电路理论（基尔霍夫定律、欧姆定律），为数字逻辑组件使用了标准且适当的模型（驱动器的戴维南等效电路，负载的电流源模型），问题设定良好，具有完整且一致的参数集，并以客观、明确的语言表述。可以通过形式化分析得出唯一且有意义的解。\n\n该问题要求计算共享总线系统在两种状态下的最坏情况直流总线电压水平 $V_{bus}$：驱动高电平和驱动低电平。这是一个经典的信号完整性分析，用于确定在指定的负载条件下是否满足逻辑电平要求。\n\n**驱动高电平状态分析**\n\n在驱动高电平状态下，单个三态驱动器被启用并输出逻辑高电平。根据问题描述，该驱动器可以被建模为一个戴维南等效电路，由一个值为 $V_{OH,\\min}$ 的理想电压源串联一个输出电阻 $R_{out}$ 组成。总线本身由一组接收器加载，其综合效应被建模为一个大小为 $I_{load}$ 的单一电流源，从总线节点向地吸取电流。这代表了最坏情况，因为使用了驱动器保证的最小输出电压（$V_{OH,\\min}$），并且负载电流的作用是拉低总线电压。\n\n设 $V_{bus,\\text{high}}$ 为总线节点处的电压。在该节点应用基尔霍夫电流定律（KCL），驱动器提供的电流必须等于负载吸取的电流。根据欧姆定律，由驱动器提供并流经其输出电阻 $R_{out}$ 的电流为：\n$$I_{driver} = \\frac{V_{OH,\\min} - V_{bus,\\text{high}}}{R_{out}}$$\n负载电流为 $I_{load}$。根据 KCL，令电流相等：\n$$\\frac{V_{OH,\\min} - V_{bus,\\text{high}}}{R_{out}} = I_{load}$$\n我们现在可以解这个方程，求出 $V_{bus,\\text{high}}$：\n$$V_{OH,\\min} - V_{bus,\\text{high}} = I_{load} R_{out}$$\n$$V_{bus,\\text{high}} = V_{OH,\\min} - I_{load} R_{out}$$\n\n**驱动低电平状态分析**\n\n在驱动低电平状态下，单个驱动器输出逻辑低电平。该驱动器被建模为一个戴维南等效电路，由一个值为 $V_{OL,\\max}$ 的理想电压源串联相同的输出电阻 $R_{out}$ 组成。在此状态下，负载从电源向总线节点提供一个大小为 $I_{load}$ 的电流。这代表了逻辑低电平的最坏情况，因为使用了驱动器保证的最大输出电压（$V_{OL,\\max}$），并且负载电流的作用是拉高总线电压。\n\n设 $V_{bus,\\text{low}}$ 为总线节点处的电压。在该节点应用 KCL，负载提供的电流必须被驱动器吸收。被驱动器吸收的电流为：\n$$I_{driver} = \\frac{V_{bus,\\text{low}} - V_{OL,\\max}}{R_{out}}$$\n负载电流为 $I_{load}$。令电流相等：\n$$I_{load} = \\frac{V_{bus,\\text{low}} - V_{OL,\\max}}{R_{out}}$$\n解出 $V_{bus,\\text{low}}$：\n$$I_{load} R_{out} = V_{bus,\\text{low}} - V_{OL,\\max}$$\n$$V_{bus,\\text{low}} = V_{OL,\\max} + I_{load} R_{out}$$\n\n**数值计算**\n\n给定的参数是：\n- $V_{OH,\\min} = 3.0\\,\\text{V}$\n- $V_{OL,\\max} = 0.12\\,\\text{V}$\n- $R_{out} = 14.7\\,\\Omega$\n- $I_{load} = 0.016\\,\\text{A}$\n- $V_{IH,\\min} = 2.30\\,\\text{V}$\n- $V_{IL,\\max} = 1.00\\,\\text{V}$\n\n首先，我们计算由负载电流引起的驱动器输出电阻上的压降（对于高电平状态）或压升（对于低电平状态）。该项为 $I_{load} R_{out}$：\n$$I_{load} R_{out} = (0.016)(14.7) = 0.2352 \\text{ V}$$\n现在我们可以计算总线电压。对于驱动高电平状态：\n$$V_{bus,\\text{high}} = V_{OH,\\min} - I_{load} R_{out} = 3.0 - 0.2352 = 2.7648 \\text{ V}$$\n对于驱动低电平状态：\n$$V_{bus,\\text{low}} = V_{OL,\\max} + I_{load} R_{out} = 0.12 + 0.2352 = 0.3552 \\text{ V}$$\n\n**逻辑电平验证**\n\n为确保可靠操作，计算出的最坏情况总线电压必须满足接收器的输入阈值。\n对于逻辑高电平，条件是 $V_{bus,\\text{high}} \\ge V_{IH,\\min}$。\n$$2.7648 \\text{ V} \\ge 2.30 \\text{ V}$$\n此条件满足。高电平噪声容限为 $V_{NH} = V_{bus,\\text{high}} - V_{IH,\\min} = 2.7648 - 2.30 = 0.4648$ V。\n\n对于逻辑低电平，条件是 $V_{bus,\\text{low}} \\le V_{IL,\\max}$。\n$$0.3552 \\text{ V} \\le 1.00 \\text{ V}$$\n此条件也满足。低电平噪声容限为 $V_{NL} = V_{IL,\\max} - V_{bus,\\text{low}} = 1.00 - 0.3552 = 0.6448$ V。\n由于两个条件都满足，系统在指定的最坏情况静态负载下将能正常工作。\n\n**最终答案计算**\n\n问题要求给出有序对 $(V_{bus,\\text{high}},\\,V_{bus,\\text{low}})$，其值四舍五入到四位有效数字。\n$V_{bus,\\text{high}} = 2.7648$ V。四舍五入到四位有效数字后，变为 $2.765$ V。\n$V_{bus,\\text{low}} = 0.3552$ V。该值已有四位有效数字。\n最终的有序对是 $(2.765, 0.3552)$。",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n2.765  0.3552\n\\end{pmatrix}\n}\n$$"
        },
        {
            "introduction": "在共享总线系统中，仅仅确保静态电气特性是不够的；动态的时序行为至关重要。当总线控制权从一个设备转移到另一个设备时，必须有一个精确的“交接”过程，以防止两个设备同时驱动总线而导致电气冲突。这个练习模拟了一个包含CPU、内存和DMA控制器的真实系统，你的任务是计算在设备间切换时，必须插入多少个时钟周期的“空闲时间”以保证总线安全周转。通过这个练习，你将掌握在系统层面分析和解决时序问题的关键技能。",
            "id": "3685958",
            "problem": "在一个基于处理器的系统中，一条同步共享数据总线使用三态逻辑来避免电气竞争。该系统包含一个中央处理器 (CPU)、一个同步静态随机存取存储器 (SRAM) 设备和一个直接存储器访问 (DMA) 控制器，它们共享一条 $32$-位数据总线。在任何时刻，只有一个设备可以主动驱动数据总线；非活动设备必须将其输出置于高阻态，记为 $Z$。每个设备的驱动器由一个输出使能 (OE) 信号控制。当 $OE$ 置位时，设备在经过一段有限的使能延迟后最终驱动总线；当 $OE$ 复位时，设备在经过一段有限的禁用延迟后最终将总线释放到 $Z$ 态。为确保科学真实性和安全的总线操作，必须存在一段非零的总线转换保护时间，在此期间，一个驱动器释放总线后，下一个驱动器开始驱动总线前，总线保持在 $Z$ 态。所有组件都以时钟周期 $T$ 同步工作。\n\n假设有以下组织结构和时序参数：\n- CPU 执行一个五级流水线，包括取指 ($F$)、译码 ($D$)、执行 ($E$)、访存 ($M$) 和写回 ($W$) 阶段，每个阶段持续时间为 $T$。所有由 CPU 发起的数据总线活动都发生在 $M$ 阶段。\n- 在内存读取操作中，存储设备在 CPU 的 $M$ 阶段开始时置位其 $OE$ 信号，并在该 $M$ 阶段结束时复位。存储器的数据输出在 $OE$ 置位后经过 $t_{\\text{enMEM}}$ 的延迟开始驱动总线，在 $OE$ 复位后经过 $t_{\\text{disMEM}}$ 的延迟停止驱动。\n- 在 CPU 写入操作中，CPU 的数据驱动器在 CPU 的 $M$ 阶段开始时置位 $OE$ 信号，并在该 $M$ 阶段结束时复位。CPU 在 $OE$ 置位后经过 $t_{\\text{enCPU}}$ 的延迟开始驱动总线，在 $OE$ 复位后经过 $t_{\\text{disCPU}}$ 的延迟完全释放总线。\n- DMA 控制器在一个与系统时钟对齐的单周期总线阶段内执行总线传输。它在其总线阶段开始时置位 $OE$，在结束时复位。DMA 在 $OE$ 置位后经过 $t_{\\text{enDMA}}$ 的延迟开始驱动总线，在 $OE$ 复位后经过 $t_{\\text{disDMA}}$ 的延迟释放总线。\n- 所需的总线转换保护时间为 $t_{\\text{TA}}$，它必须作为前一个驱动器实际停止驱动和下一个驱动器实际开始驱动之间总线保持在 $Z$ 态的时间窗口来满足。\n\n您需要构建一个测试场景，演练内存、CPU 和 DMA 之间的总线所有权变更，然后确定在每次转换期间，数据总线为保证无竞争并满足 $t_{\\text{TA}}$ 而必须保持在 $Z$ 态的最小完整时钟周期数。使用以下时序常数和时钟周期：\n- $T = 2\\,\\text{ns}$，\n- $t_{\\text{enMEM}} = 1.8\\,\\text{ns}$，$t_{\\text{disMEM}} = 3.0\\,\\text{ns}$，\n- $t_{\\text{enCPU}} = 1.1\\,\\text{ns}$，$t_{\\text{disCPU}} = 1.6\\,\\text{ns}$，\n- $t_{\\text{enDMA}} = 1.7\\,\\text{ns}$，$t_{\\text{disDMA}} = 1.5\\,\\text{ns}$，\n- $t_{\\text{TA}} = 0.6\\,\\text{ns}$。\n\n按照上述描述，将每个 $OE$ 的置位和复位映射到相应的流水线阶段边界。考虑一个复合序列，其中包括从内存到 CPU、从内存到 DMA、从 DMA 到 CPU 以及从 CPU 到内存的连续总线所有权转换，所有转换都发生在长度为 $T$ 的连续阶段边界上，并在任意两个连续的总线所有者之间插入固定数量 $N$ 的空闲周期以将总线保持在 $Z$ 态。从第一性原理出发，推导出为确保每对连续所有者之间总线保持在 $Z$ 态的时间至少为 $t_{\\text{TA}}$ 所需的对 $N$ 的约束，然后计算满足此场景中所有此类转换的最小整数 $N$。\n\n将您的最终答案表示为单个整数 $N$（以周期为单位）。除了周期计数的固有整数性质外，不需要进行舍入。最终答案框中不应包含单位。",
            "solution": "问题要求确定在连续的总线所有者之间必须插入的最小空闲时钟周期数 $N$，以保证总线安全操作。安全操作定义为没有总线竞争，并且满足最小总线转换保护时间 $t_{\\text{TA}}$。\n\n我们建立一个正式的时序模型。系统在周期为 $T$ 的同步时钟下运行。一个时钟周期 $k$ 从时间 $t = kT$ 开始，到时间 $t = (k+1)T$ 结束。\n\n考虑一个从称为 \"Prev\" 的设备到称为 \"Next\" 的设备的一般总线所有权转换。根据问题描述，\"Prev\" 设备被分配一个时钟周期的总线使用权，例如周期 $k$。其输出使能信号 $OE_{\\text{Prev}}$ 在该周期开始时（$t=kT$）置位，在结束时（$t=(k+1)T$）复位。\n\n问题指出，在 $OE_{\\text{Prev}}$ 复位和设备驱动器实际将总线释放到高阻态 ($Z$) 的时刻之间，存在一个禁用延迟 $t_{\\text{disPrev}}$。因此，\"Prev\" 设备完全释放总线的时间为 $t_{\\text{release,Prev}}$：\n$$t_{\\text{release,Prev}} = (k+1)T + t_{\\text{disPrev}}$$\n\n在 \"Prev\" 拥有总线的周期之后，插入了 $N$ 个空闲时钟周期。这意味着在周期 $k+1, k+2, \\dots, k+N$ 期间，总线未分配给任何设备。下一个总线所有者 \"Next\" 被安排在周期 $k+N+1$ 使用总线。\n\n\"Next\" 设备的 $OE_{\\text{Next}}$ 信号在其分配的周期开始时置位，即时间 $t=(k+N+1)T$。在 $OE_{\\text{Next}}$ 置位和设备驱动器实际开始驱动总线的时刻之间，存在一个使能延迟 $t_{\\text{enNext}}$。因此，\"Next\" 设备开始驱动总线的时间为 $t_{\\text{drive,Next}}$：\n$$t_{\\text{drive,Next}} = (k+N+1)T + t_{\\text{enNext}}$$\n\n为防止总线竞争，\"Prev\" 设备必须在 \"Next\" 设备开始驱动总线之前停止驱动。这两个事件之间的时间间隔是总线转换保护时间 $t_{\\text{guard}}$。此间隔必须至少为 $t_{\\text{TA}}$。\n$$t_{\\text{guard}} = t_{\\text{drive,Next}} - t_{\\text{release,Prev}} \\ge t_{\\text{TA}}$$\n\n将 $t_{\\text{release,Prev}}$ 和 $t_{\\text{drive,Next}}$ 的表达式代入此不等式，得到：\n$$((k+N+1)T + t_{\\text{enNext}}) - ((k+1)T + t_{\\text{disPrev}}) \\ge t_{\\text{TA}}$$\n\n我们可以简化此表达式以推导对 $N$ 的约束。$kT$ 项被消去：\n$$(N+1)T - T + t_{\\text{enNext}} - t_{\\text{disPrev}} \\ge t_{\\text{TA}}$$\n$$NT + t_{\\text{enNext}} - t_{\\text{disPrev}} \\ge t_{\\text{TA}}$$\n\n求解 $N$，我们得到从任何设备 \"Prev\" 转换到任何设备 \"Next\" 所需的最小空闲周期数的通用公式：\n$$NT \\ge t_{\\text{TA}} + t_{\\text{disPrev}} - t_{\\text{enNext}}$$\n$$N \\ge \\frac{t_{\\text{TA}} + t_{\\text{disPrev}} - t_{\\text{enNext}}}{T}$$\n\n现在，我们必须使用提供的时序常数，对问题中指定的全部四种总线所有权转换场景评估此约束：\n- $T = 2\\,\\text{ns}$\n- $t_{\\text{TA}} = 0.6\\,\\text{ns}$\n- 内存延迟: $t_{\\text{enMEM}} = 1.8\\,\\text{ns}$，$t_{\\text{disMEM}} = 3.0\\,\\text{ns}$\n- CPU 延迟: $t_{\\text{enCPU}} = 1.1\\,\\text{ns}$，$t_{\\text{disCPU}} = 1.6\\,\\text{ns}$\n- DMA 延迟: $t_{\\text{enDMA}} = 1.7\\,\\text{ns}$，$t_{\\text{disDMA}} = 1.5\\,\\text{ns}$\n\n我们来分析每种情况：\n\n1.  **内存到 CPU (MEM $\\rightarrow$ CPU)**\n    此处，Prev = MEM 且 Next = CPU。\n    $t_{\\text{disPrev}} = t_{\\text{disMEM}} = 3.0\\,\\text{ns}$\n    $t_{\\text{enNext}} = t_{\\text{enCPU}} = 1.1\\,\\text{ns}$\n    $$N \\ge \\frac{0.6 + 3.0 - 1.1}{2} = \\frac{2.5}{2} = 1.25$$\n\n2.  **内存到 DMA (MEM $\\rightarrow$ DMA)**\n    此处，Prev = MEM 且 Next = DMA。\n    $t_{\\text{disPrev}} = t_{\\text{disMEM}} = 3.0\\,\\text{ns}$\n    $t_{\\text{enNext}} = t_{\\text{enDMA}} = 1.7\\,\\text{ns}$\n    $$N \\ge \\frac{0.6 + 3.0 - 1.7}{2} = \\frac{1.9}{2} = 0.95$$\n\n3.  **DMA 到 CPU (DMA $\\rightarrow$ CPU)**\n    此处，Prev = DMA 且 Next = CPU。\n    $t_{\\text{disPrev}} = t_{\\text{disDMA}} = 1.5\\,\\text{ns}$\n    $t_{\\text{enNext}} = t_{\\text{enCPU}} = 1.1\\,\\text{ns}$\n    $$N \\ge \\frac{0.6 + 1.5 - 1.1}{2} = \\frac{1.0}{2} = 0.5$$\n\n4.  **CPU 到内存 (CPU $\\rightarrow$ MEM)**\n    此处，Prev = CPU 且 Next = MEM。\n    $t_{\\text{disPrev}} = t_{\\text{disCPU}} = 1.6\\,\\text{ns}$\n    $t_{\\text{enNext}} = t_{\\text{enMEM}} = 1.8\\,\\text{ns}$\n    $$N \\ge \\frac{0.6 + 1.6 - 1.8}{2} = \\frac{0.4}{2} = 0.2$$\n\n我们得到关于 $N$ 的四个条件：$N \\ge 1.25$，$N \\ge 0.95$，$N \\ge 0.5$ 和 $N \\ge 0.2$。为确保所有可能的转换都满足保护时间约束，$N$ 必须大于或等于这些下界中的最大值。\n$$N \\ge \\max(1.25, 0.95, 0.5, 0.2)$$\n$$N \\ge 1.25$$\n\n由于 $N$ 代表完整时钟周期的数量，它必须是一个整数。满足条件 $N \\ge 1.25$ 的最小整数值是 $2$。这个 $N$ 值保证了即使在最坏情况的时序场景（内存到 CPU 的转换）下，总线转换保护时间的约束也能得到满足。\n因此，在任意两次连续的总线访问之间必须插入至少 $2$ 个空闲周期，以确保没有总线竞争。",
            "answer": "$$\\boxed{2}$$"
        },
        {
            "introduction": "总线竞争的根源有时并不仅仅是物理层面的时序交接问题，也可能隐藏在控制信号的产生逻辑之中。一个设计不当的组合逻辑电路，在输入信号变化时可能会产生短暂的错误输出——即“毛刺”或逻辑冒险。本练习将引导你扮演一个数字逻辑设计师的角色，使用卡诺图来分析一个输出使能信号的逻辑函数，识别并消除其中存在的静态冒险，从而深刻理解如何从逻辑设计的源头杜绝总线竞争的隐患。",
            "id": "3685937",
            "problem": "一个同步中央处理器 (CPU) 从共享的三态数据总线上读取数据。该数据总线由内存映射设备驱动，这些设备的输出由一个输出使能 (OE) 信号控制，并通过三态缓冲器连接。一个设备的OE信号必须由以下四个二进制输入生成：$A$、$S$、$D$ 和 $R$。其中，$A$ 表示高位地址区域选择（如果当前地址在设备的主区域内，则 $A=1$，否则 $A=0$），$S$ 表示从低位地址位派生的子块选择器，$D$ 表示设备影子区域的动态镜像使能，$R$ 表示读控制（如果CPU处于读周期并期望该设备驱动总线，则 $R=1$）。所有信号均使用正逻辑。\n\n设备规范如下：\n- 在读周期 ($R=1$) 期间，如果主区域和所需的子块被选中（$A=1$ 且 $S=1$），无论 $D$ 为何值；或者当主区域未被选中时影子区域被使能（$A=0$ 且 $D=1$），无论 $S$ 为何值，设备都应驱动总线。\n- 在非读周期 ($R=0$) 期间，设备不应驱动总线。\n\n假设地址和控制信号的变化没有保证的相位关系，但单个输入变化是由与组合险象一致的门传播延迟主导的单位转换。为防止因OE信号的瞬态误断言而引起的总线竞争，OE逻辑对于任何单变量输入变化都必须是无险象的。\n\n任务：\n1. 使用一个四变量函数 $O(A,S,D,R)$ 的卡诺图 (K-map) 来编码上述行为，并推导出 $O$ 的最小“积之和”表达式。\n2. 考虑当 $S=1$、$D=1$ 和 $R=1$ 时，$A$ 在 $0$ 和 $1$ 之间转换，总线竞争被建模为静态1险象。通过添加适当的共识项，重新设计OE逻辑，使其对单变量输入变化是无险象的。使用共识定理，但除了存在非零传播延迟外，不要假设任何特定的门延迟。\n3. 以闭合形式提供 $O$ 的最终无险象布尔表达式，仅使用变量 $A$、$S$、$D$、$R$ 和标准布尔运算符。您的最终答案必须是单一的解析表达式。无需四舍五入，也不涉及单位。",
            "solution": "所述问题在数字逻辑设计和计算机体系结构学科中是形式上合理且定义明确的。它描述了一个为共享总线上的内存映射外设设计接口逻辑的现实场景，其中防止由逻辑险象引起的总线竞争是一项关键的设计要求。所有提供的信息都是自洽、一致且有科学依据的。因此，我们可以进行形式化的求解。\n\n任务是为输出使能 (OE) 信号推导一个无险象的布尔表达式，我们将其表示为函数 $O(A,S,D,R)$。该函数的行为由问题陈述指定。\n\n首先，我们将英文规范转换成布尔代数表达式。\n在非读周期，设备不得驱动总线，这意味着当读控制信号 $R$ 为 $0$ 时，输出 $O$ 必须为 $0$。这表明 $R$ 是 $O$ 的“积之和” (SOP) 表达式中任何项的必要组成部分。在数学上，这可以表示为 $O(A,S,D,R) = R \\cdot f(A,S,D)$，其中 $f$ 是某个函数。\n\n在读周期 ($R=1$) 期间，设备在以下两种情况下驱动总线 ($O=1$)：\n1. 主区域和所需的子块被选中，对应于 $A=1$ 和 $S=1$。这给出了乘积项 $A \\cdot S$。\n2. 当主区域未被选中时，影子区域被使能，对应于 $D=1$ 和 $A=0$。这给出了乘积项 $\\bar{A} \\cdot D$。\n\n通过或运算组合这两种情况，当 $R=1$ 时的行为是 $A \\cdot S + \\bar{A} \\cdot D$。\n考虑到对 $R$ 的依赖，输出的完整布尔表达式为：\n$$O(A,S,D,R) = R \\cdot (A \\cdot S + \\bar{A} \\cdot D)$$\n将其展开为“积之和”形式，我们得到：\n$$O(A,S,D,R) = A S R + \\bar{A} D R$$\n\n**1. 最小“积之和”表达式的推导**\n\n为了确认此表达式是否为最小，我们使用一个四变量卡诺图 (K-map)。我们将变量 $A$ 和 $S$ 分配给行，$D$ 和 $R$ 分配给列，遵循格雷码顺序 ($00, 01, 11, 10$)。$O=1$ 的最小项由两个乘积项推导得出：\n- 来自 $A S R$：当 $A=1, S=1, R=1$ 时，该项为 $1$。$D$ 可以是 $0$ 或 $1$。这对应于最小项 $m_{13}$ ($1101_2$) 和 $m_{15}$ ($1111_2$) 。\n- 来自 $\\bar{A} D R$：当 $A=0, D=1, R=1$ 时，该项为 $1$。$S$ 可以是 $0$ 或 $1$。这对应于最小项 $m_3$ ($0011_2$) 和 $m_7$ ($0111_2$) 。\n\n$O(A,S,D,R)$ 的卡诺图结果如下：\n$$\n\\begin{array}{c|c|c|c|c}\n\\text{AS} \\setminus \\text{DR}  00  01  11  10 \\\\\n\\hline\n00  0  0  1_{m_3}  0 \\\\\n\\hline\n01  0  0  1_{m_7}  0 \\\\\n\\hline\n11  0  1_{m_{13}}  1_{m_{15}}  0 \\\\\n\\hline\n10  0  0  0  0 \\\\\n\\end{array}\n$$\n我们组合相邻的 $1$ 来找到素蕴涵项：\n- 一组两个 $1$ 覆盖了最小项 $m_3$ 和 $m_7$。对于这个组，$A=0$，$D=1$，$R=1$，而 $S$ 变化。对应的素蕴涵项是 $\\bar{A}DR$。\n- 一组两个 $1$ 覆盖了最小项 $m_{13}$ 和 $m_{15}$。对于这个组，$A=1$，$S=1$，$R=1$，而 $D$ 变化。对应的素蕴涵项是 $ASR$。\n\n这两个素蕴涵项都是本质的，因为 $m_3$ 和 $m_7$ 仅由 $\\bar{A}DR$ 覆盖，而 $m_{13}$ 仅由 $ASR$ 覆盖。最小“积之和”表达式是所有本质素蕴涵项的和。\n$O_{min}(A,S,D,R) = ASR + \\bar{A}DR$\n\n**2. 险象分析与无险象操作的重新设计**\n\n当单个输入变量发生变化，导致输出在应保持为 $1$ 时瞬间变为 $0$，则SOP电路中可能出现静态1险象。如果卡诺图中的两个相邻的 $1$ 被不同的乘积项覆盖，就会发生这种情况。\n\n问题指定要检查当 $S=1, D=1, R=1$ 时，$A$ 在 $0$ 和 $1$ 之间的转换。\n- 当 $A=0, S=1, D=1, R=1$ 时：输入组合为 $0111_2$，对应最小项 $m_7$。输出为 $O = (0 \\cdot 1 \\cdot 1) + (1 \\cdot 1 \\cdot 1) = 1$。项 $\\bar{A}DR$ 的值为 $1$。\n- 当 $A=1, S=1, D=1, R=1$ 时：输入组合为 $1111_2$，对应最小项 $m_{15}$。输出为 $O = (1 \\cdot 1 \\cdot 1) + (0 \\cdot 1 \\cdot 1) = 1$。项 $ASR$ 的值为 $1$。\n\n在卡诺图中，最小项 $m_7$ 和 $m_{15}$ 是相邻的。然而，$m_7$ 被蕴涵项 $\\bar{A}DR$ 覆盖，而 $m_{15}$ 被蕴涵项 $ASR$ 覆盖。因为它们被不同的项覆盖，所以存在险象。当 $A$ 从 $0$ 转换到 $1$ 时，项 $\\bar{A}DR$ 关闭。由于门传播延迟，项 $ASR$ 可能尚未开启。在这个瞬态间隔内，两个项都可能为 $0$，导致输出 $O$ 瞬间降为 $0$ 的毛刺。这可能引起总线竞争。\n\n为了消除这个险象，我们添加一个覆盖了险象转换的共识项。共识定理指出，对于形式为 $XY + \\bar{X}Z$ 的表达式，其共识项为 $YZ$。无险象形式为 $XY + \\bar{X}Z + YZ$。\n我们产生险象的两个乘积项是 $P_1 = ASR$ 和 $P_2 = \\bar{A}DR$。\n我们应用共识定理：\n- 同时以原变量和反变量形式出现的变量是 $A$。\n- $P_1$ 中剩余的文字构成乘积 $SR$。\n- $P_2$ 中剩余的文字构成乘积 $DR$。\n共识项是这些剩余部分的乘积：$(SR) \\cdot (DR) = SDRR = SDR$。\n\n通过将这个逻辑冗余项 $SDR$ 添加到最小SOP表达式中，我们创建了一个新的乘积项，它在 $A$ 的整个转换过程中（给定 $S=D=R=1$）保持高电平，从而将输出 $O$ 稳定地保持在 $1$。这个新项对应于卡诺图上最小项 $m_7$ 和 $m_{15}$ 的一个组合。\n\n**3. 最终的无险象布尔表达式**\n\n输出使能信号 $O$ 的最终无险象表达式是原始素蕴涵项与上述推导出的共识项之和。这确保了卡诺图中每对相邻的 $1$ 都被一个共同的乘积项覆盖，从而消除了所有单变量输入变化引起的静态1险象。\n\n无险象表达式为：\n$$O_{hf}(A,S,D,R) = ASR + \\bar{A}DR + SDR$$\n该表达式保证了在单位地址或控制信号变化期间，OE信号不会因组合险象而错误地被撤销，从而防止了总线竞争。",
            "answer": "$$\\boxed{A S R + \\overline{A} D R + S D R}$$"
        }
    ]
}