{
    "hands_on_practices": [
        {
            "introduction": "为了确保共享总线上的数据能被所有接收设备正确读取，驱动器在“高”和“低”状态下产生的电压必须在负载下依然保持在规定范围内。本练习将现实世界中的驱动器建模为戴维南等效电路，引导你运用基础电路理论（如欧姆定律和基尔霍夫定律）来计算最坏情况下的总线电压。通过这个实践，你将学会如何验证一个总线设计是否满足必要的噪声容限，从而保证信号的完整性。",
            "id": "3685867",
            "problem": "一个同步共享总线由相同的三态输出驱动器驱动。当启用并驱动逻辑高电平时，每个驱动器可以被建模为一个戴维南等效电路，该电路由一个值为 $V_{OH,\\min}$ 的理想电压源与一个输出电阻 $R_{out}$ 串联组成。当启用并驱动逻辑低电平时，每个驱动器可以被建模为一个值为 $V_{OL,\\max}$ 的理想电压源与同一个输出电阻 $R_{out}$ 串联组成。在任何时刻只有一个驱动器被启用。该总线由 $N$ 个接收设备加载，它们的组合最坏情况静态负载可以用一个大小为 $I_{load}$ 的等效电流源来表示，该电流源连接在总线节点和参考电轨之间，具体如下：在驱动高电平状态下，负载从总线向地吸取大小为 $I_{load}$ 的电流；而在驱动低电平状态下，负载从电源向总线提供大小相同的电流 $I_{load}$。\n\n给定驱动器和接收器的以下保证参数：\n- 最小高电平开路输出电压 $V_{OH,\\min} = 3.0$ V。\n- 最大低电平开路输出电压 $V_{OL,\\max} = 0.12$ V。\n- 输出电阻 $R_{out} = 14.7$ $\\Omega$。\n- 最坏情况静态负载电流大小 $I_{load} = 0.016$ A。\n- 接收器最小高电平输入阈值 $V_{IH,\\min} = 2.30$ V。\n- 接收器最大低电平输入阈值 $V_{IL,\\max} = 1.00$ V。\n\n从基尔霍夫定律、欧姆定律以及上述戴维南等效模型出发，推导在指定负载下，驱动高电平和驱动低电平状态下的最坏情况直流总线电压 $V_{bus}$ 的表达式，然后进行数值计算。验证计算出的最坏情况总线电压是否满足接收器的逻辑电平阈值，并给出有序对 $\\left(V_{bus,\\text{high}},\\,V_{bus,\\text{low}}\\right)$。\n\n以伏特为单位提供您的最终有序对，并四舍五入到四位有效数字。",
            "solution": "问题陈述经评估有效。它在科学上基于基本电路理论（基尔霍夫定律、欧姆定律），为数字逻辑元件使用了标准且适当的模型（驱动器的戴维南等效模型、负载的电流源模型），问题提出得很好，具有一套完整且一致的参数，并以客观、明确的语言表达。通过形式化分析可以得出一个唯一的、有意义的解。\n\n该问题要求计算共享总线系统在两种状态下的最坏情况直流总线电压水平 $V_{bus}$：驱动高电平和驱动低电平。这是一个经典的信号完整性分析，用于确定在指定的负载条件下是否满足逻辑电平要求。\n\n**驱动高电平状态分析**\n\n在驱动高电平状态下，一个三态驱动器被启用并输出逻辑高电平。根据题目描述，该驱动器可以被建模为一个戴维南等效电路，由一个值为 $V_{OH,\\min}$ 的理想电压源和一个输出电阻 $R_{out}$ 串联组成。总线本身由一组接收器加载，其综合效应被建模为一个大小为 $I_{load}$ 的单一电流源，从总线节点向地吸取电流。这代表了最坏情况，因为使用了驱动器保证的最小输出电压 ($V_{OH,\\min}$)，并且负载电流的作用是拉低总线电压。\n\n设 $V_{bus,\\text{high}}$ 为总线节点的电压。在该节点上应用基尔霍夫电流定律（KCL），驱动器提供的电流必须等于负载吸取的电流。根据欧姆定律，由驱动器提供、流经其输出电阻 $R_{out}$ 的电流为：\n$$I_{driver} = \\frac{V_{OH,\\min} - V_{bus,\\text{high}}}{R_{out}}$$\n负载电流给定为 $I_{load}$。根据KCL使电流相等：\n$$\\frac{V_{OH,\\min} - V_{bus,\\text{high}}}{R_{out}} = I_{load}$$\n我们现在可以解这个方程得到 $V_{bus,\\text{high}}$：\n$$V_{OH,\\min} - V_{bus,\\text{high}} = I_{load} R_{out}$$\n$$V_{bus,\\text{high}} = V_{OH,\\min} - I_{load} R_{out}$$\n\n**驱动低电平状态分析**\n\n在驱动低电平状态下，一个驱动器输出逻辑低电平。该驱动器被建模为一个戴维南等效电路，由一个值为 $V_{OL,\\max}$ 的理想电压源和同一个输出电阻 $R_{out}$ 串联组成。在这种状态下，负载从电源向总线节点提供一个大小为 $I_{load}$ 的电流。这代表了逻辑低电平的最坏情况，因为使用了驱动器保证的最大输出电压 ($V_{OL,\\max}$)，并且负载电流的作用是拉高总线电压。\n\n设 $V_{bus,\\text{low}}$ 为总线节点的电压。在该节点上应用KCL，负载提供的电流必须被驱动器吸收。驱动器吸收的电流为：\n$$I_{driver} = \\frac{V_{bus,\\text{low}} - V_{OL,\\max}}{R_{out}}$$\n负载电流给定为 $I_{load}$。使电流相等：\n$$I_{load} = \\frac{V_{bus,\\text{low}} - V_{OL,\\max}}{R_{out}}$$\n求解 $V_{bus,\\text{low}}$：\n$$I_{load} R_{out} = V_{bus,\\text{low}} - V_{OL,\\max}$$\n$$V_{bus,\\text{low}} = V_{OL,\\max} + I_{load} R_{out}$$\n\n**数值计算**\n\n给定的参数是：\n- $V_{OH,\\min} = 3.0$ V\n- $V_{OL,\\max} = 0.12$ V\n- $R_{out} = 14.7$ $\\Omega$\n- $I_{load} = 0.016$ A\n- $V_{IH,\\min} = 2.30$ V\n- $V_{IL,\\max} = 1.00$ V\n\n首先，我们计算由负载电流引起的驱动器输出电阻上的电压降（对于高电平状态）或电压升（对于低电平状态）。这个项是 $I_{load} R_{out}$：\n$$I_{load} R_{out} = (0.016)(14.7) = 0.2352 \\text{ V}$$\n现在我们可以计算总线电压。对于驱动高电平状态：\n$$V_{bus,\\text{high}} = V_{OH,\\min} - I_{load} R_{out} = 3.0 - 0.2352 = 2.7648 \\text{ V}$$\n对于驱动低电平状态：\n$$V_{bus,\\text{low}} = V_{OL,\\max} + I_{load} R_{out} = 0.12 + 0.2352 = 0.3552 \\text{ V}$$\n\n**逻辑电平验证**\n\n为确保可靠运行，计算出的最坏情况总线电压必须满足接收器的输入阈值。\n对于逻辑高电平，条件是 $V_{bus,\\text{high}} \\ge V_{IH,\\min}$。\n$$2.7648 \\text{ V} \\ge 2.30 \\text{ V}$$\n此条件得到满足。高电平噪声容限为 $V_{NH} = V_{bus,\\text{high}} - V_{IH,\\min} = 2.7648 - 2.30 = 0.4648$ V。\n\n对于逻辑低电平，条件是 $V_{bus,\\text{low}} \\le V_{IL,\\max}$。\n$$0.3552 \\text{ V} \\le 1.00 \\text{ V}$$\n此条件也得到满足。低电平噪声容限为 $V_{NL} = V_{IL,\\max} - V_{bus,\\text{low}} = 1.00 - 0.3552 = 0.6448$ V。\n由于两个条件都得到满足，系统在指定的最坏情况静态负载下将能正常工作。\n\n**最终答案计算**\n\n问题要求给出有序对 $(V_{bus,\\text{high}},\\,V_{bus,\\text{low}})$，其值四舍五入到四位有效数字。\n$V_{bus,\\text{high}} = 2.7648$ V。四舍五入到四位有效数字，得到 $2.765$ V。\n$V_{bus,\\text{low}} = 0.3552$ V。这个值已经有四位有效数字。\n最终的有序对是 $(2.765, 0.3552)$。",
            "answer": "$$\\boxed{(2.765, 0.3552)}$$"
        },
        {
            "introduction": "在保证了单个驱动器能正常工作后，我们必须确保在任何时刻都只有一个设备在驱动总线。本练习将你的注意力从物理层转移到逻辑设计层，探讨如何生成无误的输出使能（OE）信号。你将为一个假设的内存映射设备设计控制逻辑，并使用卡诺图识别和消除可能导致瞬时总线竞争的静态冒险，这是在实际数字系统设计中避免硬件冲突的关键一步。",
            "id": "3685937",
            "problem": "一个同步中央处理器 (CPU) 从共享的三态数据总线读取数据。该数据总线由内存映射设备驱动，这些设备的输出由一个输出使能 (OE) 信号控制，并通过三态缓冲器连接。一个设备的OE信号必须由以下四个二进制输入生成：$A$、$S$、$D$ 和 $R$。其中，$A$ 表示高位地址区域选择（如果当前地址在设备的主区域内，则 $A=1$，否则 $A=0$），$S$ 表示从低位地址位派生的子块选择器，$D$ 表示设备影子区域的动态镜像使能，$R$ 表示读控制（如果CPU处于读周期并期望该设备驱动总线，则 $R=1$）。所有信号均使用正逻辑。\n\n设备规范如下：\n- 在读周期（$R=1$）内，如果主区域和所需子块被选中（$A=1$ 且 $S=1$）（不论 $D$ 如何），或者在主区域未被选中时影子区域被使能（$A=0$ 且 $D=1$）（不论 $S$ 如何），则该设备应驱动总线。\n- 在非读周期（$R=0$）内，该设备不应驱动总线。\n\n假设地址和控制信号的变化没有保证的相位关系，但单个输入的改变是单位转换，其特性主要受与组合逻辑冒险一致的门传播延迟影响。为防止因OE信号的瞬态误断言引起的总线竞争，OE逻辑对于任何单变量输入变化都必须是无冒险的。\n\n任务：\n1. 使用卡诺图 (K-map) 对编码上述行为的四变量函数 $O(A,S,D,R)$ 进行分析，导出 $O$ 的最小积之和表达式。\n2. 考虑当 $A$ 在 $S=1$、$D=1$ 和 $R=1$ 的条件下在 $0$ 和 $1$ 之间转换时，总线竞争可建模为静态-1冒险。请通过添加适当的共识项来重新设计OE逻辑，使其对于单变量输入变化是无冒险的。使用共识定理，但除了存在非零传播延迟外，不作任何关于特定门延迟的假设。\n3. 提供最终的无冒险布尔表达式 $O$ 的闭合形式，仅使用变量 $A$、$S$、$D$、$R$ 和标准布尔运算符。你的最终答案必须是单个解析表达式。无需四舍五入，也不涉及单位。",
            "solution": "所述问题在数字逻辑设计和计算机体系结构学科中，形式上是健全且定义良好的。它描述了一个为共享总线上的内存映射外设设计接口逻辑的实际场景，其中防止由逻辑冒险引起的总线竞争是一项关键的设计要求。所有提供的信息都是自洽、一致且有科学依据的。因此，我们可以进行形式化的求解。\n\n任务是为输出使能 (OE) 信号导出一个无冒险的布尔表达式，我们将其表示为函数 $O(A,S,D,R)$。该函数的行为由问题陈述所规定。\n\n首先，我们将英文描述的规范转换成一个布尔代数表达式。\n在非读周期内，设备不得驱动总线，这意味着当读控制信号 $R$ 为 $0$ 时，输出 $O$ 必须为 $0$。这表明 $R$ 是 $O$ 的积之和 (SOP) 表达式中任何一项的必要组成部分。在数学上，这可以表示为 $O(A,S,D,R) = R \\cdot f(A,S,D)$，其中 $f$ 是某个函数。\n\n在读周期 ($R=1$) 内，设备在以下两种情况下驱动总线 ($O=1$)：\n1. 主区域和所需子块被选中，对应于 $A=1$ 和 $S=1$。这给出了乘积项 $A \\cdot S$。\n2. 影子区域被使能且主区域未被选中，对应于 $D=1$ 和 $A=0$。这给出了乘积项 $\\bar{A} \\cdot D$。\n\n用“或”运算组合这两个条件，得到 $R=1$ 时的行为是 $A \\cdot S + \\bar{A} \\cdot D$。\n考虑到对 $R$ 的依赖关系，完整的输出布尔表达式为：\n$$O(A,S,D,R) = R \\cdot (A \\cdot S + \\bar{A} \\cdot D)$$\n将其展开为积之和形式，我们得到：\n$$O(A,S,D,R) = A \\cdot S \\cdot R + \\bar{A} \\cdot D \\cdot R$$\n\n**1. 最小积之和表达式的推导**\n\n为确认此表达式是否为最小，我们使用一个四变量卡诺图 (K-map)。我们遵循格雷码顺序（$00, 01, 11, 10$），将变量 $A$ 和 $S$ 分配给行，将 $D$ 和 $R$ 分配给列。$O=1$ 的最小项由两个乘积项导出：\n- 来自 $A \\cdot S \\cdot R$：当 $A=1, S=1, R=1$ 时，该项为 $1$。$D$ 可以是 $0$ 或 $1$。这对应于最小项 $m_{13}$ ($1101_2$) 和 $m_{15}$ ($1111_2$) 。\n- 来自 $\\bar{A} \\cdot D \\cdot R$：当 $A=0, D=1, R=1$ 时，该项为 $1$。$S$ 可以是 $0$ 或 $1$。这对应于最小项 $m_3$ ($0011_2$) 和 $m_7$ ($0111_2$) 。\n\n$O(A,S,D,R)$ 的卡诺图结果如下：\n$$\n\\begin{array}{c|c|c|c|c}\n\\text{AS} \\setminus \\text{DR} & 00 & 01 & 11 & 10 \\\\\n\\hline\n00 & 0 & 0 & 1_{m_3} & 0 \\\\\n\\hline\n01 & 0 & 0 & 1_{m_7} & 0 \\\\\n\\hline\n11 & 0 & 1_{m_{13}} & 1_{m_{15}} & 0 \\\\\n\\hline\n10 & 0 & 0 & 0 & 0 \\\\\n\\end{array}\n$$\n我们通过组合相邻的 $1$ 来找到素蕴含项：\n- 覆盖最小项 $m_3$ 和 $m_7$ 的一组两个 $1$。对于该组，$A=0$，$D=1$，$R=1$，而 $S$ 可变。对应的素蕴含项是 $\\bar{A}DR$。\n- 覆盖最小项 $m_{13}$ 和 $m_{15}$ 的一组两个 $1$。对于该组，$A=1$，$S=1$，$R=1$，而 $D$ 可变。对应的素蕴含项是 $ASR$。\n\n这两个素蕴含项都是本质的，因为 $m_3$ 和 $m_7$ 被 $\\bar{A}DR$ 唯一覆盖，而 $m_{13}$ 被 $ASR$ 唯一覆盖。最小积之和表达式是所有本质素蕴含项的和。\n$$O_{min}(A,S,D,R) = ASR + \\bar{A}DR$$\n\n**2. 冒险分析与无冒险运行的重新设计**\n\n当单个输入变量发生变化，导致输出在应保持为 $1$ 时瞬间变为 $0$，则在SOP电路中可能会发生静态-1冒险。如果卡诺图中的两个相邻 $1$ 被不同的乘积项覆盖，就会发生这种情况。\n\n问题指定要检查当 $S=1$，$D=1$ 和 $R=1$ 时，$A$ 在 $0$ 和 $1$ 之间的转换。\n- 当 $A=0, S=1, D=1, R=1$ 时：输入组合为 $0111_2$，对应于最小项 $m_7$。输出为 $O = (0 \\cdot 1 \\cdot 1) + (1 \\cdot 1 \\cdot 1) = 1$。乘积项 $\\bar{A}DR$ 的值为 $1$。\n- 当 $A=1, S=1, D=1, R=1$ 时：输入组合为 $1111_2$，对应于最小项 $m_{15}$。输出为 $O = (1 \\cdot 1 \\cdot 1) + (0 \\cdot 1 \\cdot 1) = 1$。乘积项 $ASR$ 的值为 $1$。\n\n在卡诺图中，最小项 $m_7$ 和 $m_{15}$ 是相邻的。然而，$m_7$ 被蕴含项 $\\bar{A}DR$ 覆盖，而 $m_{15}$ 被蕴含项 $ASR$ 覆盖。由于它们被不同的项覆盖，因此存在冒险。当 $A$ 从 $0$ 转换到 $1$ 时，项 $\\bar{A}DR$ 关闭。由于门传播延迟，项 $ASR$ 可能尚未开启。在此瞬态间隔期间，两个项都可能为 $0$，导致输出 $O$ 瞬间下降到 $0$ 的毛刺。这可能引起总线竞争。\n\n为消除此冒险，我们添加一个覆盖此冒险转换的共识项。共识定理指出，对于形式为 $XY + \\bar{X}Z$ 的表达式，其共识项为 $YZ$。无冒险形式为 $XY + \\bar{X}Z + YZ$。\n我们制造冒险的两个乘积项是 $P_1 = ASR$ 和 $P_2 = \\bar{A}DR$。\n让我们应用共识定理：\n- 同时以原变量和反变量形式出现的变量是 $A$。\n- $P_1$ 中的其余字面量构成乘积 $SR$。\n- $P_2$ 中的其余字面量构成乘积 $DR$。\n共识项是这些剩余部分的乘积：$(SR) \\cdot (DR) = SDRR = SDR$。\n\n通过将这个逻辑上冗余的项 $SDR$ 添加到最小SOP表达式中，我们创建了一个新的乘积项，它在 $A$ 的整个转换期间（给定 $S=D=R=1$）保持高电平，从而将输出 $O$ 维持在稳定的 $1$。这个新项对应于卡诺图上最小项 $m_7$ 和 $m_{15}$ 的一个分组。\n\n**3. 最终的无冒险布尔表达式**\n\n输出使能信号 $O$ 的最终无冒险表达式是原始素蕴含项与上述推导的共识项之和。这确保了卡诺图中每一对相邻的 $1$ 都被一个公共的乘积项所覆盖，从而消除了所有由单变量输入变化引起的静态-1冒险。\n\n无冒险表达式为：\n$$O_{hf}(A,S,D,R) = ASR + \\bar{A}DR + SDR$$\n该表达式保证了在单位地址或控制信号变化期间，OE信号不会因组合冒险而错误地变为无效，从而防止了总线竞争。",
            "answer": "$$\\boxed{A S R + \\bar{A} D R + S D R}$$"
        },
        {
            "introduction": "最后，我们将视角提升到整个系统层面，分析多个不同设备（如CPU、内存和DMA控制器）之间总线所有权的交接过程。由于不同设备的电气特性各异，其驱动和释放总线所需的时间也不同，因此安全的总线“周转”至关重要。本练习要求你基于一个同步系统的时序参数，推导并计算为保证无冲突操作所需的最少“空闲”时钟周期数，这让你深刻体会到在总线架构中性能与可靠性之间的权衡。",
            "id": "3685958",
            "problem": "在一个基于处理器的系统中，一条同步共享数据总线使用三态逻辑来避免电气冲突。该系统由一个中央处理器 (CPU)、一个同步静态随机存取存储器 (SRAM) 设备和一个直接存储器访问 (DMA) 控制器组成，它们共享一条 $32$ 位的数据总线。在任何时刻，只有一个设备可以主动驱动数据总线；非活动设备必须将其输出置于高阻态，表示为 $Z$。每个设备的驱动器由一个输出使能 (OE) 信号控制。当 $OE$ 信号有效时，设备在经过一段有限的使能延迟后开始驱动总线；当 $OE$ 信号无效时，设备在经过一段有限的禁用延迟后将总线释放到 $Z$ 状态。为确保科学真实性和安全的总线操作，必须有一个非零的总线转换保护时间，在此期间，前一个驱动器释放总线后、下一个驱动器开始驱动总线前，总线保持在 $Z$ 状态。所有组件都以时钟周期 $T$ 同步工作。\n\n假设有以下组织结构和时序参数：\n- CPU 执行一个五级流水线，包括取指 ($F$)、译码 ($D$)、执行 ($E$)、访存 ($M$) 和写回 ($W$) 五个阶段，每个阶段持续时间为 $T$。所有由 CPU 发起的数据总线活动都发生在 $M$ 阶段。\n- 在内存读取操作中，存储设备在 CPU 的 $M$ 阶段开始时将其 $OE$ 置为有效，并在该 $M$ 阶段结束时置为无效。存储器的数据输出在 $OE$ 有效后经过 $t_{\\text{enMEM}}$ 的延迟开始驱动总线，在 $OE$ 无效后经过 $t_{\\text{disMEM}}$ 的延迟停止驱动。\n- 在 CPU 写入操作中，CPU 的数据驱动器在 CPU 的 $M$ 阶段开始时将 $OE$ 置为有效，并在该 $M$ 阶段结束时置为无效。CPU 在 $OE$ 有效后经过 $t_{\\text{enCPU}}$ 的延迟开始驱动，在 $OE$ 无效后经过 $t_{\\text{disCPU}}$ 的延迟完全释放。\n- DMA 控制器在与系统时钟对齐的单周期总线阶段内执行总线传输。它在其总线阶段开始时将 $OE$ 置为有效，并在结束时置为无效。DMA 在 $OE$ 有效后经过 $t_{\\text{enDMA}}$ 的延迟开始驱动，在 $OE$ 无效后经过 $t_{\\text{disDMA}}$ 的延迟释放。\n- 所需的总线转换保护时间为 $t_{\\text{TA}}$，这必须作为一个时间窗口来满足，在该窗口内，从前一个驱动器实际停止驱动到下一个驱动器实际开始驱动之间，总线保持在 $Z$ 状态。\n\n你需要构建一个测试场景，演练内存、CPU 和 DMA 之间的总线所有权变更，然后确定在每次转换期间，数据总线必须保持在 $Z$ 状态的最小完整时钟周期数，以保证在满足 $t_{\\text{TA}}$ 的同时没有冲突。使用以下时序常数和时钟周期：\n- $T = 2\\,\\text{ns}$，\n- $t_{\\text{enMEM}} = 1.8\\,\\text{ns}$，$t_{\\text{disMEM}} = 3.0\\,\\text{ns}$，\n- $t_{\\text{enCPU}} = 1.1\\,\\text{ns}$，$t_{\\text{disCPU}} = 1.6\\,\\text{ns}$，\n- $t_{\\text{enDMA}} = 1.7\\,\\text{ns}$，$t_{\\text{disDMA}} = 1.5\\,\\text{ns}$，\n- $t_{\\text{TA}} = 0.6\\,\\text{ns}$。\n\n将每个 $OE$ 的有效和无效操作映射到如上所述的相应流水线阶段边界。考虑一个复合序列，其中包含从内存到 CPU、从内存到 DMA、从 DMA 到 CPU、以及从 CPU 到内存的连续总线所有权转换，所有这些转换都发生在长度为 $T$ 的连续阶段边界上，并且在任意两个连续的总线所有者之间插入固定数量 $N$ 的空闲周期以将总线保持在 $Z$ 状态。从第一性原理推导出为确保每对连续所有者之间总线在 $Z$ 状态至少保持 $t_{\\text{TA}}$ 所需的对 $N$ 的约束，然后计算满足此场景中所有转换的最小整数 $N$。\n\n将你的最终答案表示为单个整数 $N$（以周期为单位）。除了周期计数的固有整数性质外，不需要进行四舍五入。最终答案框中不应包含单位。",
            "solution": "问题要求确定在连续的总线所有者之间必须插入的最小空闲时钟周期数 $N$，以保证安全的总线操作。安全操作定义为没有总线冲突，并满足最小总线转换保护时间 $t_{\\text{TA}}$。\n\n让我们建立一个正式的时序模型。系统在一个周期为 $T$ 的同步时钟上运行。一个时钟周期 $k$ 从时间 $t = kT$ 开始，到时间 $t = (k+1)T$ 结束。\n\n考虑一次从记为“Prev”的设备到记为“Next”的设备的总线所有权转换。根据问题描述，设备“Prev”被分配一个时钟周期的总线使用权，比如周期 $k$。其输出使能信号 $OE_{\\text{Prev}}$ 在该周期开始时（$t=kT$）置为有效，在结束时（$t=(k+1)T$）置为无效。\n\n问题指出，在 $OE_{\\text{Prev}}$ 置为无效与设备的驱动器实际将总线释放到高阻态 ($Z$) 的时刻之间，存在一个禁用延迟 $t_{\\text{disPrev}}$。因此，“Prev”设备在时间 $t_{\\text{release,Prev}}$ 完全释放总线：\n$$t_{\\text{release,Prev}} = (k+1)T + t_{\\text{disPrev}}$$\n\n在“Prev”拥有总线的周期之后，插入 $N$ 个空闲时钟周期。这意味着在周期 $k+1, k+2, \\dots, k+N$ 期间，总线不分配给任何设备。下一个总线所有者“Next”被安排在周期 $k+N+1$ 期间使用总线。\n\n“Next”设备的 $OE_{\\text{Next}}$ 信号在其分配的周期开始时置为有效，即时间 $t=(k+N+1)T$。在 $OE_{\\text{Next}}$ 置为有效与设备的驱动器实际开始驱动总线的时刻之间，存在一个使能延迟 $t_{\\text{enNext}}$。因此，“Next”设备在时间 $t_{\\text{drive,Next}}$ 开始驱动总线：\n$$t_{\\text{drive,Next}} = (k+N+1)T + t_{\\text{enNext}}$$\n\n为防止总线冲突，“Prev”设备必须在“Next”设备开始驱动总线之前停止驱动。这两个事件之间的时间间隔是总线转换保护时间 $t_{\\text{guard}}$。这个间隔必须至少为 $t_{\\text{TA}}$。\n$$t_{\\text{guard}} = t_{\\text{drive,Next}} - t_{\\text{release,Prev}} \\ge t_{\\text{TA}}$$\n\n将 $t_{\\text{release,Prev}}$ 和 $t_{\\text{drive,Next}}$ 的表达式代入这个不等式，得到：\n$$((k+N+1)T + t_{\\text{enNext}}) - ((k+1)T + t_{\\text{disPrev}}) \\ge t_{\\text{TA}}$$\n\n我们可以简化这个表达式来推导出对 $N$ 的约束。$kT$ 项被消去：\n$$(N+1)T - T + t_{\\text{enNext}} - t_{\\text{disPrev}} \\ge t_{\\text{TA}}$$\n$$NT + t_{\\text{enNext}} - t_{\\text{disPrev}} \\ge t_{\\text{TA}}$$\n\n对 $N$ 求解，我们得到从任意设备“Prev”转换到任意设备“Next”所需的最小空闲周期数的通用公式：\n$$NT \\ge t_{\\text{TA}} + t_{\\text{disPrev}} - t_{\\text{enNext}}$$\n$$N \\ge \\frac{t_{\\text{TA}} + t_{\\text{disPrev}} - t_{\\text{enNext}}}{T}$$\n\n现在，我们必须使用提供的时序常数，对问题中指定的所有四种总线所有权转换场景评估此约束：\n- $T = 2\\,\\text{ns}$\n- $t_{\\text{TA}} = 0.6\\,\\text{ns}$\n- 内存延迟：$t_{\\text{enMEM}} = 1.8\\,\\text{ns}$，$t_{\\text{disMEM}} = 3.0\\,\\text{ns}$\n- CPU 延迟：$t_{\\text{enCPU}} = 1.1\\,\\text{ns}$，$t_{\\text{disCPU}} = 1.6\\,\\text{ns}$\n- DMA 延迟：$t_{\\text{enDMA}} = 1.7\\,\\text{ns}$，$t_{\\text{disDMA}} = 1.5\\,\\text{ns}$\n\n让我们分析每种情况：\n\n1.  **内存到 CPU (MEM $\\rightarrow$ CPU)**\n    此处，Prev = MEM 且 Next = CPU。\n    $t_{\\text{disPrev}} = t_{\\text{disMEM}} = 3.0\\,\\text{ns}$\n    $t_{\\text{enNext}} = t_{\\text{enCPU}} = 1.1\\,\\text{ns}$\n    $$N \\ge \\frac{0.6 + 3.0 - 1.1}{2} = \\frac{2.5}{2} = 1.25$$\n\n2.  **内存到 DMA (MEM $\\rightarrow$ DMA)**\n    此处，Prev = MEM 且 Next = DMA。\n    $t_{\\text{disPrev}} = t_{\\text{disMEM}} = 3.0\\,\\text{ns}$\n    $t_{\\text{enNext}} = t_{\\text{enDMA}} = 1.7\\,\\text{ns}$\n    $$N \\ge \\frac{0.6 + 3.0 - 1.7}{2} = \\frac{1.9}{2} = 0.95$$\n\n3.  **DMA 到 CPU (DMA $\\rightarrow$ CPU)**\n    此处，Prev = DMA 且 Next = CPU。\n    $t_{\\text{disPrev}} = t_{\\text{disDMA}} = 1.5\\,\\text{ns}$\n    $t_{\\text{enNext}} = t_{\\text{enCPU}} = 1.1\\,\\text{ns}$\n    $$N \\ge \\frac{0.6 + 1.5 - 1.1}{2} = \\frac{1.0}{2} = 0.5$$\n\n4.  **CPU 到内存 (CPU $\\rightarrow$ MEM)**\n    此处，Prev = CPU 且 Next = MEM。\n    $t_{\\text{disPrev}} = t_{\\text{disCPU}} = 1.6\\,\\text{ns}$\n    $t_{\\text{enNext}} = t_{\\text{enMEM}} = 1.8\\,\\text{ns}$\n    $$N \\ge \\frac{0.6 + 1.6 - 1.8}{2} = \\frac{0.4}{2} = 0.2$$\n\n我们得到了四个关于 $N$ 的条件：$N \\ge 1.25$，$N \\ge 0.95$，$N \\ge 0.5$ 和 $N \\ge 0.2$。为确保所有可能的转换都满足保护时间约束，$N$ 必须大于或等于这些下界中的最大值。\n$$N \\ge \\max(1.25, 0.95, 0.5, 0.2)$$\n$$N \\ge 1.25$$\n\n由于 $N$ 代表完整的时钟周期数，它必须是一个整数。满足条件 $N \\ge 1.25$ 的最小整数 $N$ 是 $2$。这个 $N$ 值保证了即使在最坏情况的时序场景（内存到 CPU 的转换）下，总线转换保护时间的约束也能得到满足。因此，在任意两次连续的总线访问之间必须插入最少 $2$ 个空闲周期，以确保没有总线冲突。",
            "answer": "$$\\boxed{2}$$"
        }
    ]
}