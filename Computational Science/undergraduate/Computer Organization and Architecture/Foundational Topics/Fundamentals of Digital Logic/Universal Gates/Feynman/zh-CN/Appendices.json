{
    "hands_on_practices": [
        {
            "introduction": "理论知识需要通过实践来巩固。这项练习将引导你完成一个基础但至关重要的任务：仅使用与非门（NAND gates）来实现一个逻辑功能。这个过程不仅能加深你对布尔代数和德摩根定律的理解，更能让你亲身体验通用门在构建复杂数字电路中的核心作用。",
            "id": "1942444",
            "problem": "在数字逻辑设计中，像与非门（NAND）这样的通用门是基本的构建模块，因为任何布尔函数都可以仅使用这种类型的门来实现。一位工程师的任务是为一个比较器电路设计一个逻辑模块。该模块的核心是二元布尔函数 $F(A, B) = (A \\oplus B)'$，其中 $\\oplus$ 表示异或（XOR）运算，撇号（'）表示非（反相）运算。这个函数 $F$ 也被称为同或（XNOR）或逻辑等价函数。\n\n设计被限制为只能使用双输入与非门。唯一可用的输入信号是直接的、非反相的变量 $A$ 和 $B$。实现函数 $F(A, B)$ 所需的双输入与非门的最少数量是多少？\n\nA. 3\n\nB. 4\n\nC. 5\n\nD. 6\n\nE. 7",
            "solution": "问题要求在只给定输入 $A$ 和 $B$ 的情况下，实现同或函数 $F(A, B) = (A \\oplus B)'$ 所需的双输入与非门的最少数量。一个输入为 $X$ 和 $Y$ 的双输入与非门产生的输出是 $(XY)'$。\n\n首先，让我们用标准的布尔代数形式来表示同或函数。异或函数是 $A \\oplus B = A'B + AB'$。因此，同或函数是：\n$$F = (A'B + AB')'$$\n使用德摩根定律，我们可以变换这个表达式：\n$$F = (A'B)' \\cdot (AB')'$$\n$$F = (A + B') \\cdot (A' + B)$$\n展开这个和之积形式得到：\n$$F = AA' + AB + B'A' + B'B$$\n由于 $AA' = 0$ 且 $B'B = 0$，表达式简化为同或的积之和形式：\n$$F = AB + A'B'$$\n现在，我们需要仅使用双输入与非门来实现这个函数 $F = AB + A'B'$。\n\n实现积之和表达式的一种常用技术是使用两级与非-与非结构。通过两次应用德摩根定理（对合），我们可以将 $F$ 写成：\n$$F = (F')' = ((AB + A'B')')'$$\n对内部项应用德摩根定律：\n$$F = ((AB)' \\cdot (A'B')')'$$\n这个表达式的形式可以直接用与非门实现。让我们确定所需的操作并计算门的数量：\n1.  **计算 $(AB)'$**: 这需要一个输入为 $A$ 和 $B$ 的与非门。\n    *   $G_1 = (A \\cdot B)'$ (1个门)\n2.  **计算 $(A'B')'$**: 这需要输入 $A'$ 和 $B'$。由于只有 $A$ 和 $B$ 可用，我们必须首先生成它们的反相。一个非门可以通过将一个与非门的输入连接在一起形成，即 $X' = (X \\cdot X)'$。\n    *   $G_2 = (A \\cdot A)' = A'$ (1个门)\n    *   $G_3 = (B \\cdot B)' = B'$ (1个门)\n    *   现在，我们可以计算 $(A'B')'$。这需要一个与非门，其输入为 $A'$ (来自 $G_2$) 和 $B'$ (来自 $G_3$ )。\n    *   $G_4 = (A' \\cdot B')' = ((A \\cdot A)' \\cdot (B \\cdot B)')'$ (1个门)\n3.  **计算最终输出**: 最终表达式是 $F = ((AB)' \\cdot (A'B')')'$。这是对步骤1 ($G_1$) 和步骤2 ($G_4$) 的输出进行的与非操作。\n    *   $G_5 = (G_1 \\cdot G_4)' = ((A \\cdot B)' \\cdot (A' \\cdot B')')'$ (1个门)\n\n将用到的门加起来：$G_1, G_2, G_3, G_4, G_5$。总共是5个门。\n\n让我们考虑另一种常见的实现方式来验证5是否为最小值。众所周知，异或函数可以用4个与非门实现，如下所示：\n*   $G_a = (A \\cdot B)'$\n*   $G_b = (A \\cdot G_a)' = (A \\cdot (AB)')'$\n*   $G_c = (B \\cdot G_a)' = (B \\cdot (AB)')'$\n*   $Y_{XOR} = (G_b \\cdot G_c)' = ((A \\cdot (AB)')' \\cdot (B \\cdot (AB)')')'$\n\n我们来验证这个表达式是否产生异或：\n$G_b = (A \\cdot (A'+B'))' = (AA' + AB')' = (AB')' = A'+B$\n$G_c = (B \\cdot (A'+B'))' = (BA' + BB')' = (A'B)' = A+B'$\n$Y_{XOR} = ((A'+B)(A+B'))' = (A'A + A'B' + AB + BB')' = (A'B' + AB)'$\n项 $A'B' + AB$ 是同或函数。因此，$(A'B' + AB)'$ 是异或函数。所以，这个4门电路正确地实现了异或。\n\n为了得到同或函数 $F = (A \\oplus B)'$，我们必须将异或电路的输出反相。这需要一个额外的配置为反相器的与非门：\n*   $G_d = (Y_{XOR} \\cdot Y_{XOR})' = (Y_{XOR})'$\n\n这使得该实现的总门数为 $4 (\\text{用于异或}) + 1 (\\text{用于非}) = 5$ 个门。\n\n两种优化方法都得到了一个5门的实现。4门结构（选项B）实现的是异或，而不是同或。因此，所需的双输入与非门的最小数量是5。",
            "answer": "$$\\boxed{C}$$"
        },
        {
            "introduction": "在掌握了如何使用与非门之后，我们来挑战另一个通用门——或非门（NOR gate）。这项练习要求你使用或非门实现与上一练习相同的逻辑功能，这让你有机会比较不同通用门在实现同一功能时的效率差异。通过这个对比，你将对逻辑设计的灵活性和对偶性原理有更深刻的认识。",
            "id": "1967387",
            "problem": "在数字逻辑设计中，通用门是能够用来实现任何其他逻辑门的逻辑门。或非门就是一种这样的通用门。一个具有输入 $A$ 和 $B$ 的双输入或非门，其输出为高电平（逻辑1）当且仅当输入 $A$ 和 $B$ 均为低电平（逻辑0）。或非门的布尔表达式为 $(A+B)'$。\n\n另一种基本的逻辑门是双输入异或非门（XNOR），也称为同或门。一个异或非门的输出为高电平（逻辑1），当且仅当其两个输入 $A$ 和 $B$ 相同（均为0或均为1）。异或非门的布尔表达式为 $A'B' + AB$。\n\n您的任务是确定构建一个功能上等效于单个双输入异或非门的电路所需的最少双输入或非门数量。",
            "solution": "一个双输入或非门实现 $(X + Y)'$ 运算。利用这一点，我们构建一个四或非门网络（标准四与非门异或网络的对偶结构），该网络产生异或非函数，并用代数方法进行验证。\n\n仅使用双输入或非门定义中间信号：\n1. $D = A \\ \\text{NOR} \\ B = (A + B)'$。\n2. $E = A \\ \\text{NOR} \\ D = (A + D)'$。根据德摩根定律，$(X + Y)' = X' Y'$，所以\n$$E = (A + D)' = A' D' = A' (A + B) = A' A + A' B = 0 + A' B = A' B.$$\n3. $F = B \\ \\text{NOR} \\ D = (B + D)'$。类似地，\n$$F = (B + D)' = B' D' = B' (A + B) = A B' + B' B = A B' + 0 = A B'.$$\n4. 最终输出：\n$$Y = E \\ \\text{NOR} \\ F = (E + F)' = (A' B + A B')'.$$\n\n因为 $A \\oplus B = A' B + A B'$，我们得到 $Y = (A \\oplus B)'$，这正是异或非函数。为了明确地展示其规范等价形式，\n$$(A' B + A B')' = (A' B)' (A B')' = (A + B') (A' + B) = A A' + A B + A' B' + B' B = A B + A' B'.$$\n因此 $Y = A B + A' B'$，这证实了四个双输入或非门是足够的。\n\n要证明少于四个双输入或非门是不够的，注意到要实现 $A B + A' B'$，需要在不同的乘积项中同时有原变量和反变量。从 $A$ 和 $B$ 生成 $A'$ 和 $B'$ 至少需要两个或非门（每个通过将输入端连接在一起用作反相器），如果总数为三个，则最多只剩下一个门用于任何进一步的组合；剩下的单个或非门只能形成一个或运算的非，无法实现所需的两个乘积项之和。因此，三个或更少的双输入或非门无法实现异或非门。\n\n所以，所需的最少双输入或非门数量为四个。",
            "answer": "$$\\boxed{4}$$"
        },
        {
            "introduction": "现在，让我们将之前学到的技能应用于一个更实际、更复杂的场景：构建计算机的算术核心部件。这项练习将指导你从最基本的与非门出发，设计一个全加器，并进一步分析由它组成的$n$位行波加法器的性能。这个任务清晰地展示了如何从简单的逻辑门逐步构建出计算机体系结构中的关键功能模块，并将逻辑设计与电路性能分析紧密联系起来。",
            "id": "3687188",
            "problem": "一个全加器有三个布尔输入 $A$、$B$ 和 $C_{\\text{in}}$，并产生一个和输出 $S$ 和一个进位输出 $C_{\\text{out}}$。您只能使用双输入与非门（NAND gate），且每个双输入与非门的传播延迟 $t_g$ 均相同。忽略导线延迟和负载效应。\n\n任务：\n- 仅从全加器的和与进位的布尔定义，以及与非门是功能完备的和德摩根定律（De Morgan’s laws）成立的事实出发，推导一个仅使用双输入与非门的1位全加器的实现。您的推导必须明确地给出 $C_{\\text{out}}$ 和 $S$ 的纯与非门结构。\n- 通过级联 $n$ 个您设计的1位全加器副本来构建一个 $n$ 位行波进位加法器（Ripple-Carry Adder, RCA），使得 $C_i$ 是第 $i$ 位的进位输入，$C_{i+1}$ 是其进位输出。\n- 在最坏情况的进位传播条件下（没有内部产生的进位，且每一级都传播输入的进位），确定 $n$ 位RCA从主进位输入 $C_0$ 到最终进位输出 $C_n$ 的最坏情况延迟，并给出以 $n$ 和 $t_g$ 表示的闭式解析表达式。\n\n请给出您最终的答案，形式为一个关于 $n$ 和 $t_g$ 的单一闭式表达式。无需取整。",
            "solution": "该问题要求完成三个任务：第一，推导一个仅使用双输入与非门的1位全加器的实现；第二，描述一个由这些全加器构建的 $n$ 位行波进位加法器 (RCA)；第三，确定此 $n$ 位RCA的最坏情况进位传播延迟。\n\n第一步是建立1位全加器的布尔逻辑。一个全加器有三个输入，$A$、$B$ 和一个进位输入 $C_{\\text{in}}$，并产生两个输出，一个和 $S$ 和一个进位输出 $C_{\\text{out}}$。标准的布尔表达式为：\n$$S = A \\oplus B \\oplus C_{\\text{in}}$$\n$$C_{\\text{out}} = AB + AC_{\\text{in}} + BC_{\\text{in}}$$\n其中 $\\oplus$ 表示异或 (XOR) 运算。\n\n为了实现高效的纯与非门电路，找到 $S$ 和 $C_{\\text{out}}$ 共享公共子表达式的表示方法是有利的。我们可以通过因式分解重写 $C_{\\text{out}}$ 的表达式：\n$$C_{\\text{out}} = AB + C_{\\text{in}}(A+B)$$\n另一个对共享逻辑更有用的形式是 $C_{\\text{out}} = AB + C_{\\text{in}}(A \\oplus B)$。让我们验证其等价性：\n$$AB + C_{\\text{in}}(A \\oplus B) = AB + C_{\\text{in}}(A'B + AB') = AB + A'BC_{\\text{in}} + AB'C_{\\text{in}}$$\n标准表达式 $AB + AC_{\\text{in}} + BC_{\\text{in}}$ 的最小项展开为 $ABC'_{in} + ABC_{in} + A'BC_{in} + ABC_{in} + AB'C_{in} + ABC_{in} = ABC'_{in} + A'BC_{in} + AB'C_{in} + ABC_{in}$。\n我们因式分解形式的最小项展开为 $AB(C_{in}+C'_{in}) + A'BC_{in} + AB'C_{in} = ABC_{in} + ABC'_{in} + A'BC_{in} + AB'C_{in}$。\n这两个表达式在逻辑上是等价的。因此，我们将使用下面这组共享项 $A \\oplus B$ 的方程：\n$$S = (A \\oplus B) \\oplus C_{\\text{in}}$$\n$$C_{\\text{out}} = AB + C_{\\text{in}}(A \\oplus B)$$\n\n接下来，我们仅用双输入与非门推导一个双输入异或门。$X \\oplus Y$ 的表达式是 $X'Y + XY'$。这可以用4个与非门实现如下：\n$$X \\oplus Y = ((XY')'(X'Y)')'$$\n让我们找到内部项的与非表达式。最有效的实现基于结构 $X \\oplus Y = ((X(XY)')' (Y(XY)')')'$。\n设 $G_1 = (X \\cdot Y)'$。\n则 $G_2 = (X \\cdot G_1)' = (X \\cdot (XY)')' = (X(X'+Y'))' = (XY')'$。\n且 $G_3 = (Y \\cdot G_1)' = (Y \\cdot (XY)')' = (Y(X'+Y'))' = (X'Y)'$。\n最终输出是 $G_4 = (G_2 \\cdot G_3)' = ((XY')' \\cdot (X'Y)')' = XY' + X'Y = X \\oplus Y$。\n这证实了一个双输入异或功能可以由4个双输入与非门构建。\n\n现在，我们构建全加器。设 $H = A \\oplus B$。\n使用4门异或结构，我们可以计算 $H$：\n1. $N_1 = (A \\cdot B)'$\n2. $N_2 = (A \\cdot N_1)'$\n3. $N_3 = (B \\cdot N_1)'$\n4. $H = (N_2 \\cdot N_3)'$\n\n和输出为 $S = H \\oplus C_{\\text{in}}$。我们使用第二个4门异或结构来计算 $S$：\n5. $N_5 = (H \\cdot C_{\\text{in}})'$\n6. $N_6 = (H \\cdot N_5)'$\n7. $N_7 = (C_{\\text{in}} \\cdot N_5)'$\n8. $S = (N_6 \\cdot N_7)'$\n\n在这个序列中，和输出 $S$ 是第8个与非门的输出。\n\n对于进位输出，$C_{\\text{out}} = AB + C_{\\text{in}}H$。使用德摩根定律，任何“积之和”形式都可以转换为“与非-与非”结构：$X+Y = (X'Y')'$。\n$$C_{\\text{out}} = ((AB)' \\cdot (C_{\\text{in}}H)')'$$\n我们观察到，所需的项已经在我们计算 $S$ 的逻辑中作为中间信号被计算出来了：\n项 $(AB)'$ 是第一个门 $N_1$ 的输出。\n项 $(C_{\\text{in}}H)'$ 是第五个门 $N_5$ 的输出。\n因此，$C_{\\text{out}}$ 可以用一个额外的与非门计算：\n9. $C_{\\text{out}} = (N_1 \\cdot N_5)'$\n\n这就完成了使用9个双输入与非门推导1位全加器的过程。$S$ 是门8的输出，$C_{\\text{out}}$ 是门9的输出。\n\n第二个任务是构建一个 $n$ 位行波进位加法器 (RCA)。这通过级联 $n$ 个上面推导出的1位全加器 (FA) 电路实例来实现。设第 $i$ 级为 $FA_i$，其中 $i = 0, 1, \\dots, n-1$。$FA_i$ 接收输入 $A_i$、$B_i$ 和一个进位输入 $C_i$。它产生输出 $S_i$ 和一个进位输出 $C_{i+1}$。级联是通过将一级的进位输出连接到下一级的进位输入来完成的：来自 $FA_i$ 的输出 $C_{i+1}$ 成为 $FA_{i+1}$ 的输入 $C_{in}$。RCA 的主输入是两个 $n$ 位数 $A=A_{n-1}...A_0$ 和 $B=B_{n-1}...B_0$，以及初始进位输入 $C_0$。输出是 $n$ 位和 $S=S_{n-1}...S_0$ 和最终进位输出 $C_n$。\n\n第三个任务是确定从主进位输入 $C_0$ 到最终进位输出 $C_n$ 的最坏情况延迟。这个延迟是 $C_0$ 的变化传播通过整个 $n$ 个全加器链所需的时间。总延迟是每一级进位传播延迟的总和。我们必须找到单个全加器从 $C_{\\text{in}}$ 到 $C_{\\text{out}}$ 的延迟，我们将其表示为 $T_{C_{\\text{in}} \\to C_{\\text{out}}}$。\n\n问题指定了最坏情况的进位传播条件，即输入 $A_i$ 和 $B_i$ 是稳定的，并且其设置使得进位被传播，而不是在本地产生。这对应于 $A_i \\oplus B_i = 1$。在分析从 $C_i$ 到 $C_{i+1}$ 的延迟时，我们假设 $A_i$ 和 $B_i$ 是稳定的。\n\n让我们在我们为第 $i$ 级设计的9门全加器中追踪从 $C_i$ 到 $C_{i+1}$ 的信号路径。\n第 $i$ 级的进位输出表达式为 $C_{i+1} = (N_{1,i} \\cdot N_{5,i})'$。\n这个最终与非门的输入是 $N_{1,i} = (A_i \\cdot B_i)'$ 和 $N_{5,i} = (H_i \\cdot C_i)'$，其中 $H_i = A_i \\oplus B_i$。\n\n由于我们假设 $A_i$ 和 $B_i$ 是稳定的，任何仅依赖于它们的信号也是稳定的。这包括：\n- $N_{1,i} = (A_i \\cdot B_i)'$\n- $H_i = A_i \\oplus B_i$ (它是一个依赖于 $A_i, B_i$ 的4门子电路的输出)。\n\n进位输入信号 $C_i$ 的变化会影响到通往 $C_{i+1}$ 路径上的以下门：\n1. 信号 $C_i$ 是门 $N_{5,i} = (H_i \\cdot C_i)'$ 的一个输入。另一个输入 $H_i$ 是稳定的。$C_i$ 的变化将通过这个与非门传播，输出 $N_{5,i}$ 将在一个门延迟 $t_g$ 后变得稳定。\n2. 现在已改变的输出 $N_{5,i}$ 是最终进位门的输入，该门计算 $C_{i+1} = (N_{1,i} \\cdot N_{5,i})'$。该门的另一个输入 $N_{1,i}$ 是稳定的。$N_{5,i}$ 的变化将通过这个门传播，最终输出 $C_{i+1}$ 将在又一个门延迟 $t_g$ 后变得稳定。\n\n进位通过一级传播的关键路径是 $C_i \\to N_{5,i} \\to C_{i+1}$。该路径穿过两个与非门。因此，单级的进位传播延迟为：\n$$T_{C_i \\to C_{i+1}} = t_g + t_g = 2t_g$$\n\n对于一个 $n$ 位RCA，从 $C_0$ 到 $C_n$ 的总最坏情况延迟是行波链中 $n$ 级延迟的总和：\n$$T_{\\text{total}} = \\sum_{i=0}^{n-1} T_{C_i \\to C_{i+1}} = \\sum_{i=0}^{n-1} 2t_g = n \\cdot (2t_g)$$\n最终得到的延迟的闭式解析表达式为 $2nt_g$。",
            "answer": "$$ \\boxed{2nt_g} $$"
        }
    ]
}