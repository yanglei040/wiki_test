{
    "hands_on_practices": [
        {
            "introduction": "与非门（NAND）等通用门是数字逻辑设计的基石，因为任何布尔函数都可以仅用这一种门来实现。为了具体理解这一强大的特性，我们将从一个基本的逻辑门——异或非门（XNOR）入手，练习如何仅使用2输入与非门来构建它 。这个练习不仅能帮助我们验证与非门的通用性，也是掌握如何将抽象的布尔表达式转化为实际门级电路的关键一步。",
            "id": "1942444",
            "problem": "在数字逻辑设计中，像与非门（NAND）这样的通用门是基本的构建模块，因为任何布尔函数都可以仅使用这种类型的门来实现。一位工程师的任务是为一个比较器电路设计一个逻辑模块。该模块的核心是双变量布尔函数 $F(A, B) = (A \\oplus B)'$，其中 $\\oplus$ 表示异或（XOR）运算，撇号（'）表示非（反相）运算。这个函数 $F$ 也被称为同或（XNOR）或逻辑等价函数。\n\n设计被限制为只能使用双输入与非门。唯一可用的输入信号是直接的、非反相的变量 $A$ 和 $B$。实现函数 $F(A, B)$ 所需的双输入与非门的最小数量是多少？\n\nA. 3\n\nB. 4\n\nC. 5\n\nD. 6\n\nE. 7",
            "solution": "问题要求在仅有输入 $A$ 和 $B$ 的情况下，实现同或（XNOR）函数 $F(A, B) = (A \\oplus B)'$ 所需的双输入与非门的最小数量。一个输入为 $X$ 和 $Y$ 的双输入与非门产生的输出为 $(XY)'$。\n\n首先，让我们用标准的布尔代数形式来表示同或函数。异或函数是 $A \\oplus B = A'B + AB'$。因此，同或函数是：\n$$F = (A'B + AB')'$$\n使用德摩根定律，我们可以变换这个表达式：\n$$F = (A'B)' \\cdot (AB')'$$\n$$F = (A + B') \\cdot (A' + B)$$\n展开这个和之积形式得到：\n$$F = AA' + AB + B'A' + B'B$$\n由于 $AA' = 0$ 且 $B'B = 0$，表达式简化为同或的积之和形式：\n$$F = AB + A'B'$$\n现在，我们需要仅使用双输入与非门来实现这个函数 $F = AB + A'B'$。\n\n实现积之和表达式的一个常用技术是使用两级与非-与非结构。通过两次应用德摩根定理（对合律），我们可以将 $F$ 写为：\n$$F = (F')' = ((AB + A'B')')'$$\n对内部项应用德摩根定律：\n$$F = ((AB)' \\cdot (A'B')')'$$\n这个表达式的形式可以直接用与非门实现。让我们识别所需的操作并计算门的数量：\n1.  **计算 $(AB)'$**：这需要一个输入为 $A$ 和 $B$ 的与非门。\n    *   $G_1 = (A \\cdot B)'$ (1个门)\n2.  **计算 $(A'B')'$**：这需要输入 $A'$ 和 $B'$。由于只有 $A$ 和 $B$ 可用，我们必须首先生成它们的反相。一个非门可以由一个与非门通过将其输入端连接在一起构成，即 $X' = (X \\cdot X)'$。\n    *   $G_2 = (A \\cdot A)' = A'$ (1个门)\n    *   $G_3 = (B \\cdot B)' = B'$ (1个门)\n    *   现在，我们可以计算 $(A'B')'$。这需要一个与非门，其输入为 $A'$ (来自 $G_2$) 和 $B'$ (来自 $G_3$)。\n    *   $G_4 = (A' \\cdot B')'$ (1个门)\n3.  **计算最终输出**：最终表达式是 $F = ((AB)' \\cdot (A'B')')'$。这是对步骤1的输出 ($G_1$) 和步骤2的输出 ($G_4$) 进行的与非运算。\n    *   $G_5 = (G_1 \\cdot G_4)'$ (1个门)\n\n将所用的门相加：$G_1, G_2, G_3, G_4, G_5$。总共得到5个门。\n\n让我们考虑另一种常见的实现方式，以验证5是否是最小值。众所周知，异或函数可以用4个与非门实现，如下所示：\n*   $G_a = (A \\cdot B)'$\n*   $G_b = (A \\cdot G_a)' = (A \\cdot (AB)')'$\n*   $G_c = (B \\cdot G_a)' = (B \\cdot (AB)')'$\n*   $Y_{XOR} = (G_b \\cdot G_c)' = ((A \\cdot (AB)')' \\cdot (B \\cdot (AB)')')'$\n\n让我们验证这个表达式产生的是异或：\n$G_b = (A \\cdot (A'+B'))' = (AA' + AB')' = (AB')' = A'+B$\n$G_c = (B \\cdot (A'+B'))' = (BA' + BB')' = (A'B)' = A+B'$\n$Y_{XOR} = ((A'+B)(A+B'))' = (A'A + A'B' + AB + BB')' = (A'B' + AB)'$\n项 $A'B' + AB$ 是同或函数。因此，$(A'B' + AB)'$ 是异或函数。所以，这个4门电路正确地实现了异或。\n\n为了得到同或函数 $F = (A \\oplus B)'$，我们必须将异或电路的输出反相。这需要额外一个配置为反相器的与非门：\n*   $G_d = (Y_{XOR} \\cdot Y_{XOR})' = (Y_{XOR})'$\n\n这使得该实现的总门数为 $4 (\\text{用于异或}) + 1 (\\text{用于非}) = 5$ 个门。\n\n两种优化方法都得到了5个门的实现。4个门的结构（选项B）实现的是异或，而不是同或。因此，所需的双输入与非门的最小数量是5。",
            "answer": "$$\\boxed{C}$$"
        },
        {
            "introduction": "在掌握了如何用通用门构建基本逻辑功能后，下一步是将其应用于更复杂的计算组件中，例如构成处理器算术逻辑单元（ALU）核心的全加器。通过这个练习，我们将使用与非门从零开始设计一个1位全加器，并进一步分析将其级联成一个多位加法器时的性能瓶颈——进位传播延迟 。这不仅展示了通用门在构建复杂硬件中的实用价值，也引入了电路性能分析的基本方法。",
            "id": "3687188",
            "problem": "一个全加器有三个布尔输入 $A$、$B$ 和 $C_{\\text{in}}$，并产生一个和输出 $S$ 和一个进位输出 $C_{\\text{out}}$。你只能使用双输入与非门（NAND gate），每个双输入与非门的传播延迟相同，为 $t_g$。忽略导线延迟和负载效应。\n\n任务：\n- 仅从全加器的和与进位的布尔定义出发，并利用与非门是功能完备的以及德摩根定律成立的事实，推导一个仅使用双输入与非门的1位全加器的实现。你的推导必须明确地给出仅使用与非门构造的 $C_{\\text{out}}$ 和 $S$。\n- 通过级联 $n$ 个你设计的1位全加器，构建一个 $n$ 位行波进位加法器（RCA），使得 $C_i$ 是第 $i$ 位的进位输入，而 $C_{i+1}$ 是其进位输出。\n- 在最坏情况下的进位传播条件下（即没有内部产生进位，每一级都传播输入的进位），确定从主进位输入 $C_0$ 到 $n$ 位RCA的最终进位输出 $C_n$ 的最坏情况延迟，并以 $n$ 和 $t_g$ 的封闭形式解析表达式表示。\n\n以 $n$ 和 $t_g$ 的单个封闭形式表达式给出你的最终答案。无需四舍五入。",
            "solution": "该问题要求完成三项任务：首先，推导一个仅使用双输入与非门的1位全加器的实现；其次，描述一个由这些全加器构建的 $n$ 位行波进位加法器（RCA）；第三，确定此 $n$ 位RCA的最坏情况进位传播延迟。\n\n第一步是建立1位全加器的布尔逻辑。一个全加器有三个输入，$A$、$B$ 和一个进位输入 $C_{\\text{in}}$，并产生两个输出，一个和 $S$ 和一个进位输出 $C_{\\text{out}}$。标准的布尔表达式是：\n$$S = A \\oplus B \\oplus C_{\\text{in}}$$\n$$C_{\\text{out}} = AB + AC_{\\text{in}} + BC_{\\text{in}}$$\n其中 $\\oplus$ 表示异或（XOR）运算。\n\n为了实现一个高效的仅使用与非门的电路，找到 $S$ 和 $C_{\\text{out}}$ 共享公共子表达式的表达式是有利的。我们可以通过因式分解重写 $C_{\\text{out}}$ 的表达式：\n$$C_{\\text{out}} = AB + C_{\\text{in}}(A+B)$$\n另一个对共享逻辑更有用的形式是 $C_{\\text{out}} = AB + C_{\\text{in}}(A \\oplus B)$。让我们验证其等价性：\n$AB + C_{\\text{in}}(A \\oplus B) = AB + C_{\\text{in}}(A'B + AB') = AB + A'BC_{\\text{in}} + AB'C_{\\text{in}}$\n标准表达式 $AB + AC_{\\text{in}} + BC_{\\text{in}}$ 的最小项展开是 $ABC'_{in} + ABC_{in} + A'BC_{in} + ABC_{in} + AB'C_{in} + ABC_{in} = ABC'_{in} + A'BC_{in} + AB'C_{in} + ABC_{in}$。\n我们因式分解形式的最小项展开是 $AB(C_{in}+C'_{in}) + A'BC_{in} + AB'C_{in} = ABC_{in} + ABC'_{in} + A'BC_{in} + AB'C_{in}$。\n这两个表达式在逻辑上是等价的。因此，我们将使用以下共享项 $A \\oplus B$ 的方程组：\n$$S = (A \\oplus B) \\oplus C_{\\text{in}}$$\n$$C_{\\text{out}} = AB + C_{\\text{in}}(A \\oplus B)$$\n\n接下来，我们仅使用双输入与非门推导一个双输入异或门。$X \\oplus Y$ 的表达式是 $X'Y + XY'$。这可以用4个与非门实现如下：\n$X \\oplus Y = ((XY')'(X'Y)')'$\n我们来找出内部项的与非门表达式。最高效的实现是基于结构 $X \\oplus Y = ((X(XY)')' (Y(XY)')')'$。\n设 $G_1 = (X \\cdot Y)'$。\n那么 $G_2 = (X \\cdot G_1)' = (X \\cdot (XY)')' = (X(X'+Y'))' = (XY')'$。\n并且 $G_3 = (Y \\cdot G_1)' = (Y \\cdot (XY)')' = (Y(X'+Y'))' = (X'Y)'$。\n最终输出是 $G_4 = (G_2 \\cdot G_3)' = ((XY')' \\cdot (X'Y)')' = XY' + X'Y = X \\oplus Y$。\n这证实了一个双输入异或函数可以由4个双输入与非门构建。\n\n现在，我们构建全加器。设 $H = A \\oplus B$。\n使用4门异或结构，我们可以计算 $H$：\n1. $N_1 = (A \\cdot B)'$\n2. $N_2 = (A \\cdot N_1)'$\n3. $N_3 = (B \\cdot N_1)'$\n4. $H = (N_2 \\cdot N_3)'$\n\n和输出是 $S = H \\oplus C_{\\text{in}}$。我们使用第二个4门异或结构来计算 $S$：\n5. $N_5 = (H \\cdot C_{\\text{in}})'$\n6. $N_6 = (H \\cdot N_5)'$\n7. $N_7 = (C_{\\text{in}} \\cdot N_5)'$\n8. $S = (N_6 \\cdot N_7)'$\n\n和输出 $S$ 是此序列中第8个与非门的输出。\n\n对于进位输出，$C_{\\text{out}} = AB + C_{\\text{in}}H$。使用德摩根定律，任何“积之和”形式都可以转换为“与非-与非”结构：$X+Y = ((X')'(Y')')'$。实际上应该是 $X+Y = ((X') \\cdot (Y'))'$。\n$$C_{\\text{out}} = ((AB)' \\cdot (C_{\\text{in}}H)')'$$\n我们观察到，所需的项已经在我们计算 $S$ 的逻辑中作为中间信号计算出来了：\n项 $(AB)'$ 是第一个门 $N_1$ 的输出。\n项 $(C_{\\text{in}}H)'$ 是第五个门 $N_5$ 的输出。\n因此，$C_{\\text{out}}$ 可以用一个额外的与非门来计算：\n9. $C_{\\text{out}} = (N_1 \\cdot N_5)'$\n\n这就完成了使用9个双输入与非门推导1位全加器的过程。$S$ 是门8的输出，$C_{\\text{out}}$ 是门9的输出。\n\n第二项任务是构建一个 $n$ 位行波进位加法器（RCA）。这是通过级联 $n$ 个上面推导出的1位全加器（FA）电路来实现的。设第 $i$ 级为 $FA_i$，其中 $i = 0, 1, \\dots, n-1$。$FA_i$ 接收输入 $A_i$、$B_i$ 和一个进位输入 $C_i$。它产生输出 $S_i$ 和一个进位输出 $C_{i+1}$。级联是通过将一个级的进位输出连接到下一个级的进位输入来完成的：来自 $FA_i$ 的输出 $C_{i+1}$ 成为 $FA_{i+1}$ 的输入 $C_{in}$。RCA的主输入是两个 $n$ 位数 $A=A_{n-1}...A_0$ 和 $B=B_{n-1}...B_0$，以及初始进位 $C_0$。输出是 $n$ 位和 $S=S_{n-1}...S_0$ 和最终进位输出 $C_n$。\n\n第三项任务是确定从主进位输入 $C_0$ 到最终进位输出 $C_n$ 的最坏情况延迟。这个延迟是 $C_0$ 的变化通过 $n$ 个全加器的整个链条传播所需的时间。总延迟是每个级的进位传播延迟之和。我们必须找到单个全加器从 $C_{\\text{in}}$ 到 $C_{\\text{out}}$ 的延迟，我们将其表示为 $T_{C_{\\text{in}} \\to C_{\\text{out}}}$。\n\n问题指定了最坏情况的进位传播条件，即输入 $A_i$ 和 $B_i$ 是稳定的，并且其设置使得进位被传播，而不是在本地生成。这对应于 $A_i \\oplus B_i = 1$。在分析从 $C_i$ 到 $C_{i+1}$ 的延迟时，我们假设 $A_i$ 和 $B_i$ 是稳定的。\n\n让我们在第 $i$ 级的9门全加器设计中追踪从 $C_i$ 到 $C_{i+1}$ 的信号路径。\n第 $i$ 级的进位输出表达式为 $C_{i+1} = (N_{1,i} \\cdot N_{5,i})'$。\n这个最终与非门的输入是 $N_{1,i} = (A_i \\cdot B_i)'$ 和 $N_{5,i} = (H_i \\cdot C_i)'$，其中 $H_i = A_i \\oplus B_i$。\n\n由于我们假设 $A_i$ 和 $B_i$ 是稳定的，任何仅依赖于它们的信号也是稳定的。这包括：\n- $N_{1,i} = (A_i \\cdot B_i)'$\n- $H_i = A_i \\oplus B_i$ (它是一个依赖于 $A_i, B_i$ 的4门子电路的输出)。\n\n进位输入信号 $C_i$ 的变化会影响到通往 $C_{i+1}$ 路径上的以下门：\n1. 信号 $C_i$ 是门 $N_{5,i} = (H_i \\cdot C_i)'$ 的一个输入。另一个输入 $H_i$ 是稳定的。$C_i$ 的变化将通过这个与非门传播，输出 $N_{5,i}$ 将在一个门延迟 $t_g$ 后变得稳定。\n2. 现在已改变的输出 $N_{5,i}$ 是最终进位门的输入，该门计算 $C_{i+1} = (N_{1,i} \\cdot N_{5,i})'$。该门的另一个输入 $N_{1,i}$ 是稳定的。$N_{5,i}$ 的变化将通过这个门传播，最终输出 $C_{i+1}$ 将在另一个门延迟 $t_g$ 后变得稳定。\n\n进位通过一个级的关键路径是 $C_i \\to N_{5,i} \\to C_{i+1}$。该路径穿过两个与非门。因此，单个级的进位传播延迟为：\n$$T_{C_i \\to C_{i+1}} = t_g + t_g = 2t_g$$\n\n对于一个 $n$ 位RCA，从 $C_0$ 到 $C_n$ 的总最坏情况延迟是行波链中 $n$ 个级的延迟之和：\n$$T_{\\text{total}} = \\sum_{i=0}^{n-1} T_{C_i \\to C_{i+1}} = \\sum_{i=0}^{n-1} 2t_g = n \\cdot (2t_g)$$\n由此得到的延迟的封闭形式解析表达式为 $2nt_g$。",
            "answer": "$$ \\boxed{2nt_g} $$"
        },
        {
            "introduction": "在现代计算机体系结构中，利用通用门不仅仅是为了实现布尔函数，更是为了解决功耗和时序等实际工程问题。时钟门控是一种关键的低功耗设计技术，但一个草率的实现方案可能会引入“毛刺”（glitch），导致整个系统不稳定。这个实践将探讨如何使用与非门和锁存器构建一个无毛刺的时钟门控电路 ，揭示在同步系统中简单逻辑组合背后隐藏的时序风险，以及如何通过巧妙的设计来规避它们。",
            "id": "3687227",
            "problem": "一个同步流水线阶段使用一个自由运行的时钟 $clk$ 和一个高电平有效的使能信号 $E$，以选择性地抑制到下游触发器的时钟跳变，从而节省功耗。你被限制只能使用通用门来实现该门控电路，具体来说是双输入与非门，每个门的传播延迟相同，为 $t_p = 60\\,\\mathrm{ps}$。门控时钟输出 $clk_g$ 必须满足两个要求：它必须是无毛刺的（没有矮脉冲或额外跳变），并且从 $clk$ 到门控时钟 $clk_g$ 的插入延迟必须小于 $200\\,\\mathrm{ps}$。\n\n一种朴素的设计是用 $clk$ 和 $E$ 驱动一个双输入与非门，产生 $clk_g = \\overline{clk \\cdot E}$。先进的设计考虑在与非门前放置一个电平敏感锁存器，以在 $clk$ 的高电平期间稳定使能信号。电平敏感锁存器是一种基本的时序元件，当其锁存使能信号有效时，它是透明的（其输出跟随其输入），而当锁存使能信号无效时，它会保持其最后一个值。你可以假设该锁存器可以由与非门构成，使得它在 $clk$ 为低电平时是透明的，在 $clk$ 为高电平时保持其输出，并且其在透明状态下的输入到输出传播延迟在 $t_p$ 的几倍的量级上。\n\n根据双输入与非门行为 $Y = \\overline{A \\cdot B}$、传播延迟和电平敏感锁存器透明性的基本定义，分析朴素与非门门控中的冒险以及基于锁存器的设计避免这些冒险的机制。然后，确定关于这些设计的功能和时序的哪些陈述是正确的。选择所有适用的选项：\n\nA. 朴素的单与非门时钟门控 $clk_g = \\overline{clk \\cdot E}$ 是无毛刺的，当且仅当 $E$ 仅在 $clk$ 为低电平时改变状态；如果 $E$ 在 $clk$ 为高电平时改变，$clk_g$ 可能会因为传播延迟而出现矮脉冲或额外跳变。\n\nB. 一个在 $clk$ 为低电平时透明的锁存器，为与非门的使能输入提供信号，可以确保有效使能 $E_\\ell$ 在 $clk$ 的高电平期间保持恒定，因此使用 $clk_g = \\overline{clk \\cdot E_\\ell}$ 进行门控可以消除毛刺，无论 $E$ 何时改变。\n\nC. 在使用单个与非门门控时钟的基于锁存器的设计中，$clk \\to clk_g$ 的插入延迟大约为 $t_p$，并且输出的正确布尔关系是 $clk_g = \\overline{clk \\cdot E_\\ell}$，其中 $E_\\ell$ 是锁存后的使能信号。\n\nD. 如果锁存器改为在 $clk$ 为高电平时透明，门控电路将保持无毛刺，因为使能信号在低电平期间将保持恒定，并且仅在门控时钟起作用的高电平期间改变。\n\nE. 用或非门（NOR gate）替换与非门（NAND gate）不会改变时序和安全性属性，并且无需调整使能极性或透明阶段即可实现无毛刺操作。",
            "solution": "该问题要求分析两种使用双输入与非门的时钟门控电路实现，并评估它们的无毛刺操作和时序。\n\n让我们首先定义基本元件的行为。一个输入为 $A$ 和 $B$ 的双输入与非门产生输出 $Y = \\overline{A \\cdot B}$。从任何输入变化到相应输出变化的传播延迟为 $t_p = 60\\,\\mathrm{ps}$。时钟信号是 $clk$，高电平有效的使能信号是 $E$。\n\n**朴素设计的分析**\n\n朴素的设计由一个双输入与非门构成，其输入为 $clk$ 和 $E$。因此，门控时钟输出为 $clk_g = \\overline{clk \\cdot E}$。让我们根据 $clk$ 和 $E$ 的状态来分析 $clk_g$ 的行为。\n\n1.  当 $clk = 0$ 时：与非门的输出为 $clk_g = \\overline{0 \\cdot E} = \\overline{0} = 1$，无论 $E$ 的值是多少。这意味着如果使能信号 $E$ 在时钟为低电平时改变其状态（从 $0$ 变为 $1$ 或从 $1$ 变为 $0$），输出 $clk_g$ 将稳定在逻辑 $1$。不会产生毛刺。\n\n2.  当 $clk = 1$ 时：与非门的输出为 $clk_g = \\overline{1 \\cdot E} = \\overline{E}$。在这种状态下，输出 $clk_g$ 是使能信号 $E$ 的反相。如果 $E$ 在 $clk$ 为高电平时改变状态，$clk_g$ 也会改变状态。例如，如果 $E$ 在 $clk$ 为高电平时从 $1$ 跳变为 $0$，$clk_g$ 将从 $\\overline{1}=0$ 跳变为 $\\overline{0}=1$。这会截断低电平有效的时钟脉冲。类似地，如果 $E$ 在 $clk$ 高电平阶段的后期从 $0$ 跳变为 $1$，将在 $clk_g$ 上产生一个非常短的低电平脉冲（矮脉冲或毛刺）。此类脉冲可能会违反下游触发器的建立时间或保持时间，导致亚稳态或不正确的操作。\n\n因此，只有当对使能信号 $E$ 的更改被限制在 $clk$ 为低电平时发生，朴素的设计才是安全的（无毛刺的）。\n\n**先进（基于锁存器）设计的分析**\n\n先进的设计在使能信号 $E$ 和与非门之间插入一个电平敏感锁存器。锁存器的输入是 $E$，输出是 $E_\\ell$，并由 $clk$ 控制。问题指明，该锁存器在 $clk$ 为低电平时是透明的，在 $clk$ 为高电平时保持其值。\n\n让我们分析这个改进电路的行为。最终的门控逻辑现在是 $clk_g = \\overline{clk \\cdot E_\\ell}$。\n\n1.  当 $clk = 0$ 时：锁存器是透明的，因此其输出跟随其输入，即 $E_\\ell = E$。与非门的输出是 $clk_g = \\overline{0 \\cdot E_\\ell} = 1$。主使能信号 $E$ 的任何变化都会传播到 $E_\\ell$，但由于与非门的时钟输入为 $0$，输出 $clk_g$ 稳定地保持在 $1$。不会产生毛刺。\n\n2.  当 $clk = 1$ 时：锁存器处于保持状态。这意味着 $E_\\ell$ 的值被冻结在 $clk$ 从 $0$ 跳变到 $1$ 之前的那个值。因此，在 $clk$ 为高电平的整个期间，$E_\\ell$ 是一个稳定的逻辑值。与非门的输入是 $clk$（正在跳变）和 $E_\\ell$（是稳定的）。只有当一个门的两个输入几乎同时改变时，才会产生毛刺。由于一个输入（$E_\\ell$）在 $clk$ 的高电平期间保证是稳定的，输出 $clk_g = \\overline{clk \\cdot E_\\ell}$ 将是一个干净、无毛刺的波形。如果 $E_\\ell$ 为 $1$，$clk_g$ 将是 $\\overline{clk}$。如果 $E_\\ell$ 为 $0$，$clk_g$ 将是 $\\overline{0} = 1$。\n\n这种基于锁存器的设计有效地将使能信号同步到时钟的非活动阶段，确保最终门控元件的使能输入在时钟的活动阶段是稳定的，从而消除了冒险。\n\n**选项评估**\n\n**A. 朴素的单与非门时钟门控 $clk_g = \\overline{clk \\cdot E}$ 是无毛刺的，当且仅当 $E$ 仅在 $clk$ 为低电平时改变状态；如果 $E$ 在 $clk$ 为高电平时改变，$clk_g$ 可能会因为传播延迟而出现矮脉冲或额外跳变。**\n正如上面所推导的，如果 $E$ 在 $clk$ 为高电平时改变，输出 $clk_g$ 也会改变，这可能导致矮脉冲。如果 $E$ 仅在 $clk$ 为低电平时改变，输出 $clk_g$ 会稳定地保持在 $1$。因此，无毛刺操作的条件是 $E$ 必须仅在 $clk$ 为低电平时改变。该陈述是对朴素时钟门控行为的正确而精确的描述。\n**结论：正确。**\n\n**B. 一个在 $clk$ 为低电平时透明的锁存器，为与非门的使能输入提供信号，可以确保有效使能 $E_\\ell$ 在 $clk$ 的高电平期间保持恒定，因此使用 $clk_g = \\overline{clk \\cdot E_\\ell}$ 进行门控可以消除毛刺，无论 $E$ 何时改变。**\n这个陈述正确地描述了标准的无毛刺时钟门控单元的工作原理。锁存器在 $clk$ 为低电平时是透明的，对使能信号 $E$ 进行采样。当 $clk$ 变为高电平时，锁存器保持这个采样值 ($E_\\ell$) 恒定。在 $clk=1$ 阶段，$E_\\ell$ 是稳定的，因此与非门产生一个干净的输出。这个机制的作用与原始使能信号 $E$ 相对于时钟的时序无关。\n**结论：正确。**\n\n**C. 在使用单个与非门门控时钟的基于锁存器的设计中，$clk \\to clk_g$ 的插入延迟大约为 $t_p$，并且输出的正确布尔关系是 $clk_g = \\overline{clk \\cdot E_\\ell}$，其中 $E_\\ell$ 是锁存后的使能信号。**\n时钟边沿传播的信号路径直接从 $clk$ 输入到与非门，然后再到输出 $clk_g$。该路径穿过一个与非门。此路径的延迟，即时钟插入延迟，因此是一个与非门的传播延迟，即 $t_p = 60\\,\\mathrm{ps}$。这个值小于指定的最大值 $200\\,\\mathrm{ps}$。输出的布尔表达式由其输入 $clk$ 和锁存器输出 $E_\\ell$ 的与非函数给出，确实是 $clk_g = \\overline{clk \\cdot E_\\ell}$。该陈述的两个部分都是准确的。\n**结论：正确。**\n\n**D. 如果锁存器改为在 $clk$ 为高电平时透明，门控电路将保持无毛刺，因为使能信号在低电平期间将保持恒定，并且仅在门控时钟起作用的高电平期间改变。**\n这描述了一个高电平透明的锁存器。使用这样的锁存器，当 $clk=1$ 时，锁存器是透明的，因此 $E_\\ell$ 将跟随 $E$。与非门的输入将是 $clk=1$ 和 $E_\\ell=E$。输出将是 $clk_g = \\overline{1 \\cdot E} = \\overline{E}$。如果 $E$ 在 $clk$ 为高电平时改变，$clk_g$ 也会改变，这会重新引入锁存器本应防止的冒险。认为使能信号“仅在门控时钟起作用的高电平期间改变”的推理，恰恰指出了为什么这种配置是不安全的。在时钟起作用时，使能信号必须是*稳定*的。\n**结论：不正确。**\n\n**E. 用或非门（NOR gate）替换与非门（NAND gate）不会改变时序和安全性属性，并且无需调整使能极性或透明阶段即可实现无毛刺操作。**\n如果使用或非门，函数变为 $clk_g = \\overline{clk + E}$。让我们检查一下它的行为。\n功能性：对于高电平有效的使能信号，我们期望当时钟在 $E=1$ 时通过。在这里，如果 $E=1$，$clk_g = \\overline{clk+1} = \\overline{1} = 0$。时钟被阻塞（保持低电平）。如果 $E=0$，$clk_g = \\overline{clk+0} = \\overline{clk}$。时钟通过（反相）。这反转了使能信号的极性；它现在是低电平有效的。功能性并非保持不变。\n安全性：对于这个或非门，如果 $E$ 在 $clk=0$ 时改变，就会发生冒险，因为此时 $clk_g = \\overline{E}$。安全条件是 $E$ 仅在 $clk=1$ 时改变，因为此时 $clk_g = 0$。这与与非门的安全条件相反。因此，安全性属性没有保持不变，并且需要进行调整（例如使用高电平透明的锁存器）才能使其无毛刺。该陈述的所有论点都是错误的。\n**结论：不正确。**",
            "answer": "$$\\boxed{ABC}$$"
        }
    ]
}