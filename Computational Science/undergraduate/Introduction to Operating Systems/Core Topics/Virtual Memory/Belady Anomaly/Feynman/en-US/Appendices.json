{
    "hands_on_practices": [
        {
            "introduction": "The best way to understand a counter-intuitive concept like Belady's anomaly is to see it in action. This first practice challenges you to perform a step-by-step trace of the First-In, First-Out (FIFO) page replacement algorithm. By meticulously tracking the state of memory frames and counting page faults, you will pinpoint the exact moment when adding more memory paradoxically harms performance .",
            "id": "3623853",
            "problem": "A single process runs on a system with virtual memory organized into fixed-size pages and a fixed number of physical page frames. Each memory reference is to a virtual page. A page fault occurs if the referenced page is not present in any frame, in which case a page is loaded into a frame and, if necessary, one resident page is evicted according to the page replacement policy. The policy in use is First-In, First-Out (FIFO), which evicts the resident page that has been in memory the longest; a hit does not alter the ordering of pages in the FIFO queue.\n\nConsider a reference string over exactly $k=5$ distinct virtual pages labeled $\\{1,2,3,4,5\\}$:\n$$\nR \\;=\\; (\\,1,\\,2,\\,3,\\,4,\\,1,\\,2,\\,5,\\,1,\\,2,\\,3,\\,4,\\,5\\,).\n$$\nAssume the set of physical frames is initially empty and that the FIFO queue is initially empty. Let $n=3$ be the number of frames at first, and then consider adding one frame so that the total becomes $n+1=4$ frames.\n\nDefine $F_{m}(i)$ to be the cumulative number of page faults incurred by FIFO with $m$ frames when processing the prefix of $R$ consisting of its first $i$ references, for $i \\in \\{1,2,\\dots,|R|\\}$ and $m \\in \\{n,n+1\\}$. Define the anomaly index\n$$\ni^{\\star} \\;=\\; \\min \\big\\{\\, i \\in \\{1,2,\\dots,|R|\\} \\;\\big|\\; F_{n+1}(i) - F_{n}(i) \\;>\\; 0 \\,\\big\\},\n$$\nthat is, the earliest reference position at which increasing the number of frames from $n$ to $n+1$ yields a strictly larger cumulative number of page faults under FIFO.\n\nStarting from the core definitions above, trace the FIFO queue evolution for both $m=n$ and $m=n+1$ across the reference string $R$, compute $F_{n}(i)$ and $F_{n+1}(i)$ for all relevant $i$, and determine the value of $i^{\\star}$. Report the final value of $i^{\\star}$ as a single integer. No rounding is required, and no units are to be reported.",
            "solution": "The problem statement is validated as scientifically grounded, well-posed, and objective. It is a standard exercise in the analysis of page replacement algorithms in operating systems. All necessary data and definitions are provided, and there are no contradictions or ambiguities. The problem is valid.\n\nThe objective is to find the anomaly index $i^{\\star}$, defined as the earliest reference position $i$ in a given reference string $R$ for which the cumulative number of page faults with $m=n+1=4$ frames, $F_{n+1}(i)$, is strictly greater than the number of page faults with $m=n=3$ frames, $F_{n}(i)$.\n$$\ni^{\\star} \\;=\\; \\min \\big\\{\\, i \\in \\{1, 2, \\dots, |R|\\} \\;\\big|\\; F_{n+1}(i) - F_{n}(i) \\;>\\; 0 \\,\\big\\}\n$$\nThe reference string is $R = (\\,1,\\,2,\\,3,\\,4,\\,1,\\,2,\\,5,\\,1,\\,2,\\,3,\\,4,\\,5\\,)$, and the page replacement algorithm is First-In, First-Out (FIFO). The physical frames are initially empty.\n\nWe will trace the execution of the FIFO algorithm for both $m=3$ and $m=4$ frames to compute the sequences of cumulative page faults, $F_{3}(i)$ and $F_{4}(i)$. The FIFO queue will be represented as an ordered list where the leftmost page is the first-in (oldest) and the rightmost is the last-in (newest).\n\nFirst, we trace the case with $n=3$ frames.\n$$\n\\begin{array}{|c|c|l|c|c|}\n\\hline\n\\textbf{Index } i & \\textbf{Reference} & \\textbf{FIFO Queue State (oldest} \\to \\textbf{newest)} & \\textbf{Fault?} & \\textbf{Cumulative Faults } F_{3}(i) \\\\\n\\hline\n1 & 1 & (1) & \\text{Yes} & 1 \\\\\n2 & 2 & (1, 2) & \\text{Yes} & 2 \\\\\n3 & 3 & (1, 2, 3) & \\text{Yes} & 3 \\\\\n4 & 4 & (2, 3, 4) \\quad \\text{(evict 1)} & \\text{Yes} & 4 \\\\\n5 & 1 & (3, 4, 1) \\quad \\text{(evict 2)} & \\text{Yes} & 5 \\\\\n6 & 2 & (4, 1, 2) \\quad \\text{(evict 3)} & \\text{Yes} & 6 \\\\\n7 & 5 & (1, 2, 5) \\quad \\text{(evict 4)} & \\text{Yes} & 7 \\\\\n8 & 1 & (1, 2, 5) & \\text{No} & 7 \\\\\n9 & 2 & (1, 2, 5) & \\text{No} & 7 \\\\\n10 & 3 & (2, 5, 3) \\quad \\text{(evict 1)} & \\text{Yes} & 8 \\\\\n11 & 4 & (5, 3, 4) \\quad \\text{(evict 2)} & \\text{Yes} & 9 \\\\\n12 & 5 & (5, 3, 4) & \\text{No} & 9 \\\\\n\\hline\n\\end{array}\n$$\nThe sequence of cumulative page faults for $n=3$ frames is $F_{3} = (1, 2, 3, 4, 5, 6, 7, 7, 7, 8, 9, 9)$.\n\nNext, we trace the case with $n+1=4$ frames.\n$$\n\\begin{array}{|c|c|l|c|c|}\n\\hline\n\\textbf{Index } i & \\textbf{Reference} & \\textbf{FIFO Queue State (oldest} \\to \\textbf{newest)} & \\textbf{Fault?} & \\textbf{Cumulative Faults } F_{4}(i) \\\\\n\\hline\n1 & 1 & (1) & \\text{Yes} & 1 \\\\\n2 & 2 & (1, 2) & \\text{Yes} & 2 \\\\\n3 & 3 & (1, 2, 3) & \\text{Yes} & 3 \\\\\n4 & 4 & (1, 2, 3, 4) & \\text{Yes} & 4 \\\\\n5 & 1 & (1, 2, 3, 4) & \\text{No} & 4 \\\\\n6 & 2 & (1, 2, 3, 4) & \\text{No} & 4 \\\\\n7 & 5 & (2, 3, 4, 5) \\quad \\text{(evict 1)} & \\text{Yes} & 5 \\\\\n8 & 1 & (3, 4, 5, 1) \\quad \\text{(evict 2)} & \\text{Yes} & 6 \\\\\n9 & 2 & (4, 5, 1, 2) \\quad \\text{(evict 3)} & \\text{Yes} & 7 \\\\\n10 & 3 & (5, 1, 2, 3) \\quad \\text{(evict 4)} & \\text{Yes} & 8 \\\\\n11 & 4 & (1, 2, 3, 4) \\quad \\text{(evict 5)} & \\text{Yes} & 9 \\\\\n12 & 5 & (2, 3, 4, 5) \\quad \\text{(evict 1)} & \\text{Yes} & 10 \\\\\n\\hline\n\\end{array}\n$$\nThe sequence of cumulative page faults for $n+1=4$ frames is $F_{4} = (1, 2, 3, 4, 4, 4, 5, 6, 7, 8, 9, 10)$.\n\nFinally, we compare $F_{3}(i)$ and $F_{4}(i)$ at each step $i$ to find the smallest $i$ for which $F_{4}(i) > F_{3}(i)$. We compute the difference $D(i) = F_{4}(i) - F_{3}(i)$.\n$$\n\\begin{array}{|c|c|c|c|}\n\\hline\n\\textbf{Index } i & F_{3}(i) & F_{4}(i) & D(i) = F_{4}(i) - F_{3}(i) \\\\\n\\hline\n1 & 1 & 1 & 0 \\\\\n2 & 2 & 2 & 0 \\\\\n3 & 3 & 3 & 0 \\\\\n4 & 4 & 4 & 0 \\\\\n5 & 5 & 4 & -1 \\\\\n6 & 6 & 4 & -2 \\\\\n7 & 7 & 5 & -2 \\\\\n8 & 7 & 6 & -1 \\\\\n9 & 7 & 7 & 0 \\\\\n10 & 8 & 8 & 0 \\\\\n11 & 9 & 9 & 0 \\\\\n12 & 9 & 10 & 1 \\\\\n\\hline\n\\end{array}\n$$\nThe condition $F_{4}(i) - F_{3}(i) > 0$ is first met at $i=12$, where the difference is $10 - 9 = 1$. Therefore, the anomaly index is $i^{\\star} = 12$. This phenomenon, where increasing the number of available frames leads to an increase in page faults for certain reference strings under the FIFO policy, is known as Belady's anomaly.",
            "answer": "$$\\boxed{12}$$"
        },
        {
            "introduction": "Having witnessed Belady's anomaly, a crucial next step is understanding why it occurs with some algorithms but not others. This exercise contrasts the FIFO policy with the Least Recently Used (LRU) policy, which is immune to the anomaly. By comparing their performance on the same reference string, you will gain insight into how an algorithm's eviction strategy—specifically, whether it considers page usage history—determines its susceptibility to this strange behavior .",
            "id": "3623877",
            "problem": "In a demand-paged virtual memory system, a page reference string is a finite sequence of page identifiers. A page fault occurs when the requested page is not resident in the set of available physical frames. Consider two page replacement policies: First-In, First-Out (FIFO) and Least Recently Used (LRU). First-In, First-Out (FIFO) always evicts the page that has been resident the longest without regard to use, while Least Recently Used (LRU) evicts the page whose last access is farthest in the past. For a policy $P$ and a frame count $n$, define the page fault count function $f_{P}(n)$ as the total number of page faults incurred when processing a given reference string with $n$ available frames, starting from an initially empty set of frames, and with no prefetching.\n\nLet the page reference string be\n$$R = 1,2,3,4,1,2,5,1,2,3,4,5.$$\nAssume frames are empty initially, a page is loaded on a miss if any free frame exists, otherwise the policy chooses a victim for replacement, and on a hit the resident set remains unchanged for FIFO and only the recency metadata is updated for LRU.\n\nUsing only the definitions above as the fundamental base, derive $f_{FIFO}(3)$, $f_{FIFO}(4)$, $f_{LRU}(3)$, and $f_{LRU}(4)$ for the string $R$. Then, define the anomaly gap\n$$\\Delta \\equiv \\left(f_{FIFO}(4) - f_{FIFO}(3)\\right) - \\left(f_{LRU}(4) - f_{LRU}(3)\\right).$$\nExplain, in words, what the computed values say about whether Belady's anomaly occurs under First-In, First-Out (FIFO) and whether it can occur under Least Recently Used (LRU) for this string. Report the value of $\\Delta$ as a single exact integer; no rounding is required.",
            "solution": "The problem is well-posed and scientifically grounded in the principles of operating systems, specifically page replacement algorithms. It provides all necessary definitions, a concrete reference string, and clear instructions for calculation and analysis. We will proceed by systematically simulating the behavior of the First-In, First-Out (FIFO) and Least Recently Used (LRU) algorithms for $n=3$ and $n=4$ frames to determine the respective page fault counts.\n\nThe page reference string is given as\n$$R = 1,2,3,4,1,2,5,1,2,3,4,5.$$\nWe denote page faults with F and hits with H.\n\n**1. Calculation of $f_{FIFO}(3)$**\nWe simulate the FIFO policy with $n=3$ frames. The frame set is managed as a queue, where the page at the head of the queue is the one that has been resident the longest and is the candidate for eviction.\n\n| Reference | Frames (Oldest to Newest) | In/Out | Type | Faults |\n|---|---|---|---|---|\n| $1$ | $[1]$ | $1$ in | F | $1$ |\n| $2$ | $[1, 2]$ | $2$ in | F | $2$ |\n| $3$ | $[1, 2, 3]$ | $3$ in | F | $3$ |\n| $4$ | $[2, 3, 4]$ | $1$ out, $4$ in| F | $4$ |\n| $1$ | $[3, 4, 1]$ | $2$ out, $1$ in| F | $5$ |\n| $2$ | $[4, 1, 2]$ | $3$ out, $2$ in| F | $6$ |\n| $5$ | $[1, 2, 5]$ | $4$ out, $5$ in| F | $7$ |\n| $1$ | $[1, 2, 5]$ | - | H | $7$ |\n| $2$ | $[1, 2, 5]$ | - | H | $7$ |\n| $3$ | $[2, 5, 3]$ | $1$ out, $3$ in| F | $8$ |\n| $4$ | $[5, 3, 4]$ | $2$ out, $4$ in| F | $9$ |\n| $5$ | $[5, 3, 4]$ | - | H | $9$ |\n\nThe total number of page faults for FIFO with $3$ frames is $f_{FIFO}(3) = 9$.\n\n**2. Calculation of $f_{FIFO}(4)$**\nWe simulate the FIFO policy with $n=4$ frames.\n\n| Reference | Frames (Oldest to Newest) | In/Out | Type | Faults |\n|---|---|---|---|---|\n| $1$ | $[1]$ | $1$ in | F | $1$ |\n| $2$ | $[1, 2]$ | $2$ in | F | $2$ |\n| $3$ | $[1, 2, 3]$ | $3$ in | F | $3$ |\n| $4$ | $[1, 2, 3, 4]$ | $4$ in | F | $4$ |\n| $1$ | $[1, 2, 3, 4]$ | - | H | $4$ |\n| $2$ | $[1, 2, 3, 4]$ | - | H | $4$ |\n| $5$ | $[2, 3, 4, 5]$ | $1$ out, $5$ in| F | $5$ |\n| $1$ | $[3, 4, 5, 1]$ | $2$ out, $1$ in| F | $6$ |\n| $2$ | $[4, 5, 1, 2]$ | $3$ out, $2$ in| F | $7$ |\n| $3$ | $[5, 1, 2, 3]$ | $4$ out, $3$ in| F | $8$ |\n| $4$ | $[1, 2, 3, 4]$ | $5$ out, $4$ in| F | $9$ |\n| $5$ | $[2, 3, 4, 5]$ | $1$ out, $5$ in| F | $10$ |\n\nThe total number of page faults for FIFO with $4$ frames is $f_{FIFO}(4) = 10$.\n\n**3. Calculation of $f_{LRU}(3)$**\nWe simulate the LRU policy with $n=3$ frames. The frame set is managed as a stack or ordered list based on recency of use. The least recently used page is at the bottom of the stack (or head of the list), and the most recently used is at the top (or tail).\n\n| Reference | Frames (LRU to MRU) | In/Out | Type | Faults |\n|---|---|---|---|---|\n| $1$ | $[1]$ | $1$ in | F | $1$ |\n| $2$ | $[1, 2]$ | $2$ in | F | $2$ |\n| $3$ | $[1, 2, 3]$ | $3$ in | F | $3$ |\n| $4$ | $[2, 3, 4]$ | $1$ out, $4$ in| F | $4$ |\n| $1$ | $[3, 4, 1]$ | $2$ out, $1$ in| F | $5$ |\n| $2$ | $[4, 1, 2]$ | $3$ out, $2$ in| F | $6$ |\n| $5$ | $[1, 2, 5]$ | $4$ out, $5$ in| F | $7$ |\n| $1$ | $[2, 5, 1]$ | - | H | $7$ |\n| $2$ | $[5, 1, 2]$ | - | H | $7$ |\n| $3$ | $[1, 2, 3]$ | $5$ out, $3$ in| F | $8$ |\n| $4$ | $[2, 3, 4]$ | $1$ out, $4$ in| F | $9$ |\n| $5$ | $[3, 4, 5]$ | $2$ out, $5$ in| F | $10$ |\n\nThe total number of page faults for LRU with $3$ frames is $f_{LRU}(3) = 10$.\n\n**4. Calculation of $f_{LRU}(4)$**\nWe simulate the LRU policy with $n=4$ frames.\n\n| Reference | Frames (LRU to MRU) | In/Out | Type | Faults |\n|---|---|---|---|---|\n| $1$ | $[1]$ | $1$ in | F | $1$ |\n| $2$ | $[1, 2]$ | $2$ in | F | $2$ |\n| $3$ | $[1, 2, 3]$ | $3$ in | F | $3$ |\n| $4$ | $[1, 2, 3, 4]$ | $4$ in | F | $4$ |\n| $1$ | $[2, 3, 4, 1]$ | - | H | $4$ |\n| $2$ | $[3, 4, 1, 2]$ | - | H | $4$ |\n| $5$ | $[4, 1, 2, 5]$ | $3$ out, $5$ in| F | $5$ |\n| $1$ | $[4, 2, 5, 1]$ | - | H | $5$ |\n| $2$ | $[4, 5, 1, 2]$ | - | H | $5$ |\n| $3$ | $[5, 1, 2, 3]$ | $4$ out, $3$ in| F | $6$ |\n| $4$ | $[1, 2, 3, 4]$ | $5$ out, $4$ in| F | $7$ |\n| $5$ | $[2, 3, 4, 5]$ | $1$ out, $5$ in| F | $8$ |\n\nThe total number of page faults for LRU with $4$ frames is $f_{LRU}(4) = 8$.\n\n**5. Analysis of Results and Calculation of $\\Delta$**\n\nThe calculated page fault counts are:\n- $f_{FIFO}(3) = 9$\n- $f_{FIFO}(4) = 10$\n- $f_{LRU}(3) = 10$\n- $f_{LRU}(4) = 8$\n\n**Belady's Anomaly:**\nThis anomaly occurs when increasing the number of available frames leads to an increase in the number of page faults.\n\nFor the **FIFO** policy, we observe that $f_{FIFO}(4) = 10 > f_{FIFO}(3) = 9$. This demonstrates that for the given reference string $R$, increasing the frame count from $3$ to $4$ causes one additional page fault. Therefore, **Belady's anomaly occurs for FIFO** in this specific scenario. The reason is that FIFO is not a \"stack algorithm\"; the set of pages in memory with $n$ frames is not necessarily a subset of pages in memory with $n+1$ frames. The eviction choice is based purely on arrival time, not on usage patterns, which can lead to evicting a page that will be needed again soon, a situation that more frames can paradoxically worsen.\n\nFor the **LRU** policy, we observe $f_{LRU}(4) = 8 < f_{LRU}(3) = 10$. Increasing the frame count from $3$ to $4$ decreases the number of page faults, which is the expected behavior. Therefore, **Belady's anomaly does not occur for LRU**. This is because LRU is a stack algorithm. For any stack algorithm, the set of pages resident in $n$ frames is always a subset of the pages resident in $n+1$ frames at any point in the reference string. This property guarantees that the page fault count is a non-increasing function of the number of frames, i.e., $f_{P}(n+1) \\leq f_{P}(n)$ for any $n$.\n\n**Calculation of the Anomaly Gap $\\Delta$:**\nThe anomaly gap is defined as $\\Delta \\equiv \\left(f_{FIFO}(4) - f_{FIFO}(3)\\right) - \\left(f_{LRU}(4) - f_{LRU}(3)\\right)$.\nSubstituting the computed values:\n$$ \\Delta = (10 - 9) - (8 - 10) $$\n$$ \\Delta = (1) - (-2) $$\n$$ \\Delta = 1 + 2 = 3 $$\nThe value of $\\Delta$ is $3$. This value represents the difference between the change in performance for FIFO (an anomalous increase of $1$ fault) and the change in performance for LRU (a normal decrease of $2$ faults) when the number of frames is increased.",
            "answer": "$$\\boxed{3}$$"
        },
        {
            "introduction": "The behavior of algorithms susceptible to Belady's anomaly can be surprisingly erratic, and it is not a simple case of performance degrading as frames are added. This final practice explores this non-monotonic nature by having you calculate page faults for three different frame counts. This exercise reveals how performance can worsen with an additional frame, only to dramatically improve with the next one, underscoring the unpredictable nature of the anomaly .",
            "id": "3623856",
            "problem": "A computer system uses the First-In-First-Out (FIFO) page replacement algorithm. A page reference string is a sequence of page identifiers. A page fault occurs when a referenced page is not in any frame; if a free frame exists, the page is loaded, otherwise the page that has been resident the longest (that is, the earliest arrived page still in memory) is evicted. All frames are initially empty and FIFO uses a strict queue discipline based on arrival time; a hit does not alter the position of the page in the queue.\n\nLet $f(k)$ denote the number of page faults incurred by FIFO on a fixed reference string when there are $k$ page frames. Consider the reference string\n$$\n$R = \\langle 2,3,4,5,2,3,1,2,3,4,5,1 \\rangle,$\n$$\nand let $n=3$.\n\nUsing only the above operational definitions, determine $f(n)$, $f(n+1)$, and $f(n+2)$ for the given $R$ by simulating FIFO exactly. Report your final numerical results as a row matrix in the order $\\big(f(n),\\,f(n+1),\\,f(n+2)\\big)$.\n\nNo rounding is required. Express only the row matrix as your final answer.",
            "solution": "The problem statement has been validated and found to be self-contained, scientifically grounded, and well-posed. It describes a standard scenario in the study of operating systems—the simulation of a page replacement algorithm. The definitions are precise, and the required computations can be performed algorithmically to yield a unique solution. We will proceed with the solution by simulating the First-In-First-Out (FIFO) page replacement algorithm for the specified number of frames.\n\nThe task is to compute $f(k)$, the number of page faults, for a number of page frames $k \\in \\{3, 4, 5\\}$. The reference string is given as $R = \\langle 2,3,4,5,2,3,1,2,3,4,5,1 \\rangle$. The FIFO algorithm evicts the page that has been in memory for the longest time. We maintain a queue of pages currently in the frames, where the head of the queue is the oldest page and the tail is the most recently loaded page.\n\n**Case 1: $k=n=3$ page frames**\n\nWe simulate the process with $3$ frames. A page fault is marked with 'F' and a hit with 'H'. The state of the frames (as a set) and the FIFO queue (ordered list, head to tail) are tracked.\n\n| Time Step | Reference | Frame Contents (Set) | FIFO Queue (oldest...newest) | Result |\n| :---: | :---: | :---: | :---: | :---: |\n| $1$ | $2$ | $\\{2\\}$ | $\\langle 2 \\rangle$ | F ($1$) |\n| $2$ | $3$ | $\\{2, 3\\}$ | $\\langle 2, 3 \\rangle$ | F ($2$) |\n| $3$ | $4$ | $\\{2, 3, 4\\}$ | $\\langle 2, 3, 4 \\rangle$ | F ($3$) |\n| $4$ | $5$ | $\\{3, 4, 5\\}$ | $\\langle 3, 4, 5 \\rangle$ | F ($4$, evict $2$) |\n| $5$ | $2$ | $\\{4, 5, 2\\}$ | $\\langle 4, 5, 2 \\rangle$ | F ($5$, evict $3$) |\n| $6$ | $3$ | $\\{5, 2, 3\\}$ | $\\langle 5, 2, 3 \\rangle$ | F ($6$, evict $4$) |\n| $7$ | $1$ | $\\{2, 3, 1\\}$ | $\\langle 2, 3, 1 \\rangle$ | F ($7$, evict $5$) |\n| $8$ | $2$ | $\\{2, 3, 1\\}$ | $\\langle 2, 3, 1 \\rangle$ | H |\n| $9$ | $3$ | $\\{2, 3, 1\\}$ | $\\langle 2, 3, 1 \\rangle$ | H |\n| $10$ | $4$ | $\\{3, 1, 4\\}$ | $\\langle 3, 1, 4 \\rangle$ | F ($8$, evict $2$) |\n| $11$ | $5$ | $\\{1, 4, 5\\}$ | $\\langle 1, 4, 5 \\rangle$ | F ($9$, evict $3$) |\n| $12$ | $1$ | $\\{1, 4, 5\\}$ | $\\langle 1, 4, 5 \\rangle$ | H |\n\nThe total number of page faults for $k=3$ frames is $9$. Thus, $f(3) = 9$.\n\n**Case 2: $k=n+1=4$ page frames**\n\nWe repeat the simulation with $4$ frames.\n\n| Time Step | Reference | Frame Contents (Set) | FIFO Queue (oldest...newest) | Result |\n| :---: | :---: | :---: | :---: | :---: |\n| $1$ | $2$ | $\\{2\\}$ | $\\langle 2 \\rangle$ | F ($1$) |\n| $2$ | $3$ | $\\{2, 3\\}$ | $\\langle 2, 3 \\rangle$ | F ($2$) |\n| $3$ | $4$ | $\\{2, 3, 4\\}$ | $\\langle 2, 3, 4 \\rangle$ | F ($3$) |\n| $4$ | $5$ | $\\{2, 3, 4, 5\\}$ | $\\langle 2, 3, 4, 5 \\rangle$ | F ($4$) |\n| $5$ | $2$ | $\\{2, 3, 4, 5\\}$ | $\\langle 2, 3, 4, 5 \\rangle$ | H |\n| $6$ | $3$ | $\\{2, 3, 4, 5\\}$ | $\\langle 2, 3, 4, 5 \\rangle$ | H |\n| $7$ | $1$ | $\\{3, 4, 5, 1\\}$ | $\\langle 3, 4, 5, 1 \\rangle$ | F ($5$, evict $2$) |\n| $8$ | $2$ | $\\{4, 5, 1, 2\\}$ | $\\langle 4, 5, 1, 2 \\rangle$ | F ($6$, evict $3$) |\n| $9$ | $3$ | $\\{5, 1, 2, 3\\}$ | $\\langle 5, 1, 2, 3 \\rangle$ | F ($7$, evict $4$) |\n| $10$ | $4$ | $\\{1, 2, 3, 4\\}$ | $\\langle 1, 2, 3, 4 \\rangle$ | F ($8$, evict $5$) |\n| $11$ | $5$ | $\\{2, 3, 4, 5\\}$ | $\\langle 2, 3, 4, 5 \\rangle$ | F ($9$, evict $1$) |\n| $12$ | $1$ | $\\{3, 4, 5, 1\\}$ | $\\langle 3, 4, 5, 1 \\rangle$ | F ($10$, evict $2$) |\n\nThe total number of page faults for $k=4$ frames is $10$. Thus, $f(4) = 10$.\nWe observe that $f(4) > f(3)$, which is an instance of Belady's anomaly, a known characteristic of the FIFO algorithm.\n\n**Case 3: $k=n+2=5$ page frames**\n\nFinally, we perform the simulation with $5$ frames.\n\n| Time Step | Reference | Frame Contents (Set) | FIFO Queue (oldest...newest) | Result |\n| :---: | :---: | :---: | :---: | :---: |\n| $1$ | $2$ | $\\{2\\}$ | $\\langle 2 \\rangle$ | F ($1$) |\n| $2$ | $3$ | $\\{2, 3\\}$ | $\\langle 2, 3 \\rangle$ | F ($2$) |\n| $3$ | $4$ | $\\{2, 3, 4\\}$ | $\\langle 2, 3, 4 \\rangle$ | F ($3$) |\n| $4$ | $5$ | $\\{2, 3, 4, 5\\}$ | $\\langle 2, 3, 4, 5 \\rangle$ | F ($4$) |\n| $5$ | $2$ | $\\{2, 3, 4, 5\\}$ | $\\langle 2, 3, 4, 5 \\rangle$ | H |\n| $6$ | $3$ | $\\{2, 3, 4, 5\\}$ | $\\langle 2, 3, 4, 5 \\rangle$ | H |\n| $7$ | $1$ | $\\{2, 3, 4, 5, 1\\}$ | $\\langle 2, 3, 4, 5, 1 \\rangle$ | F ($5$) |\n| $8$ | $2$ | $\\{2, 3, 4, 5, 1\\}$ | $\\langle 2, 3, 4, 5, 1 \\rangle$ | H |\n| $9$ | $3$ | $\\{2, 3, 4, 5, 1\\}$ | $\\langle 2, 3, 4, 5, 1 \\rangle$ | H |\n| $10$ | $4$ | $\\{2, 3, 4, 5, 1\\}$ | $\\langle 2, 3, 4, 5, 1 \\rangle$ | H |\n| $11$ | $5$ | $\\{2, 3, 4, 5, 1\\}$ | $\\langle 2, 3, 4, 5, 1 \\rangle$ | H |\n| $12$ | $1$ | $\\{2, 3, 4, 5, 1\\}$ | $\\langle 2, 3, 4, 5, 1 \\rangle$ | H |\n\nThe set of unique pages in the reference string is $\\{1, 2, 3, 4, 5\\}$, which has a cardinality of $5$. Since the number of available frames, $k=5$, is equal to the number of unique pages, a page fault occurs only upon the first reference to each unique page. After the first $7$ time steps, all unique pages are loaded into the frames, and no further evictions or faults occur.\nThe total number of page faults for $k=5$ frames is $5$. Thus, $f(5) = 5$.\n\n**Summary of Results**\nThe calculated numbers of page faults are:\n$f(n) = f(3) = 9$\n$f(n+1) = f(4) = 10$\n$f(n+2) = f(5) = 5$\n\nThe problem requires these results to be reported as a row matrix $\\big(f(n),\\,f(n+1),\\,f(n+2)\\big)$.\nSubstituting the values we found: $\\begin{pmatrix} 9 & 10 & 5 \\end{pmatrix}$.",
            "answer": "$$\n\\boxed{\\begin{pmatrix} 9 & 10 & 5 \\end{pmatrix}}\n$$"
        }
    ]
}