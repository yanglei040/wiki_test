{
    "hands_on_practices": [
        {
            "introduction": "本练习为实时系统分析奠定了基础。你将应用基本的基于利用率的测试，来判断一组任务在两种基础调度算法——速率单调调度（RMS）和最早截止期优先（EDF）——之下，是否可以在单处理器上调度。这项实践对于快速进行可行性评估，以及理解在资源受限的软实时场景中如何实现系统性能的优雅降级至关重要。",
            "id": "3646363",
            "problem": "考虑一个采用抢占式调度的单处理器系统，其中包含独立的周期性任务，每个任务 $\\tau_i$ 的特征是最坏情况执行时间 $C_i$ 和一个与其相对截止时间相等的周期 $T_i$（即 $D_i = T_i$）。任务集为 $\\{(C_i, T_i)\\} = \\{(2,5),(1,4),(2,10)\\}$，共有 $n=3$ 个任务。假设没有释放抖动、没有自我挂起、也没有资源阻塞。您的目标是：\n- 从基本原理出发，计算总利用率 $U$，并利用 $n$ 个周期性任务的经典利用率充分界限，判断该任务集在固定优先级速率单调调度 (RMS) 下是否可调度；同时，利用其在 $D_i=T_i$ 时的标准可行性条件，判断在动态优先级最早截止时间优先 (EDF) 下是否可调度。\n- 假设当 $U$ 略微超过 RMS 利用率充分界限时，您必须维持一个软实时服务。您决定统一减少可选计算，使得每个任务的最坏情况执行时间都按一个公共因子 $\\alpha$ ($0\\alpha\\le 1$) 进行缩放。确定能使该任务集恰好满足 RMS 利用率充分界限的最小 $\\alpha$ 值。\n\n仅报告 $\\alpha$ 的数值作为最终答案，四舍五入到 $4$ 位有效数字。无需单位。",
            "solution": "用户希望我解决一个实时调度问题。\n\n我将首先对问题陈述进行全面验证。\n\n### 第 1 步：提取已知条件\n- **系统类型**：单处理器，抢占式调度。\n- **任务模型**：独立周期性任务。\n- **任务参数**：每个任务 $\\tau_i$ 由一个元组 $(C_i, T_i)$ 定义，其中 $C_i$ 是最坏情况执行时间，$T_i$ 是周期。\n- **截止时间约束**：每个任务的相对截止时间 $D_i$ 等于其周期 $T_i$（即 $D_i = T_i$）。\n- **任务集**：$\\{(C_i, T_i)\\} = \\{(2,5), (1,4), (2,10)\\}$。\n- **任务数量**：$n=3$。\n- **系统假设**：无释放抖动、无自我挂起、无资源阻塞。\n- **第一个目标**：\n    1.  计算总利用率 $U$。\n    2.  使用利用率充分界限 $n(2^{1/n} - 1)$ 判断在速率单调调度 (RMS) 下的可调度性。\n    3.  使用条件 $U \\le 1$ 判断在最早截止时间优先 (EDF) 下的可调度性。\n- **第二个目标**：\n    1.  将每个任务的执行时间 $C_i$ 按一个公共因子 $\\alpha$ ($0  \\alpha \\le 1$) 进行缩放。\n    2.  确定使缩放后的任务集恰好满足 RMS 利用率充分界限的最小 $\\alpha$ 值。\n- **最终答案格式**：报告 $\\alpha$ 的数值，四舍五入到 $4$ 位有效数字。\n\n### 第 2 步：使用提取的已知条件进行验证\n- **科学依据**：该问题基于实时系统理论的基础概念，特别是使用速率单调调度 (RMS) 和最早截止时间优先 (EDF) 对周期性任务进行可调度性分析。Liu and Layland 的利用率界限是该领域的经典成果。该问题在科学上和数学上都是合理的。\n- **适定性**：该问题是适定的。它提供了分析所需的完整任务参数和系统特性集。目标陈述清晰，问题的结构能够导向对可调度性分析和 $\\alpha$ 值的唯一、可计算的解。\n- **客观性**：该问题使用计算机科学和工程领域的标准术语，以精确、客观的语言陈述。没有主观或模糊的术语。\n- **缺陷清单**：\n    1.  **科学/事实不健全**：无。RMS 和 EDF 的原理被正确应用。\n    2.  **非形式化/不相关**：无。该问题是实时调度理论中的一个形式化练习。\n    3.  **不完整/矛盾的设置**：无。所有必要的数据都已提供且一致。\n    4.  **不切实际/不可行**：无。任务参数是教科书示例中的标准参数。\n    5.  **不适定/结构不良**：无。该问题结构良好，可导向唯一解。\n    6.  **伪深刻/琐碎**：无。该问题是一个标准的、非琐碎的练习，需要应用特定公式和代数运算。\n    7.  **超出科学可验证性**：无。解决方案是数学上可验证的。\n\n### 第 3 步：结论与行动\n问题是**有效的**。我将继续提供完整的解决方案。\n\n该问题需要对一个实时任务集进行两部分分析。首先，我们评估其在两种不同调度策略下的可调度性。其次，我们计算一个缩放因子，以使任务集在特定条件下可调度。\n\n单个周期性任务 $\\tau_i$ 的利用率 $U_i$ 是其最坏情况执行时间 $C_i$ 与其周期 $T_i$ 的比率：\n$$U_i = \\frac{C_i}{T_i}$$\n任务集的总利用率 $U$ 是各个任务利用率的总和：\n$$U = \\sum_{i=1}^{n} U_i$$\n给定的任务集为 $\\{(2,5), (1,4), (2,10)\\}$。我们计算这 $n=3$ 个任务的总利用率：\n$$U = \\frac{2}{5} + \\frac{1}{4} + \\frac{2}{10}$$\n为了对这些分数求和，我们找到一个公分母，即 $20$：\n$$U = \\frac{2 \\times 4}{20} + \\frac{1 \\times 5}{20} + \\frac{2 \\times 2}{20} = \\frac{8+5+4}{20} = \\frac{17}{20}$$\n以小数表示，总利用率为 $U = 0.85$。\n\n现在我们评估可调度性。\n\n**速率单调调度 (RMS) 分析：**\nRMS 是一种固定优先级的抢占式调度算法，其中周期较短的任务被赋予较高的优先级。对于 $n$ 个 $D_i = T_i$ 的独立周期性任务，其可调度性的一个充分（但非必要）条件是 Liu and Layland 的利用率界限：\n$$U \\le n\\left(2^{1/n} - 1\\right)$$\n对于 $n=3$ 个任务，该界限为：\n$$U_{RMS\\_bound} = 3\\left(2^{1/3} - 1\\right)$$\n这个值的数值约等于：\n$$U_{RMS\\_bound} \\approx 3\\left(1.259921 - 1\\right) = 3\\left(0.259921\\right) \\approx 0.77976$$\n我们将总利用率 $U$ 与此界限进行比较：\n$$0.85 \\le 0.77976$$\n这个不等式是错误的。由于总利用率 $U = 0.85$ 超过了 RMS 的充分条件界限，我们无法通过此测试保证该任务集的可调度性。\n\n**最早截止时间优先 (EDF) 分析：**\nEDF 是一种动态优先级的抢占式调度算法，其中具有最早绝对截止时间的就绪任务拥有最高优先级。对于单处理器上 $D_i=T_i$ 的一组独立周期性任务，其可调度的充要条件是：\n$$U \\le 1$$\n我们将总利用率 $U$ 与此界限进行比较：\n$$0.85 \\le 1$$\n这个不等式是正确的。因此，该任务集在 EDF 下是可调度的。\n\n**缩放因子 $\\alpha$ 的计算：**\n问题的第二部分涉及将每个任务的最坏情况执行时间 $C_i$ 按一个公共因子 $\\alpha$ ($0  \\alpha \\le 1$) 进行缩放。新的执行时间为 $C'_i = \\alpha C_i$。\n\n新的总利用率，记为 $U'$，为：\n$$U' = \\sum_{i=1}^{n} \\frac{C'_i}{T_i} = \\sum_{i=1}^{n} \\frac{\\alpha C_i}{T_i} = \\alpha \\left(\\sum_{i=1}^{n} \\frac{C_i}{T_i}\\right) = \\alpha U$$\n我们需要找到能使任务集恰好满足 RMS 利用率充分界限的最小 $\\alpha$ 值。这意味着我们将新的利用率 $U'$ 设置为等于 RMS 界限：\n$$U' = n\\left(2^{1/n} - 1\\right)$$\n代入 $U' = \\alpha U$ 以及 $n$ 和 $U$ 的值：\n$$\\alpha \\left(\\frac{17}{20}\\right) = 3\\left(2^{1/3} - 1\\right)$$\n现在，我们求解 $\\alpha$：\n$$\\alpha = \\frac{20}{17} \\left(3\\left(2^{1/3} - 1\\right)\\right)$$\n$$\\alpha = \\frac{60}{17}\\left(2^{1/3} - 1\\right)$$\n为了求出数值，我们使用之前计算的 RMS 界限值：\n$$\\alpha = \\frac{20}{17} \\times U_{RMS\\_bound} \\approx \\frac{20}{17} \\times 0.779763$$\n$$\\alpha \\approx 1.17647 \\times 0.779763 \\approx 0.917368$$\n问题要求答案四舍五入到 $4$ 位有效数字。\n$$\\alpha \\approx 0.9174$$\n这个 $\\alpha$ 值是最小的缩放因子，它将执行时间减少到恰好使任务集的总利用率等于 $n=3$ 个任务的 RMS 可调度性界限。",
            "answer": "$$\\boxed{0.9174}$$"
        },
        {
            "introduction": "本问题超越了简单的利用率边界，深入探讨了用于固定优先级系统的更精确方法——响应时间分析（RTA）。它模拟了一个常见的现实世界挑战：最坏情况执行时间（WCET）的低估。通过这项实践，你将学会计算任务的真实响应时间以验证其硬截止期，并学习如何通过动态调整软任务的“质量”来设计一种回退机制，以保护关键任务。",
            "id": "3646424",
            "problem": "一个单核、抢占式的嵌入式控制器在速率单调调度（Rate Monotonic Scheduling, RMS）下运行三个独立的周期性任务。这些任务使用标准的周期性任务模型进行建模，该模型包含周期 $T_i$、相对截止时间 $D_i$ 和最坏情况执行时间（Worst-Case Execution Time, WCET）$C_i$。所有任务的截止时间等于其周期，即 $D_i = T_i$，具有零释放抖动和可忽略的上下文切换开销。这些任务是：\n\n- 一个软实时传感器处理任务 $\\tau_1$，其估计的最坏情况执行时间为 $C_1^{\\text{est}} = 6 \\text{ ms}$，周期为 $T_1 = 10 \\text{ ms}$。\n- 一个硬实时控制任务 $\\tau_2$，其估计的最坏情况执行时间为 $C_2^{\\text{est}} = 7 \\text{ ms}$，周期为 $T_2 = 25 \\text{ ms}$。\n- 一个软实时日志记录任务 $\\tau_3$，其估计的最坏情况执行时间为 $C_3^{\\text{est}} = 10 \\text{ ms}$，周期为 $T_3 = 40 \\text{ ms}$。\n\n假设最坏情况执行时间被低估了：对于所有任务 $i \\in \\{1,2,3\\}$，其实际执行时间为 $C_i = 1.1 \\cdot C_i^{\\text{est}}$。系统使用 RMS 根据任务周期分配固定优先级。\n\n在这些条件下，硬实时控制任务 $\\tau_2$ 违反了其截止时间。为了保证 $\\tau_2$ 的硬截止时间，您实现了一个软回退机制，通过一个无量纲的质量因子 $q \\in (0,1]$ 来缩放软任务 $\\tau_1$ 和 $\\tau_3$ 的执行时间，使其各自的实际执行时间变为 $q \\cdot C_1$ 和 $q \\cdot C_3$，而硬任务 $\\tau_2$ 继续以其实际时间 $C_2$ 执行。假设 $q$ 的任何减小都会严格地按比例减少软任务已执行的工作量，而不改变它们的周期或截止时间。\n\n使用固定优先级可调度性分析的基本原理，确定在回退机制下，能使硬实时控制任务 $\\tau_2$ 满足其截止时间 $D_2$ 的质量因子 $q$ 的最大值。将最终的 $q$ 表示为一个无量纲实数，并将您的答案四舍五入到四位有效数字。",
            "solution": "基本原理包括周期性任务模型的定义和用于固定优先级抢占式调度的成熟的响应时间分析。在速率单调调度（RMS）下，周期较短的任务具有较高的优先级。在固定优先级下，任务 $\\tau_i$ 的最坏情况响应时间 $R_i$ 满足：\n$$\nR_i \\;=\\; C_i \\;+\\; \\sum_{j \\in \\text{hp}(i)} \\left\\lceil \\frac{R_i}{T_j} \\right\\rceil C_j,\n$$\n其中 $\\text{hp}(i)$ 是比 $\\tau_i$ 优先级更高的任务集合，向上取整函数计算了在 $\\tau_i$ 的响应时间窗口内，每个更高优先级任务可以执行的最大干扰作业数。\n\n我们首先根据给定的周期在 RMS 下列出优先级：$T_1 = 10 \\text{ ms}$，$T_2 = 25 \\text{ ms}$，$T_3 = 40 \\text{ ms}$。因此，$\\tau_1$ 具有最高优先级，$\\tau_2$ 次之，$\\tau_3$ 最低。\n\n基于 $10\\%$ 低估的实际执行时间为\n$$\nC_1 = 1.1 \\cdot 6 \\text{ ms} = 6.6 \\text{ ms}, \\quad C_2 = 1.1 \\cdot 7 \\text{ ms} = 7.7 \\text{ ms}, \\quad C_3 = 1.1 \\cdot 10 \\text{ ms} = 11 \\text{ ms}.\n$$\n在软回退机制下，只有软任务按质量因子 $q$ 进行缩放，所以\n$$\nC_1(q) = q \\cdot 6.6 \\text{ ms}, \\quad C_3(q) = q \\cdot 11 \\text{ ms}, \\quad C_2 \\text{ 保持为 } 7.7 \\text{ ms}.\n$$\n\n我们分析硬任务 $\\tau_2$。其更高优先级的任务集合为 $\\text{hp}(2) = \\{\\tau_1\\}$。因此，响应时间 $R_2(q)$ 服从\n$$\nR_2(q) \\;=\\; C_2 \\;+\\; \\left\\lceil \\frac{R_2(q)}{T_1} \\right\\rceil C_1(q)\n\\;=\\; 7.7 \\;+\\; \\left\\lceil \\frac{R_2(q)}{10} \\right\\rceil \\cdot 6.6 q.\n$$\n我们首先验证当 $q = 1$（无回退缩放）时观察到的违规情况。开始一个标准的不动点迭代：\n- 初始化 $R^{(0)} = C_2 = 7.7$。\n- 与 $T_1$ 的干扰次数：$\\left\\lceil \\frac{7.7}{10} \\right\\rceil = 1$，所以 $R^{(1)} = 7.7 + 1 \\cdot 6.6 = 14.3$。\n- 接下来，$\\left\\lceil \\frac{14.3}{10} \\right\\rceil = 2$，所以 $R^{(2)} = 7.7 + 2 \\cdot 6.6 = 20.9$。\n- 接下来，$\\left\\lceil \\frac{20.9}{10} \\right\\rceil = 3$，所以 $R^{(3)} = 7.7 + 3 \\cdot 6.6 = 27.5$。\n- 现在，$\\left\\lceil \\frac{27.5}{10} \\right\\rceil = 3$，所以不动点是 $R_2(1) = 27.5$。\n\n由于 $D_2 = T_2 = 25$，而 $R_2(1) = 27.5 > 25$，这证实了在 $10\\%$ 的最坏情况执行时间低估下，任务错过了截止时间。\n\n我们现在计算保证 $R_2(q) \\le D_2 = 25$ 的最大 $q$ 值。令 $n = \\left\\lceil \\frac{R_2(q)}{10} \\right\\rceil$ 表示在响应窗口内干扰的 $\\tau_1$ 的作业数。响应时间方程简化为\n$$\nR_2(q) = 7.7 + n \\cdot 6.6 q,\n$$\n其 $n$ 的一致性条件由下式给出\n$$\nn = \\left\\lceil \\frac{R_2(q)}{10} \\right\\rceil = \\left\\lceil \\frac{7.7 + n \\cdot 6.6 q}{10} \\right\\rceil.\n$$\n因为 $D_2 = 25$，需要考虑的相关 $n$ 值为 $n=2$ 和 $n=3$：\n- 对于 $n=2$，我们有 $R_2(q) = 7.7 + 13.2 q$。一致性条件 $10  R_2(q) \\le 20$ 得出\n$$\n10  7.7 + 13.2 q \\le 20 \\quad \\Rightarrow \\quad \\frac{10 - 7.7}{13.2}  q \\le \\frac{20 - 7.7}{13.2},\n$$\n即，\n$$\nq \\in \\left( \\frac{2.3}{13.2}, \\frac{12.3}{13.2} \\right] = \\left(0.174242\\ldots, 0.931818\\ldots\\right].\n$$\n在此范围内，$R_2(q) \\le 20 \\le 25$，因此满足截止时间。\n- 对于 $n=3$，我们有 $R_2(q) = 7.7 + 19.8 q$。一致性条件 $20  R_2(q) \\le 30$ 得出\n$$\n20  7.7 + 19.8 q \\le 30 \\quad \\Rightarrow \\quad \\frac{12.3}{19.8}  q \\le \\frac{22.3}{19.8}.\n$$\n由于 $q \\le 1$，一致的范围是\n$$\nq \\in \\left( \\frac{12.3}{19.8}, 1 \\right] = \\left( 0.621212\\ldots, 1 \\right].\n$$\n为了在 $n=3$ 的情况下满足截止时间，我们需要 $R_2(q) \\le 25$，这给出\n$$\n7.7 + 19.8 q \\le 25 \\quad \\Rightarrow \\quad q \\le \\frac{25 - 7.7}{19.8} = \\frac{17.3}{19.8} = 0.874747\\ldots.\n$$\n因此，对于 $n=3$，满足截止时间的可行 $q$ 值位于区间 $\\left(0.621212\\ldots, 0.874747\\ldots\\right]$ 内。\n\n结合这两种情况，所有满足 $R_2(q) \\le 25$ 的 $q$ 的集合是\n$$\nq \\in \\left(0.174242\\ldots, 0.931818\\ldots\\right] \\;\\cup\\; \\left(0.621212\\ldots, 0.874747\\ldots\\right] \\;=\\; \\left(0.174242\\ldots, 0.931818\\ldots\\right].\n$$\n因此，保证 $\\tau_2$ 硬截止时间的最大质量因子是\n$$\nq_{\\max} \\;=\\; \\frac{12.3}{13.2} \\;=\\; 0.931818\\ldots.\n$$\n按要求四舍五入到四位有效数字，结果是 $0.9318$。",
            "answer": "$$\\boxed{0.9318}$$"
        },
        {
            "introduction": "这项实践将我们的视野从单核扩展到多核处理器，揭示了多处理器调度中额外的复杂性和反直觉行为。你将诊断著名的“Dhall效应”——一种即使在处理能力充裕的情况下，使用全局调度器也可能导致任务调度失败的异常现象。该练习接着会指导你通过实施分区调度来解决这个问题，这是一种强大且广泛应用于多处理器实时系统的设计模式。",
            "id": "3646354",
            "problem": "一个计算平台拥有 $m=2$ 个相同的处理器。一组独立的、可抢占的、具有隐式截止时间 ($D_{i}=T_{i}$) 的周期性任务集采用全局最早截止时间优先（Global EDF, G-EDF）算法进行调度。这些硬实时任务是：\n- 任务 $\\tau_{h}$，其计算时间 $C_{h}=9.6$ 毫秒，周期 $T_{h}=10$ 毫秒，\n- 任务 $\\tau_{a}$，其计算时间 $C_{a}=2$ 毫秒，周期 $T_{a}=50$ 毫秒，\n- 任务 $\\tau_{b}$，其计算时间 $C_{b}=1.5$ 毫秒，周期 $T_{b}=50$ 毫秒。\n\n现新增一个周期为 $T_{x}=40$ 毫秒的软实时任务 $\\tau_{x}$。其最坏情况执行时间 $C_{x}$ 有待确定。由于系统必须为 $\\tau_{h}$、$\\tau_{a}$ 和 $\\tau_{b}$ 提供硬性保证，任何判定该任务集在全局EDF下不可调度的分析都将被视为表明硬实时任务可能出现截止时间未满足的情况。\n\n第1部分（诊断Dhall效应）：使用公认的实时调度基础理论（利用率、工作负载可行性，以及依赖于总利用率和最大单任务利用率的全局EDF最坏情况安全界限），确定使得组合任务集 $\\{\\tau_{h},\\tau_{a},\\tau_{b},\\tau_{x}\\}$ 在全局EDF下的硬实时认证失败的最小严格正值 $C_{x}$，从而揭示被称为Dhall效应的调度异常。\n\n第2部分（重新设计）：使用分区调度和软迁移重新设计系统。将任务 $\\tau_{h}$ 固定在处理器 $P_{1}$ 上，将任务 $\\tau_{a}$ 和 $\\tau_{b}$ 固定在处理器 $P_{2}$ 上。允许任务 $\\tau_{x}$ 将其作业拆分到多个处理器上执行：其作业的 $f$ 部分在 $P_{1}$ 上执行，$(1-f)$ 部分在 $P_{2}$ 上执行。为了稳健地考虑软迁移和缓存亲和性开销，假设 $\\tau_{x}$ 的每个作业除了 $C_{x}$ 外，还会产生一个固定的开销 $\\delta=0.2$ 毫秒，无论它在哪个处理器上运行。利用单处理器最早截止时间优先（EDF）对于隐式截止时间任务是最优的，以及当处理器上的利用率之和不超过 $1$ 时该处理器是可行的这一事实。\n\n推导关于 $f$ 和 $C_{x}$ 的约束条件，以确保 $P_{1}$ 上的 $\\tau_{h}$ 以及 $P_{2}$ 上的 $\\tau_{a}、\\tau_{b}$ 的硬性保证，并选择 $f$ 以在这些约束下最大化可容许的最大 $C_{x}$。计算这个最大的 $C_{x}$ 值（单位为毫秒）。将您的答案四舍五入到四位有效数字，并以毫秒为单位表示最终的 $C_{x}$ 值。",
            "solution": "经分析，该问题陈述在科学上是严谨的、定义明确、客观且内部一致的。它提出了一个标准的实时系统分析问题，没有任何事实错误、矛盾或含糊之处。因此，该问题是有效的，下面提供完整解答。\n\n解答按照问题陈述的要求分为两部分。所有时间值均以毫秒（ms）为单位。\n\n第1部分：在全局EDF下诊断Dhall效应\n\n首先，我们计算每个给定硬实时任务的利用率 $U_{i} = C_{i} / T_{i}$。\n- 任务 $\\tau_{h}$：$U_{h} = \\frac{C_{h}}{T_{h}} = \\frac{9.6}{10} = 0.96$。\n- 任务 $\\tau_{a}$：$U_{a} = \\frac{C_{a}}{T_{a}} = \\frac{2}{50} = 0.04$。\n- 任务 $\\tau_{b}$：$U_{b} = \\frac{C_{b}}{T_{b}} = \\frac{1.5}{50} = 0.03$。\n\n新的软实时任务 $\\tau_{x}$ 的利用率为 $U_{x} = \\frac{C_{x}}{T_{x}} = \\frac{C_{x}}{40}$。\n\n任务集 $\\{\\tau_{h}, \\tau_{a}, \\tau_{b}, \\tau_{x}\\}$ 的总利用率为：\n$$U_{sum} = U_{h} + U_{a} + U_{b} + U_{x} = 0.96 + 0.04 + 0.03 + \\frac{C_{x}}{40} = 1.03 + \\frac{C_{x}}{40}$$\n一个任务集在 $m$ 个处理器上可调度的必要条件是总利用率不超过处理器数量，即 $U_{sum} \\le m$。此处 $m=2$，所以必须有 $1.03 + \\frac{C_{x}}{40} \\le 2$，这意味着 $\\frac{C_{x}}{40} \\le 0.97$，或 $C_{x} \\le 38.8$。\n\n问题要求使用一个G-EDF的最坏情况安全界限来确定认证何时会失败。一个被广泛接受的关于隐式截止时间周期性任务在 $m$ 个处理器上G-EDF调度的充分条件由Goossens、Funk和Baruah给出：\n$$U_{sum} \\le m - (m-1)U_{max}$$\n其中 $U_{max}$ 是任务集中任意单个任务的最大利用率。如果此条件不满足，认证即失败：\n$$U_{sum}  m - (m-1)U_{max}$$\n当 $m=2$ 时，失败条件变为：\n$$U_{sum}  2 - (2-1)U_{max} \\implies U_{sum}  2 - U_{max}$$\n代入 $U_{sum}$ 的表达式：\n$$1.03 + \\frac{C_{x}}{40}  2 - U_{max} \\implies \\frac{C_{x}}{40} + U_{max}  0.97$$\n我们需要找到满足此不等式的最小严格正值 $C_{x}$。$U_{max}$ 的值取决于 $C_{x}$：$U_{max} = \\max(U_{h}, U_{a}, U_{b}, U_{x}) = \\max(0.96, 0.04, 0.03, \\frac{C_{x}}{40})$。因为我们在寻找最小的 $C_x > 0$，我们可以假设 $U_{x}$ 很小，具体来说是 $U_{x} \\le U_{h} = 0.96$。这意味着 $C_{x}/40 \\le 0.96$，或 $C_x \\le 38.4$。在此假设下，$U_{max} = U_{h} = 0.96$。\n\n失败条件现在是：\n$$\\frac{C_{x}}{40} + 0.96  0.97$$\n$$\\frac{C_{x}}{40}  0.01$$\n$$C_{x}  0.4$$\n假设 $C_x \\le 38.4$ 与 $C_x$ 略大于 $0.4$ 是一致的。对于任何 $C_{x}  0.4$ ms，可调度性测试都会失败。问题要求使认证失败的最小严格正值 $C_{x}$。这是导致失败的值集合的下确界，即边界值。\n因此，边界值为 $C_{x} = 0.4$ ms。任何严格大于此值的 $C_x$ 都会导致认证测试失败。这说明了Dhall效应：总利用率约为 $U_{sum} \\approx 1.03 + 0.01 = 1.04$，远低于系统容量 $m=2$，但由于一个任务（$\\tau_h$）的利用率非常高，该任务集被此标准测试判定为不可调度。\n\n第2部分：使用分区EDF进行重新设计\n\n在重新设计的系统中，任务被分区到两个处理器 $P_{1}$ 和 $P_{2}$ 上。\n- $P_{1}$ 承载任务 $\\tau_{h}$ 和 $\\tau_{x}$ 作业的 $f$ 部分。\n- $P_{2}$ 承载任务 $\\tau_{a}$、$\\tau_{b}$ 和 $\\tau_{x}$ 作业的 $(1-f)$ 部分。\n\n对于使用隐式截止时间任务的单处理器EDF调度，可调度的充要条件是处理器上的利用率之和不超过 $1$。\n\n任务 $\\tau_{x}$ 每个作业产生 $\\delta=0.2$ ms 的开销。其有效计算时间为 $C_{x}^{\\text{eff}} = C_{x} + \\delta = C_{x} + 0.2$。相应的总利用率为 $U_{x}^{\\text{eff}} = \\frac{C_{x} + 0.2}{T_{x}} = \\frac{C_{x} + 0.2}{40}$。\n\n处理器 $P_{1}$ 的可调度性约束为：\n$$U_{h} + f \\cdot U_{x}^{\\text{eff}} \\le 1$$\n$$0.96 + f \\left( \\frac{C_{x} + 0.2}{40} \\right) \\le 1$$\n$$f \\left( \\frac{C_{x} + 0.2}{40} \\right) \\le 1 - 0.96 = 0.04$$\n$$f(C_{x} + 0.2) \\le 0.04 \\times 40 = 1.6 \\quad (\\text{约束 1})$$\n\n处理器 $P_{2}$ 的可调度性约束为：\n$$U_{a} + U_{b} + (1-f) \\cdot U_{x}^{\\text{eff}} \\le 1$$\n$$(0.04 + 0.03) + (1-f) \\left( \\frac{C_{x} + 0.2}{40} \\right) \\le 1$$\n$$(1-f) \\left( \\frac{C_{x} + 0.2}{40} \\right) \\le 1 - 0.07 = 0.93$$\n$$(1-f)(C_{x} + 0.2) \\le 0.93 \\times 40 = 37.2 \\quad (\\text{约束 2})$$\n\n我们希望在满足这两个约束条件和 $0 \\le f \\le 1$ 的前提下最大化 $C_{x}$。令 $K = C_{x} + 0.2$。最大化 $C_{x}$ 等同于最大化 $K$。约束条件变为：\n1. $f K \\le 1.6 \\implies K \\le \\frac{1.6}{f}$\n2. $(1-f)K \\le 37.2 \\implies K \\le \\frac{37.2}{1-f}$\n\n为了最大化 $K$，它必须满足 $K \\le \\min\\left(\\frac{1.6}{f}, \\frac{37.2}{1-f}\\right)$。此表达式的最大值出现在两个项相等时，这可以在两个约束之间优化地平衡负载。\n$$\\frac{1.6}{f} = \\frac{37.2}{1-f}$$\n$$1.6(1-f) = 37.2f$$\n$$1.6 - 1.6f = 37.2f$$\n$$1.6 = (37.2 + 1.6)f = 38.8f$$\n$$f = \\frac{1.6}{38.8} = \\frac{16}{388} = \\frac{4}{97}$$\n这个 $f$ 值在 $0$ 和 $1$ 之间，因此是一个有效的分数。\n\n现在我们用这个最优的 $f$ 来求 $K$ 的最大值：\n$$K_{\\max} = \\frac{1.6}{f} = \\frac{1.6}{4/97} = 0.4 \\times 97 = 38.8$$\n最后，我们求出最大的 $C_{x}$：\n$$K_{\\max} = C_{x} + 0.2 \\implies 38.8 = C_{x} + 0.2$$\n$$C_{x} = 38.6$$\n问题要求将此答案四舍五入到四位有效数字。\n$$C_{x} = 38.60 \\text{ ms}$$\n与G-EDF认证所允许的值相比，这个重新设计的系统可以容纳大得多的 $C_x$ 值，这展示了分区调度在避免Dhall效应异常方面的实际好处。",
            "answer": "$$\\boxed{38.60}$$"
        }
    ]
}