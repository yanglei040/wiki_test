{
    "hands_on_practices": [
        {
            "introduction": "理论知识需要通过实践来巩固。让我们从一个基础练习开始，这个练习旨在揭示为什么0-1背包问题是一个值得深入研究的有趣问题。通过这个例子，你将亲手验证一个直观的贪心策略——即优先选择价值最高的物品——为何不总是能得到最优解，从而理解设计更精妙算法的必要性。",
            "id": "1449258",
            "problem": "一名数据科学家负责选择一批计算任务，以在一台可用随机存取存储器（RAM）有限的服务器上运行。该服务器有10 GB的可用RAM容量。现有三个待处理任务，每个任务都有特定的RAM需求和关联的优先级值，该值代表其重要性。目标是选择这些任务的一个子集同时运行，使得它们的总RAM需求不超过服务器的容量，并且所选任务的优先级值之和最大化。\n\n这三个任务是：\n- 任务1：优先级值 = 10，RAM需求 = 10 GB\n- 任务2：优先级值 = 6，RAM需求 = 5 GB\n- 任务3：优先级值 = 6，RAM需求 = 5 GB\n\n考虑一个简单的贪心策略来选择任务：总是首先选择可用的优先级值最高的任务，并继续此过程，直到无法在不超出RAM容量的情况下添加更多任务。\n\n令 $V_{\\text{greedy}}$ 为应用这种“最高优先级优先”的贪心策略所获得的总优先级值。\n令 $V_{\\text{optimal}}$ 为任何有效的任务组合可以实现的最大可能总优先级值。\n\n以下哪个选项表示正确的有序对 $(V_{\\text{greedy}}, V_{\\text{optimal}})$？\n\nA. (10, 10)\n\nB. (10, 12)\n\nC. (12, 10)\n\nD. (12, 12)\n\nE. (6, 12)",
            "solution": "我们将该选择问题建模为一个$0$-$1$背包问题。令容量为$C=10$，任务为物品，其价值和重量分别为$(v_{1},w_{1})=(10,10)$、$(v_{2},w_{2})=(6,5)$、$(v_{3},w_{3})=(6,5)$。目标是选择一个子集$S$来最大化\n$$\n\\sum_{i \\in S} v_{i}\n$$\n并满足约束条件\n$$\n\\sum_{i \\in S} w_{i} \\leq C.\n$$\n\n贪心策略（最高优先级值优先）：按$v_{i}$将物品按非递增顺序排序。顺序是$1$，然后是$2$和$3$（$2$和$3$并列）。从容量$C=10$开始。\n- 考虑物品$1$：$w_{1}=10 \\leq C=10$，因此选择它。剩余容量变为$C \\leftarrow C - w_{1} = 10 - 10 = 0$。\n- 考虑物品$2$和$3$：$w_{2}=w_{3}=5 > 0$，因此两者都无法放入剩余容量中。\n因此，贪心策略选择的集合是$S_{\\text{greedy}}=\\{1\\}$，其总价值为\n$$\nV_{\\text{greedy}}=\\sum_{i \\in S_{\\text{greedy}}} v_{i}=10。\n$$\n\n最优解：枚举所有可行的子集及其总价值和总重量。\n- $S=\\varnothing$：总重量$0 \\leq 10$，总价值$0$。\n- $S=\\{1\\}$：总重量$10 \\leq 10$，总价值$10$。\n- $S=\\{2\\}$：总重量$5 \\leq 10$，总价值$6$。\n- $S=\\{3\\}$：总重量$5 \\leq 10$，总价值$6$。\n- $S=\\{2,3\\}$：总重量$5+5=10 \\leq 10$，总价值$6+6=12$。\n- $S=\\{1,2\\}$：总重量$10+5=15 > 10$（不可行）。\n- $S=\\{1,3\\}$：总重量$10+5=15 > 10$（不可行）。\n- $S=\\{1,2,3\\}$：总重量$10+5+5=20 > 10$（不可行）。\n最大可行总价值是\n$$\nV_{\\text{optimal}}=12，\n$$\n由$S=\\{2,3\\}$达到。\n\n因此，有序对为$(V_{\\text{greedy}},V_{\\text{optimal}})=(10,12)$，对应选项B。",
            "answer": "$$\\boxed{B}$$"
        },
        {
            "introduction": "动态规划是解决0-1背包问题的经典且强大的方法。这个练习将带你逐步追踪一个经过空间优化的动态规划算法的执行过程。通过计算在处理每个物品后一维数组的状态，你不仅能掌握动态规划的核心思想——状态转移，还能理解如何将算法的空间复杂度从 $O(nW)$ 优化到 $O(W)$，这在内存受限的环境中至关重要。",
            "id": "1449277",
            "problem": "一位工程师正在为一个内存极其有限的微控制器开发一种资源分配算法。该算法必须解决一个“背包问题”的变种。给定一组任务，每个任务都有特定的内存“重量”和代表其优先级的“价值”，目标是选择一个任务子集，使得在不超过微控制器总内存容量的前提下，总优先级价值最大化。\n\n为了节省内存，该工程师的算法只使用一个一维数组，我们称之为 `V_max`，其大小为 `W+1`，其中 `W` 是总内存容量。该数组首先被初始化，所有元素都设置为零。然后，算法逐个处理每个任务。对于一个给定的权重为 `w_i`、价值为 `v_i` 的任务 `i`，算法根据以下规则更新 `V_max` 数组：对于从 `W` 向下到 `w_i`（含 `w_i`）的每个整数容量 `j`，元素 `V_max[j]` 被更新为其当前值与 `V_max[j - w_i] + v_i` 之间的最大值。\n\n假设总内存容量为 `W = 7`。可用任务如下表所示：\n\n| 任务 ID | 重量 `w` | 价值 `v` |\n|:-------:|:----------:|:---------:|\n|    1    |     3      |     5     |\n|    2    |     5      |     9     |\n|    3    |     2      |     3     |\n\n算法将首先处理任务1，然后是任务2，最后是任务3。你的目标是确定算法在处理完**仅前两个任务**（任务1和任务2）后，`V_max` 数组的状态。数组 `V_max` 的索引范围是从0到7。\n\n请将你的答案表示为一个行矩阵，其中包含元素 `V_max[0]` 到 `V_max[7]` 的整数值。",
            "solution": "我们使用一个一维数组 $V_{\\max}[0..W]$ 来解决0-1背包问题，其中 $W=7$。对于每个权重为 $w_{i}$、价值为 $v_{i}$ 的任务，更新规则是\n$$\nV_{\\max}[j] \\leftarrow \\max\\!\\big(V_{\\max}[j],\\, V_{\\max}[j-w_{i}] + v_{i}\\big)\\quad\\text{for } j=W,W-1,\\ldots,w_{i}.\n$$\n初始化：\n$$\nV_{\\max}[j]=0\\quad\\text{for } j=0,1,\\ldots,7,\n$$\n我们可以将其写为\n$$\n\\begin{pmatrix}\n0  0  0  0  0  0  0  0\n\\end{pmatrix}.\n$$\n\n处理任务1，$w_{1}=3$, $v_{1}=5$：\n对于 $j=7,6,5,4,3$，\n$$\nV_{\\max}[j]=\\max\\!\\big(V_{\\max}[j],\\, V_{\\max}[j-3]+5\\big).\n$$\n由于对于所有这些 $j$，$V_{\\max}[j-3]$ 的初始值都为0，所以每次更新得到\n$$\nV_{\\max}[j]=\\max(0,0+5)=5.\n$$\n索引 $j=0,1,2$ 保持为零。处理完任务1后：\n$$\n\\begin{pmatrix}\n0  0  0  5  5  5  5  5\n\\end{pmatrix}.\n$$\n\n处理任务2，$w_{2}=5$, $v_{2}=9$：\n对于 $j=7,6,5$，\n$$\nV_{\\max}[j]=\\max\\!\\big(V_{\\max}[j],\\, V_{\\max}[j-5]+9\\big).\n$$\n逐个计算：\n- 对于 $j=7$：$V_{\\max}[7]=\\max(5, V_{\\max}[2]+9)=\\max(5, 0+9)=9$。\n- 对于 $j=6$：$V_{\\max}[6]=\\max(5, V_{\\max}[1]+9)=\\max(5, 0+9)=9$。\n- 对于 $j=5$：$V_{\\max}[5]=\\max(5, V_{\\max}[0]+9)=\\max(5, 0+9)=9$。\n在本轮中，索引 $j=0,1,2,3,4$ 处的项不受影响，因此它们分别保持为 $0,0,0,5,5$。因此，处理完前两个任务后，数组为\n$$\n\\begin{pmatrix}\n0  0  0  5  5  9  9  9\n\\end{pmatrix}.\n$$",
            "answer": "$$\\boxed{\\begin{pmatrix}0  0  0  5  5  9  9  9\\end{pmatrix}}$$"
        },
        {
            "introduction": "除了动态规划，分支定界法是另一种解决组合优化问题的有效精确算法。这个练习将指导你使用分支定界法来求解一个背包实例，其中关键在于利用线性松弛（即分数背包问题）的解作为上界来剪枝，从而避免对整个解空间进行暴力搜索。完成这个练习将帮助你理解如何系统性地、智能地探索复杂问题的解空间。",
            "id": "1449298",
            "problem": "一位数据科学家正在为一个机器学习模型选择特征。目标是在不超过“计算预算”的情况下，最大化模型的预测能力，该能力由一个总“影响分数”来衡量。每个特征都有一个相关的影响分数和处理它所需的计算成本。这个选择问题可以被建模为一个0-1背包问题。\n\n可用的特征已按其影响与成本比率的降序预先排序，如下所示：\n- 特征 1：影响 = 40，成本 = 2\n- 特征 2：影响 = 30，成本 = 5\n- 特征 3：影响 = 50，成本 = 10\n- 特征 4：影响 = 10，成本 = 5\n\n总计算预算（背包容量）为16。\n\n您需要使用分支定界算法来解决这个问题，具体规范如下：\n- 该算法执行**最佳优先搜索**，总是扩展具有最高上界的活节点。\n- 状态空间是一个二叉树，其中节点代表对每个特征的决策。树的构建是按照特征列出的顺序（先是特征1，然后是特征2，依此类推）进行的。\n- 任何节点的上界计算为：到达该节点的路径上已包含特征的影响分数之和，加上对剩余特征和剩余计算预算解决**分数背包问题**所获得的值。\n- 如果一个节点的上界小于或等于到目前为止找到的最佳完整解决方案的总影响分数，则该节点被剪枝。\n\n在给定的计算预算下，可以实现的最大总影响分数是多少？",
            "solution": "设特征为由 $i \\in \\{1,2,3,4\\}$ 索引的物品，其影响（价值）为 $v_{i}$，计算成本（重量）为 $c_{i}$，背包容量为 $W=16$。这些物品已按影响与成本比率 $r_{i}=v_{i}/c_{i}$ 的降序排序：\n- 物品 1：$v_{1}=40$， $c_{1}=2$， $r_{1}=20$。\n- 物品 2：$v_{2}=30$， $c_{2}=5$， $r_{2}=6$。\n- 物品 3：$v_{3}=50$， $c_{3}=10$，$r_{3}=5$。\n- 物品 4：$v_{4}=10$， $c_{4}=5$， $r_{4}=2$。\n\n分支定界法使用由分数背包松弛计算出的上界引导的最佳优先搜索。对于任何当前累积影响为 $V$，累积成本为 $C$，剩余容量为 $R=W-C$，下一个物品索引为 $k+1$ 的节点，其上界 $U$ 的计算方法如下：\n- 初始化 $U \\leftarrow V$，$R \\leftarrow W-C$。\n- 对于 $j$ 从 $k+1$ 到 $4$ 依次进行：\n  - 如果 $c_{j} \\leq R$，则设置 $U \\leftarrow U+v_{j}$ 和 $R \\leftarrow R-c_{j}$。\n  - 否则，加上分数值 $U \\leftarrow U+v_{j}\\cdot \\frac{R}{c_{j}}$ 并停止。\n\n我们按 $U$ 的降序扩展节点，并将迄今为止找到的最佳完整（叶）可行解的值记为 $B$；任何上界 $U \\le B$ 的活节点都将被剪枝。\n\n根节点（未决定任何物品）：$(V=0,C=0,R=16)$。分数界：\n- 完全拿取物品1：$U \\leftarrow 0+40=40$，$R \\leftarrow 14$。\n- 完全拿取物品2：$U \\leftarrow 40+30=70$，$R \\leftarrow 9$。\n- 拿取物品3的 $\\frac{9}{10}$ 部分：增加 $50 \\cdot \\frac{9}{10}=45$，容量已满。\n因此 $U=115$。活节点列表：$\\{$根节点，上界 $U=115\\}$，$B=0$。\n\n扩展根节点。为物品1生成子节点。\n\n包含物品1（节点 $N_{1}^{\\text{in}}$）：$(V=40,C=2,R=14)$。对于物品2,3,4计算上界：\n- 完全拿取物品2：$U \\leftarrow 40+30=70$，$R \\leftarrow 9$。\n- 拿取物品3的 $\\frac{9}{10}$ 部分：增加 $45$。因此 $U=115$。\n\n不包含物品1（节点 $N_{1}^{\\text{out}}$）：$(V=0,C=0,R=16)$，对于物品2,3,4：\n- 完全拿取物品2：$U \\leftarrow 0+30=30$，$R \\leftarrow 11$。\n- 完全拿取物品3：$U \\leftarrow 30+50=80$，$R \\leftarrow 1$。\n- 拿取物品4的 $\\frac{1}{5}$ 部分：增加 $10 \\cdot \\frac{1}{5}=2$。因此 $U=82$。\n活节点列表：$\\{N_{1}^{\\text{in}}(U=115),\\,N_{1}^{\\text{out}}(U=82)\\}$。\n\n扩展 $N_{1}^{\\text{in}}$（最高 $U$）。决定物品2。\n\n包含物品2（节点 $N_{12}^{\\text{in,in}}$）：$(V=70,C=7,R=9)$，物品3,4：\n- 拿取物品3的 $\\frac{9}{10}$ 部分：增加 $45$。因此 $U=70+45=115$。\n\n不包含物品2（节点 $N_{12}^{\\text{in,out}}$）：$(V=40,C=2,R=14)$，物品3,4：\n- 完全拿取物品3：$U \\leftarrow 40+50=90$，$R \\leftarrow 4$。\n- 拿取物品4的 $\\frac{4}{5}$ 部分：增加 $10 \\cdot \\frac{4}{5}=8$。因此 $U=98$。\n活节点列表：$\\{N_{12}^{\\text{in,in}}(U=115),\\,N_{12}^{\\text{in,out}}(U=98),\\,N_{1}^{\\text{out}}(U=82)\\}$。\n\n扩展 $N_{12}^{\\text{in,in}}$（最高 $U$）。决定物品3。\n\n包含物品3：$(V=120,C=17)$，不可行，因为 $C>W$；丢弃。\n\n不包含物品3（节点 $N_{123}^{\\text{in,in,out}}$）：$(V=70,C=7,R=9)$，只剩下物品4：\n- 物品4完全可以放入：$U=70+10=80$。\n活节点列表：$\\{N_{12}^{\\text{in,out}}(U=98),\\,N_{1}^{\\text{out}}(U=82),\\,N_{123}^{\\text{in,in,out}}(U=80)\\}$。\n\n扩展 $N_{12}^{\\text{in,out}}$（最高 $U$）。决定物品3。\n\n包含物品3（节点 $N_{123}^{\\text{in,out,in}}$）：$(V=90,C=12,R=4)$，剩余物品4：\n- 使用物品4计算分数界：增加 $10 \\cdot \\frac{4}{5}=8$，所以 $U=98$。\n该节点对应一个可行的部分选择；继续处理物品4将产生一个完整解。\n\n不包含物品3（节点 $N_{123}^{\\text{in,out,out}}$）：$(V=40,C=2,R=14)$，剩余物品4：\n- 物品4完全可以放入：$U=40+10=50$。\n活节点列表：$\\{N_{123}^{\\text{in,out,in}}(U=98),\\,N_{1}^{\\text{out}}(U=82),\\,N_{123}^{\\text{in,in,out}}(U=80),\\,N_{123}^{\\text{in,out,out}}(U=50)\\}$。\n\n扩展 $N_{123}^{\\text{in,out,in}}$（最高 $U$）。决定物品4。\n\n包含物品4：$(V=100,C=17)$，不可行；丢弃。\n\n不包含物品4（叶节点）：$(V=90,C=12)$，没有剩余物品，所以 $U=90$。这是一个完整的可行解，总影响为90。设置 $B=90$。\n活节点列表：$\\{N_{1}^{\\text{out}}(U=82),\\,N_{123}^{\\text{in,in,out}}(U=80),\\,N_{123}^{\\text{in,out,out}}(U=50)\\}$。\n\n扩展 $N_{1}^{\\text{out}}$（下一个最高 $U=82$）。决定物品2。\n\n包含物品2（节点 $N_{2}^{\\text{in}}$）：$(V=30,C=5,R=11)$，物品3,4：\n- 完全拿取物品3：$U \\leftarrow 30+50=80$，$R \\leftarrow 1$。\n- 拿取物品4的 $\\frac{1}{5}$ 部分：增加 $2$。因此 $U=82$。\n\n不包含物品2（节点 $N_{2}^{\\text{out}}$）：$(V=0,C=0,R=16)$，物品3,4：\n- 完全拿取物品3和物品4：$U=50+10=60$。\n活节点列表：$\\{N_{2}^{\\text{in}}(U=82),\\,N_{123}^{\\text{in,in,out}}(U=80),\\,N_{2}^{\\text{out}}(U=60),\\,N_{123}^{\\text{in,out,out}}(U=50)\\}$。\n\n扩展 $N_{2}^{\\text{in}}$（最高 $U=82$）。决定物品3。\n\n包含物品3（节点 $N_{23}^{\\text{in,in}}$）：$(V=80,C=15,R=1)$，剩下物品4：\n- 从物品4计算分数界：增加 $2$，所以 $U=82$。\n\n不包含物品3（节点 $N_{23}^{\\text{in,out}}$）：$(V=30,C=5,R=11)$，只剩下物品4：\n- 完全拿取物品4：$U=30+10=40$。\n活节点列表：$\\{N_{23}^{\\text{in,in}}(U=82),\\,N_{123}^{\\text{in,in,out}}(U=80),\\,N_{2}^{\\text{out}}(U=60),\\,N_{123}^{\\text{in,out,out}}(U=50),\\,N_{23}^{\\text{in,out}}(U=40)\\}$。\n\n扩展 $N_{23}^{\\text{in,in}}$（最高 $U=82$）。决定物品4。\n\n包含物品4：$(V=90,C=20)$，不可行；丢弃。\n\n不包含物品4（叶节点）：$(V=80,C=15)$，上界 $U=80$。这是一个值为80的完整解，没有改进 $B$。\n\n现在，每个剩余的活节点的 $U \\le 80$，根据剪枝规则，任何 $U \\le B=90$ 的节点都将被剪枝：\n- $N_{123}^{\\text{in,in,out}}$ 的 $U=80 \\le 90$；剪枝。\n- $N_{2}^{\\text{out}}$ 的 $U=60 \\le 90$；剪枝。\n- $N_{123}^{\\text{in,out,out}}$ 的 $U=50 \\le 90$；剪枝。\n- $N_{23}^{\\text{in,out}}$ 的 $U=40 \\le 90$；剪枝。\n\n没有剩余的活节点。因此，最佳完整解的总影响为 $B=90$。一个达到该值的选择是物品1和3，总成本为 $2+10=12 \\leq 16$，总影响为 $40+50=90$。",
            "answer": "$$\\boxed{90}$$"
        }
    ]
}