{
    "hands_on_practices": [
        {
            "introduction": "要真正理解旅行商问题（TSP），最好的方法之一就是亲手解决一个小型实例。这个练习将带你体验为一家无人机公司规划最短配送路线的过程。通过枚举所有可能的路径，你不仅能找到问题的答案，还能直观地感受到即使只有四个地点，组合爆炸也已初见端倪，从而理解为何对于大规模问题，暴力破解并不可行。",
            "id": "1464546",
            "problem": "一家名为“AeroSwift”的小型无人机配送公司正在为一架无人机规划配送路线。该无人机必须从公司总部 (H) 出发，访问位于 A、B、C 三个地点的三位客户，然后返回总部。无人机必须恰好访问每位客户一次。所有地点对之间的距离是已知的，并在下表中给出。所有距离均以米为单位，并且是对称的，意味着从地点 X 到 Y 的距离与从 Y 到 X 的距离相同。\n\n| 出发/到达 | H   | A   | B   | C   |\n|-----------|-----|-----|-----|-----|\n| H         | 0   | 150 | 200 | 250 |\n| A         | 150 | 0   | 300 | 400 |\n| B         | 200 | 300 | 0   | 350 |\n| C         | 250 | 400 | 350 | 0   |\n\n公司管理层正在严格的燃料预算下研究该路线的可行性。他们面临的问题是旅行商问题决策版本（TSP-DECISION）的一个具体实例，该问题询问是否存在总长度不超过给定界限 $K$ 的回路。\n\n对于这条特定路线，公司设定的最大允许总行程长度为 $K = 1075$ 米。是否存在满足此预算约束的有效回路？您的任务是通过找到可能的最短回路长度并将其与 $K$ 进行比较来解决这个TSP-DECISION问题。\n\n以下哪个陈述正确回答了问题并提供了正确的理由？\n\nA. 是的，存在满足约束的回路，因为可能的最短回路总长度为 1050 米。\n\nB. 是的，存在满足约束的回路，并且可能的最短回路总长度为 1100 米。\n\nC. 不，不存在满足约束的回路，因为可能的最短回路总长度为 1100 米。\n\nD. 不，不存在满足约束的回路，因为可能的最短回路总长度为 1150 米。\n\nE. 对于TSP的一般实例，无法给出明确答案，但对于这个小案例，最短回路是 1075 米。",
            "solution": "我们被要求解决一个TSP-DECISION的具体实例：确定是否存在一个从 $H$ 出发并返回 $H$，且恰好访问 $A$、$B$ 和 $C$ 各一次的哈密顿回路（tour），其总长度不超过界限 $K=1075$。可以通过计算可能的最短回路长度并将其与 $K$ 进行比较来做出决策。\n\n对于起点和终点固定在 $H$ 且有三个中间节点的情况，每个可能的回路对应于客户的 $3!=6$ 种排列之一。对于 $(A,B,C)$ 的任意排列 $(p_{1},p_{2},p_{3})$，回路长度为\n$$\nL(H,p_{1},p_{2},p_{3},H) = d(H,p_{1}) + d(p_{1},p_{2}) + d(p_{2},p_{3}) + d(p_{3},H),\n$$\n其中 $d(X,Y)$ 是表中给出的对称距离。\n\n使用给定的距离计算所有六个回路的长度：\n1. $(A,B,C)$:\n$$\nL_{1} = d(H,A) + d(A,B) + d(B,C) + d(C,H) = 150 + 300 + 350 + 250 = 1050.\n$$\n2. $(A,C,B)$:\n$$\nL_{2} = d(H,A) + d(A,C) + d(C,B) + d(B,H) = 150 + 400 + 350 + 200 = 1100.\n$$\n3. $(B,A,C)$:\n$$\nL_{3} = d(H,B) + d(B,A) + d(A,C) + d(C,H) = 200 + 300 + 400 + 250 = 1150.\n$$\n4. $(B,C,A)$:\n$$\nL_{4} = d(H,B) + d(B,C) + d(C,A) + d(A,H) = 200 + 350 + 400 + 150 = 1100.\n$$\n5. $(C,A,B)$:\n$$\nL_{5} = d(H,C) + d(C,A) + d(A,B) + d(B,H) = 250 + 400 + 300 + 200 = 1150.\n$$\n6. $(C,B,A)$:\n$$\nL_{6} = d(H,C) + d(C,B) + d(B,A) + d(A,H) = 250 + 350 + 300 + 150 = 1050.\n$$\n\n因此，可能的最短回路长度是\n$$\nL_{\\min} = \\min\\{1050, 1100, 1150, 1100, 1150, 1050\\} = 1050.\n$$\n\n为了回答TSP-DECISION问题，将 $L_{\\min}$ 与 $K$进行比较：\n$$\nL_{\\min} = 1050 \\leq K = 1075.\n$$\n因此，存在满足约束的有效回路，选项中正确的陈述是可能的最短回路总长度为 $1050$，因此符合预算。这对应于选项 A。",
            "answer": "$$\\boxed{A}$$"
        },
        {
            "introduction": "通过研究问题的特殊情况，我们常常能揭示其最核心的本质。这个练习将TSP判定问题（TSP-DECISION）置于一个极简化的场景中：所有边的权重都相等。在这个假设下，你将发现，这个看似复杂的优化问题会转化为一个更基础、更纯粹的图论问题，这有助于我们理解TSP与哈密顿圈问题之间的深刻联系。",
            "id": "1464558",
            "problem": "旅行商问题 - 决策版本 (TSP-DECISION) 是计算机科学中一个著名的问题。其形式化定义如下：给定一个包含 $n$ 个顶点的完全图 $G$，一个为每条边赋予正整数权重的函数，以及一个正整数预算 $B$，是否存在一个总权重小于或等于 $B$ 的回路（tour，即一个恰好访问每个顶点一次的简单环）？\n\n现在，考虑该问题的一个特殊实例。给定一个有 $n$ 个顶点的图，其中 $n \\geq 3$。对于每对不同的顶点，如果它们之间存在边，则其权重恰好为 1。我们不保证该图是完全图。对于这种特定类型的图，我们将 TSP-DECISION 问题的预算设定为恰好 $B=n$。\n\n判断这个 TSP-DECISION 特定实例的答案是否为“是”，等价于在同一个包含 $n$ 个顶点的图上解决以下哪个基本图问题？\n\nA. 哈密顿回路问题：判断图中是否存在一个恰好访问每个顶点一次的回路。\n\nB. 欧拉回路问题：判断图中是否存在一条经过每条边恰好一次且起点和终点相同的路径。\n\nC. 最小生成树问题：寻找图中总边权尽可能小的生成树。\n\nD. 图二分性问题：判断图的顶点是否可以被划分为两个不相交且独立的集合。\n\nE. 所有点对最短路径问题：寻找图中每对顶点之间的最短路径距离。",
            "solution": "设图 $G=(V,E)$，其中 $|V|=n$ 且 $n \\ge 3$。对于每条边 $e \\in E$，权重函数满足 $w(e)=1$。该 TSP-DECISION 实例询问是否存在一个总权重至多为预算 $B=n$ 的回路（tour），即一个恰好访问每个顶点一次的简单环。\n\n根据定义，任何在图 $G$ 中恰好访问所有 $n$ 个顶点的回路都是一个哈密顿回路，且恰好使用 $n$ 条边。由于每条使用的边的权重都为 $1$，因此任何此类回路 $T$ 的总权重为\n$$\nW(T)=\\sum_{e \\in T} w(e)=\\sum_{e \\in T} 1 = n.\n$$\n因此，TSP-DECISION 的问题“是否存在一个总权重 $\\le B$（其中 $B=n$）的回路？”等价于询问是否存在一个哈密顿回路，因为：\n- 如果图 $G$ 有一个哈密顿回路 $H$，那么 $W(H)=n \\le B$，所以 TSP-DECISION 的答案是“是”。\n- 反之，如果 TSP-DECISION 的答案是“是”，那么存在一个回路 $T$，其权重 $W(T) \\le n$。但是，任何访问所有 $n$ 个顶点的回路都恰好使用 $n$ 条权重为 $1$ 的边，所以 $W(T)=n$，并且 $T$ 是一个哈密顿回路。\n\n因此，在这个单位权重、不一定完全的图上，以 $B=n$ 来判定 TSP-DECISION 问题，完全等价于判定图 $G$ 是否存在哈密顿回路。这与选项 A 相符。其他列出的问题（欧拉回路、最小生成树、二分性问题和所有点对最短路径）在这些约束条件下不等价于哈密顿回路的存在性。",
            "answer": "$$\\boxed{A}$$"
        },
        {
            "introduction": "在计算复杂性理论中，“规约”（reduction）是证明问题难度和建立问题间联系的基石。这个练习是一个思想实验：假设你拥有一个能瞬间解决TSP判定问题的“神谕机”（oracle），我们如何利用它来解决另一个相关的问题——带权重的哈密顿路径问题？通过构建这种转换，你将学会一种强大的问题解决范式，即将一个新问题重构成一个已知问题的形式。",
            "id": "1464538",
            "problem": "在计算复杂性理论领域，许多问题是通过将它们归约到已知的难问题来分析的。考虑一个完全无向图 $G=(V, E, w)$，其中 $V$ 是顶点集，$E$ 是边集，$w: E \\to \\mathbb{R}^{+}$ 是一个正权重函数。我们针对该图考虑以下两个判定问题。\n\n1.  **s-t 哈密顿路径判定问题 (s-t-HAM-PATH-DECISION)**：给定图 $G$、两个不同的顶点 $s, t \\in V$ 以及一个预算 $K  0$，是否存在一条从 $s$ 开始到 $t$ 结束的简单路径，该路径恰好访问 $V$ 中的每个顶点一次，且总权重不超过 $K$？\n\n2.  **旅行商判定问题 (TSP-DECISION)**：给定图 $G'=(V', E', w')$ 和一个预算 $B  0$，是否存在一个总权重不超过 $B$ 的回路（即一条恰好访问 $V'$ 中每个顶点一次的简单环路）？\n\n假设你可以访问一个 hypothetical oracle（预言机），这是一个可以在单个计算步骤内解决任何 **TSP-DECISION** 实例的黑盒机器。你的任务是在一个具有 $|V|=n$ 个顶点、指定的顶点 $s$ 和 $t$ 以及预算 $K$ 的图 $G$ 上，解决一个 **s-t-HAM-PATH-DECISION** 的实例。你可以通过构造一个新图 $G'$ 和一个新的预算 $B$，然后用实例 $(G', B)$ 查询预言机来解决它。预言机对 `TSP-DECISION(G', B)` 的结果（是/否）必须与原始 `s-t-HAM-PATH-DECISION(G, s, t, K)` 实例的答案相同。\n\n以下哪一项描述了从 `s-t-HAM-PATH-DECISION` 实例 $(G, s, t, K)$ 到 `TSP-DECISION` 实例 $(G', B)$ 的一个正确且有效的转换？设 $M$ 是一个显著大于 $G$ 中任何可能路径成本的数（实际上等同于无限大成本）。\n\nA. 通过向 $G$ 添加一个新顶点 $x$ 来构造 $G'$。$G$ 的边和权重在 $G'$ 中保留。添加两条新边 $(s, x)$ 和 $(t, x)$，权重均为 0。对于每个其他顶点 $v \\in V \\setminus \\{s,t\\}$，添加一条权重为 $M$ 的边 $(v, x)$。设置预算 $B=K$。\n\nB. 令 $G'$ 与 $G$ 相同，只是边 $(s, t)$ 的权重设为 0。设置预算 $B=K$。\n\nC. 通过向 $G$ 添加一个新顶点 $x$ 来构造 $G'$。$G$ 的边和权重在 $G'$ 中保留。对于 $V$ 中的每个顶点 $v$，添加一条权重为 0 的新边 $(v, x)$。设置预算 $B=K$。\n\nD. 令 $G'$ 与 $G$ 相同。设置预算 $B=K$。",
            "solution": "我们必须构造一个多项式时间转换，将一个在完全、无向、正权重图 $G=(V,E,w)$ 上的 $s$-$t$-HAM-PATH-DECISION 实例（具有不同的 $s,t \\in V$ 和预算 $K$）转换为一个 TSP-DECISION 实例 $(G',B)$，使得\n$$\n\\text{TSP-DECISION}(G',B)=\\text{YES} \\quad \\Longleftrightarrow \\quad \\text{$s$-$t$-HAM-PATH-DECISION}(G,s,t,K)=\\text{YES}.\n$$\n设 $M$ 是一个选择的权重，使得 $M$ 严格大于 $G$ 中任何可能的哈密顿路径成本（特别地，在正权重条件下，$MK$ 就足够了）。\n\n考虑选项 A。定义 $G'$ 为：在 $G$ 的基础上添加一个新顶点 $x$，保留所有原始边和权重，添加两条权重为 0 的边 $(s,x)$ 和 $(t,x)$，并为每个 $v \\in V \\setminus \\{s,t\\}$ 添加一条权重为 $M$ 的边 $(v,x)$。设置 $B=K$。\n\n我们证明其等价性。\n\n($\\Rightarrow$方向) 假设 TSP-DECISION$(G',B)$ 为“是”。那么在 $G'$ 中存在一个总权重不超过 $K$ 的哈密顿回路 $C$。在任何哈密顿回路中，每个顶点的度都为 2。因此，顶点 $x$ 在 $C$ 中恰好有两条关联边。如果 $C$ 使用了任何 $v \\notin \\{s,t\\}$ 的边 $(v,x)$，那么 $C$ 就包含了一条权重为 $M$ 的边。由于 $MK$ 并且所有其他边的权重都是非负的（实际上在 $G$ 上是正的），$C$ 的总权重将超过 $K$，这产生了一个矛盾。因此，在 $C$ 中与 $x$ 关联的两条边必须是 $(s,x)$ 和 $(t,x)$，它们的权重都为 0。从 $C$ 中移除 $x$ 及其两条关联边，会得到一条简单的 $s$-$t$ 路径 $P$，它恰好访问 $V$ 中的每个顶点一次。$P$ 的成本等于 $C$ 的成本减去两条零权重边的成本，因此不超过 $K$。因此，在 $G$ 中存在一条总权重不超过 $K$ 的 $s$-$t$ 哈密顿路径。\n\n($\\Leftarrow$方向) 反之，假设在 $G$ 中存在一条总权重不超过 $K$ 的 $s$-$t$ 哈密顿路径 $P$。在 $G'$ 中，通过添加权重均为 0 的边 $(t,x)$ 和 $(x,s)$ 来扩充 $P$。这将产生一个 $G'$ 的哈密顿回路（一个恰好访问 $V \\cup \\{x\\}$ 中每个顶点一次的简单环路），其总权重等于 $P$ 的权重加上 $0+0$，因此不超过 $K=B$。因此 TSP-DECISION$(G',B)$ 为“是”。\n\n这两个蕴含关系共同确立了选项 A 所需的等价性。\n\n现在我们解释为什么其他选项不能正确地强制等价。\n\n选项 B 设置 $G'=G$ 只是 $w'(s,t)=0$ 并且 $B=K$。即使存在一条权重不超过 $K$ 的 $s$-$t$ 哈密顿路径（这样用 $(s,t)$ 将其闭合会产生一个权重不超过 $K$ 的回路），反向蕴含关系也不成立，因为可能存在一个成本不超过 $K$ 但不使用边 $(s,t)$ 的哈密顿回路。在这种情况下，无法通过移除 $(s,t)$ 来获得一条相同成本的 $s$-$t$ 路径，从而破坏了等价性。\n\n选项 C 将 $x$ 与每个顶点以权重 0 连接，这并不能将在 TSP 回路中与 $x$ 关联的两条边限制为必须是 $(s,x)$ 和 $(t,x)$。回路可能会选择与任意顶点关联的零权重边，产生不对应于 $G$ 中 $s$-$t$ 哈密顿路径的回路，因此等价性不成立。\n\n选项 D 保持 $G$ 不变并设置 $B=K$。这将权重不超过 $K$ 的哈密顿环路的存在性等同于权重不超过 $K$ 的 $s$-$t$ 哈密顿路径的存在性，而这两种性质通常是不可比较的；两个方向的蕴含关系通常都不成立。\n\n因此，只有选项 A 是一个正确且有效的转换。",
            "answer": "$$\\boxed{A}$$"
        }
    ]
}