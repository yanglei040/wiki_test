{
    "hands_on_practices": [
        {
            "introduction": "计算复杂性理论中的许多核心概念都可以通过图论来直观地理解。这个练习将一个看似复杂的调度问题转化为一个经典的图论问题：判断一个图是否为二分图。通过解决这个问题，你将亲身体会如何将现实世界中的约束条件抽象为图的结构，并利用高效的算法来判定一个问题是否属于复杂性类别 P。",
            "id": "1453873",
            "problem": "一家科技公司正在为一个新项目组织其项目团队。对于每个项目，一些团队成员之间存在预先安排好的时间冲突，不能被分配到同一个会议时段。项目经理需要确定是否可以将一个团队的所有成员安排到“上午”和“下午”这两个不同的会议时段，而没有任何冲突。\n\n如果每个团队成员都可以被分配到上午或下午时段，并且对于每一对有冲突的成员，一个在上午时段，另一个在下午时段，那么这种安排被称为“可排程的”(schedulable)。\n\n现给出四个不同项目团队的规范。对于每个项目，团队成员用数字表示，冲突以成员对的形式给出。\n\n- **项目A**：\n  - 成员：$\\{1, 2, 3, 4, 5\\}$\n  - 冲突：$\\{(1,4), (1,5), (2,4), (3,5)\\}$\n\n- **项目B**：\n  - 成员：$\\{1, 2, 3, 4, 5, 6\\}$\n  - 冲突：$\\{(1,2), (1,4), (1,6), (2,3), (3,4), (5,6)\\}$\n\n- **项目C**：\n  - 成员：$\\{1, 2, 3, 4\\}$\n  - 冲突：$\\{(1,2), (2,3), (3,1)\\}$\n\n- **项目D**：\n  - 成员：$\\{1, 2, 3, 4, 5\\}$\n  - 冲突：$\\{(1,2), (2,3), (3,4), (4,5), (5,1)\\}$\n\n以下哪个陈述正确地指出了所有可排程的安排？\n\nA. 只有项目A的安排是可排程的。\n\nB. 只有项目B的安排是可排程的。\n\nC. 项目A和C的安排是可排程的。\n\nD. 项目A和B的安排是可排程的。\n\nE. 项目C和D的安排是可排程的。\n\nF. 所有四个安排都是可排程的。",
            "solution": "将每个项目解释为一个图，其顶点是团队成员，边是冲突对。当且仅当该图是二分图时，安排才是可排程的，即允许进行2-着色（上午 vs. 下午），使得每条边的端点颜色都相反。等价地，一个图是二分图当且仅当它没有奇数环。\n\n项目A：成员为 $\\{1,2,3,4,5\\}$，边为 $(1,4)$, $(1,5)$, $(2,4)$, $(3,5)$。将 $1$ 分配到上午。那么由于 $(1,4)$ 和 $(1,5)$， $4$ 和 $5$ 必须在下午。根据 $(2,4)$，由于 $4$ 在下午， $2$ 必须在上午。根据 $(3,5)$，由于 $5$ 在下午， $3$ 必须在上午。上午的集合是 $\\{1,2,3\\}$，下午的集合是 $\\{4,5\\}$，没有列出的边位于同一个集合内。因此，项目A是二分图并且是可排程的。\n\n项目B：成员为 $\\{1,2,3,4,5,6\\}$，边为 $(1,2)$, $(1,4)$, $(1,6)$, $(2,3)$, $(3,4)$, $(5,6)$。将 $1$ 分配到上午。那么由于 $(1,2), (1,4), (1,6)$， $2,4,6$ 必须在下午。根据 $(2,3)$，由于 $2$ 在下午， $3$ 必须在上午。根据 $(3,4)$，由于 $4$ 在下午， $3$ 仍然在上午，这与之前一致。根据 $(5,6)$，由于 $6$ 在下午， $5$ 必须在上午。上午的集合是 $\\{1,3,5\\}$，下午的集合是 $\\{2,4,6\\}$，没有列出的边位于同一个集合内。因此，项目B是二分图并且是可排程的。\n\n项目C：成员为 $\\{1,2,3,4\\}$，边为 $(1,2), (2,3), (3,1)$。在 $\\{1,2,3\\}$ 上的子图是一个3-环，这是一个奇数环，因此不是二分图。具体来说，将 $1$ 分配到上午，则 $(1,2)$ 迫使 $2$ 在下午，然后 $(2,3)$ 迫使 $3$ 在上午，但 $(3,1)$ 又迫使 $3$ 在下午，产生矛盾。因此，项目C是不可排程的。\n\n项目D：成员为 $\\{1,2,3,4,5\\}$，边为 $(1,2), (2,3), (3,4), (4,5), (5,1)$，它们形成一个5-环，这是一个奇数环。因此该图不是二分图。具体来说，将 $1$ 分配到上午，然后通过传播， $2$ 在下午， $3$ 在上午， $4$ 在下午， $5$ 在上午，但边 $(5,1)$ 要求 $5$ 和 $1$ 在不同的时段，产生矛盾。因此，项目D是不可排程的。\n\n因此，只有项目A和项目B是可排程的。",
            "answer": "$$\\boxed{D}$$"
        },
        {
            "introduction": "在分析有向系统（如软件模块依赖或网页链接）时，识别其中紧密耦合的部分至关重要。这个练习引入了有向图中的“强连通分量”(SCCs) 的概念，它们代表了系统中相互依赖的子集。寻找强连通分量是一个可以在多项式时间内解决的基本问题，这个练习将帮助你理解如何通过高效算法来揭示复杂网络的内部结构。",
            "id": "1453881",
            "problem": "一个软件工程师团队正在分析一个由8个模块组成的遗留系统，模块编号为1到8。他们将系统架构表示为一个有向图 $G=(V, E)$，其中 $V = \\{1, 2, 3, 4, 5, 6, 7, 8\\}$ 是模块（顶点）的集合，一条有向边 $(u, v) \\in E$ 表示模块 $u$ 依赖于模块 $v$（即，$u$ 的运行需要 $v$）。\n\n该团队需要识别出循环相互依赖的模块集合。这样的集合被称为强连通分量 (SCC)，它是一个顶点子集，对于子集中的任意两个顶点 $u$ 和 $v$，都存在一条从 $u$ 到 $v$ 的有向路径，也存在一条从 $v$ 到 $u$ 的有向路径。\n\n完整的依赖关系由边集 $E$ 给出：\n$$E = \\{(1, 2), (2, 3), (3, 1), (1, 4), (2, 7), (4, 5), (5, 4), (5, 6), (7, 8), (8, 7)\\}$$\n\n你的任务是确定这个依赖关系图中有多少个不同的强连通分量。",
            "solution": "我们使用强连通分量 (SCC) 的定义：一个最大的顶点子集，使得对于子集中的任意两个顶点 $u$ 和 $v$，都存在一条从 $u$ 到 $v$ 的有向路径，以及一条从 $v$ 到 $u$ 的有向路径。等价地，强连通分量是相互可达关系下的等价类。\n\n给定 $V=\\{1,2,3,4,5,6,7,8\\}$ 和 $E=\\{(1,2),(2,3),(3,1),(1,4),(2,7),(4,5),(5,4),(5,6),(7,8),(8,7)\\}$, 我们识别环并检查其最大性。\n\n首先，顶点 $1,2,3$ 通过 $(1,2)$、$(2,3)$ 和 $(3,1)$ 形成一个有向环。因此 $1,2,3$ 是相互可达的，所以 $\\{1,2,3\\}$ 包含在一个 SCC 中。我们验证其最大性：从这个集合到外部的出边只有 $(1,4)$ 和 $(2,7)$。在 $E$ 中没有从 $\\{4,5,6,7,8\\}$ 中任何一个顶点回到 $\\{1,2,3\\}$ 的边，因为从 $4,5,6,7,8$ 出发的边是 $(4,5)$、$(5,4)$、$(5,6)$、$(7,8)$ 和 $(8,7)$，它们的目标都不是 $1,2,3$。因此，没有外部顶点与 $\\{1,2,3\\}$ 中的顶点相互可达，所以 $\\{1,2,3\\}$ 是一个 SCC。\n\n其次，顶点 $4$ 和 $5$ 通过 $(4,5)$ 和 $(5,4)$ 形成一个有向的2元环，所以 $\\{4,5\\}$ 包含在一个 SCC 中。检查其最大性：从 $5$ 有一条通过 $(5,6)$ 到 $6$ 的边，但在 $E$ 中没有从 $6$ 回到 $4$ 或 $5$ 的边。此外，从外部进入这对顶点的唯一边是 $(1,4)$，但这并不能提供一条回到 $\\{1,2,3\\}$ 的路径。因此，没有额外的顶点与 $4$ 和 $5$ 都相互可达，所以 $\\{4,5\\}$ 是一个 SCC。\n\n第三，顶点 $6$ 有一条入边 $(5,6)$，但在 $E$ 中没有列出任何出边。因此，$6$ 无法到达任何其他顶点，也没有其他顶点能够到达 $6$ 并返回，所以 $\\{6\\}$ 自身构成一个 SCC。\n\n第四，顶点 $7$ 和 $8$ 通过 $(7,8)$ 和 $(8,7)$ 形成一个有向的2元环，所以 $\\{7,8\\}$ 包含在一个 SCC 中。检查其最大性：有一条来自 $\\{1,2,3\\}$ 的入边 $(2,7)$，但没有从 $7$ 或 $8$ 到 $1,2,3,4,5,6$ 中任何一个顶点的边。因此，与 $\\{7,8\\}$ 之外的顶点不存在相互可达性，所以 $\\{7,8\\}$ 是一个 SCC。\n\n综上所述，这些 SCC 是 $\\{1,2,3\\}$、$\\{4,5\\}$、$\\{6\\}$ 和 $\\{7,8\\}$。因此，不同的 SCC 总数为 $4$。",
            "answer": "$$\\boxed{4}$$"
        },
        {
            "introduction": "许多 P 类问题都涉及在众多可能性中寻找最优解。本练习探讨了网络设计中的一个核心优化问题：寻找最小生成树（MST），即以最低成本连接所有节点的方案。此外，这个问题还增加了一个重要的层面，即探讨最优解的“唯一性”，这在实际工程和算法设计中是一个关键考量。通过应用像 Kruskal 这样的算法，你可以看到即使是优化问题也能被高效解决。",
            "id": "1453878",
            "problem": "考虑一个无向图 $G = (V, E)$，其顶点集为 $V = \\{A, B, C, D, E\\}$，带权边集 $E$ 由以下元组 $(u, v, w)$ 列表给出，其中 $u$ 和 $v$ 是顶点，$w$ 是连接它们的边的整数权重：\n$E = \\{(A, B, 1), (A, C, 3), (B, C, 2), (B, D, 4), (C, D, 4), (C, E, 5), (D, E, 6)\\}$.\n\n该图的最小生成树（MST）是一个边的子集，它连接了所有的顶点，没有任何环，并且总边权尽可能小。对于给定的图 $G$，判断其 MST 是否唯一。下列哪个陈述是正确的？\n\nA. MST 是唯一的，其总权重为 12。\n\nB. MST 不是唯一的，且恰好有两个可能的 MST。\n\nC. MST 是唯一的，因为所有边的权重都不同。\n\nD. MST 不是唯一的，且有两个以上的可能 MST。\n\nE. MST 是唯一的，其总权重为 11。",
            "solution": "为了确定最小生成树（MST）及其唯一性，我们可以使用 Kruskal 算法。该算法通过迭代地添加权重最低且不会与已选边形成环的边来构建 MST。一个关键的见解是，一个 MST 是唯一的，当且仅当对于图的每一个割（cut），都存在一条唯一的最小权重边横跨该割。使用 Kruskal 算法来检验此问题的一个更简单的方法是，查看在算法执行过程中是否曾面临选择：即存在多条权重相同且加入树中都不会形成环的边。\n\n首先，我们将图的边按权重以非递减顺序排序：\n1.  $(A, B)，权重 w=1$\n2.  $(B, C)，权重 w=2$\n3.  $(A, C)，权重 w=3$\n4.  $(B, D)，权重 w=4$\n5.  $(C, D)，权重 w=4$\n6.  $(C, E)，权重 w=5$\n7.  $(D, E)，权重 w=6$\n\n我们从一个空的 MST 边集和五个不相交的顶点集开始，每个顶点自成一个集合：$\\{A\\}, \\{B\\}, \\{C\\}, \\{D\\}, \\{E\\}$。\n\n步骤 1：添加权重最小的边 $(A, B)$，其权重为 1。\nMST 边集为 $\\{(A, B)\\}$。\n顶点集合被合并：$\\{A, B\\}, \\{C\\}, \\{D\\}, \\{E\\}$。\n\n步骤 2：添加下一条权重最小的边 $(B, C)$，其权重为 2。这条边不会形成环。\nMST 边集为 $\\{(A, B), (B, C)\\}$。\n顶点集合被合并：$\\{A, B, C\\}, \\{D\\}, \\{E\\}$。\n\n步骤 3：考虑下一条边 $(A, C)$，其权重为 3。顶点 A 和 C 已经在同一个连通分量 $\\{A, B, C\\}$ 中。添加这条边会形成一个环 A-B-C-A。因此，我们舍弃这条边。\n\n步骤 4：排序列表中的下一批边是 $(B, D)$ 和 $(C, D)$，它们的权重都为 4。这是一个关键点。Kruskal 算法在这里有选择。为了检查唯一性，我们必须探究这种权重相同情况带来的后果。\n\n情况 1：我们选择添加边 $(B, D)$。\n- 边 $(B, D)$ 连接连通分量 $\\{A, B, C\\}$ 和 $\\{D\\}$。它不会形成环。\n- 到目前为止的 MST 边集：$\\{(A, B), (B, C), (B, D)\\}$。\n- 顶点集合被合并：$\\{A, B, C, D\\}, \\{E\\}$。\n- 现在，考虑另一条相同权重的边 $(C, D)$。顶点 C 和 D 现在都处于同一个连通分量 $\\{A, B, C, D\\}$ 中。添加这条边会形成一个环 B-C-D-B。所以，我们必须舍弃它。\n- 下一条边是 $(C, E)$，权重为 5。它连接连通分量 $\\{A, B, C, D\\}$ 和 $\\{E\\}$。它不会形成环。\n- 我们添加 $(C, E)$。现在的 MST 边集是 $\\{(A, B), (B, C), (B, D), (C, E)\\}$。\n- 我们有 $V-1 = 5-1=4$ 条边，因此我们已经形成了一棵生成树。这是我们的第一个 MST。\n- 这个 MST 的总权重是 $1 + 2 + 4 + 5 = 12$。\n\n情况 2：我们回到步骤 4 的选择点，转而选择添加边 $(C, D)$。\n- 边 $(C, D)$ 连接连通分量 $\\{A, B, C\\}$ 和 $\\{D\\}$。它不会形成环。\n- 到目前为止的 MST 边集：$\\{(A, B), (B, C), (C, D)\\}$。\n- 顶点集合被合并：$\\{A, B, C, D\\}, \\{E\\}$。\n- 现在，考虑另一条相同权重的边 $(B, D)$。顶点 B 和 D 现在都处于同一个连通分量 $\\{A, B, C, D\\}$ 中。添加这条边会形成一个环 B-C-D-B。所以，我们必须舍弃它。\n- 下一条边是 $(C, E)$，权重为 5。它连接连通分量 $\\{A, B, C, D\\}$ 和 $\\{E\\}$。它不会形成环。\n- 我们添加 $(C, E)$。现在的 MST 边集是 $\\{(A, B), (B, C), (C, D), (C, E)\\}$。\n- 我们有 $V-1 = 4$ 条边，形成了一棵生成树。这是我们的第二个 MST。\n- 这个 MST 的总权重是 $1 + 2 + 4 + 5 = 12$。\n\n我们找到了两个不同的边集，它们都能形成总权重为 12 的最小生成树。\nMST 1: $\\{(A, B), (B, C), (B, D), (C, E)\\}$\nMST 2: $\\{(A, B), (B, C), (C, D), (C, E)\\}$\n\n因为存在不止一个边集可以构成 MST，所以该 MST 不是唯一的。我们恰好找到了两个这样的集合。\n让我们分析这些选项：\nA. MST 是唯一的，其总权重为 12。（不正确，不是唯一的）\nB. MST 不是唯一的，且恰好有两个可能的 MST。（正确）\nC. MST 是唯一的，因为所有边的权重都不同。（不正确，权重并非都不同，且 MST 不是唯一的）\nD. MST 不是唯一的，且有两个以上的可能 MST。（不正确，我们恰好找到了两个）\nE. MST 是唯一的，其总权重为 11。（不正确，不是唯一的且权重错误）\n\n因此，正确的陈述是 B。",
            "answer": "$$\\boxed{B}$$"
        }
    ]
}