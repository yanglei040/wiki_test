{
    "hands_on_practices": [
        {
            "introduction": "将SAT归约到3-SAT是证明NP完全性的基石。这个过程的核心是将任意长度的子句转换为等价的3-CNF范式。这项练习将引导你实践最常见的情况：如何使用辅助变量将一个长度大于3的子句分解成一系列3-子句，这是理解更复杂计算理论证明的关键一步。",
            "id": "1443587",
            "problem": "在计算复杂性理论中，从一般的布尔可满足性问题（SAT）到3-可满足性问题（3-SAT）的归约是证明NP完全性的基石。该归约的一个关键部分涉及将合取范式（CNF）中包含超过三个文字的子句转换为一组每个子句恰好有三个文字的子句集。\n\n考虑一个包含 $k > 3$ 个文字的子句 $C = (\\ell_1 \\lor \\ell_2 \\lor \\dots \\lor \\ell_k)$。将其转换为一个可满足性等价的3-CNF公式的标准方法是引入 $k-3$ 个新的“辅助”变量，我们可以将其标记为 $z_1, z_2, \\dots, z_{k-3}$。然后，单个子句 $C$ 被替换为 $k-2$ 个新子句的合取，构造如下：\n$$\n(\\ell_1 \\lor \\ell_2 \\lor z_1) \\land (\\neg z_1 \\lor \\ell_3 \\lor z_2) \\land (\\neg z_2 \\lor \\ell_4 \\lor z_3) \\land \\dots \\land (\\neg z_{k-3} \\lor \\ell_{k-1} \\lor \\ell_k)\n$$\n这种构造将辅助变量链接起来，确保当且仅当原始子句 $C$ 可满足时，整个新子句集才是可满足的。\n\n将此标准归约过程应用于以下包含4个文字的子句：\n$$\nC = (x_1 \\lor x_2 \\lor x_3 \\lor x_4)\n$$\n下列哪个3-CNF子句集是此转换的正确结果？假设引入的新辅助变量名为 $z_1$。\n\nA. $\\{ (x_1 \\lor x_2 \\lor z_1), (\\neg z_1 \\lor x_3 \\lor x_4) \\}$\n\nB. $\\{ (x_1 \\lor x_2 \\lor \\neg z_1), (z_1 \\lor x_3 \\lor x_4) \\}$\n\nC. $\\{ (x_1 \\lor x_2 \\lor x_3), (\\neg x_3 \\lor x_4 \\lor z_1) \\}$\n\nD. $\\{ (x_1 \\lor x_2 \\lor z_1), (z_1 \\lor x_3 \\lor x_4) \\}$\n\nE. $\\{ (x_1 \\lor z_1), (\\neg z_1 \\lor x_2 \\lor z_2), (\\neg z_2 \\lor x_3 \\lor x_4) \\}$",
            "solution": "我们从处理包含 $k>3$ 个文字的子句的标准归约开始。给定一个子句 $C=(\\ell_{1}\\lor \\ell_{2}\\lor \\dots \\lor \\ell_{k})$，引入 $k-3$ 个新变量 $z_{1},\\dots,z_{k-3}$，并将 $C$ 替换为 $k-2$ 个子句的合取：\n$$\n(\\ell_{1}\\lor \\ell_{2}\\lor z_{1})\\land(\\neg z_{1}\\lor \\ell_{3}\\lor z_{2})\\land \\dots \\land (\\neg z_{k-3}\\lor \\ell_{k-1}\\lor \\ell_{k}).\n$$\n对于 $k=4$ 的情况，我们恰好有一个新变量 $z_{1}$ 和两个子句。将该构造应用于 $C=(x_{1}\\lor x_{2}\\lor x_{3}\\lor x_{4})$ 会得到\n$$\n(x_{1}\\lor x_{2}\\lor z_{1})\\land(\\neg z_{1}\\lor x_{3}\\lor x_{4}).\n$$\n为了验证可满足性的等价性：\n- 如果 $(x_{1}\\lor x_{2}\\lor x_{3}\\lor x_{4})$ 是可满足的，那么要么 $x_{1}\\lor x_{2}$ 为真，此时可令 $z_{1}=\\text{false}$，则 $(x_{1}\\lor x_{2}\\lor z_{1})$ 为真，且 $(\\neg z_{1}\\lor x_{3}\\lor x_{4})$ 因 $\\neg z_{1}$ 而为真；要么 $x_{1}$ 和 $x_{2}$ 均为假但 $x_{3}\\lor x_{4}$ 为真，此时可令 $z_{1}=\\text{true}$，则第一个子句因 $z_{1}$ 而为真，第二个子句因 $x_{3}\\lor x_{4}$ 而为真。\n- 反之，任何满足 $(x_{1}\\lor x_{2}\\lor z_{1})\\land(\\neg z_{1}\\lor x_{3}\\lor x_{4})$ 的赋值都必须使 $x_{1},x_{2},x_{3},x_{4}$ 中至少一个为真：如果 $x_{1}$ 和 $x_{2}$ 均为假，则第一个子句迫使 $z_{1}=\\text{true}$，因此第二个子句迫使 $x_{3}\\lor x_{4}$ 为真。\n\n因此，正确的3-CNF子句集是 $\\{(x_{1}\\lor x_{2}\\lor z_{1}),(\\neg z_{1}\\lor x_{3}\\lor x_{4})\\}$，这对应于选项A。其他选项或者在第一个子句中对 $z_{1}$ 取反，或者在第二个子句中未对 $z_{1}$ 取反，或者引入了不必要的额外变量，或者没有遵循链接模式，因此没有实现标准归约。",
            "answer": "$$\\boxed{A}$$"
        },
        {
            "introduction": "一个完整的SAT到3-SAT归约算法必须能处理所有类型的子句，包括那些已经有三个或更少文字的子句。这项练习关注一个重要的特殊情况：如何处理只有两个文字的子句。通过引入一个“哑”变量，我们可以将其扩展为3-CNF形式，同时精确地保持其原始的可满足性属性。",
            "id": "1443617",
            "problem": "在计算复杂性理论的研究中，布尔可满足性问题（SAT）是一个典型的NP完全问题。一个常见的变体是 3-SAT，其中布尔公式中的每个子句都必须恰好有三个文字。证明 3-SAT 的 NP-完全性的标准技术是提供一个从 SAT 到 3-SAT 的多项式时间归约。\n\n这个归约过程包括将任意 SAT 实例的每个子句转换为一个子句集合，其中每个子句都恰好有三个文字。考虑一个来自原始 SAT 公式且恰好包含两个文字的子句，例如 $C = (x_1 \\lor x_2)$，其中 $x_1$ 和 $x_2$ 是文字（一个变量或其否定形式）。为了将这个子句转换为一组含有三个文字的子句，我们必须引入一个新的“哑”变量，我们称之为 $y$，它没有在公式的其他任何地方出现。\n\n如果新的子句集合是可满足的，当且仅当原始子句 $(x_1 \\lor x_2)$ 被其变量的一个赋值所满足，那么这个转换被认为是有效的。以下哪个选项代表了将子句 $(x_1 \\lor x_2)$ 转换为 3-合取范式 (3-CNF) 子句集合的有效转换？\n\nA. $(x_1 \\lor x_2 \\lor y)$\n\nB. $(x_1 \\lor x_2 \\lor y) \\land (x_1 \\lor x_2 \\lor \\neg y)$\n\nC. $(x_1 \\lor y) \\land (x_2 \\lor \\neg y)$\n\nD. $(x_1 \\lor x_2 \\lor y) \\land (\\neg x_1 \\lor \\neg x_2 \\lor \\neg y)$",
            "solution": "归约的目标是用一个新的、包含哑变量 $y$ 的公式片段 $\\phi'_{C}$ 来替换子句 $C = (x_1 \\lor x_2)$。一个有效归约的关键性质是它保持了可满足性。这意味着，对于原始变量 $x_1$ 和 $x_2$ 的任何真值赋值，原始子句 $C$ 为真，当且仅当存在一个对新变量 $y$ 的真值赋值，使得新的公式片段 $\\phi'_{C}$ 为真。\n\n让我们根据这个标准来分析每个选项。\n\n**对选项 A 的分析：**\n提议的转换是 $\\phi'_{C} = (x_1 \\lor x_2 \\lor y)$。\n让我们检查可满足性条件。\n- 如果 $(x_1 \\lor x_2)$ 为真：无论 $y$ 的真值如何，子句 $(x_1 \\lor x_2 \\lor y)$ 也将为真。因此，如果原始子句被满足，新子句也是可满足的。这个方向是成立的。\n- 如果 $(x_1 \\lor x_2)$ 为假：这发生在 $x_1$ 和 $x_2$ 都为假时。原始子句不被满足。新子句变为 $(F \\lor F \\lor y)$，简化为 $y$。这个子句可以通过将 $y$ 设置为真来满足。\n这是归约的一个失败。一个使原始子句为假的赋值导致了新公式可以被满足的情况。对于一个完整的公式 $\\phi$，如果一个子句 $C$ 使得 $\\phi$ 不可满足，这个转换可能会使得新公式 $\\phi'$ 变为可满足的，从而破坏了“当且仅当”的条件。所以，A 是不正确的。\n\n**对选项 B 的分析：**\n提议的转换是 $\\phi'_{C} = (x_1 \\lor x_2 \\lor y) \\land (x_1 \\lor x_2 \\lor \\neg y)$。\n这个公式是归结原理的逆向应用，或者更简单地说，是命题逻辑定律 $(P \\land Q) \\lor (P \\land \\neg Q) \\equiv P$ 的应用。令 $P = (x_1 \\lor x_2)$ 且 $Q = y$。该表达式为 $(P \\lor y) \\land (P \\lor \\neg y)$，它在逻辑上等价于 $P$，即 $x_1 \\lor x_2$。\n由于 $\\phi'_{C}$ 在逻辑上等价于原始子句 $C$，它被满足当且仅当 $C$ 被满足。此外，该转换产生了两个子句，$(x_1 \\lor x_2 \\lor y)$ 和 $(x_1 \\lor x_2 \\lor \\neg y)$，它们都恰好有三个文字。因此，这是一个有效的转换。所以，B 是正确的。\n\n**对选项 C 的分析：**\n提议的转换是 $\\phi'_{C} = (x_1 \\lor y) \\land (x_2 \\lor \\neg y)$。\n问题规定转换必须产生一个子句集合，其中每个子句都有*恰好三个文字*。此选项产生的子句 $(x_1 \\lor y)$ 和 $(x_2 \\lor \\neg y)$ 每个都只有两个文字。因此，无论它是否保持可满足性，该选项都未能满足题目中给出的 3-SAT 问题的结构要求。所以，C 是不正确的。\n\n**对选项 D 的分析：**\n提议的转换是 $\\phi'_{C} = (x_1 \\lor x_2 \\lor y) \\land (\\neg x_1 \\lor \\neg x_2 \\lor \\neg y)$。\n让我们检查可满足性条件。\n- 如果 $(x_1 \\lor x_2)$ 为真：必须存在一个对 $y$ 的赋值来满足 $\\phi'_{C}$。第一个子句 $(x_1 \\lor x_2 \\lor y)$ 总是为真。我们需要检查是否可以满足第二个子句 $(\\neg x_1 \\lor \\neg x_2 \\lor \\neg y)$。\n  - 情况1：$x_1$ 为真，$x_2$ 为假。第二个子句变为 $(F \\lor T \\lor \\neg y)$，其值为真。\n  - 情况2：$x_1$ 为假，$x_2$ 为真。第二个子句变为 $(T \\lor F \\lor \\neg y)$，其值为真。\n  - 情况3：$x_1$ 为真，$x_2$ 为真。第二个子句变为 $(F \\lor F \\lor \\neg y)$，简化为 $\\neg y$。我们可以通过将 $y$ 设置为假来满足它。\n  所以，如果原始子句被满足，新公式也是可满足的。\n- 如果 $(x_1 \\lor x_2)$ 为假：这发生在 $x_1$ 和 $x_2$ 都为假时。原始子句不被满足。新公式变为 $(F \\lor F \\lor y) \\land (T \\lor T \\lor \\neg y)$，简化为 $y \\land T$，也就是 $y$。这可以通过将 $y$ 设置为真来满足。\n与选项 A 类似，一个使原始子句为假的赋值可以导致新公式是可满足的。这违反了“当且仅当”的条件。所以，D 是不正确的。\n\n基于以上分析，只有选项 B 提供了一个有效的转换，它能产生大小正确的子句并保持可满足性。",
            "answer": "$$\\boxed{B}$$"
        },
        {
            "introduction": "理解一个归约方法为何正确，最好的方式之一就是分析一个错误的方法为何失败。这项练习提出了一个看似合理但不正确的子句分解方案，挑战你识别其逻辑缺陷。你的任务是找到一个反例，通过这种方式，你将能更深刻地理解“可满足性等价”这一在归约中至关重要的属性。",
            "id": "1443604",
            "problem": "在计算复杂性理论中，从一般的布尔可满足性问题（SAT）到其变体3-SAT的归约是证明NP完全性的基石。这种归约涉及将合取范式（CNF）中的任何子句转换为一组新的子句，每个子句最多有3个文字。这种转换的一个关键要求是它必须保持可满足性：原始子句可满足当且仅当新的子句集可满足。\n\n一名学生提出了一种方法来拆分一个包含四个文字的子句，例如 $C = (x_1 \\lor x_2 \\lor x_3 \\lor x_4)$。他们的建议是用表达式 $C' = (x_1 \\lor x_2) \\land (\\neg x_2 \\lor x_3 \\lor x_4)$ 来替换 $C$，该表达式是两个新子句的合取。为了使这种转换有效，表达式 $C$ 必须与 $C'$ 逻辑等价。然而，这个提议是有缺陷的，因为这两个表达式并不等价。\n\n你的任务是找出一个反例来证明这个缺陷。从下面的列表中，选择所有使得 $C$ 的真值与 $C'$ 的真值不同的元组 $(x_1, x_2, x_3, x_4)$ 的真值指派。\n\nA. (真, 假, 假, 假)\n\nB. (假, 真, 假, 假)\n\nC. (假, 假, 真, 假)\n\nD. (假, 假, 假, 假)\n\nE. (真, 真, 真, 真)",
            "solution": "问题要求我们从给定选项中找出所有能够证明子句 $C = (x_1 \\lor x_2 \\lor x_3 \\lor x_4)$ 和表达式 $C' = (x_1 \\lor x_2) \\land (\\neg x_2 \\lor x_3 \\lor x_4)$ 之间非逻辑等价性的真值指派。反例是任何使得 $C$ 和 $C'$ 的求值结果具有不同真值的对 $(x_1, x_2, x_3, x_4)$ 的真值指派。我们将测试每个选项。令 T 代表真（True），F 代表假（False）。\n\n我们来分析每个选项：\n\nA. 指派：$(x_1, x_2, x_3, x_4) = (\\text{T, F, F, F})$\n首先，我们计算原始子句 $C$ 的值：\n$C = (x_1 \\lor x_2 \\lor x_3 \\lor x_4) = (\\text{T} \\lor \\text{F} \\lor \\text{F} \\lor \\text{F}) = \\text{T}$。\n接下来，我们计算建议的新表达式 $C'$ 的值：\n$C' = (x_1 \\lor x_2) \\land (\\neg x_2 \\lor x_3 \\lor x_4) = (\\text{T} \\lor \\text{F}) \\land (\\neg \\text{F} \\lor \\text{F} \\lor \\text{F}) = (\\text{T}) \\land (\\text{T} \\lor \\text{F} \\lor \\text{F}) = \\text{T} \\land \\text{T} = \\text{T}$。\n在这种情况下，$C$ 和 $C'$ 都为真。它们的真值相同，所以这不是一个反例。\n\nB. 指派：$(x_1, x_2, x_3, x_4) = (\\text{F, T, F, F})$\n计算 $C$：\n$C = (x_1 \\lor x_2 \\lor x_3 \\lor x_4) = (\\text{F} \\lor \\text{T} \\lor \\text{F} \\lor \\text{F}) = \\text{T}$。\n计算 $C'$：\n$C' = (x_1 \\lor x_2) \\land (\\neg x_2 \\lor x_3 \\lor x_4) = (\\text{F} \\lor \\text{T}) \\land (\\neg \\text{T} \\lor \\text{F} \\lor \\text{F}) = (\\text{T}) \\land (\\text{F} \\lor \\text{F} \\lor \\text{F}) = \\text{T} \\land \\text{F} = \\text{F}$。\n这里，$C$ 为真，而 $C'$ 为假。它们的真值不同。因此，这是一个有效的反例。\n\nC. 指派：$(x_1, x_2, x_3, x_4) = (\\text{F, F, T, F})$\n计算 $C$：\n$C = (x_1 \\lor x_2 \\lor x_3 \\lor x_4) = (\\text{F} \\lor \\text{F} \\lor \\text{T} \\lor \\text{F}) = \\text{T}$。\n计算 $C'$：\n$C' = (x_1 \\lor x_2) \\land (\\neg x_2 \\lor x_3 \\lor x_4) = (\\text{F} \\lor \\text{F}) \\land (\\neg \\text{F} \\lor \\text{T} \\lor \\text{F}) = (\\text{F}) \\land (\\text{T} \\lor \\text{T} \\lor \\text{F}) = \\text{F} \\land \\text{T} = \\text{F}$。\n这里，$C$ 为真，而 $C'$ 为假。它们的真值不同。因此，这也是一个有效的反例。\n\nD. 指派：$(x_1, x_2, x_3, x_4) = (\\text{F, F, F, F})$\n计算 $C$：\n$C = (x_1 \\lor x_2 \\lor x_3 \\lor x_4) = (\\text{F} \\lor \\text{F} \\lor \\text{F} \\lor \\text{F}) = \\text{F}$。\n计算 $C'$：\n$C' = (x_1 \\lor x_2) \\land (\\neg x_2 \\lor x_3 \\lor x_4) = (\\text{F} \\lor \\text{F}) \\land (\\neg \\text{F} \\lor \\text{F} \\lor \\text{F}) = (\\text{F}) \\land (\\text{T} \\lor \\text{F} \\lor \\text{F}) = \\text{F} \\land \\text{T} = \\text{F}$。\n在这种情况下，$C$ 和 $C'$ 都为假。它们的真值相同，所以这不是一个反例。\n\nE. 指派：$(x_1, x_2, x_3, x_4) = (\\text{T, T, T, T})$\n计算 $C$：\n$C = (x_1 \\lor x_2 \\lor x_3 \\lor x_4) = (\\text{T} \\lor \\text{T} \\lor \\text{T} \\lor \\text{T}) = \\text{T}$。\n计算 $C'$：\n$C' = (x_1 \\lor x_2) \\land (\\neg x_2 \\lor x_3 \\lor x_4) = (\\text{T} \\lor \\text{T}) \\land (\\neg \\text{T} \\lor \\text{T} \\lor \\text{T}) = (\\text{T}) \\land (\\text{F} \\lor \\text{T} \\lor \\text{T}) = \\text{T} \\land \\text{T} = \\text{T}$。\n在这种情况下，$C$ 和 $C'$ 都为真。它们的真值相同，所以这不是一个反例。\n\n根据我们逐步的分析，选项 B 和 C 中给出的指派导致 $C$ 和 $C'$ 的真值不同。因此，它们是正确的反例。",
            "answer": "$$\\boxed{BC}$$"
        }
    ]
}