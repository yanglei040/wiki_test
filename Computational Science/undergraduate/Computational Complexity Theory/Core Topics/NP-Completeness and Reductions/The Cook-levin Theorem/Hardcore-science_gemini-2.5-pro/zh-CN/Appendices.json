{
    "hands_on_practices": [
        {
            "introduction": "库克-列文定理的证明巧妙地将图灵机的计算过程转化为一个庞大的布尔公式。证明的第一步是精确描述机器在任何给定时刻的配置。这项练习将让你掌握一项基本功：如何用逻辑子句来确保单个纸带格在某一时刻只包含字母表中的唯一一个符号，这是构建整个公式的基础 。",
            "id": "1405676",
            "problem": "在库克-列文定理的证明中，一个多项式时间的非确定性图灵机（TM）计算被转换成一个布尔可满足性问题。这是通过构造一个合取范式（CNF）的公式 $\\Phi$ 来实现的，该公式可满足当且仅当该图灵机接受其输入。\n\n考虑这个构造的一部分，用于一个带字母表 $\\Gamma = \\{s_0, s_1, s_B\\}$ 的图灵机，其中 `s_B` 是空白符号。带的状态由一组布尔变量 $P_{i,j,s}$ 描述，其中 $P_{i,j,s}$ 为真当且仅当在时间步 $i$，带单元 $j$ 包含符号 $s$。\n\n需要强制执行的基本约束之一是，在任何给定的时间，每个带单元必须包含字母表中的恰好一个符号。\n\n对于时间步 $i=5$ 和带单元 $j=2$ 的特定实例，设变量为 $A = P_{5,2,s_0}$，$B = P_{5,2,s_1}$ 和 $C = P_{5,2,s_B}$。下列哪个用合取范式（CNF）写出的公式，正确地表达了在时间 5，带单元 2 包含集合 $\\{s_0, s_1, s_B\\}$ 中恰好一个符号的约束？\n\nA. $($A \\lor B \\lor C) \\land (\\lnot A \\lor \\lnot B) \\land (\\lnot A \\lor \\lnot C) \\land (\\lnot B \\lor \\lnot C)$\n\nB. $($A \\lor B \\lor C)$\n\nC. $(\\lnot A \\lor \\lnot B) \\land (\\lnot A \\lor \\lnot C) \\land (\\lnot B \\lor \\lnot C)$\n\nD. $($A \\land B \\land C)$\n\nE. $($A \\lor \\lnot B) \\land (\\lnot A \\lor C) \\land (B \\lor \\lnot C)$",
            "solution": "我们正在使用布尔变量来编码库克-列文定理中“在给定时间，每个带单元恰好有一个符号”的约束。对于时间步 $i=5$ 和带单元 $j=2$，定义\n$$\nA = P_{5,2,s_{0}}, \\quad B = P_{5,2,s_{1}}, \\quad C = P_{5,2,s_{B}}.\n$$\n该单元包含来自 $\\{s_{0},s_{1},s_{B}\\}$ 中恰好一个符号的要求意味着：\n1) $A,B,C$ 中至少有一个为真。\n2) $A,B,C$ 中至多有一个为真。\n\n“至少一个”部分是单个子句\n$$\nA \\lor B \\lor C.\n$$\n“至多一个”部分禁止任何一对变量同时为真，等价于\n$$\n\\lnot(A \\land B), \\quad \\lnot(A \\land C), \\quad \\lnot(B \\land C),\n$$\n其合取范式（CNF）为\n$$\n(\\lnot A \\lor \\lnot B) \\land (\\lnot A \\lor \\lnot C) \\land (\\lnot B \\lor \\lnot C).\n$$\n将两者结合起来得到 CNF\n$$\n(A \\lor B \\lor C) \\land (\\lnot A \\lor \\lnot B) \\land (\\lnot A \\lor \\lnot C) \\land (\\lnot B \\lor \\lnot C),\n$$\n这对应于选项 A。\n\n为了确认其他选项是错误的：\n- B 只包含了“至少一个”的部分，并允许多个符号同时存在。\n- C 只包含了“至多一个”的部分，并允许三个变量都为假。\n- D 强制三个变量都为真，这违反了排他性。\n- E 不等价于“恰好一个”；例如，当 $A=\\text{false}$，$B=\\text{false}$，$C=\\text{false}$ 时，E 中的每个子句求值为\n$A \\lor \\lnot B = \\text{false} \\lor \\text{true} = \\text{true}$, $\\lnot A \\lor C = \\text{true} \\lor \\text{false} = \\text{true}$, $B \\lor \\lnot C = \\text{false} \\lor \\text{true} = \\text{true}$,\n因此，即使 $A,B,C$ 中没有一个为真，E 也是满足的，这违反了“至少一个”的要求。\n\n因此，正确的 CNF 是选项 A。",
            "answer": "$$\\boxed{A}$$"
        },
        {
            "introduction": "在学会了如何表示机器的静态快照之后，下一个关键步骤是编码其动态过程——即如何从一个配置演变到下一个配置。这项练习要求你将一个具体的转移规则，例如 $\\delta(q_1, a) = (q_2, b, R)$，转化为一个逻辑子句。这是构建公式中 $\\phi_{move}$ 部分的核心，确保计算过程严格遵循机器的程序设定 。",
            "id": "1405705",
            "problem": "在库克-列文定理的背景下，一个图灵机的计算过程被编码为一个大的布尔可满足性 (SAT) 实例。这个编码的一个关键部分是创建逻辑子句来强制执行机器的转移规则。\n\n考虑一个确定性图灵机，它有一个状态集 $Q$、一个带字母表 $\\Gamma$ 和一个转移函数 $\\delta$。我们使用以下布尔变量来描述在任意时间步机器的格局：\n-   $S_{t,q}$：当且仅当机器在时间步 $t$ 处于状态 $q \\in Q$ 时为真。\n-   $H_{t,j}$：当且仅当机器的读写头在时间步 $t$ 位于带位置 $j$ 时为真。\n-   $T_{t,j,s}$：当且仅当在时间步 $t$，带单元 $j$ 包含符号 $s \\in \\Gamma$ 时为真。\n\n假设机器有一个特定的转移规则，由下式给出：\n$$ \\delta(q_1, a) = (q_2, b, R) $$\n这个规则意味着，如果机器处于状态 $q_1$ 并且从带上读取符号 $a$，它将转移到状态 $q_2$，在当前带单元中写入符号 $b$，并将读写头向右 (R) 移动一个位置。\n\n下列哪个逻辑公式能正确地确保，对于任意时间步 $t$ 和任意带位置 $j$，机器在时间 $t+1$ 的格局是其在时间 $t$ 的格局根据此特定规则得出的有效后果？\n\nA. $(S_{t, q_1} \\land H_{t, j} \\land T_{t, j, a}) \\rightarrow (S_{t+1, q_2} \\land H_{t+1, j+1} \\land T_{t+1, j, b})$\n\nB. $(S_{t, q_1} \\land H_{t, j} \\land T_{t, j, a}) \\land (S_{t+1, q_2} \\land H_{t+1, j+1} \\land T_{t+1, j, b})$\n\nC. $(S_{t+1, q_2} \\land H_{t+1, j+1} \\land T_{t+1, j, b}) \\rightarrow (S_{t, q_1} \\land H_{t, j} \\land T_{t, j, a})$\n\nD. $(S_{t, q_1} \\land H_{t, j} \\land T_{t, j, a}) \\rightarrow (S_{t+1, q_2} \\land H_{t+1, j} \\land T_{t+1, j+1, b})$\n\nE. $(S_{t, q_1} \\lor H_{t, j} \\lor T_{t, j, a}) \\rightarrow (S_{t+1, q_2} \\lor H_{t+1, j+1} \\lor T_{t+1, j, b})$",
            "solution": "我们有一个确定性图灵机，其转移函数为 $\\delta$，并使用布尔变量 $S_{t,q}$、$H_{t,j}$ 和 $T_{t,j,s}$ 分别描述机器在时间 $t$ 的状态、读写头位置和带符号。特定的转移规则是 $\\delta(q_{1}, a) = (q_{2}, b, R)$，意即：如果在时间 $t$，机器处于状态 $q_1$，其读写头位于单元 $j$ 且读写头下的符号是 $a$，那么在时间 $t+1$，机器必须处于状态 $q_2$，读写头必须在位置 $j+1$，并且在单元 $j$ 中写入的符号必须是 $b$。\n\n根据这些变量的语义：\n- $S_{t,q_{1}}$ 表示时间 $t$ 的状态是 $q_{1}$。\n- $H_{t,j}$ 表示时间 $t$ 的读写头在位置 $j$。\n- $T_{t,j,a}$ 表示时间 $t$ 的带单元 $j$ 有符号 $a$。\n- 在时间 $t+1$，规则要求 $S_{t+1,q_{2}}$、$H_{t+1,j+1}$ 和 $T_{t+1,j,b}$ 成立。\n\n因此，要强制执行“如果在时间 $t$ 出现左侧的格局，那么在时间 $t+1$ 右侧的后果必须成立”这一转移，正确的逻辑约束是蕴含式\n$$\n\\left(S_{t,q_{1}} \\wedge H_{t,j} \\wedge T_{t,j,a}\\right) \\rightarrow \\left(S_{t+1,q_{2}} \\wedge H_{t+1,j+1} \\wedge T_{t+1,j,b}\\right),\n$$\n该蕴含式需要对所有的 $t$ 和 $j$ 进行实例化。\n\n现在来评估各个选项：\n- A 正是上面的蕴含式，因此它正确地强制执行了该转移。\n- B 是前件和后件的合取，这会迫使机器只要包含该子句就总是处于前件的格局中；它没有表达条件转移，约束太强。\n- C 颠倒了蕴含的方向；它会强制要求看到 $t+1$ 的格局就意味着特定的 $t$ 格局，而这不是预期的转移约束。\n- D 错误地放置了读写头和写入操作：它将读写头保持在 $j$ 处，并在 $j+1$ 处写入 $b$，这与 $\\delta(q_{1}, a) = (q_{2}, b, R)$ 相矛盾。\n- E 使用了析取，这没有捕捉到必要的条件结构；它允许前件或后件部分为真，从而未能正确地强制执行该转移。\n\n因此，正确选项是 A。",
            "answer": "$$\\boxed{A}$$"
        },
        {
            "introduction": "一个正确的构造不仅要描述发生了什么变化，还必须说明什么*保持不变*。这项练习将通过一个有缺陷的公式来探讨一个常见的陷阱，该公式忽略了“框架属性”——即读写头未访问的纸带格内容保持不变的规则。通过分析由此产生的非物理计算过程，你将更深刻地理解为何库克-列文证明中的每一个子句都至关重要 。",
            "id": "1456011",
            "problem": "理论计算机科学专业的一名本科生 Aris Thorne 正在开发一个程序来演示库克-列文定理 (Cook-Levin theorem)。他的目标是将任意给定的非确定性图灵机 (NTM) $M$ 和一个输入串 $w$ 转换为一个布尔可满足性公式 $\\Phi_{M,w}$，该公式当且仅当 $M$ 接受 $w$ 时可满足。\n\nAris 考虑一个特定的确定性图灵机（NTM 的一个特例），名为 $M_{search}$。该机器定义如下：\n-   状态集 $Q = \\{q_{start}, q_{found}\\}$\n-   带字母表 $\\Gamma = \\{\\text{0, 1, B}\\}$，其中 'B' 是空白符号。\n-   输入字母表 $\\Sigma = \\{\\text{0, 1}\\}$。\n-   起始状态 $q_{start}$。\n-   接受状态 $q_{found}$。\n-   转移函数 $\\delta$：\n    -   $\\delta(q_{start}, \\text{0}) = (q_{start}, \\text{0}, R)$ (右移)\n    -   $\\delta(q_{start}, \\text{B}) = (q_{start}, \\text{B}, R)$ (右移)\n    -   $\\delta(q_{start}, \\text{1}) = (q_{found}, \\text{1}, S)$ (保持不动)\n\n公式 $\\Phi_{M,w}$ 是使用描述机器在每个时间步配置的布尔变量构建的。Aris 正确地实现了初始配置的子句、确保机器在任何给定时间都恰好处于一个状态且读写头恰好位于一个位置的子句，以及基于以读写头位置为中心的 $2 \\times 3$ “窗口”磁带单元的有效状态转移子句。\n\n然而，Aris 犯了一个关键的疏忽：他忘记了包含强制执行“框架属性”的子句。具体来说，他的公式缺少这样的约束：如果磁带读写头不在某个磁带单元的位置上，那么从一个时间步到下一个时间步，该单元的内容必须保持不变。\n\nAris 使用输入串 $w = \\text{\"00\"}$ 测试了他为机器 $M_{search}$ 构建的有缺陷的构造。他将计算限制在最多 4 个时间步和长度为 5 的磁带上，单元索引从 1 到 5。一个 SAT 求解器报告他的公式是可满足的，并提供了一个赋值。与此满足赋值对应的机器配置序列如下所示。步骤 $t$ 的配置由一个元组给出：（当前状态，读写头位置，磁带内容 `[C_1, C_2, C_3, C_4, C_5]`）。\n\n-   $t=0$: ($q_{start}$, 1, `[0, 0, B, B, B]`)\n-   $t=1$: ($q_{start}$, 2, `[0, 0, B, B, B]`)\n-   $t=2$: ($q_{start}$, 3, `[0, 0, 1, B, B]`)\n-   $t=3$: ($q_{found}$, 3, `[0, 0, 1, B, B]`)\n-   $t=4$: ($q_{found}$, 3, `[0, 0, 1, B, B]`)\n\n根据此执行轨迹，下列哪个陈述准确描述了*第一个*违反标准图灵机操作原则的事件？\n\nA. 在 $t=1$ 时，机器从状态 $q_{start}$ 转换回 $q_{start}$，这对该机器来说是一个无效的循环。\n\nB. 在时间步 $t=1$ 和 $t=2$ 之间，当磁带读写头位于位置 2 时，位置 3 的符号从 B 变为 1。\n\nC. 在 $t=2$ 时，机器处于状态 $q_{start}$ 且其读写头位于位置 3，这是一个从 $t=1$ 的状态无法达到的配置。\n\nD. 在 $t=3$ 时，机器通过读取 '1' 转换到接受状态 $q_{found}$，但磁带读写头错误地保持静止。\n\nE. 计算没有从输入串 $w = \\text{\"00\"}$ 的正确初始配置开始。",
            "solution": "标准单带图灵机的操作原则要求，在每一步，机器读取读写头下的符号，可能向同一磁带单元写入一个新符号，更新其状态，并根据转移函数移动读写头。特别是，框架属性强制要求在给定步骤中，任何不在读写头下的磁带单元必须在下一步中保留其符号。\n\n给定的机器有如下转移规则：\n$$\n\\delta(q_{start}, \\text{0}) = (q_{start}, \\text{0}, R), \\quad\n\\delta(q_{start}, \\text{B}) = (q_{start}, \\text{B}, R), \\quad\n\\delta(q_{start}, \\text{1}) = (q_{found}, \\text{1}, S).\n$$\n我们根据这些规则逐步验证执行轨迹，并找出最早的违规行为。\n\n在 $t=0$ 时，配置是 $(q_{start}, 1, [0, 0, B, B, B])$，这是输入 $w = \\text{\"00\"}$ 的正确初始配置，因此选项 E 是错误的。\n\n从 $t=0$ 到 $t=1$：在 $t=0$ 时，读写头在位置 $1$ 读取 $0$。根据 $\\delta(q_{start}, \\text{0}) = (q_{start}, \\text{0}, R)$，机器保持在 $q_{start}$ 状态，在位置 $1$ 写入 $0$（无变化），并将读写头移动到位置 $2$。因此在 $t=1$ 时，配置 $(q_{start}, 2, [0, 0, B, B, B])$ 是有效的。所以，在 $t=1$ 时返回到 $q_{start}$ 与 $\\delta$ 一致，选项 A 是错误的。\n\n从 $t=1$ 到 $t=2$：在 $t=1$ 时，读写头在位置 $2$ 读取 $0$。根据 $\\delta(q_{start}, \\text{0}) = (q_{start}, \\text{0}, R)$，机器应该在位置 $2$ 写入 $0$（无变化），保持在 $q_{start}$ 状态，并将读写头移动到位置 $3$。关键是，在此步骤中只有被扫描的单元（位置 $2$）可能发生变化；所有其他单元必须根据框架属性保留其符号。因此，在 $t=2$ 时，位置 $3$ 的磁带单元必须仍然是 $B$。然而，执行轨迹显示在 $t=2$ 时磁带为 $[0, 0, 1, B, B]$，表明在转移过程中，当读写头位于位置 $2$ 时，单元 $3$ 从 $B$ 变为了 $1$。这违反了框架属性。因此，选项 B 正确地指出了一个违規，并且它最早发生在 $t=1$ 和 $t=2$ 之间。\n\n为了完整起见，我们检查其余选项是否不是更早的违規。选项 C 声称在 $t=2$ 时的配置 $(q_{start}, 3)$ 是从 $t=1$ 的状态不可达的，但 $\\delta(q_{start}, \\text{0})$ 确实将读写头右移并保持状态 $q_{start}$，所以这个配置是可达的；因此 C 是错误的。选项 D 声稱在 $t=3$ 时，当读取 $1$ 转换到 $q_{found}$ 时，读写头错误地保持静止，但 $\\delta(q_{start}, \\text{1}) = (q_{found}, \\text{1}, S)$ 明确指定保持不动，所以 D 是错误的。\n\n因此，第一个违反操作原则的事件是在 $t=1$ 和 $t=2$ 之间未经授权地更改了磁带单元 $3$，这与选项 B 相符。",
            "answer": "$$\\boxed{B}$$"
        }
    ]
}