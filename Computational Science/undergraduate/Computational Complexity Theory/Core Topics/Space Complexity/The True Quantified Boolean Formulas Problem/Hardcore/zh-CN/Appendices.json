{
    "hands_on_practices": [
        {
            "introduction": "要掌握量化布尔公式（QBF），最直接的方法就是亲手演算它的真伪。这个练习将引导你完成一个基础的 TQBF 求值过程，你需要像玩一个双人游戏一样，依次处理每个量词。通过这个过程，你将熟悉全称量词（$\\forall$）和存在量词（$\\exists$）的定义，并学会如何通过简化内部的布尔表达式来判定整个公式的真值 。",
            "id": "1464801",
            "problem": "在计算复杂性理论中，量化布尔公式（Quantified Boolean Formula, QBF）是一种经典命题逻辑的公式，它通过对布尔变量使用量词进行了扩展。QBF的真值是通过在布尔域 $\\{ \\text{False}, \\text{True} \\}$（我们可表示为 $\\{0, 1\\}$）上对其求值来确定的。全称量词 $\\forall x$ 意为“对 $x$ 的所有可能取值”，存在量词 $\\exists y$ 意为“存在至少一个 $y$ 的值”。\n\n考虑以下记为 $\\Phi$ 的量化布尔公式：\n$$ \\Phi = \\forall x \\exists y ((x \\lor y) \\land (\\neg x \\lor \\neg y)) $$\n此处，$x$ 和 $y$ 是布尔变量，$\\lor$ 表示逻辑或运算，$\\land$ 表示逻辑与运算，$\\neg$ 表示逻辑非运算。\n\n关于公式 $\\Phi$ 的以下哪个陈述是正确的？\n\nA. 公式 $\\Phi$ 为真。\n\nB. 公式 $\\Phi$ 为假。\n\nC. $\\Phi$ 的真值无法确定，因为它取决于 $x$ 的初始赋值。\n\nD. 公式 $\\Phi$ 在句法上是无效的。",
            "solution": "我们来分析这个量化布尔公式\n$$\n\\Phi = \\forall x \\exists y \\,\\big((x \\lor y) \\land (\\neg x \\lor \\neg y)\\big).\n$$\n根据布尔量词的语义，$\\forall x \\exists y\\,\\psi(x,y)$ 为真，当且仅当对 $x$ 的每一个真值，都存在一个 $y$ 的真值（可能依赖于 $x$），使得 $\\psi(x,y)$ 为真。\n\n首先，我们使用分配律来化简命题矩阵：\n$$\n(x \\lor y) \\land (\\neg x \\lor \\neg y)\n= \\big(x \\land (\\neg x \\lor \\neg y)\\big) \\lor \\big(y \\land (\\neg x \\lor \\neg y)\\big).\n$$\n对每一项内部使用分配律：\n$$\n= (x \\land \\neg x) \\lor (x \\land \\neg y) \\lor (y \\land \\neg x) \\lor (y \\land \\neg y).\n$$\n使用矛盾式 $x \\land \\neg x = \\bot$ 和 $y \\land \\neg y = \\bot$，并在析取运算下消除 $\\bot$：\n$$\n= (x \\land \\neg y) \\lor (\\neg x \\land y).\n$$\n这正是 $x$ 和 $y$ 的异或（exclusive-or）运算，也就是说，它为真当且仅当 $y \\neq x$。\n\n现在我们来对量化陈述求值。对于一个任意的 $x$，我们选择 $y$ 作为 $x$ 的斯科伦函数（Skolem function），其定义为\n$$\ny = \\neg x.\n$$\n将这个选择代入化简后的矩阵：\n$$\n(x \\land \\neg(\\neg x)) \\lor (\\neg x \\land \\neg x)\n= (x \\land x) \\lor (\\neg x \\land \\neg x)\n= x \\lor \\neg x,\n$$\n这是一个重言式，因此对于每一个 $x$ 都为真。\n\n因此，对每一个 $x$ 都存在一个 $y$（即 $y=\\neg x$）使得矩阵为真。根据量词的定义，$\\Phi$ 为真。在提供的选项中，这对应于陈述 A。",
            "answer": "$$\\boxed{A}$$"
        },
        {
            "introduction": "在掌握了基本的求值方法后，下一个关键是理解量词的顺序如何影响公式的最终结果。本练习  通过对比两对结构相似但量词顺序不同的公式，清晰地揭示了 $\\exists x \\forall y$ 和 $\\forall y \\exists x$ 之间的本质区别。这不仅是逻辑上的一个要点，也反映了在计算博弈中，“出招”顺序的决定性作用。",
            "id": "1464842",
            "problem": "在计算复杂性理论中，量化布尔公式 (QBF) 是一种命题逻辑公式，其中的变量可以被量化。如果一个 QBF 的值为真，则它属于语言 TQBF (真量化布尔公式)。\n\n考虑以下四个 QBF，其中 $x$ 和 $y$ 是取值于 $\\{0, 1\\}$ 的布尔变量。逻辑运算符定义如下：$\\land$ 表示与 (AND)，$\\lor$ 表示或 (OR)，$\\neg$ 表示非 (NOT)，$\\oplus$ 表示异或 (XOR)。如果一个表达式等于 1，则认为其为真；如果等于 0，则为假。\n\n- $\\Phi_1 = \\exists x \\forall y (x \\oplus y = 1)$\n- $\\Phi_2 = \\forall y \\exists x (x \\oplus y = 1)$\n- $\\Phi_3 = \\forall x \\forall y ((x \\land y) \\lor (\\neg x \\land \\neg y) = 1)$\n- $\\Phi_4 = \\exists y \\exists x ((x \\land y) \\lor (\\neg x \\land \\neg y) = 1)$\n\n以下哪个陈述正确地指出了所有值为真的公式？\n\nA. 仅 $\\Phi_1$\n\nB. 仅 $\\Phi_2$ 和 $\\Phi_4$\n\nC. 仅 $\\Phi_3$ 和 $\\Phi_4$\n\nD. 仅 $\\Phi_1$ 和 $\\Phi_3$\n\nE. 仅 $\\Phi_2$",
            "solution": "我们使用以下性质，对于布尔变量 $x,y \\in \\{0,1\\}$：\n- $x \\oplus y = 1$ 当且仅当 $x \\neq y$。\n- $(x \\land y) \\lor (\\neg x \\land \\neg y) = 1$ 当且仅当 $x = y$。\n\n计算每个公式的值：\n\n对于 $\\Phi_{1} = \\exists x \\forall y\\,(x \\oplus y = 1)$，这等价于 $\\exists x \\forall y\\,(x \\neq y)$。对于任意固定的 $x$，取 $y=x$ 会使 $x \\neq y$ 为假。因此不存在这样的 $x$，所以 $\\Phi_{1}$ 为假。\n\n对于 $\\Phi_{2} = \\forall y \\exists x\\,(x \\oplus y = 1)$，这等价于 $\\forall y \\exists x\\,(x \\neq y)$。对于每个 $y$，选择 $x=1-y$，这满足 $x \\neq y$。因此 $\\Phi_{2}$ 为真。\n\n对于 $\\Phi_{3} = \\forall x \\forall y\\,((x \\land y) \\lor (\\neg x \\land \\neg y) = 1)$，这等价于 $\\forall x \\forall y\\,(x = y)$。取 $x=0, y=1$ 可得到一个反例，所以 $\\Phi_{3}$ 为假。\n\n对于 $\\Phi_{4} = \\exists y \\exists x\\,((x \\land y) \\lor (\\neg x \\land \\neg y) = 1)$，这等价于 $\\exists x \\exists y\\,(x = y)$。取 $x=y=0$（或 $x=y=1$）满足该式，所以 $\\Phi_{4}$ 为真。\n\n因此，恰好 $\\Phi_{2}$ 和 $\\Phi_{4}$ 的值为真，这对应于选项 B。",
            "answer": "$$\\boxed{B}$$"
        },
        {
            "introduction": "我们不仅可以判定一个量化布尔公式的真伪，更可以利用它来精确描述其他逻辑命题的复杂属性。这个练习  将挑战你从“计算者”转变为“设计者”：你需要构建一个 QBF，使其当且仅当一个给定的布尔公式 $\\phi$ 恰好有一个满足解时为真。这完美地展示了 TQBF 作为一种表达工具的强大能力，并为理解它在复杂性理论中的核心地位（例如作为 PSPACE 完备问题的典范）奠定了基础。",
            "id": "1464839",
            "problem": "在计算复杂性理论中，量化布尔公式（QBF）是一种经典命题逻辑的公式，它通过在布尔变量上使用量词（$\\forall$ 表示“对于所有”和 $\\exists$ 表示“存在”）来进行扩展。真量化布尔公式（TQBF）是一种没有自由变量的QBF，其值可以判定为真或假。\n\n考虑一个依赖于两个布尔变量 $x_1$ 和 $x_2$ 的命题公式 $\\phi(x_1, x_2)$。你的任务是选择一个TQBF，该TQBF为真当且仅当 $\\phi(x_1, x_2)$ 恰好有一个满足赋值。\n\n为了清晰起见，在下面的选项中，我们引入一种两个赋值相等的简寫表示法。令表达式 $((x_1, x_2) = (y_1, y_2))$ 等价于布尔公式 $((x_1 \\iff y_1) \\land (x_2 \\iff y_2))$。\n\n以下哪个TQBF正确地表达了 $\\phi(x_1, x_2)$ 恰好有一个满足赋值的性质？\n\nA. $\\exists x_1 \\exists x_2 \\left( \\phi(x_1, x_2) \\land \\forall y_1 \\forall y_2 \\left( \\phi(y_1, y_2) \\implies ((x_1, x_2) = (y_1, y_2)) \\right) \\right)$\n\nB. $\\exists x_1 \\exists x_2 \\left( \\phi(x_1, x_2) \\land \\forall y_1 \\forall y_2 \\left( ((x_1, x_2) = (y_1, y_2)) \\implies \\phi(y_1, y_2) \\right) \\right)$\n\nC. $\\exists x_1 \\exists x_2 \\exists y_1 \\exists y_2 \\left( \\phi(x_1,x_2) \\land \\phi(y_1,y_2) \\land \\neg((x_1,x_2)=(y_1,y_2)) \\right)$\n\nD. $\\forall x_1 \\forall x_2 \\forall y_1 \\forall y_2 \\left( (\\phi(x_1,x_2) \\land \\phi(y_1,y_2)) \\implies ((x_1,x_2)=(y_1,y_2)) \\right)$",
            "solution": "我们需要一个TQBF，它为真当且仅当存在唯一一个赋值 $(x_1,x_2) \\in \\{0,1\\}^2$ 使得 $\\phi(x_1,x_2)$ 为真。“恰好有一个满足赋值”的逻辑规范是存在性与唯一性的合取：\n1) 存在性：$\\exists x_1\\exists x_2\\,\\phi(x_1,x_2)$。\n2) 唯一性：对于特定的见证 $(x_1,x_2)$，有 $\\forall y_1\\forall y_2\\,(\\phi(y_1,y_2) \\implies ((x_1,x_2)=(y_1,y_2)))$。\n\n将这两者结合在一个公式中得到：\n$$\n\\exists x_1\\exists x_2\\left(\\phi(x_1,x_2) \\land \\forall y_1\\forall y_2\\left(\\phi(y_1,y_2) \\implies ((x_1,x_2)=(y_1,y_2))\\right)\\right),\n$$\n这与选项A相符。\n\n现在精确地验证每个选项：\n\n- 选项A陈述：\n$$\n\\exists x_1\\exists x_2\\left(\\phi(x_1,x_2) \\land \\forall y_1\\forall y_2\\left(\\phi(y_1,y_2) \\implies ((x_1,x_2)=(y_1,y_2))\\right)\\right).\n$$\n这断言存在一个满足赋值 $(x_1,x_2)$，并且任何满足赋值 $(y_1,y_2)$都必须与之相等。这正是“恰好有一个满足赋值”的定义。\n\n- 选项B陈述：\n$$\n\\exists x_1\\exists x_2\\left(\\phi(x_1,x_2) \\land \\forall y_1\\forall y_2\\left(((x_1,x_2)=(y_1,y_2)) \\implies \\phi(y_1,y_2)\\right)\\right).\n$$\n对于任何固定的使 $\\phi(x_1,x_2)$ 为真的 $(x_1,x_2)$，蕴含式 $((x_1,x_2)=(y_1,y_2)) \\implies \\phi(y_1,y_2)$对所有 $(y_1,y_2)$ 都成立：如果 $(y_1,y_2)=(x_1,x_2)$，那么由于 $\\phi(x_1,x_2)$ 为真，$\\phi(y_1,y_2)$ 也为真；如果 $(y_1,y_2)\\neq(x_1,x_2)$，则前件为假，蕴含式为真。因此，只要 $\\phi(x_1,x_2)$ 有一个解，全称条件就总是被满足，整个公式等价于 $\\exists x_1\\exists x_2\\,\\phi(x_1,x_2)$，这表示“至少有一个满足赋值”，而不是唯一性。\n\n- 选项C陈述：\n$$\n\\exists x_1\\exists x_2\\exists y_1\\exists y_2\\left(\\phi(x_1,x_2) \\land \\phi(y_1,y_2) \\land \\neg((x_1,x_2)=(y_1,y_2))\\right),\n$$\n这断言存在两个不同的满足赋值。这表示“至少有两个”，与唯一性相反。\n\n- 选项D陈述：\n$$\n\\forall x_1\\forall x_2\\forall y_1\\forall y_2\\left((\\phi(x_1,x_2) \\land \\phi(y_1,y_2)) \\implies ((x_1,x_2)=(y_1,y_2))\\right),\n$$\n这断言不存在两个不同的满足赋值。这表示“至多有一个满足赋值”，但不能保证存在性。因此，它允许零个满足赋值，而不是恰好一个。\n\n因此，只有选项A正确地表达了 $\\phi(x_1, x_2)$ 恰好有一个满足赋值。",
            "answer": "$$\\boxed{A}$$"
        }
    ]
}