{
    "hands_on_practices": [
        {
            "introduction": "The foundation of descriptive complexity lies in expressing computational properties using the language of formal logic. Before we can appreciate the full power of the Immerman-Vardi theorem, we must first become fluent in its basic vocabulary: first-order logic. This initial exercise  is a direct application of this skill, asking you to translate a simple, concrete graph property into a precise logical sentence. Mastering this translation is the essential first step toward describing more complex algorithms and problems within a logical framework.",
            "id": "1427674",
            "problem": "In the study of descriptive complexity, we often represent computational problems as properties of finite structures, such as directed graphs, and analyze their expressibility within a given logic. Consider a directed graph described using the language of First-Order (FO) logic. The structure is defined by a single binary relation symbol, $E$, where the formula $E(u, v)$ is true if and only if there is a directed edge from vertex $u$ to vertex $v$. The universe of discourse for the logic is the set of all vertices in the graph.\n\nLet $c$ be a constant symbol that refers to a specific, designated vertex in the graph. Your task is to identify the correct FO logic formula that expresses the property that \"the vertex $c$ has at least one incoming edge and at least one outgoing edge.\"\n\nWhich of the following formulas correctly represents this property?\n\nA. $(\\exists x \\, E(x, c)) \\land (\\exists y \\, E(c, y))$\n\nB. $(\\exists x \\, E(x, c)) \\lor (\\exists y \\, E(c, y))$\n\nC. $\\exists z \\, (E(z, c) \\land E(c, z))$\n\nD. $\\forall z \\, (E(z, c) \\lor E(c, z))$\n\nE. $(\\forall x \\, E(x, c)) \\land (\\forall y \\, E(c, y))$",
            "solution": "The goal is to construct a First-Order (FO) logic formula that translates the English statement: \"the vertex $c$ has at least one incoming edge and at least one outgoing edge.\" We need to break this statement down into its logical components and then translate each part using the given vocabulary, which consists of the binary relation $E(u, v)$ for an edge from $u$ to $v$ and the constant $c$ for the specific vertex.\n\nThe statement is a conjunction of two simpler properties:\n1.  \"The vertex $c$ has at least one incoming edge.\"\n2.  \"The vertex $c$ has at least one outgoing edge.\"\n\nThe logical connective between these two properties is \"and,\" which corresponds to the logical conjunction symbol $\\land$.\n\nLet's translate the first property: \"The vertex $c$ has at least one incoming edge.\"\nAn incoming edge to $c$ is an edge that ends at $c$. This means there must be some vertex, let's call it $x$, such that there is an edge from $x$ to $c$. The phrase \"at least one\" translates to the existential quantifier $\\exists$. So, we are saying \"there exists a vertex $x$ such that there is an edge from $x$ to $c$.\" In our formal language, this is written as:\n$$ \\exists x \\, E(x, c) $$\n\nNow, let's translate the second property: \"The vertex $c$ has at least one outgoing edge.\"\nAn outgoing edge from $c$ is an edge that starts at $c$. This means there must be some vertex, let's call it $y$, such that there is an edge from $c$ to $y$. Again, \"at least one\" corresponds to the existential quantifier $\\exists$. So, we are saying \"there exists a vertex $y$ such that there is an edge from $c$ to $y$.\" In our formal language, this is written as:\n$$ \\exists y \\, E(c, y) $$\nNote that we use a different variable name, $y$, to avoid confusion, although it is not strictly necessary since the scope of the quantifier $\\exists x$ is limited to the first part of the expression.\n\nFinally, we combine these two formulas with the \"and\" ($\\land$) connective to represent the full property:\n$$ (\\exists x \\, E(x, c)) \\land (\\exists y \\, E(c, y)) $$\n\nThis formula correctly states that there exists a vertex $x$ providing an incoming edge to $c$, AND there exists a vertex $y$ receiving an outgoing edge from $c$.\n\nLet's analyze the given options:\nA. $(\\exists x \\, E(x, c)) \\land (\\exists y \\, E(c, y))$\nThis is the formula we derived. It correctly states that there is at least one incoming edge AND at least one outgoing edge. This is the correct answer.\n\nB. $(\\exists x \\, E(x, c)) \\lor (\\exists y \\, E(c, y))$\nThis formula uses the disjunction (\"or\") symbol $\\lor$. It expresses the property that \"vertex $c$ has at least one incoming edge OR at least one outgoing edge.\" This is a weaker condition than what was asked.\n\nC. $\\exists z \\, (E(z, c) \\land E(c, z))$\nThis formula states \"there exists a vertex $z$ such that there is an edge from $z$ to $c$ AND an edge from $c$ to $z$.\" This describes a more specific property, namely that vertex $c$ is part of a 2-cycle. A vertex could have an incoming edge from a vertex $u$ and an outgoing edge to a different vertex $v$ without satisfying this formula.\n\nD. $\\forall z \\, (E(z, c) \\lor E(c, z))$\nThis formula uses the universal quantifier $\\forall$ (\"for all\"). It states that \"for every vertex $z$ in the graph, there is either an edge from $z$ to $c$ OR an edge from $c$ to $z$.\" This is a very strong property, implying that $c$ is connected (in one direction or the other) to every vertex in the graph, which is not what the problem asks.\n\nE. $(\\forall x \\, E(x, c)) \\land (\\forall y \\, E(c, y))$\nThis formula also uses the universal quantifier $\\forall$. It states that \"for every vertex $x$, there is an edge from $x$ to $c$, AND for every vertex $y$, there is an edge from $c$ to $y$.\" This means that every vertex in the graph has an edge pointing to $c$, and $c$ has an edge pointing to every vertex in the graph. This is an extremely strong and entirely different property.\n\nTherefore, the only formula that correctly captures the specified property is A.",
            "answer": "$$\\boxed{A}$$"
        },
        {
            "introduction": "While first-order logic is excellent for describing static properties, many computational problems, like graph reachability, are inherently iterative. To capture these, we augment our logic with the least fixed-point (LFP) operator. This next practice  provides a hands-on opportunity to trace the iterative process of the LFP operator as it computes the set of reachable vertices. By manually stepping through the calculation, you will gain a concrete intuition for how this powerful operator systematically builds up complex relations from simple rules.",
            "id": "1427720",
            "problem": "In descriptive complexity theory, problems in the complexity class P (polynomial time) can be characterized using first-order logic augmented with a Least Fixed-Point (LFP) operator. Consider the problem of determining vertex reachability in a directed graph.\n\nLet a directed graph be represented by a structure $G = (V, E)$, where $V$ is the set of vertices and $E$ is a binary relation representing the edges. We want to find all vertices reachable from a given source vertex $s$. This set can be computed as the least fixed-point of an operator defined by the following first-order formula $\\varphi(R, x)$, where $R$ is a unary relation variable that will hold the set of reachable vertices:\n$$\n\\varphi(R, x) \\equiv (x = s) \\lor (\\exists y (R(y) \\land E(y, x)))\n$$\nThe iterative process to find the LFP starts with an empty relation and successively applies the formula:\n- Let $I_0 = \\emptyset$.\n- For $k \\ge 0$, define the $(k+1)$-th iteration as $$I_{k+1} = \\{x \\in V \\mid \\text{the formula } \\varphi(I_k, x) \\text{ is true}\\}.$$\n\nConsider a specific directed graph with the vertex set $V = \\{1, 2, 3, 4, 5\\}$ and the edge relation $E = \\{(1, 2), (2, 3), (3, 4), (4, 1), (3, 5)\\}$. Let the source vertex be $s = 1$.\n\nWhat is the set of vertices contained in the relation $I_3$?\n\nA. $\\{1, 2\\}$\n\nB. $\\{1, 2, 3\\}$\n\nC. $\\{1, 2, 3, 5\\}$\n\nD. $\\{1, 2, 3, 4\\}$\n\nE. $\\{1, 2, 3, 4, 5\\}$",
            "solution": "We are given a directed graph structure $G=(V,E)$ with $V=\\{1,2,3,4,5\\}$ and $E=\\{(1,2),(2,3),(3,4),(4,1),(3,5)\\}$, and the source vertex $s=1$. The least fixed-point is computed by iterating the monotone operator determined by the first-order formula\n$$\n\\varphi(R,x) \\equiv (x=s)\\lor(\\exists y\\,(R(y)\\land E(y,x))).\n$$\nDefine $I_{0}=\\emptyset$ and for $k\\ge 0$, let\n$$\nI_{k+1}=\\{x\\in V \\mid \\varphi(I_{k},x)\\ \\text{is true}\\}.\n$$\nWe compute the first three iterations explicitly.\n\nFirst, for $I_{1}$, since $I_{0}=\\emptyset$, the existential clause is false for all $x$, so only $x=s$ satisfies $\\varphi(I_{0},x)$. Hence\n$$\nI_{1}=\\{x\\in V \\mid x=s\\}=\\{1\\}.\n$$\n\nNext, for $I_{2}$, an element $x$ satisfies $\\varphi(I_{1},x)$ if $x=s$ or there exists $y\\in I_{1}$ with $E(y,x)$. Since $I_{1}=\\{1\\}$ and $E(1,2)$ holds, we have $2\\in I_{2}$ in addition to $1$. Therefore\n$$\nI_{2}=\\{1,2\\}.\n$$\n\nFinally, for $I_{3}$, an element $x$ satisfies $\\varphi(I_{2},x)$ if $x=s$ or there exists $y\\in I_{2}$ with $E(y,x)$. From $I_{2}=\\{1,2\\}$, we have $E(1,2)$ and $E(2,3)$; thus $2$ and $3$ are included via the existential clause, and $1$ is included via $x=s$. No other edges originate from $1$ or $2$. Hence\n$$\nI_{3}=\\{1,2,3\\}.\n$$\n\nComparing with the options, this matches option B.",
            "answer": "$$\\boxed{B}$$"
        },
        {
            "introduction": "The Immerman-Vardi theorem makes a profound claim: on ordered structures, any problem solvable in polynomial time can be expressed in first-order logic with an LFP operator. This final practice  delves into the heart of this connection by demonstrating how FO(LFP) can perform arithmetic computations, a cornerstone of most algorithms. By constructing a formula for multiplication using repeated addition on an ordered domain, you will see firsthand how logic can simulate computation, providing a clear insight into the expressive power that allows FO(LFP) to capture the complexity class PTIME.",
            "id": "1427706",
            "problem": "In the field of descriptive complexity, the Immermanâ€“Vardi theorem establishes that on finite, ordered structures, the set of all properties decidable in Polynomial Time (PTIME) is precisely the set of properties expressible in First-Order Logic augmented with a Least Fixed Point operator, denoted FO(LFP).\n\nConsider a finite domain of discourse $D$ on which a total linear order $$ is defined. Let the elements of $D$ represent natural numbers $\\{0, 1, 2, \\dots, |D|-1\\}$, where the smallest element under $$ corresponds to 0, its successor to 1, and so on. We use the notation $\\text{succ}(u)$ for the unique successor of $u$ (if it exists). You are given the following predefined relations:\n- $\\text{Zero}(u)$: A unary relation that is true if and only if $u$ is the smallest element in $D$ (representing the number 0).\n- $\\text{Add}(a, b, c)$: A ternary relation that is true if and only if the sum of the numbers represented by $a$ and $b$ equals the number represented by $c$.\n\nYour task is to help construct a formula in FO(LFP) for the ternary relation $\\text{Multiply}(x, y, z)$, which should be true if and only if the product of the numbers represented by $x$ and $y$ equals the number represented by $z$.\n\nThe standard approach is to define multiplication via repeated addition. This is captured using an auxiliary relation, let's call it $R(i, x, p)$, which is intended to mean \"the product of `i` and `x` is `p`\". The $\\text{Multiply}(y, x, z)$ relation is then defined as $[\\text{LFP}_{R, i, x, p} \\phi](y, x, z)$, where LFP is the least fixed point operator applied to a formula $\\phi(R, i, x, p)$ that defines the relation $R$ inductively.\n\nWhich of the following first-order formulas correctly represents $\\phi(R, i, x, p)$ to define the relation $R(i, x, p)$ such that $R$ correctly computes partial products?\n\nA. $(\\text{Zero}(i) \\land \\text{Zero}(p)) \\lor (\\exists i', p' . i = \\text{succ}(i') \\land R(i', x, p') \\land \\text{Add}(p', x, p))$\n\nB. $(\\text{Zero}(i) \\land \\text{Zero}(p)) \\lor (\\exists p' . R(i, x, p') \\land \\text{Add}(p', x, p))$\n\nC. $(\\text{Zero}(i) \\land p = x) \\lor (\\exists i', p' . i = \\text{succ}(i') \\land R(i', x, p') \\land \\text{Add}(p', x, p))$\n\nD. $(\\text{Zero}(i) \\land \\text{Zero}(p)) \\lor (\\exists i', p' . i = \\text{succ}(i') \\land R(i', x, p') \\land \\text{Add}(p', i, p))$\n\nE. $(\\text{Zero}(i) \\land \\text{Zero}(p)) \\lor (\\exists i', p' . i' = \\text{succ}(i) \\land R(i', x, p') \\land \\text{Add}(p, x, p'))$",
            "solution": "We are working in FO(LFP) over a finite, linearly ordered domain with a successor function symbol, and with predefined relations $\\text{Zero}(u)$ and $\\text{Add}(a,b,c)$, where $\\text{Zero}(u)$ expresses that $u$ is the least element and $\\text{Add}(a,b,c)$ expresses that $a+b=c$. We seek a formula $\\phi(i,x,p)$ such that the least fixed point $[\\text{LFP}_{R,i,x,p}\\,\\phi](y,x,z)$ defines $\\text{Multiply}(y,x,z)$, where $R(i,x,p)$ is intended to mean that $p$ is the product of $i$ and $x$.\n\nTo define multiplication via repeated addition, we use the following two principles:\n\n- Base case (zero multiplier): For every $x$, $0 \\cdot x = 0$. In relational form, if $\\text{Zero}(i)$, then $\\text{Zero}(p)$ should hold for $R(i,x,p)$.\n- Inductive step (successor multiplier): For every $i'$, if $p'$ is the product of $i'$ and $x$, then the product for $i=\\mathrm{succ}(i')$ is $p=p'+x$. In relational form, if $i=\\mathrm{succ}(i')$ and $R(i',x,p')$ and $\\text{Add}(p',x,p)$, then $R(i,x,p)$.\n\nTherefore, the intended defining formula is:\n$$\n\\phi(i,x,p) \\equiv \\bigl(\\text{Zero}(i)\\wedge \\text{Zero}(p)\\bigr)\\ \\vee\\ \\exists i'\\exists p'\\,\\bigl(i=\\text{succ}(i')\\wedge R(i',x,p')\\wedge \\text{Add}(p',x,p)\\bigr).\n$$\nThis formula contains $R$ only positively, ensuring the monotonicity required by the least fixed point operator. On a finite structure, the operator defined by $\\phi$ iteratively closes under these rules to yield exactly the set of triples $(i,x,p)$ where $p=i\\cdot x$, by unfolding:\n- Stage $0$: no tuples.\n- Adding base tuples: all $(0,x,0)$ via $\\text{Zero}(i)\\wedge \\text{Zero}(p)$.\n- Inductive construction: from $(i',x,p')$ add $(\\text{succ}(i'),x,p)$ whenever $\\text{Add}(p',x,p)$ holds, thus computing $p' + x$ as the next partial product.\nBy finiteness and monotonicity, the LFP is reached and coincides with the graph of multiplication via repeated addition.\n\nNow verify the options:\n\n- Option A is exactly the formula just derived:\n$$\n(\\text{Zero}(i)\\wedge \\text{Zero}(p))\\ \\vee\\ \\exists i'\\exists p'\\,\\bigl(i=\\text{succ}(i')\\wedge R(i',x,p')\\wedge \\text{Add}(p',x,p)\\bigr),\n$$\nso it is correct.\n\n- Option B uses $\\exists p'.\\ R(i,x,p')\\wedge \\text{Add}(p',x,p)$, which recurses on the same $i$ rather than its predecessor. This does not implement the inductive step $i\\mapsto \\text{succ}(i)$ and fails to compute correct partial products.\n\n- Option C sets the base case to $\\text{Zero}(i)\\wedge p=x$, which enforces $0\\cdot x=x$ instead of $0\\cdot x=0$, so it is incorrect.\n\n- Option D uses $\\text{Add}(p',i,p)$ in the inductive step, adding $i$ rather than $x$, thereby not implementing repeated addition of $x$; it is incorrect.\n\n- Option E sets $i'=\\text{succ}(i)$ (reversing the successor direction) and $\\text{Add}(p,x,p')$, which does not derive $R(i,x,p)$ from $R(i',x,p')$ in the correct direction; it is incorrect.\n\nTherefore, the correct choice is A.",
            "answer": "$$\\boxed{A}$$"
        }
    ]
}