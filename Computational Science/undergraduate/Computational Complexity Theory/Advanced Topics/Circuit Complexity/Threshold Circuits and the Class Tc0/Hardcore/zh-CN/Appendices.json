{
    "hands_on_practices": [
        {
            "introduction": "理解抽象概念最好的方法之一就是亲手实践。这个练习将引导你从零开始，为一个基本的逻辑函数——蕴含（implication）——设计一个阈值门。通过确定实现该功能所需的权重和阈值，你将深入理解阈值门的数学定义如何与其逻辑行为直接对应。",
            "id": "1466394",
            "problem": "在计算复杂性理论中，阈值门是一类被称为 TC0 的电路的基本构建模块。一个具有 $n$ 个输入的阈值门对布尔变量 $x_1, x_2, \\dots, x_n$ 进行操作，其中每个 $x_i$ 的值为 0 或 1。每个输入都关联一个实值权重 $w_i$，而门本身有一个实值阈值 $t$。该门计算其输入的加权和，$S = w_1 x_1 + w_2 x_2 + \\dots + w_n x_n$。如果这个和 $S$ 大于或等于阈值 $t$，则门的输出为 1，否则为 0。\n\n考虑逻辑蕴含函数，表示为 $\\implies$。对于两个布尔输入 $x_1$ 和 $x_2$，函数 $x_1 \\implies x_2$ 仅在 $x_1=1$ 且 $x_2=0$ 时值为 0；在其他情况下，其值为 1。\n\n你的任务是为一个具有两个输入 $x_1$ 和 $x_2$ 的单一阈值门找到参数，使其能够正确计算逻辑蕴含函数 $x_1 \\implies x_2$。你必须找到一组满足此要求的整数参数 $(w_1, w_2, t)$。在所有可能的整数解中，你必须提供使权重绝对值之和 $|w_1| + |w_2|$ 最小化的那个特定解。如果存在多组权重产生这个最小和，请选择具有代数上可能的最大阈值 $t$ 的那组。\n\n请以行矩阵 $\\begin{pmatrix} w_1  w_2  t \\end{pmatrix}$ 的形式给出你的答案。",
            "solution": "一个具有整数参数 $(w_{1}, w_{2}, t)$ 的阈值门，在输入为 $(x_{1}, x_{2})$ 时输出 $1$ 当且仅当 $w_{1}x_{1}+w_{2}x_{2} \\geq t$，否则输出 $0$。对于蕴含 $x_{1} \\implies x_{2}$，期望的输出是：\n- $(0,0) \\mapsto 1$，\n- $(0,1) \\mapsto 1$，\n- $(1,1) \\mapsto 1$，\n- $(1,0) \\mapsto 0$。\n\n写出相应的线性不等式：\n- 对于 $(0,0)$ 输出 $1$：$0 \\geq t$，因此 $t \\leq 0$。\n- 对于 $(0,1)$ 输出 $1$：$w_{2} \\geq t$。\n- 对于 $(1,1)$ 输出 $1$：$w_{1}+w_{2} \\geq t$。\n- 对于 $(1,0)$ 输出 $0$：$w_{1}  t$。\n\n由 $t \\leq 0$ 和 $w_{1}  t$ 且参数为整数，可得 $w_{1} \\leq -1$。\n\n我们必须在满足这些约束条件的整数上最小化 $|w_{1}|+|w_{2}|$。首先，测试 $|w_{1}|+|w_{2}|=1$ 的可能性。唯一的候选者是 $(\\pm 1,0)$ 和 $(0,\\pm 1)$：\n- $(1,0)$ 要求 $1  t$ 并且 $0 \\geq t$，这是一个矛盾。\n- $(-1,0)$ 由 $-1  t \\leq 0$ 可推得 $t=0$，但此时对于 $(1,1)$ 有 $-1 \\geq 0$，这是错误的。\n- $(0,1)$ 要求 $0  t$ 和 $0 \\geq t$，这是一个矛盾。\n- $(0,-1)$ 要求 $0  t$ 和 $0 \\geq t$，这是一个矛盾。\n因此 $|w_{1}|+|w_{2}| \\geq 2$。\n\n现在考虑所有满足 $|w_{1}|+|w_{2}|=2$ 的整数对：$(\\pm 2,0)$, $(0,\\pm 2)$ 和 $(\\pm 1,\\pm 1)$。\n- $(2,0)$ 和 $(0,2)$ 都要求 $t \\leq 0$ 和 $2  t$，这是不可能的。\n- $(-2,0)$ 在 $t \\leq 0$ 和 $-2  t$ 的条件下得到 $t \\in \\{-1,0\\}$，但对于 $(1,1)$ 有 $-2 \\geq t$，这对于 $t=-1$ 和 $t=0$ 都不成立。\n- $(0,-2)$ 要求 $0  t$ 和 $t \\leq 0$，不可能。\n- $(1,1)$ 要求 $1  t$ 和 $t \\leq 0$，不可能。\n- $(-1,-1)$ 由 $-1  t \\leq 0$ 可推得 $t=0$，但对于 $(0,1)$ 有 $-1 \\geq 0$，是错误的。\n\n剩下的候选者是 $(-1,1)$。不等式变为：\n- $t \\leq 0$，\n- $-1  t$，\n- $1 \\geq t$，\n- $0 \\geq t$，\n这些共同要求 $t=0$。验证：\n- $(0,0)$: $0 \\geq 0$ 输出 $1$，\n- $(0,1)$: $1 \\geq 0$ 输出 $1$，\n- $(1,1)$: $0 \\geq 0$ 输出 $1$，\n- $(1,0)$: $-1 \\geq 0$ 是错误的，输出 $0$。\n因此 $(-1,1,t=0)$ 正确地计算了 $x_{1} \\implies x_{2}$。\n\n这达到了最小和 $|w_{1}|+|w_{2}|=2$。在所有具有此最小和的解中，阈值 $t$ 被唯一确定为 $0$，因此这是此类解中代数上允许的最大阈值。",
            "answer": "$$\\boxed{\\begin{pmatrix}-1  1  0\\end{pmatrix}}$$"
        },
        {
            "introduction": "在成功构建一个简单的阈值门之后，一个自然的问题是：单个阈值门的能力极限在哪里？本练习探讨了一个经典的布尔函数——异或（XOR），它无法由单个阈值门实现，从而引出了线性可分性的关键概念。理解这一局限性对于认识到为何电路深度是计算中一种必要且强大的资源至关重要。",
            "id": "1466412",
            "problem": "在计算复杂性理论领域，阈值门是电路的基本构建模块。一个 $n$ 输入的阈值门接受二进制输入 $x_1, x_2, \\dots, x_n \\in \\{0, 1\\}$，其中每个输入 $x_i$ 都关联一个实值权重 $w_i$。该门还有一个实值阈值 $t$。如果其输入的加权和大于或等于阈值，则该门输出1，否则输出0。该门计算的函数是：\n$$ f(x_1, \\dots, x_n) = \\begin{cases} 1  \\text{if } \\sum_{i=1}^{n} w_i x_i \\ge t \\\\ 0  \\text{otherwise} \\end{cases} $$\n复杂度类 TC0 (阈值电路，常数深度) 包含的函数，可以由一个常数深度和多项式规模的电路族计算，这些电路由具有任意数量输入的阈值门构成。\n\n考虑一组简单的布尔函数。您的任务是识别以下哪个关于二进制输入的函数不能由单个阈值门计算，但可以由一个深度为2的TC0电路计算。\n\nA. 双输入与函数：$f(x_1, x_2) = x_1 \\land x_2$。\n\nB. 双输入或函数：$f(x_1, x_2) = x_1 \\lor x_2$。\n\nC. 双输入异或(XOR)函数：$f(x_1, x_2) = x_1 \\oplus x_2$。\n\nD. 三输入多数(MAJORITY)函数，当且仅当其输入中至少有两个为1时输出1。\n\nE. 三输入上的投影函数：$f(x_1, x_2, x_3) = x_2$。",
            "solution": "我们回顾一下，一个在输入 $x_{1},\\dots,x_{n}\\in\\{0,1\\}$ 上，带有权重 $w_{1},\\dots,w_{n}\\in\\mathbb{R}$ 和阈值 $t\\in\\mathbb{R}$ 的单个阈值门（一个线性阈值函数），当且仅当 $\\sum_{i=1}^{n}w_{i}x_{i}\\ge t$ 时输出1，否则输出0。这类函数正是线性可分的布尔函数。\n\n我们逐一分析每个选项：\n\nA. 双输入与函数 $f(x_{1},x_{2})=x_{1}\\land x_{2}$ 是线性可分的。选择 $w_{1}=w_{2}=1$ 和 $t=2$。只有当 $x_1=1$ 且 $x_2=1$ 时，加权和才等于2，满足 $\\ge t$ 的条件。\n\nB. 双输入或函数 $f(x_{1},x_{2})=x_{1}\\lor x_{2}$ 是线性可分的。选择 $w_{1}=w_{2}=1$ 和 $t=1$。只要至少一个输入为1，加权和就 $\\ge 1$，满足条件。\n\nC. 双输入异或函数 $f(x_{1},x_{2})=x_{1}\\oplus x_{2}$ 不是线性可分的。为了证明这一点，我们假设它可以由一个带权重 $w_1, w_2$ 和阈值 $t$ 的阈值门计算。那么我们必须满足以下条件：\n- $f(0,0)=0 \\implies w_1(0) + w_2(0)  t \\implies 0  t$\n- $f(0,1)=1 \\implies w_1(0) + w_2(1) \\ge t \\implies w_2 \\ge t$\n- $f(1,0)=1 \\implies w_1(1) + w_2(0) \\ge t \\implies w_1 \\ge t$\n- $f(1,1)=0 \\implies w_1(1) + w_2(1)  t \\implies w_1 + w_2  t$\n将 $w_1 \\ge t$ 和 $w_2 \\ge t$ 相加，我们得到 $w_1 + w_2 \\ge 2t$。因此，我们有 $2t \\le w_1 + w_2  t$。这个不等式意味着 $2t  t$，即 $t  0$。但这与第一个条件 $0  t$ 相矛盾。因此，没有任何权重和阈值组合可以实现XOR函数。然而，XOR可以表示为 $(x_1 \\land \\neg x_2) \\lor (\\neg x_1 \\land x_2)$，这可以轻松地由一个深度为2的AND-OR-NOT电路实现，而该电路属于AC0，因此也属于TC0。\n\nD. 三输入多数函数是阈值门的典型例子。选择 $w_1=w_2=w_3=1$ 和 $t=2$。当且仅当至少两个输入为1时，加权和 $\\ge 2$。\n\nE. 投影函数 $f(x_1, x_2, x_3) = x_2$ 是线性可分的。选择 $w_1=0, w_2=1, w_3=0$ 和 $t=1$。加权和为 $x_2$，当且仅当 $x_2=1$ 时才 $\\ge 1$。\n\n因此，唯一不能由单个阈值门计算的函数是XOR函数。",
            "answer": "$$\\boxed{C}$$"
        },
        {
            "introduction": "我们已经知道某些函数需要多层电路才能实现，现在让我们来应对一个更高级的挑战。本练习将指导你为奇偶校验（PARITY）函数构建一个深度为 2 的阈值电路，而这项任务对于单个门来说是不可能完成的。这个精妙的构造是展示 $TC^0$ 电路计算能力的经典范例，它揭示了如何组合简单的门来获得更强的计算能力。",
            "id": "1466396",
            "problem": "在计算复杂性理论的研究中，TC0 是指可由常数深度、多项式大小且由阈值门构成的电路族计算的函数类。一个阈值门接受 $m$ 个布尔输入 $u_1, \\dots, u_m$，当且仅当其输入的加权和达到或超过一个阈值时，它输出 1，即 $\\sum_{i=1}^m w_i u_i \\ge \\theta$，其中权重 $w_i$ 是整数，$\\theta$ 是一个实数。\n\n在此背景下一个著名的函数是模2内积 (IP2)，对于给定的两个n位向量 $\\vec{x} = (x_1, \\dots, x_n)$ 和 $\\vec{y} = (y_1, \\dots, y_n)$，它计算 $(\\sum_{i=1}^n x_i y_i) \\pmod 2$。已知 IP2 可以由一个深度为3的TC0电路计算。这种构造通常首先使用一层门来计算按位乘积 $z_i = x_i \\land y_i$ (其中 $i=1, \\dots, n$)，然后使用一个后续的两层电路来计算这 $n$ 个结果比特的奇偶性（PARITY）。\n\n你的任务是为这个计算的第二个、也是关键的部分进行设计。\n\n**问题：**\n构造一个明确的设计，用于一个深度为2的阈值电路，该电路计算 $n$ 个布尔输入比特 $z_1, z_2, \\ldots, z_n$ 的奇偶性（PARITY）函数。如果等于1的输入数量为奇数，奇偶性函数输出1，否则输出0。根据你的设计，所需的门的总确切数量是多少，请表示为 $n$ 的函数？",
            "solution": "令 $z_{1},\\dots,z_{n}\\in\\{0,1\\}$ 为输入，并令 $S=\\sum_{i=1}^{n} z_{i}$ 表示它们的汉明权重。我们构造一个深度为2的阈值电路，其输出当且仅当 $S$ 为奇数时为 $1$。\n\n第一层（计算前缀计数指示器）：对于每个 $t\\in\\{1,\\dots,n\\}$，包含一个阈值门 $G_{t}$，其所有输入 $i\\in\\{1,\\dots,n\\}$ 的权重均为 $w_{t,i}=1$，阈值为 $\\theta_{t}=t$。其输出为\n$$\nf_{t}=\\begin{cases}\n1  \\text{如果 } \\sum_{i=1}^{n} z_{i} \\ge t,\\\\\n0  \\text{否则}。\n\\end{cases}\n$$\n因此，对于一个汉明权重为 $S=s$ 的输入，我们有当 $t\\le s$ 时 $f_{t}=1$，当 $ts$ 时 $f_{t}=0$。这一层正好使用 $n$ 个阈值门。\n\n第二层（从 $f_{t}$ 计算奇偶性的单个门）：包含一个阈值门 $H$，其输入为 $f_{1},\\dots,f_{n}$，整数权重为\n$$\nA_{t}=(-1)^{t+1} 2^{t-1}\\quad\\text{对于 }t\\in\\{1,\\dots,n\\},\n$$\n阈值为\n$$\n\\theta=\\frac{1}{2}.\n$$\n对于汉明权重为 $S=s$ 的输入，$H$ 的输出等于 $1$ 当且仅当\n$$\n\\sum_{t=1}^{n} A_{t} f_{t} \\ge \\theta.\n$$\n因为 $f_{t}=1$ 恰好在 $t\\le s$ 时成立，所以这个不等式等价于\n$$\ng(s)\\equiv \\sum_{t=1}^{s} (-1)^{t+1} 2^{t-1} \\ge \\frac{1}{2}.\n$$\n和 $g(s)$ 是一个公比为 $-2$、首项为 $1$ 的有限几何级数，所以\n$$\ng(s)=\\sum_{t=1}^{s} (-1)^{t+1} 2^{t-1}=\\frac{1-(-2)^{s}}{1-(-2)}=\\frac{1-(-2)^{s}}{3}.\n$$\n因此：\n- 如果 $s=0$（没有输入等于 $1$），那么 $g(0)=0  \\frac{1}{2}$，所以输出是 $0$。\n- 如果 $s$ 是奇数，那么 $(-2)^{s}=-2^{s}$ 且 $g(s)=\\frac{1+2^{s}}{3}\\ge 1\\frac{1}{2}$，所以输出是 $1$。\n- 如果 $s$ 是偶数且 $s\\ge 2$，那么 $(-2)^{s}=2^{s}$ 且 $g(s)=\\frac{1-2^{s}}{3}\\le -1$，所以输出是 $0$。\n\n因此，第二层的门当且仅当 $S$ 是奇数时输出 $1$，即它计算了 $z_{1},\\dots,z_{n}$ 的奇偶性（PARITY）。\n\n门的总数：该构造在第一层中正好使用 $n$ 个门，在第二层中正好使用 $1$ 个门，总共为 $n+1$ 个阈值门。",
            "answer": "$$\\boxed{n+1}$$"
        }
    ]
}