{
    "hands_on_practices": [
        {
            "introduction": "我们如何将一个关于数字和求和的计数问题转化为一个图论问题？这个练习展示了一种强大的技术，其中顺序决策（即是否包含一个元素）被建模为有向无环图 (DAG) 中的路径。通过解决这个问题，您将亲手构建这样一个图，并体会到计算问题的解的数量如何精确地对应于图中特定路径的数量，这是理解动态规划和算法设计中常见转换技巧的绝佳实践。",
            "id": "1434881",
            "problem": "在计算复杂性理论中，节约归约（parsimonious reduction）是两种计数问题（称之为问题 A 和问题 B）之间的一种特殊类型的归约。它将问题 A 的一个实例映射到问题 B 的一个实例，使得 A 的原始实例的解的数量与 B 的结果实例的解的数量完全相等。\n\n考虑计数问题 `#SUBSET-SUM`，其定义如下：给定一个正整数集合 $S = \\{s_1, s_2, \\ldots, s_n\\}$ 和一个目标整数 $T$，求 $S$ 中有多少个不同的子集，其元素之和恰好为 $T$。\n\n存在一个从 `#SUBSET-SUM` 到在一个特殊构造的有向无环图 (DAG) 中计数路径问题的节约归约。根据给定的 `#SUBSET-SUM` 实例（集合为 $S=\\{s_1, \\ldots, s_n\\}$，目标为 $T$），构造这个表示为 $G=(V, E)$ 的 DAG 的过程如下：\n\n1.  **顶点**：顶点集合 $V$ 由所有满足 $0 \\le i \\le n$ 和 $0 \\le j \\le T$ 的整数 $i$ 和 $j$ 的标记为 $v_{i,j}$ 的节点组成。索引 $i$ 表示已经考虑了集合 $S$ 的前 $i$ 个元素，索引 $j$ 表示一个可能的累积和。\n2.  **源点和汇点**：源顶点是 $s = v_{0,0}$，表示在考虑任何元素之前的和为 0。汇顶点是 $t = v_{n,T}$，表示在考虑所有 $n$ 个元素之后，达到目标和 $T$。\n3.  **边**：对于每个满足 $1 \\le i \\le n$ 和 $0 \\le j \\le T$ 的顶点 $v_{i-1, j}$，我们考虑元素 $s_i$ 并为该元素的两种选择创建相应的有向边：\n    *   **排除**：从 $v_{i-1, j}$ 到 $v_{i, j}$ 创建一条边。这表示不将 $s_i$ 包含在子集中，因此和保持为 $j$。\n    *   **包含**：如果 $j + s_i \\le T$，则从 $v_{i-1, j}$ 到 $v_{i, j+s_i}$ 创建一条边。这表示将 $s_i$ 包含在子集中，因此和变为 $j+s_i$。\n\n现给定 `#SUBSET-SUM` 的以下特定实例：\n*   整数集合为 $S = \\{1, 2, 3, 4, 5\\}$。\n*   目标和为 $T = 7$。\n\n根据上述构造过程，确定在生成的 DAG 中从源顶点 $s$ 到汇顶点 $t$ 的不同简单路径的数量。",
            "solution": "根据归约的定义，从源顶点 $s=v_{0,0}$ 到汇顶点 $t=v_{n,T}$ 的每一条不同路径都精确地对应于 $S$ 的一个子集，其元素之和等于 $T$。因此，我们只需要计算和为 7 的子集的数量。\n\n对于给定的集合 $S = \\{1, 2, 3, 4, 5\\}$ 和目标 $T = 7$，我们可以通过组合来找到所有满足条件的子集：\n*   $\\{2, 5\\}$ (其和为 $2+5=7$)\n*   $\\{3, 4\\}$ (其和为 $3+4=7$)\n*   $\\{1, 2, 4\\}$ (其和为 $1+2+4=7$)\n\n我们总共找到了 3 个不同的子集。因此，在构造的 DAG 中，从源点到汇点有 3 条不同的路径。",
            "answer": "$$\\boxed{3}$$"
        },
        {
            "introduction": "节约归约常常能揭示不同问题之间深刻的结构相似性。此练习旨在探索一个图中的匹配 (matching) 与其线图 (line graph) 中的独立集 (independent set) 之间优美而直接的对应关系。理解此练习的关键在于弄清楚线图的定义如何自然地将匹配问题中“边不共享顶点”的约束，转化为独立集问题中“顶点互不相邻”的约束，从而实现解数量的完美保存。",
            "id": "1434888",
            "problem": "在计算复杂性理论中，一种用于关联计数问题难度的关键技术是节约归约。此类归约将一个问题的实例映射到另一个问题的实例，并保持解的数量不变。\n\n考虑图论中的以下定义：\n- **图** $G = (V, E)$ 由一个顶点集 $V$ 和一个边集 $E$ 组成，其中每条边连接一对顶点。\n- 图 $G$ 中的**匹配**是其边集的一个子集 $M \\subseteq E$，使得 $M$ 中没有两条边共享一个公共顶点。\n- 图 $G$ 中的**独立集**是其顶点集的一个子集 $S \\subseteq V$，使得 $S$ 中没有两个顶点被一条边连接。\n- 图 $G$ 的**线图**（记作 $L(G)$）是按如下方式构造的另一个图：对于 $G$ 中的每条边，在 $L(G)$ 中都有一个对应的顶点。$L(G)$ 中的两个顶点被一条边连接，当且仅当它们在 $G$ 中对应的边共享一个公共端点（即，是相邻的）。\n\n设 $\\#\\text{Match}(G)$ 表示任意简单图 $G$ 中不同匹配的总数。这个计数包括所有可能大小的匹配，从空匹配（零条边）到最大可能匹配。类似地，设 $\\#\\text{IndSet}(H)$ 表示图 $H$ 中不同独立集的总数，包括空集。\n\n下列哪个陈述正确描述了图 $G$ 中匹配的数量与其线图 $L(G)$ 中独立集的数量之间的普遍关系？\n\nA) $\\#\\text{Match}(G) = \\#\\text{IndSet}(L(G))$\n\nB) $\\#\\text{Match}(G) = 2 \\cdot \\#\\text{IndSet}(L(G))$\n\nC) $\\#\\text{Match}(G) = (\\#\\text{IndSet}(L(G)))^{2}$\n\nD) $\\#\\text{Match}(G) = \\#\\text{IndSet}(L(G)) + |V(G)|$，其中 $|V(G)|$ 是 $G$ 中的顶点数。\n\nE) 这种关系不是固定的，取决于 $G$ 的具体结构。",
            "solution": "设 $G=(V,E)$ 是一个简单图，并设 $L(G)$ 表示其线图。根据线图的定义，在 $G$ 的边 $e \\in E$ 和 $L(G)$ 的顶点 $v_{e} \\in V(L(G))$ 之间存在一个标准的一一对应关系，其中 $L(G)$ 中的邻接关系由以下公式给出\n$$\n\\{v_{e},v_{e'}\\} \\in E(L(G)) \\iff e \\text{ and } e' \\text{ share a common endpoint in } G.\n$$\n定义从 $E$ 的子集到 $V(L(G))$ 的子集的映射 $\\phi$ 为\n$$\n\\phi(M)=\\{v_{e} : e \\in M\\}.\n$$\n我们断言，$M \\subseteq E$ 是 $G$ 中的一个匹配，当且仅当 $\\phi(M)$ 是 $L(G)$ 中的一个独立集。实际上，根据定义：\n- 如果 $M$ 是一个匹配，那么对于任何不同的 $e,e' \\in M$，边 $e$ 和 $e'$ 在 $G$ 中不共享端点。因此，$v_{e}$ 和 $v_{e'}$ 在 $L(G)$ 中不相邻，所以 $\\phi(M)$ 是一个独立集。\n- 反之，如果 $\\phi(M)$ 是 $L(G)$ 中的一个独立集，那么对于任何不同的 $e,e' \\in M$，$v_{e}$ 和 $v_{e'}}$ 在 $L(G)$ 中不相邻，这意味着 $e$ 和 $e'$ 在 $G$ 中不共享端点。因此，$M$ 是一个匹配。\n\n因此，$\\phi$ 在 $G$ 的匹配族上的限制是到 $L(G)$ 的独立集族的一个双射。这个双射也将空匹配映射到空独立集。因此，$G$ 中匹配的总数等于 $L(G)$ 中独立集的总数：\n$$\n\\#\\text{Match}(G)=\\#\\text{IndSet}(L(G)).\n$$\n因此，普遍正确的陈述是选项 A。",
            "answer": "$$\\boxed{A}$$"
        },
        {
            "introduction": "计算等价性的概念可以延伸到几何与代数等看似无关的领域。本题利用了一个著名的节约归约，它将计算凸多边形三角剖分的数量与计算表达式加括号方式的数量联系起来，而这两个问题都与Catalan数密切相关。您的任务不是去证明这个约简，而是学会应用它，这是在理论计算机科学中利用成熟理论成果来解决实际问题的关键技能。",
            "id": "1434878",
            "problem": "在计算复杂性理论中，我们经常研究计数问题，这类问题要求计算给定问题实例的解的数量。我们来定义两个这样的问题：\n\n1.  **#TRIANGULATIONS**：给定一个有 $k$ 个顶点的凸多边形 $P$，问题是计算通过在顶点之间绘制 $k-3$ 条不相交的对角线，将该多边形剖分成一组不重叠三角形的不同方式的数量。\n\n2.  **#PARENTHESIZATIONS**：给定一个包含 $m$ 个符号的有序字符串，例如 $x_1 x_2 \\dots x_m$，问题是计算插入括号以形成一个完全括号化的二元表达式的方式的数量。一个完全括号化的表达式是指每一对括号都恰好包含两项，而这两项本身也可能是带括号的子表达式。例如，对于一个包含4个符号的字符串 $x_1 x_2 x_3 x_4$，一个有效的括号化方式是 $((x_1 x_2) (x_3 x_4))$，而 $(x_1 x_2 x_3) x_4$ 则不是，因为第一对括号内包含了三个符号。\n\n从一个计数问题 \\#A 到另一个计数问题 \\#B 的*节约归约*（parsimonious reduction）是一个变换 $f$，它将问题 \\#A 的每个实例 $I_A$ 映射到问题 \\#B 的一个实例 $I_B$，使得 $I_A$ 的解的数量与 $I_B$ 的解的数量完全相等。\n\n在组合数学和计算机科学中，一个已知的结论是：存在一个从计算凸 $(n+2)$-边形的三角剖分数量问题到计算一个包含 $n+1$ 个符号的字符串的完全括号化方式数量问题的节约归约。\n\n利用这一事实，计算一个凸六边形的所有不同三角剖分的总数。",
            "solution": "题目要求我们计算一个凸六边形的三角剖分数量。一个已知的节约归约将一个具有 $n+2$ 个顶点的凸多边形的三角剖分映射到一个具有 $n+1$ 个符号的字符串的完全括号化方式。设多边形的顶点数为 $k$，则我们有 $n=k-2$。对于一个六边形，$k=6$，因此 $n=4$，相应的字符串长度为 $n+1=5$。\n\n一个包含 $m$ 个符号的字符串的完全括号化方式的数量是卡特兰数 $C_{m-1}$。因此，当 $m=5$ 时，数量为 $C_{4}$。卡特兰数的计算公式为\n$$\nC_{t}=\\frac{1}{t+1}\\binom{2t}{t}.\n$$\n代入 $t=4$ 得\n$$\nC_{4}=\\frac{1}{5}\\binom{8}{4}.\n$$\n计算二项式系数，\n$$\n\\binom{8}{4}=\\frac{8!}{4!\\,4!}=70,\n$$\n所以\n$$\nC_{4}=\\frac{1}{5}\\cdot 70=14.\n$$\n因此，一个凸六边形的不同三角剖分数量为 $14$。",
            "answer": "$$\\boxed{14}$$"
        }
    ]
}