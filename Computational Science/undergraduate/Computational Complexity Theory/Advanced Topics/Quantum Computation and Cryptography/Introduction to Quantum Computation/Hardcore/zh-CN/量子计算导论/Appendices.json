{
    "hands_on_practices": [
        {
            "introduction": "量子计算的基石是量子比特（qubit）以及作用于其上的量子门。本练习将带领你实践最基本的操作：如何通过矩阵运算追踪单个量子比特的状态演化。通过计算一个初始处于叠加态的量子比特经过泡利-Z门和哈达玛门的最终状态，你将熟悉量子计算的数学表示，并为理解更复杂的量子电路打下坚实的基础。",
            "id": "1429378",
            "problem": "在量子计算领域，一个单独的量子比特（qubit）可以通过一系列量子门来操控。量子比特的状态由一个二维复希尔伯特空间中的态矢量描述。标准的计算基态表示为 $|0\\rangle$ 和 $|1\\rangle$。\n\n考虑一个处于均匀叠加态的单量子比特，记为 $|\\psi_{in}\\rangle = \\frac{1}{\\sqrt{2}}(|0\\rangle + |1\\rangle)$。该量子比特接着经过一系列两个操作：首先，它通过一个泡利Z门，紧接着，它通过一个哈达玛门。\n\n为了计算，使用以下的列向量和矩阵表示：\n- 基态 $|0\\rangle$ 由向量 $\\begin{pmatrix} 1 \\\\ 0 \\end{pmatrix}$ 表示。\n- 基态 $|1\\rangle$ 由向量 $\\begin{pmatrix} 0 \\\\ 1 \\end{pmatrix}$ 表示。\n- 泡利Z门由矩阵 $Z = \\begin{pmatrix} 1  0 \\\\ 0  -1 \\end{pmatrix}$ 表示。\n- 哈达玛门由矩阵 $H = \\frac{1}{\\sqrt{2}}\\begin{pmatrix} 1  1 \\\\ 1  -1 \\end{pmatrix}$ 表示。\n\n确定经过这一系列操作后量子比特的最终状态。\n\nA. $|0\\rangle$\n\nB. $|1\\rangle$\n\nC. $\\frac{1}{\\sqrt{2}}(|0\\rangle + |1\\rangle)$\n\nD. $\\frac{1}{\\sqrt{2}}(|0\\rangle - |1\\rangle)$",
            "solution": "任务是确定一个量子比特在一系列门操作后的最终状态 $|\\psi_{final}\\rangle$。初始状态为 $|\\psi_{in}\\rangle = \\frac{1}{\\sqrt{2}}(|0\\rangle + |1\\rangle)$。操作序列包含一个泡利Z门，然后是一个哈达玛门。在量子力学中，算符是顺序作用的。如果先作用门 $G_1$，再作用门 $G_2$，则组合操作由矩阵乘积 $G_2 G_1$ 描述。因此，最终状态由 $|\\psi_{final}\\rangle = H Z |\\psi_{in}\\rangle$ 给出。\n\n首先，我们将初始状态 $|\\psi_{in}\\rangle$ 表示为其列向量形式。\n$$\n|\\psi_{in}\\rangle = \\frac{1}{\\sqrt{2}}(|0\\rangle + |1\\rangle) = \\frac{1}{\\sqrt{2}}\\left(\\begin{pmatrix} 1 \\\\ 0 \\end{pmatrix} + \\begin{pmatrix} 0 \\\\ 1 \\end{pmatrix}\\right) = \\frac{1}{\\sqrt{2}}\\begin{pmatrix} 1 \\\\ 1 \\end{pmatrix}\n$$\n\n接下来，我们将泡利Z门作用于初始状态 $|\\psi_{in}\\rangle$。我们称中间状态为 $|\\psi_{int}\\rangle$。\n$$\n|\\psi_{int}\\rangle = Z |\\psi_{in}\\rangle\n$$\n代入 $Z$ 的矩阵和 $|\\psi_{in}\\rangle$ 的向量：\n$$\n|\\psi_{int}\\rangle = \\begin{pmatrix} 1  0 \\\\ 0  -1 \\end{pmatrix} \\left( \\frac{1}{\\sqrt{2}}\\begin{pmatrix} 1 \\\\ 1 \\end{pmatrix} \\right) = \\frac{1}{\\sqrt{2}} \\begin{pmatrix} (1)(1) + (0)(1) \\\\ (0)(1) + (-1)(1) \\end{pmatrix} = \\frac{1}{\\sqrt{2}} \\begin{pmatrix} 1 \\\\ -1 \\end{pmatrix}\n$$\n这个中间状态可以用狄拉克符号写为 $|\\psi_{int}\\rangle = \\frac{1}{\\sqrt{2}}(|0\\rangle - |1\\rangle)$。\n\n现在，我们将哈达玛门作用于中间状态 $|\\psi_{int}\\rangle$ 以得到最终状态 $|\\psi_{final}\\rangle$。\n$$\n|\\psi_{final}\\rangle = H |\\psi_{int}\\rangle\n$$\n代入 $H$ 的矩阵和 $|\\psi_{int}\\rangle$ 的向量：\n$$\n|\\psi_{final}\\rangle = \\left( \\frac{1}{\\sqrt{2}}\\begin{pmatrix} 1  1 \\\\ 1  -1 \\end{pmatrix} \\right) \\left( \\frac{1}{\\sqrt{2}}\\begin{pmatrix} 1 \\\\ -1 \\end{pmatrix} \\right)\n$$\n我们可以先将标量因子相乘：$\\frac{1}{\\sqrt{2}} \\times \\frac{1}{\\sqrt{2}} = \\frac{1}{2}$。然后我们进行矩阵-向量乘法：\n$$\n|\\psi_{final}\\rangle = \\frac{1}{2} \\begin{pmatrix} (1)(1) + (1)(-1) \\\\ (1)(1) + (-1)(-1) \\end{pmatrix} = \\frac{1}{2} \\begin{pmatrix} 1 - 1 \\\\ 1 + 1 \\end{pmatrix} = \\frac{1}{2} \\begin{pmatrix} 0 \\\\ 2 \\end{pmatrix} = \\begin{pmatrix} 0 \\\\ 1 \\end{pmatrix}\n$$\n得到的列向量 $\\begin{pmatrix} 0 \\\\ 1 \\end{pmatrix}$ 对应于基态 $|1\\rangle$。\n\n因此，量子比特的最终状态是 $|1\\rangle$。将此结果与给定选项进行比较：\nA. $|0\\rangle$\nB. $|1\\rangle$\nC. $\\frac{1}{\\sqrt{2}}(|0\\rangle + |1\\rangle)$\nD. $\\frac{1}{\\sqrt{2}}(|0\\rangle - |1\\rangle)$\n\n正确选项是 B。",
            "answer": "$$\\boxed{B}$$"
        },
        {
            "introduction": "掌握了单量子比特操作后，我们将进入多量子比特系统的世界。这个练习展示了量子电路设计的一个核心思想：如何用一组基本量子门来构建更复杂的功能。你将通过组合三个受控非门（CNOT）来构造一个可以交换两个量子比特状态的SWAP门，这不仅是一个重要的实用工具，也深刻体现了量子门组合的力量。",
            "id": "1429338",
            "problem": "在量子计算中，一个双量子比特系统由一个四维复向量空间中的状态向量描述。该空间的标准基，称为计算基，是状态集合 $\\{|00\\rangle, |01\\rangle, |10\\rangle, |11\\rangle\\}$。对这些量子比特的操作由作用于这些状态向量的酉矩阵表示。\n\n受控非门（CNOT）门是一个基本的双量子比特门。我们将 CNOT$_{ij}$ 表示为以量子比特 $i$ 为控制位、量子比特 $j$ 为目标位的 CNOT 门。在有序基 $(|00\\rangle, |01\\rangle, |10\\rangle, |11\\rangle)$ 中，CNOT$_{12}$（量子比特 1 为控制位，量子比特 2 为目标位）和 CNOT$_{21}$（量子比特 2 为控制位，量子比特 1 为目标位）的矩阵表示为：\n$$ U_{CNOT_{12}} = \\begin{pmatrix} 1  0  0  0 \\\\ 0  1  0  0 \\\\ 0  0  0  1 \\\\ 0  0  1  0 \\end{pmatrix} $$\n$$ U_{CNOT_{21}} = \\begin{pmatrix} 1  0  0  0 \\\\ 0  0  0  1 \\\\ 0  0  1  0 \\\\ 0  1  0  0 \\end{pmatrix} $$\n\n一位实验人员希望通过应用一系列门来执行一个特定的双量子比特操作。该序列如下：\n1. 首先，应用一个 CNOT$_{12}$ 门。\n2. 其次，应用一个 CNOT$_{21}$ 门。\n3. 第三，再应用一个 CNOT$_{12}$ 门。\n\n总操作是个别门矩阵的矩阵乘积。对于按顺序应用的矩阵为 $U_1, U_2, U_3$ 的门序列，复合算符为 $U_{total} = U_3 U_2 U_1$。\n\n确定代表这整个操作序列的 4x4 酉矩阵，该矩阵在相同的有序计算基 $(|00\\rangle, |01\\rangle, |10\\rangle, |11\\rangle)$ 中表示。",
            "solution": "我们将给定的矩阵标记为 $U_{12}$ 代表 CNOT$_{12}$，$U_{21}$ 代表 CNOT$_{21}$，其中\n$$\nU_{12}=\\begin{pmatrix}\n1  0  0  0 \\\\\n0  1  0  0 \\\\\n0  0  0  1 \\\\\n0  0  1  0\n\\end{pmatrix},\\quad\nU_{21}=\\begin{pmatrix}\n1  0  0  0 \\\\\n0  0  0  1 \\\\\n0  0  1  0 \\\\\n0  1  0  0\n\\end{pmatrix}.\n$$\n对于序列“先 $U_{12}$，再 $U_{21}$，再 $U_{12}$”的总操作是\n$$\nU_{\\text{total}}=U_{12}\\,U_{21}\\,U_{12}.\n$$\n\n计算 $U_{\\text{total}}$ 的一种方法是通过它在计算基上的作用。让我们追踪每个基态通过这个序列的过程：\n- 从 $\\lvert 00\\rangle$ 开始。应用 $U_{12}$ 不会改变它（因为控制位是 $0$），得到 $\\lvert 00\\rangle$。应用 $U_{21}$ 不会改变它（因为控制位是 $0$），得到 $\\lvert 00\\rangle$。再次应用 $U_{12}$ 仍然不会改变它。因此 $\\lvert 00\\rangle\\mapsto\\lvert 00\\rangle$。\n- 从 $\\lvert 01\\rangle$ 开始。应用 $U_{12}$ 不会改变它（控制位是 $0$），得到 $\\lvert 01\\rangle$。应用 $U_{21}$ 会翻转第一个量子比特（控制位是 $1$），得到 $\\lvert 11\\rangle$。应用 $U_{12}$ 会翻转第二个量子比特（控制位是 $1$），得到 $\\lvert 10\\rangle$。因此 $\\lvert 01\\rangle\\mapsto\\lvert 10\\rangle$。\n- 从 $\\lvert 10\\rangle$ 开始。应用 $U_{12}$ 会翻转第二个量子比特（控制位是 $1$），得到 $\\lvert 11\\rangle$。应用 $U_{21}$ 会翻转第一个量子比特（控制位是 $1$），得到 $\\lvert 01\\rangle$。应用 $U_{12}$ 不会改变它（控制位是 $0$），得到 $\\lvert 01\\rangle$。因此 $\\lvert 10\\rangle\\mapsto\\lvert 01\\rangle$。\n- 从 $\\lvert 11\\rangle$ 开始。应用 $U_{12}$ 会翻转第二个量子比特（控制位是 $1$），得到 $\\lvert 10\\rangle$。应用 $U_{21}$ 不会改变它（控制位是 $0$），得到 $\\lvert 10\\rangle$。应用 $U_{12}$ 会翻转第二个量子比特（控制位是 $1$），得到 $\\lvert 11\\rangle$。因此 $\\lvert 11\\rangle\\mapsto\\lvert 11\\rangle$。\n\n因此，在有序基 $(\\lvert 00\\rangle,\\lvert 01\\rangle,\\lvert 10\\rangle,\\lvert 11\\rangle)$ 中，复合算符根据 $\\lvert 00\\rangle\\mapsto\\lvert 00\\rangle$，$\\lvert 01\\rangle\\mapsto\\lvert 10\\rangle$，$\\lvert 10\\rangle\\mapsto\\lvert 01\\rangle$，$\\lvert 11\\rangle\\mapsto\\lvert 11\\rangle$ 来置换基向量，这正是 SWAP 操作。相应的矩阵的列等于基态的像：\n$$\nU_{\\text{total}}=\\begin{pmatrix}\n1  0  0  0 \\\\\n0  0  1  0 \\\\\n0  1  0  0 \\\\\n0  0  0  1\n\\end{pmatrix}.\n$$\n\n等价地，可以通过直接的矩阵乘法进行验证。我们先计算乘积 $P=U_{21}U_{12}$：\n$$\nP=U_{21}U_{12}=\\begin{pmatrix}\n1  0  0  0 \\\\\n0  0  1  0 \\\\\n0  0  0  1 \\\\\n0  1  0  0\n\\end{pmatrix}.\n$$\n那么\n$$\nU_{\\text{total}}=U_{12}P=\\begin{pmatrix}\n1  0  0  0 \\\\\n0  0  1  0 \\\\\n0  1  0  0 \\\\\n0  0  0  1\n\\end{pmatrix},\n$$\n与基于基映射的推导结果一致。",
            "answer": "$$\\boxed{\\begin{pmatrix} 1  0  0  0 \\\\ 0  0  1  0 \\\\ 0  1  0  0 \\\\ 0  0  0  1 \\end{pmatrix}}$$"
        },
        {
            "introduction": "量子计算的一个本质特征是其可逆性，这与许多经典逻辑门的不可逆性形成对比。本练习旨在弥合经典计算与量子计算之间的鸿沟，探索如何在量子力学的可逆框架下实现经典逻辑功能。通过使用托福利门（Toffoli gate）和辅助量子比特来构建一个逻辑或门（OR gate），你将直面“反向计算”（uncomputation）等关键概念，这是设计量子算法时必须解决的核心问题。",
            "id": "1429319",
            "problem": "在可逆计算领域，经典逻辑门必须实现为不丢失信息的幺正量子操作。考虑一个由两个输入量子比特 `q_1` 和 `q_2` 以及一个辅助（ancilla）量子比特 `q_a` 组成的三量子比特量子寄存器。输入量子比特分别被制备在计算基态 $|x\\rangle$ 和 $|y\\rangle$ 上，其中 `x, y \\in \\{0, 1\\}`。辅助量子比特被初始化到一个特定状态 $|z_0\\rangle$。\n\n您的任务是构建一个实现经典逻辑或（OR）门的可逆量子电路。这意味着系统的最终状态必须是 $|x, y, x \\lor y\\rangle$，其中 `\\lor` 代表逻辑或运算。该电路必须使输入量子比特 `q_1` 和 `q_2` 保持其原始状态 $|x\\rangle$ 和 $|y\\rangle$。\n\n您可以使用以下门：\n- 泡利-X门（或非门），其对基态 $|b\\rangle$ 的作用是 `X|b = |1-b`。\n- 双量子比特受控非门（CNOT门），当控制量子比特为 $|1\\rangle$ 时，它会翻转目标量子比特。\n- 三量子比特托福利门（或CCNOT门），其对基态 $|c_1, c_2, t\\rangle$ 的作用是 `T|c_1, c_2, t = |c_1, c_2, t \\oplus (c_1 \\land c_2)`，其中 `\\oplus` 是模2加法（异或），`\\land` 是逻辑与。\n\n以下哪种辅助量子比特初始化 $z_0$ 和顺序门操作的组合正确实现了所需的变化 $|x, y, z_0\\rangle \\to |x, y, x \\lor y\\rangle$？\n\nA. 辅助量子比特初始化为 $|1\\rangle$（即 $z_0=1$）。门操作序列为：\n   1. 对 `q_1` 应用泡利-X门。\n   2. 对 `q_2` 应用泡利-X门。\n   3. 应用托福利门，以 `q_1`、`q_2` 为控制位，`q_a` 为目标位。\n   4. 对 `q_1` 应用泡利-X门。\n   5. 对 `q_2` 应用泡利-X门。\n\nB. 辅助量子比特初始化为 $|0\\rangle$（即 $z_0=0$）。门操作序列为：\n   1. 对 `q_1` 应用泡利-X门。\n   2. 对 `q_2` 应用泡利-X门。\n   3. 应用托福利门，以 `q_1`、`q_2` 为控制位，`q_a` 为目标位。\n\nC. 辅助量子比特初始化为 $|0\\rangle$（即 $z_0=0$）。门操作序列为：\n   1. 应用托福利门，以 `q_1`、`q_2` 为控制位，`q_a` 为目标位。\n\nD. 辅助量子比特初始化为 $|1\\rangle$（即 $z_0=1$）。门操作序列为：\n   1. 应用CNOT门，以 `q_1` 为控制位，`q_a` 为目标位。\n   2. 应用CNOT门，以 `q_2` 为控制位，`q_a` 为目标位。\n   3. 应用托福利门，以 `q_1`、`q_2` 为控制位，`q_a` 为目标位。\n\nE. 辅助量子比特初始化为 $|1\\rangle$（即 $z_0=1$）。门操作序列为：\n   1. 应用托福利门，以 `q_1`、`q_2` 为控制位，`q_a` 为目标位。",
            "solution": "我们需要一个可逆实现，将三量子比特基态 $|x,y,z_{0}\\rangle$ 映射到 $|x,y,x \\lor y\\rangle$，同时保持输入量子比特不变。允许使用的门的作用如下：\n- 对处于状态 $|b\\rangle$ 的量子比特应用 $X$ 门，得到 $|1-b\\rangle$。\n- 以 $c$ 为控制位、$t$ 为目标位的 $\\mathrm{CNOT}$ 门将目标比特映射为 $t \\mapsto t \\oplus c$。\n- 以 $c_{1},c_{2}$ 为控制位、$t$ 为目标位的托福利门将目标比特映射为 $t \\mapsto t \\oplus (c_{1} \\land c_{2})$。\n\n我们通过追踪输入比特 $(x,y)$ 和辅助量子比特 $z$ 来分析每个选项。\n\n选项 A：$z_{0}=1$；序列为：对 $q_{1}$ 应用 $X$ 门，对 $q_{2}$ 应用 $X$ 门，托福利门 $(q_{1},q_{2} \\rightarrow q_{a})$，然后对 $q_{1}$ 应用 $X$ 门，对 $q_{2}$ 应用 $X$ 门。\n- 初始状态：$|x,y,1\\rangle$。\n- 对 $q_{1},q_{2}$ 应用 $X$ 门后：输入变为 $1-x$ 和 $1-y$，因此状态为 $|1-x,1-y,1\\rangle$。\n- 托福利门通过异或运算将 $(1-x)\\land(1-y)$ 加到目标位上：$z \\mapsto 1 \\oplus \\big((1-x)\\land(1-y)\\big)$。\n- 在对 $q_{1},q_{2}$ 应用最后的 $X$ 门后，输入恢复为 $x,y$；由于这些最后的 $X$ 门不作用于 $q_{a}$，目标位不变。\n- 简化目标位：\n$$\n1 \\oplus \\big((1-x)\\land(1-y)\\big) \\;=\\; \\lnot\\big((1-x)\\land(1-y)\\big) \\;=\\; x \\lor y,\n$$\n这里使用了 $a \\oplus 1=\\lnot a$ 和德摩根定律。因此最终状态是 $|x,y,x \\lor y\\rangle$。选项 A 是正确的。\n\n选项 B：$z_{0}=0$；序列为：对 $q_{1}$ 应用 $X$ 门，对 $q_{2}$ 应用 $X$ 门，托福利门 $(q_{1},q_{2} \\rightarrow q_{a})$。\n- 在两个 $X$ 门之后，输入为 $1-x,1-y$；目标位仍然是 $0$。\n- 托福利门将 $z$ 更新为 $0 \\oplus \\big((1-x)\\land(1-y)\\big)=\\lnot x \\land \\lnot y=\\lnot(x \\lor y)$。\n- 输入保持翻转状态（没有反向计算），所以最终状态是 $|1-x,1-y,\\lnot(x \\lor y)\\rangle$，这既没有保持输入，也没有得到 $x \\lor y$。选项 B 是错误的。\n\n选项 C：$z_{0}=0$；序列为：托福利门 $(q_{1},q_{2} \\rightarrow q_{a})$。\n- 目标位变为 $0 \\oplus (x \\land y)=x \\land y$，这是逻辑与，而不是逻辑或。\n- 输入被保留，但目标位是错误的。选项 C 是错误的。\n\n选项 D：$z_{0}=1$；序列为：$\\mathrm{CNOT}(q_{1}\\rightarrow q_{a})$，$\\mathrm{CNOT}(q_{2}\\rightarrow q_{a})$，托福利门 $(q_{1},q_{2} \\rightarrow q_{a})$。\n- 在两个CNOT门之后，目标位是 $1 \\oplus x \\oplus y$；输入不变。\n- 然后托福利门使 $z \\mapsto 1 \\oplus x \\oplus y \\oplus (x \\land y)=1 \\oplus \\big(x \\oplus y \\oplus (x \\land y)\\big)=1 \\oplus (x \\lor y)=\\lnot(x \\lor y)$，这里使用了 $x \\oplus y \\oplus (x \\land y)=x \\lor y$。\n- 结果是逻辑或非（NOR），而不是逻辑或（OR）。选项 D 是错误的。\n\n选项 E：$z_{0}=1$；序列为：托福利门 $(q_{1},q_{2} \\rightarrow q_{a})$。\n- 目标位变为 $1 \\oplus (x \\land y)=\\lnot(x \\land y)$，即逻辑与非（NAND），而不是逻辑或（OR）。选项 E 是错误的。\n\n因此，只有选项A在保持输入不变的情况下实现了所需的 $|x,y,z_{0}\\rangle \\to |x,y,x \\lor y\\rangle$ 变换。",
            "answer": "$$\\boxed{A}$$"
        }
    ]
}