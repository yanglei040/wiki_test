{
    "hands_on_practices": [
        {
            "introduction": "The relationship between the complexity classes $NP$ and $coNP$ is one of the most fundamental open questions in theoretical computer science. This first practice invites you to explore the direct consequences of a hypothetical breakthrough where these two classes are proven to be equal. By working through this problem , you will see how a collapse at the very first level of the polynomial hierarchy, where $\\Sigma_1^p = \\Pi_1^p$, creates a domino effect that causes the entire infinite structure to fold onto itself.",
            "id": "1416429",
            "problem": "In computational complexity theory, the Polynomial Hierarchy (PH) provides a way to classify problems based on the complexity of the logical quantifiers needed to express them. The hierarchy is built in levels. The base is $\\Sigma_0^p = \\Pi_0^p = P$, the class of problems solvable in polynomial time. For $k \\ge 0$, the higher levels are defined recursively:\n- $\\Sigma_{k+1}^p$ is the class of languages decidable by a nondeterministic polynomial-time Turing machine with access to an oracle for any problem in $\\Sigma_k^p$. This class is often denoted as $\\text{NP}^{\\Sigma_k^p}$.\n- $\\Pi_{k+1}^p$ is the class of languages whose complements are in $\\Sigma_{k+1}^p$. This is equivalent to $\\text{coNP}^{\\Sigma_k^p}$.\n\nThe first level, $\\Sigma_1^p$, is the class of problems with a \"there exists\" quantifier, which is simply Nondeterministic Polynomial time (NP). Its complement class, $\\Pi_1^p$, is coNP. The entire Polynomial Hierarchy is the union of all these levels: $PH = \\bigcup_{k \\ge 0} \\Sigma_k^p$.\n\nNow, suppose a researcher makes a monumental, hypothetical discovery: they prove that for any language $L$ in NP, its complement $\\bar{L}$ is also in NP. This would imply that the classes NP and coNP are identical. If this assumption ($NP = coNP$) is true, the structure of the Polynomial Hierarchy is dramatically simplified.\n\nWhich of the following well-known complexity classes would PH be proven to be equal to under this assumption?\n\nA. P\n\nB. NP\n\nC. PSPACE\n\nD. EXPTIME\n\nE. The Polynomial Hierarchy would not collapse and would remain an infinite hierarchy of distinct classes.",
            "solution": "We begin with the standard quantifier characterization of the polynomial hierarchy. A language $L$ is in $\\Sigma_{k}^{p}$ if there exists a polynomial-time decidable predicate $R$ and a polynomial $p$ such that\n$$\nx \\in L \\iff \\exists y_{1}, |y_{1}| \\le p(|x|)\\ \\forall y_{2}, |y_{2}| \\le p(|x|)\\ \\exists y_{3}, |y_{3}| \\le p(|x|)\\ \\cdots\\ Q_{k} y_{k}, |y_{k}| \\le p(|x|)\\ R(x,y_{1},\\ldots,y_{k}) = 1,\n$$\nwhere the quantifiers alternate and $Q_{k}$ is $\\exists$ if $k$ is odd and $\\forall$ if $k$ is even. Similarly, $\\Pi_{k}^{p}$ starts with a universal quantifier and alternates.\n\nAssume $NP = coNP$. Then $\\Sigma_{1}^{p} = \\Pi_{1}^{p}$.\n\nFirst, we show that $\\Sigma_{2}^{p} \\subseteq NP$. Let $L \\in \\Sigma_{2}^{p}$. Then there exist polynomial $p$ and polynomial-time predicate $R$ such that\n$$\nx \\in L \\iff \\exists y,\\ |y| \\le p(|x|)\\ \\forall z,\\ |z| \\le p(|x|)\\ R(x,y,z) = 1.\n$$\nDefine the predicate\n$$\nA(x,y) \\iff \\forall z,\\ |z| \\le p(|x|)\\ R(x,y,z) = 1.\n$$\nIts complement is\n$$\n\\neg A(x,y) \\iff \\exists z,\\ |z| \\le p(|x|)\\ \\big(R(x,y,z) = 0\\big),\n$$\nwhich is an $NP$ property because it asserts the existence of a short witness $z$ verifiable in polynomial time. Hence $A(x,y) \\in coNP$. By the assumption $NP = coNP$, we have $A(x,y) \\in NP$. Therefore,\n$$\nx \\in L \\iff \\exists y,\\ |y| \\le p(|x|)\\ A(x,y).\n$$\nSince $A \\in NP$, there exists a polynomial-time predicate $P$ and a polynomial $q$ such that\n$$\nA(x,y) \\iff \\exists w,\\ |w| \\le q(|x|+|y|)\\ P(x,y,w) = 1.\n$$\nThus\n$$\nx \\in L \\iff \\exists y,\\ |y| \\le p(|x|)\\ \\exists w,\\ |w| \\le q(|x|+|y|)\\ P(x,y,w) = 1.\n$$\nCombining $(y,w)$ into a single witness $u$ of polynomial length and noting that $P$ is polynomial-time decidable yields\n$$\nx \\in L \\iff \\exists u,\\ |u| \\le r(|x|)\\ P'(x,u) = 1\n$$\nfor some polynomial $r$ and polynomial-time predicate $P'$. Hence $L \\in NP$. Since $NP = \\Sigma_{1}^{p} \\subseteq \\Sigma_{2}^{p}$, we conclude $\\Sigma_{2}^{p} = NP$.\n\nWe now generalize by induction to all levels. Suppose for some $k \\ge 1$ that $\\Sigma_{k}^{p} = NP$. Then $\\Pi_{k}^{p} = \\text{co}\\Sigma_{k}^{p} = coNP = NP$ by the assumption. Consider $L \\in \\Sigma_{k+1}^{p}$. By the quantifier characterization,\n$$\nx \\in L \\iff \\exists y,\\ |y| \\le p(|x|)\\ B(x,y),\n$$\nwhere $B(\\cdot,\\cdot) \\in \\Pi_{k}^{p}$. Since $\\Pi_{k}^{p} = NP$ under the induction hypothesis and $NP = coNP$, we have $B \\in NP$. As above, an existential quantifier over an $NP$ predicate collapses to $NP$ by bundling witnesses, so $L \\in NP$. Therefore $\\Sigma_{k+1}^{p} \\subseteq NP$, and since $NP \\subseteq \\Sigma_{k+1}^{p}$, we get $\\Sigma_{k+1}^{p} = NP$.\n\nBy induction, for all $k \\ge 1$, $\\Sigma_{k}^{p} = \\Pi_{k}^{p} = NP$. Consequently,\n$$\nPH = \\bigcup_{k \\ge 0} \\Sigma_{k}^{p} = NP.\n$$\nThus, under the assumption $NP = coNP$, the polynomial hierarchy collapses to $NP$, which corresponds to option B.",
            "answer": "$$\\boxed{B}$$"
        },
        {
            "introduction": "Complete problems act as the 'hardest' problems within a complexity class, and their properties can define the entire class. This exercise  presents a powerful thought experiment: what if we found a surprisingly fast, polynomial-time algorithm for a problem known to be complete for the class $\\Pi_2^p$? This practice demonstrates how such a discovery would not just affect the second level of the hierarchy, but would cause a catastrophic collapse of all levels down to $P$, the class of efficiently solvable problems.",
            "id": "1416454",
            "problem": "In computational complexity theory, the Polynomial Hierarchy (PH) is a hierarchy of complexity classes that generalizes the classes P, NP, and coNP. The levels of the hierarchy are denoted by $\\Sigma_k^p$ and $\\Pi_k^p$ for $k \\ge 0$.\n\nA language is in $\\Sigma_k^p$ if it can be decided by a polynomial-time Turing machine with access to an oracle for a problem in $\\Sigma_{k-1}^p$. An equivalent definition for $k \\ge 1$ relates these classes to Quantified Boolean Formulas (QBF). A language is in $\\Sigma_k^p$ if membership of an instance $w$ can be expressed by a formula with $k$ alternating quantifiers starting with an existential quantifier: $\\exists \\vec{x_1} \\forall \\vec{x_2} \\dots Q \\vec{x_k} \\phi(w, \\vec{x_1}, \\dots, \\vec{x_k})$, where $\\phi$ is a polynomial-time computable predicate.\n\nSimilarly, a language is in $\\Pi_k^p$ if its membership can be expressed by a formula with $k$ alternating quantifiers starting with a universal quantifier: $\\forall \\vec{x_1} \\exists \\vec{x_2} \\dots Q \\vec{x_k} \\phi(w, \\vec{x_1}, \\dots, \\vec{x_k})$. Note that $\\Pi_k^p = \\text{co}\\Sigma_k^p$. The language consisting of all true QBFs with a $\\forall\\exists$ quantifier structure is a well-known $\\Pi_2^p$-complete problem.\n\nSuppose a computer scientist makes a breakthrough and discovers an algorithm that runs in polynomial time and correctly determines whether any given QBF of the form $\\forall \\vec{x} \\exists \\vec{y} \\, \\psi(\\vec{x}, \\vec{y})$ is true, where $\\psi$ is a Boolean formula.\n\nBased on the principles of computational complexity theory, what is the most significant and strongest consequence of this discovery?\n\nA. $P = NP$\n\nB. $NP = coNP$\n\nC. The Polynomial Hierarchy collapses to $\\Sigma_2^p$.\n\nD. The Polynomial Hierarchy collapses entirely to P.\n\nE. Such an algorithm is impossible to create, as it has been mathematically proven that $P \\neq \\Pi_2^p$.",
            "solution": "We are given a polynomial-time algorithm for the language of true quantified Boolean formulas of the form $\\forall \\vec{x} \\exists \\vec{y}\\,\\psi(\\vec{x},\\vec{y})$. This language is $\\Pi_{2}^{p}$-complete under polynomial-time many-one reductions.\n\nBy completeness, for every language $L \\in \\Pi_{2}^{p}$ there exists a polynomial-time computable function $f$ such that for all inputs $w$,\n$$\nw \\in L \\iff f(w) \\in \\text{QBF}_{\\forall\\exists}.\n$$\nSince $\\text{QBF}_{\\forall\\exists} \\in P$ by the assumed algorithm, it follows that $L \\in P$. Hence\n$$\n\\Pi_{2}^{p} \\subseteq P.\n$$\nBecause $P \\subseteq \\Pi_{2}^{p}$ (indeed $P \\subseteq \\Sigma_{k}^{p} \\cap \\Pi_{k}^{p}$ for all $k$), we obtain\n$$\n\\Pi_{2}^{p} = P.\n$$\nSince $\\Sigma_{2}^{p} = \\text{co}\\Pi_{2}^{p}$ and $P$ is closed under complement, we also have\n$$\n\\Sigma_{2}^{p} = P.\n$$\n\nWe now propagate this collapse up the hierarchy. Using the oracle characterization,\n$$\n\\Sigma_{k+1}^{p} = \\text{NP}^{\\Sigma_{k}^{p}}, \\quad \\Pi_{k+1}^{p} = \\text{co}\\Sigma_{k+1}^{p}.\n$$\nWith $\\Sigma_{2}^{p} = P$, we get\n$$\n\\Sigma_{3}^{p} = \\text{NP}^{P} = NP.\n$$\nBut $NP \\subseteq \\Sigma_{2}^{p} = P$ implies $NP = P$, and thus\n$$\n\\Sigma_{3}^{p} = P, \\quad \\Pi_{3}^{p} = P.\n$$\nInductively, for all $k \\ge 3$,\n$$\n\\Sigma_{k}^{p} = \\text{NP}^{\\Sigma_{k-1}^{p}} = \\text{NP}^{P} = NP = P, \\quad \\Pi_{k}^{p} = P.\n$$\nTherefore the entire polynomial hierarchy collapses to\n$$\nPH = \\bigcup_{k \\ge 0} \\Sigma_{k}^{p} = P.\n$$\n\nConsequently, the most significant and strongest consequence is that the Polynomial Hierarchy collapses entirely to P. This strictly implies $P = NP$ and $NP = coNP$ and is stronger than a collapse merely to $\\Sigma_{2}^{p}$. Option E is incorrect because no such separation has been proven.",
            "answer": "$$\\boxed{D}$$"
        },
        {
            "introduction": "The levels of the polynomial hierarchy are formally defined using oracle machines, which provide a powerful way to reason about relative computational power. This final practice  delves into this perspective by considering what would happen if an oracle for the $NP$-complete problem $3SAT$ provided no additional power to a non-deterministic machine. This scenario directly tests your understanding of the oracle definition $\\Sigma_2^p = NP^{NP}$ and reveals how equality between adjacent levels of the hierarchy leads to its collapse.",
            "id": "1416452",
            "problem": "In computational complexity theory, the Polynomial Hierarchy (PH) is a hierarchy of complexity classes that generalizes the classes P, NP, and coNP. The levels of the hierarchy are denoted by $\\Sigma_k^p$, $\\Pi_k^p$, and $\\Delta_k^p$ for integers $k \\ge 0$. The hierarchy begins with $\\Sigma_0^p = \\Pi_0^p = P$. For $k \\ge 1$, the class $\\Sigma_k^p$ is defined as the set of languages decidable by a non-deterministic polynomial-time Turing machine with access to an oracle for a problem in $\\Sigma_{k-1}^p$. We can write this formally as $\\Sigma_k^p = NP^{\\Sigma_{k-1}^p}$. The first level above P includes the important classes $NP = \\Sigma_1^p$ and $coNP = \\Pi_1^p$.\n\nThe 3-Satisfiability problem (3SAT) is a canonical problem that is known to be $NP$-complete. This means any problem in the class NP can be reduced to 3SAT in polynomial time, and 3SAT itself is in NP.\n\nSuppose a hypothetical breakthrough in theoretical computer science establishes that providing a non-deterministic polynomial-time Turing machine with an oracle for 3SAT does not grant it any additional computational power beyond what it already has. In other words, assume it is proven that $NP^{3SAT} = NP$.\n\nThis result would imply that the Polynomial Hierarchy does not consist of infinitely many distinct levels, but instead \"collapses\" to a finite level. Based on the premise $NP^{3SAT} = NP$, to which of the following complexity classes does the entire Polynomial Hierarchy become equal?\n\nA. $P$\n\nB. $\\Sigma_2^p \\cap \\Pi_2^p$\n\nC. $NP \\cap coNP$\n\nD. $NP$\n\nE. $\\Sigma_2^p$",
            "solution": "We use the standard definitions of the polynomial hierarchy and oracle machines:\n1) For all integers $k \\ge 1$, by definition,\n$$\n\\Sigma_{k}^{p} = NP^{\\Sigma_{k-1}^{p}}.\n$$\nIn particular, $\\Sigma_{1}^{p} = NP$ and $\\Sigma_{2}^{p} = NP^{\\Sigma_{1}^{p}} = NP^{NP}$.\n\n2) Since $3SAT$ is $NP$-complete under polynomial-time many-one reductions and $3SAT \\in NP$, an $NP$ machine with an oracle for $3SAT$ can simulate an $NP$ oracle and vice versa. Formally:\n- Because $3SAT \\in NP$, we have the inclusion\n$$\nNP^{3SAT} \\subseteq NP^{NP} = \\Sigma_{2}^{p}.\n$$\n- Because $3SAT$ is $NP$-complete, every query to any language in $NP$ can be reduced in polynomial time to a single query to $3SAT$. Therefore,\n$$\nNP^{NP} \\subseteq NP^{3SAT}.\n$$\nCombining these, we obtain\n$$\nNP^{3SAT} = NP^{NP} = \\Sigma_{2}^{p}.\n$$\n\n3) The hypothesis states $NP^{3SAT} = NP$. Using the equality from step 2, this gives\n$$\n\\Sigma_{2}^{p} = NP.\n$$\n\n4) Collapse of the hierarchy:\nIf for some $k \\ge 1$ we have $\\Sigma_{k}^{p} = \\Sigma_{k-1}^{p}$, then for all $t \\ge 0$,\n$$\n\\Sigma_{k+t}^{p} = NP^{\\Sigma_{k+t-1}^{p}} = NP^{\\Sigma_{k-1}^{p}} = \\Sigma_{k}^{p} = \\Sigma_{k-1}^{p}.\n$$\nHence all higher $\\Sigma$-levels collapse to $\\Sigma_{k-1}^{p}$. Since $PH = \\bigcup_{j \\ge 0} \\Sigma_{j}^{p}$, it follows that\n$$\nPH = \\Sigma_{k-1}^{p}.\n$$\nApplying this with $k=2$ and $\\Sigma_{2}^{p} = NP$ from step 3, we conclude\n$$\nPH = NP.\n$$\n\nTherefore, under the premise $NP^{3SAT} = NP$, the entire polynomial hierarchy equals $NP$, which corresponds to option D.",
            "answer": "$$\\boxed{D}$$"
        }
    ]
}