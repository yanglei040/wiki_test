{
    "hands_on_practices": [
        {
            "introduction": "MAX-3SAT 的 7/8 阈值之所以重要，是因为一个简单的随机算法就能在期望上达到这个界限。本练习 () 将通过引导您完成一个确定性算法的第一步，来揭示这一过程的奥秘，该算法运用了条件期望法。通过亲手计算期望结果，您将具体理解我们如何在不依赖随机性的情况下保证 7/8 的近似率。",
            "id": "1428172",
            "problem": "最大3-可满足性 (MAX-3SAT) 问题要求为一组布尔变量找到一个真值赋值，以最大化一个给定的3-合取范式 (3-CNF) 公式中被满足的子句数量。一个3-CNF公式是由AND运算符 ($\\land$) 连接的子句集合，其中每个子句由OR运算符 ($\\lor$) 连接的恰好三个文字组成，而一个文字可以是一个变量或其否定。\n\n考虑一个解决该问题的简单随机算法：对每个变量，以0.5的概率赋值为`true`，以0.5的概率赋值为`false`，且与其他所有变量独立。已知该算法在期望上能满足总子句数的 $7/8$。\n\n我们可以设计一个确定性过程，其性能至少能达到这个水平。该过程按顺序为变量 $x_1, x_2, \\ldots, x_n$ 赋真值。对于第一个变量 $x_1$，它计算在两种情况下被满足子句的总期望数：一种是假设 $x_1$ 被设为 `true`，另一种是假设 $x_1$ 被设为 `false`。在这两种情况下，剩余的变量 $x_2, \\ldots, x_n$ 仍被视为随机的（即，每个都以0.5的概率被赋值为`true`或`false`）。然后，该过程将 $x_1$ 永久地设置为能产生更大期望满足子句数的那个值。如果出现平局，则将变量设置为 `true`。然后对 $x_2$ 重复此过程，这取决于为 $x_1$ 选择的值，并以此类推对所有变量进行操作。\n\n给定以下包含四个变量和四个子句的3-CNF公式 $\\phi$：\n$$ \\phi = (x_1 \\lor x_2 \\lor \\neg x_3) \\land (\\neg x_1 \\lor \\neg x_2 \\lor x_4) \\land (x_1 \\lor \\neg x_3 \\lor \\neg x_4) \\land (\\neg x_1 \\lor x_2 \\lor x_3) $$\n\n根据所描述的确定性过程的第一步，以下哪个陈述是正确的？\n\nA. $x_1$ 被设置为 `true`，新的期望满足子句数为 3.25。\n\nB. $x_1$ 被设置为 `true`，新的期望满足子句数为 3.5。\n\nC. $x_1$ 被设置为 `false`，新的期望满足子句数为 3.25。\n\nD. $x_1$ 被设置为 `false`，新的期望满足子句数为 3.5。\n\nE. 该过程无法在第一步中确定 $x_1$ 的值。",
            "solution": "问题要求我们通过应用一个确定性过程的第一步，来确定变量 $x_1$ 的设置以及由此产生的期望满足子句数。这个过程是条件期望法的一个应用。\n\n设四个子句表示为：\n$C_1 = x_1 \\lor x_2 \\lor \\neg x_3$\n$C_2 = \\neg x_1 \\lor \\neg x_2 \\lor x_4$\n$C_3 = x_1 \\lor \\neg x_3 \\lor \\neg x_4$\n$C_4 = \\neg x_1 \\lor x_2 \\lor x_3$\n\n设 $S$ 是表示满足子句总数的随机变量。我们想计算条件期望 $E[S | x_1=\\text{true}]$ 和 $E[S | x_1=\\text{false}]$。剩余的变量 $x_2, x_3, x_4$ 被假定为随机的，每个都以0.5的概率取值为 `true` 或 `false`。\n\n根据期望的线性性质，期望满足子句数是每个子句被满足的概率之和。设 $S_i$ 为一个指示变量，如果子句 $C_i$ 被满足，则为1，否则为0。那么 $S = S_1 + S_2 + S_3 + S_4$，且 $E[S | \\cdot] = \\sum_{i=1}^4 E[S_i | \\cdot] = \\sum_{i=1}^4 P(C_i \\text{ is satisfied } | \\cdot)$。\n\n首先，我们计算在 $x_1$ 被设置为 `true` 的条件下，期望满足的子句数。\n$E[S | x_1=\\text{true}] = \\sum_{i=1}^4 P(C_i \\text{ is satisfied } | x_1=\\text{true})$\n\n-   对于 $C_1 = x_1 \\lor x_2 \\lor \\neg x_3$：由于 $x_1$ 为真，无论 $x_2$ 和 $x_3$ 的值如何，该子句都被满足。所以，$P(C_1 \\text{ is satisfied } | x_1=\\text{true}) = 1$。\n-   对于 $C_2 = \\neg x_1 \\lor \\neg x_2 \\lor x_4$：当 $x_1=\\text{true}$ 时，该子句变为 $\\text{false} \\lor \\neg x_2 \\lor x_4$，简化为 $\\neg x_2 \\lor x_4$。只有当 $\\neg x_2$ 和 $x_4$ 都为假时，该子句才不被满足，这意味着 $x_2=\\text{true}$ 且 $x_4=\\text{false}$。由于 $x_2$ 和 $x_4$ 是独立的随机变量，此事件的概率为 $P(x_2=\\text{true}) \\times P(x_4=\\text{false}) = (1/2) \\times (1/2) = 1/4$。该子句被满足的概率是 $1 - 1/4 = 3/4$。\n-   对于 $C_3 = x_1 \\lor \\neg x_3 \\lor \\neg x_4$：由于 $x_1$ 为真，该子句被满足。所以，$P(C_3 \\text{ is satisfied } | x_1=\\text{true}) = 1$。\n-   对于 $C_4 = \\neg x_1 \\lor x_2 \\lor x_3$：当 $x_1=\\text{true}$ 时，该子句变为 $\\text{false} \\lor x_2 \\lor x_3$，简化为 $x_2 \\lor x_3$。只有当 $x_2$ 和 $x_3$ 都为假时，该子句才不被满足。此事件的概率为 $P(x_2=\\text{false}) \\times P(x_3=\\text{false}) = (1/2) \\times (1/2) = 1/4$。该子句被满足的概率是 $1 - 1/4 = 3/4$。\n\n将这些概率相加，得到期望满足子句的总数：\n$E[S | x_1=\\text{true}] = 1 + \\frac{3}{4} + 1 + \\frac{3}{4} = 2 + \\frac{6}{4} = 2 + 1.5 = 3.5$。\n\n接下来，我们计算在 $x_1$ 被设置为 `false` 的条件下，期望满足的子句数。\n$E[S | x_1=\\text{false}] = \\sum_{i=1}^4 P(C_i \\text{ is satisfied } | x_1=\\text{false})$\n\n-   对于 $C_1 = x_1 \\lor x_2 \\lor \\neg x_3$：当 $x_1=\\text{false}$ 时，该子句变为 $x_2 \\lor \\neg x_3$。当 $x_2=\\text{false}$ 且 $\\neg x_3=\\text{false}$（即 $x_3=\\text{true}$）时，该子句不被满足。其概率为 $(1/2) \\times (1/2) = 1/4$。被满足的概率为 $1 - 1/4 = 3/4$。\n-   对于 $C_2 = \\neg x_1 \\lor \\neg x_2 \\lor x_4$：由于 $x_1=\\text{false}$，$\\neg x_1$ 为真，所以该子句被满足。$P(C_2 \\text{ is satisfied } | x_1=\\text{false}) = 1$。\n-   对于 $C_3 = x_1 \\lor \\neg x_3 \\lor \\neg x_4$：当 $x_1=\\text{false}$ 时，该子句变为 $\\neg x_3 \\lor \\neg x_4$。当 $\\neg x_3=\\text{false}$ 且 $\\neg x_4=\\text{false}$（即 $x_3=\\text{true}$ 且 $x_4=\\text{true}$）时，该子句不被满足。其概率为 $(1/2) \\times (1/2) = 1/4$。被满足的概率为 $1 - 1/4 = 3/4$。\n-   对于 $C_4 = \\neg x_1 \\lor x_2 \\lor x_3$：由于 $x_1=\\text{false}$，$\\neg x_1$ 为真，所以该子句被满足。$P(C_4 \\text{ is satisfied } | x_1=\\text{false}) = 1$。\n\n将这些概率相加，得到期望满足子句的总数：\n$E[S | x_1=\\text{false}] = \\frac{3}{4} + 1 + \\frac{3}{4} + 1 = 2 + \\frac{6}{4} = 2 + 1.5 = 3.5$。\n\n我们得到 $E[S | x_1=\\text{true}] = 3.5$ 和 $E[S | x_1=\\text{false}] = 3.5$。期望值相等。问题中规定“如果出现平局，则将变量设置为 `true`”。因此，该过程将 $x_1$ 设置为 `true`。由此产生的期望满足子句数为3.5，后续的赋值将以此为条件。\n\n这对应于选项B。",
            "answer": "$$\\boxed{B}$$"
        },
        {
            "introduction": "MAX-3SAT 近似困难性的根源在于 PCP 定理，它在可满足实例和不可满足实例之间制造了一个“鸿沟”。这个思想实验 () 邀请您通过修改其核心假设之一——完美完备性（completeness），来探索这个困难性证明的内在机制。通过计算在不完美完备性下的新近似鸿沟，您将亲眼见证 PCP 系统的参数如何直接转化为优化问题的具体不可近似界限。",
            "id": "1428181",
            "problem": "在计算复杂性理论中，概率可检验证明 (PCP) 定理是证明近似困难性结果的基石。该定理的标准版本等价于陈述 NP = PCP(log n, 1)，它导出了著名的最大3-可满足性 (MAX-3SAT) 问题的不可近似性结果。该结果确立了区分以下两种情况是 NP 难的：一种是完全可满足的 3 合取范式 (3-CNF) 公式，另一种是对于任意 $\\epsilon > 0$，最多只有 $7/8 + \\epsilon$ 比例的子句可以被满足的公式。\n\n这个结果是通过从一个 NP 中的语言到 MAX-3SAT 的归约得出的。这个归约将一个 PCP 验证者转换为一个 3-CNF 公式。一个基于 3 比特查询验证者的常见构造方法如下：对于验证者的每一个可能的随机串，都会生成一个包含 8 个不同 3-CNF 子句的小块。如果验证者对查询的 3 个比特的局部测试通过，那么该块中的所有 8 个子句都可以被满足。如果测试失败，任何赋值最多只能满足这 8 个子句中的 7 个。\n\n标准的 PCP 验证者具有完美的完备性（对于 YES 实例，接受概率为 $c=1$）和可靠性 $s  1$（例如，对于 NO 实例，可靠性为 $s=1/2$）。\n\n现在，考虑一个假设的、较弱的 PCP 系统，其特征由以下参数描述：\n-   **完备性, $c$**：对于任何 YES 实例，存在一个证明，使得验证者以恰好 $c = 0.9$ 的概率接受。\n-   **可靠性, $s$**：对于任何 NO 实例，任何证明都会使验证者以至多 $s = 0.5$ 的概率接受。\n\n假设我们将上述相同的归约应用于这个假设的 PCP 系统。这个过程为 MAX-3SAT 创造了一个间隙，使得区分以下两种实例是 NP 难的：一种是至少有 $G_c$ 比例的子句可满足的实例，另一种是至多有 $G_s$ 比例的子句可满足的实例。\n\n确定代表这个新的不可近似性间隙的数值对 $(G_c, G_s)$。\n\nA. (0.9000, 0.5000)\n\nB. (0.9875, 0.9375)\n\nC. (1.0000, 0.9375)\n\nD. (0.9125, 0.5625)\n\nE. (0.8875, 0.9375)",
            "solution": "问题要求我们基于一个具有不完美完备性的假设 PCP 系统，来确定 MAX-3SAT 的新的不可近似性间隙 $(G_c, G_s)$。从 PCP 系统到 MAX-3SAT 实例的归约具有特定的属性：验证者的每个随机串对应一个包含 8 个子句的块。如果局部测试通过，所有 8 个子句都可满足。如果失败，最多 8 个中的 7 个可满足。\n\n首先，我们计算 YES 实例的可满足性阈值，我们将其表示为 $G_c$。\n一个 YES 实例对应于 PCP 系统的完备性情况。根据定义，对于一个 YES 实例，存在一个证明，使得验证者以 $c=0.9$ 的概率接受。验证者的接受概率是导致接受的局部测试的随机串所占的比例。\n- 比例为 $c$ 的子句块对应于接受的测试。对于这些块，8个子句中的全部8个都可以被满足。对可满足子句总比例的贡献是 $c \\times \\frac{8}{8} = c \\times 1$。\n- 剩余的比例 $1-c$ 的子句块对应于拒绝的测试。对于这些块，最多8个子句中的7个可以被满足。这些块的贡献是 $(1-c) \\times \\frac{7}{8}$。\n\n因此，在 YES 实例中可满足子句的最大比例 $G_c$ 是这些贡献的总和：\n$$G_c = c \\cdot 1 + (1-c) \\cdot \\frac{7}{8}$$\n代入给定的值 $c = 0.9$：\n$$G_c = 0.9 + (1 - 0.9) \\cdot \\frac{7}{8}$$\n$$G_c = 0.9 + 0.1 \\cdot 0.875$$\n$$G_c = 0.9 + 0.0875 = 0.9875$$\n\n接下来，我们计算 NO 实例的可满足性阈值，我们将其表示为 $G_s$。\n一个 NO 实例对应于 PCP 系统的可靠性情况。对于任何 NO 实例，以及对于任何声称的证明，验证者以最多 $s=0.5$ 的概率接受。为了找到可满足子句比例的上限，我们考虑用于区分的最坏情况，也就是对于试图满足尽可能多子句的“对手”来说的最好情况。这发生在接受概率恰好为 $s$ 时。\n- 至多比例为 $s$ 的子句块对应于接受的测试。这些块可以被完全满足，对可满足子句总比例的贡献为 $s \\times \\frac{8}{8} = s \\times 1$。\n- 剩余的比例 $1-s$ 的子句块对应于拒绝的测试，其中最多8个子句中的7个可以被满足。这些块对总比例的贡献为 $(1-s) \\times \\frac{7}{8}$。\n\n因此，在 NO 实例中可满足子句的最大比例 $G_s$ 是：\n$$G_s = s \\cdot 1 + (1-s) \\cdot \\frac{7}{8}$$\n代入给定的值 $s = 0.5$：\n$$G_s = 0.5 + (1 - 0.5) \\cdot \\frac{7}{8}$$\n$$G_s = 0.5 + 0.5 \\cdot 0.875$$\n$$G_s = 0.5 + 0.4375 = 0.9375$$\n\n因此，新的不可近似性间隙由数值对 $(G_c, G_s) = (0.9875, 0.9375)$ 定义。这意味着区分至少 98.75% 的子句可满足的 3-CNF 公式和至多 93.75% 的子句可满足的 3-CNF 公式是 NP 难的。\n\n将我们的结果与给定选项进行比较：\nA. (0.9000, 0.5000) - 这个选项错误地假设间隙就是 $(c, s)$。\nB. (0.9875, 0.9375) - 这与我们的计算结果相符。\nC. (1.0000, 0.9375) - 这个选项正确计算了 $G_s$ 但错误地假设了完美的完备性 ($c=1$)。\nD. (0.9125, 0.5625) - 如果在计算失败块中可满足子句的比例时使用 $1/8$ 而不是 $7/8$，就会得到这个结果。\nE. (0.8875, 0.9375) - 这个选项正确计算了 $G_s$ 但在计算 $G_c$ 时出错了。\n\n正确选项是 B。",
            "answer": "$$\\boxed{B}$$"
        },
        {
            "introduction": "MAX-3SAT 的 7/8 不可近似阈值是逻辑“或”算子独有的特性，还是代表了更根本的原则？这个高阶问题 () 将挑战您，通过考虑任何接受 8 种可能输入中 7 种的约束条件，来推广您的理解。通过探究该困难性结论是否适用于这类更广泛的问题，您将揭示出决定计算困难度的真正结构性属性，超越单个问题的具体形式。",
            "id": "1428193",
            "problem": "著名的概率可检查证明（PCP）定理意味着，对于任何常数 $\\epsilon > 0$，区分一个可满足的 3-SAT 公式与一个其中最多只有 $7/8 + \\epsilon$ 比例的子句可以被满足的公式是 NP 难的。这为相应的优化问题 MAX-3-SAT 建立了一个强不可近似性阈值。本问题探讨这种困难性是析取子句的一个特有特征，还是某类约束的一个更普遍的性质。\n\n让我们将“八分之七谓词”定义为任何谓词 $P:\\{0,1\\}^3 \\to \\{0,1\\}$，它对于 8 种可能的二元输入中的 7 种求值为真。任何这样的谓词都可以由其求值为假的那个唯一的 3 位比特串 $s \\in \\{0,1\\}^3$ 来唯一确定。让我们将此谓词记为 $P_s$。例如，标准或子句 $(x \\lor y \\lor z)$ 的谓词是 $P_{000}$，因为它仅当 $(x,y,z)=(0,0,0)$ 时为假。类似地，子句 $(\\neg x \\lor y \\lor z)$ 的谓词是 $P_{100}$。总共有 8 个这样的谓词，每个 $s \\in \\{0,1\\}^3$ 对应一个。\n\n现在，考虑一类最大3变量约束满足问题，记为 MAX-3-CSP($P_s$) 。一个 MAX-3-CSP($P_s$) 实例由一组布尔变量 $V = \\{x_1, \\dots, x_n\\}$ 和一个约束列表组成。每个约束都是通过将固定的谓词 $P_s$ 应用于一个有序的文字三元组 $(\\ell_1, \\ell_2, \\ell_3)$ 而形成的，其中每个文字要么是一个变量 $x_i \\in V$，要么是它的否定 $\\neg x_i$。目标是找到一个变量赋值，以最大化被满足的约束的数量。\n\n鉴于将 MAX-3-SAT 近似到因子 $(7/8 + \\epsilon)$ 以内是 NP 难的，对于这 8 个谓词 $P_s$ 中的哪些，其对应的问题 MAX-3-CSP($P_s$) 也表现出这种相同的 NP 困难性质？\n\nA. 8个谓词中没有一个。\n\nB. 所有8个谓词。\n\nC. 仅当 $s$ 不是 $(0,0,0)$ 或 $(1,1,1)$ 时的 6 个谓词 $P_s$。\n\nD. 仅当 $s$ 是 $(0,0,0)$ 或 $(1,1,1)$ 时的 2 个谓词 $P_s$。\n\nE. 答案取决于困难性证明中使用的概率可检查证明系统的具体结构。",
            "solution": "我们从定义开始：对于任何固定的 $s \\in \\{0,1\\}^{3}$，谓词 $P_{s}:\\{0,1\\}^{3} \\to \\{0,1\\}$ 的定义为，对于除了 $u=s$ 之外的所有 $u \\in \\{0,1\\}^{3}$，$P_{s}(u)=1$，而 $P_{s}(s)=0$。一个 MAX-3-CSP($P_{s}$) 实例由形式为 $P_{s}(\\ell_{1},\\ell_{2},\\ell_{3})$ 的约束组成，其中每个 $\\ell_{i}$ 是某个变量 $x_{j}$ 或其否定 $\\neg x_{j}$。\n\n标准的 MAX-3-SAT 问题精确对应于 MAX-3-CSP($P_{000}$)，因为一个子句 $(\\ell_{1} \\lor \\ell_{2} \\lor \\ell_{3})$ 为假当且仅当 $(\\ell_{1},\\ell_{2},\\ell_{3})=(0,0,0)$，也就是说，它将 $P_{000}$ 应用于文字真值的三元组。PCP 定理意味着，对于任何常数 $\\epsilon>0$，区分所有约束都能被满足的实例和最多只有 $7/8+\\epsilon$ 比例的约束能被满足的实例是 NP 难的。\n\n我们证明，对于每一个 $s \\in \\{0,1\\}^{3}$，都存在一个从 MAX-3-CSP($P_{000}$) 到 MAX-3-CSP($P_{s}$) 的简单、精确、间隙保持的归约，该归约在任何赋值下都保持满足的约束数量不变。\n\n固定 $s=(s_{1},s_{2},s_{3}) \\in \\{0,1\\}^{3}$。给定 MAX-3-SAT 的任何一个写作 $(\\ell_{1} \\lor \\ell_{2} \\lor \\ell_{3})$ 的子句，我们通过定义文字来构造一个 MAX-3-CSP($P_{s}$) 的约束\n$$\n\\ell_{i}' \\;=\\;\n\\begin{cases}\n\\ell_{i},  \\text{if } s_{i}=0,\\\\\n\\neg \\ell_{i},  \\text{if } s_{i}=1,\n\\end{cases}\n\\quad \\text{for } i \\in \\{1,2,3\\},\n$$\n然后添加约束 $P_{s}(\\ell_{1}',\\ell_{2}',\\ell_{3}')$。\n\n对于变量的任何赋值 $\\alpha$，令 $\\operatorname{val}(\\ell)$ 表示一个文字导出的真值。原始子句在赋值 $\\alpha$ 下不被满足，当且仅当 $(\\operatorname{val}(\\ell_{1}),\\operatorname{val}(\\ell_{2}),\\operatorname{val}(\\ell_{3}))=(0,0,0)$。构造的约束 $P_{s}(\\ell_{1}',\\ell_{2}',\\ell_{3}')$ 在赋值 $\\alpha$ 下不被满足，当且仅当\n$$\n(\\operatorname{val}(\\ell_{1}'),\\operatorname{val}(\\ell_{2}'),\\operatorname{val}(\\ell_{3}'))=s.\n$$\n根据构造，对于每个坐标 $i$，我们有当 $s_{i}=0$ 时 $\\operatorname{val}(\\ell_{i}')=\\operatorname{val}(\\ell_{i})$，当 $s_{i}=1$ 时 $\\operatorname{val}(\\ell_{i}')=1-\\operatorname{val}(\\ell_{i})$。因此\n$$\n(\\operatorname{val}(\\ell_{1}'),\\operatorname{val}(\\ell_{2}'),\\operatorname{val}(\\ell_{3}'))=s\n\\;\\;\\Longleftrightarrow\\;\\;\n(\\operatorname{val}(\\ell_{1}),\\operatorname{val}(\\ell_{2}),\\operatorname{val}(\\ell_{3}))=(0,0,0).\n$$\n因此，该子句在赋值 $\\alpha$ 下不被满足，当且仅当构造的约束在赋值 $\\alpha$ 下不被满足。因此，在任何赋值下，被满足的约束数量都精确地保持不变，从而可满足约束的最优比例也得以保持。\n\n这个归约是线性时间的，并且对每个固定的 $s \\in \\{0,1\\}^{3}$ 都有效。因此，对于 MAX-3-SAT（即 MAX-3-CSP($P_{000}$)）来说，区分完全可满足的实例和最多只有 $7/8+\\epsilon$ 比例可满足的实例的 NP 困难性，对于每个 $s$ 都延续到了 MAX-3-CSP($P_{s}$) 上。等价地，所有八个谓词 $P_{s}$ 都产生相同的 $(7/8+\\epsilon)$ 不可近似性阈值。一个随机赋值以 $7/8$ 的概率满足任何 $P_{s}$-约束，所以这个阈值在 $\\epsilon$ 的范围内是紧的。\n\n因此，正确的选项是所有八个谓词都表现出相同的 NP 困难性质。",
            "answer": "$$\\boxed{B}$$"
        }
    ]
}