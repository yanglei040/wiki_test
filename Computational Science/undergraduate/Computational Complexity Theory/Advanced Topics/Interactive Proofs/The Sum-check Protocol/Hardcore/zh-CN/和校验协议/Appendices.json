{
    "hands_on_practices": [
        {
            "introduction": "和检验协议通过将一个复杂的多变量求和问题分解为一系列单变量的断言来进行验证。证明者（Prover）为实现这一目标，其最关键的第一步是构造一个代表“部分和”的单变量多项式。这个练习将带你亲手实践这一基本计算，为理解整个协议的运作机制打下坚实的基础。",
            "id": "1463894",
            "problem": "考虑和校验协议（sum-check protocol），这是一种交互式证明系统，用于验证一个多元多项式在布尔超立方体（Boolean hypercube）上的和的声称值。证明者 Peggy 想让验证者 Victor 相信以下和的值：\n$$ S = \\sum_{x_1 \\in \\{0, 1\\}} \\sum_{x_2 \\in \\{0, 1\\}} g(x_1, x_2) $$\n其中多项式定义为 $g(x_1, x_2) = x_1 x_2 + x_1$。变量 $x_1$ 和 $x_2$ 定义在一个特征不为 2 的域 $\\mathbb{F}$ 上。\n\n在协议的第一轮中，证明者必须计算并发送一个关于新变量 $X_1$ 的单变量多项式，我们称之为 $p_1(X_1)$。该多项式是通过用未定元 $X_1$ 替换 $g(x_1, x_2)$ 中的第一个变量 $x_1$，然后对剩余变量 $x_2$ 的所有可能布尔赋值进行求和来构建的。\n\n请确定一个诚实的证明者在第一轮必须发送给验证者的多项式 $p_1(X_1)$。请将答案表示为关于变量 $X_1$ 的多项式。",
            "solution": "在和校验协议中，第一轮的多项式是通过用一个未定元 $X_{1}$ 替换 $x_{1}$ 并对剩余变量的所有布尔值求和来定义的。因此，\n$$\np_{1}(X_{1})=\\sum_{x_{2}\\in\\{0,1\\}} g(X_{1},x_{2}).\n$$\n已知 $g(x_{1},x_{2})=x_{1}x_{2}+x_{1}$，我们计算\n$$\np_{1}(X_{1})=\\sum_{x_{2}\\in\\{0,1\\}} \\left(X_{1}x_{2}+X_{1}\\right).\n$$\n利用求和的线性性以及在域 $\\mathbb{F}$ 中的分配律，\n$$\np_{1}(X_{1})=X_{1}\\sum_{x_{2}\\in\\{0,1\\}} x_{2}+X_{1}\\sum_{x_{2}\\in\\{0,1\\}} 1.\n$$\n计算在布尔集上的和，\n$$\n\\sum_{x_{2}\\in\\{0,1\\}} x_{2}=0+1=1,\\qquad \\sum_{x_{2}\\in\\{0,1\\}} 1=1+1=2.\n$$\n因此，\n$$\np_{1}(X_{1})=X_{1}\\cdot 1+X_{1}\\cdot 2=3X_{1},\n$$\n其中系数 $3$ 表示域中的 $1_{\\mathbb{F}}+1_{\\mathbb{F}}+1_{\\mathbb{F}}$（特征不为 $2$ 的假设保证了 $2\\neq 0$）。",
            "answer": "$$\\boxed{3X_{1}}$$"
        },
        {
            "introduction": "和检验协议的一个核心特性是其能以高概率捕捉到不诚实的证明者。本练习将深入探讨验证者（Verifier）检查机制的核心，揭示一个随机挑战如何揭露欺诈性断言。通过找到那个能让欺骗“恰好”成功的唯一特例，你将更深刻地体会到随机性在此协议稳健性中的关键作用。",
            "id": "1463865",
            "problem": "在和校验协议（sum-check protocol）的背景下，一个证明者（Prover, P）旨在说服一个验证者（Verifier, V）相信其在一个布尔超立方体上的求和声明。所有算术运算都在有限域 $\\mathbb{F}_{29}$ 中进行。\n\n证明者考虑二元多项式 $g(x_1, x_2) = x_1 x_2 + 2x_1 + 3x_2$。证明者声称该多项式在布尔超立方体 $\\{0, 1\\}^2$ 上的总和等于 $C=10$。也就是说，P 声称 $\\sum_{x_1 \\in \\{0, 1\\}} \\sum_{x_2 \\in \\{0, 1\\}} g(x_1, x_2) = 10$。\n\n为了开始这个交互式协议，证明者向验证者发送一个关于第一个变量 $X_1$ 的多项式。然而，证明者是不诚实的，它没有发送正确的多项式，而是发送了欺诈性多项式 $p_1(X_1) = 5$。\n\n验证者首先使用收到的多项式 $p_1(X_1)$ 对声称的和 $C$ 进行基本的一致性检查。由于这个初始检查通过了，验证者继续进行，选择一个随机值 $r_1 \\in \\mathbb{F}_{29}$ 发送给证明者，用于协议的下一轮。\n\n存在一个唯一的 $r_1$ 值，使得验证者在此阶段无法检测到证明者的欺骗，因为对于这个特定的 $r_1$，证明者的欺诈性声明 $p_1(r_1)$ 意外地与相应子求和的真实值相匹配。请确定在 $\\mathbb{F}_{29}$ 中这个特定的 $r_1$ 值。",
            "solution": "我们在有限域 $\\mathbb{F}_{29}$ 上进行计算。诚实的证明者在第一轮应该发送的多项式是子求和\n$$\ns_{1}(X_{1})=\\sum_{x_{2}\\in\\{0,1\\}} g(X_{1},x_{2}) .\n$$\n给定 $g(x_{1},x_{2})=x_{1}x_{2}+2x_{1}+3x_{2}$，计算\n$$\ng(X_{1},0)=X_{1}\\cdot 0+2X_{1}+3\\cdot 0=2X_{1},\\qquad g(X_{1},1)=X_{1}\\cdot 1+2X_{1}+3\\cdot 1=3X_{1}+3,\n$$\n所以\n$$\ns_{1}(X_{1})=g(X_{1},0)+g(X_{1},1)=2X_{1}+(3X_{1}+3)=5X_{1}+3 \\quad \\text{在 } \\mathbb{F}_{29} \\text{ 中}.\n$$\n作弊的证明者发送了 $p_{1}(X_{1})=5$。使得验证者在此阶段无法检测到作弊的唯一值 $r_{1}\\in\\mathbb{F}_{29}$ 由以下等式刻画：\n$$\np_{1}(r_{1})=s_{1}(r_{1}) \\quad \\Longleftrightarrow \\quad 5=5r_{1}+3 \\pmod{29}.\n$$\n整理得，\n$$\n5r_{1}\\equiv 2 \\pmod{29}.\n$$\n由于 $\\gcd(5,29)=1$，所以 $5$ 在模 $29$ 下存在乘法逆元。使用扩展欧几里得算法，\n$$\n29=5\\cdot 5+4,\\quad 5=4\\cdot 1+1 \\;\\Rightarrow\\; 1=5-4=5-(29-5\\cdot 5)=6\\cdot 5-29,\n$$\n因此 $5^{-1}\\equiv 6 \\pmod{29}$。将等式两边乘以 $6$ 得\n$$\nr_{1}\\equiv 6\\cdot 2\\equiv 12 \\pmod{29}.\n$$\n作为验证，\n$$\ns_{1}(12)\\equiv 5\\cdot 12+3\\equiv 60+3\\equiv 63\\equiv 5 \\pmod{29}=p_{1}(12),\n$$\n所以 $r_{1}=12$ 确实使得欺诈性和诚实的子求和相等，并且根据线性性质，在 $\\mathbb{F}_{29}$ 中只有一个这样的 $r_{1}$。",
            "answer": "$$\\boxed{12}$$"
        },
        {
            "introduction": "在掌握了和检验协议的基本操作之后，重要的是理解其原理如何被推广到更一般的情形。这个问题挑战你将相同的逻辑应用于具有任意数量变量、并在更通用集合上求和的多项式。这不仅能巩固你对核心概念的理解，也展示了该协议的广泛适用性。",
            "id": "1463901",
            "problem": "在和校验交互式协议的背景下，证明者（Prover）旨在让验证者（Verifier）信服一个求和式的值 $S = \\sum_{\\mathbf{b} \\in H^m} g(\\mathbf{b})$，其中 $g$ 是一个在域 $\\mathbb{F}$ 上的 $m$ 元多项式，而 $H$ 是 $\\mathbb{F}$ 的一个有限子集。该协议分轮进行。在第一轮中，证明者向验证者发送一个单变量多项式 $p_1(X_1)$，它被定义为部分和 $p_1(X_1) = \\sum_{b_2 \\in H} \\dots \\sum_{b_m \\in H} g(X_1, b_2, \\dots, b_m)$。\n\n考虑一个特定情况，其中多项式由 $g(x_1, \\dots, x_m) = \\prod_{i=1}^m x_i$ 给出。求和在集合 $H = \\{1, 2, \\dots, k\\}$ 上进行，其中 $m$ 和 $k$ 是满足 $m \\geq 2$ 和 $k \\geq 1$ 的整数。为简单起见，假设所有算术运算都在实数域 $\\mathbb{R}$ 上进行。\n\n确定证明者发送的第一轮多项式 $p_1(X_1)$。将您的答案表示为一个关于不定元 $X_1$ 的多项式，其系数用关于 $m$ 和 $k$ 的表达式给出。",
            "solution": "给定 $g(x_{1},\\dots,x_{m})=\\prod_{i=1}^{m}x_{i}$ 和 $H=\\{1,2,\\dots,k\\}$。根据和校验协议中第一轮多项式的定义，\n$$\np_{1}(X_{1})=\\sum_{b_{2}\\in H}\\cdots\\sum_{b_{m}\\in H}g(X_{1},b_{2},\\dots,b_{m}).\n$$\n代入 $g$ 得到\n$$\np_{1}(X_{1})=\\sum_{b_{2}\\in H}\\cdots\\sum_{b_{m}\\in H}\\left(X_{1}\\prod_{i=2}^{m}b_{i}\\right).\n$$\n由于 $X_{1}$ 与求和指标无关，因此可以将其提出：\n$$\np_{1}(X_{1})=X_{1}\\sum_{b_{2}\\in H}\\cdots\\sum_{b_{m}\\in H}\\prod_{i=2}^{m}b_{i}.\n$$\n使用分配律，关于独立指标的乘积的多重求和可以分解为单变量求和的乘积：\n$$\n\\sum_{b_{2}\\in H}\\cdots\\sum_{b_{m}\\in H}\\prod_{i=2}^{m}b_{i}=\\prod_{i=2}^{m}\\left(\\sum_{b_{i}\\in H}b_{i}\\right).\n$$\n每个内层求和都是相同的等差数列求和\n$$\n\\sum_{t=1}^{k}t=\\frac{k(k+1)}{2}.\n$$\n因此，\n$$\n\\sum_{b_{2}\\in H}\\cdots\\sum_{b_{m}\\in H}\\prod_{i=2}^{m}b_{i}=\\left(\\frac{k(k+1)}{2}\\right)^{m-1}.\n$$\n因此第一轮多项式是\n$$\np_{1}(X_{1})=\\left(\\frac{k(k+1)}{2}\\right)^{m-1}X_{1},\n$$\n这是一个关于 $X_{1}$ 的一次多项式，其系数 $\\left(\\frac{k(k+1)}{2}\\right)^{m-1}$ 用 $m$ 和 $k$ 表示。",
            "answer": "$$\\boxed{\\left(\\frac{k(k+1)}{2}\\right)^{m-1}X_{1}}$$"
        }
    ]
}