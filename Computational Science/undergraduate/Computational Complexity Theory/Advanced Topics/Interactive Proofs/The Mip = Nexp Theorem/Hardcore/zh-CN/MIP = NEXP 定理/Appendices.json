{
    "hands_on_practices": [
        {
            "introduction": "多证明者交互式证明系统（MIP）的力量源于验证者能够对无法通信的多个证明者进行交叉验证。本练习将展示验证者如何巧妙地设计问题，以确凿地揭示证明者在一个简单逻辑子句上的谎言，这是验证更庞大证明的基础。通过这个具体的例子 ，你将亲身体会到利用信息不对称来保证证明可靠性的核心思想。",
            "id": "1458993",
            "problem": "在计算复杂性理论领域，MIP = NEXP 定理在多证明者交互式证明 (MIP) 系统与复杂性类 NEXP (非确定性指数时间) 之间建立了一个显著的联系。证明 NP 包含于 MIP 的一个关键要素是，验证者通过询问两个不通信的证明者来检查一个声称的 3-SAT 公式的满足性赋值。\n\n考虑一个验证者 $V$ 与两个证明者 $P_1$ 和 $P_2$ 进行交互。证明者声称拥有一个大型 3-CNF 公式 $\\phi$ 的满足性赋值。验证者的协议包括从 $\\phi$ 中随机选择一个子句，并执行一个测试以检查其正确性和一致性。\n\n假设验证者决定测试特定的子句 $C = (\\neg x_1 \\lor x_2 \\lor \\neg x_3)$。此外，假设证明者们共享的（但保密的）赋值（我们称之为 $A$）实际上是错误的，并且证伪了这个特定的子句。具体来说，对于 $C$ 中的变量，该赋值为 $A(x_1) = 1$，$A(x_2) = 0$ 和 $A(x_3) = 1$。\n\n验证者必须设计其分别发送给 $(P_1, P_2)$ 的一对查询 $(Q_1, Q_2)$，以揭示这一矛盾。假设证明者们坚守他们的赋值 $A$，并且会根据 $A$ 真实地回答任何关于变量值的查询。\n\n下列哪一对查询 $(Q_1, Q_2)$ 能让验证者确定性地断定为子句 $C$ 提供的赋值是不满足的？\n\nA. $Q_1$: “报告 $x_1$ 的值。” $Q_2$: “报告 $x_2$ 和 $x_3$ 的值。”\n\nB. $Q_1$: “报告 $x_1$ 的值。” $Q_2$: “报告 $x_2$ 的值。”\n\nC. $Q_1$: “报告 $x_1$ 的值。” $Q_2$: “报告 $x_1$ 的值。”\n\nD. $Q_1$: “你的赋值是否满足子句 $C$？” $Q_2$: “你的赋值是否满足子句 $C$？”",
            "solution": "我们将子句和赋值形式化。子句是 $C = (\\neg x_{1} \\lor x_{2} \\lor \\neg x_{3})$。证明者给出的赋值是 $A(x_{1}) = 1$, $A(x_{2}) = 0$, $A(x_{3}) = 1$。在赋值 $A$ 下对文字进行求值，得到 $\\neg x_{1} = 0$，$x_{2} = 0$ 和 $\\neg x_{3} = 0$。因此，\n$$\nC(A) \\;=\\; 0 \\lor 0 \\lor 0 \\;=\\; 0,\n$$\n所以 $C$ 被 $A$ 证伪。\n\n一个 3-CNF 子句不被满足，当且仅当其所有三个文字都为假。因此，为了确定性地断定 $C$ 不被满足，验证者必须获得已验证的值，以确定 $x_{1} = 1$，$x_{2} = 0$ 和 $x_{3} = 1$（等价地，$\\neg x_{1} = 0$，$x_{2} = 0$ 和 $\\neg x_{3} = 0$）。问题陈述了证明者会根据 $A$ 真实地回答任何关于变量值的查询，所以验证者只能依赖于关于变量值的回答。\n\n现在我们根据这一要求分析每个选项：\n\n选项 A：$Q_{1}$ 询问 $x_{1}$，$Q_{2}$ 询问 $x_{2}$ 和 $x_{3}$。根据这些回答，验证者获得了所有三个值 $x_{1}, x_{2}, x_{3}$，并可以计算出三个文字 $\\neg x_{1}, x_{2}, \\neg x_{3}$。由于验证者得知所有三个文字都为 0，它可以确定性地断定 $C(A) = 0$。\n\n选项 B：$Q_{1}$ 询问 $x_{1}$，$Q_{2}$ 询问 $x_{2}$。验证者没有得知 $x_{3}$ 的值，因此无法排除 $x_{3} = 0$ 的可能性，在这种情况下 $\\neg x_{3} = 1$，$C$ 将被满足。因此，不可能得出确定性的结论。\n\n选项 C：两个查询都询问 $x_{1}$，这没有揭示任何关于 $x_{2}$ 或 $x_{3}$ 的信息；验证者无法确定是否所有三个文字都为假，所以不可能得出确定性的结论。\n\n选项 D：两个查询都询问 $C$ 是否被满足。陈述的保证只涵盖关于变量值的查询；它没有断言对关于满足性问题的回答是真实的。因此，在给定的假设下，验证者不能依赖于是/否的回答来确定性地断定不满足性。\n\n因此，只有选项 A 确保验证者能以一种保证真实的方式准确获取所需的信息（子句的所有三个变量值），从而能够确定性地断定 $C$ 不被满足。",
            "answer": "$$\\boxed{A}$$"
        },
        {
            "introduction": "要验证一个指数级规模的问题，逐一检查每个约束条件是不可行的。本练习将引导你实践“算术化”（Arithmetization）这一核心技术 ，它能将复杂的逻辑可满足性问题转化为一组多项式方程。这个过程是连接布尔逻辑世界和代数域的桥梁，为后续高效的代数验证方法铺平了道路。",
            "id": "1459025",
            "problem": "在交互式证明系统的研究中，一种常见的技术是“算术化”一个问题，即将一个逻辑陈述转化为一组多项式方程。这使得验证者可以通过在有限域上执行代数测试来检验证明者的声明。\n\n考虑一个有三个变量 $x_1, x_2, x_3$ 的布尔可满足性问题。一个证明者声称有一个将这些变量赋值为 $\\{0, 1\\}$ 中值的方案，该方案满足以下子句集：\n1. $C_1 = (x_1 \\lor \\neg x_2)$\n2. $C_2 = (\\neg x_1 \\lor x_2 \\lor x_3)$\n3. $C_3 = (\\neg x_2 \\lor \\neg x_3)$\n\n为了验证这一声明，必须将该约束系统转化为一个大有限域上的多项式方程。一个有效的赋值必须满足两种类型的约束：\n- **子句约束**：每个子句都必须被满足。当且仅当其对应的多项式约束计算结果为 0 时，一个子句被满足。这个多项式被构造成仅当子句*不满足*时值为 1，否则为 0。一个子句不被满足当且仅当其所有文字都为假。表示正文字 $x_i$ 为“假”条件的多项式是 $(1-x_i)$，表示负文字 $\\neg x_i$ 为“假”条件的多项式是 $x_i$。一个子句的约束多项式是该子句中所有文字的“假”条件多项式的乘積。\n- **布尔约束**：每个变量必须是 0 或 1。对于每个变量 $x_i$，这由方程 $x_i^2 - x_i = 0$ 强制执行。\n\n验证者并不逐个检查这些多项式方程，而是将它们组合成一个单一的概率性检验。验证者从底层域中选择随机系数 $r_1, r_2, r_3, r_4, r_5, r_6$，并构造一个单一多项式 $P(x_1, x_2, x_3)$，该多项式是所有约束多项式的线性组合。系数 $r_1, r_2, r_3$ 分别对应于子句 $C_1, C_2, C_3$。系数 $r_4, r_5, r_6$ 分别对应于 $x_1, x_2, x_3$ 的布尔约束。\n\n你的任务是构造这个组合多项式 $P(x_1, x_2, x_3)$。将你的最终答案表示为一个关于变量 $x_1, x_2, x_3$ 的多项式，其系数用符号随机系数 $r_1, \\dots, r_6$ 表示。你的多项式中的项应首先按总次数（从高到低）排序，然后对于总次数相同的项按字典序排序（例如，$x_1^2$ 在 $x_1 x_2$ 之前，$x_1 x_2$ 在 $x_2^2$ 之前）。",
            "solution": "目标是构造一个单一多项式 $P(x_1, x_2, x_3)$，它是一些约束多项式的随机线性组合。我们必须首先确定所有的约束多项式。\n\n**步骤 1：算术化子句约束**\n\n我们有一个规则，将每个子句转换为一个多项式约束 $p_i(x_1, x_2, x_3) = 0$。该多项式是通过将子句中每个文字的“假”条件多项式相乘形成的。文字 $x_i$ 的“假”条件多项式是 $(1-x_i)$，而 $\\neg x_i$ 的是 $x_i$。\n\n1.  **子句 $C_1 = (x_1 \\lor \\neg x_2)$**：如果 $x_1$ 为假且 $\\neg x_2$ 为假，则该子句不被满足。\n    -   $x_1$ 为“假”的条件由多项式 $(1-x_1)$ 表示。\n    -   $\\neg x_2$ 为“假”的条件由多项式 $x_2$ 表示。\n    -   约束多项式是它们的乘积：$p_1(x_1, x_2, x_3) = (1-x_1)x_2 = x_2 - x_1 x_2$。\n\n2.  **子句 $C_2 = (\\neg x_1 \\lor x_2 \\lor x_3)$**：如果 $\\neg x_1$ 为假且 $x_2$ 为假且 $x_3$ 为假，则该子句不被满足。\n    -   $\\neg x_1$ 为“假”的条件是 $x_1$。\n    -   $x_2$ 为“假”的条件是 $(1-x_2)$。\n    -   $x_3$ 为“假”的条件是 $(1-x_3)$。\n    -   约束多项式是它们的乘积：$p_2(x_1, x_2, x_3) = x_1(1-x_2)(1-x_3) = x_1(1 - x_3 - x_2 + x_2 x_3) = x_1 - x_1 x_2 - x_1 x_3 + x_1 x_2 x_3$。\n\n3.  **子句 $C_3 = (\\neg x_2 \\lor \\neg x_3)$**：如果 $\\neg x_2$ 为假且 $\\neg x_3$ 为假，则该子句不被满足。\n    -   $\\neg x_2$ 为“假”的条件是 $x_2$。\n    -   $\\neg x_3$ 为“假”的条件是 $x_3$。\n    -   约束多项式是它们的乘积：$p_3(x_1, x_2, x_3) = x_2 x_3$。\n\n**步骤 2：定义布尔约束**\n\n变量必须取值于 $\\{0, 1\\}$。这由多项式方程 $x_i(x_i - 1) = 0$ 或 $x_i^2 - x_i = 0$ 强制执行。\n\n4.  对于 $x_1$：$p_4(x_1, x_2, x_3) = x_1^2 - x_1$。\n5.  对于 $x_2$：$p_5(x_1, x_2, x_3) = x_2^2 - x_2$。\n6.  对于 $x_3$：$p_6(x_1, x_2, x_3) = x_3^2 - x_3$。\n\n**步骤 3：构造组合多项式**\n\n验证者的多项式 $P$ 是所有六个约束多项式的随机线性组合：\n$$P(x_1, x_2, x_3) = \\sum_{i=1}^{6} r_i p_i(x_1, x_2, x_3)$$\n代入每个 $p_i$ 的表达式：\n$$P(x_1, x_2, x_3) = r_1(x_2 - x_1 x_2) + r_2(x_1 - x_1 x_2 - x_1 x_3 + x_1 x_2 x_3) + r_3(x_2 x_3) + r_4(x_1^2 - x_1) + r_5(x_2^2 - x_2) + r_6(x_3^2 - x_3)$$\n\n**步骤 4：展开并合并同类项**\n\n现在，我们展开表达式并按 $x_1, x_2, x_3$ 的单项式对项进行分组。\n\n$P(x_1, x_2, x_3) = r_1 x_2 - r_1 x_1 x_2 + r_2 x_1 - r_2 x_1 x_2 - r_2 x_1 x_3 + r_2 x_1 x_2 x_3 + r_3 x_2 x_3 + r_4 x_1^2 - r_4 x_1 + r_5 x_2^2 - r_5 x_2 + r_6 x_3^2 - r_6 x_3$\n\n让我们为每个单项式收集系数，按次数排序，然后按字典序排序：\n\n-   **次数为 3 的项：**\n    -   $x_1 x_2 x_3$: $r_2$\n\n-   **次数为 2 的项：**\n    -   $x_1^2$: $r_4$\n    -   $x_1 x_2$: $-r_1 - r_2$\n    -   $x_1 x_3$: $-r_2$\n    -   $x_2^2$: $r_5$\n    -   $x_2 x_3$: $r_3$\n    -   $x_3^2$: $r_6$\n\n-   **次数为 1 的项：**\n    -   $x_1$: $r_2 - r_4$\n    -   $x_2$: $r_1 - r_5$\n    -   $x_3$: $-r_6$\n\n-   **次数为 0 的项（常数项）：** 没有常数项。\n\n合并这些结果得到最终的多项式：\n$P(x_1, x_2, x_3) = r_2 x_1 x_2 x_3 + r_4 x_1^2 + r_5 x_2^2 + r_6 x_3^2 + (-r_1 - r_2)x_1 x_2 - r_2 x_1 x_3 + r_3 x_2 x_3 + (r_2 - r_4)x_1 + (r_1 - r_5)x_2 - r_6 x_3$。\n遵循指定的排序顺序：$x_1 x_2 x_3$ (次数 3)，然后是 $x_1^2, x_1 x_2, x_1 x_3, x_2^2, x_2 x_3, x_3^2$ (次数 2)，然后是 $x_1, x_2, x_3$ (次数 1)。\n该多项式为：\n$P(x_1, x_2, x_3) = r_2 x_1 x_2 x_3 + r_4 x_1^2 + (-r_1 - r_2) x_1 x_2 - r_2 x_1 x_3 + r_5 x_2^2 + r_3 x_2 x_3 + r_6 x_3^2 + (r_2 - r_4) x_1 + (r_1 - r_5) x_2 - r_6 x_3$。",
            "answer": "$$\\boxed{r_2 x_1 x_2 x_3 + r_4 x_1^2 + (-r_1 - r_2) x_1 x_2 - r_2 x_1 x_3 + r_5 x_2^2 + r_3 x_2 x_3 + r_6 x_3^2 + (r_2 - r_4) x_1 + (r_1 - r_5) x_2 - r_6 x_3}$$"
        },
        {
            "introduction": "将一个问题转化为一个巨大的多项式后，验证者如何在不检查每一点的情况下，判断它是否是我们期望的那个（例如，恒等于零）？本练习应用了著名的 Schwartz-Zippel 引理 ，让你定量分析用于测试的有限域大小与协议可靠性（即“可靠性误差”）之间的权衡。通过计算，你将理解验证者信心的数学基础，以及为什么这种概率性测试在实践中如此强大。",
            "id": "1459033",
            "problem": "一位计算机代数系统的设计者正在实现一个概率算法，用以验证一个大型符号矩阵的行列式是否恒等于零。该矩阵记为 $M(z_1, \\dots, z_k)$，是一个 $n \\times n$ 矩阵，其元素 $M_{ij}$ 是关于 $k$ 个变量 $z_1, \\dots, z_k$ 的多项式。已知每个多项式元素 $M_{ij}(z_1, \\dots, z_k)$ 的总次数至多为 $\\delta$。\n\n验证协议如下：\n1.  选择一个大小为整数 $S$ 的有限域 $\\mathbb{F}$。\n2.  从集合 $\\mathbb{F}^k$ 中均匀随机地选取一个点 $\\mathbf{r} = (r_1, \\dots, r_k)$。\n3.  计算矩阵在该点的行列式 $\\det(M(\\mathbf{r}))$。\n4.  如果 $\\det(M(\\mathbf{r})) = 0$，则该协议判定行列式恒等于零。否则，判定其不为零。\n\n“可靠性误差”是指当行列式实际上是一个非零多项式时，该协议却错误地判定其恒等于零的概率。系统设计规范要求该可靠性误差必须严格小于一个容差 $\\epsilon$。\n\n给定参数 $n = 80$，$\\delta = 5$，以及要求的容差 $\\epsilon = 3.9 \\times 10^{-9}$，要满足此要求，有限域 $\\mathbb{F}$ 的最小整数大小 $S$ 是多少？",
            "solution": "令 $P(z_{1},\\dots,z_{k})=\\det(M(z_{1},\\dots,z_{k}))$。根据行列式的置换展开式，\n$$\nP(z_{1},\\dots,z_{k})=\\sum_{\\sigma\\in S_{n}}\\operatorname{sgn}(\\sigma)\\prod_{i=1}^{n}M_{i,\\sigma(i)}(z_{1},\\dots,z_{k}).\n$$\n每个元素 $M_{ij}$ 的总次数至多为 $\\delta$，因此每个乘积项的总次数至多为 $\\sum_{i=1}^{n}\\deg M_{i,\\sigma(i)}\\leq n\\delta$。所以，总次数满足\n$$\n\\deg P \\leq n\\delta.\n$$\n\n根据 Schwartz–Zippel–DeMillo–Lipton 引理，对于一个在大小为 $|\\mathbb{F}|=S$ 的域 $\\mathbb{F}$ 上、总次数为 $D$ 的非零多项式 $P$，从 $\\mathbb{F}^{k}$ 中均匀随机选择 $\\mathbf{r}$ 时，$P(\\mathbf{r})=0$ 的概率至多为 $D/S$。因此，可靠性误差至多为\n$$\n\\frac{\\deg P}{S} \\leq \\frac{n\\delta}{S}.\n$$\n为确保误差严格小于 $\\epsilon$，只需满足\n$$\n\\frac{n\\delta}{S}  \\epsilon \\quad\\Longleftrightarrow\\quad S\\frac{n\\delta}{\\epsilon}.\n$$\n由于 $S$ 必须是整数，最小的有效选择是\n$$\nS_{\\min}=\\left\\lfloor\\frac{n\\delta}{\\epsilon}\\right\\rfloor+1.\n$$\n\n将 $n=80$，$\\delta=5$ 和 $\\epsilon=3.9\\times 10^{-9}$ 代入可得\n$$\n\\frac{n\\delta}{\\epsilon}=\\frac{400}{3.9\\times 10^{-9}}=\\left(\\frac{400}{3.9}\\right)\\times 10^{9}=\\left(\\frac{4000}{39}\\right)\\times 10^{9}=\\frac{4\\times 10^{12}}{39}.\n$$\n计算整数部分：\n$$\n\\frac{4\\times 10^{12}}{39}=102{,}564{,}102{,}564+\\frac{4}{39},\n$$\n所以\n$$\n\\left\\lfloor\\frac{n\\delta}{\\epsilon}\\right\\rfloor=102{,}564{,}102{,}564,\n$$\n因此\n$$\nS_{\\min}=102{,}564{,}102{,}564+1=102{,}564{,}102{,}565.\n$$\n这个选择保证了可靠性误差严格小于 $\\epsilon$。",
            "answer": "$$\\boxed{102564102565}$$"
        }
    ]
}