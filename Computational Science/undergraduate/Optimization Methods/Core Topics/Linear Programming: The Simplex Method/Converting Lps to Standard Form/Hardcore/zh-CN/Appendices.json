{
    "hands_on_practices": [
        {
            "introduction": "掌握了理论知识后，我们通过一个综合性练习来巩固核心转换技巧。这个题目涵盖了将线性规划问题转换为标准形式所需的所有基本操作，包括处理最大化目标、不同符号限制的变量（非负、非正、自由变量）以及各种不等式约束。完成此练习是掌握标准形式转换方法的基础。",
            "id": "3113295",
            "problem": "考虑一个线性规划问题，其决策变量为 $x_1$、$x_2$、$x_3$、$x_4$ 和 $x_5$，目标函数为\n$$\\max\\; 5x_1 - 3x_2 + x_3 + x_4 - 2x_5,$$\n约束条件为\n$$2x_1 - x_2 + 3x_3 - x_4 + x_5 \\le 7,$$\n$$-x_1 + 4x_2 + x_3 + 2x_4 - 3x_5 \\ge 5,$$\n$$3x_1 - 2x_2 + x_4 - x_5 = -2,$$\n以及符号约束\n$$x_1 \\ge 0,\\quad x_2 \\le 0,\\quad x_3 \\text{ is free},\\quad x_4 \\ge 0,\\quad x_5 \\text{ is free}.$$\n从标准形式的线性规划是形如下述优化问题的基本定义出发\n$$\\min\\; c^{\\top}y\\quad \\text{subject to}\\quad Ay=b,\\quad y\\ge 0,$$\n仅使用保持线性性和可行性的变换，将给定的问题转换为标准形式。然后，确定最终的标准形式变量向量 $y$ 中出现的变量总数（此计数必须包括转换过程中引入的任何辅助变量）。以精确整数形式提供您的答案。无需四舍五入。",
            "solution": "该问题要求将一个给定的线性规划（LP）问题转换为标准形式，并随后确定最终形式中变量的总数。\n\n所提供的标准形式线性规划的定义是形如下述的优化问题：\n$$ \\min\\; \\mathbf{c}^{\\top}\\mathbf{y} \\quad \\text{subject to} \\quad \\mathbf{A}\\mathbf{y}=\\mathbf{b}, \\quad \\mathbf{y}\\ge \\mathbf{0} $$\n这种典范形式具有三个关键特性：\n$1$. 目标是最小化。\n$2$. 所有约束都是等式。\n$3$. 所有决策变量都是非负的。\n此外，正如文中所述，我们通常要求右端项向量 $\\mathbf{b}$ 也是非负的。\n\n给定的线性规划问题是：\n$$ \\max\\; z = 5x_1 - 3x_2 + x_3 + x_4 - 2x_5 $$\n约束条件为：\n$$ 2x_1 - x_2 + 3x_3 - x_4 + x_5 \\le 7 $$\n$$ -x_1 + 4x_2 + x_3 + 2x_4 - 3x_5 \\ge 5 $$\n$$ 3x_1 - 2x_2 + x_4 - x_5 = -2 $$\n符号约束为：\n$$ x_1 \\ge 0, \\quad x_2 \\le 0, \\quad x_3 \\text{ is free}, \\quad x_4 \\ge 0, \\quad x_5 \\text{ is free}. $$\n\n我们将通过处理每一处与标准形式定义的偏离，来将此问题转换为标准形式。\n\n**步骤 1：转换目标函数**\n目标函数是最大化，而标准形式要求最小化。一个函数 $z$ 的最大化等价于其相反数 $-z$ 的最小化。\n令 $z' = -z = -(5x_1 - 3x_2 + x_3 + x_4 - 2x_5)$。\n新的目标函数是：\n$$ \\min\\; z' = -5x_1 + 3x_2 - x_3 - x_4 + 2x_5 $$\n\n**步骤 2：转换符号约束**\n标准形式要求所有变量都是非负的。我们将引入新变量来替换那些不满足此标准的变量。\n\n- 变量 $x_1$ 和 $x_4$ 已经满足非负约束，$x_1 \\ge 0$ 和 $x_4 \\ge 0$。我们令 $y_1 = x_1$ 和 $y_5 = x_4$。\n\n- 变量 $x_2$ 是非正的，$x_2 \\le 0$。我们引入一个新变量 $y_2 \\ge 0$，使得 $x_2 = -y_2$。这个替换确保了新变量的非负性。\n\n- 变量 $x_3$ 和 $x_5$ 的符号无约束（自由变量）。任何自由变量都可以表示为两个非负变量的差。\n对于 $x_3$，我们引入 $y_3 \\ge 0$ 和 $y_4 \\ge 0$，使得 $x_3 = y_3 - y_4$。\n对于 $x_5$，我们引入 $y_6 \\ge 0$ 和 $y_7 \\ge 0$，使得 $x_5 = y_6 - y_7$。\n\n原始五个变量（$x_1, \\dots, x_5$）的转换总共需要 $1+1+2+1+2 = 7$ 个新的非负变量。\n\n**步骤 3：将约束转换为等式并确保RHS非负**\n标准形式要求所有约束都是等式且右端项非负。\n\n- 第一个约束是一个“小于等于”不等式：\n$$ 2x_1 - x_2 + 3x_3 - x_4 + x_5 \\le 7 $$\n右端项是正数。为了将其转换为等式，我们添加一个非负的**松弛变量**，我们称之为 $y_8$。\n$$ 2x_1 - x_2 + 3x_3 - x_4 + x_5 + y_8 = 7, \\quad \\text{with } y_8 \\ge 0 $$\n\n- 第二个约束是一个“大于等于”不等式：\n$$ -x_1 + 4x_2 + x_3 + 2x_4 - 3x_5 \\ge 5 $$\n右端项是正数。为了将其转换为等式，我们减去一个非负的**剩余变量**，我们称之为 $y_9$。\n$$ -x_1 + 4x_2 + x_3 + 2x_4 - 3x_5 - y_9 = 5, \\quad \\text{with } y_9 \\ge 0 $$\n\n- 第三个约束已经是等式，但其右端项为负：\n$$ 3x_1 - 2x_2 + x_4 - x_5 = -2 $$\n为了使右端项非负，我们将整个等式两边乘以 $-1$：\n$$ -3x_1 + 2x_2 - x_4 + x_5 = 2 $$\n此操作不需要引入新变量。\n\n不等式约束的转换引入了 $1+1=2$ 个新的非负变量。\n\n**步骤 4：整合为标准形式问题**\n我们现在将步骤 2 中定义的新变量代入步骤 1 的目标函数和步骤 3 的约束条件中。\n\n代换如下：\n$x_1 = y_1$\n$x_2 = -y_2$\n$x_3 = y_3 - y_4$\n$x_4 = y_5$\n$x_5 = y_6 - y_7$\n\n目标函数变为：\n$$ \\min\\; z' = -5(y_1) + 3(-y_2) - (y_3 - y_4) - (y_5) + 2(y_6 - y_7) $$\n$$ \\min\\; z' = -5y_1 - 3y_2 - y_3 + y_4 - y_5 + 2y_6 - 2y_7 + 0y_8 + 0y_9 $$\n\n约束条件变为：\n1. $2(y_1) - (-y_2) + 3(y_3 - y_4) - (y_5) + (y_6 - y_7) + y_8 = 7$\n   $2y_1 + y_2 + 3y_3 - 3y_4 - y_5 + y_6 - y_7 + y_8 = 7$\n\n2. $-(y_1) + 4(-y_2) + (y_3 - y_4) + 2(y_5) - 3(y_6 - y_7) - y_9 = 5$\n   $-y_1 - 4y_2 + y_3 - y_4 + 2y_5 - 3y_6 + 3y_7 - y_9 = 5$\n\n3. $-3(y_1) + 2(-y_2) - (y_5) + (y_6 - y_7) = 2$\n   $-3y_1 - 2y_2 - y_5 + y_6 - y_7 = 2$\n\n标准形式中完整的变量向量是 $\\mathbf{y} = (y_1, y_2, y_3, y_4, y_5, y_6, y_7, y_8, y_9)^\\top$，条件为 $\\mathbf{y} \\ge \\mathbf{0}$。\n\n**步骤 5：计算变量总数**\n问题要求计算最终向量 $\\mathbf{y}$ 中的变量总数。我们来一一列举：\n- $y_1$ (来自 $x_1 \\ge 0$)\n- $y_2$ (来自 $x_2 \\le 0$)\n- $y_3, y_4$ (来自自由变量 $x_3$)\n- $y_5$ (来自 $x_4 \\ge 0$)\n- $y_6, y_7$ (来自自由变量 $x_5$)\n- $y_8$ (约束1的松弛变量)\n- $y_9$ (约束2的剩余变量)\n\n变量总数为 $1 + 1 + 2 + 1 + 2 + 1 + 1 = 9$。\n最终的标准形式变量向量 $\\mathbf{y}$ 有 $9$ 个分量。",
            "answer": "$$\\boxed{9}$$"
        },
        {
            "introduction": "在掌握了基本转换方法后，让我们将这些技能应用于一个更贴近现实的场景。这个问题模拟了一个燃料混合过程，其中引入了在实际应用中常见的“箱式约束”（即变量同时具有上下界）和双边不等式。通过解决这个问题，你将学会如何调整和应用标准形式转换规则来处理这些更细致和复杂的情况。",
            "id": "3113264",
            "problem": "一家炼油厂考虑将四种组分混合成一种汽油产品：组分 $1$（普通汽油）、组分 $2$（高级汽油）、组分 $3$（特级汽油）和组分 $4$（乙醇）。决策变量 $x_{1}, x_{2}, x_{3}, x_{4}$ 表示混合物中每种组分的体积比例。它们的辛烷值分别为 $o_{1} = 87$、$o_{2} = 90$、$o_{3} = 96$ 和 $o_{4} = 110$。单位成本分别为 $c_{1} = 1.04$、$c_{2} = 1.12$、$c_{3} = 1.31$ 和 $c_{4} = 1.18$。混合物必须满足以下约束条件：\n- 各组分比例有界：$x_{1} \\in [0.2, 0.6]$、$x_{2} \\in [0.1, 0.5]$、$x_{3} \\in [0.1, 0.4]$、$x_{4} \\in [0.0, 0.3]$。\n- 混合物的辛烷值（由线性混合 $o^{\\top} x$ 近似）必须在 $91$ 和 $93$ 之间（含边界值），即 $91 \\le o_{1} x_{1} + o_{2} x_{2} + o_{3} x_{3} + o_{4} x_{4} \\le 93$。\n- 各组分比例之和为一：$\\sum_{i=1}^{4} x_{i} = 1$。\n\n该线性规划问题是在这些约束条件下，最小化单位成本，即 $\\min c^{\\top} x$。\n\n从线性规划的核心定义和标准形式（最小化 $c^{\\top} z$，约束条件为 $A z = b, z \\geq 0$）出发，通过适当的变量替换和引入辅助非负变量来处理边界和双边不等式，将此混合问题转换为标准形式。然后，分析等式 $\\sum_{i=1}^{4} x_{i} = 1$ 如何在结构上锚定模型。最后，确定你所得到的标准形式中等式约束矩阵 $A$ 的零度（在没有非负性不等式的情况下，$A z = b$ 的解空间的维度）。请给出作为精确整数的最终零度值。无需四舍五入。",
            "solution": "用户提出了一个线性规划问题，要求将其转换为标准形式，分析一个特定约束，并计算所得约束矩阵的零度。\n\n首先，我将验证问题陈述。\n\n### 步骤 1：提取已知条件\n- 决策变量：$x_{1}, x_{2}, x_{3}, x_{4}$ 是体积比例。\n- 辛烷值：$o = (o_{1}, o_{2}, o_{3}, o_{4})^{\\top} = (87, 90, 96, 110)^{\\top}$。\n- 单位成本：$c = (c_{1}, c_{2}, c_{3}, c_{4})^{\\top} = (1.04, 1.12, 1.31, 1.18)^{\\top}$。\n- 组分边界：\n  - $0.2 \\leq x_{1} \\leq 0.6$\n  - $0.1 \\leq x_{2} \\leq 0.5$\n  - $0.1 \\leq x_{3} \\leq 0.4$\n  - $0.0 \\leq x_{4} \\leq 0.3$\n- 混合物辛烷值约束：$91 \\leq o_{1} x_{1} + o_{2} x_{2} + o_{3} x_{3} + o_{4} x_{4} \\leq 93$。\n- 比例和约束：$\\sum_{i=1}^{4} x_{i} = 1$。\n- 目标：最小化单位成本，$\\min c^{\\top} x$。\n\n### 步骤 2：使用提取的已知条件进行验证\n该问题具有科学依据，提法恰当且客观。这是一个典型的混合问题，是线性规划的经典应用。所提供的数据对于汽油混合是现实的。问题本身是自洽的，数学上一致，所有术语都定义清晰。它没有违反任何指定的无效标准。\n\n### 步骤 3：结论与行动\n问题是有效的。我将继续进行求解。\n\n问题要求将给定的线性规划转换为标准形式，其定义为：\n$$ \\min\\; c_{std}^{\\top} z $$\n$$ \\text{subject to } A z = b, \\quad z \\ge 0 $$\n这要求所有变量都是非负的，并且所有一般约束都是等式。\n\n**1. 转换为标准形式**\n\n给定问题中的变量 $x_i$ 不是非负的（它们有非零的下界），并且约束条件是不等式。我们按顺序处理这些问题。\n\n**a. 变量替换**\n为了处理下界 $x_i \\ge l_i$，我们引入新变量 $x'_i \\ge 0$，定义为 $x_i = x'_i + l_i$。下界分别为 $l_1 = 0.2$、$l_2 = 0.1$、$l_3 = 0.1$ 和 $l_4 = 0.0$。\n因此，变量替换为：\n- $x_1 = x'_1 + 0.2$\n- $x_2 = x'_2 + 0.1$\n- $x_3 = x'_3 + 0.1$\n- $x_4 = x'_4 + 0.0 = x'_4$\n其中 $x'_1, x'_2, x'_3, x'_4 \\ge 0$。\n\n$x_i$ 的上界转换为 $x'_i$ 的上界：\n- $x_1 \\le 0.6 \\implies x'_1 + 0.2 \\le 0.6 \\implies x'_1 \\le 0.4$\n- $x_2 \\le 0.5 \\implies x'_2 + 0.1 \\le 0.5 \\implies x'_2 \\le 0.4$\n- $x_3 \\le 0.4 \\implies x'_3 + 0.1 \\le 0.4 \\implies x'_3 \\le 0.3$\n- $x_4 \\le 0.3 \\implies x'_4 \\le 0.3$\n\n**b. 重写目标和约束**\n\n现在，我们将这些新变量代入目标函数和约束条件中。\n\n目标函数变为：\n$$ \\min \\sum_{i=1}^{4} c_i x_i = \\min \\left( 1.04(x'_1 + 0.2) + 1.12(x'_2 + 0.1) + 1.31(x'_3 + 0.1) + 1.18 x'_4 \\right) $$\n$$ \\min \\left( 1.04 x'_1 + 1.12 x'_2 + 1.31 x'_3 + 1.18 x'_4 + 1.04(0.2) + 1.12(0.1) + 1.31(0.1) \\right) $$\n$$ \\min \\left( 1.04 x'_1 + 1.12 x'_2 + 1.31 x'_3 + 1.18 x'_4 + 0.208 + 0.112 + 0.131 \\right) $$\n$$ \\min \\left( 1.04 x'_1 + 1.12 x'_2 + 1.31 x'_3 + 1.18 x'_4 + 0.451 \\right) $$\n由于目标函数中的常数项不改变最优解向量，我们可以最小化变量部分：\n$$ \\min 1.04 x'_1 + 1.12 x'_2 + 1.31 x'_3 + 1.18 x'_4 $$\n\n比例和约束变为：\n$$ \\sum_{i=1}^{4} x_i = (x'_1 + 0.2) + (x'_2 + 0.1) + (x'_3 + 0.1) + x'_4 = 1 $$\n$$ x'_1 + x'_2 + x'_3 + x'_4 + 0.4 = 1 $$\n$$ x'_1 + x'_2 + x'_3 + x'_4 = 0.6 $$\n\n辛烷值约束变为：\n$$ 91 \\le 87(x'_1 + 0.2) + 90(x'_2 + 0.1) + 96(x'_3 + 0.1) + 110 x'_4 \\le 93 $$\n表达式中的常数偏移量为：\n$$ 87(0.2) + 90(0.1) + 96(0.1) = 17.4 + 9.0 + 9.6 = 36.0 $$\n将其代回：\n$$ 91 \\le 87 x'_1 + 90 x'_2 + 96 x'_3 + 110 x'_4 + 36.0 \\le 93 $$\n从不等式的所有部分减去 $36.0$：\n$$ 55 \\le 87 x'_1 + 90 x'_2 + 96 x'_3 + 110 x'_4 \\le 57 $$\n\n**c. 引入松弛变量和剩余变量**\n\n我们通过引入非负的松弛变量和剩余变量，将剩余的不等式转换为等式。\n\n双边辛烷值约束被分解为两个不等式：\n1. $87 x'_1 + 90 x'_2 + 96 x'_3 + 110 x'_4 \\ge 55$\n2. $87 x'_1 + 90 x'_2 + 96 x'_3 + 110 x'_4 \\le 57$\n\n我们为第一个不等式引入一个剩余变量 $s_{o1} \\ge 0$，为第二个不等式引入一个松弛变量 $s_{o2} \\ge 0$：\n1. $87 x'_1 + 90 x'_2 + 96 x'_3 + 110 x'_4 - s_{o1} = 55$\n2. $87 x'_1 + 90 x'_2 + 96 x'_3 + 110 x'_4 + s_{o2} = 57$\n\n使用松弛变量 $s_1, s_2, s_3, s_4 \\ge 0$ 转换 $x'_i$ 的上界不等式：\n- $x'_1 \\le 0.4 \\implies x'_1 + s_1 = 0.4$\n- $x'_2 \\le 0.4 \\implies x'_2 + s_2 = 0.4$\n- $x'_3 \\le 0.3 \\implies x'_3 + s_3 = 0.3$\n- $x'_4 \\le 0.3 \\implies x'_4 + s_4 = 0.3$\n\n**d. 标准形式的线性规划**\n\n标准形式问题由决策变量向量 $z$、成本向量 $c_{std}$、约束矩阵 $A$ 和右侧向量 $b$ 定义。\n\n变量向量为 $z = (x'_1, x'_2, x'_3, x'_4, s_1, s_2, s_3, s_4, s_{o1}, s_{o2})^{\\top}$。总共有 $10$ 个变量，所有变量都要求非负 ($z \\ge 0$)。\n\n目标函数为：\n$$ \\text{minimize } c_{std}^{\\top} z = 1.04 x'_1 + 1.12 x'_2 + 1.31 x'_3 + 1.18 x'_4 + 0 s_1 + \\dots + 0 s_{o2} $$\n\n等式约束系统 $Az = b$ 由 $7$ 个方程组成：\n1. $x'_1 + x'_2 + x'_3 + x'_4 = 0.6$\n2. $87 x'_1 + 90 x'_2 + 96 x'_3 + 110 x'_4 - s_{o1} = 55$\n3. $87 x'_1 + 90 x'_2 + 96 x'_3 + 110 x'_4 + s_{o2} = 57$\n4. $x'_1 + s_1 = 0.4$\n5. $x'_2 + s_2 = 0.4$\n6. $x'_3 + s_3 = 0.3$\n7. $x'_4 + s_4 = 0.3$\n\n约束矩阵 $A$ 是一个 $7 \\times 10$ 矩阵，$b$ 是一个 $7 \\times 1$ 向量：\n$$\nA = \\begin{pmatrix}\n1     1     1     1    0  0  0  0   0    0 \\\\\n87    90    96    110  0  0  0  0  -1    0 \\\\\n87    90    96    110  0  0  0  0   0    1 \\\\\n1     0     0     0    1  0  0  0   0    0 \\\\\n0     1     0     0    0  1  0  0   0    0 \\\\\n0     0     1     0    0  0  1  0   0    0 \\\\\n0     0     0     1    0  0  0  1   0    0\n\\end{pmatrix}\n\\quad\nb = \\begin{pmatrix}\n0.6 \\\\ 55 \\\\ 57 \\\\ 0.4 \\\\ 0.4 \\\\ 0.3 \\\\ 0.3\n\\end{pmatrix}\n$$\n这就完成了到标准形式的转换。\n\n**2. 比例和约束的分析**\n\n等式约束 $\\sum_{i=1}^{4} x_{i} = 1$ 对此混合问题在结构上是基础性的。它作为一个归一化条件，严格地将变量 $x_i$ 定义为单一参考单位汽油混合物的比例。目标函数旨在最小化*单位*成本，而此约束确立了所指的“单位”本身。没有这个约束，问题将是病态的。例如，如果成本向量 $c$ 的所有分量都是正的，那么平凡解 $x=0$ 会产生零成本，但这在物理上毫无意义，并且会违反辛烷值约束。如果存在一个可行解 $x^*$，其成本 $c^\\top x^*  0$，那么通过缩放 $x^*$（即当 $\\alpha \\to \\infty$ 时取 $\\alpha x^*$），目标可以变得任意小（负无穷），从而使问题无界。约束 $\\sum x_i = 1$ 将可行解集限制在一个特定的仿射超平面上，当该超平面与其他边界约束相交时，会形成一个紧致的（封闭且有界的）可行域。根据极值定理，连续的目标函数保证能在这个紧致集上达到最小值。\n\n**3. 约束矩阵 A 的零度**\n\n矩阵 $A$ 的零度是其零空间的维度，即 $\\text{dim}(\\text{Null}(A))$。根据秩-零度定理，对于一个有 $n$ 列的矩阵，其零度由下式给出：\n$$ \\text{nullity}(A) = n - \\text{rank}(A) $$\n在我们的案例中，矩阵 $A$ 有 $n=10$ 列。我们需要确定它的秩，即线性无关的行或列的数量。我们将检查 $A$ 的 7 个行的线性无关性。设这些行为 $R_1, \\dots, R_7$。我们寻找系数 $\\alpha_1, \\dots, \\alpha_7$ 使得它们的线性组合为零向量：\n$$ \\sum_{i=1}^{7} \\alpha_i R_i = \\mathbf{0} $$\n让我们逐列检查这个方程。对应于松弛变量和剩余变量的列最能提供信息。\n- 第 5 列（变量 $s_1$）：此列为 $(0,0,0,1,0,0,0)^{\\top}$。该列对应的方程是 $\\alpha_4 \\cdot 1 = 0$，这意味着 $\\alpha_4 = 0$。\n- 第 6 列（变量 $s_2$）：此列为 $(0,0,0,0,1,0,0)^{\\top}$。方程为 $\\alpha_5 \\cdot 1 = 0$，所以 $\\alpha_5 = 0$。\n- 第 7 列（变量 $s_3$）：此列为 $(0,0,0,0,0,1,0)^{\\top}$。方程为 $\\alpha_6 \\cdot 1 = 0$，所以 $\\alpha_6 = 0$。\n- 第 8 列（变量 $s_4$）：此列为 $(0,0,0,0,0,0,1)^{\\top}$。方程为 $\\alpha_7 \\cdot 1 = 0$，所以 $\\alpha_7 = 0$。\n\n在 $\\alpha_4, \\alpha_5, \\alpha_6, \\alpha_7$ 均为零的情况下，线性组合简化为：\n$$ \\alpha_1 R_1 + \\alpha_2 R_2 + \\alpha_3 R_3 = \\mathbf{0} $$\n让我们检查剩余的列：\n- 第 9 列（变量 $s_{o1}$）：$R_1, R_2, R_3$ 中对应的条目是 $0, -1, 0$。方程为 $\\alpha_1(0) + \\alpha_2(-1) + \\alpha_3(0) = 0$，这意味着 $\\alpha_2 = 0$。\n- 第 10 列（变量 $s_{o2}$）：条目为 $0, 0, 1$。方程为 $\\alpha_1(0) + \\alpha_2(0) + \\alpha_3(1) = 0$，这意味着 $\\alpha_3 = 0$。\n\n这使得我们只剩下 $\\alpha_1 R_1 = \\mathbf{0}$。由于 $R_1 = (1, 1, 1, 1, 0, \\dots, 0)$ 不是零向量，我们必须有 $\\alpha_1 = 0$。\n因此，$\\sum \\alpha_i R_i = \\mathbf{0}$ 的唯一解是 $\\alpha_1 = \\alpha_2 = \\dots = \\alpha_7 = 0$。这证明了 $A$ 的 7 个行是线性无关的。\n因此，$A$ 的秩等于行数，即 $\\text{rank}(A) = 7$。\n\n最后，我们计算 $A$ 的零度：\n$$ \\text{nullity}(A) = 10 - \\text{rank}(A) = 10 - 7 = 3 $$\n$Az = b$ 的解空间（不考虑非负性约束）的维度是 $3$。",
            "answer": "$$\\boxed{3}$$"
        }
    ]
}