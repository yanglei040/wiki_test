{
    "hands_on_practices": [
        {
            "introduction": "切平面不仅仅是抽象的数学对象，它们可以直接从建模中常见的逻辑约束（例如“如果-那么”规则）中导出。本练习 () 将指导您如何将一个逻辑蕴含式转化为其最紧密的线性不等式，这个过程揭示了精确建模的力量。通过这个练习，您将亲身体会到收紧变量界限如何直接转化为更强的切平面。",
            "id": "3115608",
            "problem": "一个二进制决策变量 $x \\in \\{0,1\\}$ 和一个连续变量 $y \\in \\mathbb{R}$ 用于对一个逻辑蕴含进行建模，该蕴含要求每当 $x=1$ 成立时，连续变量必须满足 $y \\leq b$。给定数据 $b=7$ 以及 $y$ 的已知有效界限，即 $2 \\leq y \\leq 11$。一个朴素的大M编码形式为 $y \\leq b + M(1 - x)$，其中 $M$ 是一个大常数，但选择过大的 $M$ 会导致一个弱的线性规划松弛。\n\n从第一性原理和核心定义出发，完成以下任务：\n\n1) 使用大M不等式对蕴含关系 $x=1 \\Rightarrow y \\leq b$ 进行编码。解释 $M$ 必须满足的、相对于$y$的已知上界的有效性条件，以确保该编码在 $x=0$ 时不会切掉任何可行点。\n\n2) 仅使用$y$的已知界限，推导出$M$的最小有效值，该值能对所有 $x \\in \\{0,1\\}$ 保持蕴含关系的正确性。\n\n3) 考虑线性规划松弛，其中 $x \\in [0,1]$。应用混合整数舍入（MIR）原理于大M不等式，并结合$y$的界限信息，推导出一个关于 $(x,y)$ 的单一有效线性不等式，该不等式\n- 对所有整数可行点（其中 $x \\in \\{0,1\\}$）均成立，\n- 切掉了分数点 $(x,y)=(0.4,11)$，而该点在使用一个非常大的 $M$ 的朴素大M方法下是可行的，并且\n- 与 $x=0$ 和 $x=1$ 两种情况下对 $y$ 形成约束的凸包重合。\n\n将你的最终结果表示为 $y \\leq \\alpha + \\beta x$ 的形式，并提供显式表达式 $\\alpha + \\beta x$ 作为你的答案。无需四舍五入。",
            "solution": "在验证问题陈述之后，将按要求分三部分解决此问题。\n\n首先，根据所需标准对问题进行验证。\n**第1步：提取已知条件**\n- 二进制决策变量：$x \\in \\{0, 1\\}$\n- 连续变量：$y \\in \\mathbb{R}$\n- 需要建模的逻辑蕴含：$x=1 \\Rightarrow y \\leq b$\n- 给定常数：$b=7$\n- 连续变量的已知界限：$2 \\leq y \\leq 11$。我们将下界记为 $L=2$，上界记为 $U=11$。\n- 提出的大M不等式形式：$y \\leq b + M(1 - x)$\n\n**第2步：使用提取的已知条件进行验证**\n该问题在优化和整数规划这一成熟的数学领域中具有科学基础。大M公式、线性规划松弛和切平面（特别是混合整数舍入）等概念都是标准且定义明确的。该问题是适定的、客观的、自洽的，提供了推导唯一解所需的所有必要数据（$b=7$，$y$的界限）。数据是一致的，不包含任何矛盾。该问题没有表现出指令中列出的任何缺陷，例如不健全、琐碎或模棱两可。\n\n**第3步：结论与行动**\n该问题是**有效**的。将提供一个完整的、有理有据的解答。\n\n**第1部分：大M公式和有效性条件**\n\n需要编码的逻辑蕴含是 $x=1 \\Rightarrow y \\leq b$。给定的大M不等式形式为 $y \\leq b + M(1 - x)$，其中 $M$ 是一个足够大的正常数。我们针对 $x$ 的两种可能的整数值来分析这个不等式。\n\n情况1：$x=1$。\n不等式变为 $y \\leq b + M(1-1)$，化简为 $y \\leq b$。这正确地强制了蕴含关系的后件，正如所要求的那样。\n\n情况2：$x=0$。\n蕴含关系的前提（$x=1$）为假，因此该蕴含关系是空真（vacuously true）的。在这种情况下，大M约束不应对 $y$ 施加任何超出其预先存在界限（给定为 $2 \\leq y \\leq 11$）的新限制。上界是 $y \\leq 11$。\n当 $x=0$ 时，不等式变为 $y \\leq b + M(1-0)$，化简为 $y \\leq b+M$。\n为使此约束相对于 $y$ 的已知上界（我们称之为 $U=11$）不具限制性，新的上限 $b+M$ 必须大于或等于 $U$。\n因此，有效性条件是 $b+M \\geq U$。\n这可以被重写以提供一个关于 $M$ 的条件：\n$M \\geq U - b$。\n任何满足此条件的 $M$ 值都可确保，如果 $x=0$，约束 $y \\leq b+M$ 是冗余的，因为已知 $y$ 受 $y \\leq U$ 的约束。如果 $M  U-b$，则 $b+M  U$，约束 $y \\leq b+M$ 会错误地切掉其中 $x=0$ 且 $b+M  y \\leq U$ 的可行解。\n\n**第2部分：$M$的最小有效值**\n\n从第1部分可知，$M$ 能产生一个有效公式的条件是 $M \\geq U - b$。为了创建最紧的线性规划松弛，我们应该选择 $M$ 的最小可能有效值。\n满足这个不等式的最小 $M$ 值是 $M = U - b$。\n使用给定数据：\n- $y$ 的上界是 $U=11$。\n- 蕴含关系中的常数是 $b=7$。\n\n代入这些值，我们找到最小的有效 $M$：\n$$M_{\\text{min}} = U - b = 11 - 7 = 4$$\n\n**第3部分：混合整数舍入（MIR）割的推导**\n\n问题要求我们使用混合整数舍入原理，推导出一个代表可行区域凸包的单一有效线性不等式。这等同于为问题推导出最紧的线性不等式。这可以通过将最小的有效 $M$（在第2部分中推导）代入通用的大M不等式来实现。这个过程是生成析取割的一个特例，而析取割是MIR割的一种形式。\n\n让我们从大M不等式开始：\n$$y \\leq b + M(1 - x)$$\n代入最紧的值 $M = U - b$：\n$$y \\leq b + (U-b)(1 - x)$$\n现在，我们展开并化简不等式的右侧：\n$$y \\leq b + (U-b) - (U-b)x$$\n$$y \\leq U - (U-b)x$$\n这是对于 $0 \\leq x \\leq 1$ 且对原始整数问题有效的最强线性不等式。让我们代入给定的数值，$U=11$ 和 $b=7$：\n$$y \\leq 11 - (11-7)x$$\n$$y \\leq 11 - 4x$$\n该不等式具有 $y \\leq \\alpha + \\beta x$ 的形式，其中 $\\alpha=11$ 和 $\\beta=-4$。\n\n我们根据问题的标准来验证这个不等式：\n1.  **对所有整数可行点均成立：**\n    - 如果 $x=0$：不等式变为 $y \\leq 11$。$x=0$ 的可行域是 $2 \\leq y \\leq 11$，因此该条件得到满足。\n    - 如果 $x=1$：不等式变为 $y \\leq 11 - 4(1) = 7$。$x=1$ 的可行域是 $y \\leq 7$ (且 $y \\geq 2$)，因此该条件得到满足。\n    该不等式对所有整数点均有效。\n\n2.  **切掉了分数点 $(x,y)=(0.4, 11)$：**\n    将该点代入我们推导出的不等式：\n    $$11 \\leq 11 - 4(0.4)$$\n    $$11 \\leq 11 - 1.6$$\n    $$11 \\leq 9.4$$\n    该陈述为假。因此，该不等式正确地切掉了分数点 $(0.4, 11)$，而在一个朴素的（较弱的）LP松弛下（例如，使用一个非常大的 $M$），该点本是可行的。\n\n3.  **与凸包重合：**\n    该混合整数问题的可行集是两条线段的并集：$\\{(0,y) | 2 \\leq y \\leq 11\\}$ 和 $\\{(1,y) | 2 \\leq y \\leq 7\\}$。该集合的凸包是一个顶点为 $(0,2)$、$(0,11)$、$(1,7)$ 和 $(1,2)$ 的四边形。这个凸区域的上边界是连接点 $(0,11)$ 和 $(1,7)$ 的线段。穿过这两点的直线方程是 $y = (7-11)x + 11$，化简为 $y = -4x + 11$。我们推导出的不等式 $y \\leq 11 - 4x$ 精确地定义了这个上边界。\n\n因此，显式表达式 $\\alpha + \\beta x$ 是 $11 - 4x$。",
            "answer": "$$\\boxed{11 - 4x}$$"
        },
        {
            "introduction": "这最后一个练习挑战了我们在前一个练习中可能建立的直觉：一个几何上“最深”的切割总是“最好”的切割吗？这个思想实验 () 构建了一个特殊的场景，其中一个几何上很强的切割对目标函数值的改进却为零。它深刻地揭示了切平面的方向与优化目标方向之间的相互关系所起的关键作用，这是理解和设计高效切平面算法的一个重要见解。",
            "id": "3115638",
            "problem": "考虑以下 $0$-$1$ 背包整数规划 (IP) 实例，该实例旨在说明割平面有效性与目标函数平行性之间的相互作用：\n\n最大化线性目标函数\n$$c^{\\top}x = x_{1}$$\n满足背包约束\n$$x_{1} + 5x_{2} + 5x_{3} + 5x_{4} \\leq 14.9,$$\n以及整数性和边界约束\n$$x_{i} \\in \\{0,1\\} \\text{ for } i \\in \\{1,2,3,4\\}, \\quad 0 \\leq x_{i} \\leq 1.$$\n\n考虑通过将 $x_{i} \\in \\{0,1\\}$ 替换为 $0 \\leq x_{i} \\leq 1$ 得到的线性规划 (LP) 松弛。在此松弛问题中，定义权重向量 $w = (1,5,5,5)$，容量 $b = 14.9$，以及目标向量 $c = (1,0,0,0)$。令 $C = \\{2,3,4\\}$ 为一个覆盖，即 $\\sum_{i \\in C} w_{i}  b$，并考虑相应的有效覆盖不等式（割平面）\n$$x_{2} + x_{3} + x_{4} \\leq 2.$$\n\n使用整数规划和线性规划中的基本定义（可行域、LP 松弛、$0$-$1$ 背包问题的覆盖不等式有效性），回答以下问题：\n\n1. 对于给定的目标和约束，推导 LP 松弛的最优极点 $x^{\\star}$。\n2. 计算覆盖割平面在 $x^{\\star}$ 处的违背量，以及从 $x^{\\star}$ 到由该割平面定义的超平面的欧几里得垂直距离。使用标准欧几里得范数来定义此垂直距离。\n3. 确定割平面超平面与目标方向之间的平行角。将平行角解释为目标向量与超平面之间的夹角，该角度等于目标向量与割平面法向量之间夹角的余角。\n4. 计算因添加割平面而带来的目标值 LP 界限改进量，该改进量定义为添加割平面前后的最优 LP 目标值之差。\n\n将 LP 界限的改进量作为你的最终答案。无需四舍五入。将最终答案表示为一个不带单位的实数。",
            "solution": "用户希望我解决一个由多个部分组成的问题，该问题涉及一个 $0$-$1$ 背包整数规划 (IP)、其线性规划 (LP) 松弛，以及添加一个割平面的效果。\n\n### 第 1 步：提取已知条件\n- **目标函数**：最大化 $c^{\\top}x = x_{1}$\n- **目标向量**：$c = (1, 0, 0, 0)^{\\top}$\n- **背包约束**：$x_{1} + 5x_{2} + 5x_{3} + 5x_{4} \\leq 14.9$\n- **权重向量**：$w = (1, 5, 5, 5)^{\\top}$\n- **容量**：$b = 14.9$\n- **整数性和边界约束**：对于 IP，$x_{i} \\in \\{0,1\\}$，对于 $i \\in \\{1,2,3,4\\}$。对于 LP 松弛，$0 \\leq x_{i} \\leq 1$。\n- **覆盖**：$C = \\{2,3,4\\}$\n- **覆盖不等式（割平面）**：$x_{2} + x_{3} + x_{4} \\leq 2$\n\n### 第 2 步：使用提取的已知条件进行验证\n该问题是整数规划和优化领域的一个标准练习。\n- **科学依据**：所有概念，包括 LP 松弛、$0$-$1$ 背包问题的覆盖不等式以及割平面的分析，都是数学优化中公认的原则。提供的数据与定义一致。集合 $C=\\{2,3,4\\}$ 是一个有效的覆盖，因为 $\\sum_{i \\in C} w_i = 5+5+5=15  14.9 = b$。相应的覆盖不等式 $\\sum_{i \\in C} x_i \\le |C|-1$，即 $x_2+x_3+x_4 \\le 2$，被正确地构建。\n- **适定性**：该问题由四个具体、可回答的问题组成，这些问题导向一个单一的数值最终答案。尽管 LP 松弛有多个最优解，但割平面的上下文意味着我们感兴趣的解是分数解，即一个 LP 求解器（例如基于单纯形法或连续背包问题的标准贪心算法的求解器）通常会识别出的解。这消除了任何潜在的歧义。\n- **目标**：该问题使用精确、无歧义的数学语言陈述。\n\n### 第 3 步：结论与行动\n该问题有效。将提供完整的解答。\n\n### 解题推导\n\n该问题要求对应用于一个 $0$-$1$ 背包问题的 LP 松弛的割平面进行四部分分析。\n\n**1. 推导 LP 松弛的最优极点 $x^{\\star}$。**\n\nLP 松弛问题为：\n最大化 $z = x_1$\n满足约束：\n$x_{1} + 5x_{2} + 5x_{3} + 5x_{4} \\leq 14.9$\n$0 \\leq x_i \\leq 1$ for $i \\in \\{1,2,3,4\\}$\n\n这是一个连续背包问题。我们可以使用贪心法找到一个最优基本可行解（一个极点），该方法按物品的目标系数与权重之比（$c_i/w_i$）进行排序，并按此顺序添加物品。\n各项比率为：\n- 物品 $1$：$c_1/w_1 = 1/1 = 1$\n- 物品 $2$：$c_2/w_2 = 0/5 = 0$\n- 物品 $3$：$c_3/w_3 = 0/5 = 0$\n- 物品 $4$：$c_4/w_4 = 0/5 = 0$\n\n贪心算法优先选择物品 1。\n- 添加物品 1：设 $x_1=1$。已用容量为 $w_1 \\times 1 = 1$。剩余容量为 $14.9 - 1 = 13.9$。\n物品 2、3 和 4 的目标函数系数为零。为了找到作为割平面方法目标的特定分数极点，我们继续填充背包。由于物品 2、3、4 的权重相同，它们的添加顺序无关紧要。\n- 添加物品 2：设 $x_2=1$。已用容量为 $w_2 \\times 1 = 5$。剩余容量为 $13.9 - 5 = 8.9$。\n- 添加物品 3：设 $x_3=1$。已用容量为 $w_3 \\times 1 = 5$。剩余容量为 $8.9 - 5 = 3.9$。\n- 添加物品 4：剩余容量为 $3.9$，权重为 $w_4=5$。我们可以取物品 4 的一部分，即 $x_4 = 3.9/5 = 0.78$。这用完了最后 $3.9$ 单位的容量。\n\n得到的 LP 最优解为 $x^{\\star} = (1, 1, 1, 0.78)$。这个解是一个极点，因为有四个线性无关的约束是紧的：$x_1=1$, $x_2=1$, $x_3=1$ 以及背包约束 $x_1+5x_2+5x_3+5x_4=14.9$。由于此解是分数解，它是被有效不等式“切割”的合理候选者。最优目标值为 $z_{LP} = x_1^{\\star} = 1$。\n\n**2. 计算违背量和距离。**\n\n覆盖割平面为 $x_{2} + x_{3} + x_{4} \\leq 2$。我们在 $x^{\\star}$ 处计算其左侧（LHS）的值：\nLHS = $x^{\\star}_{2} + x^{\\star}_{3} + x^{\\star}_{4} = 1 + 1 + 0.78 = 2.78$。\n割平面的违背量是左侧值超出右侧值（RHS）的量：\n违背量 = $2.78 - 2 = 0.78$。\n\n该割平面定义了一个超平面 $H: x_2+x_3+x_4-2=0$。其向量形式为 $a^{\\top}x - \\beta = 0$，其中法向量为 $a = (0, 1, 1, 1)^{\\top}$ 且 $\\beta=2$。从点 $y$ 到该超平面的欧几里得垂直距离由公式 $d = \\frac{|a^{\\top}y - \\beta|}{\\|a\\|_2}$ 给出。\n使用 $y = x^{\\star} = (1, 1, 1, 0.78)$：\n- 分子是 $|a^{\\top}x^{\\star} - \\beta| = |(0)(1) + (1)(1) + (1)(1) + (1)(0.78) - 2| = |2.78 - 2| = 0.78$。\n- 分母是法向量 $a$ 的欧几里得范数：$\\|a\\|_2 = \\sqrt{0^2 + 1^2 + 1^2 + 1^2} = \\sqrt{3}$。\n距离为 $d = \\frac{0.78}{\\sqrt{3}}$。\n\n**3. 确定平行角。**\n\n平行角定义为目标向量 $c$ 和割平面超平面 $H$ 之间的夹角。这是目标向量 $c$ 和割平面法向量 $a$ 之间夹角 $\\theta$ 的余角。\n- 目标向量：$c = (1, 0, 0, 0)^{\\top}$\n- 割平面法向量：$a = (0, 1, 1, 1)^{\\top}$\n\n角度 $\\theta$ 可通过点积计算：$\\cos(\\theta) = \\frac{c \\cdot a}{\\|c\\|_2 \\|a\\|_2}$。\n- $c \\cdot a = (1)(0) + (0)(1) + (0)(1) + (0)(1) = 0$。\n- $\\|c\\|_2 = \\sqrt{1^2+0^2+0^2+0^2} = 1$。\n- $\\|a\\|_2 = \\sqrt{3}$（来自第 2 部分）。\n因此，$\\cos(\\theta) = \\frac{0}{1 \\cdot \\sqrt{3}} = 0$。这意味着 $\\theta = \\arccos(0) = \\frac{\\pi}{2}$ 弧度（$90^{\\circ}$）。\n平行角 $\\phi$ 为 $\\phi = \\frac{\\pi}{2} - \\theta = \\frac{\\pi}{2} - \\frac{\\pi}{2} = 0$。\n夹角为 $0$ 意味着目标向量 $c$ 与割平面超平面平行，或者等价地说，与割平面法向量正交。\n\n**4. 计算 LP 界限的改进量。**\n\nLP 界限的改进量是添加割平面前后的最优 LP 目标值之差。\n- 添加割平面前的最优目标值：$z_{LP} = 1$。\n现在我们求解添加了割平面的新 LP：\n最大化 $z' = x_1$\n满足约束：\n$x_{1} + 5x_{2} + 5x_{3} + 5x_{4} \\leq 14.9$\n$x_{2} + x_{3} + x_{4} \\leq 2$ (新割平面)\n$0 \\leq x_i \\leq 1$ for $i \\in \\{1,2,3,4\\}$\n\n目标是最大化 $x_1$。约束条件包括 $x_1 \\leq 1$。因此，最优目标值 $z'_{LP}$ 不可能大于 $1$。我们必须检查目标值 $1$ 是否仍然可以达到。\n让我们设 $x_1=1$，看看是否能找到 $x_2, x_3, x_4$ 的可行值。对这些变量的约束变为：\n1. $1 + 5(x_{2} + x_{3} + x_{4}) \\leq 14.9 \\implies x_{2} + x_{3} + x_{4} \\leq \\frac{13.9}{5} = 2.78$。\n2. $x_{2} + x_{3} + x_{4} \\leq 2$。\n3. $0 \\leq x_i \\leq 1$ for $i \\in \\{2,3,4\\}$。\n\n第二个约束比第一个更严格。我们需要找到非负且 $\\leq 1$ 的 $x_2, x_3, x_4$，使它们的和最多为 $2$。一个简单的选择是 $x_2=1, x_3=1, x_4=0$。这满足所有条件。\n因此，点 $(1, 1, 1, 0)$ 是新 LP 的一个可行解。在该点处的目标值为 $z'=x_1=1$。\n既然我们找到了一个目标值为 $1$ 的可行解，并且可能的最大值也是 $1$，那么新的最优 LP 值就是 $z'_{LP} = 1$。\n\nLP 界限的改进量是 $z_{LP} - z'_{LP} = 1 - 1 = 0$。\n该割平面尽管很深，并且切掉了之前的分数最优解 $x^{\\star}$，但并未对目标函数界限产生任何改进。这是目标方向与割平面平行的直接结果（如第 3 部分所发现）。优化过程可以沿着新的可行面移动到一个新的最优解，该解保持相同的目标值。",
            "answer": "$$\\boxed{0}$$"
        }
    ]
}