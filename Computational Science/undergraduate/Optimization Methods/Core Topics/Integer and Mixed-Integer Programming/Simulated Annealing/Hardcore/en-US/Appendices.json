{
    "hands_on_practices": [
        {
            "introduction": "The first step in any local search optimization, including Simulated Annealing, is to define how to move from one potential solution to another. This set of accessible solutions from a given state is called its \"neighborhood.\" This exercise  uses the classic Traveling Salesperson Problem to help you practice defining a neighborhood, which is fundamental to how the algorithm explores the vast landscape of possible solutions.",
            "id": "2202549",
            "problem": "In the field of optimization, Simulated Annealing (SA) is a probabilistic technique used to find an approximate global optimum of a given function. Consider its application to a simplified version of the Traveling Salesperson Problem (TSP), where the goal is to find the shortest possible route that visits a set of cities and returns to the origin city.\n\nA \"state\" in this context is defined as a specific tour, represented by an ordered list (a permutation) of the cities to be visited. An algorithm is exploring the solution space for a problem with five distinct cities, labeled C1, C2, C3, C4, and C5.\n\nAt a certain step, the algorithm is at the current state $S = [\\text{C1, C2, C3, C4, C5}]$. To generate candidate moves, the algorithm defines a \"neighborhood\" of the current state. For this particular implementation, the neighborhood function is defined as follows: A new state is in the neighborhood of $S$ if and only if it can be obtained by swapping exactly one pair of adjacent cities in the list representing $S$.\n\nWhich of the following sets correctly and completely represents the neighborhood of the state $S$?\n\nA. $\\{[\\text{C2, C1, C3, C4, C5}], [\\text{C1, C3, C2, C4, C5}], [\\text{C1, C2, C4, C3, C5}], [\\text{C1, C2, C3, C5, C4}]\\}$\n\nB. $\\{[\\text{C5, C2, C3, C4, C1}], [\\text{C1, C4, C3, C2, C5}], [\\text{C1, C2, C5, C4, C3}]\\}$\n\nC. $\\{[\\text{C2, C1, C3, C4, C5}], [\\text{C1, C3, C2, C4, C5}], [\\text{C1, C2, C4, C3, C5}]\\}$\n\nD. $\\{[\\text{C2, C1, C3, C4, C5}], [\\text{C1, C3, C2, C4, C5}], [\\text{C1, C2, C4, C3, C5}], [\\text{C1, C2, C3, C5, C4}], [\\text{C1, C2, C3, C4, C5}]\\}$\n\nE. $\\{[\\text{C3, C2, C1, C4, C5}], [\\text{C1, C4, C3, C2, C5}], [\\text{C1, C2, C5, C4, C3}], [\\text{C5, C2, C3, C4, C1}]\\}$",
            "solution": "We are given the current state $S = [\\text{C1, C2, C3, C4, C5}]$ and a neighborhood defined by swapping exactly one pair of adjacent cities. In a list of length $n$, there are $n-1$ adjacent pairs; here $n=5$, so there are $5-1=4$ adjacent pairs: $(\\text{C1, C2})$, $(\\text{C2, C3})$, $(\\text{C3, C4})$, and $(\\text{C4, C5})$.\n\nSwapping each adjacent pair exactly once yields the following distinct neighbor states:\n- Swap $\\text{C1}$ and $\\text{C2}$: $[\\text{C2, C1, C3, C4, C5}]$.\n- Swap $\\text{C2}$ and $\\text{C3}$: $[\\text{C1, C3, C2, C4, C5}]$.\n- Swap $\\text{C3}$ and $\\text{C4}$: $[\\text{C1, C2, C4, C3, C5}]$.\n- Swap $\\text{C4}$ and $\\text{C5}$: $[\\text{C1, C2, C3, C5, C4}]$.\n\nTherefore, the neighborhood consists of exactly these four states. Comparing with the options:\n- A lists exactly these four states.\n- C omits $[\\text{C1, C2, C3, C5, C4}]$.\n- D incorrectly includes the original state, which requires zero swaps, violating the “exactly one” condition.\n- B and E include states not obtainable by a single adjacent swap.\n\nThus, the correct and complete set is given by option A.",
            "answer": "$$\\boxed{A}$$"
        },
        {
            "introduction": "The \"annealing\" in Simulated Annealing refers to the process of gradually cooling the system, which reduces the probability of accepting \"bad\" moves over time. The initial temperature is a critical parameter that governs the algorithm's exploratory power. This thought experiment  explores the crucial role of temperature and reveals why starting \"cold\" would defeat the very purpose of the algorithm, effectively turning it into a simpler, less powerful search method.",
            "id": "2202486",
            "problem": "A junior robotics engineer is tasked with optimizing the path for a robotic arm in a warehouse to pick up a series of items from specified locations. The goal is to find the sequence of pickups that minimizes the total travel distance of the arm's end-effector. This is a variation of the Traveling Salesperson Problem. The engineer decides to use the Simulated Annealing (SA) algorithm for this optimization task.\n\nIn the SA algorithm, a \"state\" is a specific sequence of pickups, and the \"energy\" or \"cost\" of a state is the total travel distance for that sequence. The algorithm starts from a random sequence and iteratively proposes a small change (e.g., swapping two items in the sequence). If the new sequence has a shorter total distance (lower energy), the change is always accepted. If the new sequence has a longer total distance (higher energy, $\\Delta E > 0$), it is accepted with a probability $P = \\exp(-\\Delta E / T)$, where $T$ is the current \"temperature\" of the system. The temperature starts high and is gradually decreased according to a cooling schedule.\n\nThe engineer, hoping to accelerate the search for a good solution, sets the initial temperature, $T_0$, to a very small positive value, close to zero. Which of the following statements best describes the most immediate and significant consequence of this choice on the algorithm's behavior?\n\nA. The algorithm will behave like a greedy descent (or hill-climbing) method, likely getting trapped in a local minimum close to the initial state.\n\nB. The algorithm will explore the solution space in a highly random fashion, taking a very long time to converge to any stable solution.\n\nC. The algorithm will have a higher probability of accepting moves that increase the travel distance compared to a run with a high initial temperature.\n\nD. The algorithm will find the globally optimal path more efficiently because it will waste no time exploring suboptimal paths.",
            "solution": "In simulated annealing, given a proposed move with energy change $\\Delta E$, the Metropolis acceptance rule is\n$$\nP_{\\text{accept}}(\\Delta E,T)=\n\\begin{cases}\n1, & \\Delta E \\le 0,\\\\\n\\exp\\!\\left(-\\frac{\\Delta E}{T}\\right), & \\Delta E > 0.\n\\end{cases}\n$$\nConsider the immediate effect of setting the initial temperature $T_{0}$ to a very small positive value. For any fixed $\\Delta E>0$,\n$$\n\\lim_{T \\to 0^{+}} \\exp\\!\\left(-\\frac{\\Delta E}{T}\\right)=\\exp\\!\\left(-\\lim_{T \\to 0^{+}}\\frac{\\Delta E}{T}\\right)=\\exp(-\\infty)=0.\n$$\nTherefore, at $T_{0}\\approx 0^{+}$ the probability of accepting any uphill move ($\\Delta E>0$) is essentially zero, while all downhill moves ($\\Delta E\\le 0$) are accepted with probability $1$. Equivalently, the algorithm reduces to a greedy descent (hill-climbing) procedure with respect to the proposed local move operator.\n\nMoreover, for $\\Delta E>0$ the acceptance probability is strictly and monotonically increasing in $T$ since\n$$\n\\frac{\\partial}{\\partial T}\\exp\\!\\left(-\\frac{\\Delta E}{T}\\right)=\\exp\\!\\left(-\\frac{\\Delta E}{T}\\right)\\frac{\\Delta E}{T^{2}}>0,\n$$\nso choosing a very small $T_{0}$ minimizes the chance of accepting uphill moves and thus minimizes exploratory behavior. Consequently, the most immediate and significant consequence is that the algorithm will likely become trapped in a local minimum near the initial state, matching option A. Options B and C contradict the property that the probability of accepting uphill moves increases with $T$, and option D is false because the lack of uphill acceptance undermines escape from local minima and thus global optimization.",
            "answer": "$$\\boxed{A}$$"
        },
        {
            "introduction": "The movement of the Simulated Annealing algorithm is a probabilistic two-step dance: first, a neighbor is proposed, and second, the move is accepted or rejected based on the Metropolis criterion. This problem  integrates these concepts, asking you to calculate the total probability of transitioning out of a given state. By working through this, you will solidify your understanding of how energy differences and temperature come together to guide the search process.",
            "id": "2202527",
            "problem": "A system can exist in one of six possible configurations, labeled {A, B, C, D, E, F}. A physicist is using a Simulated Annealing (SA) algorithm to find the configuration with the minimum energy. The energy, $E$, for each configuration is given as:\n$E(A) = 10$, $E(B) = 2$, $E(C) = 8$, $E(D) = 0$, $E(E) = 12$, $E(F) = 15$.\n\nThe SA algorithm works in steps. At each step, starting from a current configuration, it proposes a move to a new configuration. The set of possible new configurations, called the neighborhood, is very restricted. The allowed transitions are only between adjacent configurations in the sequence F-E-D-C-B-A. Specifically:\n- From A, one can only move to B.\n- From B, one can move to A or C.\n- From C, one can move to B or D.\n- From D, one can move to C or E.\n- From E, one can move to D or F.\n- From F, one can only move to E.\n\nAt a particular point, the algorithm has found the configuration B, and the annealing temperature is fixed for this step at $T=3$ (in units where the Boltzmann constant $k_B=1$). In the next step of the algorithm, a neighboring configuration is chosen uniformly at random from the set of allowed transitions. This proposed move is then accepted or rejected based on the Metropolis criterion:\n- If the change in energy, $\\Delta E = E_{new} - E_{current}$, is less than or equal to zero, the move is always accepted.\n- If $\\Delta E > 0$, the move is accepted with a probability of $P_{accept} = \\exp(-\\Delta E / T)$.\nIf a proposed move is rejected, the system remains in its current configuration.\n\nGiven that the system is currently in configuration B, calculate the total probability that the algorithm will transition to a different configuration in this single step. Round your final answer to three significant figures.",
            "solution": "We are at configuration B with energy $E(B)=2$. From B, the allowed neighboring configurations are A and C, chosen uniformly, so each is proposed with probability $1/2$.\n\nFor a proposed move to A:\n- The energy change is $\\Delta E_{B\\to A} = E(A) - E(B) = 10 - 2 = 8 > 0$.\n- With $T=3$ and $k_{B}=1$, the Metropolis acceptance probability is $P_{\\text{acc}}(B\\to A) = \\exp\\!\\left(-\\frac{\\Delta E}{T}\\right) = \\exp\\!\\left(-\\frac{8}{3}\\right)$.\n\nFor a proposed move to C:\n- The energy change is $\\Delta E_{B\\to C} = E(C) - E(B) = 8 - 2 = 6 > 0$.\n- The acceptance probability is $P_{\\text{acc}}(B\\to C) = \\exp\\!\\left(-\\frac{6}{3}\\right) = \\exp(-2)$.\n\nThe total probability of transitioning away from B in this step equals the sum over neighbors of the proposal probability times the acceptance probability:\n$$\nP_{\\text{move}}=\\frac{1}{2}\\exp\\!\\left(-\\frac{8}{3}\\right)+\\frac{1}{2}\\exp(-2).\n$$\nEvaluating numerically,\n$$\n\\exp(-2)\\approx 0.135335283,\\quad \\exp\\!\\left(-\\frac{8}{3}\\right)\\approx 0.06948345,\n$$\nso\n$$\nP_{\\text{move}}\\approx \\frac{1}{2}\\left(0.06948345+0.135335283\\right)\\approx 0.102409\\;\\;\\to\\;\\;0.102\\text{ (three significant figures)}.\n$$",
            "answer": "$$\\boxed{0.102}$$"
        }
    ]
}