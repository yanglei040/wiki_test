{
    "hands_on_practices": [
        {
            "introduction": "QR 分解的核心是找到一组正交基。Gram-Schmidt 正交化是实现这一目标的基础算法。本练习将引导你探索一个关键的特殊情况：当输入向量线性相关时，Gram-Schmidt 过程会发生什么？通过这个思想实验，你将更深刻地理解该算法的内在机理及其与向量空间维度的关系。",
            "id": "2195393",
            "problem": "格拉姆-施密特过程是一种算法，用于从任意一组生成向量中为向量空间构造一个标准正交基。考虑一个矩阵 $A$，其列向量是我们希望正交化的向量。设矩阵 $A$ 的列向量表示为 $a_1, a_2, \\dots, a_n$。该过程使用以下递推关系生成一组正交向量 $v_1, v_2, \\dots, v_n$：\n\n$v_1 = a_1$\n$v_k = a_k - \\sum_{j=1}^{k-1} \\frac{a_k \\cdot v_j}{v_j \\cdot v_j} v_j$ for $k = 2, 3, \\dots, n$.\n\n现在，考虑具有线性相关的列的特定矩阵 $A$ 如下\n$$ A = \\begin{pmatrix} 1  & 3 \\\\ -2 & -6 \\\\ 2 & 6 \\end{pmatrix} $$\n其中第一列是 $a_1 = \\begin{pmatrix} 1 \\\\ -2 \\\\ 2 \\end{pmatrix}$，第二列是 $a_2 = \\begin{pmatrix} 3 \\\\ -6 \\\\ 6 \\end{pmatrix}$。\n\n将上述定义的格拉姆-施密特过程应用于该矩阵 $A$ 的列向量。确定第二个正交向量 $v_2$ 的分量。\n\n将你的答案表示为包含向量 $v_2$ 分量的行矩阵。",
            "solution": "我们应用给定的（未归一化的）格拉姆-施密特过程。设 $a_{1}=\\begin{pmatrix}1\\\\-2\\\\2\\end{pmatrix}$ 和 $a_{2}=\\begin{pmatrix}3\\\\-6\\\\6\\end{pmatrix}$。\n\n第一个向量：\n$$\nv_{1}=a_{1}=\\begin{pmatrix}1\\\\-2\\\\2\\end{pmatrix}.\n$$\n\n使用以下公式计算第二个向量\n$$\nv_{2}=a_{2}-\\frac{a_{2}\\cdot v_{1}}{v_{1}\\cdot v_{1}}\\,v_{1}.\n$$\n计算点积：\n$$\nv_{1}\\cdot v_{1}=1^{2}+(-2)^{2}+2^{2}=9,\n$$\n$$\na_{2}\\cdot v_{1}=3\\cdot 1+(-6)\\cdot(-2)+6\\cdot 2=3+12+12=27.\n$$\n因此\n$$\n\\frac{a_{2}\\cdot v_{1}}{v_{1}\\cdot v_{1}}=\\frac{27}{9}=3,\n$$\n所以\n$$\nv_{2}=a_{2}-3v_{1}=\\begin{pmatrix}3\\\\-6\\\\6\\end{pmatrix}-3\\begin{pmatrix}1\\\\-2\\\\2\\end{pmatrix}=\\begin{pmatrix}0\\\\0\\\\0\\end{pmatrix}.\n$$\n因此，$v_{2}$ 的分量，写成行矩阵的形式为\n$$\n\\begin{pmatrix}0  & 0  & 0\\end{pmatrix}.\n$$",
            "answer": "$$\\boxed{\\begin{pmatrix} 0  & 0  & 0 \\end{pmatrix}}$$"
        },
        {
            "introduction": "虽然 Gram-Schmidt 过程在概念上很直观，但在数值计算中，Householder 变换等方法因其更优的数值稳定性而备受青睐。这种方法通过一系列的几何反射来构造 QR 分解。本练习将带你亲手构建一个 Householder 矩阵，让你体验如何利用反射将向量的特定分量清零，这是 QR 分解的一种高效实现方式。",
            "id": "2195439",
            "problem": "在数值线性代数中，Householder 变换是矩阵分解（例如 QR 分解）的一个关键工具。对于一个向量 $x \\in \\mathbb{R}^n$，其 Householder 矩阵 $H$ 是一个正交矩阵，由以下公式定义：\n$$H = I - 2 \\frac{vv^T}{v^T v}$$\n其中 $I$ 是单位矩阵，而*Householder 向量* $v$ 是根据 $x$ 构造的。为了将 $x$ 中除第一个分量外的所有分量置零，一个标准且数值稳定的 $v$ 的选择是：\n$$v = x + \\sigma \\|x\\| e_1$$\n此处，$e_1$ 是第一个标准基向量（一个列向量，其第一个位置为 1，其余位置为 0），$\\|x\\|$ 是 $x$ 的欧几里得范数，且 $\\sigma = \\text{sign}(x_1)$，其中 $x_1$ 是 $x$ 的第一个分量。符号函数定义为：如果 $z \\geq 0$，则 $\\text{sign}(z) = 1$；如果 $z  0$，则 $\\text{sign}(z) = -1$。\n\n给定向量 $x = \\begin{pmatrix} 1 \\\\ 2 \\\\ 2 \\end{pmatrix}$，求其对应的 Householder 矩阵 $H$。请将您的答案表示为一个元素为有理数的 3x3 矩阵。",
            "solution": "我们已知 $x = \\begin{pmatrix} 1 \\\\ 2 \\\\ 2 \\end{pmatrix}$ 以及 Householder 构造 $v = x + \\sigma \\|x\\| e_{1}$，其中 $\\sigma = \\text{sign}(x_{1})$。因为 $x_{1} = 1 \\geq 0$，所以我们有 $\\sigma = 1$。欧几里得范数为\n$$\n\\|x\\| = \\sqrt{x^{T}x} = \\sqrt{1^{2} + 2^{2} + 2^{2}} = \\sqrt{9} = 3.\n$$\n因此，\n$$\nv = x + \\|x\\| e_{1} = \\begin{pmatrix} 1 \\\\ 2 \\\\ 2 \\end{pmatrix} + \\begin{pmatrix} 3 \\\\ 0 \\\\ 0 \\end{pmatrix} = \\begin{pmatrix} 4 \\\\ 2 \\\\ 2 \\end{pmatrix}.\n$$\nHouseholder 矩阵为\n$$\nH = I - 2\\frac{vv^{T}}{v^{T}v}.\n$$\n计算所需的量：\n$$\nv^{T}v = 4^{2} + 2^{2} + 2^{2} = 16 + 4 + 4 = 24,\n$$\n$$\nvv^{T} = \\begin{pmatrix}\n16  8  8 \\\\\n8  4  4 \\\\\n8  4  4\n\\end{pmatrix}.\n$$\n于是，\n$$\nH = I - \\frac{2}{24} vv^{T} = I - \\frac{1}{12}\\begin{pmatrix}\n16  8  8 \\\\\n8  4  4 \\\\\n8  4  4\n\\end{pmatrix}\n= I - \\begin{pmatrix}\n\\frac{4}{3}  \\frac{2}{3}  \\frac{2}{3} \\\\\n\\frac{2}{3}  \\frac{1}{3}  \\frac{1}{3} \\\\\n\\frac{2}{3}  \\frac{1}{3}  \\frac{1}{3}\n\\end{pmatrix}.\n$$\n从单位矩阵中减去，得到\n$$\nH = \\begin{pmatrix}\n1 - \\frac{4}{3}  -\\frac{2}{3}  -\\frac{2}{3} \\\\\n-\\frac{2}{3}  1 - \\frac{1}{3}  -\\frac{1}{3} \\\\\n-\\frac{2}{3}  -\\frac{1}{3}  1 - \\frac{1}{3}\n\\end{pmatrix}\n=\n\\begin{pmatrix}\n-\\frac{1}{3}  -\\frac{2}{3}  -\\frac{2}{3} \\\\\n-\\frac{2}{3}  \\frac{2}{3}  -\\frac{1}{3} \\\\\n-\\frac{2}{3}  -\\frac{1}{3}  \\frac{2}{3}\n\\end{pmatrix}.\n$$\n这个 $H$ 确实满足 $Hx = \\begin{pmatrix} -3 \\\\ 0 \\\\ 0 \\end{pmatrix}$，将除第一个分量外的所有分量都置零了，并且其元素为有理数，符合要求。",
            "answer": "$$\\boxed{\\begin{pmatrix}-\\frac{1}{3}   -\\frac{2}{3}   -\\frac{2}{3} \\\\ -\\frac{2}{3}   \\frac{2}{3}   -\\frac{1}{3} \\\\ -\\frac{2}{3}   -\\frac{1}{3}   \\frac{2}{3}\\end{pmatrix}}$$"
        },
        {
            "introduction": "QR 分解最强大的应用之一是高效求解最小二乘问题，这在数据拟合、机器学习和统计学中无处不在。本练习将让你完整地体验这一应用流程。你将通过 QR 分解一个超定线性系统，并利用得到的正交矩阵 $Q$ 和上三角矩阵 $R$ 来轻松找到最佳拟合解。",
            "id": "1057054",
            "problem": "考虑超定系统 $A \\mathbf{x} = \\mathbf{b}$，其中 $A = \\begin{bmatrix} 1  2 \\\\ 3  4 \\\\ 5  6 \\end{bmatrix}$ 且 $\\mathbf{b} = \\begin{bmatrix} 1 \\\\ 1 \\\\ 2 \\end{bmatrix}$。最小二乘解使 $\\|A\\mathbf{x} - \\mathbf{b}\\|_2$ 最小化。使用 $A$ 的 QR 分解（其中 $Q$ 是一个具有标准正交列的矩阵，$R$ 是一个上三角矩阵）求解该系统，并给出 $\\mathbf{x}$ 的第二个分量，记为 $x_2$。QR 分解应通过 Gram-Schmidt 过程计算。请以简化表达式的形式给出 $x_2$ 的精确值。",
            "solution": "1. 对列向量 $a_1=(1,3,5)^T$ 和 $a_2=(2,4,6)^T$ 进行 Gram–Schmidt 正交化。\n\n   计算 \n   $$\n   r_{11}=\\|a_1\\|=\\sqrt{1^2+3^2+5^2}=\\sqrt{35},\\qquad\n   q_1=\\frac{a_1}{r_{11}}=\\frac{1}{\\sqrt{35}}(1,3,5)^T.\n   $$\n\n   接下来，\n   $$\n   r_{12}=q_1^T a_2\n     =\\frac{1\\cdot2+3\\cdot4+5\\cdot6}{\\sqrt{35}}\n     =\\frac{44}{\\sqrt{35}},\n   $$\n   $$\n   u_2=a_2-r_{12}q_1\n      =(2,4,6)^T-\\frac{44}{\\sqrt{35}}\\frac{1}{\\sqrt{35}}(1,3,5)^T\n      =\\frac{1}{35}(26,8,-10)^T,\n   $$\n   $$\n   r_{22}=\\|u_2\\|\n     =\\frac{2\\sqrt{210}}{35},\\qquad\n   q_2=\\frac{u_2}{r_{22}}\n       =\\frac{1}{\\sqrt{210}}(13,4,-5)^T.\n   $$\n\n2. 构造 $Q=[q_1\\;q_2]$，$R=\\begin{pmatrix}r_{11}  r_{12}\\\\0  r_{22}\\end{pmatrix}$ 并计算\n   $$\n   y=Q^T b,\\quad b=(1,1,2)^T.\n   $$\n   则\n   $$\n   y_1=q_1^Tb=\\frac{1+3+10}{\\sqrt{35}}=\\frac{14}{\\sqrt{35}}=\\frac{2\\sqrt{35}}{5},\\quad\n   y_2=q_2^Tb=\\frac{13+4-10}{\\sqrt{210}}=\\frac{7}{\\sqrt{210}}=\\frac{\\sqrt{210}}{30}.\n   $$\n\n3. 求解 $Rx=y$：\n   $$\n   \\begin{pmatrix}\\sqrt{35}  \\frac{44}{\\sqrt{35}} \\\\ 0  \\frac{2\\sqrt{210}}{35}\\end{pmatrix}\n   \\begin{pmatrix}x_1\\\\x_2\\end{pmatrix}\n   = \\begin{pmatrix}\\frac{2\\sqrt{35}}{5}\\\\\\frac{\\sqrt{210}}{30}\\end{pmatrix}.\n   $$\n\n   根据第二行，\n   $$\n   \\frac{2\\sqrt{210}}{35}\\,x_2=\\frac{\\sqrt{210}}{30}\n   \\quad\\Longrightarrow\\quad\n   x_2=\\frac{\\sqrt{210}/30}{2\\sqrt{210}/35}\n       =\\frac{35}{60}\n       =\\frac{7}{12}.\n   $$",
            "answer": "$$\\boxed{7/12}$$"
        }
    ]
}