{"hands_on_practices": [{"introduction": "The end of Dennard scaling marked a pivotal moment in processor design, where simply increasing clock frequency became unsustainable due to soaring power consumption. This first exercise [@problem_id:3667321] provides a hands-on calculation of this \"power wall\" by analyzing a common technique to boost frequency: pipeline deepening. You will quantify how the overhead from added logic can lead to a design that violates its power budget, making clear the trade-off between frequency and power.", "problem": "A microarchitectural redesign is proposed for a processor implemented in Complementary Metal-Oxide-Semiconductor (CMOS) technology. The baseline design operates at frequency $f_{0}$, supply voltage $V$, and exhibits an effective switched capacitance per cycle $C_{\\text{eff},0}$, defined as the product of the average activity factor and the total capacitance being switched each cycle. The baseline dynamic power is the product of the energy switched per cycle and the number of cycles per unit time, and the total power is the sum of dynamic power and leakage power. The proposed pipeline deepening halves the logic per stage, enabling the operating frequency to be doubled without changing $V$. However, due to additional pipeline registers and control logic, the effective switching per cycle increases by $20\\%$.\n\nYou are given:\n- Baseline frequency $f_{0} = 3.0\\ \\text{GHz}$,\n- Supply voltage $V = 1.0\\ \\text{V}$,\n- Baseline effective switched capacitance per cycle $C_{\\text{eff},0} = 12 \\times 10^{-9}\\ \\text{F}$,\n- Baseline leakage power $P_{\\text{leak}} = 18\\ \\text{W}$,\n- Maximum allowable package power $P_{\\max}$ (Thermal Design Power (TDP)) $= 95\\ \\text{W}$,\n- The pipeline sustains an average of one instruction retired per cycle in both designs.\n\nAssume the supply voltage does not change with the redesign, the leakage power remains the same, and the new effective switched capacitance per cycle is $C_{\\text{eff},1} = 1.2\\,C_{\\text{eff},0}$ while the new frequency is $f_{1} = 2\\,f_{0}$. Using well-tested relationships between dynamic energy, dynamic power, and throughput, determine whether the redesigned processor’s total power exceeds $P_{\\max}$ and compute the energy per instruction for the redesigned processor.\n\nExpress the final energy per instruction in nanojoules and round your answer to three significant figures.", "solution": "The problem provides a set of parameters for a baseline processor and a proposed redesign, and asks us to evaluate the total power consumption and energy per instruction of the redesigned processor.\n\nFirst, we must validate the problem statement.\n\n**Step 1: Extract Givens**\n- Baseline frequency: $f_{0} = 3.0\\ \\text{GHz} = 3.0 \\times 10^9\\ \\text{Hz}$\n- Supply voltage: $V = 1.0\\ \\text{V}$\n- Baseline effective switched capacitance per cycle: $C_{\\text{eff},0} = 12 \\times 10^{-9}\\ \\text{F}$\n- Baseline leakage power: $P_{\\text{leak}} = 18\\ \\text{W}$\n- Maximum allowable package power (TDP): $P_{\\max} = 95\\ \\text{W}$\n- Average instructions per cycle (IPC) for both designs: $\\text{IPC} = 1$\n- Supply voltage is constant: $V_{1} = V_{0} = V = 1.0\\ \\text{V}$\n- Leakage power is constant: $P_{\\text{leak},1} = P_{\\text{leak},0} = P_{\\text{leak}} = 18\\ \\text{W}$\n- Redesigned effective switched capacitance: $C_{\\text{eff},1} = 1.2\\,C_{\\text{eff},0}$\n- Redesigned frequency: $f_{1} = 2\\,f_{0}$\n\n**Step 2: Validate Using Extracted Givens**\nThe problem is scientifically grounded, utilizing the standard model for power consumption in CMOS digital circuits, where total power is the sum of dynamic and leakage power, and dynamic power is proportional to capacitance, the square of the voltage, and frequency. The scenario described—pipeline deepening to increase frequency at the cost of increased logic overhead (capacitance)—is a classic trade-off in processor design. The provided values for voltage, frequency, and power are within realistic ranges for modern microprocessors. The problem is well-posed, providing all necessary information to calculate the requested quantities. The language is objective and unambiguous. Therefore, the problem is deemed valid.\n\nWe proceed with the solution.\n\nThe total power consumption $P_{\\text{total}}$ of a CMOS processor is the sum of its dynamic power $P_{\\text{dyn}}$ and its static (leakage) power $P_{\\text{leak}}$.\n$$P_{\\text{total}} = P_{\\text{dyn}} + P_{\\text{leak}}$$\nThe dynamic power is the energy consumed per switching event multiplied by the number of switching events per second. It is given by the formula:\n$$P_{\\text{dyn}} = C_{\\text{eff}} V^2 f$$\nwhere $C_{\\text{eff}}$ is the effective switched capacitance per cycle, $V$ is the supply voltage, and $f$ is the operating frequency.\n\nLet's first calculate the dynamic power of the baseline design, $P_{\\text{dyn},0}$.\n$$P_{\\text{dyn},0} = C_{\\text{eff},0} V^2 f_{0}$$\nSubstituting the given values:\n$$C_{\\text{eff},0} = 12 \\times 10^{-9}\\ \\text{F}$$\n$$V = 1.0\\ \\text{V}$$\n$$f_{0} = 3.0 \\times 10^9\\ \\text{Hz}$$\n$$P_{\\text{dyn},0} = (12 \\times 10^{-9}\\ \\text{F}) \\times (1.0\\ \\text{V})^2 \\times (3.0 \\times 10^9\\ \\text{s}^{-1}) = 36\\ \\text{W}$$\nThe total power of the baseline design, $P_{\\text{total},0}$, is:\n$$P_{\\text{total},0} = P_{\\text{dyn},0} + P_{\\text{leak}} = 36\\ \\text{W} + 18\\ \\text{W} = 54\\ \\text{W}$$\nThis is below the maximum allowable power $P_{\\max} = 95\\ \\text{W}$, as expected.\n\nNow, we analyze the redesigned processor. The new parameters are:\n$$f_{1} = 2\\,f_{0} = 2 \\times (3.0 \\times 10^9\\ \\text{Hz}) = 6.0 \\times 10^9\\ \\text{Hz}$$\n$$C_{\\text{eff},1} = 1.2\\,C_{\\text{eff},0} = 1.2 \\times (12 \\times 10^{-9}\\ \\text{F}) = 14.4 \\times 10^{-9}\\ \\text{F}$$\nThe voltage $V$ and leakage power $P_{\\text{leak}}$ remain unchanged.\n\nThe dynamic power of the redesigned processor, $P_{\\text{dyn},1}$, is:\n$$P_{\\text{dyn},1} = C_{\\text{eff},1} V^2 f_{1}$$\nSubstituting the new parameters:\n$$P_{\\text{dyn},1} = (14.4 \\times 10^{-9}\\ \\text{F}) \\times (1.0\\ \\text{V})^2 \\times (6.0 \\times 10^9\\ \\text{s}^{-1}) = 86.4\\ \\text{W}$$\nAlternatively, we can express $P_{\\text{dyn},1}$ in terms of $P_{\\text{dyn},0}$:\n$$P_{\\text{dyn},1} = (1.2\\,C_{\\text{eff},0}) V^2 (2\\,f_{0}) = 2.4 \\times (C_{\\text{eff},0} V^2 f_{0}) = 2.4 \\times P_{\\text{dyn},0}$$\n$$P_{\\text{dyn},1} = 2.4 \\times 36\\ \\text{W} = 86.4\\ \\text{W}$$\n\nThe total power of the redesigned processor, $P_{\\text{total},1}$, is:\n$$P_{\\text{total},1} = P_{\\text{dyn},1} + P_{\\text{leak}}$$\n$$P_{\\text{total},1} = 86.4\\ \\text{W} + 18\\ \\text{W} = 104.4\\ \\text{W}$$\n\nThe first part of the question is to determine if the redesigned processor’s total power exceeds $P_{\\max}$.\nWe compare $P_{\\text{total},1}$ with $P_{\\max}$:\n$$104.4\\ \\text{W} > 95\\ \\text{W}$$\nThus, the redesigned processor's total power exceeds the maximum allowable package power.\n\nThe second part of the question is to compute the energy per instruction, $E_{\\text{inst}}$, for the redesigned processor. The number of instructions per second (IPS) is the product of the frequency and the instructions per cycle (IPC).\n$$\\text{IPS} = f \\times \\text{IPC}$$\nThe energy per instruction is the total power divided by the instructions per second.\n$$E_{\\text{inst}} = \\frac{P_{\\text{total}}}{\\text{IPS}} = \\frac{P_{\\text{total}}}{f \\times \\text{IPC}}$$\nFor the redesigned processor:\n$$\\text{IPS}_{1} = f_{1} \\times \\text{IPC} = (6.0 \\times 10^9\\ \\text{s}^{-1}) \\times (1\\ \\text{instruction/cycle}) = 6.0 \\times 10^9\\ \\text{instructions/s}$$\n$$E_{\\text{inst},1} = \\frac{P_{\\text{total},1}}{\\text{IPS}_{1}} = \\frac{104.4\\ \\text{W}}{6.0 \\times 10^9\\ \\text{instructions/s}} = \\frac{104.4\\ \\text{J/s}}{6.0 \\times 10^9\\ \\text{instructions/s}}$$\n$$E_{\\text{inst},1} = 17.4 \\times 10^{-9}\\ \\text{J/instruction}$$\nThe problem asks for the answer in nanojoules ($1\\ \\text{nJ} = 10^{-9}\\ \\text{J}$).\n$$E_{\\text{inst},1} = 17.4\\ \\text{nJ/instruction}$$\nThe value $17.4$ already has three significant figures, so no further rounding is needed.", "answer": "$$\\boxed{17.4}$$", "id": "3667321"}, {"introduction": "Managing power in modern systems is more nuanced than just minimizing dynamic power; leakage power, which persists even when a core is idle, is a major factor. This problem [@problem_id:3667256] explores the trade-offs of Dynamic Voltage and Frequency Scaling (DVFS) for a common I/O-bound workload. Through this analysis, you will uncover the critical interplay between dynamic energy savings and leakage energy costs, revealing why lowering a processor's frequency is not always the most energy-efficient strategy.", "problem": "A single-threaded server processes requests that each perform a brief compute phase on the Central Processing Unit (CPU) followed by an external Input/Output (I/O) operation with fixed wall-clock latency that does not depend on CPU frequency. The system supports Dynamic Voltage and Frequency Scaling (DVFS). Per request, the CPU executes $N=2\\times 10^{6}$ cycles of useful work and then waits for an I/O device with latency $t_{\\text{IO}}=0.050\\,\\text{s}$ (independent of CPU frequency). During I/O waits, the core is clock-gated such that dynamic switching activity in the core is negligible, while leakage persists throughout the entire request time. Two DVFS operating points are available: a baseline point at frequency $f_{0}=2\\,\\text{GHz}$ and supply voltage $V_{0}=1.0\\,\\text{V}$, and a reduced point at frequency $f_{1}=1\\,\\text{GHz}$ and supply voltage $V_{1}=0.8\\,\\text{V}$. The effective per-cycle dynamic switching-energy coefficient is $C=1.0\\times 10^{-10}\\,\\text{J}/\\text{V}^{2}/\\text{cycle}$, and the leakage power is $P_{\\text{leak}}=5\\,\\text{W}$ across these operating points.\n\nUnder these assumptions, choose the best description of the energy-per-request and performance impact when switching from $(f_{0},V_{0})$ to $(f_{1},V_{1})$.\n\nA. For input/output-bound workloads, lowering $f$ with a corresponding reduction in $V$ always reduces energy per request; the performance loss is negligible because stall time dominates.\n\nB. With the given parameters, the total energy per request increases by approximately $5.0\\times 10^{-3}\\,\\text{J}$, while the slowdown is about $1.96\\%$; leakage dominance makes the net energy higher at lower $f$.\n\nC. Lowering $f$ causes a substantial performance loss because the input/output stall time increases proportionally with lower $f$.\n\nD. With the given parameters, the energy per request decreases by approximately $7.2\\times 10^{-5}\\,\\text{J}$ with negligible performance loss; the stall-dominated nature ensures net energy savings.", "solution": "The problem statement is a well-posed exercise in computer architecture, dealing with the performance and energy trade-offs of Dynamic Voltage and Frequency Scaling (DVFS). All provided data are physically plausible and mathematically consistent for a simplified model of processor power. The problem is scientifically grounded, objective, and contains all necessary information to derive a unique solution. Therefore, the problem is valid.\n\nThe analysis proceeds by calculating the total time and total energy per request for each of the two operating points.\n\nThe total time to process one request, $t_{\\text{total}}$, is the sum of the CPU compute time, $t_{\\text{CPU}}$, and the fixed I/O latency, $t_{\\text{IO}}$:\n$$t_{\\text{total}} = t_{\\text{CPU}} + t_{\\text{IO}}$$\nThe CPU time is the number of cycles, $N$, divided by the CPU frequency, $f$:\n$$t_{\\text{CPU}} = \\frac{N}{f}$$\n\nThe total energy per request, $E_{\\text{total}}$, is the sum of the dynamic energy, $E_{\\text{dyn}}$, consumed during the compute phase, and the leakage energy, $E_{\\text{leak}}$, consumed over the entire duration of the request.\n$$E_{\\text{total}} = E_{\\text{dyn}} + E_{\\text{leak}}$$\nThe dynamic energy is given by the number of cycles multiplied by the energy per cycle. The problem provides an effective per-cycle dynamic switching-energy coefficient, $C$, which depends on the square of the supply voltage, $V$. Thus, for $N$ cycles:\n$$E_{\\text{dyn}} = N \\cdot C \\cdot V^2$$\nNote that this formulation implies that the total dynamic energy for a fixed amount of work ($N$ cycles) is independent of frequency $f$.\n\nThe leakage energy is the leakage power, $P_{\\text{leak}}$, multiplied by the total time of the request, as leakage is stated to persist throughout:\n$$E_{\\text{leak}} = P_{\\text{leak}} \\cdot t_{\\text{total}} = P_{\\text{leak}} \\cdot \\left(\\frac{N}{f} + t_{\\text{IO}}\\right)$$\nCombining these, the total energy per request is:\n$$E_{\\text{total}}(f,V) = NCV^2 + P_{\\text{leak}}\\left(\\frac{N}{f} + t_{\\text{IO}}\\right)$$\n\nThe given parameters are:\n- $N = 2 \\times 10^{6}$ cycles\n- $t_{\\text{IO}} = 0.050\\,\\text{s}$\n- $C = 1.0 \\times 10^{-10}\\,\\text{J}/\\text{V}^{2}/\\text{cycle}$\n- $P_{\\text{leak}} = 5\\,\\text{W}$\n\n**Case 0: Baseline Operating Point $(f_0, V_0)$**\n- $f_0 = 2\\,\\text{GHz} = 2 \\times 10^9\\,\\text{s}^{-1}$\n- $V_0 = 1.0\\,\\text{V}$\n\nFirst, calculate the time components:\n$$t_{\\text{CPU},0} = \\frac{N}{f_0} = \\frac{2 \\times 10^6}{2 \\times 10^9\\,\\text{s}^{-1}} = 1 \\times 10^{-3}\\,\\text{s} = 0.001\\,\\text{s}$$\n$$t_{\\text{total},0} = t_{\\text{CPU},0} + t_{\\text{IO}} = 0.001\\,\\text{s} + 0.050\\,\\text{s} = 0.051\\,\\text{s}$$\n\nNext, calculate the energy components:\n$$E_{\\text{dyn},0} = N C V_0^2 = (2 \\times 10^6) \\cdot (1.0 \\times 10^{-10}) \\cdot (1.0)^2\\,\\text{J} = 2.0 \\times 10^{-4}\\,\\text{J}$$\n$$E_{\\text{leak},0} = P_{\\text{leak}} \\cdot t_{\\text{total},0} = 5\\,\\text{W} \\cdot 0.051\\,\\text{s} = 0.255\\,\\text{J}$$\n$$E_{\\text{total},0} = E_{\\text{dyn},0} + E_{\\text{leak},0} = 2.0 \\times 10^{-4}\\,\\text{J} + 0.255\\,\\text{J} = 0.2552\\,\\text{J}$$\n\n**Case 1: Reduced Operating Point $(f_1, V_1)$**\n- $f_1 = 1\\,\\text{GHz} = 1 \\times 10^9\\,\\text{s}^{-1}$\n- $V_1 = 0.8\\,\\text{V}$\n\nFirst, calculate the time components:\n$$t_{\\text{CPU},1} = \\frac{N}{f_1} = \\frac{2 \\times 10^6}{1 \\times 10^9\\,\\text{s}^{-1}} = 2 \\times 10^{-3}\\,\\text{s} = 0.002\\,\\text{s}$$\n$$t_{\\text{total},1} = t_{\\text{CPU},1} + t_{\\text{IO}} = 0.002\\,\\text{s} + 0.050\\,\\text{s} = 0.052\\,\\text{s}$$\n\nNext, calculate the energy components:\n$$E_{\\text{dyn},1} = N C V_1^2 = (2 \\times 10^6) \\cdot (1.0 \\times 10^{-10}) \\cdot (0.8)^2\\,\\text{J} = (2.0 \\times 10^{-4}) \\cdot 0.64\\,\\text{J} = 1.28 \\times 10^{-4}\\,\\text{J}$$\n$$E_{\\text{leak},1} = P_{\\text{leak}} \\cdot t_{\\text{total},1} = 5\\,\\text{W} \\cdot 0.052\\,\\text{s} = 0.260\\,\\text{J}$$\n$$E_{\\text{total},1} = E_{\\text{dyn},1} + E_{\\text{leak},1} = 1.28 \\times 10^{-4}\\,\\text{J} + 0.260\\,\\text{J} = 0.260128\\,\\text{J}$$\n\n**Impact Analysis: Switching from Point 0 to Point 1**\n\n**Performance Impact:** Performance is inversely related to the total request time. The performance change is characterized by the slowdown, which is the percentage increase in total time.\n$$\\text{Slowdown} = \\frac{t_{\\text{total},1} - t_{\\text{total},0}}{t_{\\text{total},0}} = \\frac{0.052\\,\\text{s} - 0.051\\,\\text{s}}{0.051\\,\\text{s}} = \\frac{0.001}{0.051} \\approx 0.0196078$$\nThe slowdown is approximately $1.96\\%$.\n\n**Energy Impact:** The change in total energy per request is:\n$$\\Delta E_{\\text{total}} = E_{\\text{total},1} - E_{\\text{total},0} = 0.260128\\,\\text{J} - 0.2552\\,\\text{J} = 0.004928\\,\\text{J}$$\nThis is an energy *increase* of approximately $4.93 \\times 10^{-3}\\,\\text{J}$. The increase is due to the change in leakage energy ($\\Delta E_{\\text{leak}} = 0.260\\,\\text{J} - 0.255\\,\\text{J} = +0.005\\,\\text{J}$) overwhelming the savings in dynamic energy ($\\Delta E_{\\text{dyn}} = 1.28 \\times 10^{-4}\\,\\text{J} - 2.0 \\times 10^{-4}\\,\\text{J} = -0.72 \\times 10^{-4}\\,\\text{J}$).\n\n**Evaluation of Options:**\n\n**A. For input/output-bound workloads, lowering $f$ with a corresponding reduction in $V$ always reduces energy per request; the performance loss is negligible because stall time dominates.**\nThis option makes a universal claim (\"always reduces energy\"). Our calculation shows that for the given parameters, energy *increases*. The condition for energy reduction is $\\Delta E_{\\text{total}} < 0$, which requires the decrease in dynamic energy to be larger than the increase in leakage energy. This is not always true, especially when leakage power is high and the workload is I/O-bound (making total time long). Therefore, the statement is false.\n**Verdict: Incorrect**\n\n**B. With the given parameters, the total energy per request increases by approximately $5.0\\times 10^{-3}\\,\\text{J}$, while the slowdown is about $1.96\\%$; leakage dominance makes the net energy higher at lower $f$.**\nOur calculated energy increase is $\\Delta E_{\\text{total}} = 0.004928\\,\\text{J}$, which is approximately $5.0 \\times 10^{-3}\\,\\text{J}$. Our calculated slowdown is $1.96\\%$. The explanation, \"leakage dominance makes the net energy higher\", correctly identifies that the increased leakage energy (due to longer execution time) outweighs the dynamic energy savings. This option accurately describes the calculated results and the underlying reason.\n**Verdict: Correct**\n\n**C. Lowering $f$ causes a substantial performance loss because the input/output stall time increases proportionally with lower $f$.**\nThe premise of this option is factually incorrect according to the problem statement, which explicitly states that the I/O latency $t_{\\text{IO}}$ is \"independent of CPU frequency\". Furthermore, the calculated performance loss of $1.96\\%$ is minor, not \"substantial\", precisely because the constant I/O stall time dominates the total request time.\n**Verdict: Incorrect**\n\n**D. With the given parameters, the energy per request decreases by approximately $7.2\\times 10^{-5}\\,\\text{J}$ with negligible performance loss; the stall-dominated nature ensures net energy savings.**\nThis option incorrectly claims an energy decrease. The value $7.2 \\times 10^{-5}\\,\\text{J}$ corresponds to the magnitude of the dynamic energy savings ($\\Delta E_{\\text{dyn}} = -0.72 \\times 10^{-4}\\,\\text{J} = -7.2 \\times 10^{-5}\\,\\text{J}$). It completely ignores the larger increase in leakage energy. While the performance loss is indeed negligible, the conclusion of \"net energy savings\" is wrong for these parameters.\n**Verdict: Incorrect**", "answer": "$$\\boxed{B}$$", "id": "3667256"}, {"introduction": "Faced with the power wall, architects shifted focus from making single cores faster to integrating multiple, more power-efficient cores onto a single chip. This final practice [@problem_id:3667309] investigates the profound implications of this paradigm shift by analyzing performance under a fixed power budget. By applying Amdahl's Law, you will discover how the serial portion of a program can limit the benefits of multi-core designs, providing a clear rationale for the industry's ongoing focus on parallel programming.", "problem": "A chip is constrained by a maximum power budget $P_{\\max}$ due to the so-called power wall, which prevents further supply voltage reduction. Assume the supply voltage is fixed at $V_{0}$, and that dynamic power follows the widely used switching model $P_{\\text{dyn}} = \\alpha C V_{0}^{2} f$, so at fixed $V_{0}$ the dynamic power is proportional to the clock frequency $f$. Leakage and other non-scaling components are negligible for this analysis, and all cores are identical in microarchitecture, instruction set, and pipeline. Instruction count and cycles per instruction are independent of frequency, so performance is proportional to clock frequency and to the number of active cores.\n\nConsider two configurations built under the same $P_{\\max}$:\n- Configuration $\\mathcal{A}$: a single core clocked at frequency $f$, which exactly consumes the budget $P_{\\max}$.\n- Configuration $\\mathcal{B}$: two cores, each clocked at frequency $f/2$, with each core’s power reduced in proportion to its frequency, so the total power equals $P_{\\max}$.\n\nA program has a parallel fraction $p \\in [0,1]$, meaning a fraction $p$ of its execution (measured on a single core at frequency $f$) can be ideally parallelized across up to $2$ cores with no overheads or bottlenecks, while the remaining fraction $(1-p)$ is strictly serial. Assume ideal load balance for the parallel part. Define throughput as the reciprocal of execution time for a single run of the program.\n\nDerive, from first principles and the above assumptions, the exact value of the parallel fraction $p_{\\star}$ at which the throughput of configuration $\\mathcal{B}$ equals that of configuration $\\mathcal{A}$. Express your final answer as a single real number in the interval $[0,1]$. Do not use a percentage sign. No rounding is required; give the exact value.", "solution": "The problem is assessed to be valid. It is scientifically grounded in the principles of computer architecture, specifically concerning power, frequency, and parallelism. The problem is well-posed, with all necessary information provided and no contradictions.\n\nThe objective is to find the parallel fraction $p_{\\star}$ for which the throughput of a dual-core configuration ($\\mathcal{B}$) equals that of a single-core configuration ($\\mathcal{A}$) under a fixed power budget. Equal throughput implies equal execution time. Let $T_{\\mathcal{A}}$ and $T_{\\mathcal{B}}$ be the total execution times for configurations $\\mathcal{A}$ and $\\mathcal{B}$, respectively. The condition is $T_{\\mathcal{A}} = T_{\\mathcal{B}}$.\n\nLet us first establish the relationship between power, frequency, and performance.\nThe problem states that dynamic power is $P_{\\text{dyn}} = \\alpha C V_{0}^{2} f$. With supply voltage $V_0$ and other factors $\\alpha, C$ being constant, power is directly proportional to frequency: $P \\propto f$. Let this proportionality be $P = k f$ for some constant $k$.\n\nFor Configuration $\\mathcal{A}$, we have a single core at frequency $f$ consuming the maximum power $P_{\\max}$. Thus, $P_{\\max} = k f$.\n\nFor Configuration $\\mathcal{B}$, we have two cores, each at frequency $f/2$. The power of one such core is $P_{\\text{core}} = k (f/2)$. The total power for two cores is $P_{\\text{total}} = 2 \\times P_{\\text{core}} = 2 \\times k(f/2) = k f = P_{\\max}$. The power constraint is satisfied.\n\nNext, we establish a baseline for execution time. The problem defines the parallel fraction $p$ with respect to the execution on a single core at frequency $f$. This is precisely Configuration $\\mathcal{A}$. Let $T_{\\mathcal{A}}$ be the total execution time of the program on this configuration. We can use $T_{\\mathcalA}$ as our reference time.\nBased on the definition of $p$, the total execution time $T_{\\mathcal{A}}$ is composed of two parts:\n1.  A serial portion, which takes a time of $(1-p) T_{\\mathcal{A}}$.\n2.  A parallelizable portion, which takes a time of $p T_{\\mathcal{A}}$.\n\nThe problem states that performance is proportional to clock frequency and to the number of active cores. Execution time for a given amount of work is inversely proportional to performance. Therefore, for a segment of work, $T \\propto \\frac{1}{f \\cdot N}$, where $N$ is the number of active cores.\n\nNow, let's calculate the execution time for Configuration $\\mathcal{B}$, $T_{\\mathcal{B}}$. This configuration has two cores, each running at frequency $f/2$. We must analyze the serial and parallel parts separately.\n\n1.  **Serial Portion of the program**: This portion of work is \"strictly serial\", meaning it can only run on a single core ($N=1$). In Configuration $\\mathcal{A}$, this work takes $(1-p)T_{\\mathcal{A}}$ on a single core at frequency $f$. In Configuration $\\mathcal{B}$, this work must run on a single core at frequency $f/2$. Since the execution time is inversely proportional to frequency, the time for the serial part in Configuration $\\mathcal{B}$ is:\n    $$T_{\\text{serial}, \\mathcal{B}} = ((1-p)T_{\\mathcal{A}}) \\times \\frac{f}{f/2} = 2(1-p)T_{\\mathcal{A}}$$\n\n2.  **Parallel Portion of the program**: This portion of work is \"ideally parallelized\" across up to $2$ cores. In Configuration $\\mathcal{A}$, this work takes $p T_{\\mathcal{A}}$ on a single core at frequency $f$. In Configuration $\\mathcal{B}$, this work is distributed across two cores ($N=2$), each running at frequency $f/2$. The aggregate performance for this parallel task is proportional to the product of the number of cores and their frequency.\n    The time for the parallel part in Configuration $\\mathcal{B}$ is:\n    $$T_{\\text{parallel}, \\mathcal{B}} = (pT_{\\mathcal{A}}) \\times \\frac{f \\cdot 1}{(f/2) \\cdot 2} = (pT_{\\mathcal{A}}) \\times \\frac{f}{f} = p T_{\\mathcal{A}}$$\n    This shows that the performance on the parallel part is identical for both configurations, as the doubling of cores is exactly offset by the halving of the frequency.\n\nThe total execution time for Configuration $\\mathcal{B}$ is the sum of the times for its serial and parallel phases:\n$$T_{\\mathcal{B}} = T_{\\text{serial}, \\mathcal{B}} + T_{\\text{parallel}, \\mathcal{B}} = 2(1-p)T_{\\mathcal{A}} + p T_{\\mathcal{A}}$$\n\nWe are looking for the value $p_{\\star}$ where the throughputs are equal, which means the execution times are equal: $T_{\\mathcal{A}} = T_{\\mathcal{B}}$.\n$$T_{\\mathcal{A}} = 2(1-p_{\\star})T_{\\mathcal{A}} + p_{\\star}T_{\\mathcal{A}}$$\nSince $T_{\\mathcal{A}}$ is a non-zero execution time, we can divide both sides by $T_{\\mathcal{A}}$:\n$$1 = 2(1-p_{\\star}) + p_{\\star}$$\nNow, we solve for $p_{\\star}$:\n$$1 = 2 - 2p_{\\star} + p_{\\star}$$\n$$1 = 2 - p_{\\star}$$\n$$p_{\\star} = 2 - 1$$\n$$p_{\\star} = 1$$\n\nThe value of the parallel fraction at which the throughput of configuration $\\mathcal{B}$ equals that of configuration $\\mathcal{A}$ is $1$. This signifies that only a perfectly parallel program ($p=1$) can achieve the same performance on the dual-core, half-frequency machine as on the single-core, full-frequency machine. For any program with a serial component ($p < 1$), Configuration $\\mathcal{B}$ will be slower because the performance loss on the serial part is not compensated by any performance gain on the parallel part.", "answer": "$$\\boxed{1}$$", "id": "3667309"}]}