{"hands_on_practices": [{"introduction": "Clock gating is a fundamental technique for reducing dynamic power by shutting down the clock to idle processor components. However, its real-world application requires careful management of control latencies to ensure correctness and avoid performance penalties. This exercise [@problem_id:3666961] challenges you to move beyond simplistic models by designing a practical gating policy that accounts for detection and wake-up delays, allowing you to calculate the true, achievable power savings for a unit with a bursty workload.", "problem": "A pipelined integer multiplier in a superscalar processor experiences a bursty workload: the pipeline presents valid operands for $30$ consecutive cycles, followed by $20$ consecutive cycles with no operands, repeating indefinitely. This repeating pattern implies an idle fraction of $40\\%$. During idle periods, the multiplier’s internal sequential elements continue to toggle their local clock if ungated.\n\nAssume the following:\n- The supply voltage is $V = 0.9\\,\\mathrm{V}$ and the operating frequency is $f = 800\\,\\mathrm{MHz}$. Dynamic Voltage and Frequency Scaling (DVFS) is disabled during the interval of interest, so $V$ and $f$ are constant.\n- The effective clocked capacitance of the multiplier and its local clock distribution, when the clock is ungated, is $C_{\\mathrm{eff}} = 160\\,\\mathrm{pF}$.\n- The clock-gating cell has a wake-up latency of $L_{\\mathrm{wu}} = 2$ cycles (the clock must be re-enabled $2$ cycles before the next active operand arrives to meet timing).\n- To avoid thrashing, the gating controller requires $L_{\\mathrm{det}} = 2$ consecutive idle cycles before asserting the gate.\n- Each gate assertion and de-assertion pair consumes an overhead energy of $E_{\\mathrm{gate}} = 100\\,\\mathrm{pJ}$ in the gating control logic.\n\nPropose a reasonable clock-gating policy that respects the detection and wake-up latencies stated above, and then estimate the long-run average dynamic power saved by clock gating over the repeating workload pattern. Base your reasoning on first principles of dynamic power in synchronous circuits. Express the final saved power in milliwatts. Round your answer to four significant figures.", "solution": "Let's break down the problem to calculate the net power saved. The core idea is to find the average power saved by gating the clock, and then subtract the average power consumed by the gating control logic.\n\n**1. Baseline Dynamic Power (Ungated Multiplier)**\n\nThe dynamic power when the clock is always on (ungated) is given by the formula $P = C V^2 f$.\n- $C_{\\mathrm{eff}} = 160\\,\\mathrm{pF} = 160 \\times 10^{-12}\\,\\mathrm{F}$\n- $V = 0.9\\,\\mathrm{V}$\n- $f = 800\\,\\mathrm{MHz} = 800 \\times 10^6\\,\\mathrm{Hz}$\n\nThe baseline power consumed by the multiplier's clocking is:\n$$ P_{\\text{baseline}} = C_{\\mathrm{eff}} V^2 f = (160 \\times 10^{-12}\\,\\mathrm{F}) \\times (0.9\\,\\mathrm{V})^2 \\times (800 \\times 10^6\\,\\mathrm{Hz}) $$\n$$ P_{\\text{baseline}} = 160 \\times 10^{-12} \\times 0.81 \\times 800 \\times 10^6 \\, \\mathrm{W} = 0.10368 \\, \\mathrm{W} $$\n\n**2. Gated Clock Duty Cycle**\n\nThe workload repeats every $30 + 20 = 50$ cycles.\n- Active period: 30 cycles\n- Idle period: 20 cycles\n\nThe gating policy has latencies:\n- **Detection latency ($L_{\\mathrm{det}}$):** The controller waits for $2$ consecutive idle cycles before gating the clock. The idle period starts after the 30th active cycle. The controller detects idleness during cycles 31 and 32. The gate is asserted at the beginning of cycle 33.\n- **Wake-up latency ($L_{\\mathrm{wu}}$):** The clock must be enabled $2$ cycles before the next active operand arrives. The next active period starts at cycle 51 (which is cycle 1 of the next pattern). So, the clock must be enabled for cycles 49 and 50. The gate is de-asserted at the beginning of cycle 49.\n\nSo, the clock is actually turned off (gated) from the beginning of cycle 33 to the end of cycle 48.\nThe number of gated cycles is $48 - 33 + 1 = 16$ cycles.\nThe fraction of time the clock is gated is $\\frac{16 \\text{ cycles}}{50 \\text{ cycles}} = 0.32$.\n\n**3. Average Power Saved from Gating**\n\nWhen the clock is gated, the baseline power $P_{\\text{baseline}}$ is saved. The average power saved over the 50-cycle pattern is this baseline power multiplied by the fraction of time the clock is gated.\n$$ P_{\\text{saved\\_gating}} = P_{\\text{baseline}} \\times \\left( \\frac{\\text{Number of gated cycles}}{\\text{Total cycles in pattern}} \\right) $$\n$$ P_{\\text{saved\\_gating}} = 0.10368\\,\\mathrm{W} \\times \\frac{16}{50} = 0.10368\\,\\mathrm{W} \\times 0.32 = 0.0331776\\,\\mathrm{W} $$\n\n**4. Average Power Overhead of Gating Logic**\n\nThe gating control logic consumes $E_{\\mathrm{gate}} = 100\\,\\mathrm{pJ}$ for each assertion/de-assertion pair. This happens once per 50-cycle pattern. We need to convert this energy overhead into an average power overhead.\nThe duration of one pattern is:\n$$ T_{\\text{pattern}} = \\frac{\\text{Total cycles in pattern}}{f} = \\frac{50}{800 \\times 10^6\\,\\mathrm{Hz}} = 6.25 \\times 10^{-8}\\,\\mathrm{s} $$\nThe average power overhead is the energy per pattern divided by the duration of the pattern:\n$$ P_{\\text{overhead}} = \\frac{E_{\\mathrm{gate}}}{T_{\\text{pattern}}} = \\frac{100 \\times 10^{-12}\\,\\mathrm{J}}{6.25 \\times 10^{-8}\\,\\mathrm{s}} = 1.6 \\times 10^{-3}\\,\\mathrm{W} = 0.0016\\,\\mathrm{W} $$\n\n**5. Net Average Power Saved**\n\nThe net saved power is the saving from gating minus the overhead cost.\n$$ P_{\\text{net\\_saved}} = P_{\\text{saved\\_gating}} - P_{\\text{overhead}} $$\n$$ P_{\\text{net\\_saved}} = 0.0331776\\,\\mathrm{W} - 0.0016\\,\\mathrm{W} = 0.0315776\\,\\mathrm{W} $$\n\nThe question asks for the answer in milliwatts ($\\mathrm{mW}$), rounded to four significant figures.\n$$ P_{\\text{net\\_saved}} = 31.5776\\,\\mathrm{mW} \\approx 31.58\\,\\mathrm{mW} $$", "answer": "$$ \\boxed{31.58} $$", "id": "3666961"}, {"introduction": "Once the decision to implement clock gating is made, a critical architectural question arises: what is the appropriate level of granularity? This practice [@problem_id:3667037] explores the classic engineering trade-off between fine-grained gating (e.g., at the register level) and coarse-grained gating (e.g., at the functional unit level). By quantitatively comparing the net power savings, including the overhead of the control logic itself, you will learn how to evaluate competing design strategies based on workload behavior and implementation costs.", "problem": "A pipelined integer core includes a register file with $16$ architectural registers and a two-stage Arithmetic Logic Unit (ALU) pipeline. You are asked to compare two exclusive clock-gating strategies for dynamic power management: (i) gating at register level (one Integrated Clock Gating (ICG) cell per register) and (ii) gating at functional unit level (one ICG cell gating the ALU pipeline flops). Assume baseline operation has no gating. You must calculate the expected net dynamic power saved by adopting exactly one of these strategies across a mixed workload and then select the better strategy.\n\nThe following engineering model, parameters, and workload description are used. All values not given should be treated as unknowns and must not be assumed.\n\n- Supply voltage is $1.0\\,\\text{V}$ and clock frequency is $1.2 \\times 10^{9}\\,\\text{Hz}$.\n- The register file consists of $16$ registers. The effective clock-pin capacitance per register (i.e., the capacitance driven by the local clock at the leaf for that register’s storage elements) is $0.15\\,\\text{pF}$ per register.\n- The ALU pipeline’s aggregate clock-pin capacitance (i.e., the total capacitance driven by the ALU pipeline local clock) is $3.6\\,\\text{pF}$.\n- Ignore any change in ALU internal data-path switching due to clock gating; that is, treat internal data-path switching when the ALU is active as unaffected by gating and omit it when computing power savings relative to baseline.\n- ICG cells: the enable input capacitance is $0.001\\,\\text{pF}$ for any ICG. The ICG clock-input capacitance is $0.005\\,\\text{pF}$ for each register-level ICG, and $0.02\\,\\text{pF}$ for the single ALU-level ICG. The ICG clock-input sees the global clock regardless of enable, and the ICG enable input is a one-cycle pulse when the gated domain is active (ALU-level) or when the specific register is written (register-level).\n- Workload model: in any cycle, with probability $p$, there is an ALU instruction that writes exactly one destination register; with probability $1-p$, there is no ALU instruction and no register is written. When an ALU instruction occurs, its destination is uniformly distributed over the $16$ registers. The workload consists of three stationary activity patterns that occur with the specified probabilities over long time windows: Pattern $\\mathcal{A}$ with $p=0.25$ (occurs with probability $0.5$), Pattern $\\mathcal{B}$ with $p=0.60$ (occurs with probability $0.3$), and Pattern $\\mathcal{C}$ with $p=0.10$ (occurs with probability $0.2$).\n\nEngineering assumptions for control complexity and overhead modeling:\n- Baseline (no gating): all $16$ register clock pins and all ALU pipeline clock pins see a switching clock every cycle.\n- Register-level gating: in a cycle with an ALU instruction, exactly one register’s clock is enabled; in a cycle with no ALU instruction, no register’s clock is enabled. There are $16$ independent enables (one per register). Each register-level ICG’s clock input is driven by the global clock every cycle. Each register-level enable is a one-cycle pulse whose occurrence rate equals the probability that the register is chosen as the destination in a given cycle.\n- ALU-level gating: in a cycle with an ALU instruction, the ALU pipeline clock is enabled; in a cycle with no ALU instruction, it is disabled. There is $1$ enable (the ALU active decode). The ALU-level ICG’s clock input is driven by the global clock every cycle. The ALU-level enable is a one-cycle pulse whose occurrence rate equals the probability that the cycle contains an ALU instruction.\n\nTasks you must carry out, starting from well-established definitions relating dynamic power to switching activity, capacitance, supply voltage, and frequency:\n- Derive, for a given activity fraction $p$, the net dynamic power saved relative to baseline under register-level gating, accounting for the reduction in register clock-pin switching and the added dynamic overhead due to the $16$ ICGs (both their clock inputs and their enable inputs).\n- Derive, for a given activity fraction $p$, the net dynamic power saved relative to baseline under ALU-level gating, accounting for the reduction in ALU pipeline clock-pin switching and the added dynamic overhead due to the ALU ICG (both its clock input and its enable input).\n- Using the three activity patterns and their probabilities, compute the expected net dynamic power saving for each gating strategy over the mixed workload and select the better strategy.\n- For completeness, quantify a simple control complexity metric for each strategy: the number of independent enable signals and the total added clock-input capacitance introduced by the ICGs. You do not need to report this metric in your final numeric answer.\n\nReport only the expected net dynamic power saved by the better of the two gating strategies, expressed in $\\text{mW}$. Round your answer to four significant figures.", "solution": "The analysis begins with the fundamental equation for dynamic power consumption in a CMOS circuit, which is given by:\n$$ P_{dyn} = \\alpha C V_{dd}^2 f $$\nwhere $\\alpha$ is the activity factor (the probability of a switching event per clock cycle), $C$ is the switched capacitance, $V_{dd}$ is the supply voltage, and $f$ is the clock frequency. The problem asks for the net dynamic power saved, which is the reduction in power from gating a component minus the additional power consumed by the clock-gating control logic (Integrated Clock Gating cells, or ICGs).\n\nThe given parameters are:\n- Supply voltage $V_{dd} = 1.0\\,\\text{V}$\n- Clock frequency $f = 1.2 \\times 10^9\\,\\text{Hz}$\n- Number of registers $N_{reg} = 16$\n- Per-register clock-pin capacitance $C_{reg\\_clk} = 0.15\\,\\text{pF} = 0.15 \\times 10^{-12}\\,\\text{F}$\n- ALU pipeline aggregate clock-pin capacitance $C_{ALU\\_clk} = 3.6\\,\\text{pF} = 3.6 \\times 10^{-12}\\,\\text{F}$\n- ICG enable input capacitance $C_{en} = 0.001\\,\\text{pF} = 0.001 \\times 10^{-12}\\,\\text{F}$\n- Register-level ICG clock-input capacitance $C_{ICG\\_reg\\_in} = 0.005\\,\\text{pF} = 0.005 \\times 10^{-12}\\,\\text{F}$\n- ALU-level ICG clock-input capacitance $C_{ICG\\_ALU\\_in} = 0.02\\,\\text{pF} = 0.02 \\times 10^{-12}\\,\\text{F}$\n- The probability of an ALU instruction in a given cycle is denoted by $p$.\n\nThe common factor $V_{dd}^2 f$ for all power calculations is:\n$$ V_{dd}^2 f = (1.0\\,\\text{V})^2 \\times (1.2 \\times 10^9\\,\\text{Hz}) = 1.2 \\times 10^9\\,\\text{V}^2\\cdot\\text{Hz} $$\n\n### Strategy (i): Register-Level Gating\n\nIn this strategy, each of the $N_{reg} = 16$ registers is gated by its own ICG.\n\n**Power Reduction:**\nIn the baseline case (no gating), all $16$ register clock pins switch every cycle. The average number of active register clocks per cycle with gating is $p$.\nThe baseline power of the register file clocks is $P_{base, RF} = (N_{reg} C_{reg\\_clk}) V_{dd}^2 f$.\nThe average power of the gated register file clocks is $P_{gated, RF} = (p C_{reg\\_clk}) V_{dd}^2 f$.\nThe power reduction on the register clock pins is the difference:\n$$ \\Delta P_{RF,saved} = P_{base, RF} - P_{gated, RF} = (N_{reg} C_{reg\\_clk} - p C_{reg\\_clk}) V_{dd}^2 f = (16 - p) C_{reg\\_clk} V_{dd}^2 f $$\n\n**Overhead Power:**\nThe overhead comes from the $N_{reg} = 16$ ICGs.\n1.  **ICG Clock Inputs:** The clock inputs of all $16$ ICGs are always driven by the global clock, so their activity factor is $\\alpha=1$. The total overhead power from these inputs is:\n    $$ P_{overhead, clk} = (N_{reg} C_{ICG\\_reg\\_in}) V_{dd}^2 f $$\n2.  **ICG Enable Inputs:** There are $16$ enable signals. The probability of any specific register being written is $p/N_{reg}$. The total enable power for all $16$ inputs is the sum of power for each:\n    $$ P_{overhead, en} = \\sum_{i=1}^{N_{reg}} \\left( \\frac{p}{N_{reg}} C_{en} V_{dd}^2 f \\right) = p C_{en} V_{dd}^2 f $$\nThe total overhead power is $P_{overhead, reg} = P_{overhead, clk} + P_{overhead, en}$.\n\n**Net Power Saved (Register-Level):**\nThe net power saved is the reduction minus the overhead:\n$$ \\Delta P_{saved, reg}(p) = \\Delta P_{RF,saved} - P_{overhead, reg} $$\n$$ \\Delta P_{saved, reg}(p) = (16 - p) C_{reg\\_clk} V_{dd}^2 f - (16 C_{ICG\\_reg\\_in} V_{dd}^2 f + p C_{en} V_{dd}^2 f) $$\n$$ \\Delta P_{saved, reg}(p) = \\left[ (16 C_{reg\\_clk} - 16 C_{ICG\\_reg\\_in}) - p(C_{reg\\_clk} + C_{en}) \\right] V_{dd}^2 f $$\n\n### Strategy (ii): ALU-Level Gating\n\nIn this strategy, a single ICG gates the clock for the entire ALU pipeline.\n\n**Power Reduction:**\nThe component being gated is the ALU pipeline's clock input, with total capacitance $C_{ALU\\_clk}$. In baseline, it switches every cycle ($\\alpha=1$). With gating, it switches only when there is an ALU instruction, so the activity factor is $p$.\nThe power reduction is:\n$$ \\Delta P_{ALU,saved} = (1-p) C_{ALU\\_clk} V_{dd}^2 f $$\n\n**Overhead Power:**\nThe overhead comes from the single ICG.\n1.  **ICG Clock Input:** The clock input is always active ($\\alpha=1$).\n    $$ P_{overhead, clk} = C_{ICG\\_ALU\\_in} V_{dd}^2 f $$\n2.  **ICG Enable Input:** The enable is pulsed when an ALU instruction occurs (probability $p$).\n    $$ P_{overhead, en} = p C_{en} V_{dd}^2 f $$\nThe total overhead power is $P_{overhead, ALU} = P_{overhead, clk} + P_{overhead, en}$.\n\n**Net Power Saved (ALU-Level):**\n$$ \\Delta P_{saved, ALU}(p) = \\Delta P_{ALU,saved} - P_{overhead, ALU} $$\n$$ \\Delta P_{saved, ALU}(p) = (1-p) C_{ALU\\_clk} V_{dd}^2 f - (C_{ICG\\_ALU\\_in} V_{dd}^2 f + p C_{en} V_{dd}^2 f) $$\n$$ \\Delta P_{saved, ALU}(p) = \\left[ (C_{ALU\\_clk} - C_{ICG\\_ALU\\_in}) - p(C_{ALU\\_clk} + C_{en}) \\right] V_{dd}^2 f $$\n\n### Expected Power Saving over Mixed Workload\n\nThe workload consists of three patterns ($\\mathcal{A}$, $\\mathcal{B}$, $\\mathcal{C}$) with activity fractions $p_A=0.25$, $p_B=0.60$, $p_C=0.10$ and respective probabilities of occurrence $P(\\mathcal{A})=0.5$, $P(\\mathcal{B})=0.3$, $P(\\mathcal{C})=0.2$.\nThe expected activity factor $E[p]$ is the weighted average:\n$$ E[p] = p_A P(\\mathcal{A}) + p_B P(\\mathcal{B}) + p_C P(\\mathcal{C}) $$\n$$ E[p] = (0.25)(0.5) + (0.60)(0.3) + (0.10)(0.2) = 0.125 + 0.180 + 0.020 = 0.325 $$\nSince both net power saving functions $\\Delta P_{saved, reg}(p)$ and $\\Delta P_{saved, ALU}(p)$ are linear in $p$, the expected power saving for each strategy can be found by evaluating the function at $p = E[p]$.\n\n**Expected Saving for Register-Level Gating:**\nWe use $p = E[p] = 0.325$ in the derived formula. The net change in switched capacitance is:\n$$ \\Delta C_{reg} = (16 C_{reg\\_clk} - 16 C_{ICG\\_reg\\_in}) - E[p](C_{reg\\_clk} + C_{en}) $$\n$$ \\Delta C_{reg} = (16 \\times 0.15 - 16 \\times 0.005) - 0.325 \\times (0.15 + 0.001) $$\n$$ \\Delta C_{reg} = (2.4 - 0.08) - 0.325 \\times 0.151 = 2.32 - 0.049075 = 2.270925\\,\\text{pF} $$\nThe expected net power saved is:\n$$ E[\\Delta P_{saved, reg}] = (2.270925 \\times 10^{-12}\\,\\text{F}) \\times (1.2 \\times 10^9\\,\\text{V}^2\\cdot\\text{Hz}) $$\n$$ E[\\Delta P_{saved, reg}] = 2.72511 \\times 10^{-3}\\,\\text{W} = 2.72511\\,\\text{mW} $$\n\n**Expected Saving for ALU-Level Gating:**\nWe use $p = E[p] = 0.325$ in the derived formula. The net change in switched capacitance is:\n$$ \\Delta C_{ALU} = (C_{ALU\\_clk} - C_{ICG\\_ALU\\_in}) - E[p](C_{ALU\\_clk} + C_{en}) $$\n$$ \\Delta C_{ALU} = (3.6 - 0.02) - 0.325 \\times (3.6 + 0.001) $$\n$$ \\Delta C_{ALU} = 3.58 - 0.325 \\times 3.601 = 3.58 - 1.170325 = 2.409675\\,\\text{pF} $$\nThe expected net power saved is:\n$$ E[\\Delta P_{saved, ALU}] = (2.409675 \\times 10^{-12}\\,\\text{F}) \\times (1.2 \\times 10^9\\,\\text{V}^2\\cdot\\text{Hz}) $$\n$$ E[\\Delta P_{saved, ALU}] = 2.89161 \\times 10^{-3}\\,\\text{W} = 2.89161\\,\\text{mW} $$\n\n### Comparison and Selection\n\nComparing the expected net power savings:\n- Register-Level Gating: $E[\\Delta P_{saved, reg}] \\approx 2.725\\,\\text{mW}$\n- ALU-Level Gating: $E[\\Delta P_{saved, ALU}] \\approx 2.892\\,\\text{mW}$\n\nSince $2.892\\,\\text{mW} > 2.725\\,\\text{mW}$, the ALU-level gating strategy is better as it provides greater net power savings. The question asks for the saving from the better strategy, rounded to four significant figures.\n$2.89161\\,\\text{mW} \\approx 2.892\\,\\text{mW}$.\n\nThe final answer is the net dynamic power saved by the better strategy, which is ALU-level gating.", "answer": "$$\\boxed{2.892}$$", "id": "3667037"}, {"introduction": "Effective power management cannot come at the cost of functional correctness. This final practice [@problem_id:3666965] delves into the crucial, low-level timing implications of implementing clock gating within a synchronous pipeline. By analyzing how a delayed clock-enable signal can create a setup time violation, you will connect high-level power-saving goals to the fundamental principles of digital circuit timing, reinforcing the need for a holistic approach to processor design.", "problem": "A synchronous Complementary Metal-Oxide-Semiconductor (CMOS) pipeline stage consists of a launch register $R_{\\text{L}}$ feeding a capture register $R_{\\text{C}}$ through a combinational block. To reduce dynamic power, the clock to $R_{\\text{L}}$ is gated by a simple logical AND between the global clock and a clock-enable signal. The design is subject to Dynamic Voltage and Frequency Scaling (DVFS), and at a particular operating point the clock frequency is $f$. The combinational path delay from $R_{\\text{L}}$ to $R_{\\text{C}}$ is $D$, the clock-to-$Q$ delay of $R_{\\text{L}}$ is $t_{\\text{CQ}}$, and the setup time of $R_{\\text{C}}$ is $t_{\\text{setup}}$. Assume a $50\\%$ duty-cycle clock and that hold constraints and minimum pulse width constraints are otherwise met.\n\nWhen the clock-enable transitions high late while the global clock is already high, the logical AND causes the gated clock feeding $R_{\\text{L}}$ to produce a rising transition at a time $\\Delta t_{\\text{enable}}$ after the global clock’s rising edge. In this scenario, the next capture event for $R_{\\text{C}}$ occurs at the subsequent global rising edge one period later. Using only first principles of synchronous timing (e.g., that the data must arrive at $R_{\\text{C}}$ no later than the capture edge minus the setup time), derive from these principles the condition under which setup is not violated for this path and compute the maximum allowable lateness $\\Delta t_{\\text{enable}}$ at the given operating point.\n\nUse the following parameter values:\n- Clock frequency: $f = 800 \\ \\text{MHz}$.\n- Clock-to-$Q$ delay of $R_{\\text{L}}$: $t_{\\text{CQ}} = 90 \\ \\text{ps}$.\n- Combinational path delay: $D = 650 \\ \\text{ps}$.\n- Setup time of $R_{\\text{C}}$: $t_{\\text{setup}} = 120 \\ \\text{ps}$.\n\nExpress your final answer for the maximum allowable $\\Delta t_{\\text{enable}}$ in $\\text{ns}$ and round to four significant figures.", "solution": "The task is to derive the condition for meeting the setup time constraint in a specific scenario involving a gated clock and to calculate the maximum allowable lateness of the clock enable signal, $\\Delta t_{\\text{enable}}$. We will proceed from first principles of synchronous timing.\n\nLet us define a time reference. Let $t=0$ be the time of a rising edge of the global clock signal. The clock period is $T$, given by the inverse of the clock frequency, $f$.\n$$T = \\frac{1}{f}$$\nThe subsequent rising edge of the global clock occurs at time $t=T$.\n\nThe launch register, $R_{\\text{L}}$, has its clock input gated. Due to a late-arriving clock-enable signal, the rising edge at the clock input of $R_{\\text{L}}$ is delayed by $\\Delta t_{\\text{enable}}$ relative to the global clock edge at $t=0$. Therefore, $R_{\\text{L}}$ is launched at time $t_{\\text{launch_clk}} = \\Delta t_{\\text{enable}}$.\n\nThe data launched by $R_{\\text{L}}$ becomes valid at its output, $Q$, after a clock-to-Q delay, $t_{\\text{CQ}}$. The time at which the new data starts propagating from $R_{\\text{L}}$ is:\n$$t_{\\text{propagate_start}} = t_{\\text{launch_clk}} + t_{\\text{CQ}} = \\Delta t_{\\text{enable}} + t_{\\text{CQ}}$$\n\nThis data then propagates through the combinational logic block, which has a delay of $D$. The data arrives at the data input (D-input) of the capture register, $R_{\\text{C}}$, at a time $t_{\\text{arrival}}$:\n$$t_{\\text{arrival}} = t_{\\text{propagate_start}} + D = \\Delta t_{\\text{enable}} + t_{\\text{CQ}} + D$$\n\nThe capture register, $R_{\\text{C}}$, is clocked by the global clock. The problem states that the capture event occurs at the subsequent global rising edge, which is at time $t_{\\text{capture_edge}} = T$.\n\nFor the data to be successfully captured by $R_{\\text{C}}$, it must be stable at the D-input for a minimum duration, known as the setup time $t_{\\text{setup}}$, *before* the active clock edge. This means the latest permissible time for the data to arrive at $R_{\\text{C}}$ is:\n$$t_{\\text{required}} = t_{\\text{capture_edge}} - t_{\\text{setup}} = T - t_{\\text{setup}}$$\n\nThe setup timing constraint is not violated if the actual arrival time of the data is less than or equal to the required arrival time:\n$$t_{\\text{arrival}} \\le t_{\\text{required}}$$\n\nSubstituting the expressions for $t_{\\text{arrival}}$ and $t_{\\text{required}}$, we obtain the fundamental inequality that governs the setup constraint for this path:\n$$\\Delta t_{\\text{enable}} + t_{\\text{CQ}} + D \\le T - t_{\\text{setup}}$$\n\nThis inequality represents the condition under which setup is not violated. To find the maximum allowable lateness, $\\Delta t_{\\text{enable, max}}$, we solve for $\\Delta t_{\\text{enable}}$:\n$$\\Delta t_{\\text{enable}} \\le T - t_{\\text{CQ}} - D - t_{\\text{setup}}$$\n\nThe maximum value is achieved when the equality holds, representing the critical path timing limit:\n$$\\Delta t_{\\text{enable, max}} = T - t_{\\text{CQ}} - D - t_{\\text{setup}}$$\n\nNow, we substitute the given numerical values into this equation.\nFirst, we calculate the clock period $T$ from the frequency $f$:\n$$f = 800 \\ \\text{MHz} = 800 \\times 10^{6} \\ \\text{Hz}$$\n$$T = \\frac{1}{f} = \\frac{1}{800 \\times 10^{6} \\ \\text{s}^{-1}} = 1.25 \\times 10^{-9} \\ \\text{s} = 1.25 \\ \\text{ns}$$\nFor consistency of units, we convert all values to picoseconds ($\\text{ps}$), where $1 \\ \\text{ns} = 1000 \\ \\text{ps}$.\n$$T = 1250 \\ \\text{ps}$$\n\nThe other given parameters are:\n$$t_{\\text{CQ}} = 90 \\ \\text{ps}$$\n$$D = 650 \\ \\text{ps}$$\n$$t_{\\text{setup}} = 120 \\ \\text{ps}$$\n\nWe can now calculate $\\Delta t_{\\text{enable, max}}$:\n$$\\Delta t_{\\text{enable, max}} = 1250 \\ \\text{ps} - 90 \\ \\text{ps} - 650 \\ \\text{ps} - 120 \\ \\text{ps}$$\n$$\\Delta t_{\\text{enable, max}} = 1250 \\ \\text{ps} - (90 + 650 + 120) \\ \\text{ps}$$\n$$\\Delta t_{\\text{enable, max}} = 1250 \\ \\text{ps} - 860 \\ \\text{ps}$$\n$$\\Delta t_{\\text{enable, max}} = 390 \\ \\text{ps}$$\n\nThe problem requires the final answer to be expressed in nanoseconds ($\\text{ns}$) and rounded to four significant figures.\n$$390 \\ \\text{ps} = 0.390 \\ \\text{ns}$$\nTo express this value with four significant figures, we append a zero:\n$$\\Delta t_{\\text{enable, max}} = 0.3900 \\ \\text{ns}$$", "answer": "$$\\boxed{0.3900}$$", "id": "3666965"}]}