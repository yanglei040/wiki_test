{"hands_on_practices": [{"introduction": "Theory comes to life when we apply it to code. This first exercise [@problem_id:3652223] bridges the gap between abstract graph theory and practical programming constructs by analyzing a control-flow graph derived from a loop with a `switch` statement. You will practice applying the fundamental dominance-based definition to identify a back edge, reinforcing how path analysis reveals the underlying structure of a program.", "problem": "Consider a single-function program whose control-flow graph is constructed from the following structured description. The program implements a loop whose body contains a multi-way branch (a switch) with an intentional fallthrough to a block that then transfers control back to the loop header. Use the standard definition of the dominator relation to analyze the back-edge status of the edge from the fallthrough block to the loop header.\n\nProgram structure:\n- Basic block $b_{\\mathrm{entry}}$: initialize variable $i := 0$ and unconditionally transfer to the loop header $h$.\n- Basic block $h$ (the loop header): evaluate a loop-continuation predicate on $i$ and $n$. If the predicate is true, transfer to the switch block $b_{\\mathrm{switch}}$; otherwise, transfer to $b_{\\mathrm{post}}$.\n- Basic block $b_{\\mathrm{switch}}$: a multi-way branch on a selector $s$ whose targets are $b_{0}$, $b_{1}$, and $b_{\\mathrm{default}}$.\n- Basic block $b_{0}$: execute some statements and intentionally omit a break so that control falls through to $b_{1}$.\n- Basic block $b_{1}$: execute some statements and intentionally omit a break so that control falls through to $b_{\\mathrm{fallthrough}}$.\n- Basic block $b_{\\mathrm{default}}$: transfer to $b_{\\mathrm{post}}$.\n- Basic block $b_{\\mathrm{fallthrough}}$: increment $i := i + 1$ and transfer back to the loop header $h$.\n- Basic block $b_{\\mathrm{post}}$: finalize and return.\n\nModel the program as a directed graph $G = (V,E)$ where the node set is $V = \\{b_{\\mathrm{entry}}, h, b_{\\mathrm{switch}}, b_{0}, b_{1}, b_{\\mathrm{default}}, b_{\\mathrm{fallthrough}}, b_{\\mathrm{post}}\\}$ and the edge set $E$ consists of the following directed edges induced by the description above:\n- $(b_{\\mathrm{entry}}, h)$,\n- $(h, b_{\\mathrm{switch}})$ and $(h, b_{\\mathrm{post}})$,\n- $(b_{\\mathrm{switch}}, b_{0})$, $(b_{\\mathrm{switch}}, b_{1})$, $(b_{\\mathrm{switch}}, b_{\\mathrm{default}})$,\n- $(b_{0}, b_{1})$,\n- $(b_{1}, b_{\\mathrm{fallthrough}})$,\n- $(b_{\\mathrm{default}}, b_{\\mathrm{post}})$,\n- $(b_{\\mathrm{fallthrough}}, h)$.\n\nLet $\\mathrm{dom}$ denote the standard dominator relation on $G$, defined with respect to the unique entry node $b_{\\mathrm{entry}}$. Define the indicator variable\n$$\n\\delta = \\begin{cases}\n1 & \\text{if } (b_{\\mathrm{fallthrough}}, h) \\text{ is a back edge under } \\mathrm{dom},\\\\\n0 & \\text{otherwise.}\n\\end{cases}\n$$\nRecall that an edge $(u,v)$ is a back edge under $\\mathrm{dom}$ if and only if $v$ dominates $u$ and $(u,v) \\in E$.\n\nCompute the value of $\\delta$. Express your final answer as a single number. No rounding is required.", "solution": "The problem requires the computation of an indicator variable, $\\delta$, which is defined based on whether a specific edge in a control-flow graph is a back edge. The graph is given by the node set $V = \\{b_{\\mathrm{entry}}, h, b_{\\mathrm{switch}}, b_{0}, b_{1}, b_{\\mathrm{default}}, b_{\\mathrm{fallthrough}}, b_{\\mathrm{post}}\\}$ and the edge set $E = \\{(b_{\\mathrm{entry}}, h), (h, b_{\\mathrm{switch}}), (h, b_{\\mathrm{post}}), (b_{\\mathrm{switch}}, b_{0}), (b_{\\mathrm{switch}}, b_{1}), (b_{\\mathrm{switch}}, b_{\\mathrm{default}}), (b_{0}, b_{1}), (b_{1}, b_{\\mathrm{fallthrough}}), (b_{\\mathrm{default}}, b_{\\mathrm{post}}), (b_{\\mathrm{fallthrough}}, h)\\}$. The unique entry node is $b_{\\mathrm{entry}}$.\n\nThe indicator variable $\\delta$ is defined as:\n$$\n\\delta = \\begin{cases}\n1 & \\text{if } (b_{\\mathrm{fallthrough}}, h) \\text{ is a back edge under } \\mathrm{dom},\\\\\n0 & \\text{otherwise.}\n\\end{cases}\n$$\nThe problem provides the standard definition of a back edge: an edge $(u,v) \\in E$ is a back edge if its destination node $v$ dominates its source node $u$. In our case, we must analyze the edge $(u,v) = (b_{\\mathrm{fallthrough}}, h)$. For this edge to be a back edge, the node $h$ must dominate the node $b_{\\mathrm{fallthrough}}$.\n\nThe dominator relation, denoted $\\mathrm{dom}$, is defined with respect to the graph's entry node, $b_{\\mathrm{entry}}$. A node $d$ is said to dominate a node $n$, written $d \\in \\mathrm{dom}(n)$, if every path in the graph from the entry node $b_{\\mathrm{entry}}$ to $n$ contains $d$.\n\nTo determine if $h$ dominates $b_{\\mathrm{fallthrough}}$, we must examine all possible paths from $b_{\\mathrm{entry}}$ to $b_{\\mathrm{fallthrough}}$ and verify that every such path includes the node $h$.\n\nLet us construct the paths from the entry node $b_{\\mathrm{entry}}$ to the target node $b_{\\mathrm{fallthrough}}$ based on the provided edge set $E$:\n1.  Execution begins at the entry node $b_{\\mathrm{entry}}$. The only outgoing edge from $b_{\\mathrm{entry}}$ is $(b_{\\mathrm{entry}}, h)$. Therefore, any path starting at $b_{\\mathrm{entry}}$ and leading to any other node in the graph must necessarily pass through $h$ as its second node.\n\n2.  To reach $b_{\\mathrm{fallthrough}}$, a path must continue from $h$. The node $h$ has two successors: $b_{\\mathrm{switch}}$ and $b_{\\mathrm{post}}$. The node $b_{\\mathrm{post}}$ is a terminal part of the graph leading to program exit and has no path to $b_{\\mathrm{fallthrough}}$. Therefore, any path from $h$ to $b_{\\mathrm{fallthrough}}$ must proceed through the edge $(h, b_{\\mathrm{switch}})$. The path must have the form $b_{\\mathrm{entry}} \\rightarrow h \\rightarrow b_{\\mathrm{switch}} \\rightarrow \\dots$.\n\n3.  From $b_{\\mathrm{switch}}$, the possible successors are $b_{0}$, $b_{1}$, and $b_{\\mathrm{default}}$. The node $b_{\\mathrm{default}}$ leads to $b_{\\mathrm{post}}$, which does not connect to $b_{\\mathrm{fallthrough}}$. Thus, we only need to consider paths through $b_{0}$ and $b_{1}$.\n\n4.  The node $b_{\\mathrm{fallthrough}}$ has a single predecessor, $b_{1}$, given by the edge $(b_{1}, b_{\\mathrm{fallthrough}})$. To reach $b_{\\mathrm{fallthrough}}$, a path must first reach $b_{1}$.\n\n5.  The node $b_{1}$ has two predecessors: $b_{\\mathrm{switch}}$ and $b_{0}$. This gives rise to two subpaths from $b_{\\mathrm{switch}}$ to $b_{\\mathrm{fallthrough}}$:\n    -   Path A: via the edge $(b_{\\mathrm{switch}}, b_{1})$. The sequence is $b_{\\mathrm{switch}} \\rightarrow b_{1} \\rightarrow b_{\\mathrm{fallthrough}}$.\n    -   Path B: via the edge $(b_{\\mathrm{switch}}, b_{0})$, followed by the fallthrough edge $(b_{0}, b_{1})$. The sequence is $b_{\\mathrm{switch}} \\rightarrow b_{0} \\rightarrow b_{1} \\rightarrow b_{\\mathrm{fallthrough}}$.\n\nCombining these sections, we can enumerate the complete, simple paths (ignoring cycles for now) from $b_{\\mathrm{entry}}$ to $b_{\\mathrm{fallthrough}}$:\n-   Full Path 1: $b_{\\mathrm{entry}} \\rightarrow h \\rightarrow b_{\\mathrm{switch}} \\rightarrow b_{1} \\rightarrow b_{\\mathrm{fallthrough}}$\n-   Full Path 2: $b_{\\mathrm{entry}} \\rightarrow h \\rightarrow b_{\\mathrm{switch}} \\rightarrow b_{0} \\rightarrow b_{1} \\rightarrow b_{\\mathrm{fallthrough}}$\n\nBoth of these paths contain the node $h$. Since any path from the entry node $b_{\\mathrm{entry}}$ to any other node must pass through $h$ as the second node, it is logically necessary that all paths from $b_{\\mathrm{entry}}$ to $b_{\\mathrm{fallthrough}}$ contain $h$.\n\nBy the definition of the dominator relation, since every path from the entry node $b_{\\mathrm{entry}}$ to $b_{\\mathrm{fallthrough}}$ contains the node $h$, we conclude that $h$ dominates $b_{\\mathrm{fallthrough}}$.\n\nNow we check the condition for the edge $(b_{\\mathrm{fallthrough}}, h)$ being a back edge. The condition is that the destination node, $h$, must dominate the source node, $b_{\\mathrm{fallthrough}}$. As we have just established, this condition holds true.\n\nTherefore, the edge $(b_{\\mathrm{fallthrough}}, h)$ is a back edge. According to the problem's definition of the indicator variable $\\delta$, if the edge is a back edge, then $\\delta=1$.\n\nFinal computation:\n- The edge to be analyzed is $(u,v) = (b_{\\mathrm{fallthrough}}, h)$.\n- A back edge requires $v$ to dominate $u$.\n- We must check if $h$ dominates $b_{\\mathrm{fallthrough}}$.\n- Any path from $b_{\\mathrm{entry}}$ to $b_{\\mathrm{fallthrough}}$ must take the form $b_{\\mathrm{entry}} \\rightarrow h \\rightarrow \\dots$.\n- Thus, $h$ is on every path from $b_{\\mathrm{entry}}$ to $b_{\\mathrm{fallthrough}}$.\n- This means $h$ dominates $b_{\\mathrm{fallthrough}}$.\n- The condition for a back edge is satisfied.\n- Consequently, $\\delta = 1$.", "answer": "$$\n\\boxed{1}\n$$", "id": "3652223"}, {"introduction": "Real-world loops can have multiple paths that lead back to the header. This practice [@problem_id:3652277] explores such a scenario, where a single loop header is targeted by two distinct back edges. Your task is to apply the definition of a natural loop to each back edge and correctly combine them, a crucial skill for accurately identifying the full scope of a loop for optimization.", "problem": "Consider the following Control Flow Graph (CFG) with entry node $s$ and exit node $t$. The nodes are $s, h, x, y, z, l_1, l_2, t$. The directed edges are:\n- $s \\rightarrow h$\n- $h \\rightarrow x$\n- $x \\rightarrow y$\n- $y \\rightarrow l_1$\n- $l_1 \\rightarrow h$\n- $h \\rightarrow z$\n- $z \\rightarrow l_2$\n- $l_2 \\rightarrow h$\n- $h \\rightarrow t$\n\nAssume standard definitions used in compiler theory:\n- A node $d$ dominates a node $n$ if every path from $s$ to $n$ contains $d$.\n- An edge $(u,v)$ is a back edge if $v$ dominates $u$.\n- Given a back edge $(u,v)$, the natural loop of $(u,v)$ is the set $\\{v\\} \\cup \\{ n \\mid \\text{there exists a path from } n \\text{ to } u \\text{ that does not pass through } v \\}$.\n- For a header $h$ with multiple latch nodes $l_i$ that have back edges $(l_i,h)$, the loop $L(h)$ is the set of nodes that lie in the natural loops induced by these back edges and have header $h$.\n\nUsing these definitions from first principles, determine which of the following statements is correct about the edges $(l_1,h)$ and $(l_2,h)$ and the size $|L(h)|$ of the resulting natural loop with header $h$.\n\nA. Both $(l_1,h)$ and $(l_2,h)$ are back edges because $h$ dominates both $l_1$ and $l_2$. The natural loop $L(h)$ is the union of the individual natural loops, namely $L(h)=\\{h,x,y,l_1,z,l_2\\}$, so $|L(h)|=6$.\n\nB. Only $(l_1,h)$ is a back edge; $(l_2,h)$ is not a back edge because $h$ does not dominate $l_2$. In that case $L(h)=\\{h,x,y,l_1\\}$ and $|L(h)|=4$.\n\nC. Both $(l_1,h)$ and $(l_2,h)$ are back edges, but $L(h)$ equals the larger of the two individual natural loops, namely $L(h)=\\{h,x,y,l_1\\}$, so $|L(h)|=4$.\n\nD. Back-edge status depends on the choice of Depth-First Search (DFS), so depending on the DFS tree, $|L(h)|$ could be $4$ or $6$; $L(h)$ is not uniquely determined by the graph alone.", "solution": "The validity of the problem statement is first assessed.\n\n**Step 1: Extract Givens**\n- **Set of nodes:** $\\{s, h, x, y, z, l_1, l_2, t\\}$\n- **Entry node:** $s$\n- **Exit node:** $t$\n- **Directed edges:** $s \\rightarrow h$, $h \\rightarrow x$, $x \\rightarrow y$, $y \\rightarrow l_1$, $l_1 \\rightarrow h$, $h \\rightarrow z$, $z \\rightarrow l_2$, $l_2 \\rightarrow h$, $h \\rightarrow t$.\n- **Definition of Dominance:** A node $d$ dominates a node $n$ if every path from the entry node $s$ to $n$ must contain $d$.\n- **Definition of Back Edge:** An edge $(u,v)$ is a back edge if its head $v$ dominates its tail $u$.\n- **Definition of Natural Loop of an edge $(u,v)$:** The set $\\{v\\} \\cup \\{ n \\mid \\text{there exists a path from } n \\text{ to } u \\text{ that does not pass through } v \\}$.\n- **Definition of Loop $L(h)$:** For a header $h$ with multiple latch nodes $l_i$ forming back edges $(l_i,h)$, the loop $L(h)$ is the set of nodes that lie in the natural loops induced by these back edges. This is standardly interpreted as the union of the individual natural loops.\n\n**Step 2: Validate Using Extracted Givens**\nThe problem is well-defined and scientifically grounded within the domain of compiler theory. It provides a complete Control Flow Graph (CFG) and a consistent set of standard definitions for dominance, back edges, and natural loops. The question is objective and its solution is determinable by a rigorous application of these definitions. The problem is not ill-posed, ambiguous, or trivial. The definition of a back edge is based on dominance, which is a property of the graph itself and is independent of any traversal algorithm like Depth-First Search (DFS).\n\n**Step 3: Verdict and Action**\nThe problem statement is valid. A solution will be derived.\n\n**Derivation**\n\nThe solution requires a three-part analysis based on the provided definitions:\n1.  Determine the dominators for the nodes in the graph, specifically to check if $h$ dominates $l_1$ and $l_2$.\n2.  Identify which of the edges $(l_1,h)$ and $(l_2,h)$ are back edges.\n3.  Compute the natural loops for any identified back edges and combine them to find $L(h)$ and its size $|L(h)|$.\n\n**1. Dominance Analysis**\nThe entry node is $s$. The only edge leaving $s$ is $s \\rightarrow h$. Consequently, any path from $s$ to any other node in the graph must pass through $h$.\nBy the definition of dominance (\"A node $d$ dominates a node $n$ if every path from $s$ to $n$ contains $d$\"), the node $h$ dominates every node in the graph except for $s$ itself.\nSpecifically:\n- Every path from $s$ to $l_1$ (e.g., $s \\rightarrow h \\rightarrow x \\rightarrow y \\rightarrow l_1$) must contain $h$. Therefore, $h$ dominates $l_1$.\n- Every path from $s$ to $l_2$ (e.g., $s \\rightarrow h \\rightarrow z \\rightarrow l_2$) must contain $h$. Therefore, $h$ dominates $l_2$.\n\n**2. Back-Edge Identification**\nA back edge is an edge $(u,v)$ where $v$ dominates $u$. We examine the two edges in question, which both have $h$ as their head ($v=h$).\n- For the edge $(l_1, h)$: The tail is $u=l_1$ and the head is $v=h$. From our dominance analysis, $h$ dominates $l_1$. Therefore, $(l_1, h)$ is a back edge.\n- For the edge $(l_2, h)$: The tail is $u=l_2$ and the head is $v=h$. From our dominance analysis, $h$ dominates $l_2$. Therefore, $(l_2, h)$ is a back edge.\n\nBoth $(l_1,h)$ and $(l_2,h)$ are back edges.\n\n**3. Natural Loop Calculation**\nThe loop $L(h)$ is the union of the natural loops for all back edges entering the header $h$.\n\n- **Natural loop for $(l_1, h)$:** Let this be $N_1$. By definition, $N_1 = \\{h\\} \\cup \\{ n \\mid \\text{there exists a path from } n \\text{ to } l_1 \\text{ that does not pass through } h \\}$.\n  To find the nodes in the second part of the union, we must find all nodes that can reach $l_1$ without going through $h$. We can do this by reverse-traversing the graph from $l_1$, avoiding any path that would require passing through $h$.\n  - $l_1$ is reachable from itself.\n  - The predecessors of $l_1$ are $\\{y\\}$. The path $y \\rightarrow l_1$ does not include $h$, so $y$ is in the set.\n  - The predecessors of $y$ are $\\{x\\}$. The path $x \\rightarrow y \\rightarrow l_1$ does not include $h$, so $x$ is in the set.\n  - The predecessors of $x$ are $\\{h\\}$. Any path to $x$ from another part of the graph (e.g., from $z$) must go through $h$. Thus, no other nodes can reach $l_1$ without passing through $h$.\n  The set of nodes that can reach $l_1$ without passing through $h$ is $\\{x, y, l_1\\}$.\n  Therefore, $N_1 = \\{h\\} \\cup \\{x, y, l_1\\} = \\{h, x, y, l_1\\}$. The size is $|N_1| = 4$.\n\n- **Natural loop for $(l_2, h)$:** Let this be $N_2$. By definition, $N_2 = \\{h\\} \\cup \\{ n \\mid \\text{there exists a path from } n \\text{ to } l_2 \\text{ that does not pass through } h \\}$.\n  We perform a similar reverse traversal from $l_2$.\n  - $l_2$ is reachable from itself.\n  - The predecessors of $l_2$ are $\\{z\\}$. The path $z \\rightarrow l_2$ does not include $h$, so $z$ is in the set.\n  - The predecessors of $z$ are $\\{h\\}$. Any other path to $z$ must go through $h$.\n  The set of nodes that can reach $l_2$ without passing through $h$ is $\\{z, l_2\\}$.\n  Therefore, $N_2 = \\{h\\} \\cup \\{z, l_2\\} = \\{h, z, l_2\\}$. The size is $|N_2| = 3$.\n\n- **Combined Loop $L(h)$:** The full loop with header $h$ is the union of the natural loops of all back edges entering $h$.\n  $L(h) = N_1 \\cup N_2 = \\{h, x, y, l_1\\} \\cup \\{h, z, l_2\\}$\n  $L(h) = \\{h, x, y, l_1, z, l_2\\}$\n  The size of the loop is $|L(h)| = 6$.\n\n**Option-by-Option Analysis**\n\n**A. Both $(l_1,h)$ and $(l_2,h)$ are back edges because $h$ dominates both $l_1$ and $l_2$. The natural loop $L(h)$ is the union of the individual natural loops, namely $L(h)=\\{h,x,y,l_1,z,l_2\\}$, so $|L(h)|=6$.**\n- This statement correctly identifies that both edges are back edges for the correct reason ($h$ dominates $l_1$ and $l_2$). It correctly defines the combined loop as the union of the individual natural loops. It correctly computes this union to be $\\{h,x,y,l_1,z,l_2\\}$ and correctly states its size as $6$. All parts of this statement are consistent with our derivation.\n- Verdict: **Correct**.\n\n**B. Only $(l_1,h)$ is a back edge; $(l_2,h)$ is not a back edge because $h$ does not dominate $l_2$. In that case $L(h)=\\{h,x,y,l_1\\}$ and $|L(h)|=4$.**\n- The assertion that \"$h$ does not dominate $l_2$\" is false. As established, $h$ dominates every node except $s$. Consequently, the claim that $(l_2,h)$ is not a back edge is also false. The subsequent calculation of $L(h)$ is based on this incorrect premise.\n- Verdict: **Incorrect**.\n\n**C. Both $(l_1,h)$ and $(l_2,h)$ are back edges, but $L(h)$ equals the larger of the two individual natural loops, namely $L(h)=\\{h,x,y,l_1\\}$, so $|L(h)|=4$.**\n- The first part, \"Both $(l_1,h)$ and $(l_2,h)$ are back edges,\" is correct. However, the claim that $L(h)$ is the *larger* of the two loops is not the standard definition and contradicts the common practice of taking the union. The resulting set and size are incorrect. The combined loop must contain all nodes from both individual loops.\n- Verdict: **Incorrect**.\n\n**D. Back-edge status depends on the choice of Depth-First Search (DFS), so depending on the DFS tree, $|L(h)|$ could be $4$ or $6$; $L(h)$ is not uniquely determined by the graph alone.**\n- The problem explicitly provides a definition of a back edge based on dominance, not on a DFS traversal. Dominance is an intrinsic property of the CFG and is not dependent on any particular traversal order. Therefore, the back edges are uniquely determined by the graph structure alone. As a result, the natural loops and their union are also uniquely determined. The premise of this option is invalid in the context of the problem's given definitions.\n- Verdict: **Incorrect**.", "answer": "$$\\boxed{A}$$", "id": "3652277"}, {"introduction": "Not all cycles in a control-flow graph are 'well-behaved' or reducible. This exercise [@problem_id:3652294] presents a classic example of an irreducible loop, created by a `goto` jumping into the middle of the loop's body. By analyzing this graph, you will learn to identify a cycle with multiple entry points and understand why the dominance property of a single natural loop header is violated, appreciating the critical distinction between reducible and irreducible control flow.", "problem": "Consider a program fragment with labeled statements and $goto$ that intentionally jumps into the middle of an iterative structure. The fragment is organized into basic blocks with unique numerical identifiers, and a single entry at block $1$; the blocks are as follows, using labels $L_{\\text{hdr}}$ for the intended loop header and $L_{\\text{mid}}$ for the labeled middle of the loop body:\n\n- Block $1$: Initialization; conditional branch to block $2$ or block $6$.\n- Block $2$ ($L_{\\text{hdr}}$): Conditional branch; if the loop-continuation condition holds, branch to block $3$, otherwise branch to block $8$ (exit).\n- Block $3$: Unconditional $goto$ to $L_{\\text{mid}}$ (block $4$).\n- Block $4$ ($L_{\\text{mid}}$): Conditional branch; if condition holds, branch to block $5$, otherwise branch to block $7$.\n- Block $5$: Unconditional $goto$ to $L_{\\text{mid}}$ (block $4$).\n- Block $6$: Unconditional $goto$ to $L_{\\text{mid}}$ (block $4$). This is a jump into the middle of the loop from outside.\n- Block $7$: Unconditional $goto$ to block $2$ ($L_{\\text{hdr}}$).\n- Block $8$: Exit.\n\nConstruct the Control Flow Graph (CFG) $G$ with nodes $\\{1,2,3,4,5,6,7,8\\}$ and directed edges given by the described control transfers: $1 \\to 2$, $1 \\to 6$, $2 \\to 3$, $2 \\to 8$, $3 \\to 4$, $4 \\to 5$, $4 \\to 7$, $5 \\to 4$, $6 \\to 4$, $7 \\to 2$.\n\nStarting from the fundamental definitions:\n- A node $d$ dominates a node $n$ in a flow graph if every path from the entry node to $n$ passes through $d$.\n- An edge $(u,v)$ is a back edge if $v$ dominates $u$.\n- A cycle is reducible if it has a single-entry header node that dominates all nodes in the cycle; otherwise, it is irreducible.\n\nUsing only these definitions and a standard iterative data-flow formulation for dominators, determine the dominator sets for all nodes, identify all back edges in $G$, and assess whether the cycle $C$ formed by the path $2 \\to 3 \\to 4 \\to 7 \\to 2$ is reducible or irreducible. Finally, let $r$ be $1$ if $C$ is reducible and $0$ if $C$ is irreducible, and let $\\mathcal{B}$ be the set of all back edges in $G$. Compute the value\n$$\nS \\;=\\; r \\;+\\; \\sum_{(u,v)\\in \\mathcal{B}} \\big(u + 2v\\big).\n$$\nProvide $S$ as an exact integer. No rounding is required, and no units are to be included in the answer.", "solution": "The problem requires the computation of a value $S$ derived from the analysis of a given Control Flow Graph (CFG), $G$. The analysis involves three main stages: calculating dominator sets, identifying back edges, and assessing the reducibility of a specific cycle. The final value is given by the formula $S = r + \\sum_{(u,v)\\in \\mathcal{B}} (u + 2v)$, where $r$ reflects the reducibility of the cycle $C=2 \\to 3 \\to 4 \\to 7 \\to 2$ and $\\mathcal{B}$ is the set of all back edges in $G$.\n\nFirst, we establish the structure of the CFG $G=(N, E, n_0)$, where the set of nodes is $N=\\{1, 2, 3, 4, 5, 6, 7, 8\\}$, the entry node is $n_0=1$, and the set of edges $E$ is given by the specified control transfers. To compute the dominator sets, we first identify the set of predecessors, $\\text{pred}(n)$, for each node $n \\in N$:\n- $\\text{pred}(1) = \\emptyset$\n- $\\text{pred}(2) = \\{1, 7\\}$\n- $\\text{pred}(3) = \\{2\\}$\n- $\\text{pred}(4) = \\{3, 5, 6\\}$\n- $\\text{pred}(5) = \\{4\\}$\n- $\\text{pred}(6) = \\{1\\}$\n- $\\text{pred}(7) = \\{4\\}$\n- $\\text{pred}(8) = \\{2\\}$\n\nThe dominator set for a node $n$, denoted $D(n)$, is computed using an iterative data-flow analysis framework based on the following equations:\n$$ D(n_0) = \\{n_0\\} $$\n$$ D(n) = \\{n\\} \\cup \\bigcap_{p \\in \\text{pred}(n)} D(p) \\quad \\text{for } n \\neq n_0 $$\nWe initialize the sets as $D(1) = \\{1\\}$ and $D(n) = N$ for all $n \\in \\{2, 3, 4, 5, 6, 7, 8\\}$. We then iterate until a fixed point is reached.\n\nIteration 1:\n- $D(1) = \\{1\\}$\n- $D(2) = \\{2\\} \\cup (D(1) \\cap D(7))_{\\text{old}} = \\{2\\} \\cup (\\{1\\} \\cap \\{1, 2, 3, 4, 5, 6, 7, 8\\}) = \\{1, 2\\}$\n- $D(3) = \\{3\\} \\cup D(2) = \\{3\\} \\cup \\{1, 2\\} = \\{1, 2, 3\\}$\n- $D(6) = \\{6\\} \\cup D(1) = \\{6\\} \\cup \\{1\\} = \\{1, 6\\}$\n- $D(8) = \\{8\\} \\cup D(2) = \\{8\\} \\cup \\{1, 2\\} = \\{1, 2, 8\\}$\n- $D(4) = \\{4\\} \\cup (D(3) \\cap D(5)_{\\text{old}} \\cap D(6)) = \\{4\\} \\cup (\\{1, 2, 3\\} \\cap N \\cap \\{1, 6\\}) = \\{4\\} \\cup \\{1\\} = \\{1, 4\\}$\n- $D(5) = \\{5\\} \\cup D(4) = \\{5\\} \\cup \\{1, 4\\} = \\{1, 4, 5\\}$\n- $D(7) = \\{7\\} \\cup D(4) = \\{7\\} \\cup \\{1, 4\\} = \\{1, 4, 7\\}$\n\nAfter the first iteration, the sets are:\n- $D(1) = \\{1\\}$\n- $D(2) = \\{1, 2\\}$\n- $D(3) = \\{1, 2, 3\\}$\n- $D(4) = \\{1, 4\\}$\n- $D(5) = \\{1, 4, 5\\}$\n- $D(6) = \\{1, 6\\}$\n- $D(7) = \\{1, 4, 7\\}$\n- $D(8) = \\{1, 2, 8\\}$\n\nIteration 2: We re-compute the sets using the values from the first iteration.\n- $D(2) = \\{2\\} \\cup (D(1) \\cap D(7)) = \\{2\\} \\cup (\\{1\\} \\cap \\{1, 4, 7\\}) = \\{1, 2\\}$ (No change)\n- $D(3) = \\{3\\} \\cup D(2) = \\{3\\} \\cup \\{1, 2\\} = \\{1, 2, 3\\}$ (No change)\n- $D(4) = \\{4\\} \\cup (D(3) \\cap D(5) \\cap D(6)) = \\{4\\} \\cup (\\{1, 2, 3\\} \\cap \\{1, 4, 5\\} \\cap \\{1, 6\\}) = \\{4\\} \\cup \\{1\\} = \\{1, 4\\}$ (No change)\nSince all other nodes' dominator sets depend on these, and their inputs have not changed, their own sets will not change either. The algorithm has converged to a fixed point.\n\nThe final dominator sets are:\n$D(1) = \\{1\\}$, $D(2) = \\{1, 2\\}$, $D(3) = \\{1, 2, 3\\}$, $D(4) = \\{1, 4\\}$, $D(5) = \\{1, 4, 5\\}$, $D(6) = \\{1, 6\\}$, $D(7) = \\{1, 4, 7\\}$, $D(8) = \\{1, 2, 8\\}$.\n\nNext, we identify the back edges. An edge $(u,v)$ is a back edge if its head, $v$, dominates its tail, $u$. That is, if $v \\in D(u)$. We check this condition for all edges in $E = \\{(1,2), (1,6), (2,3), (2,8), (3,4), (4,5), (4,7), (5,4), (6,4), (7,2)\\}$.\n- Edge $(1,2)$: $2 \\notin D(1)=\\{1\\}$. Not a back edge.\n- Edge $(1,6)$: $6 \\notin D(1)=\\{1\\}$. Not a back edge.\n- Edge $(2,3)$: $3 \\notin D(2)=\\{1, 2\\}$. Not a back edge.\n- Edge $(2,8)$: $8 \\notin D(2)=\\{1, 2\\}$. Not a back edge.\n- Edge $(3,4)$: $4 \\notin D(3)=\\{1, 2, 3\\}$. Not a back edge.\n- Edge $(4,5)$: $5 \\notin D(4)=\\{1, 4\\}$. Not a back edge.\n- Edge $(4,7)$: $7 \\notin D(4)=\\{1, 4\\}$. Not a back edge.\n- Edge $(5,4)$: $4 \\in D(5)=\\{1, 4, 5\\}$. This is a back edge.\n- Edge $(6,4)$: $4 \\notin D(6)=\\{1, 6\\}$. Not a back edge.\n- Edge $(7,2)$: $2 \\notin D(7)=\\{1, 4, 7\\}$. Not a back edge. The path $1 \\to 6 \\to 4 \\to 7$ reaches node $7$ without passing through node $2$, so $2$ does not dominate $7$.\nThe set of back edges is thus $\\mathcal{B} = \\{(5,4)\\}$.\n\nNow, we assess the reducibility of the cycle $C$ formed by the path $2 \\to 3 \\to 4 \\to 7 \\to 2$. The nodes in this cycle are $V_C = \\{2, 3, 4, 7\\}$. A cycle is reducible if it has a single-entry header node that dominates all other nodes in the cycle. An entry node (or header) to a cycle is a node within the cycle that has a predecessor outside the cycle.\n- For node $2 \\in V_C$, its predecessors are $\\{1, 7\\}$. Since $1 \\notin V_C$, node $2$ is an entry node.\n- For node $3 \\in V_C$, its predecessor is $\\{2\\}$. Since $2 \\in V_C$, node $3$ is not an entry node.\n- For node $4 \\in V_C$, its predecessors are $\\{3, 5, 6\\}$. Since $5 \\notin V_C$ and $6 \\notin V_C$, node $4$ is an entry node.\nThe cycle $C$ has two entry nodes, $2$ and $4$. A cycle with multiple entries is, by definition, an irreducible cycle. Therefore, the cycle $C$ is irreducible. This implies that the parameter $r$ is $0$.\n\nFinally, we compute the value of $S$.\n$$ S = r + \\sum_{(u,v)\\in \\mathcal{B}} (u + 2v) $$\nSubstituting the determined values, $r=0$ and $\\mathcal{B}=\\{(5,4)\\}$, we have:\n$$ S = 0 + (5 + 2 \\times 4) $$\n$$ S = 5 + 8 $$\n$$ S = 13 $$\nThe final value is $13$.", "answer": "$$\\boxed{13}$$", "id": "3652294"}]}