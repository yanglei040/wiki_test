{
    "hands_on_practices": [
        {
            "introduction": "To effectively identify and optimize loops, we must first master the foundational concepts of dominance and back edges. This practice guides you through the process from first principles, starting with a given Control Flow Graph (CFG). By systematically applying the definitions, you will compute immediate dominators, construct the corresponding dominator tree, and use this structure to definitively identify the graph's back edges. ",
            "id": "3652216",
            "problem": "Consider a Control Flow Graph (CFG) with a single entry node. Let the set of vertices be $V=\\{r,a,b,c,d,e,f,g,h,i,j\\}$ where $r$ is the entry, and let the set of directed edges be\n$$\nE=\\{(r,a),\\ (a,b),\\ (a,c),\\ (b,d),\\ (c,d),\\ (d,e),\\ (e,f),\\ (f,g),\\ (g,h),\\ (h,i),\\ (i,j),\\ (j,d),\\ (e,d),\\ (g,e),\\ (h,f),\\ (i,g)\\}.\n$$\nUse the following foundational definitions.\n- A node $x$ \\emph{dominates} a node $y$ if every path from the entry $r$ to $y$ contains $x$.\n- The \\emph{immediate dominator} of $n$, denoted $\\operatorname{idom}(n)$, is the unique strict dominator of $n$ that does not strictly dominate any other strict dominator of $n$.\n- The \\emph{dominator tree} $DT$ is the rooted tree on $V$ with root $r$ and edges $(\\operatorname{idom}(u),u)$ for all $u\\in V\\setminus\\{r\\}$.\n\nPerform the following tasks:\n1. Compute $\\operatorname{idom}(n)$ for all $n\\in V$ using only the definition of dominance and immediate dominator.\n2. Construct the dominator tree $DT$.\n3. Form the set of candidate back edges by taking all ordered pairs $(u,v)$ such that $v$ lies on the unique path from $r$ to $u$ in $DT$, and then filter this set by keeping only those pairs that are also edges in the CFG, i.e., are elements of $E$.\n4. For each retained pair $(u,v)$, let $d_{DT}(v,u)$ be the number of tree edges on the unique path from $v$ to $u$ in $DT$. Define\n$$\nS=\\sum_{\\text{retained }(u,v)} d_{DT}(v,u).\n$$\n\nCompute $S$. Give your final answer as an exact integer with no units, and do not round.",
            "solution": "The user wants me to solve a problem based on a given Control Flow Graph (CFG), which involves computing immediate dominators, constructing a dominator tree, identifying a specific set of edges, and calculating a sum based on path lengths in the tree.\n\nFirst, I will validate the problem statement.\nThe problem provides a complete specification of a directed graph through a set of vertices $V=\\{r,a,b,c,d,e,f,g,h,i,j\\}$ and a set of edges $E$. The entry node is specified as $r$. It provides standard definitions for dominance, immediate dominator ($\\operatorname{idom}$), and the dominator tree ($DT$). The tasks are clearly defined based on these standard concepts from compiler theory. The problem is self-contained, mathematically sound, and well-posed. A unique solution exists and can be determined by algorithmically applying the given definitions. Therefore, the problem is valid.\n\nI will now proceed with the solution, following the tasks outlined in the problem statement.\n\n### Task 1: Compute $\\operatorname{idom}(n)$ for all $n\\in V$\n\nThe immediate dominator $\\operatorname{idom}(n)$ of a node $n$ is the unique strict dominator of $n$ that is closest to $n$ on any path from the entry node. We determine $\\operatorname{idom}(n)$ for each node $n \\in V \\setminus \\{r\\}$ by analyzing all paths from the entry node $r$.\n\n-   **Node a**: The only path from $r$ to $a$ is $(r, a)$. The set of dominators for $a$ is $\\{r, a\\}$. The only strict dominator is $r$. Thus, $\\operatorname{idom}(a) = r$.\n-   **Node b**: The only path from $r$ to $b$ is $(r, a, b)$. The dominators of $b$ are $\\{r, a, b\\}$. The strict dominators are $\\{r, a\\}$. Since $r$ dominates $a$, the immediate dominator is the one \"closest\" to $b$, which is $a$. Thus, $\\operatorname{idom}(b) = a$.\n-   **Node c**: Similarly, the only path from $r$ to $c$ is $(r, a, c)$. The dominators of $c$ are $\\{r, a, c\\}$. Thus, $\\operatorname{idom}(c) = a$.\n-   **Node d**: To reach $d$, a path must originate from $r$. The only edge from $r$ is $(r, a)$, so any path to any other node must contain $a$. Therefore, $a$ dominates $d$. The paths $(r,a,b,d)$ and $(r,a,c,d)$ show that neither $b$ nor $c$ dominates $d$. Any path that involves a loop, such as via the edge $(j,d)$, must have first reached $j$, and any path to $j$ must have passed through $a$ and $d$ itself. Therefore, the only strict dominators of $d$ are $\\{r, a\\}$. Since $a$ is dominated by $r$, $a$ is the immediate dominator. Thus, $\\operatorname{idom}(d) = a$.\n-   **Node e**: Any path from $r$ to $e$ must first reach $d$. The predecessors of $d$ are $b$, $c$, and $j$. Any path to these predecessors must contain $a$. So any path to $d$ must contain $a$. Once at $d$, the only edge leading out of $d$ is $(d,e)$. Therefore, any path from $r$ to any node in the set $\\{e, f, g, h, i, j\\}$ must contain the subpath $a \\to \\dots \\to d \\to e$. This means $d$ dominates $e$. Since there is a direct edge $(d,e)$, there can be no dominator between $d$ and $e$. Thus, $\\operatorname{idom}(e) = d$.\n-   **Node f**: As established, any path from $r$ to $f$ must contain $e$. So we consider paths from $e$ to $f$. The predecessors of $f$ are $e$ and $h$. A path from $e$ can be the direct edge $(e,f)$. Any path to $h$ must pass through $g$, and any path to $g$ must pass through $f$ or $i$. Let's assume a path from $e$ to $f$ exists that avoids the direct edge $(e,f)$. This path must arrive at $f$ from $h$, so it looks like $e \\leadsto h \\to f$. But any path to $h$ from $e$ must pass through $f$ first (path: $e \\to f \\to g \\to h$). So it's impossible to reach $f$ from $e$ without passing through $f$ itself as the first step. More formally, any path from $r$ must pass through $e$. The only way to reach $f$ from $e$ without taking the edge $(e,f)$ is through the loop structure. To do so, one must eventually reach $h$ and take edge $(h,f)$. The path to $h$ is $e \\to f \\to g \\to h$. This path already contains $f$. Therefore every path from $r$ to $f$ contains $e$. Given the edge $(e,f)$, we have $\\operatorname{idom}(f) = e$.\n-   **Node g**: Any path from $r$ to $g$ must contain $f$. To see this, any path from $r$ must contain $e$. We examine paths from $e$ to $g$. The predecessors of the set of nodes $\\{g, h, i, j\\}$ is the singleton set $\\{f\\}$. Therefore, any path from $e$ to any node in $\\{g, h, i, j\\}$ must first enter via $f$. Specifically, the path must contain the edge $(f,g)$ or pass through $f$ to reach another entry point, but there are none. So $f$ dominates $g$. Due to the edge $(f,g)$, we have $\\operatorname{idom}(g) = f$.\n-   **Node h**: The only predecessor of $h$ is $g$. Therefore, any path to $h$ must pass through $g$. Thus, $g$ dominates $h$. The edge $(g,h)$ implies $\\operatorname{idom(h)} = g$.\n-   **Node i**: The only predecessor of $i$ is $h$. Therefore, $h$ dominates $i$. The edge $(h,i)$ implies $\\operatorname{idom}(i) = h$.\n-   **Node j**: The only predecessor of $j$ is $i$. Therefore, $i$ dominates $j$. The edge $(i,j)$ implies $\\operatorname{idom}(j) = i$.\n\nSummary of immediate dominators:\n$\\operatorname{idom}(a)=r, \\operatorname{idom}(b)=a, \\operatorname{idom}(c)=a, \\operatorname{idom}(d)=a, \\operatorname{idom}(e)=d, \\operatorname{idom}(f)=e, \\operatorname{idom}(g)=f, \\operatorname{idom}(h)=g, \\operatorname{idom}(i)=h, \\operatorname{idom}(j)=i$.\n\n### Task 2: Construct the Dominator Tree $DT$\n\nThe dominator tree $DT$ has the vertex set $V$ and edges of the form $(\\operatorname{idom}(u), u)$ for all $u \\in V \\setminus \\{r\\}$.\n-   Root: $r$\n-   Edges: $(r,a), (a,b), (a,c), (a,d), (d,e), (e,f), (f,g), (g,h), (h,i), (i,j)$.\nThe tree structure is as follows: $r$ is the root. Node $a$ is a child of $r$. Nodes $b$, $c$, and $d$ are children of $a$. Node $d$ has a single child $e$, which begins a chain: $d \\to e \\to f \\to g \\to h \\to i \\to j$.\n\n### Task 3: Identify Retained Edges\n\nWe need to find all edges $(u,v) \\in E$ such that $v$ dominates $u$. In the dominator tree, this is equivalent to $v$ being an ancestor of $u$. We iterate through the edges in $E$ that were not tree edges. The interesting edges are those that create cycles or cross branches. These are $(b,d), (c,d), (j,d), (e,d), (g,e), (h,f), (i,g)$.\n\n-   $(b,d)$: $u=b, v=d$. In $DT$, $b$ and $d$ are siblings. $d$ does not dominate $b$.\n-   $(c,d)$: $u=c, v=d$. In $DT$, $c$ and $d$ are siblings. $d$ does not dominate $c$.\n-   $(j,d)$: $u=j, v=d$. The path from $r$ to $j$ in $DT$ is $r \\to a \\to d \\to e \\to f \\to g \\to h \\to i \\to j$. Node $d$ is an ancestor of $j$. This edge is retained.\n-   $(e,d)$: $u=e, v=d$. The path from $r$ to $e$ in $DT$ is $r \\to a \\to d \\to e$. Node $d$ is the parent (and thus an ancestor) of $e$. This edge is retained.\n-   $(g,e)$: $u=g, v=e$. The path from $r$ to $g$ in $DT$ is $r \\to a \\to d \\to e \\to f \\to g$. Node $e$ is an ancestor of $g$. This edge is retained.\n-   $(h,f)$: $u=h, v=f$. The path from $r$ to $h$ in $DT$ is $r \\to a \\to d \\to e \\to f \\to g \\to h$. Node $f$ is an ancestor of $h$. This edge is retained.\n-   $(i,g)$: $u=i, v=g$. The path from $r$ to $i$ in $DT$ is $r \\to a \\to d \\to e \\to f \\to g \\to h \\to i$. Node $g$ is an ancestor of $i$. This edge is retained.\n\nThe set of retained pairs $(u,v)$ is $\\{(j,d), (e,d), (g,e), (h,f), (i,g)\\}$.\n\n### Task 4: Compute S\n\nWe compute $S = \\sum d_{DT}(v,u)$ for the retained pairs $(u,v)$. The term $d_{DT}(v,u)$ is the number of edges on the unique path from $v$ to $u$ in the dominator tree.\n\n1.  For $(u,v) = (j,d)$: The path in $DT$ from $d$ to $j$ is $d \\to e \\to f \\to g \\to h \\to i \\to j$. The length is $6$ edges. $d_{DT}(d,j)=6$.\n2.  For $(u,v) = (e,d)$: The path in $DT$ from $d$ to $e$ is $d \\to e$. The length is $1$ edge. $d_{DT}(d,e)=1$.\n3.  For $(u,v) = (g,e)$: The path in $DT$ from $e$ to $g$ is $e \\to f \\to g$. The length is $2$ edges. $d_{DT}(e,g)=2$.\n4.  For $(u,v) = (h,f)$: The path in $DT$ from $f$ to $h$ is $f \\to g \\to h$. The length is $2$ edges. $d_{DT}(f,h)=2$.\n5.  For $(u,v) = (i,g)$: The path in $DT$ from $g$ to $i$ is $g \\to h \\to i$. The length is $2$ edges. $d_{DT}(g,i)=2$.\n\nThe sum $S$ is the total of these distances:\n$$ S = 6 + 1 + 2 + 2 + 2 = 13 $$",
            "answer": "$$\n\\boxed{13}\n$$"
        },
        {
            "introduction": "Theoretical concepts like dominance find their true power when applied to control-flow graphs derived from actual code. This exercise explores a common yet tricky scenario involving a `switch` statement with `fallthrough` behavior, which creates a non-trivial loop structure. By applying the formal definition of a back edge—an edge $(u,v)$ where $v$ dominates $u$—you will see how this principle robustly identifies the loop-closing edge even with complex control flow. ",
            "id": "3652223",
            "problem": "Consider a single-function program whose control-flow graph is constructed from the following structured description. The program implements a loop whose body contains a multi-way branch (a switch) with an intentional fallthrough to a block that then transfers control back to the loop header. Use the standard definition of the dominator relation to analyze the back-edge status of the edge from the fallthrough block to the loop header.\n\nProgram structure:\n- Basic block $b_{\\mathrm{entry}}$: initialize variable $i := 0$ and unconditionally transfer to the loop header $h$.\n- Basic block $h$ (the loop header): evaluate a loop-continuation predicate on $i$ and $n$. If the predicate is true, transfer to the switch block $b_{\\mathrm{switch}}$; otherwise, transfer to $b_{\\mathrm{post}}$.\n- Basic block $b_{\\mathrm{switch}}$: a multi-way branch on a selector $s$ whose targets are $b_{0}$, $b_{1}$, and $b_{\\mathrm{default}}$.\n- Basic block $b_{0}$: execute some statements and intentionally omit a break so that control falls through to $b_{1}$.\n- Basic block $b_{1}$: execute some statements and intentionally omit a break so that control falls through to $b_{\\mathrm{fallthrough}}$.\n- Basic block $b_{\\mathrm{default}}$: transfer to $b_{\\mathrm{post}}$.\n- Basic block $b_{\\mathrm{fallthrough}}$: increment $i := i + 1$ and transfer back to the loop header $h$.\n- Basic block $b_{\\mathrm{post}}$: finalize and return.\n\nModel the program as a directed graph $G = (V,E)$ where the node set is $V = \\{b_{\\mathrm{entry}}, h, b_{\\mathrm{switch}}, b_{0}, b_{1}, b_{\\mathrm{default}}, b_{\\mathrm{fallthrough}}, b_{\\mathrm{post}}\\}$ and the edge set $E$ consists of the following directed edges induced by the description above:\n- $(b_{\\mathrm{entry}}, h)$,\n- $(h, b_{\\mathrm{switch}})$ and $(h, b_{\\mathrm{post}})$,\n- $(b_{\\mathrm{switch}}, b_{0})$, $(b_{\\mathrm{switch}}, b_{1})$, $(b_{\\mathrm{switch}}, b_{\\mathrm{default}})$,\n- $(b_{0}, b_{1})$,\n- $(b_{1}, b_{\\mathrm{fallthrough}})$,\n- $(b_{\\mathrm{default}}, b_{\\mathrm{post}})$,\n- $(b_{\\mathrm{fallthrough}}, h)$.\n\nLet $\\mathrm{dom}$ denote the standard dominator relation on $G$, defined with respect to the unique entry node $b_{\\mathrm{entry}}$. Define the indicator variable\n$$\n\\delta = \\begin{cases}\n1 & \\text{if } (b_{\\mathrm{fallthrough}}, h) \\text{ is a back edge under } \\mathrm{dom},\\\\\n0 & \\text{otherwise.}\n\\end{cases}\n$$\nRecall that an edge $(u,v)$ is a back edge under $\\mathrm{dom}$ if and only if $v$ dominates $u$ and $(u,v) \\in E$.\n\nCompute the value of $\\delta$. Express your final answer as a single number. No rounding is required.",
            "solution": "The problem requires the computation of an indicator variable, $\\delta$, which is defined based on whether a specific edge in a control-flow graph is a back edge. The graph is given by the node set $V = \\{b_{\\mathrm{entry}}, h, b_{\\mathrm{switch}}, b_{0}, b_{1}, b_{\\mathrm{default}}, b_{\\mathrm{fallthrough}}, b_{\\mathrm{post}}\\}$ and the edge set $E = \\{(b_{\\mathrm{entry}}, h), (h, b_{\\mathrm{switch}}), (h, b_{\\mathrm{post}}), (b_{\\mathrm{switch}}, b_{0}), (b_{\\mathrm{switch}}, b_{1}), (b_{\\mathrm{switch}}, b_{\\mathrm{default}}), (b_{0}, b_{1}), (b_{1}, b_{\\mathrm{fallthrough}}), (b_{\\mathrm{default}}, b_{\\mathrm{post}}), (b_{\\mathrm{fallthrough}}, h)\\}$. The unique entry node is $b_{\\mathrm{entry}}$.\n\nThe indicator variable $\\delta$ is defined as:\n$$\n\\delta = \\begin{cases}\n1 & \\text{if } (b_{\\mathrm{fallthrough}}, h) \\text{ is a back edge under } \\mathrm{dom},\\\\\n0 & \\text{otherwise.}\n\\end{cases}\n$$\nThe problem provides the standard definition of a back edge: an edge $(u,v) \\in E$ is a back edge if its destination node $v$ dominates its source node $u$. In our case, we must analyze the edge $(u,v) = (b_{\\mathrm{fallthrough}}, h)$. For this edge to be a back edge, the node $h$ must dominate the node $b_{\\mathrm{fallthrough}}$.\n\nThe dominator relation, denoted $\\mathrm{dom}$, is defined with respect to the graph's entry node, $b_{\\mathrm{entry}}$. A node $d$ is said to dominate a node $n$, written $d \\in \\mathrm{dom}(n)$, if every path in the graph from the entry node $b_{\\mathrm{entry}}$ to $n$ contains $d$.\n\nTo determine if $h$ dominates $b_{\\mathrm{fallthrough}}$, we must examine all possible paths from $b_{\\mathrm{entry}}$ to $b_{\\mathrm{fallthrough}}$ and verify that every such path includes the node $h$.\n\nLet us construct the paths from the entry node $b_{\\mathrm{entry}}$ to the target node $b_{\\mathrm{fallthrough}}$ based on the provided edge set $E$:\n1.  Execution begins at the entry node $b_{\\mathrm{entry}}$. The only outgoing edge from $b_{\\mathrm{entry}}$ is $(b_{\\mathrm{entry}}, h)$. Therefore, any path starting at $b_{\\mathrm{entry}}$ and leading to any other node in the graph must necessarily pass through $h$ as its second node.\n\n2.  To reach $b_{\\mathrm{fallthrough}}$, a path must continue from $h$. The node $h$ has two successors: $b_{\\mathrm{switch}}$ and $b_{\\mathrm{post}}$. The node $b_{\\mathrm{post}}$ is a terminal part of the graph leading to program exit and has no path to $b_{\\mathrm{fallthrough}}$. Therefore, any path from $h$ to $b_{\\mathrm{fallthrough}}$ must proceed through the edge $(h, b_{\\mathrm{switch}})$. The path must have the form $b_{\\mathrm{entry}} \\rightarrow h \\rightarrow b_{\\mathrm{switch}} \\rightarrow \\dots$.\n\n3.  From $b_{\\mathrm{switch}}$, the possible successors are $b_{0}$, $b_{1}$, and $b_{\\mathrm{default}}$. The node $b_{\\mathrm{default}}$ leads to $b_{\\mathrm{post}}$, which does not connect to $b_{\\mathrm{fallthrough}}$. Thus, we only need to consider paths through $b_{0}$ and $b_{1}$.\n\n4.  The node $b_{\\mathrm{fallthrough}}$ has a single predecessor, $b_{1}$, given by the edge $(b_{1}, b_{\\mathrm{fallthrough}})$. To reach $b_{\\mathrm{fallthrough}}$, a path must first reach $b_{1}$.\n\n5.  The node $b_{1}$ has two predecessors: $b_{\\mathrm{switch}}$ and $b_{0}$. This gives rise to two subpaths from $b_{\\mathrm{switch}}$ to $b_{\\mathrm{fallthrough}}$:\n    -   Path A: via the edge $(b_{\\mathrm{switch}}, b_{1})$. The sequence is $b_{\\mathrm{switch}} \\rightarrow b_{1} \\rightarrow b_{\\mathrm{fallthrough}}$.\n    -   Path B: via the edge $(b_{\\mathrm{switch}}, b_{0})$, followed by the fallthrough edge $(b_{0}, b_{1})$. The sequence is $b_{\\mathrm{switch}} \\rightarrow b_{0} \\rightarrow b_{1} \\rightarrow b_{\\mathrm{fallthrough}}$.\n\nCombining these sections, we can enumerate the complete, simple paths (ignoring cycles for now) from $b_{\\mathrm{entry}}$ to $b_{\\mathrm{fallthrough}}$:\n-   Full Path 1: $b_{\\mathrm{entry}} \\rightarrow h \\rightarrow b_{\\mathrm{switch}} \\rightarrow b_{1} \\rightarrow b_{\\mathrm{fallthrough}}$\n-   Full Path 2: $b_{\\mathrm{entry}} \\rightarrow h \\rightarrow b_{\\mathrm{switch}} \\rightarrow b_{0} \\rightarrow b_{1} \\rightarrow b_{\\mathrm{fallthrough}}$\n\nBoth of these paths contain the node $h$. Since any path from the entry node $b_{\\mathrm{entry}}$ to any other node must pass through $h$ as the second node, it is logically necessary that all paths from $b_{\\mathrm{entry}}$ to $b_{\\mathrm{fallthrough}}$ contain $h$.\n\nBy the definition of the dominator relation, since every path from the entry node $b_{\\mathrm{entry}}$ to $b_{\\mathrm{fallthrough}}$ contains the node $h$, we conclude that $h$ dominates $b_{\\mathrm{fallthrough}}$.\n\nNow we check the condition for the edge $(b_{\\mathrm{fallthrough}}, h)$ being a back edge. The condition is that the destination node, $h$, must dominate the source node, $b_{\\mathrm{fallthrough}}$. As we have just established, this condition holds true.\n\nTherefore, the edge $(b_{\\mathrm{fallthrough}}, h)$ is a back edge. According to the problem's definition of the indicator variable $\\delta$, if the edge is a back edge, then $\\delta=1$.\n\nFinal computation:\n- The edge to be analyzed is $(u,v) = (b_{\\mathrm{fallthrough}}, h)$.\n- A back edge requires $v$ to dominate $u$.\n- We must check if $h$ dominates $b_{\\mathrm{fallthrough}}$.\n- Any path from $b_{\\mathrm{entry}}$ to $b_{\\mathrm{fallthrough}}$ must take the form $b_{\\mathrm{entry}} \\rightarrow h \\rightarrow \\dots$.\n- Thus, $h$ is on every path from $b_{\\mathrm{entry}}$ to $b_{\\mathrm{fallthrough}}$.\n- This means $h$ dominates $b_{\\mathrm{fallthrough}}$.\n- The condition for a back edge is satisfied.\n- Consequently, $\\delta = 1$.",
            "answer": "$$\n\\boxed{1}\n$$"
        },
        {
            "introduction": "While many loops in structured programming are \"well-behaved,\" compilers must also handle arbitrarily complex control flow, often created by constructs like `goto`. This exercise introduces the critical concept of an irreducible loop, which has multiple entry points and complicates standard optimizations. You will analyze a graph where a `goto` jumps into the middle of a loop, use the dominator property to determine why this cycle is irreducible, and calculate a result based on your analysis of the graph's structure. ",
            "id": "3652294",
            "problem": "Consider a program fragment with labeled statements and `goto` that intentionally jumps into the middle of an iterative structure. The fragment is organized into basic blocks with unique numerical identifiers, and a single entry at block $1$; the blocks are as follows, using labels $L_{\\text{hdr}}$ for the intended loop header and $L_{\\text{mid}}$ for the labeled middle of the loop body:\n\n- Block $1$: Initialization; conditional branch to block $2$ or block $6$.\n- Block $2$ ($L_{\\text{hdr}}$): Conditional branch; if the loop-continuation condition holds, branch to block $3$, otherwise branch to block $8$ (exit).\n- Block $3$: Unconditional `goto` to $L_{\\text{mid}}$ (block $4$).\n- Block $4$ ($L_{\\text{mid}}$): Conditional branch; if condition holds, branch to block $5$, otherwise branch to block $7$.\n- Block $5$: Unconditional `goto` to $L_{\\text{mid}}$ (block $4$).\n- Block $6$: Unconditional `goto` to $L_{\\text{mid}}$ (block $4$). This is a jump into the middle of the loop from outside.\n- Block $7$: Unconditional `goto` to block $2$ ($L_{\\text{hdr}}$).\n- Block $8$: Exit.\n\nConstruct the Control Flow Graph (CFG) $G$ with nodes $\\{1,2,3,4,5,6,7,8\\}$ and directed edges given by the described control transfers: $1 \\to 2$, $1 \\to 6$, $2 \\to 3$, $2 \\to 8$, $3 \\to 4$, $4 \\to 5$, $4 \\to 7$, $5 \\to 4$, $6 \\to 4$, $7 \\to 2$.\n\nStarting from the fundamental definitions:\n- A node $d$ dominates a node $n$ in a flow graph if every path from the entry node to $n$ passes through $d$.\n- An edge $(u,v)$ is a back edge if $v$ dominates $u$.\n- A cycle is reducible if it has a single-entry header node that dominates all nodes in the cycle; otherwise, it is irreducible.\n\nUsing only these definitions and a standard iterative data-flow formulation for dominators, determine the dominator sets for all nodes, identify all back edges in $G$, and assess whether the cycle $C$ formed by the path $2 \\to 3 \\to 4 \\to 7 \\to 2$ is reducible or irreducible. Finally, let $r$ be $1$ if $C$ is reducible and $0$ if $C$ is irreducible, and let $\\mathcal{B}$ be the set of all back edges in $G$. Compute the value\n$$\nS \\;=\\; r \\;+\\; \\sum_{(u,v)\\in \\mathcal{B}} \\big(u + 2v\\big).\n$$\nProvide $S$ as an exact integer. No rounding is required, and no units are to be included in the answer.",
            "solution": "The problem requires the computation of a value $S$ derived from the analysis of a given Control Flow Graph (CFG), $G$. The analysis involves three main stages: calculating dominator sets, identifying back edges, and assessing the reducibility of a specific cycle. The final value is given by the formula $S = r + \\sum_{(u,v)\\in \\mathcal{B}} (u + 2v)$, where $r$ reflects the reducibility of the cycle $C=2 \\to 3 \\to 4 \\to 7 \\to 2$ and $\\mathcal{B}$ is the set of all back edges in $G$.\n\nFirst, we establish the structure of the CFG $G=(N, E, n_0)$, where the set of nodes is $N=\\{1, 2, 3, 4, 5, 6, 7, 8\\}$, the entry node is $n_0=1$, and the set of edges $E$ is given by the specified control transfers. To compute the dominator sets, we first identify the set of predecessors, $\\text{pred}(n)$, for each node $n \\in N$:\n- $\\text{pred}(1) = \\emptyset$\n- $\\text{pred}(2) = \\{1, 7\\}$\n- $\\text{pred}(3) = \\{2\\}$\n- $\\text{pred}(4) = \\{3, 5, 6\\}$\n- $\\text{pred}(5) = \\{4\\}$\n- $\\text{pred}(6) = \\{1\\}$\n- $\\text{pred}(7) = \\{4\\}$\n- $\\text{pred}(8) = \\{2\\}$\n\nThe dominator set for a node $n$, denoted $D(n)$, is computed using an iterative data-flow analysis framework based on the following equations:\n$$ D(n_0) = \\{n_0\\} $$\n$$ D(n) = \\{n\\} \\cup \\bigcap_{p \\in \\text{pred}(n)} D(p) \\quad \\text{for } n \\neq n_0 $$\nWe initialize the sets as $D(1) = \\{1\\}$ and $D(n) = N$ for all $n \\in \\{2, 3, 4, 5, 6, 7, 8\\}$. We then iterate until a fixed point is reached.\n\nIteration 1:\n- $D(1) = \\{1\\}$\n- $D(2) = \\{2\\} \\cup (D(1) \\cap D(7))_{\\text{old}} = \\{2\\} \\cup (\\{1\\} \\cap \\{1, 2, 3, 4, 5, 6, 7, 8\\}) = \\{1, 2\\}$\n- $D(3) = \\{3\\} \\cup D(2) = \\{3\\} \\cup \\{1, 2\\} = \\{1, 2, 3\\}$\n- $D(6) = \\{6\\} \\cup D(1) = \\{6\\} \\cup \\{1\\} = \\{1, 6\\}$\n- $D(8) = \\{8\\} \\cup D(2) = \\{8\\} \\cup \\{1, 2\\} = \\{1, 2, 8\\}$\n- $D(4) = \\{4\\} \\cup (D(3) \\cap D(5)_{\\text{old}} \\cap D(6)) = \\{4\\} \\cup (\\{1, 2, 3\\} \\cap N \\cap \\{1, 6\\}) = \\{4\\} \\cup \\{1\\} = \\{1, 4\\}$\n- $D(5) = \\{5\\} \\cup D(4) = \\{5\\} \\cup \\{1, 4\\} = \\{1, 4, 5\\}$\n- $D(7) = \\{7\\} \\cup D(4) = \\{7\\} \\cup \\{1, 4\\} = \\{1, 4, 7\\}$\n\nAfter the first iteration, the sets are:\n- $D(1) = \\{1\\}$\n- $D(2) = \\{1, 2\\}$\n- $D(3) = \\{1, 2, 3\\}$\n- $D(4) = \\{1, 4\\}$\n- $D(5) = \\{1, 4, 5\\}$\n- $D(6) = \\{1, 6\\}$\n- $D(7) = \\{1, 4, 7\\}$\n- $D(8) = \\{1, 2, 8\\}$\n\nIteration 2: We re-compute the sets using the values from the first iteration.\n- $D(2) = \\{2\\} \\cup (D(1) \\cap D(7)) = \\{2\\} \\cup (\\{1\\} \\cap \\{1, 4, 7\\}) = \\{1, 2\\}$ (No change)\n- $D(3) = \\{3\\} \\cup D(2) = \\{3\\} \\cup \\{1, 2\\} = \\{1, 2, 3\\}$ (No change)\n- $D(4) = \\{4\\} \\cup (D(3) \\cap D(5) \\cap D(6)) = \\{4\\} \\cup (\\{1, 2, 3\\} \\cap \\{1, 4, 5\\} \\cap \\{1, 6\\}) = \\{4\\} \\cup \\{1\\} = \\{1, 4\\}$ (No change)\nSince all other nodes' dominator sets depend on these, and their inputs have not changed, their own sets will not change either. The algorithm has converged to a fixed point.\n\nThe final dominator sets are:\n$D(1) = \\{1\\}$, $D(2) = \\{1, 2\\}$, $D(3) = \\{1, 2, 3\\}$, $D(4) = \\{1, 4\\}$, $D(5) = \\{1, 4, 5\\}$, $D(6) = \\{1, 6\\}$, $D(7) = \\{1, 4, 7\\}$, $D(8) = \\{1, 2, 8\\}$.\n\nNext, we identify the back edges. An edge $(u,v)$ is a back edge if its head, $v$, dominates its tail, $u$. That is, if $v \\in D(u)$. We check this condition for all edges in $E = \\{(1,2), (1,6), (2,3), (2,8), (3,4), (4,5), (4,7), (5,4), (6,4), (7,2)\\}$.\n- Edge $(1,2)$: $2 \\notin D(1)=\\{1\\}$. Not a back edge.\n- Edge $(1,6)$: $6 \\notin D(1)=\\{1\\}$. Not a back edge.\n- Edge $(2,3)$: $3 \\notin D(2)=\\{1, 2\\}$. Not a back edge.\n- Edge $(2,8)$: $8 \\notin D(2)=\\{1, 2\\}$. Not a back edge.\n- Edge $(3,4)$: $4 \\notin D(3)=\\{1, 2, 3\\}$. Not a back edge.\n- Edge $(4,5)$: $5 \\notin D(4)=\\{1, 4\\}$. Not a back edge.\n- Edge $(4,7)$: $7 \\notin D(4)=\\{1, 4\\}$. Not a back edge.\n- Edge $(5,4)$: $4 \\in D(5)=\\{1, 4, 5\\}$. This is a back edge.\n- Edge $(6,4)$: $4 \\notin D(6)=\\{1, 6\\}$. Not a back edge.\n- Edge $(7,2)$: $2 \\notin D(7)=\\{1, 4, 7\\}$. The path $1 \\to 6 \\to 4 \\to 7$ reaches node $7$ without passing through node $2$, so $2$ does not dominate $7$.\nThe set of back edges is thus $\\mathcal{B} = \\{(5,4)\\}$.\n\nNow, we assess the reducibility of the cycle $C$ formed by the path $2 \\to 3 \\to 4 \\to 7 \\to 2$. The nodes in this cycle are $V_C = \\{2, 3, 4, 7\\}$. A cycle is reducible if it has a single-entry header node that dominates all other nodes in the cycle. An entry node (or header) to a cycle is a node within the cycle that has a predecessor outside the cycle.\n- For node $2 \\in V_C$, its predecessors are $\\{1, 7\\}$. Since $1 \\notin V_C$, node $2$ is an entry node.\n- For node $3 \\in V_C$, its predecessor is $\\{2\\}$. Since $2 \\in V_C$, node $3$ is not an entry node.\n- For node $4 \\in V_C$, its predecessors are $\\{3, 5, 6\\}$. Since $5 \\notin V_C$ and $6 \\notin V_C$, node $4$ is an entry node.\nThe cycle $C$ has two entry nodes, $2$ and $4$. A cycle with multiple entries is, by definition, an irreducible cycle. Therefore, the cycle $C$ is irreducible. This implies that the parameter $r$ is $0$.\n\nFinally, we compute the value of $S$.\n$$ S = r + \\sum_{(u,v)\\in \\mathcal{B}} (u + 2v) $$\nSubstituting the determined values, $r=0$ and $\\mathcal{B}=\\{(5,4)\\}$, we have:\n$$ S = 0 + (5 + 2 \\times 4) $$\n$$ S = 5 + 8 $$\n$$ S = 13 $$\nThe final value is $13$.",
            "answer": "$$\\boxed{13}$$"
        }
    ]
}