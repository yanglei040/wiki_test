{
    "hands_on_practices": [
        {
            "introduction": "The Gram-Schmidt process provides the most intuitive pathway to understanding QR factorization. By systematically orthogonalizing and normalizing the columns of a matrix $A$, we construct the orthonormal matrix $Q$ and simultaneously reveal the upper triangular matrix $R$. This foundational exercise  will guide you through the complete computation for a $3 \\times 2$ matrix, reinforcing the mechanics of the algorithm and the structure of the resulting factorization.",
            "id": "1385295",
            "problem": "Consider the matrix $A$ given by:\n$$A = \\begin{pmatrix} 1  1 \\\\ 2  0 \\\\ 2  -1 \\end{pmatrix}$$\nA QR factorization of $A$ is a decomposition $A = QR$, where $Q$ is a matrix with orthonormal columns and $R$ is an upper triangular matrix. Find the matrix $R$ in the QR factorization of $A$ obtained by applying the Gram-Schmidt process to the columns of $A$, taken in their given order from left to right. The process must be normalized such that the diagonal entries of the matrix $R$ are positive.",
            "solution": "Let the columns of $A$ be $a_{1}$ and $a_{2}$ with\n$$a_{1}=\\begin{pmatrix}1\\\\2\\\\2\\end{pmatrix}, \\quad a_{2}=\\begin{pmatrix}1\\\\0\\\\-1\\end{pmatrix}.$$\nClassical Gram-Schmidt proceeds as follows.\n\nFirst, compute $r_{11}=\\|a_{1}\\|$ and $q_{1}=a_{1}/r_{11}$:\n$$\\|a_{1}\\|=\\sqrt{1^{2}+2^{2}+2^{2}}=\\sqrt{9}=3,$$\n$$q_{1}=\\frac{1}{3}\\begin{pmatrix}1\\\\2\\\\2\\end{pmatrix}=\\begin{pmatrix}\\frac{1}{3}\\\\\\frac{2}{3}\\\\\\frac{2}{3}\\end{pmatrix}.$$\n\nNext, compute $r_{12}=q_{1}^{T}a_{2}$:\n$$r_{12}=\\begin{pmatrix}\\frac{1}{3}\\frac{2}{3}\\frac{2}{3}\\end{pmatrix}\\begin{pmatrix}1\\\\0\\\\-1\\end{pmatrix}=\\frac{1}{3}-\\frac{2}{3}=-\\frac{1}{3}.$$\n\nForm $u_{2}=a_{2}-r_{12}q_{1}$ and then $r_{22}=\\|u_{2}\\|$:\n$$u_{2}=a_{2}-\\left(-\\frac{1}{3}\\right)q_{1}=a_{2}+\\frac{1}{3}q_{1}=\\begin{pmatrix}1\\\\0\\\\-1\\end{pmatrix}+\\begin{pmatrix}\\frac{1}{9}\\\\\\frac{2}{9}\\\\\\frac{2}{9}\\end{pmatrix}=\\begin{pmatrix}\\frac{10}{9}\\\\\\frac{2}{9}\\\\-\\frac{7}{9}\\end{pmatrix},$$\n$$\\|u_{2}\\|=\\sqrt{\\left(\\frac{10}{9}\\right)^{2}+\\left(\\frac{2}{9}\\right)^{2}+\\left(-\\frac{7}{9}\\right)^{2}}=\\sqrt{\\frac{100+4+49}{81}}=\\sqrt{\\frac{153}{81}}=\\frac{\\sqrt{17}}{3}.$$\n\nWith the convention that diagonal entries are positive, we take\n$$r_{11}=3,\\quad r_{12}=-\\frac{1}{3},\\quad r_{22}=\\frac{\\sqrt{17}}{3}.$$\nTherefore, the upper triangular matrix $R$ is\n$$R=\\begin{pmatrix}3  -\\frac{1}{3}\\\\ 0  \\frac{\\sqrt{17}}{3}\\end{pmatrix}.$$",
            "answer": "$$\\boxed{\\begin{pmatrix}3  -\\frac{1}{3}\\\\ 0  \\frac{\\sqrt{17}}{3}\\end{pmatrix}}$$"
        },
        {
            "introduction": "A robust algorithm must behave predictably in all scenarios, including degenerate cases. This practice explores what happens when the columns of a matrix are not linearly independent, a common situation in data analysis. By applying the Gram-Schmidt process to a rank-deficient matrix , you will observe firsthand how the algorithm reveals this dependency by producing a zero vector, a computationally significant result.",
            "id": "2195393",
            "problem": "The Gram-Schmidt process is an algorithm used to construct an orthonormal basis for a vector space from an arbitrary set of spanning vectors. Consider a matrix $A$ whose columns are the vectors we wish to orthogonalize. Let the columns of $A$ be denoted by $a_1, a_2, \\dots, a_n$. The process generates a set of orthogonal vectors $v_1, v_2, \\dots, v_n$ using the following recurrence relation:\n\n$$v_1 = a_1$$\n$$v_k = a_k - \\sum_{j=1}^{k-1} \\frac{a_k \\cdot v_j}{v_j \\cdot v_j} v_j \\quad \\text{for } k = 2, 3, \\dots, n.$$\n\nNow, consider the specific matrix $A$ with linearly dependent columns given by\n$$ A = \\begin{pmatrix} 1  3 \\\\ -2  -6 \\\\ 2  6 \\end{pmatrix} $$\nwhere the first column is $a_1 = \\begin{pmatrix} 1 \\\\ -2 \\\\ 2 \\end{pmatrix}$ and the second column is $a_2 = \\begin{pmatrix} 3 \\\\ -6 \\\\ 6 \\end{pmatrix}$.\n\nApply the Gram-Schmidt process as defined above to the columns of this matrix $A$. Determine the components of the second orthogonal vector, $v_2$.\n\nExpress your answer as a row matrix containing the components of the vector $v_2$.",
            "solution": "We apply the given (unnormalized) Gram-Schmidt process. Let $a_{1}=\\begin{pmatrix}1\\\\-2\\\\2\\end{pmatrix}$ and $a_{2}=\\begin{pmatrix}3\\\\-6\\\\6\\end{pmatrix}$.\n\nFirst vector:\n$$\nv_{1}=a_{1}=\\begin{pmatrix}1\\\\-2\\\\2\\end{pmatrix}.\n$$\n\nSecond vector using\n$$\nv_{2}=a_{2}-\\frac{a_{2}\\cdot v_{1}}{v_{1}\\cdot v_{1}}\\,v_{1}.\n$$\nCompute the dot products:\n$$\nv_{1}\\cdot v_{1}=1^{2}+(-2)^{2}+2^{2}=9,\n$$\n$$\na_{2}\\cdot v_{1}=3\\cdot 1+(-6)\\cdot(-2)+6\\cdot 2=3+12+12=27.\n$$\nHence\n$$\n\\frac{a_{2}\\cdot v_{1}}{v_{1}\\cdot v_{1}}=\\frac{27}{9}=3,\n$$\nand therefore\n$$\nv_{2}=a_{2}-3v_{1}=\\begin{pmatrix}3\\\\-6\\\\6\\end{pmatrix}-3\\begin{pmatrix}1\\\\-2\\\\2\\end{pmatrix}=\\begin{pmatrix}0\\\\0\\\\0\\end{pmatrix}.\n$$\nThus the components of $v_{2}$, written as a row matrix, are\n$$\n\\begin{pmatrix}0  0  0\\end{pmatrix}.\n$$",
            "answer": "$$\\boxed{\\begin{pmatrix} 0  0  0 \\end{pmatrix}}$$"
        },
        {
            "introduction": "While the Gram-Schmidt process is conceptually clear, it can suffer from numerical instability in practice. For robust, high-precision computations, methods based on Householder reflections are preferred. This exercise  introduces you to this powerful technique, where a matrix is transformed by a sequence of geometric reflections to create the desired upper triangular structure, forming the basis of many modern QR algorithms.",
            "id": "1385302",
            "problem": "In numerical linear algebra, the QR factorization of a matrix is a fundamental decomposition used in solving linear systems, eigenvalue problems, and least squares problems. One common method to compute this factorization is through a series of Householder transformations.\n\nA Householder transformation is an orthogonal reflection across a hyperplane. A Householder matrix, or reflector, has the form $$H = I - 2 \\frac{\\mathbf{v}\\mathbf{v}^T}{\\mathbf{v}^T \\mathbf{v}},$$ where $I$ is the identity matrix and $\\mathbf{v}$ is a non-zero column vector called the Householder vector.\n\nTo perform the first step of a QR factorization on a matrix $A$, we aim to introduce zeros below the first diagonal element of the first column. This is achieved by applying a specific Householder reflector $H_1$. For a given column vector $\\mathbf{x}$, the corresponding Householder vector $\\mathbf{v}$ is constructed as $\\mathbf{v} = \\mathbf{x} - \\alpha \\mathbf{e}_1$, where:\n- $\\mathbf{e}_1$ is the standard basis vector (a column vector with 1 in the first position and zeros elsewhere).\n- $\\|\\mathbf{x}\\|_2$ is the Euclidean norm of $\\mathbf{x}$.\n- $\\alpha = -\\text{sgn}(x_1) \\|\\mathbf{x}\\|_2$.\n- $x_1$ is the first component of the vector $\\mathbf{x}$.\n- The sign function $\\text{sgn}(z)$ is defined as $\\text{sgn}(z) = 1$ if $z \\ge 0$ and $\\text{sgn}(z) = -1$ if $z  0$.\n\nConsider the matrix $A$ given by:\n$$ A = \\begin{pmatrix} 1  1  5 \\\\ 2  0  -1 \\\\ 2  3  0 \\\\ 4  1  2 \\end{pmatrix} $$\n\nLet $H_1$ be the Householder reflector constructed from the first column of $A$. This transformation is then applied to the entire matrix to yield a new matrix $A' = H_1 A$.\n\nYour task is to calculate the sum of all elements in the second column of the resulting matrix $A'$. Express your final answer as a single irreducible fraction.",
            "solution": "We use the Householder reflector $H_{1} = I - 2 \\dfrac{\\mathbf{v}\\mathbf{v}^{T}}{\\mathbf{v}^{T}\\mathbf{v}}$ constructed from the first column $\\mathbf{x}$ of $A$ to form $A' = H_{1}A$. The first column is $\\mathbf{x} = \\begin{pmatrix} 1 \\\\ 2 \\\\ 2 \\\\ 4 \\end{pmatrix}$. Its Euclidean norm is $\\|\\mathbf{x}\\|_{2} = \\sqrt{1^{2} + 2^{2} + 2^{2} + 4^{2}} = \\sqrt{25} = 5$. Since $x_{1} = 1 \\ge 0$, we have $\\text{sgn}(x_{1}) = 1$, so $\\alpha = -\\text{sgn}(x_{1})\\|\\mathbf{x}\\|_{2} = -5$. Therefore the Householder vector is\n$$\n\\mathbf{v} = \\mathbf{x} - \\alpha \\mathbf{e}_{1} = \\mathbf{x} - (-5)\\mathbf{e}_{1} = \\mathbf{x} + 5\\mathbf{e}_{1} = \\begin{pmatrix} 6 \\\\ 2 \\\\ 2 \\\\ 4 \\end{pmatrix},\n$$\nand its squared norm is\n$$\n\\mathbf{v}^{T}\\mathbf{v} = 6^{2} + 2^{2} + 2^{2} + 4^{2} = 60.\n$$\n\nLet the second column of $A$ be $\\mathbf{y} = \\begin{pmatrix} 1 \\\\ 0 \\\\ 3 \\\\ 1 \\end{pmatrix}$. The second column of $A' = H_{1}A$ is $H_{1}\\mathbf{y} = \\mathbf{y} - 2\\mathbf{v}\\dfrac{\\mathbf{v}^{T}\\mathbf{y}}{\\mathbf{v}^{T}\\mathbf{v}}$. We seek the sum of its entries, which is $\\mathbf{1}^{T}(H_{1}\\mathbf{y})$, where $\\mathbf{1} = \\begin{pmatrix} 1 \\\\ 1 \\\\ 1 \\\\ 1 \\end{pmatrix}$. Using linearity,\n$$\n\\mathbf{1}^{T}(H_{1}\\mathbf{y}) = \\mathbf{1}^{T}\\mathbf{y} - 2\\,\\frac{(\\mathbf{1}^{T}\\mathbf{v})(\\mathbf{v}^{T}\\mathbf{y})}{\\mathbf{v}^{T}\\mathbf{v}}.\n$$\nCompute the required dot products:\n$$\n\\mathbf{1}^{T}\\mathbf{y} = 1 + 0 + 3 + 1 = 5,\\quad\n\\mathbf{1}^{T}\\mathbf{v} = 6 + 2 + 2 + 4 = 14,\\quad\n\\mathbf{v}^{T}\\mathbf{y} = 6\\cdot 1 + 2\\cdot 0 + 2\\cdot 3 + 4\\cdot 1 = 16.\n$$\nHence,\n$$\n\\mathbf{1}^{T}(H_{1}\\mathbf{y}) = 5 - 2\\,\\frac{14\\cdot 16}{60} = 5 - \\frac{448}{60} = 5 - \\frac{112}{15} = \\frac{75}{15} - \\frac{112}{15} = -\\frac{37}{15}.\n$$\nThis is already an irreducible fraction.",
            "answer": "$$\\boxed{-\\frac{37}{15}}$$"
        }
    ]
}