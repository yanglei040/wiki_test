{
    "hands_on_practices": [
        {
            "introduction": "在使用单纯形法之前，首要步骤是将线性规划问题转化为标准形式，并构建初始单纯形表。本练习 () 为这一关键过程提供了实践机会，特别是针对包含混合约束（即 $\\le$、$\\ge$ 和 $=$）的问题。它要求您为一个非标准的初始基构建单纯形表，这不仅能巩固您对松弛变量、剩余变量和人工变量的理解，还能锻炼您在更高级的单纯形法变体中所需的代数处理能力。",
            "id": "2203577",
            "problem": "一个数据科学团队的任务是优化云计算集群的资源分配。该团队将此问题建模为线性规划 (Linear Programming, LP) 任务。目标是最大化一个性能得分 $Z$，该得分取决于三种不同类型的虚拟机 (Virtual Machines, VMs) 的部署实例数量，分别表示为 $x_1$、$x_2$ 和 $x_3$。该优化受限于若干基础设施和许可约束。\n\n待最大化的目标函数为：\n$Z = 3x_1 - 2x_2 + 5x_3$\n\n约束条件为：\n1.  CPU核心总数限制：$x_1 + 4x_2 - x_3 \\le 10$\n2.  最小内存分配：$2x_1 - x_2 + 2x_3 \\ge 8$\n3.  软件许可总数：$x_1 + x_2 + x_3 = 20$\n\n所有决策变量必须为非负数，即 $x_1, x_2, x_3 \\ge 0$。\n\n一位资深分析师建议从一个非标准起点开始执行单纯形算法，其中基变量集合为 $\\{s_1, a_2, x_3\\}$。此处，$s_1$ 是第一个约束的松弛变量，而 $e_2$ 和 $a_2$ 分别是第二个约束的剩余变量和人工变量。\n\n使用大M法 (Big-M method)，构建与此指定基相对应的完整初始单纯形表。使用变量 $M$ 作为人工变量的罚因子，其中 $M$ 是一个非常大的正数。\n\n将结果表示为一个 $4 \\times 7$ 的矩阵。矩阵的四行必须按顺序对应于目标函数（我们将大M法的目标称为 $P$）以及与基变量 $s_1$、$a_2$ 和 $x_3$ 相关联的约束。七列必须按顺序对应于变量 $x_1, x_2, x_3, s_1, e_2, a_2$ 的系数以及右端项 (Right-Hand-Side, RHS) 向量。",
            "solution": "引入松弛变量、剩余变量和人工变量，将约束条件转化为等式：\n- 约束1 (小于等于)：添加松弛变量 $s_{1}\\ge 0$，\n$$x_{1}+4x_{2}-x_{3}+s_{1}=10.$$\n- 约束2 (大于等于)：减去剩余变量 $e_{2}\\ge 0$ 并添加人工变量 $a_{2}\\ge 0$，\n$$2x_{1}-x_{2}+2x_{3}-e_{2}+a_{2}=8.$$\n- 约束3 (等于)：无松弛/剩余变量，我们在这里将 $x_{3}$ 作为基变量，\n$$x_{1}+x_{2}+x_{3}=20.$$\n\n根据指示，我们使用基 $\\{s_{1},a_{2},x_{3}\\}$。为获得这些基变量对应的列构成单位矩阵的规范形式，我们使用第三个约束从前两个约束中消去 $x_{3}$：\n- 对于 $s_{1}$ 所在行，加上 $x_{3}$ 所在行：\n$\\text{Row}_{s_{1}}: (x_{1}+4x_{2}-x_{3}+s_{1}=10)+ (x_{1}+x_{2}+x_{3}=20) \\Rightarrow 2x_{1}+5x_{2}+s_{1}=30.$\n- 对于 $a_{2}$ 所在行，减去 $x_{3}$ 所在行的两倍：\n$\\text{Row}_{a_{2}}: (2x_{1}-x_{2}+2x_{3}-e_{2}+a_{2}=8)-2(x_{1}+x_{2}+x_{3}=20) \\Rightarrow -3x_{2}-e_{2}+a_{2}=-32.$\n- 保持 $x_{3}$ 所在行不变：\n$\\text{Row}_{x_{3}}: x_{1}+x_{2}+x_{3}=20.$\n\n对于最大化问题，使用大M法定义带惩罚项的目标函数\n$$P=3x_{1}-2x_{2}+5x_{3}-M a_{2}.$$\n将目标函数方程写为\n$$P-3x_{1}+2x_{2}-5x_{3}+M a_{2}=0.$$\n现在，使用上面得到的规范化约束行，从目标函数行中消去基变量 $a_{2}$ 和 $x_{3}$：\n- 减去 $M$ 乘以 $a_{2}$ 所在行，以消去 $a_{2}$：\n$P\\text{-row} \\leftarrow (P-3x_{1}+2x_{2}-5x_{3}+M a_{2}=0)-M(-3x_{2}-e_{2}+a_{2}=-32),$\n得到\n$P\\text{-row}: P-3x_{1}+(2+3M)x_{2}-5x_{3}+M e_{2}=32M.$\n- 加上 $5$ 乘以 $x_{3}$ 所在行，以消去 $x_{3}$：\n$P\\text{-row} \\leftarrow (P-3x_{1}+(2+3M)x_{2}-5x_{3}+M e_{2}=32M)+5(x_{1}+x_{2}+x_{3}=20),$\n给出规范化的目标函数行\n$$P+2x_{1}+(7+3M)x_{2}+M e_{2}=32M+100.$$\n\n按照规定的列顺序 $\\{x_{1},x_{2},x_{3},s_{1},e_{2},a_{2},\\text{RHS}\\}$ 和行顺序 $\\{P, s_{1}, a_{2}, x_{3}\\}$ 收集系数，初始的大M法单纯形表（作为一个 $4\\times 7$ 矩阵）为\n$$\n\\begin{pmatrix}\n2 & 7+3M & 0 & 0 & M & 0 & 32M+100\\\\\n2 & 5 & 0 & 1 & 0 & 0 & 30\\\\\n0 & -3 & 0 & 0 & -1 & 1 & -32\\\\\n1 & 1 & 1 & 0 & 0 & 0 & 20\n\\end{pmatrix}\n$$",
            "answer": "$$\\boxed{\\begin{pmatrix}\n2 & 7+3M & 0 & 0 & M & 0 & 32M+100\\\\\n2 & 5 & 0 & 1 & 0 & 0 & 30\\\\\n0 & -3 & 0 & 0 & -1 & 1 & -32\\\\\n1 & 1 & 1 & 0 & 0 & 0 & 20\n\\end{pmatrix}}$$"
        },
        {
            "introduction": "在优化中，理解我们 *为什么* 使用特定工具与知道 *如何* 使用它们同等重要。这个思想实验 () 探讨了在一个不需要人工变量的约束中错误地添加它所带来的后果。通过追踪这个多余变量的“命运”，您可以更深刻地领会大M法中惩罚项 $ M $ 的设计意图，以及标准单纯形法设置背后的严谨逻辑。",
            "id": "2203601",
            "problem": "一位运筹学分析师的任务是求解以下线性规划 (LP) 问题：\n最大化 $Z = 3x_1 + 5x_2$\n约束条件：\n1. $x_1 \\le 4$\n2. $2x_2 \\le 12$\n3. $3x_1 + 2x_2 \\le 18$\n$x_1, x_2 \\ge 0$\n\n为使用单纯形法求解，分析师首先将不等式约束转换为等式约束。对于第一个约束条件 $x_1 \\le 4$，分析师错误地同时添加了一个松弛变量 $s_1$ 和一个人工变量 $a_1$。对于其他约束条件，则正确地添加了标准的松弛变量 $s_2$ 和 $s_3$。\n\n然后，该问题被设置为使用大M法求解，其中 $M$ 是一个非常大的正数。目标函数被修改为：\n最大化 $Z = 3x_1 + 5x_2 - M a_1$\n\n假设分析师机械地执行单纯形算法，并将第一个约束的人工变量 $a_1$ 作为初始基变量，那么最终最优单纯形表中的基变量集合是什么？\n\nA. $\\{x_1, x_2, a_1\\}$\nB. $\\{x_1, x_2, s_2\\}$\nC. $\\{x_1, x_2, s_3\\}$\nD. $\\{x_1, x_2, s_1\\}$\nE. 问题是无界的。\nF. 问题是不可行的。",
            "solution": "我们从以下线性规划问题开始：\n最大化 $Z = 3x_1 + 5x_2$，约束条件为\n$$x_1 \\leq 4,$$\n$$2x_2 \\leq 12,$$\n$$3x_1 + 2x_2 \\leq 18,$$\n$$x_1, x_2 \\geq 0.$$\n\n分析师错误地为第一个约束同时添加了一个松弛变量和一个人工变量，并为其他约束正确地添加了松弛变量。为了得到一个以人工变量为基变量的初始基本可行解，第一个约束必须写成包含一个正的人工变量的形式：\n$$x_1 + s_1 + a_1 = 4,$$\n其他约束则变为\n$$2x_2 + s_2 = 12,$$\n$$3x_1 + 2x_2 + s_3 = 18,$$\n其中 $s_1, s_2, s_3, a_1 \\geq 0$。大M法的目标函数是\n$$\\max Z = 3x_1 + 5x_2 - M a_1,$$\n其中 $M$ 是一个非常大的正常数。在大M法中，任何最优解都会将 $a_1$ 设为 0，以避免巨大的惩罚项。\n\n接下来，通过检查极点处的紧约束来确定原始线性规划问题的真正最优解。考虑第二个和第三个约束的交点（因为在目标函数中 $x_2$ 的系数较大，这两个约束很可能在最优点处是紧约束）：\n$$2x_2 = 12 \\implies x_2 = 6,$$\n$$3x_1 + 2x_2 = 18 \\implies 3x_1 + 12 = 18 \\implies 3x_1 = 6 \\implies x_1 = 2.$$\n这个点 $(x_1, x_2) = (2, 6)$ 是可行的，并得到\n$$Z = 3 \\cdot 2 + 5 \\cdot 6 = 6 + 30 = 36.$$\n在该点，第一个约束是非紧约束，因为 $x_1 = 2 \\le 4$。相应的松弛变量和人工变量的值为\n$$s_1 = 4 - x_1 = 4 - 2 = 2 > 0,$$\n$$s_2 = 12 - 2x_2 = 12 - 12 = 0,$$\n$$s_3 = 18 - (3x_1 + 2x_2) = 18 - 18 = 0,$$\n$$a_1 = 0$$\n（最后一个等式是由于 $-Ma_1$ 惩罚项而在任何最优解中强制成立的）。\n\n在单纯形法的基本可行解中，非基变量被固定为零，因此任何在最优点处严格为正的变量都必须是基变量。由于 $x_1 = 2 > 0$，$x_2 = 6 > 0$，以及 $s_1 = 2 > 0$，这三个变量在最终最优单纯形表中必须是基变量。变量 $s_2$ 和 $s_3$ 在最优点处为零（它们的约束是紧约束），因此是非基变量，而 $a_1$ 因大M法的惩罚项而被强制为零，在最终表中也是非基变量。\n\n因此，最终最优单纯形表中的基变量集合是 $\\{x_1, x_2, s_1\\}$，对应于选项D。该问题既不是无界的也不是不可行的，并且在大M法下，人工变量不能保留在最优基中。",
            "answer": "$$\\boxed{D}$$"
        },
        {
            "introduction": "单纯形法不仅能找到最优解，还能揭示可行域的重要几何特性。这个问题 () 侧重于如何解读一个给定的单纯形表，以识别一种特殊情况：无界问题。掌握这项技能对于诊断模型至关重要，它能帮助您理解为何一个看似定义明确的问题可能没有有限的最优解，并能识别出导致目标函数无限增长的方向。",
            "id": "2203570",
            "problem": "一位分析师正在使用一个线性规划（LP）模型来优化一个投资组合。该模型旨在根据对两种主要资产类别的配置来最大化预期回报 $Z$，这两种资产类别由决策变量 $x_1$ 和 $x_2$ 表示。该模型还包括另外三个变量 $s_1$、$s_2$ 和 $s_3$，它们代表由各种监管和风险管理约束产生的松弛变量和剩余变量。该问题是一个最大化问题。\n\n在使用单纯形法进行数次迭代后，分析师得到以下单纯形表。基变量集合为 $\\{s_1, x_2, s_3\\}$，非基变量集合为 $\\{x_1, s_2\\}$。顶行代表目标函数 ($Z$)，随后的行对应于基变量。\n\n| 基变量 | $Z$ | $x_1$ | $x_2$ | $s_1$ | $s_2$ | $s_3$ | 解 |\n| :------------: | :-: | :---: | :---: | :---: | :---: | :---: | :------: |\n|      $Z$       |  1  |  -4   |   0   |   0   |  -2   |   0   |    50    |\n|     $s_1$      |  0  |  -1   |   0   |   1   |   3   |   0   |    12    |\n|     $x_2$      |  0  |  -3   |   1   |   0   |   1   |   0   |     8    |\n|     $s_3$      |  0  |  -2   |   0   |   0   |  -1   |   1   |    15    |\n\n根据此单纯形表，发现该问题是无界的。请确定可行域的一个极方向向量 $\\mathbf{d}$，该向量可证明此无界性。方向向量 $\\mathbf{d}$ 应在全变量空间中表示，其分量顺序为 $(d_{x_1}, d_{x_2}, d_{s_1}, d_{s_2}, d_{s_3})$。请将最终答案表示为行矩阵。",
            "solution": "因为这是一个最大化问题，并且该单纯形表是关于基变量 $\\{s_1, x_2, s_3\\}$ 和非基变量 $\\{x_1, s_2\\}$ 的典范形式，所以当存在一个检验数为负的非基变量，其在约束行中的列没有任何正数项时，问题是无界的。从 $Z$ 行我们有\n$$\nZ - 4 x_{1} - 2 s_{2} = 50 \\quad \\Longleftrightarrow \\quad Z = 50 + 4 x_{1} + 2 s_{2},\n$$\n因此 $x_1$ 和 $s_2$ 都有负的检验数，如果从零增加它们的值，可以使 $Z$ 增大。\n\n检查进基候选变量在约束部分的列。$x_1$ 在基变量行对应的列是 $(-1,-3,-2)^{\\top}$，其中没有正数项。因此，对于 $x_1$ 不存在出基变量，问题在 $x_1$ 增大的方向上是无界的。基本方程组为\n$$\n\\begin{aligned}\ns_{1} - x_{1} + 3 s_{2} &= 12,\\\\\nx_{2} - 3 x_{1} + s_{2} &= 8,\\\\\ns_{3} - 2 x_{1} - s_{2} &= 15.\n\\end{aligned}\n$$\n将 $x_1$ 设为进基变量，并保持另一个非基变量 $s_2$ 为零，与 $x_1$ 增加相关的移动方向 $\\mathbf{d}$ 由标准单纯形方向给出\n$$\nd_{x_1} = 1, \\quad d_{s_2} = 0, \\quad d_{B} = -\\bar{A}_{B,x_1},\n$$\n其中 $\\bar{A}_{B,x_1} = (-1,-3,-2)^{\\top}$ 是 $x_1$ 在基变量行下的列向量。因此，\n$$\nd_{s_1} = -(-1) = 1,\\quad d_{x_2} = -(-3) = 3,\\quad d_{s_3} = -(-2) = 2.\n$$\n因此，在全变量顺序 $(x_1, x_2, s_1, s_2, s_3)$ 下的极方向是\n$$\n\\begin{pmatrix}\n1 & 3 & 1 & 0 & 2\n\\end{pmatrix},\n$$\n该方向是可行的（所有分量均为非负），并且会使目标函数无限增大，因为在保持可行性的同时，$x_1$ 每增加一个单位，$Z$ 增加 4。",
            "answer": "$$\\boxed{\\begin{pmatrix}1 & 3 & 1 & 0 & 2\\end{pmatrix}}$$"
        }
    ]
}