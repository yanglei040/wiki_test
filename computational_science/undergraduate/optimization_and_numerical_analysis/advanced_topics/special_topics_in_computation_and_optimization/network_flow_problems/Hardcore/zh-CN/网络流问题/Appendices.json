{
    "hands_on_practices": [
        {
            "introduction": "这个问题提出了一个经典的物流场景，是理解网络流问题的绝佳起点。其目标是确定在一个包含多条容量有限路径的网络中，从源头到目的地可以运输的最大货物量。通过将此情景建模为图，您将练习应用流守恒和容量约束的核心原则来找到最大流 ，为解决更复杂的网络优化问题奠定基础。",
            "id": "2189479",
            "problem": "一家名为“流线货运”的物流公司，其任务是将货物从A市的中心工厂运往D市的主要配送中心。该公司有数条运输路线可用，其中一些路线会途经B市和C市的中转枢纽。所有运输容量均以“吨/天”为单位。\n\n可用路线及其每日最大运力如下：\n- 从A市到B市（卡车）：100吨。\n- 从A市到C市（铁路）：120吨。\n- 从B市到C市（本地转运）：30吨。\n- 从B市到D市（空运）：70吨。\n- 从C市到D市（特快列车）：150吨。\n\n货物只能按指定方向运输。例如，货物可从B运往C，但不能从C运往B。假设该公司希望最大化从A到D运输的货量，请计算每日可运输的最大总吨数。最终答案以“吨/天”为单位表示。",
            "solution": "将该网络建模为一个以A为源点、D为汇点的有向图。设各条边上的流为 $f_{AB}, f_{AC}, f_{BC}, f_{BD}, f_{CD}$，每个流都受 $0 \\le f_{XY} \\le c_{XY}$ 约束，其中各容量为 $c_{AB}=100$, $c_{AC}=120$, $c_{BC}=30$, $c_{BD}=70$, $c_{CD}=150$。令 $v$ 表示从A到D的总流。\n\n流守恒与容量约束条件如下：\n- 在A点（源点）：\n$$f_{AB}+f_{AC}=v,$$\n其中 $0 \\le f_{AB} \\le 100$ 且 $0 \\le f_{AC} \\le 120$。\n- 在B点：\n$$f_{AB}=f_{BD}+f_{BC},$$\n其中 $0 \\le f_{BD} \\le 70$ 且 $0 \\le f_{BC} \\le 30$。\n- 在C点：\n$$f_{AC}+f_{BC}=f_{CD},$$\n其中 $0 \\le f_{CD} \\le 150$。\n- 在D点（汇点）：\n$$f_{BD}+f_{CD}=v.$$\n\n为获得一个较大的可行流，我们让流以最大容量从A点流出：\n$$f_{AB}=100, \\quad f_{AC}=120.$$\n将B点的流作如下路由：\n$$f_{BD}=70, \\quad f_{BC}=30,$$\n这满足 $f_{BD} \\le 70$ 和 $f_{BC} \\le 30$ 的约束，并满足 $f_{AB}=f_{BD}+f_{BC}=100$。然后C点接收到的流为\n$$f_{AC}+f_{BC}=120+30=150,$$\n因此设\n$$f_{CD}=150,$$\n这使得边 $C \\to D$ 饱和，但未超出其容量。汇点的流入总量为\n$$v=f_{BD}+f_{CD}=70+150=220,$$\n且源点的流出总量为 $f_{AB}+f_{AC}=100+120=220$，因此所有流守恒定律均成立。所以，$v=220$ 是一个可行流。\n\n为证明其最优性，我们应用最大流最小割定理。考虑将点集 $\\{A\\}$ 与 $\\{B,C,D\\}$ 分开的割。其容量是所有离开A的边的容量之和：\n$$c(\\{A\\},\\{B,C,D\\})=c_{AB}+c_{AC}=100+120=220.$$\n根据最大流最小割定理，任何 $s$-$t$ 流 $v$ 都满足 $v \\le 220$。既然我们构造了一个值为 $v=220$ 的可行流，那么它必定是最大流。\n\n因此，每日可运输的最大总吨数为 $220$。",
            "answer": "$$\\boxed{220}$$"
        },
        {
            "introduction": "计算出最大流量之后，下一个合乎逻辑的问题是：“是什么限制了流量？”。本练习将带领您更进一步，把最小割的理论概念与识别生产线瓶颈的实际任务联系起来。它强调，解决网络流问题不仅仅是得出一个数字，更是为洞察系统弱点提供了深刻见解 ，您也将学会如何利用最小割来诊断和改善网络性能。",
            "id": "2189492",
            "problem": "一家公司设计了一条用于制造电子设备的模块化装配线。工作流程可以建模为一个有向网络，其中节点代表工位，有向边代表具有给定容量的传输路径。路径的容量是每小时可以传输的最大单位数。\n\n该网络由一个供应站（S）和一个成品站（T）组成，原材料从供应站进入，成品从成品站离开。在它们之间，有四个加工工位：工位 A、工位 B、工位 C 和工位 D。连接及其最大小时容量如下：\n- 从供应站（S）到工位 A：40 单位/小时\n- 从供应站（S）到工位 B：30 单位/小时\n- 从工位 A 到工位 C：20 单位/小时\n- 从工位 A 到工位 D：15 单位/小时\n- 从工位 B 到工位 C：5 单位/小时\n- 从工位 B 到工位 D：15 单位/小时\n- 从工位 C 到成品站（T）：25 单位/小时\n- 从工位 D 到成品站（T）：25 单位/小时\n\n你的任务是分析这条装配线的生产能力。\n\n1. 确定装配线的最大可能生产率，即每小时可以从供应站处理到成品站的最大单位数。\n2. 整个过程受瓶颈限制。瓶颈工位集合由属于最小割的源侧划分的所有中间工位（即非 S 或 T）组成。从以下选项中确定这个工位集合。\n\nA. {A, B}\n\nB. {C, D}\n\nC. {A, C}\n\nD. {A, B, D}\n\nE. {B, C, D}\n\n以一对值的形式提供你的答案，第一个值是最大生产率，第二个值是正确选项的大写字母。",
            "solution": "这个问题可以通过在给定网络中找到从源节点 S（供应站）到汇点节点 T（成品站）的最大流来解决。最大生产率等于该最大流的值。瓶颈工位集合通过识别最小割的源侧划分中的节点来确定。\n\n我们将使用 Ford-Fulkerson 算法，通过在残差图中重复寻找增广路径来找到最大流。边 $(u,v)$ 的容量表示为 $c(u,v)$。残差容量表示为 $c_f(u,v)$。\n\n初始容量为：\n$c(S,A)=40$, $c(S,B)=30$, $c(A,C)=20$, $c(A,D)=15$, $c(B,C)=5$, $c(B,D)=15$, $c(C,T)=25$, $c(D,T)=25$。所有其他容量为 0。\n\n**第 1 步：寻找第一条增广路径。**\n路径 1：$S \\rightarrow A \\rightarrow C \\rightarrow T$。\n该路径的瓶颈容量是 $\\min(c(S,A), c(A,C), c(C,T)) = \\min(40, 20, 25) = 20$。\n我们沿着这条路径推送 20 个单位的流。总流量现在是 20。\n残差容量更新如下：\n$c_f(S,A) = 40 - 20 = 20$。创建一条反向边：$c_f(A,S) = 20$。\n$c_f(A,C) = 20 - 20 = 0$。创建一条反向边：$c_f(C,A) = 20$。\n$c_f(C,T) = 25 - 20 = 5$。创建一条反向边：$c_f(T,C) = 20$。\n\n**第 2 步：寻找第二条增广路径。**\n路径 2：$S \\rightarrow B \\rightarrow D \\rightarrow T$。\n当前残差图中该路径的瓶颈容量是 $\\min(c(S,B), c(B,D), c(D,T)) = \\min(30, 15, 25) = 15$。\n我们推送 15 个单位的流。总流量现在是 $20 + 15 = 35$。\n残差容量更新如下：\n$c_f(S,B) = 30 - 15 = 15$。创建一条反向边：$c_f(B,S) = 15$。\n$c_f(B,D) = 15 - 15 = 0$。创建一条反向边：$c_f(D,B) = 15$。\n$c_f(D,T) = 25 - 15 = 10$。创建一条反向边：$c_f(T,D) = 15$。\n\n**第 3 步：寻找第三条增广路径。**\n路径 3：$S \\rightarrow A \\rightarrow D \\rightarrow T$。\n瓶颈容量是 $\\min(c_f(S,A), c(A,D), c_f(D,T)) = \\min(20, 15, 10) = 10$。\n我们推送 10 个单位的流。总流量现在是 $35 + 10 = 45$。\n残差容量更新如下：\n$c_f(S,A) = 20 - 10 = 10$。反向边更新为：$c_f(A,S) = 20 + 10 = 30$。\n$c_f(A,D) = 15 - 10 = 5$。创建一条反向边：$c_f(D,A) = 10$。\n$c_f(D,T) = 10 - 10 = 0$。反向边更新为：$c_f(T,D) = 15 + 10 = 25$。\n\n**第 4 步：寻找第四条增广路径。**\n路径 4：$S \\rightarrow B \\rightarrow C \\rightarrow T$。\n瓶颈容量是 $\\min(c_f(S,B), c(B,C), c_f(C,T)) = \\min(15, 5, 5) = 5$。\n我们推送 5 个单位的流。总流量现在是 $45 + 5 = 50$。\n残差容量更新如下：\n$c_f(S,B) = 15 - 5 = 10$。反向边更新为：$c_f(B,S) = 15 + 5 = 20$。\n$c_f(B,C) = 5 - 5 = 0$。创建一条反向边：$c_f(C,B) = 5$。\n$c_f(C,T) = 5 - 5 = 0$。反向边更新为：$c_f(T,C) = 20 + 5 = 25$。\n\n**第 5 步：检查是否存在更多增广路径。**\n最终的残差图具有以下正向容量：\n$c_f(S,A) = 10$, $c_f(S,B) = 10$\n$c_f(A,C) = 0$, $c_f(A,D) = 5$\n$c_f(B,C) = 0$, $c_f(B,D) = 0$\n$c_f(C,T) = 0$, $c_f(D,T) = 0$\n此时，我们需要检查在此残差图（包括反向边）中是否存在从 S 到 T 的任何路径。让我们找到从 S 可达的所有节点：\n1. 从可达节点集合 $R = \\{S\\}$ 开始。\n2. 从 S，我们可以到达 A，因为 $c_f(S,A) = 10  0$。将 A 加入 R。$R = \\{S, A\\}$。\n3. 从 S，我们可以到达 B，因为 $c_f(S,B) = 10  0$。将 B 加入 R。$R = \\{S, A, B\\}$。\n4. 从 A（在 R 中），我们可以到达 D，因为 $c_f(A,D) = 5  0$。将 D 加入 R。$R = \\{S, A, B, D\\}$。\n5. 从 $R=\\{S, A, B, D\\}$ 中的任何节点，我们检查指向不在 R 中的节点的出边。\n   - 从 A：$c_f(A,C)=0$。无路径。\n   - 从 B：$c_f(B,C)=0$。无路径。\n   - 从 D：$c_f(D,T)=0$。无路径。\n   - 从 $R$ 到 $\\{C, T\\}$ 没有其他正向边。\n由于 T 不在可达节点集合 R 中，因此没有更多增广路径。\n\n最大流是推送流量的总和，即 $50$。因此，最大生产率为 50 单位/小时。\n\n**第 2 部分：识别瓶颈工位**\n根据最大流最小割定理，最小割的容量等于最大流。最小割是顶点的一个划分 $(V_S, V_T)$，其中 $V_S$ 是最终残差图中从 S 可达的所有顶点的集合，而 $V_T$ 是其余顶点。\n根据我们在第 5 步的分析，可达节点的集合是 $V_S = \\{S, A, B, D\\}$。\n不可达节点的集合是 $V_T = \\{C, T\\}$。\n\n问题将瓶颈工位集合定义为最小割的源侧划分（$V_S$）中的中间工位（非 S 或 T）。\n$V_S$ 中的中间工位是 $\\{A, B, D\\}$。\n与给定选项比较：\nA. {A, B}\nB. {C, D}\nC. {A, C}\nD. {A, B, D}\nE. {B, C, D}\n正确选项是 D。\n\n最终答案是（最大速率，瓶颈选项）对。即 (50, D)。",
            "answer": "$$\\boxed{\\begin{pmatrix} 50,  D \\end{pmatrix}}$$"
        },
        {
            "introduction": "在前两个练习的基础上，这个问题探讨了网络优化的动态和战略层面。我们面对的不再是一个容量固定的网络，而是需要分析当一条特定链路的容量得到提升时，最大流量会如何变化。这种方法引入了参数分析的思想 ，这是一种强大的决策支持工具，它促使我们将最大流最小割定理理解为一个描述系统在变化条件下行为的动态关系，而不仅仅是一次静态的计算。",
            "id": "2189457",
            "problem": "一家科技公司正在分析其广域网（WAN）的数据吞吐量，该网络连接其总部（节点 $s$）和一个主要的数据中心（节点 $t$）。该网络由几个相互连接的路由站组成，在有向图中表示为节点。站之间的链路是具有固定数据传输容量的定向光缆，单位为太比特每秒（Tbps）。\n\n网络拓扑由节点集 $V = \\{s, a, b, c, d, t\\}$ 和一组具有以下容量的有向边定义：\n- $c(s, a) = 15$\n- $c(s, b) = 5$\n- $c(a, c) = 20$\n- $c(b, c) = 4$\n- $c(b, d) = 10$\n- $c(c, d) = 3$\n- $c(c, t) = 8$\n- $c(d, t) = 14$\n\n公司正在考虑进行一项战略投资，以升级站点 a 和 b 之间的链路。这条由有向边 $(a,b)$ 表示的特定链路，目前的基础容量为 1 Tbps。升级将增加 $\\lambda$ Tbps 的额外容量，其中 $\\lambda \\ge 0$。因此，边 $(a,b)$ 的容量由 $c(a,b) = 1 + \\lambda$ 给出。\n\n假设数据可以在网络中任意路由，直至达到链路的容量限制，请确定从总部 $s$ 到数据中心 $t$ 的最大总吞吐量（记为 $v(\\lambda)$），并将其表示为投资参数 $\\lambda$ 的函数。请给出 $v(\\lambda)$ 对于所有 $\\lambda \\ge 0$ 的完整解析表达式。",
            "solution": "问题要求解在一个从源节点 $s$ 到汇节点 $t$ 的网络中的最大流 $v(\\lambda)$，其中一条边 $(a,b)$ 的容量是参数 $\\lambda$ 的函数。\n\n根据最大流最小割定理，网络中的最大流等于 s-t 割的最小容量。一个 s-t 割是将顶点集 $V$ 划分为两个不相交的集合 $S$ 和 $T$ 的一种划分，使得 $s \\in S$ 且 $t \\in T$。割 $(S,T)$ 的容量是所有满足 $u \\in S$ 和 $v \\in T$ 的边 $(u,v)$ 的容量之和。\n$$ v(\\lambda) = \\min_{(S,T) \\text{ s.t. } s \\in S, t \\in T} \\left( \\sum_{u \\in S, v \\in T} c(u,v) \\right) $$\n边 $(a,b)$ 的容量为 $c(a,b) = 1+\\lambda$。我们可以根据对节点 $a$ 和 $b$ 的划分方式，将所有可能的 s-t 割进行分类，因为这决定了其容量是否依赖于 $\\lambda$。\n\n**情况 1：容量不依赖于 $\\lambda$ 的割。**\n当边 $(a,b)$ 不从 $S$ 跨越到 $T$ 时，就会发生这种情况。这意味着要么 $a, b$ 都在 $S$ 中，要么都在 $T$ 中，要么 $a \\in T$ 且 $b \\in S$。\n\n让我们计算这类割中一些关键割的容量：\n1.  割 $S = \\{s\\}$。集合 $T$ 包含所有其他节点：$T=\\{a,b,c,d,t\\}$。从 $S$ 跨越到 $T$ 的边是 $(s,a)$ 和 $(s,b)$。\n    其容量为 $C_1 = c(s,a) + c(s,b) = 15 + 5 = 20$。\n    在此割中，$a,b \\in T$。\n\n2.  割 $T = \\{t\\}$。集合 $S$ 包含所有其他节点：$S=\\{s,a,b,c,d\\}$。从 $S$ 跨越到 $T$ 的边是 $(c,t)$ 和 $(d,t)$。\n    其容量为 $C_2 = c(c,t) + c(d,t) = 8 + 14 = 22$。\n    在此割中，$a,b \\in S$。\n\n3.  考虑 $a \\in T$ 且 $b \\in S$ 的割。其容量是恒定的，因为有向边 $(a,b)$ 的方向是从 $T$ 到 $S$，而不是从 $S$ 到 $T$。我们测试割 $S = \\{s,b\\}, T=\\{a,c,d,t\\}$。\n    从 $S$ 到 $T$ 的边是 $(s,a)$、$(b,c)$ 和 $(b,d)$。\n    其容量为 $C_3 = c(s,a) + c(b,c) + c(b,d) = 15 + 4 + 10 = 29$。\n\n4.  考虑另一个 $a,b \\in S$ 的割，例如 $S = \\{s,a,b,d\\}, T=\\{c,t\\}$。\n    从 $S$ 到 $T$ 的边是 $(a,c)$ 和 $(b,c)$。\n    其容量为 $C_4 = c(a,c) + c(b,c) = 20 + 4 = 24$。\n\n比较找到的恒定容量割（$C_1=20, C_2=22, C_3=29, C_4=24$），最小容量是 20。我们将所有恒定容量割的最小容量记为 $C_{const} = 20$。\n\n**情况 2：容量依赖于 $\\lambda$ 的割。**\n当边 $(a,b)$ 从 $S$ 跨越到 $T$ 时，就会发生这种情况，这要求 $a \\in S$ 且 $b \\in T$。这种割的容量形式为 $K + c(a,b) = K + 1 + \\lambda$，其中 $K$ 是所有其他从 $S$ 跨越到 $T$ 的边的容量之和。我们希望找到这类割中容量最小的一个。\n\n让我们计算这类割中一些关键割的容量：\n1.  考虑割 $S = \\{s,a\\}, T=\\{b,c,d,t\\}$。\n    从 $S$ 到 $T$ 的边是 $(s,b)$、$(a,b)$ 和 $(a,c)$。\n    其容量为 $C_5(\\lambda) = c(s,b) + c(a,c) + c(a,b) = 5 + 20 + (1+\\lambda) = 26 + \\lambda$。\n\n2.  考虑割 $S = \\{s,a,c\\}, T=\\{b,d,t\\}$。\n    从 $S$ 到 $T$ 的边是 $(s,b)$、$(a,b)$、$(c,d)$ 和 $(c,t)$。\n    其容量为 $C_6(\\lambda) = c(s,b) + c(c,d) + c(c,t) + c(a,b) = 5 + 3 + 8 + (1+\\lambda) = 17 + \\lambda$。\n\n比较找到的依赖于 $\\lambda$ 的割（$26+\\lambda$ 和 $17+\\lambda$），对于任何 $\\lambda \\ge 0$，最小容量是 $C_{\\lambda} = 17 + \\lambda$。\n\n**总体最小割容量**\n最大流值 $v(\\lambda)$ 是所有割容量中的最小值。我们需要在最小恒定容量和最小的依赖于 $\\lambda$ 的容量之间找到最小值。\n$$ v(\\lambda) = \\min(C_{const}, C_{\\lambda}) = \\min(20, 17+\\lambda) $$\n\n现在我们对 $\\lambda \\ge 0$ 的情况分析此表达式：\n- 如果 $17+\\lambda \\le 20$，最小值为 $17+\\lambda$。此条件在 $0 \\le \\lambda \\le 3$ 时成立。\n- 如果 $17+\\lambda  20$，最小值为 $20$。此条件在 $\\lambda  3$ 时成立。\n\n这为最大吞吐量 $v(\\lambda)$ 给出了一个分段函数：\n当 $0 \\le \\lambda \\le 3$ 时，瓶颈是割 $S=\\{s,a,c\\}$，增加链路 $(a,b)$ 的容量会直接增加整个网络的吞吐量。增长率为 1。\n当 $\\lambda$ 超过 3 时，该割的容量超过 20。瓶颈随即切换到割 $S=\\{s\\}$，其容量恒定为 20。对 $(a,b)$ 链路的任何进一步投资（即增加 $\\lambda$ 使其超过 3）都不会带来总吞吐量的提升。\n\n$v(\\lambda)$ 的最终函数形式是：\n$v(\\lambda) = \\begin{cases} 17 + \\lambda  \\text{if } 0 \\le \\lambda \\le 3 \\\\ 20  \\text{if } \\lambda  3 \\end{cases}$",
            "answer": "$$\\boxed{v(\\lambda) = \\begin{cases} 17 + \\lambda  \\text{if } 0 \\le \\lambda \\le 3 \\\\ 20  \\text{if } \\lambda  3 \\end{cases}}$$"
        }
    ]
}