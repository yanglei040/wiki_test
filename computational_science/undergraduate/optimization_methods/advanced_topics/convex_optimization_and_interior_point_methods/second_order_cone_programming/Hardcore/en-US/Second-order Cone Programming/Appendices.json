{
    "hands_on_practices": [
        {
            "introduction": "We begin our hands-on practice by connecting Second-Order Cone Programming to a fundamental concept in linear algebra: finding the minimum norm solution to a system of equations. This exercise will guide you through the essential technique of epigraph reformulation, where we transform an objective involving a norm into a linear objective subject to a conic constraint. Mastering this formulation is a crucial first step in leveraging SOCP for a wide range of problems in signal processing, control, and statistics. ",
            "id": "2200440",
            "problem": "In many control and estimation problems, a key objective is to find a solution that is \"small\" in some sense, often corresponding to minimum energy or minimum error. Consider the problem of finding a vector $x \\in \\mathbb{R}^n$ that satisfies a set of linear constraints $Ax = b$, where $A \\in \\mathbb{R}^{m \\times n}$ and $b \\in \\mathbb{R}^m$ are given, and additionally has the smallest possible Euclidean norm $\\|x\\|_2$.\n\nThis optimization problem can be formulated as a Second-Order Cone Program (SOCP). A standard form for an SOCP is:\n$$\n\\begin{aligned}\n\\text{minimize} \\quad & f^T y \\\\\n\\text{subject to} \\quad & \\|G_i y + h_i\\|_2 \\le k_i^T y + l_i, \\quad i=1, \\dots, p \\\\\n& F y = g\n\\end{aligned}\n$$\nTo cast the minimum norm problem into this form, we introduce an auxiliary scalar variable $t$ and define a new optimization variable $y = \\begin{pmatrix} x \\\\ t \\end{pmatrix} \\in \\mathbb{R}^{n+1}$. The problem can then be expressed using a single cone constraint ($p=1$) and a single block of linear equalities.\n\nYour task is to identify the correct matrices and vectors that define this SOCP. The objective vector is $f$, the matrix for the linear constraint is $F$, and the corresponding right-hand side is $g=b$. For the single cone constraint, we can set $h_1 = 0$ (a zero vector of appropriate size) and $l_1 = 0$.\n\nWhich of the following choices for the objective vector $f$, the cone constraint matrix $G_1$, the cone constraint vector $k_1$, and the linear equality matrix $F$ is correct? Note that $I_n$ denotes the $n \\times n$ identity matrix, $0_{p \\times q}$ denotes the $p \\times q$ zero matrix, and $0_p$ denotes a zero vector of size $p$.\n\nA)\n$f = \\begin{pmatrix} 0_n \\\\ 1 \\end{pmatrix}$,\n$G_1 = [I_n \\ | \\ 0_{n \\times 1}]$,\n$k_1 = \\begin{pmatrix} 0_n \\\\ 1 \\end{pmatrix}$,\n$F = [A \\ | \\ 0_{m \\times 1}]$\n\nB)\n$f = \\begin{pmatrix} 0_n \\\\ 1 \\end{pmatrix}$,\n$G_1 = I_{n+1}$,\n$k_1 = \\begin{pmatrix} 0_n \\\\ 1 \\end{pmatrix}$,\n$F = [A \\ | \\ 0_{m \\times 1}]$\n\nC)\n$f = \\begin{pmatrix} 0_n \\\\ 1 \\end{pmatrix}$,\n$G_1 = [A \\ | \\ 0_{m \\times 1}]$,\n$k_1 = \\begin{pmatrix} 0_n \\\\ 1 \\end{pmatrix}$,\n$F = [I_n \\ | \\ 0_{n \\times 1}]$\n\nD)\n$f = \\begin{pmatrix} 0_n \\\\ 1 \\end{pmatrix}$,\n$G_1 = [I_n \\ | \\ 0_{n \\times 1}]$,\n$k_1 = \\begin{pmatrix} e_1 \\\\ 0 \\end{pmatrix}$ where $e_1 \\in \\mathbb{R}^n$ is the first standard basis vector,\n$F = [A \\ | \\ 0_{m \\times 1}]$",
            "solution": "We start from the minimum-norm problem:\n$$\n\\text{minimize } \\|x\\|_{2} \\quad \\text{subject to } Ax = b, \\quad x \\in \\mathbb{R}^{n}.\n$$\nIntroduce an auxiliary scalar $t \\in \\mathbb{R}$ and use the epigraph reformulation:\n$$\n\\text{minimize } t \\quad \\text{subject to } \\|x\\|_{2} \\le t, \\quad Ax = b.\n$$\nDefine the stacked variable $y \\in \\mathbb{R}^{n+1}$ by\n$$\ny = \\begin{pmatrix} x \\\\ t \\end{pmatrix}.\n$$\nThe SOCP standard form is\n$$\n\\text{minimize } f^{T} y \\quad \\text{subject to } \\|G_{1} y + h_{1}\\|_{2} \\le k_{1}^{T} y + l_{1}, \\quad Fy = g.\n$$\nWe choose the objective to be $f^{T} y = t$, which implies\n$$\nf = \\begin{pmatrix} 0_{n} \\\\ 1 \\end{pmatrix}.\n$$\nWe set $h_{1} = 0$ and $l_{1} = 0$ as allowed. To encode the cone constraint $\\|x\\|_{2} \\le t$, observe that $x$ is extracted from $y$ by the linear map $G_{1} = [I_{n} | 0_{n \\times 1}]$, so that\n$$\nG_{1} y = [I_{n} | 0_{n \\times 1}] \\begin{pmatrix} x \\\\ t \\end{pmatrix} = x.\n$$\nThe right-hand side is $k_{1}^{T} y = t$, which is obtained by choosing\n$$\nk_{1} = \\begin{pmatrix} 0_{n} \\\\ 1 \\end{pmatrix}.\n$$\nThe linear equality constraint $Ax = b$ is expressed as\n$$\nF y = [A | 0_{m \\times 1}] \\begin{pmatrix} x \\\\ t \\end{pmatrix} = Ax + 0 \\cdot t = b,\n$$\nso\n$$\nF = [A | 0_{m \\times 1}], \\quad g = b.\n$$\nDimensions are consistent: $f \\in \\mathbb{R}^{n+1}$, $G_{1} \\in \\mathbb{R}^{n \\times (n+1)}$, $k_{1} \\in \\mathbb{R}^{n+1}$, and $F \\in \\mathbb{R}^{m \\times (n+1)}$.\n\nComparing with the options:\n- A matches exactly the derived $f$, $G_{1}$, $k_{1}$, and $F$.\n- B would enforce $\\|[x; t]\\|_{2} \\le t$, which implies $x = 0$ and is not equivalent.\n- C uses $G_{1} = [A | 0]$ and $F = [I_{n} | 0]$, which does not encode $Ax = b$ correctly and has dimension issues unless $n = m$, and even then would force $x = b$.\n- D sets $k_{1}^{T} y = e_{1}^{T} x$, yielding $\\|x\\|_{2} \\le e_{1}^{T} x$, which is not the desired constraint.\n\nTherefore, the correct choice is A.",
            "answer": "$$\\boxed{A}$$"
        },
        {
            "introduction": "Having established the basic formulation, we now apply SOCP principles to a problem with a clear geometric interpretation: finding the largest sphere that can be inscribed within a polyhedron. This type of problem, known as finding the Chebyshev center, is critical in fields like robotics and motion planning for determining safe operating zones. This practice will challenge you to translate intuitive geometric relationships into the precise language of mathematical inequalities, a key skill for any optimization modeler. ",
            "id": "2200474",
            "problem": "A robotics company is designing a safety protocol for a spherical autonomous probe that operates within a confined industrial space. The engineers want to find the optimal fixed position for the center of the probe and the corresponding maximum possible radius such that the entire spherical probe remains within the designated flight zone.\n\nThe flight zone is a region in $\\mathbb{R}^3$ described by the coordinates $(x, y, z)$, and all measurements are in meters. The zone is mathematically defined by the intersection of the regions satisfying the following seven linear inequalities:\n1.  $x \\le 10.0$\n2.  $-x \\le -4.0$\n3.  $y \\le 10.0$\n4.  $-y \\le -4.0$\n5.  $z \\le 10.0$\n6.  $-z \\le -4.0$\n7.  $x + y + z \\le 26.0$\n\nYour task is to calculate this maximum radius. Express your final answer in meters, rounded to four significant figures.",
            "solution": "Let the center of the spherical probe be denoted by the vector $x_c = (x_c, y_c, z_c)^T$ and its radius be $r$. The probe is the set of points $\\{x \\mid \\|x - x_c\\|_2 \\le r\\}$. The flight zone is a polyhedron defined by a set of linear inequalities of the form $a_i^T x \\le b_i$. For the entire probe to be inside this polyhedron, every point in the sphere must satisfy all the inequalities.\n\nFor a single inequality $a_i^T x \\le b_i$, we require that for all points $u$ with $\\|u\\|_2 \\le r$, the point $x = x_c + u$ satisfies the inequality.\n$$a_i^T (x_c + u) \\le b_i$$\n$$a_i^T x_c + a_i^T u \\le b_i$$\nTo ensure this holds for all valid $u$, we must consider the worst-case scenario, which occurs when $a_i^T u$ is maximized. The maximum value of $a_i^T u$ over the ball $\\|u\\|_2 \\le r$ is $r \\|a_i\\|_2$, which is achieved when $u$ is aligned with $a_i$. Thus, the condition for the sphere to be contained by the half-space is:\n$$a_i^T x_c + r \\|a_i\\|_2 \\le b_i$$\nThis condition must hold for all seven inequalities defining the polyhedron. The problem is to find the maximum possible radius $r$. This can be formulated as a convex optimization problem, specifically a linear program, where we maximize $r$ subject to a set of linear constraints on $x_c, y_c, z_c,$ and $r$.\n\nThe optimization problem is:\n$$ \\text{maximize} \\quad r $$\n$$ \\text{subject to} \\quad a_i^T x_c + r \\|a_i\\|_2 \\le b_i, \\quad \\text{for } i=1, \\dots, 7 $$\n$$ r \\ge 0 $$\n\nLet's write down the specific constraints for the given problem. The vectors $a_i$ and scalars $b_i$ are:\n1. $a_1 = (1, 0, 0)^T, b_1 = 10.0, \\|a_1\\|_2 = 1 \\implies x_c + r \\le 10.0$\n2. $a_2 = (-1, 0, 0)^T, b_2 = -4.0, \\|a_2\\|_2 = 1 \\implies -x_c + r \\le -4.0 \\implies x_c \\ge 4.0 + r$\n3. $a_3 = (0, 1, 0)^T, b_3 = 10.0, \\|a_3\\|_2 = 1 \\implies y_c + r \\le 10.0$\n4. $a_4 = (0, -1, 0)^T, b_4 = -4.0, \\|a_4\\|_2 = 1 \\implies -y_c + r \\le -4.0 \\implies y_c \\ge 4.0 + r$\n5. $a_5 = (0, 0, 1)^T, b_5 = 10.0, \\|a_5\\|_2 = 1 \\implies z_c + r \\le 10.0$\n6. $a_6 = (0, 0, -1)^T, b_6 = -4.0, \\|a_6\\|_2 = 1 \\implies -z_c + r \\le -4.0 \\implies z_c \\ge 4.0 + r$\n7. $a_7 = (1, 1, 1)^T, b_7 = 26.0, \\|a_7\\|_2 = \\sqrt{1^2+1^2+1^2} = \\sqrt{3} \\implies x_c + y_c + z_c + r\\sqrt{3} \\le 26.0$\n\nThe feasible region (the polyhedron) is symmetric with respect to permutations of the coordinates $x, y, z$. The objective function (maximizing $r$) is also independent of this permutation. Therefore, we can assume that the optimal center $x_c$ lies on the line of symmetry $x_c = y_c = z_c$. Let's denote this common coordinate value by $u$.\n\nSubstituting $x_c=y_c=z_c=u$ into the constraints simplifies the problem:\n1. $u + r \\le 10.0 \\implies u \\le 10.0 - r$\n2. $u \\ge 4.0 + r$\n3. $u + r \\le 10.0$ (same as 1)\n4. $u \\ge 4.0 + r$ (same as 2)\n5. $u + r \\le 10.0$ (same as 1)\n6. $u \\ge 4.0 + r$ (same as 2)\n7. $3u + r\\sqrt{3} \\le 26.0 \\implies u \\le \\frac{26.0 - r\\sqrt{3}}{3}$\n\nFor a feasible solution $(u, r)$ to exist, the lower bound for $u$ must be less than or equal to the upper bounds for $u$. This gives us two conditions:\na) $4.0 + r \\le 10.0 - r \\implies 2r \\le 6.0 \\implies r \\le 3.0$\nb) $4.0 + r \\le \\frac{26.0 - r\\sqrt{3}}{3} \\implies 12.0 + 3r \\le 26.0 - r\\sqrt{3} \\implies r(3+\\sqrt{3}) \\le 14.0 \\implies r \\le \\frac{14.0}{3+\\sqrt{3}}$\n\nTo find the maximum possible $r$, we must satisfy both conditions. Thus, $r_{max}$ is the minimum of the two upper bounds we found for $r$:\n$$r_{max} = \\min\\left(3.0, \\frac{14.0}{3+\\sqrt{3}}\\right)$$\nLet's evaluate the second term:\n$$ \\frac{14.0}{3+\\sqrt{3}} = \\frac{14.0(3-\\sqrt{3})}{(3+\\sqrt{3})(3-\\sqrt{3})} = \\frac{14.0(3-\\sqrt{3})}{9-3} = \\frac{14.0(3-\\sqrt{3})}{6} = \\frac{7(3-\\sqrt{3})}{3} $$\nNow we compare this value with 3.0.\n$$ \\frac{7(3-\\sqrt{3})}{3} \\approx \\frac{7(3 - 1.73205)}{3} = \\frac{7(1.26795)}{3} \\approx \\frac{8.87565}{3} \\approx 2.95855 $$\nSince $2.95855  3.0$, the second inequality is the tighter constraint. The maximum radius is therefore determined by the skewed plane and the lower boundaries of the cube.\n$$ r_{max} = \\frac{7(3-\\sqrt{3})}{3} \\approx 2.95855 \\text{ meters} $$\nThe problem asks for the answer rounded to four significant figures.\n$$ r_{max} \\approx 2.959 \\text{ meters} $$",
            "answer": "$$\\boxed{2.959}$$"
        },
        {
            "introduction": "Our final practice introduces a powerful extension of the standard second-order cone: the rotated cone. This structure is exceptionally useful for modeling convex quadratic constraints and constraints involving the product of two variables. We will apply this advanced tool to a resource allocation problem, where the interaction between different activities is captured by a quadratic form, demonstrating how to efficiently find the most cost-effective resource budget. ",
            "id": "3175240",
            "problem": "A firm allocates production levels across two activities, represented by the decision vector $x \\in \\mathbb{R}^{2}$. The combined stress on two coupled resource pools with capacities $y \\ge 0$ and $z \\ge 0$ is modeled by the convex interaction constraint $x^{\\top} Q x \\le y z$, where $Q \\in \\mathbb{R}^{2 \\times 2}$ is a positive semidefinite matrix encoding how activity allocations interact. Capacities are purchased at linear unit costs $c_{y}  0$ and $c_{z}  0$. The activity allocations are externally mandated at the levels $x = x_{\\mathrm{req}}$. You are given\n- $Q = \\begin{pmatrix} 4  0 \\\\ 0  1 \\end{pmatrix}$,\n- $x_{\\mathrm{req}} = \\begin{pmatrix} 3 \\\\ 4 \\end{pmatrix}$,\n- $c_{y} = 5$,\n- $c_{z} = 8$.\nUsing foundations from convex analysis and cone programming, do the following:\n1. Starting from the definition of positive semidefinite matrices and quadratic forms, verify that $Q$ is positive semidefinite and find a matrix $A \\in \\mathbb{R}^{2 \\times 2}$ such that $Q = A^{\\top} A$.\n2. Using the definition of the Rotated Second-Order Cone (RSOC), encode the constraint $x^{\\top} Q x \\le y z$ with $y, z \\ge 0$ as a single RSOC membership constraint involving $(y, z, A x)$ and explain any scaling needed.\n3. Formulate the resource budgeting problem of choosing $y, z \\ge 0$ to minimize total cost $c_{y} y + c_{z} z$, subject to the RSOC constraint and the fixed activity $x = x_{\\mathrm{req}}$, as a Second-Order Cone Program (SOCP) using only linear and conic constraints.\n4. Solve the SOCP analytically to obtain the minimal total cost. Express the final cost as an exact analytic expression. No rounding is required.\nYour final answer must be the minimal total cost as a single closed-form expression.",
            "solution": "**Part 1: Verification of Positive Semidefiniteness and Matrix Decomposition**\n\nA symmetric matrix $M \\in \\mathbb{R}^{n \\times n}$ is defined as positive semidefinite (PSD) if the quadratic form $v^{\\top} M v \\ge 0$ for all vectors $v \\in \\mathbb{R}^n$. A necessary and sufficient condition for a symmetric matrix to be PSD is that all its eigenvalues are non-negative.\n\nThe given matrix is $Q = \\begin{pmatrix} 4  0 \\\\ 0  1 \\end{pmatrix}$. This is a diagonal matrix. The eigenvalues of a diagonal matrix are its diagonal entries. The eigenvalues of $Q$ are $\\lambda_1 = 4$ and $\\lambda_2 = 1$. Since both eigenvalues are positive, the matrix $Q$ is positive definite, which is a stronger condition than, and therefore implies, positive semidefiniteness. The verification is complete.\n\nNext, we seek a matrix $A \\in \\mathbb{R}^{2 \\times 2}$ such that $Q = A^{\\top} A$. This decomposition can be found using methods like the Cholesky decomposition. For a diagonal matrix $Q = \\mathrm{diag}(d_1, d_2, ..., d_n)$ with $d_i \\ge 0$, a valid choice for $A$ is the diagonal matrix $A = \\mathrm{diag}(\\sqrt{d_1}, \\sqrt{d_2}, ..., \\sqrt{d_n})$, as $A^{\\top} A = A^2 = Q$.\nFor the given matrix $Q$, we choose $A$ as:\n$$ A = \\begin{pmatrix} \\sqrt{4}  0 \\\\ 0  \\sqrt{1} \\end{pmatrix} = \\begin{pmatrix} 2  0 \\\\ 0  1 \\end{pmatrix} $$\nWe confirm this choice by computing $A^{\\top}A$:\n$$ A^{\\top}A = \\begin{pmatrix} 2  0 \\\\ 0  1 \\end{pmatrix}^{\\top} \\begin{pmatrix} 2  0 \\\\ 0  1 \\end{pmatrix} = \\begin{pmatrix} 2  0 \\\\ 0  1 \\end{pmatrix} \\begin{pmatrix} 2  0 \\\\ 0  1 \\end{pmatrix} = \\begin{pmatrix} 4  0 \\\\ 0  1 \\end{pmatrix} = Q $$\n\n**Part 2: Encoding as a Rotated Second-Order Cone Constraint**\n\nThe Rotated Second-Order Cone (RSOC) in $\\mathbb{R}^{n+2}$, which we denote as $K_r^{n+2}$, is the set of points $(u, v, w) \\in \\mathbb{R} \\times \\mathbb{R} \\times \\mathbb{R}^n$ that satisfy the inequality $\\|w\\|_2^2 \\le uv$, along with the non-negativity constraints $u \\ge 0$ and $v \\ge 0$.\n\nThe given interaction constraint is $x^{\\top} Q x \\le yz$, with the conditions $y \\ge 0$ and $z \\ge 0$.\nUsing the decomposition $Q = A^{\\top}A$ from Part 1, we can rewrite the quadratic form:\n$$ x^{\\top} Q x = x^{\\top} (A^{\\top} A) x = (Ax)^{\\top} (Ax) = \\|Ax\\|_2^2 $$\nThe constraint thus becomes $\\|Ax\\|_2^2 \\le yz$.\nThis inequality directly matches the defining inequality of the RSOC. We can make the following identification:\n- $w = Ax \\in \\mathbb{R}^2$\n- $u = y \\in \\mathbb{R}$\n- $v = z \\in \\mathbb{R}$\n\nThe constraint $x^{\\top} Q x \\le yz$ combined with $y \\ge 0$ and $z \\ge 0$ is therefore equivalent to the single RSOC membership constraint $(y, z, Ax) \\in K_r^4$, where $K_r^4$ is the $4$-dimensional RSOC (since $y, z$ are scalars and $Ax \\in \\mathbb{R}^2$). No further scaling is necessary to map the problem into this standard RSOC form.\n\n**Part 3: Formulation as a Second-Order Cone Program (SOCP)**\n\nThe problem is to minimize the total resource cost, which is a linear function of the capacities $y$ and $z$:\n$$ \\text{Objective: } \\min_{y, z} (c_y y + c_z z) $$\nThe activity levels are fixed at $x=x_{\\mathrm{req}}$. The decision variables are $y$ and $z$. The constraints are that the capacities must satisfy the interaction constraint, which we have formulated as an RSOC constraint. The SOCP formulation is therefore:\n$$ \\begin{aligned}\n\\underset{y, z \\in \\mathbb{R}}{\\text{minimize}}  \\quad c_y y + c_z z \\\\\n\\text{subject to}  \\quad (y, z, A x_{\\mathrm{req}}) \\in K_r^4\n\\end{aligned} $$\nThis formulation presents a linear objective function subject to a single conic constraint (and the non-negativity of $y$ and $z$, which is implicit in the definition of $K_r^4$). This is a standard SOCP form.\n\n**Part 4: Analytical Solution of the SOCP**\n\nFirst, we compute the constant term $K = \\|A x_{\\mathrm{req}}\\|_2^2$ using the given data:\n- $A = \\begin{pmatrix} 2  0 \\\\ 0  1 \\end{pmatrix}$\n- $x_{\\mathrm{req}} = \\begin{pmatrix} 3 \\\\ 4 \\end{pmatrix}$\n- $c_y = 5$\n- $c_z = 8$\n\nThe vector $A x_{\\mathrm{req}}$ is:\n$$ A x_{\\mathrm{req}} = \\begin{pmatrix} 2  0 \\\\ 0  1 \\end{pmatrix} \\begin{pmatrix} 3 \\\\ 4 \\end{pmatrix} = \\begin{pmatrix} 6 \\\\ 4 \\end{pmatrix} $$\nThe squared norm is:\n$$ K = \\|A x_{\\mathrm{req}}\\|_2^2 = 6^2 + 4^2 = 36 + 16 = 52 $$\nThe optimization problem is now expressed as:\n$$ \\begin{aligned}\n\\underset{y, z}{\\text{minimize}}  \\quad 5y + 8z \\\\\n\\text{subject to}  \\quad yz \\ge 52 \\\\\n \\quad y \\ge 0, z \\ge 0\n\\end{aligned} $$\nSince the costs $c_y=5$ and $c_z=8$ are positive, the objective function is minimized when the allocated resources are as small as possible. This means the constraint will be active at the optimum, i.e., $y z = 52$. This also implies that $y > 0$ and $z > 0$.\n\nWe can solve this by substituting $z=52/y$ into the objective, or more generally, using the method of Lagrange multipliers. The optimal cost for a problem of the form `min $c_y y + c_z z$ s.t. $yz \\ge K$` with positive parameters is known to be $2\\sqrt{K c_y c_z}$.\nThe optimal cost is given by:\n$$ \\text{Minimal Cost} = 2 \\sqrt{K c_y c_z} $$\nPlugging in the values $K=52$, $c_y=5$, and $c_z=8$:\n$$ \\text{Minimal Cost} = 2 \\sqrt{52 \\times 5 \\times 8} $$\n$$ \\text{Minimal Cost} = 2 \\sqrt{52 \\times 40} $$\n$$ \\text{Minimal Cost} = 2 \\sqrt{2080} $$\nTo simplify the radical, we find the prime factorization of $2080$:\n$$ 2080 = 208 \\times 10 = (16 \\times 13) \\times (2 \\times 5) = 16 \\times 130 $$\nSo, $\\sqrt{2080} = \\sqrt{16 \\times 130} = 4\\sqrt{130}$.\nSubstituting this back into the cost expression:\n$$ \\text{Minimal Cost} = 2 \\times (4\\sqrt{130}) = 8\\sqrt{130} $$\nThe minimal total cost is $8\\sqrt{130}$.",
            "answer": "$$\n\\boxed{8\\sqrt{130}}\n$$"
        }
    ]
}