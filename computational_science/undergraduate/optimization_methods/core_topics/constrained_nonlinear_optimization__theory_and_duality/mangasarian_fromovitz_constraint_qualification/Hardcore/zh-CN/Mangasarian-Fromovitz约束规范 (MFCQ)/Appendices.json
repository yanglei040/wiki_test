{
    "hands_on_practices": [
        {
            "introduction": "要真正掌握 Mangasarian-Fromovitz 约束规范（MFCQ），我们必须从其基本定义入手。第一个实践练习要求您针对一组简单的约束和特定点，直接验证 MFCQ 的条件。通过系统地检查梯度属性并构造一个有效的方向向量 $d$，您将把抽象的理论转化为具体的计算。",
            "id": "3146821",
            "problem": "考虑一个具有不等式约束 $g_1(x)=x_1 \\le 0$、$g_2(x)=x_2 \\le 0$ 和一个等式约束 $h(x)=x_1 - x_2 = 0$ 的非线性规划问题。令 $x^{*}=(0,0)$。仅使用 Mangasarian-Fromovitz 约束规范 (MFCQ) 的核心定义，通过检验线性化约束并构造一个方向 $d \\in \\mathbb{R}^{2}$，该方向满足等式约束的线性化，同时严格递减在 $x^{*}$ 处的所有积极不等式，来判断 MFCQ 是否在 $x^{*}$ 处成立。在所有具有整数分量的此类方向 $d$ 中，请给出其分量绝对值最小的那个作为最终答案。无需四舍五入。",
            "solution": "用户希望确定对于给定的优化问题，在点 $x^{*} = (0,0)$ 处，Mangasarian-Fromovitz 约束规范 (MFCQ) 是否成立。如果成立，我们必须找到一个特定的方向向量 $d$。\n\n该优化问题对向量 $x = (x_1, x_2)^T \\in \\mathbb{R}^2$ 定义了以下约束：\n不等式约束：\n$g_1(x) = x_1 \\le 0$\n$g_2(x) = x_2 \\le 0$\n\n等式约束：\n$h(x) = x_1 - x_2 = 0$\n\n需要评估的点是 $x^{*} = (0,0)^T$。\n\n首先，我们陈述 Mangasarian-Fromovitz 约束规范 (MFCQ) 的定义。如果满足以下两个条件，则可行点 $x^*$ 满足 MFCQ：\n1. 等式约束的梯度 $\\{\\nabla h_j(x^*)\\}_{j \\in E}$ 是线性无关的。\n2. 存在一个向量 $d \\in \\mathbb{R}^n$ 使得：\n   - 对于所有积极不等式约束 $i \\in A(x^*)$，有 $\\nabla g_i(x^*)^T d  0$，其中 $A(x^*) = \\{i \\mid g_i(x^*) = 0\\}$。\n   - 对于所有等式约束 $j \\in E$，有 $\\nabla h_j(x^*)^T d = 0$。\n\n现在我们将此定义应用于给定问题在点 $x^* = (0,0)^T$ 处的情况。\n\n步骤 1：识别在 $x^*$ 处的积极约束。\n如果 $g_i(x^*) = 0$，则不等式约束 $g_i(x) \\le 0$ 在 $x^*$ 处是积极的。\n对于 $g_1(x) = x_1$，在 $x^* = (0,0)^T$ 处，我们有 $g_1(0,0) = 0$。因此，$g_1$ 是积极的。\n对于 $g_2(x) = x_2$，在 $x^* = (0,0)^T$ 处，我们有 $g_2(0,0) = 0$。因此，$g_2$ 是积极的。\n积极不等式约束的指标集是 $A(x^*) = \\{1, 2\\}$。\n等式约束 $h(x) = x_1 - x_2 = 0$ 总是被考虑在内。\n\n步骤 2：计算在 $x^*$ 处积极约束的梯度。\n约束函数的梯度为：\n$\\nabla g_1(x) = \\begin{pmatrix} 1 \\\\ 0 \\end{pmatrix}$\n$\\nabla g_2(x) = \\begin{pmatrix} 0 \\\\ 1 \\end{pmatrix}$\n$\\nabla h(x) = \\begin{pmatrix} 1 \\\\ -1 \\end{pmatrix}$\n\n这些梯度是常数，因此它们在 $x^*=(0,0)^T$ 处的值是相同的：\n$\\nabla g_1(x^*) = \\begin{pmatrix} 1 \\\\ 0 \\end{pmatrix}$\n$\\nabla g_2(x^*) = \\begin{pmatrix} 0 \\\\ 1 \\end{pmatrix}$\n$\\nabla h(x^*) = \\begin{pmatrix} 1 \\\\ -1 \\end{pmatrix}$\n\n步骤 3：验证 MFCQ 的第一个条件。\n第一个条件要求等式约束的梯度是线性无关的。在这个问题中，只有一个等式约束。梯度集是 $\\{\\nabla h(x^*)\\} = \\left\\{\\begin{pmatrix} 1 \\\\ -1 \\end{pmatrix}\\right\\}$。根据定义，一个包含单个非零向量的集合是线性无关的。由于 $\\nabla h(x^*) \\neq \\begin{pmatrix} 0 \\\\ 0 \\end{pmatrix}$，MFCQ 的第一个条件得到满足。\n\n步骤 4：验证 MFCQ 的第二个条件。\n第二个条件要求存在一个方向向量 $d = (d_1, d_2)^T \\in \\mathbb{R}^2$，它满足一个线性不等式和等式系统。\n对 $d$ 的条件是：\n- 对于积极不等式 $g_1$：$\\nabla g_1(x^*)^T d  0$\n  $\\begin{pmatrix} 1  0 \\end{pmatrix} \\begin{pmatrix} d_1 \\\\ d_2 \\end{pmatrix}  0 \\implies d_1  0$\n- 对于积极不等式 $g_2$：$\\nabla g_2(x^*)^T d  0$\n  $\\begin{pmatrix} 0  1 \\end{pmatrix} \\begin{pmatrix} d_1 \\\\ d_2 \\end{pmatrix}  0 \\implies d_2  0$\n- 对于等式约束 $h$：$\\nabla h(x^*)^T d = 0$\n  $\\begin{pmatrix} 1  -1 \\end{pmatrix} \\begin{pmatrix} d_1 \\\\ d_2 \\end{pmatrix} = 0 \\implies d_1 - d_2 = 0 \\implies d_1 = d_2$\n\n我们必须找到是否存在任何向量 $d$ 同时满足 $d_1  0$、$d_2  0$ 和 $d_1 = d_2$。\n将 $d_1 = d_2$ 代入不等式得到 $d_1  0$ 和 $d_1  0$。这些条件是相容的。\n对于任何负实数 $c  0$，形如 $d = (c, c)^T$ 的任何向量都将满足这些条件。例如，如果我们选择 $c = -1$，向量 $d = (-1, -1)^T$ 是一个有效的方向：\n- $d_1 = -1  0$\n- $d_2 = -1  0$\n- $d_1 - d_2 = -1 - (-1) = 0$\n由于存在这样的向量 $d$，MFCQ 的第二个条件也得到满足。我们可以得出结论，MFCQ 在点 $x^* = (0,0)$ 处成立。\n\n步骤 5：找到所要求的特定方向向量。\n问题要求找到具有整数分量且其分量绝对值最小的方向 $d$。\n所有有效整数方向的集合是 $d = (k, k)^T$，其中 $k$ 是一个整数且 $k  0$。即 $k \\in \\{-1, -2, -3, \\dots\\}$。\n分量的绝对值为 $|d_1| = |k|$ 和 $|d_2| = |k|$。为了最小化这些绝对值，我们必须选择最接近 0 的整数 $k  0$。这个整数是 $k = -1$。\n因此，所需的方向向量是 $d = (-1, -1)^T$。\n该向量的分量为 $d_1 = -1$ 和 $d_2 = -1$。分量的绝对值为 $|-1|=1$，这是可能的最小非零整数大小。任何其他选择，例如 $k=-2$，都会导致更大的绝对值。",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n-1  -1\n\\end{pmatrix}\n}\n$$"
        },
        {
            "introduction": "理解一个理论的局限性与其应用同样重要。本练习展示了一个 MFCQ 不成立的经典情景，其原因是有效约束的梯度线性相关。分析这种情况将为您提供深刻的几何直觉，理解为何需要此约束规范，以及何种约束结构会给优化算法带来麻烦。",
            "id": "3146775",
            "problem": "考虑一个由两个变量构成的不等式约束集，其定义为 $g_{1}(x)=x_{1}+x_{2}\\le 0$ 和 $g_{2}(x)=-x_{1}-x_{2}\\le 0$，其中 $x=(x_{1},x_{2})\\in\\mathbb{R}^{2}$。请从基本定义出发：使用可行方向的定义以及 Mangasarian-Fromovitz 约束规范 (MFCQ) 的定义，该规范指出，在一个可行点 $x$ 处，存在一个方向 $d$，使得对于每一个起作用的不等式约束 $i$，都有 $\\nabla g_{i}(x)^{\\top}d  0$。\n\n首先，确定可行集以及在任意可行点处起作用的约束集。然后，仅使用刚才陈述的定义，确定 MFCQ 在一个任意可行点处是否成立，并从几何角度解释原因。为量化严格可行方向的存在与否，定义诊断量\n$$\n\\alpha \\;=\\;\\inf_{\\|d\\|_{2}=1}\\;\\max\\Big\\{\\nabla g_{1}(x)^{\\top}d,\\;\\nabla g_{2}(x)^{\\top}d\\Big\\},\n$$\n该诊断量在满足 $x_{1}+x_{2}=0$ 的任意可行点 $x$ 处进行评估。计算 $\\alpha$ 的精确值。最终答案请以精确实数形式给出（不要四舍五入）。",
            "solution": "此问题要求分析一个由两个不等式约束定义的集合，检验 Mangasarian-Fromovitz 约束规范 (MFCQ) 是否成立，并计算相关的诊断值 $\\alpha$。我们将从基本定义出发，一步一步地进行。\n\n首先，我们确定可行集。该集合由满足两个不等式约束的点 $x = (x_1, x_2) \\in \\mathbb{R}^2$ 定义：\n$g_1(x) = x_1 + x_2 \\le 0$\n$g_2(x) = -x_1 - x_2 \\le 0$\n第二个不等式 $g_2(x) \\le 0$ 等价于 $-(x_1 + x_2) \\le 0$。两边乘以 $-1$ 会反转不等号，得到 $x_1 + x_2 \\ge 0$。\n如果一个点 $x$ 同时满足 $x_1 + x_2 \\le 0$ 和 $x_1 + x_2 \\ge 0$，那么它就是可行的。唯一一个既小于等于零又大于等于零的实数是零。因此，任何可行点都必须满足等式：\n$$x_1 + x_2 = 0$$\n可行集是由该方程描述的平面 $\\mathbb{R}^2$ 中的一条直线。\n\n其次，我们确定在任意可行点处起作用的约束集。一个不等式约束 $g_i(x) \\le 0$ 在可行点 $x$ 处被定义为起作用的，如果 $g_i(x) = 0$。\n设 $x^{\\ast} = (x_1^{\\ast}, x_2^{\\ast})$ 为一个任意可行点。如前所述，$x_1^{\\ast} + x_2^{\\ast} = 0$。\n我们在 $x^{\\ast}$ 处计算约束函数的值：\n$g_1(x^{\\ast}) = x_1^{\\ast} + x_2^{\\ast} = 0$。由于 $g_1(x^{\\ast}) = 0$，第一个约束是起作用的。\n$g_2(x^{\\ast}) = -x_1^{\\ast} - x_2^{\\ast} = -(x_1^{\\ast} + x_2^{\\ast}) = -0 = 0$。由于 $g_2(x^{\\ast}) = 0$，第二个约束也是起作用的。\n因此，对于集合中的任意可行点 $x$，两个约束都是起作用的。起作用约束的索引集是 $I(x) = \\{1, 2\\}$。\n\n第三，我们确定 Mangasarian-Fromovitz 约束规范 (MFCQ) 在任意可行点处是否成立。题目陈述了 MFCQ 的定义：在一个可行点 $x$ 处，存在一个方向 $d \\in \\mathbb{R}^2$，使得对于每个起作用的不等式约束 $i \\in I(x)$，严格不等式 $\\nabla g_i(x)^{\\top}d  0$ 成立。\n我们必须首先计算约束函数的梯度：\n$$ \\nabla g_1(x) = \\begin{pmatrix} \\frac{\\partial}{\\partial x_1}(x_1+x_2) \\\\ \\frac{\\partial}{\\partial x_2}(x_1+x_2) \\end{pmatrix} = \\begin{pmatrix} 1 \\\\ 1 \\end{pmatrix} $$\n$$ \\nabla g_2(x) = \\begin{pmatrix} \\frac{\\partial}{\\partial x_1}(-x_1-x_2) \\\\ \\frac{\\partial}{\\partial x_2}(-x_1-x_2) \\end{pmatrix} = \\begin{pmatrix} -1 \\\\ -1 \\end{pmatrix} $$\n这些梯度是常向量。\n在任意可行点 $x$ 处，两个约束都起作用。为了使 MFCQ 成立，必须存在一个向量 $d = (d_1, d_2)^{\\top}$ 满足两个严格不等式：\n$1.$ $\\nabla g_1(x)^{\\top}d  0 \\implies \\begin{pmatrix} 1  1 \\end{pmatrix} \\begin{pmatrix} d_1 \\\\ d_2 \\end{pmatrix} = d_1 + d_2  0$\n$2.$ $\\nabla g_2(x)^{\\top}d  0 \\implies \\begin{pmatrix} -1  -1 \\end{pmatrix} \\begin{pmatrix} d_1 \\\\ d_2 \\end{pmatrix} = -d_1 - d_2  0$\n第二个不等式可以简化为 $d_1 + d_2 > 0$。\nMFCQ 条件要求找到一个向量 $d$，使其分量之和 $d_1+d_2$ 同时严格为负且严格为正。这是一个逻辑矛盾。这样的向量 $d$ 不可能存在。\n因此，对于此问题，Mangasarian-Fromovitz 约束规范在任何可行点处都不成立。\n\n从几何上看，条件 $\\nabla g_i(x)^{\\top}d  0$ 意味着方向向量 $d$ 必须与梯度向量 $\\nabla g_i(x)$ 形成一个钝角。MFCQ 要求存在一个单一方向 $d$，它与所有起作用约束的梯度都形成钝角。在本题中，梯度为 $\\nabla g_1 = (1, 1)^{\\top}$ 和 $\\nabla g_2 = (-1, -1)^{\\top}$。这两个向量是反平行的，即 $\\nabla g_2 = -\\nabla g_1$。如果一个向量 $d$ 与 $\\nabla g_1$ 形成钝角，则 $\\nabla g_1^{\\top}d  0$。对于同一个向量 $d$，与 $\\nabla g_2$ 的点积将是 $\\nabla g_2^{\\top}d = (-\\nabla g_1)^{\\top}d = -(\\nabla g_1^{\\top}d) > 0$。这对应一个锐角。从几何上讲，$d$ 不可能与两个指向完全相反方向的向量同时形成钝角。$g_1$ 和 $g_2$ 的“改进”方向集是不相交的。这就是 MFCQ 不成立的原因。MFCQ 与起作用约束梯度的线性无关性有关。在这里，梯度是线性相关的 ($1 \\cdot \\nabla g_1 + 1 \\cdot \\nabla g_2 = 0$)，这违反了一个相关的条件，即线性无关约束规范 (LICQ)，在本例中也违反了 MFCQ。\n\n最后，我们计算诊断值 $\\alpha$：\n$$ \\alpha = \\inf_{\\|d\\|_{2}=1} \\max\\Big\\{\\nabla g_{1}(x)^{\\top}d, \\nabla g_{2}(x)^{\\top}d\\Big\\} $$\n这是在可行点 $x$ 处评估的，其中 $x_1+x_2=0$。梯度是恒定的，所以 $x$ 的选择不影响该值。设 $d=(d_1, d_2)^{\\top}$ 是一个向量，使得 $\\|d\\|_2 = \\sqrt{d_1^2 + d_2^2} = 1$。\n点积为：\n$\\nabla g_1(x)^{\\top}d = d_1 + d_2$\n$\\nabla g_2(x)^{\\top}d = -d_1 - d_2$\n将这些代入 $\\alpha$ 的表达式中：\n$$ \\alpha = \\inf_{d_1^2+d_2^2=1} \\max\\{d_1 + d_2, -d_1 - d_2\\} $$\n对于任意实数 $z$，$\\max\\{z, -z\\} = |z|$。因此，表达式简化为：\n$$ \\alpha = \\inf_{d_1^2+d_2^2=1} |d_1 + d_2| $$\n我们正在寻找在 $\\mathbb{R}^2$ 中单位圆上所有点 $(d_1, d_2)$ 上 $|d_1+d_2|$ 的最小值。\n绝对值函数总是非负的，所以 $|d_1+d_2| \\ge 0$。因此，下确界至少为 $0$。我们可以检查值 $0$ 是否可以达到。\n条件 $|d_1+d_2| = 0$ 意味着 $d_1+d_2=0$，或 $d_2 = -d_1$。\n我们需要找到单位圆 $d_1^2+d_2^2=1$ 上是否存在一个点也满足 $d_2 = -d_1$。将此代入圆的方程：\n$d_1^2 + (-d_1)^2 = 1 \\implies 2d_1^2 = 1 \\implies d_1 = \\pm \\frac{1}{\\sqrt{2}}$。\n如果 $d_1 = \\frac{1}{\\sqrt{2}}$，那么 $d_2 = -\\frac{1}{\\sqrt{2}}$。向量是 $d = (\\frac{1}{\\sqrt{2}}, -\\frac{1}{\\sqrt{2}})^{\\top}$。\n如果 $d_1 = -\\frac{1}{\\sqrt{2}}$，那么 $d_2 = \\frac{1}{\\sqrt{2}}$。向量是 $d = (-\\frac{1}{\\sqrt{2}}, \\frac{1}{\\sqrt{2}})^{\\top}$。\n这两个向量都位于单位圆上，并且对于两者，都有 $d_1+d_2=0$。\n因为我们已经在下确界的定义域中找到了使目标函数 $|d_1+d_2|$ 达到值 $0$ 的点，并且由于 $0$ 是绝对值函数可能的最小值，所以下确界是 $0$。\n$$ \\alpha = 0 $$\n$\\alpha=0$ 这一事实为 MFCQ 不成立提供了定量证据。MFCQ 要求存在一个方向 $d$ 使得 $\\max\\{\\nabla g_1^{\\top}d, \\nabla g_2^{\\top}d\\}  0$。如果存在这样的 $d$，将其缩放为单位向量将使得下确界内的表达式的值小于 $0$，从而使 $\\alpha$ 严格为负。由于 $\\alpha=0$，所以不存在这样的方向。",
            "answer": "$$\n\\boxed{0}\n$$"
        },
        {
            "introduction": "从手动验证转向自动化方法是应用优化理论的关键一步。这个问题将指导您把寻找 MFCQ 方向的过程构建为一个线性规划问题，这是计算优化中的一种标准技术。通过求解一个可行“裕度” $\\alpha$，您将为 MFCQ 开发一个鲁棒的算法测试，并将其应用于各种富有洞察力的案例中。",
            "id": "3146872",
            "problem": "考虑一个具有可微约束的等式约束和不等式约束优化问题。设某参考点处的有效不等式约束梯度由矩阵 $G \\in \\mathbb{R}^{m \\times n}$ 的行表示，等式约束梯度由矩阵 $H \\in \\mathbb{R}^{p \\times n}$ 的行表示。Mangasarian-Fromovitz 约束规范 (MFCQ) 指出，在某一点，等式约束梯度必须线性无关，并且必须存在一个方向 $d \\in \\mathbb{R}^n$，该方向与等式约束相切，并严格减小所有有效不等式约束，即分量上满足 $Hd = 0$ 和 $Gd  0$。\n\n从这个定义出发，您的任务是将寻找一个凭证方向 $d$ 和一个统一的负裕度 $\\alpha$ 的过程形式化为一个线性规划问题，其目标是在线性可行性条件下最大化 $\\alpha$。为避免方向 $d$ 的平凡缩放，请将 $d$ 的每个分量约束在一个固定的盒子（box）内。更确切地说，请构建并求解以下线性规划问题：\n$$\n\\max_{\\alpha,\\, d \\in \\mathbb{R}^n} \\ \\alpha \\quad \\text{subject to} \\quad Hd = 0, \\quad Gd \\le -\\alpha \\mathbf{1}, \\quad -1 \\le d_j \\le 1 \\ \\text{for all } j \\in \\{1,\\dots,n\\}.\n$$\n解释：$\\alpha  0$ 表示存在一个方向 $d$（由盒子约束归一化），该方向在保持与等式约束相切的同时，严格减小所有有效不等式约束。此外，MFCQ 要求 $H$ 的行线性无关。因此，当且仅当 $\\alpha^\\star  0$ 且 $H$ 的行秩等于其行数时，才宣告 MFCQ 成立。\n\n实现一个程序，对于每个给定的对 $(G,H)$，求解上述线性规划，计算最优裕度 $\\alpha^\\star$，并根据所述标准输出一个布尔值，指示 MFCQ 是否在该参考点成立。在将 $\\alpha^\\star$ 与零比较时，使用数值公差以考虑求解器的精度。\n\n测试套件：\n对于下面的每个测试用例，维度 $n$ 是 $G$ 和 $H$ 的列数。\n1. 情况 1（正裕度，单个等式）：\n   $$\n   G = \\begin{bmatrix} -1  0 \\\\ 0  -1 \\end{bmatrix}, \\quad\n   H = \\begin{bmatrix} 1  -1 \\end{bmatrix}.\n   $$\n2. 情况 2（由于相切不等式导致裕度为零）：\n   $$\n   G = \\begin{bmatrix} 1  -1 \\\\ -1  -1 \\end{bmatrix}, \\quad\n   H = \\begin{bmatrix} 1  -1 \\end{bmatrix}.\n   $$\n3. 情况 3（由于等式的零空间平凡导致裕度为零）：\n   $$\n   G = \\begin{bmatrix} -1  0 \\\\ 0  -1 \\end{bmatrix}, \\quad\n   H = \\begin{bmatrix} 1  0 \\\\ 0  1 \\end{bmatrix}.\n   $$\n4. 情况 4（三维空间中的正裕度）：\n   $$\n   G = \\begin{bmatrix}\n   -1  2  -1 \\\\\n   -\\tfrac{1}{2}  -\\tfrac{1}{2}  -\\tfrac{1}{2} \\\\\n   0  1  0\n   \\end{bmatrix}, \\quad\n   H = \\begin{bmatrix} 1  0  -1 \\end{bmatrix}.\n   $$\n5. 情况 5（一维空间中的正裕度，无等式约束）：\n   $$\n   G = \\begin{bmatrix} -2 \\end{bmatrix}, \\quad\n   H = \\text{(no rows, i.e., } p=0\\text{)}.\n   $$\n6. 情况 6（一维空间中由于零梯度导致裕度为零）：\n   $$\n   G = \\begin{bmatrix} 0 \\end{bmatrix}, \\quad\n   H = \\text{(no rows, i.e., } p=0\\text{)}.\n   $$\n7. 情况 7（正裕度但等式梯度不独立）：\n   $$\n   G = \\begin{bmatrix} -1  0 \\\\ 0  1 \\end{bmatrix}, \\quad\n   H = \\begin{bmatrix} 1  1 \\\\ 2  2 \\end{bmatrix}.\n   $$\n\n输出规范：\n- 对于每个测试用例，生成对 $[\\alpha^\\star, \\text{MFCQ}]$，其中 $\\alpha^\\star$ 是一个实数（浮点数），$\\text{MFCQ}$ 是按所述方法计算的布尔值。\n- 将所有测试用例的结果聚合为单行打印，形式为用方括号括起来的逗号分隔列表，不含空格，其中每个元素本身是一个包含两个元素的列表。例如，输出格式必须为\n`[[\\alpha_1,MFCQ_1],[\\alpha_2,MFCQ_2],...]`\n其中每个 $\\alpha_i$ 表示为十进制数。",
            "solution": "本任务要求我们判断由梯度矩阵 $G$（有效不等式约束）和 $H$（等式约束）定义的约束集是否满足曼加萨利安-弗罗莫维茨约束规范（MFCQ）。MFCQ由两个条件组成：\n\n1.  **秩条件**：等式约束的梯度（即矩阵 $H \\in \\mathbb{R}^{p \\times n}$ 的行）必须是线性无关的。这等价于检验 $H$ 的秩是否等于其行数 $p$。\n2.  **方向条件**：必须存在一个方向向量 $d \\in \\mathbb{R}^n$，该方向与等式约束所定义的曲面相切（即 $Hd=0$），同时严格指向有效不等式约束所定义的可行域内部（即 $Gd  0$）。\n\n问题的核心在于通过求解一个线性规划（LP）问题来验证方向条件。该LP旨在寻找一个被盒子约束 $-1 \\le d_j \\le 1$ 归一化的方向 $d$ 和一个裕度 $\\alpha$，使得 $Gd$ 的所有分量不仅为负，而且小于或等于 $-\\alpha$。最大化 $\\alpha$ 会尽可能地寻求“最严格为负”的结果。如果此LP的最优值 $\\alpha^\\star$ 严格为正，则满足条件的向量 $d$ 存在。反之，如果 $\\alpha^\\star \\le 0$，则不存在这样的方向。\n\n因此，对每个测试用例 $(G, H)$，我们遵循以下步骤：\n1.  计算矩阵 $H$ 的秩，并将其与行数 $p$ 比较，以验证秩条件。如果 $p=0$，此条件自动满足。\n2.  构建并求解问题中定义的线性规划，以找到最优裕度 $\\alpha^\\star$。\n\n最终，当且仅当秩条件和裕度条件（$\\alpha^\\star > 0$，考虑到数值公差）**同时**满足时，我们判定MFCQ成立。\n\n**线性规划的构建**\n\n给定的LP问题是：\n$$\n\\max_{\\alpha \\in \\mathbb{R},\\, d \\in \\mathbb{R}^n} \\ \\alpha \\quad \\text{s.t.} \\quad Hd = 0, \\quad Gd \\le -\\alpha \\mathbf{1}, \\quad -1 \\le d_j \\le 1.\n$$\n为了使用标准求解器（如 `scipy.optimize.linprog`），我们将其转化为最小化形式 $\\min_{x} c^T x$。\n令优化变量为 $x = [\\alpha, d^T]^T \\in \\mathbb{R}^{n+1}$。\n- **目标函数**: 最大化 $\\alpha$ 等价于最小化 $-\\alpha$。因此，目标向量 $c = [-1, 0, \\dots, 0]^T$。\n- **等式约束**: $Hd = 0$ 变为 $[0_{p \\times 1} \\ H] x = 0_{p \\times 1}$。\n- **不等式约束**: $Gd \\le -\\alpha \\mathbf{1}$ 变为 $Gd + \\alpha \\mathbf{1} \\le 0$，即 $[\\mathbf{1}_{m \\times 1} \\ G] x \\le 0_{m \\times 1}$。\n- **边界**: $\\alpha$ 无界，而 $d$ 的每个分量 $d_j$ 有界于 $[-1, 1]$。\n\n通过为每个测试用例求解此LP并检查 $H$ 的秩，我们可以系统地确定MFCQ是否成立，并得到相应的裕度 $\\alpha^\\star$。",
            "answer": "```json\n[[1.0,True],[0.0,False],[0.0,False],[0.6666666667,True],[2.0,True],[0.0,False],[1.0,False]]\n```"
        }
    ]
}