{
    "hands_on_practices": [
        {
            "introduction": "本练习直击即时码工作的核心：无前缀属性。你将从一个已有的码字集合入手，通过动手实践，为一个新命令寻找一个有效的码字。这个任务将让你深刻理解为什么任何码字都不能是另一个码字的前缀——这是确保即时可解码性的根本约束。",
            "id": "1632857",
            "problem": "一位计算机科学家正在为移动机器人的四个主要命令设计一种自定义二进制编码方案：{UP, DOWN, LEFT, RIGHT}。为确保命令流可以被明确且实时地解码，这组码字必须构成一个即时码。即时码的定义是：没有任何码字是其他任何码字的前缀。\n\n经过一些初步设计，该科学家已将以下二进制码字分配给了其中三个命令：\n- LEFT 的码字是 `01`。\n- DOWN 的码字是 `110`。\n- RIGHT 的码字是 `111`。\n\n可以分配给命令 UP 的二进制码字的最小可能长度是多少，才能使这四个码字的完整集合构成一个有效的即时码？",
            "solution": "即时码是无前缀的：任何已分配的码字都不能是其他任何码字的前缀。给定的码字是 $01$、$110$ 和 $111$。我们寻求剩余码字（用于 UP）的最小可能长度 $L$，以保持无前缀性。\n\n首先，考虑 $L=1$ 是否可能。长度为 $1$ 的二进制字符串只有 $0$ 和 $1$：\n- 如果码字是 $0$，那么 $0$ 将是现有码字 $01$ 的前缀，这违反了无前缀性。\n- 如果码字是 $1$，那么 $1$ 将是现有码字 $110$ 和 $111$ 的前缀，这违反了无前缀性。\n因此，无法添加长度为 $1$ 的码字，所以 $L \\ge 2$。\n\n接下来，验证是否可以添加一个长度为 $2$ 的码字而不违反无前缀性。长度为 $2$ 的二进制字符串有 $00$、$01$、$10$ 和 $11$。其中：\n- $01$ 已被分配。\n- $11$ 不能被分配，因为它是 $110$ 和 $111$ 的前缀，这会违反无前缀性。\n- 考虑 $00$：它既不是 $01$、$110$ 或 $111$ 的前缀，这些码字也不是 $00$ 的前缀，因为它们在前两位内就不同。因此 $00$ 是有效的。\n- 同样地，$10$ 既不是 $01$、$110$ 或 $111$ 的前缀，这些码字也不是 $10$ 的前缀。因此 $10$ 也是有效的。\n\n因此，存在一个 $L=2$ 的有效分配，所以最小可能长度是 $2$。\n\n为完整起见，用于二进制即时码的Kraft不等式指出，对于码字长度 $l_i$，\n$$\n\\sum_{i} 2^{-l_{i}} \\le 1.\n$$\n使用现有的长度 $2,3,3$，总和为 $2^{-2} + 2^{-3} + 2^{-3} = \\frac{1}{2}$。对于长度为 $L$ 的剩余码字，我们需要 $2^{-L} \\le \\frac{1}{2}$，这意味着 $L \\ge 1$。前缀约束排除了 $L=1$ 的情况，并且我们已经展示了 $L=2$ 时的可行选择，从而证实了最小可能长度是 $2$。",
            "answer": "$$\\boxed{2}$$"
        },
        {
            "introduction": "在掌握了基本的前缀规则之后，这个问题将挑战你系统性地思考编码的构建过程。你不再是简单地检查有效性，而是要去确定，对于一组给定的码字长度，可以创建出多少种不同的即时码。这个练习将揭示码字长度、编码树结构以及设计过程中出现的组合可能性之间的深刻联系。",
            "id": "1632866",
            "problem": "正在为一个专用通信信道设计一个数据压缩系统，该信道传输由四个不同符号组成的字母表 $\\Sigma = \\{S_1, S_2, S_3, S_4\\}$ 构成的消息。为了优化传输，工程团队确定分配给这些符号的二进制码字的理想长度应为 $l_1 = 1$，$l_2 = 2$，$l_3 = 3$ 和 $l_4 = 3$，分别对应符号 $S_1, S_2, S_3$ 和 $S_4$。\n\n编码方案必须是即时码，这意味着没有一个码字可以是任何其他码字的前缀。一个编码由为字母表中的每个符号分配一个特定的二进制字符串（码字）来定义。如果至少有一个符号被分配了不同的码字，则认为两个编码是不同的。\n\n计算满足这些长度要求的、可构建的不同二进制即时码的总数。",
            "solution": "我们需要一个具有规定码字长度 $l_{1}=1$，$l_{2}=2$，$l_{3}=3$，$l_{4}=3$ 的二进制即时码（无前缀码）。对于一个二进制即时码，必须满足克拉夫特等式：\n$$\n\\sum_{i=1}^{4}2^{-l_{i}}=2^{-1}+2^{-2}+2^{-3}+2^{-3}=\\frac{1}{2}+\\frac{1}{4}+\\frac{1}{8}+\\frac{1}{8}=1.\n$$\n由于总和等于1，可以构建一个完全利用所有容量的满二叉前缀树，并且编码的结构在每个阶段都是唯一受限的。\n\n用一棵二叉树来表示该编码，树根深度为0，叶子节点的深度等于码字长度。长度为1的码字必须是根节点的两个子节点之一：有2种选择，即0或1。一旦选择了一个长度为1的叶子节点（假设为 $b \\in \\{0,1\\}$），任何其他码字都不能以 $b$ 开头，因此所有剩余的码字都必须位于另一个根子节点（记为 $\\bar{b}$）下的子树中。\n\n在 $\\bar{b}$ 下的子树中，我们必须放置一个长度为2的码字和两个长度为3的码字。从根节点出发且以 $\\bar{b}$ 开头的唯一可能的长度为2的码字是该子树中深度为2的两个节点，即 $\\bar{b}0$ 和 $\\bar{b}1$。我们必须从这两个中选择一个作为长度为2的码字：有2种选择。一旦做出这个选择，所选的深度为2的节点下的子树由于无前缀约束而被阻塞，因此两个长度为3的码字必须恰好是另一个深度为2的节点下的深度为3的两个叶子节点。因此，对于长度为1的码字和长度为2的码字的每一种选择，长度为3的码字都是确定的。\n\n因此，具有长度多重集 $\\{1,2,3,3\\}$ 的不同码字集的数量为 $2 \\times 2=4$。\n\n最后，符号被赋予了固定的长度：$S_{1}$ 必须使用唯一的长度为1的码字，$S_{2}$ 必须使用所选集合中唯一的长度为2的码字，而 $S_{3},S_{4}$ 必须使用两个不同的长度为3的码字。由于 $S_{3}$ 和 $S_{4}$ 可以通过 $2! = 2$ 种方式分配给这两个不同的长度为3的码字，因此每个码字集在符号分配下产生2个不同的编码。\n\n因此，满足给定长度要求的不同二进制即时码的总数为\n$$\n4 \\times 2 = 8.\n$$",
            "answer": "$$\\boxed{8}$$"
        },
        {
            "introduction": "现实世界中的编码优化目标往往不只是长度；传输不同二进制符号（如 '0' 和 '1'）的成本也可能不同。本题引入了这样一个情景，让你超越标准的哈夫曼编码，进入一个更普适的优化任务。你需要设计一种编码，以最小化每个源符号的期望*成本*，这将促使你调整对最优编码构建的理解，以适应这一全新的实用约束。",
            "id": "1632839",
            "problem": "一个离散无记忆信源从字母表 $\\mathcal{A} = \\{A, B, C\\}$ 中发出符号，其概率分别为 $P(A) = \\frac{1}{2}$，$P(B) = \\frac{1}{3}$ 和 $P(C) = \\frac{1}{6}$。这些符号需要使用即时码编码成一个二进制数字 $\\{0, 1\\}$ 序列。这些二进制数字的传输会产生一个成本：发送一个 '0' 的成本是 1 个单位，而发送一个 '1' 的成本是 2 个单位。编码一个信源符号的成本是其对应码字中二进制数字成本的总和。你的任务是设计一个最优的即时二进制码，以最小化每个信源符号的期望成本。每个信源符号的最小可能期望成本是多少？",
            "solution": "设发送一个二进制数字的成本为 $c(0)=1$ 和 $c(1)=2$。一个码字的成本是其各位数字成本的总和。一个即时二进制码对应于一个二叉前缀树，其中每个内部节点恰好有两个子节点；否则，如果一个内部节点只有一个子节点，删除那条边将严格降低其下所有叶节点的成本，而不影响无前缀性，这与最优性相矛盾。\n\n对于三个信源符号，任何完满二叉前缀树都必须恰好有三个叶节点和两个内部节点。因此，唯一可能的树形是：\n- 根节点的 $1$-边指向一个叶节点（成本为 $2$），根节点的 $0$-边指向一个内部节点，其两个子节点是标记为 `00` 和 `01` 的叶节点，成本分别为 $1+1=2$ 和 $1+2=3$。可用码字成本的多重集是 $\\{2,2,3\\}$。\n- 根节点的 $0$-边指向一个叶节点（成本为 $1$），根节点的 $1$-边指向一个内部节点，其两个子节点是标记为 `10` 和 `11` 的叶节点，成本分别为 $2+1=3$ 和 $2+2=4$。可用码字成本的多重集是 $\\{1,3,4\\}$。\n\n为了最小化期望成本 $\\sum_{i} p_{i} \\cdot \\text{cost}_{i}$，应将最大的概率分配给最小的成本。\n\n情况 1（成本为 $\\{2,2,3\\}$）：将概率 $\\frac{1}{2}$ 和 $\\frac{1}{3}$ 分配给成本 $2$，将概率 $\\frac{1}{6}$ 分配给成本 $3$。那么\n$$\nL_{1} = 2\\left(\\frac{1}{2}+\\frac{1}{3}\\right) + 3\\cdot\\frac{1}{6} = 2\\cdot\\frac{5}{6} + \\frac{1}{2} = \\frac{10}{6} + \\frac{3}{6} = \\frac{13}{6}.\n$$\n\n情况 2（成本为 $\\{1,3,4\\}$）：将概率 $\\frac{1}{2}$ 分配给成本 $1$，将概率 $\\frac{1}{3}$ 分配给成本 $3$，将概率 $\\frac{1}{6}$ 分配给成本 $4$。那么\n$$\nL_{2} = 1\\cdot\\frac{1}{2} + 3\\cdot\\frac{1}{3} + 4\\cdot\\frac{1}{6} = \\frac{1}{2} + 1 + \\frac{2}{3} = \\frac{3}{6} + \\frac{6}{6} + \\frac{4}{6} = \\frac{13}{6}.\n$$\n\n由于这些是具有三个叶节点的唯一可能的完满二叉前缀树结构，并且在每种结构中我们都已最优地分配了概率，因此每个信源符号可实现的最小期望成本是 $\\frac{13}{6}$。",
            "answer": "$$\\boxed{\\frac{13}{6}}$$"
        }
    ]
}