{
    "hands_on_practices": [
        {
            "introduction": "要真正掌握算术编码，第一步是亲手实践其核心的迭代过程。这个练习将引导您为一个给定的符号序列逐步计算最终的编码区间。通过这个过程，您将直观地看到，序列中的每个符号是如何根据其概率，在前一个区间的基础上，将其进一步“缩放”和“定位”到一个更小的子区间内的。",
            "id": "1619687",
            "problem": "考虑一个无记忆信源，它从字母表 $\\mathcal{S} = \\{A, B, C\\}$ 中生成符号。每个符号的出现概率为 $P(A) = 0.6$，$P(B) = 0.3$ 和 $P(C) = 0.1$。您的任务是使用算术编码算法对符号序列“BCA”进行编码。初始编码区间为 $[0, 1)$。请确定代表整个序列的最终区间 $[L_{\\text{final}}, H_{\\text{final}})$。将最终下界 $L_{\\text{final}}$ 和最终上界 $H_{\\text{final}}$ 表示为分数。",
            "solution": "该问题要求在给定信源具有特定概率的情况下，对序列“BCA”应用算术编码后的最终区间。我们从初始区间 $[L_0, H_0) = [0, 1)$ 开始。\n\n首先，我们需要为字母表 $\\mathcal{S} = \\{A, B, C\\}$ 中的符号建立累积概率分布。我们将字母表排序为 (A, B, C)。每个符号的概率是 $P(A) = 0.6$，$P(B) = 0.3$ 和 $P(C) = 0.1$。\n\n累积概率函数，我们记为 $F(s)$，它给出在定义的顺序中所有在 $s$ 之前的符号的概率之和。每个符号的范围将是 $[0, 1)$ 的一个子区间，其宽度等于其概率。\n-   符号 A：范围对应于 $[F(A), F(A)+P(A)) = [0, 0.6)$。因此，$F(A)=0$。\n-   符号 B：范围对应于 $[F(B), F(B)+P(B)) = [0.6, 0.6+0.3) = [0.6, 0.9)$。因此，$F(B)=0.6$。\n-   符号 C：范围对应于 $[F(C), F(C)+P(C)) = [0.9, 0.9+0.1) = [0.9, 1.0)$。因此，$F(C)=0.9$。\n\n让我们将这些概率和累积概率表示为分数：\n$P(A) = \\frac{6}{10}$，$P(B) = \\frac{3}{10}$，$P(C) = \\frac{1}{10}$。\n$F(A) = 0$，$F(B) = \\frac{6}{10}$，$F(C) = \\frac{9}{10}$。\n\n算术编码算法对序列中的每个符号迭代更新区间 $[L, H)$。更新规则是：\n$L_{k+1} = L_k + (H_k - L_k) \\times F(s_{k+1})$\n$H_{k+1} = L_k + (H_k - L_k) \\times (F(s_{k+1}) + P(s_{k+1}))$\n其中 $s_{k+1}$ 是正在编码的第 $(k+1)$ 个符号。\n\n**步骤 1：编码第一个符号 'B'**\n初始区间是 $[L_0, H_0) = [0, 1)$。区间宽度是 $W_0 = H_0 - L_0 = 1$。\n要编码的符号是 'B'。我们使用 $F(B) = \\frac{6}{10}$ 和 $P(B) = \\frac{3}{10}$。\n\n$L_1 = L_0 + W_0 \\times F(B) = 0 + 1 \\times \\frac{6}{10} = \\frac{6}{10}$。\n$H_1 = L_0 + W_0 \\times (F(B) + P(B)) = 0 + 1 \\times \\left(\\frac{6}{10} + \\frac{3}{10}\\right) = \\frac{9}{10}$。\n\n编码 'B' 后，新区间是 $[L_1, H_1) = \\left[\\frac{6}{10}, \\frac{9}{10}\\right)$。\n\n**步骤 2：编码第二个符号 'C'**\n当前区间是 $[L_1, H_1) = \\left[\\frac{6}{10}, \\frac{9}{10}\\right)$。宽度是 $W_1 = H_1 - L_1 = \\frac{9}{10} - \\frac{6}{10} = \\frac{3}{10}$。\n要编码的符号是 'C'。我们使用 $F(C) = \\frac{9}{10}$ 和 $P(C) = \\frac{1}{10}$。\n\n$L_2 = L_1 + W_1 \\times F(C) = \\frac{6}{10} + \\frac{3}{10} \\times \\frac{9}{10} = \\frac{6}{10} + \\frac{27}{100} = \\frac{60}{100} + \\frac{27}{100} = \\frac{87}{100}$。\n$H_2 = L_1 + W_1 \\times (F(C) + P(C)) = \\frac{6}{10} + \\frac{3}{10} \\times \\left(\\frac{9}{10} + \\frac{1}{10}\\right) = \\frac{6}{10} + \\frac{3}{10} \\times 1 = \\frac{6}{10} + \\frac{3}{10} = \\frac{9}{10}$。\n\n编码 'C' 后，新区间是 $[L_2, H_2) = \\left[\\frac{87}{100}, \\frac{9}{10}\\right) = \\left[\\frac{87}{100}, \\frac{90}{100}\\right)$。\n\n**步骤 3：编码第三个符号 'A'**\n当前区间是 $[L_2, H_2) = \\left[\\frac{87}{100}, \\frac{90}{100}\\right)$。宽度是 $W_2 = H_2 - L_2 = \\frac{90}{100} - \\frac{87}{100} = \\frac{3}{100}$。\n要编码的符号是 'A'。我们使用 $F(A) = 0$ 和 $P(A) = \\frac{6}{10}$。\n\n$L_{\\text{final}} = L_2 + W_2 \\times F(A) = \\frac{87}{100} + \\frac{3}{100} \\times 0 = \\frac{87}{100}$。\n$H_{\\text{final}} = L_2 + W_2 \\times (F(A) + P(A)) = \\frac{87}{100} + \\frac{3}{100} \\times \\left(0 + \\frac{6}{10}\\right) = \\frac{87}{100} + \\frac{18}{1000} = \\frac{870}{1000} + \\frac{18}{1000} = \\frac{888}{1000}$。\n\n编码序列“BCA”后的最终区间是 $\\left[\\frac{87}{100}, \\frac{888}{1000}\\right)$。\n\n问题要求将边界表示为分数。我们可以化简上界：\n$L_{\\text{final}} = \\frac{87}{100}$。该分数不可约分，因为 87 = 3 * 29 且 100 = 2^2 * 5^2。\n$H_{\\text{final}} = \\frac{888}{1000} = \\frac{444}{500} = \\frac{222}{250} = \\frac{111}{125}$。\n\n所以，最终区间是 $\\left[\\frac{87}{100}, \\frac{111}{125}\\right)$。",
            "answer": "$$\\boxed{\\begin{pmatrix} \\frac{87}{100}  \\frac{111}{125} \\end{pmatrix}}$$"
        },
        {
            "introduction": "在掌握了基本的计算方法后，让我们来探索一个更深层次的概念问题。这个练习  将引导我们思考符号的概率大小和它们在序列中出现的顺序，如何共同决定最终编码区间在数轴上的位置。这种分析有助于我们建立对算术编码工作原理的直观理解，而不仅仅是机械地套用公式。",
            "id": "1633340",
            "problem": "在算术编码中，一个符号序列被映射到区间 $[0, 1)$ 的一个子区间。本题探讨符号序列中的符号顺序如何影响最终区间的位置。\n\n考虑一个字母表 $\\mathcal{A} = \\{X, Y, Z\\}$，其对应符号的出现概率分别为 $P(X)$、$P(Y)$ 和 $P(Z)$，且均为正数。已知关系 $P(X) > P(Y) > P(Z)$ 成立，并且 $P(X) + P(Y) + P(Z) = 1$。\n\n编码过程定义如下：\n1.  初始区间为 $[0, 1)$。\n2.  根据固定的字母顺序（X，然后 Y，然后 Z），将区间划分为对应每个符号的子区间。\n    - X 的子区间是 $[0, P(X))$。\n    - Y 的子区间是 $[P(X), P(X)+P(Y))$。\n    - Z 的子区间是 $[P(X)+P(Y), 1)$。\n3.  对于输入序列中的每个符号，当前区间被更新为其对应的子区间，并进行适当的缩放和移位。具体来说，如果当前区间为 $[L, U)$，宽度为 $W = U-L$，处理符号 $s$ 会将区间更新为 $[L', U')$，其中：\n    - $L' = L + W \\cdot C(s)$\n    - $U' = L + W \\cdot (C(s) + P(s))$\n    其中 $C(s)$ 是在固定的字母顺序中排在 $s$ 之前的所有符号的累积概率（即，$C(X)=0$，$C(Y)=P(X)$，$C(Z)=P(X)+P(Y)$）。\n\n考虑两个三符号序列：'XYZ' 和 'ZYX'。通过应用所述的算术编码算法，每个序列都被映射到一个最终区间。这两个序列中，哪一个得到的最终区间的下界更大？\n\nA. 序列 'XYZ'\n\nB. 序列 'ZYX'\n\nC. 下界相等。\n\nD. 关系取决于概率 $P(X)$、$P(Y)$ 和 $P(Z)$ 的具体数值。",
            "solution": "这个问题可以通过分析序列中第一个符号对初始区间 $[0, 1)$ 的影响来解决，而无需进行完整的代数计算。\n\n设 $p_X=P(X)$, $p_Y=P(Y)$, $p_Z=P(Z)$。根据题意，我们有 $p_X > p_Y > p_Z > 0$ 且 $p_X+p_Y+p_Z=1$。\n符号的累积概率（即子区间的起始点）是 $C(X)=0$, $C(Y)=p_X$, $C(Z)=p_X+p_Y$。\n\n**对于序列 'XYZ'：**\n1.  编码第一个符号 'X'。\n2.  初始区间 $[0, 1)$ 被映射到 'X' 对应的子区间，即 $[C(X), C(X)+p_X) = [0, p_X)$。\n3.  序列中所有后续符号 ('Y' 和 'Z') 的编码都将在这个新区间 $[0, p_X)$ 内进行进一步的划分。\n4.  因此，序列 'XYZ' 的最终区间的下界 $L_{\\text{XYZ}}$ 必然小于 $p_X$。\n\n**对于序列 'ZYX'：**\n1.  编码第一个符号 'Z'。\n2.  初始区间 $[0, 1)$ 被映射到 'Z' 对应的子区间，即 $[C(Z), C(Z)+p_Z) = [p_X+p_Y, p_X+p_Y+p_Z) = [p_X+p_Y, 1)$。\n3.  序列中所有后续符号 ('Y' 和 'X') 的编码都将在这个新区间 $[p_X+p_Y, 1)$ 内进行进一步的划分。\n4.  因此，序列 'ZYX' 的最终区间的下界 $L_{\\text{ZYX}}$ 必然大于或等于 $p_X+p_Y$。\n\n**比较：**\n我们已经确定：\n-   $L_{\\text{XYZ}}  p_X$\n-   $L_{\\text{ZYX}} \\ge p_X+p_Y$\n\n因为 $p_Y$ 是一个正数，所以 $p_X+p_Y > p_X$。\n综合来看，我们得到 $L_{\\text{ZYX}} > L_{\\text{XYZ}}$。\n\n这个结论源于一个普遍原则：在算术编码中，源符号序列的字典序（lexicographical order）与它们所对应的编码区间的数值顺序是一致的。由于字母表顺序是 X, Y, Z，序列 'ZYX' 在字典序上大于 'XYZ'，因此其编码区间的数值也更大（即，更靠右），其下界也更大。因此，序列 'ZYX' 产生更大的最终下界。",
            "answer": "$$\\boxed{B}$$"
        },
        {
            "introduction": "算术编码在理论上将一个序列映射到一个精确的实数区间，但在实际应用中，我们必须用有限的二进制位来表示这个区间。这个练习  恰好解决了这个从理论到实践的关键一步。它要求我们找到能够唯一标识最终编码区间的、最短的二进制小数，从而将抽象的数学区间转化为可传输的比特流。",
            "id": "1602898",
            "problem": "一个简单的天气模型为一个遥远的星球每天生成两种状态之一：‘晴天’（C）或‘风暴’（S）。根据长期数据，‘晴天’的概率为 $P(C) = 2/3$，‘风暴’天的概率为 $P(S) = 1/3$。为了节省带宽，使用一种编码方案将天气状态序列压缩成一个单一的二进制数。\n\n该方案的工作方式如下：\n1.  从实数区间 $[0, 1)$ 开始。\n2.  对于序列中的第一个观测值，根据可能的状态（按字母顺序排列：‘Clear’、‘Storm’）将当前区间划分为子区间。每个子区间的大小与该状态的概率成正比。\n3.  选择与观测状态对应的子区间。这成为新的当前区间。\n4.  对序列中每个后续的观测值重复步骤2和3。\n\n最终编码的消息必须是一个作为前缀码的二进制分数。这意味着与二进制分数对应的二进区间（例如，分数 $0.101$ 对应于区间 $[0.101_2, 0.110_2) = [5/8, 6/8)$）必须完全包含在通过编码方案计算出的最终区间内。\n\n对于一个观测到的两天序列‘晴天’然后‘风暴’，确定可以用作编码消息的最短可能二进制分数（例如，0.1, 0.01, 0.110）。",
            "solution": "问题要求能唯一编码序列‘晴天’-‘风暴’（CS）的最短二进制分数。我们首先需要使用所述的算术编码过程来确定与此序列对应的最终区间。\n\n设字母表按字母顺序排列：(C, S)。给定的概率为 $P(C) = 2/3$ 和 $P(S) = 1/3$。\n\n**步骤1：处理第一个符号‘C’。**\n初始区间为 $[L_0, H_0) = [0, 1)$。该区间的宽度为 $W_0 = H_0 - L_0 = 1$。\n我们根据 C 和 S 的概率划分这个区间。\n‘C’的子区间是 $[L_0, L_0 + P(C) \\times W_0)$，即 $[0, 0 + (2/3) \\times 1) = [0, 2/3)$。\n‘S’的子区间是 $[L_0 + P(C) \\times W_0, H_0)$，即 $[2/3, 1)$。\n由于第一个符号是‘C’，新的区间是 $[L_1, H_1) = [0, 2/3)$。\n\n**步骤2：处理第二个符号‘S’。**\n当前区间是 $[L_1, H_1) = [0, 2/3)$。该区间的宽度为 $W_1 = H_1 - L_1 = 2/3$。\n我们为第二个符号划分这个新区间。\n‘C’的子区间是 $[L_1, L_1 + P(C) \\times W_1) = [0, 0 + (2/3) \\times (2/3)) = [0, 4/9)$。\n‘S’的子区间是 $[L_1 + P(C) \\times W_1, H_1) = [0 + (2/3) \\times (2/3), 2/3) = [4/9, 2/3)$。\n由于第二个符号是‘S’，序列‘CS’的最终区间是 $[L_{final}, H_{final}) = [4/9, 2/3)$。\n\n**步骤3：找到前缀码的最短二进制分数。**\n最终区间是 $[4/9, 2/3)$。用十进制表示，这大约是 $[0.444..., 0.666...)$。\n我们需要找到最短的二进制分数，我们称之为 $T = (0.b_1b_2...b_k)_2$，使得它所代表的二进区间 $[T, T + 2^{-k})$ 完全包含在 $[4/9, 2/3)$ 内。\n\n让我们测试递增的长度 $k$。\n\n对于 $k=1$：\n可能的二进区间是 $[0, 1/2)$ 和 $[1/2, 1)$。\n两者都没有完全包含在 $[4/9, 2/3) \\approx [0.444, 0.667)$ 内。例如，$[1/2, 1)$ 的上界是 1，大于 $2/3$。\n\n对于 $k=2$：\n二进区间的宽度为 $2^{-2} = 1/4$。它们是 $[0, 1/4)$, $[1/4, 1/2)$, $[1/2, 3/4)$ 和 $[3/4, 1)$。\n我们来检查区间 $[1/2, 3/4) = [0.5, 0.75)$。\n下界 $1/2 = 0.5$ 大于 $4/9 \\approx 0.444$。所以 $1/2$ 在最终区间内。\n上界 $3/4 = 0.75$ 大于 $2/3 \\approx 0.667$。所以这个二进区间没有完全包含在最终区间内。没有其他2位二进区间是候选者。\n\n对于 $k=3$：\n二进区间的宽度为 $2^{-3} = 1/8 = 0.125$。\n我们来检查目标范围 $[0.444..., 0.667...)$ 附近的二进区间。\n从 $0.5$ 开始的区间是一个很好的候选者。这对应于二进制前缀‘100’，所以分数是 $T = (0.100)_2 = 1/2 = 4/8$。\n二进区间是 $[(0.100)_2, (0.100)_2 + 2^{-3}) = [1/2, 1/2 + 1/8) = [4/8, 5/8) = [0.5, 0.625)$。\n我们来检查这个区间是否包含在 $[4/9, 2/3)$ 内：\n- 检查下界：$4/9 \\le 1/2$ 是否成立？是的，因为 $8 \\le 9$。\n- 检查上界：$5/8  2/3$ 是否成立？是的，因为 $15  16$。\n两个条件都满足。二进区间 $[1/2, 5/8)$ 完全包含在 $[4/9, 2/3)$ 内。\n\n既然我们找到了一个长度为3的有效前缀码，并且我们证明了不存在长度为1或2的码，那么最短可能的前缀码必须有3位长。具体的前缀是‘100’。\n与这个最短前缀对应的二进制分数是 $(0.100)_2$。\n\n因此，满足前缀码条件的最短二进制分数是 $0.100$。注意，虽然其值是 $0.5$，但表示必须用三位来表明它是一个3位的前缀码，以区别于不足的1位前缀‘1’（代表 $0.1_2$）或2位前缀‘10’（代表 $0.10_2$）。",
            "answer": "$$\\boxed{0.100}$$"
        }
    ]
}