{
    "hands_on_practices": [
        {
            "introduction": "为了理解通信系统在时变信道下的性能，我们通常从简单的模型入手。本练习探讨了一个基础的“开/关”（ON/OFF）信道模型，它捕捉了连接时断时续的本质。 你将计算两个关键的性能指标——遍历容量 $C_{\\text{ergodic}}$ 和中断容量 $C_{\\text{out}}(\\epsilon)$——从而了解我们如何为能够进行长时间平均的系统，以及那些需要持续最低数据速率的系统量化性能。这种直接的对比将巩固你对这两种不同信道容量定义的理解。",
            "id": "1622197",
            "problem": "考虑一个无线通信信道，该信道可以建模为具有两种可能状态的块衰落信道。在任何给定的传输块中，信道处于“ON”（开启）状态或“OFF”（关闭）状态。\n\n信道输出 $y$ 与信道输入 $x$ 通过方程 $y = hx + n$ 相关联，其中 $h$ 是复信道系数，$n$ 是表示加性高斯白噪声（AWGN）的随机变量，其均值为零，方差为 $N_0$。发射机使用平均功率 $P$。我们将信道带宽归一化为1赫兹，因此所有容量结果都应以比特/秒/赫兹（bits/s/Hz）表示。\n\n信道的状态由其功率增益 $|h|^2$ 描述，其特征如下：\n-   **ON 状态**：信道具有恒定的功率增益 $|h|^2 = G$，其中 $G > 0$。此状态以概率 $p$ 发生。\n-   **OFF 状态**：信道处于深度衰落，功率增益为 $|h|^2 = 0$。此状态以概率 $1-p$ 发生。\n\n接收机对信道状态有完美的了解（即，它知道每个块的信道是“ON”还是“OFF”），但发射机不知道。\n\n您的任务是确定该信道的两个关键性能指标：遍历容量 $C_{\\text{ergodic}}$ 和给定中断概率阈值 $\\epsilon$ 下的 $\\epsilon$-中断容量 $C_{\\text{out}}(\\epsilon)$。\n\n请以参数 $P$、$N_0$、$G$、$p$ 和 $\\epsilon$ 的符号表达式形式给出您的最终答案。您可以使用赫维赛德阶跃函数（Heaviside step function）$H(x)$，其定义为当 $x \\ge 0$ 时 $H(x) = 1$，当 $x  0$ 时 $H(x) = 0$。以行矩阵 $[C_{\\text{ergodic}}, C_{\\text{out}}(\\epsilon)]$ 的形式提供结果。",
            "solution": "我们给定一个具有两种状态的块衰落信道，并且仅在接收端有信道状态信息（CSIR）。输入-输出关系为 $y = h x + n$，其中 $n$ 是均值为零、方差为 $N_{0}$ 的加性高斯白噪声（AWGN），并且有平均发射功率约束 $P$。带宽被归一化为1赫兹，因此容量单位为比特/秒/赫兹。\n\n对于信道系数 $h$ 的一个固定实现，其中 $|h|^{2}$ 表示功率增益，每次信道使用时的瞬时互信息（假设输入为功率为 $P$ 的高斯分布，这对于AWGN信道是最优的，并且由于发射端没有信道状态信息（CSIT）而使用恒定功率，因此在此处采用）为\n$$\nI(h) = \\log_{2}\\!\\left(1 + \\frac{|h|^{2} P}{N_{0}}\\right).\n$$\n\n在这个 ON/OFF 模型中：\n- ON 状态：$|h|^{2} = G$，概率为 $p$，\n- OFF 状态：$|h|^{2} = 0$，概率为 $1-p$。\n\n遍历容量 $C_{\\text{ergodic}}$ 是瞬时互信息在（衰落上的）期望值：\n$$\nC_{\\text{ergodic}} = \\mathbb{E}\\!\\left[\\log_{2}\\!\\left(1 + \\frac{|h|^{2} P}{N_{0}}\\right)\\right].\n$$\n使用这个两点分布，\n$$\nC_{\\text{ergodic}} = p \\log_{2}\\!\\left(1 + \\frac{G P}{N_{0}}\\right) + (1-p) \\log_{2}\\!\\left(1 + \\frac{0 \\cdot P}{N_{0}}\\right)\n= p \\log_{2}\\!\\left(1 + \\frac{G P}{N_{0}}\\right),\n$$\n因为 $\\log_{2}(1) = 0$。\n\n对于 $\\epsilon$-中断容量 $C_{\\text{out}}(\\epsilon)$，我们将目标速率 $R$ 的中断概率定义为\n$$\nP_{out}(R) = \\Pr\\!\\left\\{ \\log_{2}\\!\\left(1 + \\frac{|h|^{2} P}{N_{0}}\\right)  R \\right\\}.\n$$\n给定两种状态：\n- 在 OFF 状态下，$I=0$。因此对于任何 $R > 0$，OFF 状态都会导致中断。\n- 在 ON 状态下，$I = \\log_{2}\\!\\left(1 + \\frac{G P}{N_{0}}\\right) \\triangleq C_{\\text{ON}}$。\n\n因此，\n- 如果 $R \\le 0$，那么 $P_{out}(R) = 0$，因为总是 $I \\ge 0$。\n- 如果 $0  R \\le C_{\\text{ON}}$，那么 $P_{out}(R) = 1 - p$（只有 OFF 状态导致中断）。\n- 如果 $R > C_{\\text{ON}}$，那么 $P_{out}(R) = 1$（两种状态都处于中断）。\n\n根据定义，\n$$\nC_{out}(\\epsilon) = \\sup\\{ R \\ge 0 : P_{out}(R) \\le \\epsilon \\}.\n$$\n从 $P_{out}(R)$ 的分段行为来看：\n- 如果 $\\epsilon  1 - p$，最大可行的非负 $R$ 是 $R=0$，因此 $C_{out}(\\epsilon) = 0$。\n- 如果 $\\epsilon \\ge 1 - p$（在通常 $\\epsilon  1$ 的情况下），最大可行的 $R$ 是 $R = C_{\\text{ON}} = \\log_{2}\\!\\left(1 + \\frac{G P}{N_{0}}\\right)$。\n\n这个分段结果可以使用赫维赛德阶跃函数 $H(\\cdot)$ 紧凑地写为\n$$\nC_{out}(\\epsilon) = \\log_{2}\\!\\left(1 + \\frac{G P}{N_{0}}\\right) \\, H\\!\\left(\\epsilon - (1 - p)\\right).\n$$\n\n按要求收集两个指标，我们得到\n$$\nC_{ergodic} = p \\log_{2}\\!\\left(1 + \\frac{G P}{N_{0}}\\right), \\quad\nC_{out}(\\epsilon) = \\log_{2}\\!\\left(1 + \\frac{G P}{N_{0}}\\right) \\, H\\!\\left(\\epsilon - (1 - p)\\right).\n$$",
            "answer": "$$\\boxed{\\begin{pmatrix} p \\log_{2}\\!\\left(1 + \\frac{G P}{N_{0}}\\right)  \\log_{2}\\!\\left(1 + \\frac{G P}{N_{0}}\\right) H\\!\\left(\\epsilon - (1 - p)\\right) \\end{pmatrix}}$$"
        },
        {
            "introduction": "从理论分析转向实际的工程设计，这个问题将让你扮演系统设计师的角色。对于许多实时应用而言，仅仅知道平均性能是不够的；我们需要保证特定的服务质量（Quality of Service, QoS）。 本练习运用中断容量的概念来解决一个实际的设计问题：确定为保证无线链路满足严格的可靠性目标所需的最小信噪比 $\\rho$。通过解决这个问题，你将学会如何将性能要求转化为具体的工程参数。",
            "id": "1622228",
            "problem": "考虑一个简化的无线通信信道模型，该模型代表一个经历严重信号阻塞的物联网（IoT）传感器。该信道被称为二元分组衰落信道，具有两种截然不同的状态：“ON”状态和“OFF”状态。\n\n在“ON”状态下，其发生概率为 $p_{ON} = 0.9$，信号路径清晰，信道功率增益为常数 $|h|^2 = 4$。\n在“OFF”状态下，其发生概率为 $p_{OFF} = 0.1$，信号路径完全受阻，信道功率增益为 $|h|^2 = 0$。\n\n该信道的瞬时频谱效率（单位带宽容量）由公式 $C = \\log_2(1 + \\rho |h|^2)$ 描述，单位为 bit/s/Hz。此处，$\\rho$ 是标称信噪比（SNR），一个无量纲量，表示发射功率与信道带宽内噪声功率密度之比。\n\n如果瞬时容量 $C$ 低于所需的目标速率 $R$，则称发生“中断”。为使系统可靠，中断概率不得超过某一阈值。\n\n该通信系统设计用于支持 $R = 1.5$ bit/s/Hz 的目标速率。为确保一定的服务质量（QoS），中断概率不得超过 $10\\%$。请确定满足此性能要求所需的最小标称信噪比 $\\rho$。您的答案应为一个闭式解析表达式。",
            "solution": "问题要求计算，在中断概率 $P_{\\text{out}}$ 不超过 $10\\%$（即 $0.1$）的条件下，支持目标数据速率 $R = 1.5$ bit/s/Hz 所需的最小标称信噪比（SNR）$\\rho$。\n\n首先，我们将中断条件形式化。当瞬时容量 $C$ 小于目标速率 $R$ 时，发生中断。\n$$C  R$$\n代入给定的 $C$ 和 $R$ 表达式：\n$$\\log_2(1 + \\rho |h|^2)  1.5$$\n为了解出信道增益 $|h|^2$，我们可以对两边取以 2 为底的指数：\n$$1 + \\rho |h|^2  2^{1.5}$$\n$$1 + \\rho |h|^2  2^{3/2} = (\\sqrt{2})^3 = 2\\sqrt{2}$$\n现在，我们分离出包含 $|h|^2$ 的项：\n$$\\rho |h|^2  2\\sqrt{2} - 1$$\n$$|h|^2  \\frac{2\\sqrt{2} - 1}{\\rho}$$\n这个不等式定义了导致中断的信道功率增益条件。\n\n接下来，我们计算中断概率 $P_{\\text{out}}$。中断概率是上述不等式所定义的事件发生的概率。\n$$P_{\\text{out}} = \\text{Pr}\\left(|h|^2  \\frac{2\\sqrt{2} - 1}{\\rho}\\right)$$\n信道有两种状态，我们分别进行分析：\n1.  **“OFF”状态：** $|h|^2 = 0$。此状态以概率 $p_{OFF} = 0.1$ 发生。我们检查此状态是否会导致中断：\n    $$0  \\frac{2\\sqrt{2} - 1}{\\rho}$$\n    由于 $\\rho$ 是一个物理量（信噪比），它必须是正数。同时，$2\\sqrt{2} - 1 \\approx 2(1.414) - 1 = 1.828 > 0$。因此，右侧为正数。不等式 $0  \\frac{2\\sqrt{2} - 1}{\\rho}$ 总是成立的。因此，“OFF”状态总是导致中断。\n\n2.  **“ON”状态：** $|h|^2 = 4$。此状态以概率 $p_{ON} = 0.9$ 发生。我们检查此状态是否会导致中断：\n    $$4  \\frac{2\\sqrt{2} - 1}{\\rho}$$\n    此条件取决于 $\\rho$ 的值。如果该不等式成立，“ON”状态也会导致中断。\n\n总中断概率是所有导致中断的状态的概率之和。我们可以使用指示函数 $I(\\cdot)$ 来表示，当其参数为真时，该函数值为 1，否则为 0。\n$$P_{\\text{out}} = p_{OFF} \\cdot \\text{Pr}(\\text{中断} | \\text{OFF 状态}) + p_{ON} \\cdot \\text{Pr}(\\text{中断} | \\text{ON 状态})$$\n$$P_{\\text{out}} = 0.1 \\cdot 1 + 0.9 \\cdot I\\left(4  \\frac{2\\sqrt{2} - 1}{\\rho}\\right)$$\n$$P_{\\text{out}} = 0.1 + 0.9 \\cdot I\\left(4  \\frac{2\\sqrt{2} - 1}{\\rho}\\right)$$\n\n问题规定中断概率不得超过 $10\\%$。\n$$P_{\\text{out}} \\le 0.1$$\n代入我们得到的 $P_{\\text{out}}$ 表达式：\n$$0.1 + 0.9 \\cdot I\\left(4  \\frac{2\\sqrt{2} - 1}{\\rho}\\right) \\le 0.1$$\n为使此不等式成立，左侧的第二项必须为零，因为它是一个非负数。\n$$0.9 \\cdot I\\left(4  \\frac{2\\sqrt{2} - 1}{\\rho}\\right) = 0$$\n这意味着指示函数必须为零：\n$$I\\left(4  \\frac{2\\sqrt{2} - 1}{\\rho}\\right) = 0$$\n为了让指示函数为零，其参数必须为假。因此，条件 $4  \\frac{2\\sqrt{2} - 1}{\\rho}$ 必须为假。这意味着其补集必须为真：\n$$4 \\ge \\frac{2\\sqrt{2} - 1}{\\rho}$$\n为了找到所需的最小 $\\rho$，我们对此不等式求解 $\\rho$。由于 $\\rho > 0$，我们可以重新整理各项而不改变不等式的方向：\n$$\\rho \\cdot 4 \\ge 2\\sqrt{2} - 1$$\n$$\\rho \\ge \\frac{2\\sqrt{2} - 1}{4}$$\n标称信噪比 $\\rho$ 必须大于或等于此值才能满足服务质量要求。为了最小化功耗，系统应在满足该标准的最低可能信噪比下运行。这对应于不等式的下界。\n所需的最小标称信噪比是：\n$$\\rho_{\\min} = \\frac{2\\sqrt{2} - 1}{4}$$",
            "answer": "$$\\boxed{\\frac{2\\sqrt{2}-1}{4}}$$"
        },
        {
            "introduction": "信道波动从长远来看对通信是有利还是有弊？本问题旨在探究衰落对系统平均数据速率的根本影响。你将通过比较衰落信道的遍历容量与一个具有相同平均增益的非衰落信道的容量，来量化这种“衰落损失”。 这个练习不仅巩固了遍历容量的计算，而且让你深刻理解为什么当发射机无法自适应调整功率时，信道波动本质上是不利的。",
            "id": "1622186",
            "problem": "一个无线通信信道由一个简化的块衰落模型来表征，在该模型中，信道在一个传输块的持续时间内处于“良好”或“差”两种状态之一。信道功率增益（用 $g$ 表示）是一个离散随机变量。信道有 $p$ 的概率处于良好状态，此时其增益为 $g_G = 2.0$。信道有 $1-p$ 的概率处于差状态，此时其增益为 $g_B = 0.5$。系统以平均信号功率 $P$ 在带宽 $W$ 上进行传输，信道受到功率为 $N_0 W$ 的加性高斯白噪声（AWGN）的影响。我们将标称信噪比（SNR）定义为 $\\gamma = \\frac{P}{N_0 W}$。接收机对每个块的信道状态有完美的了解，但发射机只知道信道增益的统计分布。遍历容量 $C_{\\text{ergodic}}$ 表示在该信道上可实现的最高长期平均数据速率。\n\n为了进行比较，考虑一个更简单的非衰落AWGN信道，其恒定功率增益等于我们衰落信道的平均功率增益，即 $\\bar{g} = E[g]$。设这个等效AWGN信道的容量为 $C_{AWGN}$。这两种容量之差 $\\Delta C = C_{AWGN} - C_{ergodic}$ 量化了当发射机无法调整其瞬时功率时，由于衰落导致的性能损失。\n\n你的任务是确定在 $0  p  1$ 范围内使容量差 $\\Delta C$ 最大化的概率 $p$ 的值。在你的计算中，假设标称信噪比为 $\\gamma = 1.0$。将最终答案表示为单个数值，并四舍五入到三位有效数字。",
            "solution": "该问题要求在给定的两状态衰落信道模型下，使容量差 $\\Delta C = C_{AWGN} - C_{ergodic}$ 最大化的概率 $p$ 的值。\n\n首先，我们来定义两种容量 $C_{ergodic}$ 和 $C_{AWGN}$。所有容量都将以比特/秒/赫兹（bits/s/Hz）为单位表示，因此我们使用由带宽 $W$ 归一化且以2为底的对数的香农容量公式。\n\n增益为 $g$、信噪比为 $\\gamma$ 的信道的瞬时容量为 $C(g) = \\log_2(1 + g\\gamma)$。\n遍历容量 $C_{ergodic}$ 是瞬时容量在所有信道状态上的统计期望。对于给定的两状态模型，信道增益 $g$ 是一个离散随机变量，分别以概率 $p$ 和 $1-p$ 取值为 $g_G$ 和 $g_B$。\n$$C_{ergodic} = E[\\log_2(1+g\\gamma)] = p \\log_2(1+g_G\\gamma) + (1-p) \\log_2(1+g_B\\gamma)$$\n\n接下来，我们考虑等效的非衰落AWGN信道。其容量 $C_{AWGN}$ 由平均信道功率增益 $\\bar{g}$ 决定。\n平均增益 $\\bar{g}$ 是 $g$ 的期望：\n$$\\bar{g} = E[g] = p \\cdot g_G + (1-p) \\cdot g_B$$\n那么，这个AWGN信道的容量为：\n$$C_{AWGN} = \\log_2(1+\\bar{g}\\gamma) = \\log_2(1 + (p g_G + (1-p) g_B)\\gamma)$$\n\n现在，我们可以将容量差 $\\Delta C(p)$ 写成关于 $p$ 的函数表达式：\n$$\\Delta C(p) = C_{AWGN} - C_{ergodic}$$\n$$\\Delta C(p) = \\log_2(1 + (p g_G + (1-p) g_B)\\gamma) - [p \\log_2(1+g_G\\gamma) + (1-p) \\log_2(1+g_B\\gamma)]$$\n\n为了找到使 $\\Delta C(p)$ 最大化的 $p$ 值，我们需要计算它关于 $p$ 的导数并令其为零。为了数学上的方便，我们可以使用自然对数（$\\ln$）代替 $\\log_2$，因为它们通过一个常数因子 $\\log_2(x) = \\frac{\\ln(x)}{\\ln(2)}$ 相关联。最大化 $\\Delta C(p)$ 等价于最大化 $F(p) = \\ln(2) \\cdot \\Delta C(p)$。\n$$F(p) = \\ln(1 + (p g_G + (1-p) g_B)\\gamma) - p \\ln(1+g_G\\gamma) - (1-p) \\ln(1+g_B\\gamma)$$\n我们来简化第一个对数内的项：$p g_G + (1-p) g_B = p g_G + g_B - p g_B = g_B + p(g_G - g_B)$。\n$$F(p) = \\ln(1 + (g_B + p(g_G - g_B))\\gamma) - p \\ln(1+g_G\\gamma) - (1-p) \\ln(1+g_B\\gamma)$$\n现在我们对 $F(p)$ 关于 $p$ 求导：\n$$\\frac{dF}{dp} = \\frac{(g_G - g_B)\\gamma}{1 + (g_B + p(g_G - g_B))\\gamma} - \\ln(1+g_G\\gamma) - (-1) \\ln(1+g_B\\gamma)$$\n$$\\frac{dF}{dp} = \\frac{(g_G - g_B)\\gamma}{1 + g_B\\gamma + p(g_G - g_B)\\gamma} - \\ln(1+g_G\\gamma) + \\ln(1+g_B\\gamma)$$\n$$\\frac{dF}{dp} = \\frac{(g_G - g_B)\\gamma}{1 + g_B\\gamma + p(g_G - g_B)\\gamma} - \\ln\\left(\\frac{1+g_G\\gamma}{1+g_B\\gamma}\\right)$$\n为了求最大值，我们将导数设为零：\n$$\\frac{(g_G - g_B)\\gamma}{1 + g_B\\gamma + p(g_G - g_B)\\gamma} = \\ln\\left(\\frac{1+g_G\\gamma}{1+g_B\\gamma}\\right)$$\n现在我们解出 $p$：\n$$1 + g_B\\gamma + p(g_G - g_B)\\gamma = \\frac{(g_G - g_B)\\gamma}{\\ln\\left(\\frac{1+g_G\\gamma}{1+g_B\\gamma}\\right)}$$\n$$p(g_G - g_B)\\gamma = \\frac{(g_G - g_B)\\gamma}{\\ln\\left(\\frac{1+g_G\\gamma}{1+g_B\\gamma}\\right)} - (1 + g_B\\gamma)$$\n$$p = \\frac{1}{(g_G - g_B)\\gamma} \\left[ \\frac{(g_G - g_B)\\gamma}{\\ln\\left(\\frac{1+g_G\\gamma}{1+g_B\\gamma}\\right)} - (1 + g_B\\gamma) \\right]$$\n$$p = \\frac{1}{\\ln\\left(\\frac{1+g_G\\gamma}{1+g_B\\gamma}\\right)} - \\frac{1+g_B\\gamma}{(g_G-g_B)\\gamma}$$\n这就是使容量差取极值的 $p$ 值的符号表达式。检查二阶导数可以表明这是一个最大值。\n\n现在，我们代入问题中给出的数值：$g_G = 2.0$，$g_B = 0.5$ 和 $\\gamma = 1.0$。\n首先，计算所需的各项：\n$$1+g_G\\gamma = 1 + 2.0 \\times 1.0 = 3.0$$\n$$1+g_B\\gamma = 1 + 0.5 \\times 1.0 = 1.5$$\n$$g_G-g_B = 2.0 - 0.5 = 1.5$$\n对数内的比值为 $\\frac{1+g_G\\gamma}{1+g_B\\gamma} = \\frac{3.0}{1.5} = 2.0$。\n所以 $p$ 的表达式变为：\n$$p = \\frac{1}{\\ln(2.0)} - \\frac{1.5}{1.5 \\times 1.0}$$\n$$p = \\frac{1}{\\ln(2.0)} - 1$$\n使用数值 $\\ln(2.0) \\approx 0.693147$：\n$$p \\approx \\frac{1}{0.693147} - 1 \\approx 1.442695 - 1 = 0.442695$$\n问题要求将最终答案四舍五入到三位有效数字。\n$$p \\approx 0.443$$\n该值在所要求的 $0  p  1$ 范围内。",
            "answer": "$$\\boxed{0.443}$$"
        }
    ]
}