{
    "hands_on_practices": [
        {
            "introduction": "我们如何衡量一系列事件的总不确定性，尤其是当一个事件的结果会影响下一个事件时？由于事件之间存在依赖关系，简单地将它们的熵相加是行不通的。熵的链式法则为此提供了一种精确的方法，它将联合熵分解为第一个事件的熵，加上在已知第一个事件的条件下第二个事件的条件熵。本练习  将通过一个具体的双问题测验示例，引导您逐步应用这一基本法则。",
            "id": "1608627",
            "problem": "一名学生正在做一个有两道是非题的测验。设随机变量 $A_1$ 和 $A_2$ 分别表示学生对第一道题 ($Q_1$) 和第二道题 ($Q_2$) 的回答。每个回答的可能结果为“真”或“假”。该学生的答题行为由一个概率过程建模。\n\n学生对第一道题回答“真”的概率为 $P(A_1 = \\text{'True'}) = 0.8$。\n\n学生对第二道题的回答条件性地依赖于其对第一道题的回答。\n- 如果学生对 $Q_1$ 回答为“真”，则其对 $Q_2$ 回答为“真”的概率为 $P(A_2 = \\text{'True'} | A_1 = \\text{'True'}) = 0.5$。\n- 如果学生对 $Q_1$ 回答为“假”，则其对 $Q_2$ 回答为“真”的概率为 $P(A_2 = \\text{'True'} | A_1 = \\text{'False'}) = 0.25$。\n\n计算学生回答的联合概率分布的总熵 $H(A_1, A_2)$。请用比特表示最终答案，并四舍五入至三位有效数字。所有熵的计算均使用以2为底的对数。",
            "solution": "我们应用熵的链式法则：\n$$\nH(A_{1},A_{2})=H(A_{1})+H(A_{2}\\mid A_{1}).\n$$\n首先计算 $A_{1}$ 的边缘熵。已知 $P(A_{1}=\\text{T})=0.8$ 且 $P(A_{1}=\\text{F})=0.2$，\n$$\nH(A_{1})=-\\big[0.8\\,\\log_{2}(0.8)+0.2\\,\\log_{2}(0.2)\\big].\n$$\n使用 $\\log_{2}(0.8)\\approx -0.3219280949$ 和 $\\log_{2}(0.2)\\approx -2.3219280949$，\n$$\nH(A_{1})\\approx -\\big[0.8(-0.3219280949)+0.2(-2.3219280949)\\big]\\approx 0.7219280949.\n$$\n\n接下来计算条件熵 $H(A_{2}\\mid A_{1})$：\n$$\nH(A_{2}\\mid A_{1})=P(A_{1}=\\text{T})\\,H(A_{2}\\mid A_{1}=\\text{T})+P(A_{1}=\\text{F})\\,H(A_{2}\\mid A_{1}=\\text{F}).\n$$\n给定 $P(A_{2}=\\text{T}\\mid A_{1}=\\text{T})=0.5$，我们有\n$$\nH(A_{2}\\mid A_{1}=\\text{T})=-\\big[0.5\\,\\log_{2}(0.5)+0.5\\,\\log_{2}(0.5)\\big]=1.\n$$\n给定 $P(A_{2}=\\text{T}\\mid A_{1}=\\text{F})=0.25$，我们有\n$$\nH(A_{2}\\mid A_{1}=\\text{F})=-\\big[0.25\\,\\log_{2}(0.25)+0.75\\,\\log_{2}(0.75)\\big].\n$$\n使用 $\\log_{2}(0.25)=-2$ 和 $\\log_{2}(0.75)\\approx -0.4150374993$，\n$$\nH(A_{2}\\mid A_{1}=\\text{F})\\approx -\\big[0.25(-2)+0.75(-0.4150374993)\\big]\\approx 0.8112781245.\n$$\n因此，\n$$\nH(A_{2}\\mid A_{1})\\approx 0.8\\times 1+0.2\\times 0.8112781245\\approx 0.9622556249.\n$$\n\n最后，联合熵为\n$$\nH(A_{1},A_{2})\\approx 0.7219280949+0.9622556249\\approx 1.6841837198.\n$$\n四舍五入到三位有效数字（单位：比特），结果是 $1.68$。",
            "answer": "$$\\boxed{1.68}$$"
        },
        {
            "introduction": "链式法则的威力远不止于处理两个变量。在分析复杂的多阶段随机过程时，它是一个极其宝贵的工具。思考一下通过逐个不放回地选取元素来生成随机排列的过程。这个练习  展示了链式法则如何通过将每个独立选择步骤的熵相加，从而优雅地计算出整个序列的总熵，将一个看似棘手的问题转化为一系列易于管理的计算。",
            "id": "1608589",
            "problem": "一个密码系统依赖于为其密钥调度生成随机排列。整数集合 $\\{1, 2, \\dots, n\\}$ 的一个排列 $\\pi = (\\pi_1, \\pi_2, \\dots, \\pi_n)$ 是通过一个顺序选择过程生成的。首先，从 $n$ 个整数的整个集合中均匀随机地选择一个元素 $\\pi_1$。接着，从剩下的 $n-1$ 个整数中均匀随机地选择一个元素 $\\pi_2$。这个过程持续进行，在第 $k$ 步，从尚未选择的 $n-k+1$ 个整数中均匀随机地选择元素 $\\pi_k$。当选择最后一个剩余的整数 $\\pi_n$ 时，该过程结束。\n\n令代表此过程的随机变量序列为 $(\\pi_1, \\pi_2, \\dots, \\pi_n)$。计算该序列的总联合熵 $H(\\pi_1, \\pi_2, \\dots, \\pi_n)$。\n\n请用一个关于 $n$ 的单一、闭式解析表达式来表示你的答案。在你的最终表达式中使用以 2 为底的对数。",
            "solution": "问题要求计算顺序生成的随机变量序列 $(\\pi_1, \\pi_2, \\dots, \\pi_n)$ 的联合熵。联合熵可以使用熵的链式法则来计算，其表述如下：\n$$H(X_1, X_2, \\dots, X_n) = \\sum_{k=1}^{n} H(X_k | X_1, \\dots, X_{k-1})$$\n根据惯例，$H(X_1 | X_0)$ 就是 $H(X_1)$。\n\n将此规则应用于我们的问题，联合熵为：\n$$H(\\pi_1, \\pi_2, \\dots, \\pi_n) = H(\\pi_1) + H(\\pi_2 | \\pi_1) + H(\\pi_3 | \\pi_1, \\pi_2) + \\dots + H(\\pi_n | \\pi_1, \\dots, \\pi_{n-1})$$\n\n我们需要计算此和中的每一项条件熵。\n\n第 1 步：计算 $H(\\pi_1)$。\n第一个元素 $\\pi_1$ 是从一个包含 $n$ 个元素的集合中均匀随机选择的。一个在大小为 $M$ 的集合上均匀分布的离散随机变量的熵是 $\\log_2(M)$。在这种情况下，$M=n$。\n$$H(\\pi_1) = \\log_2(n)$$\n\n第 2 步：计算 $H(\\pi_2 | \\pi_1)$。\n已知 $\\pi_1$ 已被选择，第二个元素 $\\pi_2$ 是从剩下的 $n-1$ 个元素中均匀随机选择的。给定 $\\pi_1$ 的任何特定值，$\\pi_2$ 的条件概率分布在大小为 $n-1$ 的集合上是均匀的。因此，条件熵为：\n$$H(\\pi_2 | \\pi_1) = \\log_2(n-1)$$\n\n第 3 步：对第 $k$ 项 $H(\\pi_k | \\pi_1, \\dots, \\pi_{k-1})$ 进行推广。\n在第 $k$ 步，前 $k-1$ 个元素 $(\\pi_1, \\dots, \\pi_{k-1})$ 已经被选择。下一个元素 $\\pi_k$ 是从尚未被选择的元素集合中均匀选择的。该集合的大小为 $n - (k-1) = n - k + 1$。\n$\\pi_k$ 的条件分布在大小为 $n-k+1$ 的集合上是均匀的。因此，条件熵为：\n$$H(\\pi_k | \\pi_1, \\dots, \\pi_{k-1}) = \\log_2(n-k+1)$$\n\n第 4 步：将所有条件熵项相加。\n我们现在可以将总联合熵写为这些项从 $k=1$ 到 $n$ 的和：\n$$H(\\pi_1, \\dots, \\pi_n) = \\sum_{k=1}^{n} H(\\pi_k | \\pi_1, \\dots, \\pi_{k-1}) = \\sum_{k=1}^{n} \\log_2(n-k+1)$$\n让我们展开这个和以观察其模式：\n$$H(\\pi_1, \\dots, \\pi_n) = \\log_2(n-1+1) + \\log_2(n-2+1) + \\dots + \\log_2(n-n+1)$$\n$$H(\\pi_1, \\dots, \\pi_n) = \\log_2(n) + \\log_2(n-1) + \\dots + \\log_2(1)$$\n最后一项，当 $k=n$ 时，是 $H(\\pi_n | \\pi_1, \\dots, \\pi_{n-1}) = \\log_2(n-n+1) = \\log_2(1) = 0$。这是合理的，因为一旦前 $n-1$ 个元素确定，最后一个元素也就确定了。\n\n第 5 步：合并对数项。\n使用对数的性质 $\\log(a) + \\log(b) = \\log(ab)$，我们可以将对数之和合并为乘积的对数：\n$$H(\\pi_1, \\dots, \\pi_n) = \\log_2(n \\cdot (n-1) \\cdot (n-2) \\cdot \\dots \\cdot 2 \\cdot 1)$$\n乘积 $n \\cdot (n-1) \\cdot \\dots \\cdot 1$ 是 $n$ 的阶乘的定义，记作 $n!$。\n因此，联合熵的最终表达式为：\n$$H(\\pi_1, \\dots, \\pi_n) = \\log_2(n!)$$\n这个结果与以下事实一致：顺序生成过程以 $\\frac{1}{n!}$ 的相等概率产生所有 $n!$ 种可能的排列，而在 $n!$ 个结果上的均匀分布的熵是 $\\log_2(n!)$。",
            "answer": "$$\\boxed{\\log_{2}(n!)}$$"
        },
        {
            "introduction": "要真正掌握链式法则 $H(X,Y) = H(X) + H(Y|X)$，理解其组成部分至关重要，尤其是条件熵项 $H(Y|X)$。在一个极端情况下，当 $Y$ 完全由 $X$ 决定时，会发生什么？这个思想实验  探讨了这样一个完全相关的情景。通过运用熵的原理，您将验证一个直观的结果：当 $X$ 已知时，关于 $Y$ 的不确定性为零，从而证明一个变量与其自身的联合熵就是它自己的熵，即 $H(X,X)=H(X)$。",
            "id": "1991843",
            "problem": "考虑一个由两个可区分的子单元 A 和 B 组成的系统。每个子单元可以处于 $N$ 个可能的离散能级之一，由 $i \\in \\{1, 2, \\dots, N\\}$ 索引。最初，这两个子单元是独立制备的。然后，它们被置于接触状态，并通过一个特殊过程相互作用，该过程使其状态完全相关。在此相互作用之后，总是发现这两个子单元处于相同的能级；也就是说，如果对子单元 A 的能级进行测量得到索引 $i$，那么同时对子单元 B 的能级进行测量也保证会得到索引 $i$。\n\n这种相互作用可能会重新分配占据各个能级的概率。相互作用后，发现子单元 A 处于第 $i$ 个能级的概率由 $p_i$ 给出，其中 $\\sum_{i=1}^{N} p_i = 1$。设 $X_A$ 和 $X_B$ 分别是相互作用后代表子单元 A 和 B 能级索引的随机变量。\n\n使用涉及玻尔兹曼常数 $k_B$ 和自然对数的熵的统计力学定义，相互作用后组合系统的联合香non熵 $S(X_A, X_B)$ 是多少？请用 $k_B$ 和概率 $p_i$ 的符号表达式来表示你的答案。",
            "solution": "我们已知两个可区分的子单元 A 和 B，其相互作用后的能级索引的联合分布是完全相关的，使得 $X_A = X_B$ 的概率为 1。$X_A$（以及等价地 $X_B$）的边际分布由 $p_i$ 指定，且 $\\sum_{i=1}^{N} p_i = 1$。因此，联合概率质量函数是\n$$\nP(X_A=i, X_B=j) =\n\\begin{cases}\np_i,  i=j, \\\\\n0,  i \\neq j.\n\\end{cases}\n$$\n使用香农熵的统计力学形式，联合熵定义为\n$$\nS(X_A, X_B) = -k_{B} \\sum_{i=1}^{N} \\sum_{j=1}^{N} P(X_A=i, X_B=j)\\,\\ln\\big(P(X_A=i, X_B=j)\\big).\n$$\n代入联合概率，并注意到根据 $x \\ln x$ 在 $x=0$ 处的连续性，概率 $P=0$ 的项贡献为零，双重求和简化为对角项 $i=j$：\n$$\nS(X_A, X_B) = -k_{B} \\sum_{i=1}^{N} p_i \\ln p_i.\n$$\n因此，联合熵等于边际分布 $\\{p_i\\}$ 的熵，这与相互作用后 $X_B$ 是 $X_A$ 的确定性函数这一事实相符。",
            "answer": "$$\\boxed{-k_{B}\\sum_{i=1}^{N} p_{i}\\ln p_{i}}$$"
        }
    ]
}