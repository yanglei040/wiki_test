{
    "hands_on_practices": [
        {
            "introduction": "任何复杂的数字计算，其核心都可以分解为基本的逻辑运算。这个练习将帮助你巩固如何使用基本逻辑门（与门 $\\land$、或门 $\\lor$、非门 $\\neg$）来构建更复杂但常见的逻辑功能，例如异或（XOR）门。掌握这种构建方法是理解电路如何执行算术和逻辑任务的第一步。",
            "id": "1450370",
            "problem": "在计算复杂性理论的研究中，一个核心问题是问题可以被多高效地解决。电路求值问题（Circuit Value Problem, CVP）是该领域的一个关键问题，它询问一个给定的布尔电路在一组特定输入下是否求值为`真`。理解如何用一组基本的门（如与、或、非）为各种逻辑函数构建电路，是分析 CVP 复杂性的一个基本步骤。\n\n考虑两个布尔输入变量，$x$ 和 $y$。您的任务是找出一个能正确实现异或（exclusive OR, XOR）操作的布尔表达式，该操作表示为 $x \\oplus y$。该表达式必须仅使用与（用 $\\land$ 表示）、或（用 $\\lor$ 表示）和非（用 $\\neg$ 表示）这些基本逻辑运算来构建。\n\n下列哪个布尔表达式在逻辑上等价于 $x \\oplus y$？\n\nA. $(x \\land y) \\lor (\\neg x \\land \\neg y)$\n\nB. $(x \\lor \\neg y) \\land (\\neg x \\lor y)$\n\nC. $(x \\land \\neg y) \\lor (\\neg x \\land y)$\n\nD. $(x \\lor y) \\land (\\neg x \\land \\neg y)$\n\nE. $(x \\lor y) \\land (x \\lor \\neg y)$",
            "solution": "我们回顾异或的定义属性：$x \\oplus y$ 为真，当且仅当 $x$ 或 $y$ 中恰好有一个为真，等价地，$x \\oplus y = 1$ 当且仅当 $x \\neq y$。\n\n一个使用 $\\land$、$\\lor$ 和 $\\neg$ 表示异或的规范表达式是\n$$\nx \\oplus y = (x \\lor y) \\land \\neg(x \\land y).\n$$\n对否定部分应用德摩根定律：\n$$\n\\neg(x \\land y) = \\neg x \\lor \\neg y,\n$$\n因此\n$$\nx \\oplus y = (x \\lor y) \\land (\\neg x \\lor \\neg y).\n$$\n使用分配律得到析取范式：\n$$\n(x \\lor y) \\land (\\neg x \\lor \\neg y) = (x \\land \\neg x) \\lor (x \\land \\neg y) \\lor (y \\land \\neg x) \\lor (y \\land \\neg y).\n$$\n使用矛盾式 $x \\land \\neg x = 0$ 和 $y \\land \\neg y = 0$ 来简化：\n$$\n(x \\lor y) \\land (\\neg x \\lor \\neg y) = (x \\land \\neg y) \\lor (\\neg x \\land y).\n$$\n这与选项 C 匹配。\n\n为了完整性，我们验证其他选项：\n- A: $(x \\land y) \\lor (\\neg x \\land \\neg y)$ 在 $x=y$ 时为真，即同或（XNOR）。\n- B: $(x \\lor \\neg y) \\land (\\neg x \\lor y)$ 展开为\n$$\n(x \\land \\neg x) \\lor (x \\land y) \\lor (\\neg y \\land \\neg x) \\lor (\\neg y \\land y) = (x \\land y) \\lor (\\neg x \\land \\neg y),\n$$\n即同或。\n- D: $(x \\lor y) \\land (\\neg x \\land \\neg y)$ 恒为假，因为 $(\\neg x \\land \\neg y)$ 蕴含 $\\neg(x \\lor y)$。\n- E: $(x \\lor y) \\land (x \\lor \\neg y)$ 使用 $(a \\lor b) \\land (a \\lor c) = a \\lor (b \\land c)$ 简化为：\n$$\n(x \\lor y) \\land (x \\lor \\neg y) = x \\lor (y \\land \\neg y) = x.\n$$\n因此，只有选项 C 等价于 $x \\oplus y$。",
            "answer": "$$\\boxed{C}$$"
        },
        {
            "introduction": "在电路设计中，一个重要的概念是“通用门”，例如与非门（NAND），仅用它就能构建出任何逻辑功能。这个练习不仅要求你使用与非门实现一个布尔函数，还挑战你用最少的门来完成，这涉及到布尔代数化简和德摩根定律的巧妙运用。通过这个练习，你将体会到在实际电路设计和理论效率分析中，优化是多么核心的一个主题。",
            "id": "1450387",
            "problem": "在数字逻辑设计和理论计算机科学中，一个关键结论是某些逻辑门的功能完备性。与非门（NAND gate）就是这样一种通用门，意味着任何布尔函数都可以仅使用与非门来实现。\n\n考虑一个双输入与非门，它执行逻辑运算 `NOT (A AND B)`。当且仅当其两个输入 `A` 和 `B` 均为 `1` 时，其输出为 `0`。\n\n您的任务是为如下定义的布尔函数 `F(A, B, C)` 设计一个逻辑电路：\n$$F(A, B, C) = (A \\text{ OR } B) \\text{ AND } (B \\text{ OR } C)$$\n仅使用双输入与非门，实现函数 `F(A, B, C)` 所需的最少门数是多少？输入 `A`、`B` 和 `C` 是可用的，但它们的非（`\\text{NOT }A`、`\\text{NOT }B`、`\\text{NOT }C`）不是作为输入提供的，如果需要，必须自行生成。",
            "solution": "我们首先使用布尔代数简化给定的布尔函数。该函数为\n$$F(A,B,C)=(A+B)(B+C).$$\n展开并应用幂等律和吸收律：\n$$\n\\begin{aligned}\n(A+B)(B+C) &= AB + AC + BB + BC \\\\\n&= AB + AC + B + BC \\quad \\text{(因为 } BB=B\\text{)} \\\\\n&= B + AC \\quad \\text{(因为 } AB + B = B \\text{ 且 } B + BC = B\\text{)}.\n\\end{aligned}\n$$\n因此，\n$$F = B + AC.$$\n\n要仅使用双输入与非门实现 $F$，可使用德摩根定律将 $F$ 表示为两个补项的单次与非运算：\n$$\nF = B + AC = \\overline{\\overline{B+AC}} = \\overline{\\overline{B}\\cdot \\overline{AC}}.\n$$\n由于一个双输入与非门根据输入 $X$ 和 $Y$ 计算出 $\\overline{XY}$，上述表达式表明 $F$ 是 $\\overline{B}$ 和 $\\overline{AC}$ 的与非运算结果。\n\n我们按如下方式使用与非门实现所需的项：\n- 使用一个输入为 $A$ 和 $C$ 的与非门计算 $\\overline{AC}$：\n$$S = \\overline{AC}.$$\n- 通过将两个输入都连接到 $B$ 来使用一个与非门计算 $\\overline{B}$：\n$$T = \\overline{B}.$$\n- 最后，通过对 $T$ 和 $S$ 进行与非运算得到 $F$：\n$$F = \\overline{TS} = \\overline{\\overline{B}\\cdot \\overline{AC}} = B + AC.$$\n\n这恰好使用了三个双输入与非门。\n\n为了论证其最小性，请注意，任何将 $F = \\overline{\\overline{B}\\cdot \\overline{AC}}$ 实现为最终单个与非门的纯与非电路，都要求其两个输入为 $\\overline{B}$ 和 $\\overline{AC}$。由于只有 $A$、$B$ 和 $C$ 作为输入可用，$\\overline{B}$ 和 $\\overline{AC}$ 中的每一项都必须由至少一个与非门生成，这在最终组合它们的与非门之前至少需要两个门。因此，至少需要三个双输入与非门，而上述构造达到了这个下限。",
            "answer": "$$\\boxed{3}$$"
        },
        {
            "introduction": "本章的最后一个练习将电路构建与计算复杂性理论直接联系起来，这是对前面技能的综合应用。证明一个问题是 P-完备的，标准方法之一就是将一个已知的 P-完备问题归约到它。这个练习让你亲手操作这个过程，将一个 Horn-SAT 问题的实例，一步步转化为一个单调电路值问题，从而直观地展示逻辑、电路以及高效计算极限之间的深刻联系。",
            "id": "1450431",
            "problem": "在计算复杂性理论中，电路值问题（Circuit Value Problem, CVP）是一个基础的 P-完全问题。一个关键的变体是单调电路值问题（Monotone Circuit Value Problem, Monotone CVP），它仅限于包含与门（AND）和或门（OR）且没有非门（negation）的电路。为了证明 Monotone CVP 是 P-完全的，可以展示一个从另一个已知的 P-完全问题——Horn 可满足性问题（Horn-Satisfiability, Horn-SAT）——的对数空间归约。\n\nHorn-SAT 问题询问一个给定的 Horn 公式是否是可满足的。Horn 公式是 Horn 子句的合取。每个 Horn 子句是文字（一个变量或其否定）的析取，其中最多只有一个正（未被否定的）文字。我们可以将这些子句表示为蕴含式：\n1.  一个形如 $(\\neg y_1 \\lor \\neg y_2 \\lor \\dots \\lor \\neg y_k \\lor x)$ 的子句等价于蕴含式 $(y_1 \\land y_2 \\land \\dots \\land y_k) \\implies x$。\n2.  一个只有一个正文字 $x$ 的子句等价于 $\\text{true} \\implies x$。\n\n考虑以下归约过程，该过程将一个 Horn-SAT 实例（仅包含上述两种类型的子句）转换为一个 Monotone CVP 实例：\n\n*   **输入：** 电路有一个常量输入节点 `TRUE`，其布尔值固定为 1。所有其他未被 `true => ...` 子句显式设置为真的变量，初始时均被视为假 (0)。\n*   **电路结构：** 对于 Horn 公式中的每个变量 $v_i$，我们将构建逻辑来确定其值。$v_i$ 的最终值由电路中一根同样标记为 $v_i$ 的导线表示。\n*   **子句转换：**\n    *   对于每个形如 $\\text{true} \\implies v_i$ 的子句，`TRUE` 输入节点被用作确定 $v_i$ 值的逻辑的输入。\n    *   对于每个形如 $(v_{j1} \\land v_{j2} \\land \\dots \\land v_{jk}) \\implies v_i$ 的子句，会创建一个与门。该门的输入是对应于变量 $v_{j1}, v_{j2}, \\dots, v_{jk}$ 的导线。该与门的输出被用作确定 $v_i$ 值的逻辑的输入。\n*   **变量值计算：** 变量 $v_i$ 的最终值是通过对所有以 $v_i$ 为结论的蕴含式的结果进行或运算（OR）来确定的。也就是说，如果有 $m$ 个子句的后件是 $v_i$，我们就创建一个有 $m$ 个输入的或门。每个输入来自为这些子句之一构建的逻辑（或者是 `TRUE` 节点，或者是一个与门的输出）。这个或门的输出成为 $v_i$ 的最终导线。如果一个变量从未成为任何子句的后件，其值保持为 0。\n\n给定以下基于变量 $\\{x_1, x_2, x_3, x_4, x_5\\}$ 的 Horn 公式 $\\Phi$：\n$$ \\Phi = (\\text{true} \\implies x_1) \\wedge (\\text{true} \\implies x_2) \\wedge (x_1 \\wedge x_2 \\implies x_3) \\wedge (x_3 \\implies x_4) \\wedge (x_1 \\wedge x_4 \\implies x_5) $$\n\n遵循所述的归约过程，构建相应的单调布尔电路。确定为对应于变量 $x_5$ 的输出导线计算出的最终布尔值（使用 1 表示真，0 表示假）。",
            "solution": "我们遵循给定的从 Horn 公式到单调电路的归约方法，该电路具有一个固定的值为 1 的常量输入节点 TRUE。对于每个变量 $v_{i}$，其输出导线是所有以后件为 $v_{i}$ 的蕴含式所对应的门的输出的析取；每个这样的门要么是常量 1（对于子句 $\\text{true} \\implies v_{i}$），要么是前件变量的与运算（对于子句 $(v_{j_{1}} \\land \\cdots \\land v_{j_{k}}) \\implies v_{i}$）。\n\n翻译以下公式的每个子句：\n$$\n\\Phi=(\\text{true}\\implies x_{1})\\land(\\text{true}\\implies x_{2})\\land(x_{1}\\land x_{2}\\implies x_{3})\\land(x_{3}\\implies x_{4})\\land(x_{1}\\land x_{4}\\implies x_{5})\n$$\n如下。\n\n1. 对于 $x_1$：有一个子句 $\\text{true} \\implies x_1$，所以 $x_1$ 的或门有一个单一输入 TRUE。因此\n$$\nx_1 = 1.\n$$\n\n2. 对于 $x_2$：有一个子句 $\\text{true} \\implies x_2$，所以 $x_2$ 的或门有一个单一输入 TRUE。因此\n$$\nx_2 = 1.\n$$\n\n3. 对于 $x_3$：有一个子句 $(x_1 \\land x_2) \\implies x_3$。我们创建一个输入为 $x_1$ 和 $x_2$ 的与门，并将其输出馈入 $x_3$ 的或门。因此\n$$\nx_3 = (x_1 \\land x_2) = 1 \\land 1 = 1.\n$$\n\n4. 对于 $x_4$：有一个子句 $x_3 \\implies x_4$，即一个对 $x_3$ 的单输入与门馈入 $x_4$ 的或门，所以\n$$\nx_4 = x_3 = 1.\n$$\n\n5. 对于 $x_5$：有一个子句 $(x_1 \\land x_4) \\implies x_5$。我们创建一个输入为 $x_1$ 和 $x_4$ 的与门馈入 $x_5$ 的或门。因此\n$$\nx_5 = (x_1 \\land x_4) = 1 \\land 1 = 1.\n$$\n\n因此，通过所述归约获得的单调电路将 $x_5$ 的输出导线求值为 1。",
            "answer": "$$\\boxed{1}$$"
        }
    ]
}