{
    "hands_on_practices": [
        {
            "introduction": "Understanding a complex reduction often starts with mastering its fundamental mechanics. This first exercise provides a concrete, step-by-step application of the reduction from VERTEX-COVER to SUBSET-SUM. By working through a small, specific example, you will see exactly how the numbers corresponding to vertices and edges are constructed and how they must combine to satisfy the target sum, reinforcing the crucial role of the \"slack\" variables in the process .",
            "id": "1443805",
            "problem": "In the study of computational complexity, the VERTEX-COVER problem is often reduced to the SUBSET-SUM problem to prove the latter's NP-completeness. This problem explores a specific step in one such standard reduction.\n\nConsider a graph $G = (V, E)$ and an integer $k$. We construct an instance of SUBSET-SUM as follows:\nLet the set of vertices be $V = \\{v_1, v_2, v_3, v_4\\}$ and the set of edges be $E = \\{e_1, e_2, e_3\\}$, where $e_1 = (v_1, v_2)$, $e_2 = (v_2, v_3)$, and $e_3 = (v_3, v_4)$. The number of edges is $m=3$. The numbers are constructed using a base-4 representation with $m+1=4$ places or \"digits\". The most significant digit (at position $m=3$) corresponds to a vertex count, while the digits at positions $j=0, 1, \\dots, m-1$ correspond to edges $e_{j+1}$.\n\nFor each vertex $v_i \\in V$, a number $w_i$ is created. Its base-4 representation has a '1' in the most significant position (position 3). For each edge $e_j$ incident to $v_i$, the number $w_i$ also has a '1' in the position $j-1$. All other digits are '0'.\n\nFor each edge $e_j \\in E$, a \"slack\" number $s_j$ is created. Its base-4 representation has a '1' in position $j-1$ and '0's elsewhere.\n\nThe full set of numbers for the SUBSET-SUM instance is the union of all $w_i$ and $s_j$. The target sum $T$ is constructed such that its base-4 representation has the integer $k$ in the most significant position (position 3) and a '2' in all other positions (positions 0, 1, and 2).\n\nNow, consider the specific VERTEX-COVER instance for the graph $G$ defined above with a target size of $k=2$. It is known that $C = \\{v_2, v_3\\}$ is a valid vertex cover of size 2 for this graph. For the SUBSET-SUM instance to have a solution, a specific subset of the generated numbers must sum to the target $T$. This subset will correspond to the vertex cover $C$.\n\nFocusing on the edge $e_1 = (v_1, v_2)$, which of the following edge-specific slack numbers must be part of this subset that sums to $T$?\n\nA. 1\n\nB. 4\n\nC. 16\n\nD. 64\n\nE. The slack number for edge $e_1$ is not needed.",
            "solution": "We work in base-4 with positions indexed as follows: positions $j=0,1,2$ correspond to edges $e_1, e_2, e_3$ respectively, and position 3 (most significant) counts the number of chosen vertices. The place values are $4^0, 4^1, 4^2, 4^3$.\n\nFor each vertex $v_i$, the number $w_i$ has digit 1 at position 3, and for each incident edge $e_j$ it has digit 1 at position $j-1$. For each edge $e_j$, the slack $s_j$ has digit 1 only at position $j-1$. The target $T$ has base-4 digits equal to 2 in positions 0,1,2 and equal to $k=2$ in position 3.\n\nWith $C=\\{v_2, v_3\\}$, the subset must include $w_2$ and $w_3$. Their contributions by position are:\n- Position 3 (vertex count): $1+1=2$, matching $T$.\n- Position 0 (edge $e_1$): $w_2$ contributes 1 (since $v_2$ is incident to $e_1$), and $w_3$ contributes 0 (not incident), so the sum is 1. Since $T$ has digit 2 here, we must add slack $s_1$, which contributes an additional 1 at position 0.\n- Positions 1 and 2 behave analogously for $e_2$ and $e_3$; this confirms the mechanism, but the question asks specifically about $e_1$.\n\nTherefore, for edge $e_1$, the required slack is $s_1$, whose value is $4^0=1$. Among the options, this corresponds to A.",
            "answer": "$$\\boxed{A}$$"
        },
        {
            "introduction": "A powerful way to understand why a construction works is to explore what happens when a key component is removed. This problem presents a thought experiment involving a flawed version of the standard reduction, where the special digit used to count vertices is omitted. By analyzing the consequences of this change, you will gain a deeper appreciation for how the reduction cleverly enforces the constraint on the size of the vertex cover, a critical piece of the puzzle that links the graph problem to the numerical one .",
            "id": "1443832",
            "problem": "In computational complexity theory, the reduction from the VERTEX-COVER problem to the SUBSET-SUM problem is a classic example of mapping a graph problem to a numerical problem.\n\nLet's review the standard construction. Given an undirected graph $G=(V, E)$ with a set of vertices $V=\\{v_1, v_2, \\dots, v_n\\}$ and a set of edges $E=\\{e_1, e_2, \\dots, e_m\\}$, and an integer $k$, the VERTEX-COVER problem asks if there is a subset of vertices $V' \\subseteq V$ such that $|V'| \\leq k$ and for every edge $(u,v) \\in E$, at least one of $u$ or $v$ is in $V'$.\n\nThe reduction constructs an instance of the SUBSET-SUM problem from the instance $(G, k)$ of VERTEX-COVER. It creates a set of integers $S$ and a target integer $T$. A subset of $S$ sums to $T$ if and only if a vertex cover of size $k$ exists in $G$. The integers are constructed using a base-4 representation with $m+1$ digits.\n\nThe construction is as follows:\n1.  For each vertex $v_i \\in V$, create an integer $x_i$. In base 4, this number has a '1' in the most significant digit (the $(m+1)$-th digit) and, for each edge $e_j \\in E$ that is incident to $v_i$, it has a '1' in the $j$-th digit. All other digits are '0'.\n    -   Symbolically: $x_i = 4^m + \\sum_{e_j \\text{ incident to } v_i} 4^{j-1}$.\n2.  For each edge $e_j \\in E$, create an integer $y_j$. In base 4, this number has a '1' in the $j$-th digit and '0's everywhere else.\n    -   Symbolically: $y_j = 4^{j-1}$.\n3.  The set of integers for the SUBSET-SUM instance is $S = \\{x_1, \\dots, x_n\\} \\cup \\{y_1, \\dots, y_m\\}$.\n4.  The target sum $T$ is constructed. In base 4, it has the number $k$ in the most significant digit and '2's in all other $m$ digits.\n    -   Symbolically: $T = k \\cdot 4^m + \\sum_{j=1}^m 2 \\cdot 4^{j-1}$.\n\nNow, consider a flawed version of this reduction where the most significant digit is completely removed from all constructed numbers. The new numbers and target are defined in base 4 with only $m$ digits (one for each edge).\n-   New vertex numbers: $x'_i = \\sum_{e_j \\text{ incident to } v_i} 4^{j-1}$.\n-   New edge numbers: $y'_j = 4^{j-1}$. (These are identical to the original $y_j$).\n-   New target sum: $T' = \\sum_{j=1}^m 2 \\cdot 4^{j-1}$.\n\nWhich of the following properties of the original VERTEX-COVER problem $(G, k)$ is no longer correctly enforced by finding a subset of $\\{x'_1, \\dots, x'_n\\} \\cup \\{y'_1, \\dots, y'_m\\}$ that sums to $T'$?\n\nA. The constraint that the selected set of vertices must form a vertex cover (i.e., that every edge is covered).\n\nB. The constraint that the size of the vertex cover must be equal to $k$.\n\nC. The constraint that the graph $G$ must be connected for the reduction to be valid.\n\nD. The reduction fails entirely, as it becomes impossible to find any subset that sums to the target $T'$ for any graph.\n\nE. The constraint that the selected vertices must form an independent set.",
            "solution": "We analyze the base-4 digit structure of the flawed reduction. Each number has exactly $m$ base-4 digits, one per edge $e_j$, and no most significant $(m+1)$-th digit. For each edge $e_j=\\{u,v\\}$:\n- The $j$-th digit of $x'_i$ equals 1 if and only if $v_i$ is an endpoint of $e_j$, and equals 0 otherwise.\n- The $j$-th digit of $y'_j$ equals 1, and all other digits of $y'_j$ equal 0.\n- The $j$-th digit of the target $T'$ equals 2.\n\nLet $U \\subseteq \\{1,\\dots,n\\}$ be the indices of selected vertex numbers $\\{x'_i\\}$ and $J \\subseteq \\{1,\\dots,m\\}$ be the indices of selected edge numbers $\\{y'_j\\}$. Because addition of base-4 digits up to a total of 3 does not produce a carry (since $34$), each digit constraint is independent and must sum exactly to the target digit 2 with no carries.\n\nFix an edge $e_j=\\{a,b\\}$. The $j$-th digit of the sum equals\n$$\n\\mathbf{1}[a \\in U]+\\mathbf{1}[b \\in U]+\\mathbf{1}[j \\in J]=2,\n$$\nwhere $\\mathbf{1}[\\cdot]$ denotes the indicator. Since each term is in $\\{0,1\\}$, the only solutions are:\n- $\\mathbf{1}[a \\in U]=1$ and $\\mathbf{1}[b \\in U]=1$ with $\\mathbf{1}[j \\in J]=0$, or\n- exactly one of $a,b$ is in $U$ with $\\mathbf{1}[j \\in J]=1$.\n\nIn either case, at least one endpoint of $e_j$ is in $U$. Therefore, any subset summing to $T'$ necessarily selects a set of vertices $U$ that covers every edge. Hence the vertex-cover property is still enforced, so option A remains correct in the flawed reduction.\n\nNow consider the size constraint. In the correct reduction, the most significant digit enforces $\\sum_{i \\in U}1=k$ because each $x_i$ contributes 1 to that digit, each $y_j$ contributes 0, and the target has $k$ there. In the flawed reduction, this digit is removed entirely. The target $T'$ no longer contains $k$, and the subset-sum constraints involve only the per-edge digits. Consequently, the number of selected vertices is unrestricted by the sum-to-$T'$ condition. For example, selecting all vertices (i.e., $U=\\{1,\\dots,n\\}$) and no edges (i.e., $J=\\varnothing$) yields digit sum 2 for every edge, so it always satisfies $T'$ regardless of $k$. Hence the constraint that the vertex cover has size equal to $k$ is not enforced.\n\nOption C is irrelevant because the reduction does not require $G$ to be connected in the first place. Option D is false because feasible subsets exist (e.g., selecting all vertices) that sum to $T'$ for arbitrary graphs. Option E is unrelated and not enforced by either the original or the flawed construction.\n\nTherefore, the missing most significant digit causes the loss of the size constraint tied to $k$, i.e., option B.",
            "answer": "$$\\boxed{B}$$"
        },
        {
            "introduction": "The specific numbers chosen in the reduction—such as '1's for vertex and slack contributions and '2's for the target sum in edge digits—are not arbitrary. This exercise challenges you to investigate a modified reduction where these values are altered, leading to a failure in its logic. By pinpointing the exact reason this alternative construction is incorrect, you will solidify your understanding of why the base-4 system is used and how it ingeniously prevents unwanted interactions (carries) between different parts of the problem .",
            "id": "1443840",
            "problem": "In computational complexity theory, the VERTEX-COVER problem is often reduced to the SUBSET-SUM problem to demonstrate the NP-completeness of the latter.\n\nLet's define the problems:\n- **VERTEX-COVER**: Given a graph $G=(V, E)$ and a positive integer $k$, is there a subset of vertices $V' \\subseteq V$ with $|V'| \\leq k$ such that for every edge $(u, v) \\in E$, at least one of $u$ or $v$ is in $V'$?\n- **SUBSET-SUM**: Given a set of integers $S$ and a target integer $T$, is there a non-empty subset $S' \\subseteq S$ whose elements sum to $T$?\n\nConsider a proposed reduction from VERTEX-COVER to SUBSET-SUM that operates as follows. For a given graph $G=(V,E)$ with $n=|V|$ vertices and $m=|E|$ edges, and a target size $k$, we construct a set of integers $S$ and a target sum $T$. Let the vertices be $v_1, \\dots, v_n$ and the edges be $e_1, \\dots, e_m$. The numbers are constructed using a base-4 representation with $m+1$ digits. The most significant digit corresponds to the vertices, and the next $m$ digits correspond to the edges $e_1, \\dots, e_m$.\n\n- For each vertex $v_i \\in V$, create an integer $x_i$. In base 4, $x_i$ has a '1' in the most significant (vertex) digit. For each edge $e_j$ that is incident to $v_i$, the number $x_i$ has a '1' in the digit corresponding to $e_j$. All other digits are '0'.\n- For each edge $e_j \\in E$, a \"slack\" integer $y_j$ is created. In this specific, modified reduction, the number $y_j$ has a '2' in the digit corresponding to $e_j$ and '0' in all other digits.\n- The target sum $T$ is an integer that has a 'k' in the most significant (vertex) digit and a '2' in each of the $m$ digits corresponding to the edges.\n\nThis modified reduction, where slack variables $y_j$ contribute a '2' instead of the standard '1', is flawed.\n\nConsider the graph $G$ with vertices $V=\\{v_1, v_2, v_3, v_4\\}$ and edges $E=\\{e_1, e_2, e_3\\}$, where $e_1=(v_1, v_2)$, $e_2=(v_2, v_3)$, and $e_3=(v_3, v_4)$. We are testing for a vertex cover of size $k=2$. Which of the following scenarios correctly demonstrates that this modified reduction is incorrect?\n\nA. The set $\\{v_2, v_3\\}$ is a valid vertex cover of size 2. However, the sum of the corresponding integers $x_2$ and $x_3$, combined with any subset of the slack integers $\\{y_1, y_2, y_3\\}$, cannot equal the target sum $T$.\n\nB. The graph does not have a vertex cover of size 1. However, a subset of the constructed integers, $\\{x_1, y_2, y_3\\}$, sums to the target $T$ for $k=1$, incorrectly suggesting a solution exists.\n\nC. The reduction fails because if an edge is incident to two vertices that are both chosen for the vertex cover, the sum in that edge's digit becomes $1+1=2$. If the corresponding slack variable is also chosen, the digit's sum becomes $2+2=4$, which causes a carry in base 4, breaking the logic of the reduction.\n\nD. The set $\\{v_1, v_4\\}$ is not a vertex cover. The sum of the corresponding integers $x_1+x_4$ gives a '2' in the vertex digit. This correctly indicates that two vertices were chosen, but since the set is not a cover, it demonstrates the reduction can produce misleading intermediate results.\n\nE. The number of integers created is $n+m=4+3=7$. For a graph with many edges, the size of the SUBSET-SUM instance grows, but this does not constitute a formal failure of the reduction's correctness, which is only concerned with polynomial time transformation.",
            "solution": "We encode the instance using base-4 digit vectors of length $m+1=4$, ordered as $(\\text{vertex digit}, d_{e_1}, d_{e_2}, d_{e_3})$.\n\nBy the construction:\n- For vertices,\n$x_1=(1,1,0,0)$, $x_2=(1,1,1,0)$, $x_3=(1,0,1,1)$, $x_4=(1,0,0,1)$.\n- For slacks,\n$y_1=(0,2,0,0)$, $y_2=(0,0,2,0)$, $y_3=(0,0,0,2)$.\n- The target for $k=2$ is\n$T=(2,2,2,2)$.\n\nKey constraint: In SUBSET-SUM, equality is exact in base 4 per digit. Any digit sum reaching 4 produces a carry into the next more significant digit. Since $T$ has vertex digit 2, any carry from edge digits would increase the vertex digit beyond 2, violating equality. Hence, any valid solution must avoid carries in edge digits and must select exactly $k$ vertex numbers so that the vertex digit sums to $k$.\n\nConsider option A, which uses the valid vertex cover $\\{v_2,v_3\\}$. The sum of the corresponding vertex integers is\n$x_2+x_3=(1,1,1,0)+(1,0,1,1)=(2,1,2,1)$.\nTo reach $T=(2,2,2,2)$ without changing the vertex digit (hence without adding more vertex integers and without any carries), we would need to add a vector\n$(0,1,0,1)$.\nAny subset of the slacks contributes a vector of the form\n$(0,2a,2b,2c)$ with $a,b,c\\in\\{0,1\\}$.\nThe system\n$(2a,2b,2c)=(1,0,1)$\nhas no solution in integers $a,b,c\\in\\{0,1\\}$ because $2a$ and $2c$ are even while 1 is odd. Moreover, attempting to use a slack on a digit already equal to 2 would make $2+2=4$, causing a carry and thereby increasing the vertex digit above 2, which conflicts with $T$’s vertex digit. Therefore, $x_2+x_3$ combined with any subset of $\\{y_1,y_2,y_3\\}$ cannot equal $T$.\n\nSince $\\{v_2,v_3\\}$ is a valid vertex cover of size 2 but the constructed SUBSET-SUM instance admits no subset using exactly two vertex integers that can reach $T$ (indeed, the needed adjustment requires 1’s in edge digits, which the slacks cannot provide), the reduction fails on this yes-instance. This correctly demonstrates the flaw introduced by using slacks with digit 2.\n\nFor completeness, we briefly assess the other options:\n- Option B is false: for $k=1$, the proposed sum is $x_1+y_2+y_3=(1,1,2,2)\\neq(1,2,2,2)$.\n- Option C does not demonstrate a failure: one can avoid choosing a slack when both endpoints are chosen; the carry is not forced.\n- Option D discusses an intermediate sum that does not satisfy all digits of $T$; this does not demonstrate incorrectness.\n- Option E concerns instance size, which is irrelevant to correctness.\n\nThus, only option A correctly demonstrates the modified reduction’s incorrectness.",
            "answer": "$$\\boxed{A}$$"
        }
    ]
}