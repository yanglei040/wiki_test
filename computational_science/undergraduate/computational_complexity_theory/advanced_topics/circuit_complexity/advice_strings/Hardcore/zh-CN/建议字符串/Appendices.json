{
    "hands_on_practices": [
        {
            "introduction": "让我们通过一个具体例子来深入理解 $\\mathrm{P/poly}$ 的核心思想。这个练习将探讨一个语言，其成员资格判定规则依赖于输入字符串的长度是否为素数。通过构建一个简单的建议字符串，你将亲身体会到非一致性计算模型如何利用与输入长度相关的“提示”来解决问题 。",
            "id": "1454162",
            "problem": "在计算复杂性理论中，$\\mathrm{P/poly}$ 类（非一致多项式时间）提供了一种计算模型，它允许对每个输入长度使用一段不同的“建议”。一个语言 $L \\subseteq \\{0,1\\}^*$ 属于 $\\mathrm{P/poly}$ 类，如果存在一个多项式 $p(n)$ 和一台多项式时间图灵机 $M$，使得对于每个自然数 $n$，都有一个长度为 $|a_n| \\le p(n)$ 的建议字符串 $a_n$。对于任何长度为 $|x|=n$ 的输入字符串 $x$，图灵机 $M$ 在输入 $(x, a_n)$ 上必须能正确判断 $x$ 是否属于 $L$。注意，建议字符串 $a_n$ 仅依赖于输入的长度 $n$，而不依赖于输入字符串 $x$ 本身。\n\n考虑字母表 $\\Sigma = \\{0,1\\}$ 上的语言 $L$，其定义如下：一个二进制字符串 $x$ 属于 $L$，当且仅当在其长度 $|x|$ 是一个素数时，它的第一位 $x_1$ 是 '1'；在其长度不是素数时，它的第一位是 '0'。在本问题中，数字 0 和 1 不被认为是素数。\n\n以下哪个陈述正确地评估了语言 $L$ 是否属于复杂性类 $\\mathrm{P/poly}$？\n\nA. 是的，该语言属于 $\\mathrm{P/poly}$。一个长度为 1 的建议字符串 $a_n$ 可以用来告知多项式时间机器输入的长度 $n$ 是否为素数。然后，机器将输入的第一位与建议所指示的要求进行比较。\n\nB. 不，该语言不属于 $\\mathrm{P/poly}$。尽管素性测试已知在 $P$ 类中，但一个一致的多项式时间算法必须在没有针对每个 $n$ 的特殊信息的情况下判断所有输入长度 $n$ 的语言。该语言的定义内在地违反了这种一致性。\n\nC. 不，该语言不属于 $\\mathrm{P/poly}$。对于长度为 $n$ 的输入的建议字符串需要编码直到 $n$ 的每个数的素性，这需要非多项式数量的信息。\n\nD. 不，该语言不属于 $\\mathrm{P/poly}$。建议字符串序列本身不要求是可计算的，但在这种情况下，生成建议需要对所有整数进行素性测试，这在计算上过于昂贵，是不允许的。",
            "solution": "我们回顾一下定义：$L \\subseteq \\{0,1\\}^{*}$ 属于 $\\mathrm{P/poly}$，如果存在一个多项式时间图灵机 $M$ 和一个建议字符串族 $\\{a_{n}\\}_{n \\ge 0}$，其中对于某个多项式 $p$ 有 $|a_{n}| \\le p(n)$，使得对于每个长度为 $|x|=n$ 的输入 $x$，$M(x,a_{n})$ 能正确地判断 $x$ 是否属于 $L$。\n\n语言 $L$ 由以下性质定义：对于 $n=|x|$，如果 $n$ 是素数，则 $x \\in L$ 当且仅当 $x_{1}=1$；如果 $n$ 不是素数，则 $x \\in L$ 当且仅当 $x_{1}=0$。对于 $n=0$，没有字符串有第一位，因此没有长度为 $0$ 的字符串满足该条件，所以空字符串不属于 $L$；这不影响下面的构造。\n\n按如下方式构造建议和图灵机。\n1. 对每个 $n \\ge 0$，定义建议位 $a_{n} \\in \\{0,1\\}$ 如下\n$$\na_{n} =\n\\begin{cases}\n1  \\text{如果 $n$ 是素数},\\\\\n0  \\text{如果 $n$ 不是素数}。\n\\end{cases}\n$$\n那么 $|a_{n}|=1$，所以我们可以取 $p(n)=1$。\n\n2. 定义 $M$ 在 $n=|x|$ 的多项式时间内运行并执行以下操作：\n- 通过扫描输入计算 $n=|x|$。\n- 如果 $n=0$，拒绝（如上所述，这与 $L$ 的定义相符）。\n- 否则，读取第一位 $x_{1}$。当且仅当 $x_{1}=a_{n}$ 时接受。\n\n这个 $M$ 在 $O(n)$ 时间内运行，并且只使用一个比特的建议 $a_{n}$。对于每个长度为 $n \\ge 1$ 的 $x$，$M$ 恰好接受那些第一位等于 $a_{n}$ 的 $x$，根据构造，这正是 $L$ 的成员资格条件。因此 $L \\in \\mathrm{P/poly}$。\n\n此外，$L$ 也属于 $P$：一个一致的多项式时间机器可以计算 $n=|x|$，在 $\\log n$ 的多项式时间内测试 $n$ 的素性（在 $n$ 的多项式时间内计算出 $n$ 的二进制表示后），并与 $x_{1}$ 进行比较。因此，$L$ 属于 $P$ 已经意味着 $L \\in \\mathrm{P/poly}$。\n\n评估各个选项：\n- A 是正确的：一个比特的建议 $a_n$ 指示 $n$ 的素性就足够了，$M$ 在多项式时间内将 $x_{1}$ 与 $a_{n}$ 进行比较。\n- B 是不正确的：$\\mathrm{P/poly}$ 中没有违反一致性的问题，实际上 $L$ 有一个一致的多项式时间判定器，所以该语言在 $P$ 中，因此也在 $\\mathrm{P/poly}$ 中。\n- C 是不正确的：对于长度 $n$ 的建议只需要编码关于该长度 $n$ 的信息（一个比特），而不需要关于所有直到 $n$ 的长度的信息。\n- D 是不正确的：$\\mathrm{P/poly}$ 不要求建议序列是可计算的；此外，即使坚持可计算性，判定素性也在 $P$ 中，因此生成 $a_{n}$ 在计算上并非昂贵得不可接受。\n\n因此，正确选项是 A。",
            "answer": "$$\\boxed{A}$$"
        },
        {
            "introduction": "$\\mathrm{P/poly}$ 的一个关键特征是它对建议字符串的来源没有任何计算上的限制。这个练习邀请你思考一个变种情况：如果建议字符串本身必须由一个多项式时间算法生成，会发生什么？通过分析这个名为 $P_{\\text{COMP-ADV}}$ 的假设性复杂性类，你将更深刻地理解“非一致性”的真正含义及其与标准图灵机计算模型 $P$ 的关系 。",
            "id": "1411412",
            "problem": "在计算复杂性理论中，我们研究解决计算问题所需的资源。一个语言（language）是字母表（通常是 $\\{0, 1\\}$）上的字符串集合。图灵机（Turing Machine, TM）是一种计算的数学模型。\n\n复杂性类 $P$ 是所有可以由一个确定性图灵机在输入长度的多项式时间内判定的语言的集合。\n\n一个更强大的“非一致性”（non-uniform）类是 $P/\\text{poly}$。一个语言 $L$ 属于 $P/\\text{poly}$，如果存在一个多项式时间的图灵机 $M$ 和一个“建议字符串”（advice strings）序列 $\\{a_n\\}_{n \\in \\mathbb{N}}$，其中 $|a_n|$ 的长度以 $n$ 的多项式为界，使得对于任何长度为 $n$ 的输入字符串 $x$：\n$$x \\in L \\iff M(\\langle x, a_n \\rangle) \\text{ accepts}$$\n在 $P/\\text{poly}$ 的标准定义中，对于建议序列 $\\{a_n\\}$ 是如何生成的没有限制；它甚至可以是非可计算的。\n\n考虑该类的一个变体，我们称之为 $P_{\\text{COMP-ADV}}$，其中建议序列必须在多项式时间内生成。具体来说，一个语言 $L$ 属于 $P_{\\text{COMP-ADV}}$，如果存在两个多项式时间的确定性图灵机，一个“主”图灵机 $M$ 和一个“建议生成器” $A$，使得对于每个自然数 $n \\ge 0$，以下条件成立：\n1. 对于长度为 $n$ 的输入的建议是 $a_n = A(1^n)$，其中 $1^n$ 是由 $n$ 个 1 组成的字符串。\n2. 对于任何长度为 $n$ 的输入字符串 $x$，$x \\in L$ 当且仅当 $M(\\langle x, a_n \\rangle)$ 接受。\n\n下列哪个著名的复杂性类等价于 $P_{\\text{COMP-ADV}}$？\n\nA. $P$\nB. $L$，即可在对数空间内判定的语言类。\nC. $P/\\text{poly}$\nD. $E = \\bigcup_{c>0} \\text{DTIME}(2^{cn})$\nE. $EXP = \\bigcup_{c>0} \\text{DTIME}(2^{n^c})$",
            "solution": "我们通过证明两个包含关系 $P \\subseteq P_{\\text{COMP-ADV}}$ 和 $P_{\\text{COMP-ADV}} \\subseteq P$ 来比较 $P_{\\text{COMP-ADV}}$ 与 $P$。\n\n首先，$P \\subseteq P_{\\text{COMP-ADV}}$：令 $L \\in P$。那么存在一个确定性图灵机 $T$ 和一个多项式 $p$，使得对于输入 $x$，$T$ 在至多 $p(|x|)$ 步内判定 $x$ 是否属于 $L$。定义一个多项式时间的建议生成器 $A$ 为 $A(1^{n}) = \\epsilon$ (对所有 $n$ 成立)，其中 $\\epsilon$ 是空字符串，并定义 $M$ 来模拟 $T$ 对 $x$ 的计算，同时忽略建议。那么对于每个 $x$，$x \\in L \\iff M(\\langle x, A(1^{|x|}) \\rangle)$ 接受。因为 $A$ 和 $M$ 都在多项式时间内运行，所以 $L \\in P_{\\text{COMP-ADV}}$。\n\n其次，$P_{\\text{COMP-ADV}} \\subseteq P$：令 $L \\in P_{\\text{COMP-ADV}}$。那么存在确定性图灵机 $A$ 和 $M$ 以及多项式 $p_{A}$ 和 $p_{M}$，使得：\n- 对于每个 $n \\ge 0$，$A(1^{n})$ 在至多 $p_{A}(n)$ 步内停机并输出 $a_{n}$。\n- 对于每个输入对 $\\langle x, a \\rangle$，$M(\\langle x, a \\rangle)$ 在至多 $p_{M}(|\\langle x, a \\rangle|)$ 步内停机，并且根据 $x \\in L \\iff M(\\langle x, a_{|x|} \\rangle)$ 接受 来进行判定。\n\n因为每个输出位至少需要一个计算步骤，所以输出长度受运行时间的限制。因此，对于所有的 $n$，\n$$\n|a_{n}| \\le p_{A}(n).\n$$\n对于一个输入 $x$ 且 $|x| = n$，考虑一个确定性图灵机 $T$，它在输入 $x$ 上先计算 $a_{n} := A(1^{n})$，然后运行 $M(\\langle x, a_{n} \\rangle)$。$T$ 在长度为 $n$ 的输入上的总运行时间至多为\n$$\np_{A}(n) + p_{M}(|\\langle x, a_{n} \\rangle|).\n$$\n由于 $|\\langle x, a_{n} \\rangle| \\le |x| + |a_{n}| + c \\le n + p_{A}(n) + c$（对于某个常数 $c$），存在一个多项式 $q$ 使得\n$$\np_{M}(|\\langle x, a_{n} \\rangle|) \\le q(n).\n$$\n因此，总时间 $p_{A}(n) + q(n)$ 是 $n$ 的多项式，所以 $T$ 在多项式时间内判定 $L$。因此 $L \\in P$。\n\n结合两个包含关系得出 $P_{\\text{COMP-ADV}} = P$。在给定的选项中，这是选项 A。",
            "answer": "$$\\boxed{A}$$"
        },
        {
            "introduction": "复杂性类的一个重要性质是它们在某些运算下的闭包性。这个练习将指导你证明 $\\mathrm{P/poly}$ 在连接运算下是闭合的。你需要为一个由两个 $\\mathrm{P/poly}$ 语言连接而成的新语言设计一个有效的建议字符串，这需要你整合所有可能分割点所需的全部建议。这个过程不仅是一个概念上的证明，还涉及到精确计算建议字符串长度的多项式，从而将理论与计算实践相结合 。",
            "id": "1454186",
            "problem": "在计算复杂性理论中，$\\mathrm{P/poly}$ 类（带有多项式建议的多项式时间）包含的是那些可以由一台图灵机在多项式时间内解决的判定问题，这台图灵机需要一个额外的“建议”字符串。这个建议字符串仅取决于输入的长度，而不是输入本身，并且其长度必须由输入长度的一个多项式所界定。\n\n设 $L_1$ 和 $L_2$ 是 $\\mathrm{P/poly}$ 中的两个语言。\n- 对于长度为 $n$ 的输入，语言 $L_1$ 由一台图灵机 $M_1$ 使用建议字符串 $s_n^{(1)}$ 来判定。该建议字符串的长度*恰好*由多项式 $|s_n^{(1)}| = 2n^2 + 5$ 给出。\n- 对于长度为 $n$ 的输入，语言 $L_2$ 由一台图灵机 $M_2$ 使用建议字符串 $s_n^{(2)}$ 来判定。该建议字符串的长度*恰好*由多项式 $|s_n^{(2)}| = n^3 + 3n + 1$ 给出。\n\n考虑这两个语言的串接，定义为 $L_{concat} = L_1 \\circ L_2 = \\{xy \\mid x \\in L_1, y \\in L_2 \\}$。一个长度为 $n$ 的字符串 $w$ 属于 $L_{concat}$，当且仅当它可以被分割成一个长度为 $k$ 的前缀 $x$ 和一个长度为 $n-k$ 的后缀 $y$（对于某个 $k \\in \\{0, 1, \\dots, n\\}$），使得 $x \\in L_1$ 且 $y \\in L_2$。\n\n为了判定任意长度为 $n$ 的字符串是否属于 $L_{concat}$，一台新的图灵机 $M_{concat}$ 需要一个建议字符串 $c_n$，该字符串包含来自 $M_1$ 和 $M_2$ 的、针对所有可能分割点的所有必要建议。假设这个复合建议字符串 $c_n$ 是通过将大小从 $0$ 到 $n$ 的所有子问题所需的建议字符串串接而成，如下所示：\n$$c_n = s_0^{(1)} s_1^{(1)} \\dots s_n^{(1)} s_0^{(2)} s_1^{(2)} \\dots s_n^{(2)}$$\n这个复合建议字符串的长度 $|c_n|$ 是一个关于 $n$ 的多项式。如果我们将这个长度写为 $P(n) = C_4 n^4 + C_3 n^3 + C_2 n^2 + C_1 n + C_0$，那么系数 $C_4, C_3, C_2, C_1, C_0$ 的精确有理数值是什么？\n\n请将你的答案表示为一个单行矩阵，按顺序包含这五个系数 $(C_4, C_3, C_2, C_1, C_0)$。",
            "solution": "对于长度为 $k$ 的输入，我们已知确切的建议长度：\n- 对于 $L_{1}$：$\\left|s_{k}^{(1)}\\right| = 2k^{2} + 5$。\n- 对于 $L_{2}$：$\\left|s_{k}^{(2)}\\right| = k^{3} + 3k + 1$。\n\n对于长度为 $n$ 的输入的复合建议是\n$$\nc_{n} = s_{0}^{(1)} s_{1}^{(1)} \\dots s_{n}^{(1)} s_{0}^{(2)} s_{1}^{(2)} \\dots s_{n}^{(2)},\n$$\n因此其总长度为\n$$\n|c_{n}| = \\sum_{k=0}^{n} \\left|s_{k}^{(1)}\\right| + \\sum_{k=0}^{n} \\left|s_{k}^{(2)}\\right| = \\sum_{k=0}^{n} (2k^{2}+5) + \\sum_{k=0}^{n} (k^{3}+3k+1).\n$$\n\n使用标准求和公式：\n$$\n\\sum_{k=0}^{n} 1 = n+1,\\quad \\sum_{k=0}^{n} k = \\frac{n(n+1)}{2},\\quad \\sum_{k=0}^{n} k^{2} = \\frac{n(n+1)(2n+1)}{6},\\quad \\sum_{k=0}^{n} k^{3} = \\left(\\frac{n(n+1)}{2}\\right)^{2}.\n$$\n\n计算第一个和：\n$$\n\\sum_{k=0}^{n} (2k^{2}+5) = 2 \\sum_{k=0}^{n} k^{2} + 5 \\sum_{k=0}^{n} 1 = 2 \\cdot \\frac{n(n+1)(2n+1)}{6} + 5(n+1).\n$$\n化简：\n$$\n\\frac{n(n+1)(2n+1)}{3} + 5(n+1) = \\left(\\frac{2}{3}n^{3} + n^{2} + \\frac{1}{3}n\\right) + 5n + 5 = \\frac{2}{3}n^{3} + n^{2} + \\frac{16}{3}n + 5.\n$$\n\n计算第二个和：\n$$\n\\sum_{k=0}^{n} (k^{3}+3k+1) = \\sum_{k=0}^{n} k^{3} + 3 \\sum_{k=0}^{n} k + \\sum_{k=0}^{n} 1 = \\left(\\frac{n(n+1)}{2}\\right)^{2} + 3 \\cdot \\frac{n(n+1)}{2} + (n+1).\n$$\n展开：\n$$\n\\left(\\frac{n(n+1)}{2}\\right)^{2} = \\frac{1}{4}\\left(n^{4} + 2n^{3} + n^{2}\\right),\\quad 3 \\cdot \\frac{n(n+1)}{2} = \\frac{3}{2}n^{2} + \\frac{3}{2}n,\n$$\n所以\n$$\n\\sum_{k=0}^{n} (k^{3}+3k+1) = \\frac{1}{4}n^{4} + \\frac{1}{2}n^{3} + \\frac{1}{4}n^{2} + \\frac{3}{2}n^{2} + \\frac{3}{2}n + n + 1 = \\frac{1}{4}n^{4} + \\frac{1}{2}n^{3} + \\frac{7}{4}n^{2} + \\frac{5}{2}n + 1.\n$$\n\n将两部分相加得到 $P(n)$：\n$$\nP(n) = |c_{n}| = \\left(\\frac{2}{3}n^{3} + n^{2} + \\frac{16}{3}n + 5\\right) + \\left(\\frac{1}{4}n^{4} + \\frac{1}{2}n^{3} + \\frac{7}{4}n^{2} + \\frac{5}{2}n + 1\\right).\n$$\n按 $n$ 的幂次合并系数：\n$$\nP(n) = \\frac{1}{4}n^{4} + \\left(\\frac{2}{3} + \\frac{1}{2}\\right)n^{3} + \\left(1 + \\frac{7}{4}\\right)n^{2} + \\left(\\frac{16}{3} + \\frac{5}{2}\\right)n + (5+1).\n$$\n计算系数的和：\n$$\n\\frac{2}{3} + \\frac{1}{2} = \\frac{7}{6},\\quad 1 + \\frac{7}{4} = \\frac{11}{4},\\quad \\frac{16}{3} + \\frac{5}{2} = \\frac{32}{6} + \\frac{15}{6} = \\frac{47}{6},\\quad 5+1=6.\n$$\n因此，\n$$\nP(n) = \\frac{1}{4}n^{4} + \\frac{7}{6}n^{3} + \\frac{11}{4}n^{2} + \\frac{47}{6}n + 6,\n$$\n所以系数为\n$$\n(C_{4},C_{3},C_{2},C_{1},C_{0}) = \\left(\\frac{1}{4}, \\frac{7}{6}, \\frac{11}{4}, \\frac{47}{6}, 6\\right).\n$$",
            "answer": "$$\\boxed{\\begin{pmatrix}\\frac{1}{4}  \\frac{7}{6}  \\frac{11}{4}  \\frac{47}{6}  6\\end{pmatrix}}$$"
        }
    ]
}