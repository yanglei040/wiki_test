{
    "hands_on_practices": [
        {
            "introduction": "The strength of a zero-knowledge proof lies in its soundness—the guarantee that a false statement cannot be proven true, except with a negligible probability. This first exercise  invites you to step into the shoes of a cheating prover who knows the two graphs $G_1$ and $G_2$ are actually isomorphic. By determining the best possible strategy for this prover, you will calculate the maximum chance of deceiving the verifier in a single round, revealing the protocol's foundational probabilistic security.",
            "id": "1469892",
            "problem": "In the field of theoretical computer science, an interactive proof system allows a computationally powerful Prover to convince a computationally limited Verifier of the truth of a mathematical statement. Consider the following interactive protocol designed to prove that two graphs, $G_1$ and $G_2$, are non-isomorphic.\n\nThe Prover, Alice, claims to the Verifier, Bob, that two specific graphs, $G_1$ and $G_2$, are non-isomorphic. To convince Bob, they execute a single round of the following protocol:\n\n1.  **Bob's Step**: Bob chooses an index $i$ uniformly at random from the set $\\{1, 2\\}$. He then creates a new graph, $H$, by applying a random permutation to the vertex labels of his chosen graph $G_i$. This means that $H$ is isomorphic to $G_i$, but its vertex labels are scrambled. Bob sends only the graph $H$ to Alice.\n\n2.  **Alice's Step**: Alice receives the graph $H$. She is assumed to have unlimited computational power. She must determine which of the original graphs, $G_1$ or $G_2$, is isomorphic to $H$. She sends her answer, an index $j \\in \\{1, 2\\}$, back to Bob.\n\n3.  **Bob's Verification**: Bob checks if Alice's returned index $j$ matches his secretly chosen index $i$. If $j=i$, the round is successful. If $j \\neq i$, the round fails, and Bob rejects Alice's claim.\n\nNow, suppose Alice is attempting to cheat. In reality, the two graphs $G_1$ and $G_2$ are actually isomorphic, a fact that Alice knows but Bob does not. Alice still claims the graphs are non-isomorphic and participates in the protocol, hoping to pass the verification step.\n\nWhat is the probability that Alice can successfully complete this single round of the protocol, assuming she employs the best possible strategy to determine her response $j$?\n\nA. 0\n\nB. $\\frac{1}{4}$\n\nC. $\\frac{1}{2}$\n\nD. $\\frac{3}{4}$\n\nE. 1",
            "solution": "Let $G_{1}$ and $G_{2}$ be graphs on the same vertex set size $n$ with $G_{1} \\simeq G_{2}$. Let $I \\in \\{1,2\\}$ be Bob’s uniformly random choice, so $\\Pr(I=i)=\\frac{1}{2}$. Let $\\Pi$ be a uniformly random permutation in the symmetric group $S_{n}$, independent of $I$. Bob constructs $H=\\Pi(G_{I})$ and sends $H$ to Alice.\n\nBecause $G_{1} \\simeq G_{2}$, there exists a permutation $\\sigma \\in S_{n}$ such that $G_{2}=\\sigma(G_{1})$. For any labeled graph $h$ on $n$ vertices,\n$$\n\\Pr(H=h \\mid I=2)=\\Pr(\\Pi(G_{2})=h)=\\Pr(\\Pi(\\sigma(G_{1}))=h).\n$$\nDefining $\\Pi'=\\Pi \\circ \\sigma$, we have that $\\Pi'$ is uniformly distributed on $S_{n}$ whenever $\\Pi$ is, hence\n$$\n\\Pr(H=h \\mid I=2)=\\Pr(\\Pi'(G_{1})=h)=\\Pr(H=h \\mid I=1).\n$$\nTherefore the conditional distributions of $H$ given $I=1$ and $I=2$ are identical. By Bayes’ rule, for any $h$ with $\\Pr(H=h)>0$,\n$$\n\\Pr(I=i \\mid H=h)=\\frac{\\Pr(H=h \\mid I=i)\\Pr(I=i)}{\\sum_{k=1}^{2}\\Pr(H=h \\mid I=k)\\Pr(I=k)}=\\frac{a \\cdot \\frac{1}{2}}{a \\cdot \\frac{1}{2}+a \\cdot \\frac{1}{2}}=\\frac{1}{2},\n$$\nwhere $a=\\Pr(H=h \\mid I=1)=\\Pr(H=h \\mid I=2)$.\n\nLet Alice’s (possibly randomized) strategy be to output $J \\in \\{1,2\\}$ according to some conditional distribution $\\Pr(J=j \\mid H=h)$. The success probability is\n$$\n\\Pr(J=I)=\\sum_{h}\\Pr(H=h)\\sum_{i=1}^{2}\\Pr(I=i \\mid H=h)\\Pr(J=i \\mid H=h).\n$$\nUsing $\\Pr(I=i \\mid H=h)=\\frac{1}{2}$ for both $i$,\n$$\n\\Pr(J=I)=\\sum_{h}\\Pr(H=h)\\left(\\frac{1}{2}\\sum_{i=1}^{2}\\Pr(J=i \\mid H=h)\\right)=\\sum_{h}\\Pr(H=h)\\left(\\frac{1}{2}\\cdot 1\\right)=\\frac{1}{2}.\n$$\nThus no strategy can achieve success probability exceeding $\\frac{1}{2}$, and this is achieved by random guessing. Therefore, the optimal success probability for Alice when $G_{1}$ and $G_{2}$ are isomorphic is $\\frac{1}{2}$, corresponding to option C.",
            "answer": "$$\\boxed{C}$$"
        },
        {
            "introduction": "While a single round offers some protection, the true power of this interactive proof comes from repetition. This practice  builds on the single-round analysis by exploring how a verifier's belief is updated over multiple successful interactions. Using Bayesian inference, you will quantify the verifier's confidence after observing a series of correct answers, demonstrating the principle of soundness amplification where the probability of being cheated becomes vanishingly small.",
            "id": "1469933",
            "problem": "A cybersecurity firm, \"GraphGuard,\" is developing a novel method for verifying digital identities. The core of their system relies on the computational difficulty of the Graph Isomorphism problem. An engineer, Alice, presents her manager, Bob, with two large, complex network graphs, $G_1$ and $G_2$. Alice claims that these two graphs are non-isomorphic, a key requirement for her proposed security protocol.\n\nBob is skeptical. Based on his prior experience with similar graph generation algorithms, he believes there is a 50% chance that Alice is correct and the graphs are non-isomorphic, and a 50% chance they are, in fact, isomorphic. To test Alice's claim, they agree on the following interactive challenge, to be repeated multiple times:\n\n1.  Bob secretly and randomly chooses one of the two graphs, either $G_1$ or $G_2$, with equal probability.\n2.  He then generates a new graph, $H$, by randomly permuting the vertex labels of his chosen graph. This process ensures that $H$ is isomorphic to the graph he selected, but its structure is scrambled.\n3.  Bob presents only the graph $H$ to Alice.\n4.  Alice must then determine whether $H$ is isomorphic to $G_1$ or to $G_2$.\n\nAssume that if the graphs $G_1$ and $G_2$ are truly non-isomorphic, Alice's advanced system can correctly identify the origin of $H$ with 100% accuracy. However, if the graphs are secretly isomorphic, even her system cannot distinguish them, and she is forced to guess, giving her a 50% chance of being correct in any given challenge.\n\nThey perform this challenge for $k=12$ consecutive rounds, and Alice provides the correct answer every single time. What is Bob's new confidence, expressed as a probability, that the graphs $G_1$ and $G_2$ are indeed non-isomorphic?\n\nProvide your answer as a decimal value rounded to four significant figures.",
            "solution": "Let the hypotheses be:\n- $H_{\\mathrm{NI}}$: $G_{1}$ and $G_{2}$ are non-isomorphic.\n- $H_{\\mathrm{I}}$: $G_{1}$ and $G_{2}$ are isomorphic.\n\nBob’s prior beliefs are $P(H_{\\mathrm{NI}})=\\frac{1}{2}$ and $P(H_{\\mathrm{I}})=\\frac{1}{2}$.\n\nIn each round, if $H_{\\mathrm{NI}}$ is true, Alice answers correctly with probability $1$. If $H_{\\mathrm{I}}$ is true, Alice answers correctly with probability $\\frac{1}{2}$. Over $k=12$ independent rounds with all answers correct, the likelihoods are\n$$\nP(\\text{all 12 correct}\\mid H_{\\mathrm{NI}})=1^{12}=1,\n$$\n$$\nP(\\text{all 12 correct}\\mid H_{\\mathrm{I}})=\\left(\\frac{1}{2}\\right)^{12}=2^{-12}.\n$$\n\nBy Bayes’ theorem, the posterior probability that the graphs are non-isomorphic is\n$$\nP(H_{\\mathrm{NI}}\\mid \\text{all 12 correct})=\\frac{P(\\text{all 12 correct}\\mid H_{\\mathrm{NI}})P(H_{\\mathrm{NI}})}{P(\\text{all 12 correct}\\mid H_{\\mathrm{NI}})P(H_{\\mathrm{NI}})+P(\\text{all 12 correct}\\mid H_{\\mathrm{I}})P(H_{\\mathrm{I}})}.\n$$\nSubstituting the values,\n$$\nP(H_{\\mathrm{NI}}\\mid \\text{all 12 correct})=\\frac{1\\cdot \\frac{1}{2}}{1\\cdot \\frac{1}{2}+2^{-12}\\cdot \\frac{1}{2}}=\\frac{1}{1+2^{-12}}=\\frac{4096}{4097}.\n$$\n\nAs a decimal rounded to four significant figures,\n$\\frac{4096}{4097}\\approx 0.9998$.",
            "answer": "$$\\boxed{0.9998}$$"
        },
        {
            "introduction": "The security of cryptographic protocols often hinges on specific, carefully chosen details, and randomness is a frequent cornerstone. This final exercise  investigates a critical vulnerability by modifying the standard protocol: what if the verifier's challenge is no longer random but deterministic and predictable? Analyzing this scenario will reveal which of the core properties of a zero-knowledge proof is compromised, underscoring why unpredictability is essential to guarantee soundness.",
            "id": "1469924",
            "problem": "In the field of theoretical computer science, a Zero-Knowledge Proof (ZKP) is a method by which one party, the prover, can prove to another party, the verifier, that a given statement is true, without conveying any additional information apart from the fact that the statement is indeed true.\n\nConsider the classic ZKP for demonstrating that two graphs, $G_1$ and $G_2$, are **non-isomorphic**. The protocol involves a prover, Alice, who knows the graphs are non-isomorphic, and a verifier, Bob. The protocol proceeds in rounds as follows:\n1.  Alice randomly chooses one of the two graphs, $G_i$, where $i \\in \\{1, 2\\}$.\n2.  She then creates a new graph $H$ by applying a random permutation $\\pi$ to the vertices of her chosen graph $G_i$. This makes $H$ isomorphic to $G_i$.\n3.  Alice sends the graph $H$ to Bob.\n4.  Bob, who has both $G_1$ and $G_2$, receives $H$ and in turn randomly chooses a challenge $j \\in \\{1, 2\\}$. He asks Alice to provide an isomorphism between $H$ and $G_j$.\n5.  Alice complies. If her initial choice $i$ matches Bob's challenge $j$, she can provide the isomorphism. If $i \\neq j$, she can only provide the isomorphism if $G_1$ and $G_2$ are, in fact, isomorphic.\n6.  Bob verifies the isomorphism. If it is valid, the round succeeds. The process is repeated many times to reduce the probability of a cheating prover succeeding.\n\nNow, suppose Bob, the verifier, decides to alter the protocol. Instead of choosing his challenge $j$ randomly in each round (step 4), he uses a publicly known, deterministic sequence. For instance, for the sequence of rounds $k = 1, 2, 3, 4, \\dots$, he sets his challenges to be $j=1, j=2, j=1, j=2, \\dots$ respectively.\n\nAssume a malicious prover, Eve, is trying to convince Bob that two graphs $G_1$ and $G_2$ are non-isomorphic, when in reality they **are** isomorphic. Which of the three fundamental properties of a zero-knowledge proof is critically compromised by Bob's use of a deterministic challenge sequence, allowing Eve to cheat successfully?\n\nA. Completeness: The property that if the statement is true, an honest prover will always be able to convince an honest verifier.\nB. Soundness: The property that if the statement is false, a cheating prover has only a negligible probability of convincing the verifier.\nC. Zero-Knowledge: The property that the verifier learns nothing beyond the fact that the statement is true.\nD. Isomorphism Invariance: The property that the proof outcome is independent of the specific vertex labeling of the graphs.",
            "solution": "We first recall the three core properties of a zero-knowledge proof for a language: completeness (if the statement is true, an honest prover convinces an honest verifier with high probability), soundness (if the statement is false, no cheating prover can convince the verifier except with negligible probability), and zero-knowledge (the verifier learns nothing beyond the truth of the statement).\n\nIn the standard interactive protocol structure under discussion, the critical protection against a cheating prover is that the verifier’s challenge is unpredictable to the prover at the time the prover commits to the message that fixes what they can later open (here, the graph $H$). Formally, if the graphs are actually isomorphic (the statement “non-isomorphic” is false), and a malicious prover does not know an isomorphism between $G_{1}$ and $G_{2}$, then upon sending $H$ (constructed as a random permutation of one of the two), the prover can only answer the challenge $j$ correctly when it coincides with the index $i$ they used to construct $H$. With a uniform random challenge, this yields\n$$\n\\Pr[\\text{accept in a round}] = \\frac{1}{2},\n$$\nand over $t$ independent rounds,\n$$\n\\Pr[\\text{accept in } t \\text{ rounds}] = \\left(\\frac{1}{2}\\right)^{t} = 2^{-t},\n$$\nwhich is negligible in $t$. This is precisely the soundness guarantee: when the statement is false, the success probability of any cheating prover is negligible.\n\nNow suppose the verifier replaces the random challenge with a publicly known deterministic sequence, for example $j=1,2,1,2,\\dots$ by round. Then the prover knows in advance, before sending $H$ in each round, which $j$ will be asked. A malicious prover can set $i=j$ in each round, construct $H$ as a random permutation of $G_{j}$, and thus always be able to produce the isomorphism between $H$ and $G_{j}$ upon challenge. This makes\n$$\n\\Pr[\\text{accept in a round}] = 1 \\quad \\text{and} \\quad \\Pr[\\text{accept in } t \\text{ rounds}] = 1,\n$$\neven though the statement is false. Therefore, the property that is critically compromised by making the challenge deterministic and predictable is soundness: the probability that a cheating prover convinces the verifier when the statement is false is no longer negligible; it becomes $1$ under this attack.\n\nCompleteness is not the issue here (an honest prover remains able to convince when the statement is true), and zero-knowledge is not directly affected by the determinism of the verifier’s challenge in this scenario. “Isomorphism invariance” is not one of the three fundamental ZKP properties and is not the relevant guarantee here. Consequently, the compromised property is soundness.",
            "answer": "$$\\boxed{B}$$"
        }
    ]
}