{
    "hands_on_practices": [
        {
            "introduction": "随机过程的轨迹本身就蕴含着丰富的信息。一个核心问题是：一个过程需要多长时间才能首次达到某个特定水平？这个问题，被称为“首次穿越时间”问题，在金融（如触发止损或止盈订单）和工程等领域有广泛应用。通过解决这个问题 ，我们将运用鞅论的基本性质来分析维纳过程这一最基础的随机过程的路径行为。",
            "id": "1710319",
            "problem": "一位金融分析师对一投机性资产价格 $P(t)$ 随时间 $t$ 的演变进行建模。该模型假设，价格与其初始价格 $P(0)$ 之比的自然对数，定义为 $X_t = \\ln(P(t)/P(0))$，遵循标准一维 Wiener 过程 $W_t$ 的动态。该过程从 $X_0 = 0$ 开始。\n\n该分析师实施了一个基于两个预定义阈值的自动交易策略。如果过程 $X_t$ 首次达到一个上界 $a  0$，则触发“止盈”订单。如果 $X_t$ 首次达到一个下界 $-b$（其中 $b  0$），则触发“止损”订单。我们假设该过程最终会触及这两个边界之一。\n\n求交易头寸因触发“止盈”订单而非“止损”订单而平仓的概率。您的答案应为一个以 $a$ 和 $b$ 表示的符号表达式。",
            "solution": "设 $X_{t}=W_{t}$ 是一个标准 Wiener 过程，且 $X_{0}=0$。定义首次触及双边壁垒的时间为\n$$\n\\tau=\\inf\\{t\\ge 0:\\,X_{t}\\in\\{-b,a\\}\\}.\n$$\n令 $p=\\mathbb{P}(X_{\\tau}=a)$ 表示在触及下界 $-b$ 之前先触及上界 $a$ 的概率。\n\n由于 $X_{t}$ 是一个标准 Brownian motion，它是一个鞅。停时过程 $(X_{t\\wedge\\tau})_{t\\ge 0}$ 由 $\\max\\{a,b\\}$ 界定，因为在触及壁垒之前，它位于 $(-b,a)$ 内，而在触及壁垒之后，它等于 $a$ 或 $-b$。因此 $(X_{t\\wedge\\tau})_{t\\ge 0}$ 是一个有界鞅，故对于所有 $t\\ge 0$，\n$$\n\\mathbb{E}[X_{t\\wedge\\tau}]=\\mathbb{E}[X_{0}]=0.\n$$\n此外，当 $t\\to\\infty$ 时，$X_{t\\wedge\\tau}\\to X_{\\tau}$ 几乎必然成立，并且对于所有 $t$，都有 $|X_{t\\wedge\\tau}|\\le \\max\\{a,b\\}$，因此根据控制收敛定理，\n$$\n\\mathbb{E}[X_{\\tau}]=\\lim_{t\\to\\infty}\\mathbb{E}[X_{t\\wedge\\tau}]=0.\n$$\n在停时 $\\tau$，随机变量 $X_{\\tau}$ 以概率 $p$ 取值为 $a$，以概率 $1-p$ 取值为 $-b$。因此，\n$$\n\\mathbb{E}[X_{\\tau}]=a\\,p+(-b)\\,(1-p)=0.\n$$\n解这个关于 $p$ 的线性方程，可得\n$$\na\\,p-b+b\\,p=0\\quad\\Longrightarrow\\quad (a+b)\\,p=b\\quad\\Longrightarrow\\quad p=\\frac{b}{a+b}.\n$$\n因此，该过程在触及下界 $-b$ 之前先触及上界 $a$ 的概率为 $\\frac{b}{a+b}$。",
            "answer": "$$\\boxed{\\frac{b}{a+b}}$$"
        },
        {
            "introduction": "当我们处理随机过程的函数时，普通微积分的链式法则不再适用，因为随机过程的路径具有非零的“二次变差”。为了解决这个问题，我们需要一个随机版本的链式法则——伊藤引理（Itô's Lemma），它是随机微积分的基石。这个练习  将指导你如何应用伊藤引理，为一个物理系统（一个受随机力作用的弹簧）的势能推导出其自身的随机微分方程。",
            "id": "1710369",
            "problem": "一个微观粒子被弹簧束缚，并浸在一个恒温的液体浴中。该粒子的一维位置 $X_t$ 受到来自弹簧的线性恢复力、来自液体的粘性阻力以及来自液体分子的随机热碰撞的影响。其位置的动力学由Ornstein-Uhlenbeck过程建模，这是一种随机微分方程（SDE），表示为：\n$$dX_t = -\\theta X_t dt + \\sigma dW_t$$\n在这里，$X_t$ 是在时间 $t$ 时粒子相对于弹簧平衡位置的位移。参数 $\\theta  0$ 代表恢复力相对于粘性阻力的强度，而 $\\sigma  0$ 是一个常数，代表热噪声的大小。$W_t$ 是一个标准的维纳过程（Wiener process），用于模拟随机的冲击。\n\n储存在弹簧中的势能是粒子位置的函数，由 $V(x) = \\frac{1}{2} k x^2$ 给出，其中 $k  0$ 是弹簧常数。令 $Y_t = V(X_t)$ 是表示在时间 $t$ 时的势能的随机过程。$Y_t$ 的演化也可以用以下通用形式的随机微分方程来描述：\n$$dY_t = \\alpha(X_t) dt + \\beta(X_t) dW_t$$\n\n确定漂移系数 $\\alpha(X_t)$ 和扩散系数 $\\beta(X_t)$，用粒子的位置 $X_t$ 和常数 $k$、$\\theta$、$\\sigma$ 来表示。将您的答案以一个 1x2 行矩阵的形式呈现，其中按顺序包含两个表达式 $[\\alpha(X_t) \\quad \\beta(X_t)]$。",
            "solution": "我们已知粒子位置的伊藤（Itô）扩散为：\n$$\ndX_{t} = -\\theta X_{t}\\, dt + \\sigma\\, dW_{t},\n$$\n以及势能函数\n$$\nV(x) = \\frac{1}{2} k x^{2}, \\quad Y_{t} = V(X_{t}).\n$$\n为了得到 $Y_{t}$ 的随机微分方程，对 $V(X_{t})$ 应用伊藤公式（Itô's formula）：\n$$\ndY_{t} = V'(X_{t})\\, dX_{t} + \\frac{1}{2} V''(X_{t})\\, (dX_{t})^{2}.\n$$\n对于给定的 $V$，计算其导数：\n$$\nV'(x) = k x, \\quad V''(x) = k.\n$$\n将 $dX_{t}$ 写成标准形式 $dX_{t} = a(X_{t})\\, dt + b(X_{t})\\, dW_{t}$，其中\n$$\na(X_{t}) = -\\theta X_{t}, \\quad b(X_{t}) = \\sigma.\n$$\n使用伊藤法则 $(dW_{t})^{2} = dt$、$dt\\, dW_{t} = 0$ 和 $(dt)^{2} = 0$，我们得到\n$$\n(dX_{t})^{2} = b(X_{t})^{2}\\, (dW_{t})^{2} = \\sigma^{2}\\, dt.\n$$\n代入伊藤公式：\n$$\ndY_{t} = V'(X_{t})\\, a(X_{t})\\, dt + V'(X_{t})\\, b(X_{t})\\, dW_{t} + \\frac{1}{2} V''(X_{t})\\, b(X_{t})^{2}\\, dt.\n$$\n由于 $V'(X_{t}) = k X_{t}$ 和 $V''(X_{t}) = k$，上式变为\n$$\ndY_{t} = k X_{t} \\left(-\\theta X_{t}\\right) dt + k X_{t} \\sigma\\, dW_{t} + \\frac{1}{2} k \\sigma^{2}\\, dt.\n$$\n合并 $dt$ 和 $dW_{t}$ 项，我们可以确定漂移系数和扩散系数：\n$$\n\\alpha(X_{t}) = -k \\theta X_{t}^{2} + \\frac{1}{2} k \\sigma^{2}, \\qquad \\beta(X_{t}) = k \\sigma X_{t}.\n$$",
            "answer": "$$\\boxed{\\begin{pmatrix}-k \\theta X_{t}^{2} + \\frac{1}{2} k \\sigma^{2}  k \\sigma X_{t}\\end{pmatrix}}$$"
        },
        {
            "introduction": "许多现实世界中的随机微分方程没有解析解，因此必须依赖数值模拟来理解其行为。欧拉-丸山法 (Euler-Maruyama method) 是最直接的模拟方法，但它可能无法保留原连续模型的所有重要性质。通过分析金融中著名的 CIR 模型 ，我们将揭示一个关键的警示：即使理论上保证解为正，简单的数值格式也可能产生无意义的负值，这凸显了在实践中谨慎选择和理解数值方法的重要性。",
            "id": "1710381",
            "problem": "Cox-Ingersoll-Ross (CIR) 模型在金融数学中常被用来描述利率随时间的演变。该理论模型的一个关键特性是利率过程 $X_t$ 保持非负。$X_t$ 的动态由以下随机微分方程（SDE）决定：\n$$dX_t = \\kappa(\\theta - X_t)dt + \\sigma \\sqrt{X_t} dW_t$$\n其中 $\\kappa  0$ 是均值回归速率，$\\theta  0$ 是长期均值，$\\sigma  0$ 是波动率参数，$W_t$ 是标准维纳过程。对于从正值开始的连续过程 $X_t$ 要保持严格为正，一个充分条件是 $2\\kappa\\theta  \\sigma^2$。\n\n为了对该过程进行数值模拟，可以采用欧拉-丸山（Euler-Maruyama）方法。该方法在时间步长为 $\\Delta t$ 的单步计算中，从时间 $t_n$ 的状态 $X_n$ 开始，计算在时间 $t_{n+1} = t_n + \\Delta t$ 的下一个状态 $X_{n+1}$ 如下：\n$$X_{n+1} = X_n + \\kappa(\\theta - X_n)\\Delta t + \\sigma \\sqrt{X_n} \\Delta W_n$$\n此处，维纳过程的增量 $\\Delta W_n$ 是一个从均值为 0、方差为 $\\Delta t$ 的正态分布中抽取的随机变量。\n\n考虑一个 CIR 模型的具体实例，其参数为 $\\kappa = 0.5$，$\\theta = 0.04$ 和 $\\sigma = 0.3$。这些参数满足正值条件 $2\\kappa\\theta  \\sigma^2$。假设过程的当前状态为 $X_n = 0.01$。我们希望使用欧拉-丸山方法，以 $\\Delta t = 0.25$ 的单时间步长来模拟下一个状态 $X_{n+1}$。\n\n尽管理论上保证了连续过程的正值性，但这种数值格式可能会产生负值。计算下一个模拟值 $X_{n+1}$ 为负的概率。将您的最终答案四舍五入到三位有效数字。",
            "solution": "我们应用一步欧拉-丸山方法：\n$$\nX_{n+1} = X_{n} + \\kappa(\\theta - X_{n})\\Delta t + \\sigma \\sqrt{X_{n}}\\,\\Delta W_{n},\n$$\n其中 $\\Delta W_{n} \\sim \\mathcal{N}(0,\\Delta t)$。在给定 $X_{n}$ 的条件下，这是一个正态变量的仿射变换，因此 $X_{n+1}$ 服从正态分布，其均值为\n$$\nm = X_{n} + \\kappa(\\theta - X_{n})\\Delta t\n$$\n方差为\n$$\nv = \\sigma^{2} X_{n} \\Delta t,\n$$\n因此标准差为 $s = \\sqrt{v} = \\sigma \\sqrt{X_{n}\\Delta t}$。\n\n欧拉步骤结果为负的概率是\n$$\n\\mathbb{P}(X_{n+1}  0 \\mid X_{n}) = \\mathbb{P}\\!\\left(\\frac{X_{n+1} - m}{s}  \\frac{0 - m}{s}\\right) = \\Phi\\!\\left(-\\frac{m}{s}\\right),\n$$\n其中 $\\Phi$ 是标准正态累积分布函数。\n\n代入给定值 $\\kappa = 0.5$，$\\theta = 0.04$，$\\sigma = 0.3$，$X_{n} = 0.01$ 和 $\\Delta t = 0.25$，我们计算\n$$\nm = 0.01 + 0.5\\,(0.04 - 0.01)\\,0.25 = 0.01 + 0.5 \\cdot 0.03 \\cdot 0.25 = 0.01375,\n$$\n$$\nv = 0.3^{2} \\cdot 0.01 \\cdot 0.25 = 0.000225, \\quad s = \\sqrt{0.000225} = 0.015.\n$$\n因此，\n$$\n\\frac{m}{s} = \\frac{0.01375}{0.015} = \\frac{11}{12}, \\quad \\text{所以} \\quad \\mathbb{P}(X_{n+1}  0) = \\Phi\\!\\left(-\\frac{11}{12}\\right).\n$$\n数值上，$\\Phi(-11/12) \\approx 0.1797$，四舍五入到三位有效数字为 $0.180$。",
            "answer": "$$\\boxed{0.180}$$"
        }
    ]
}