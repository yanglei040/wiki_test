{
    "hands_on_practices": [
        {
            "introduction": "核磁共振波谱中的耦合常数（$J$）是分子的内禀属性，其单位为赫兹（Hz）。然而，为了使化学位移独立于所用谱仪的磁场强度，谱图通常以百万分率（ppm）为单位进行标定。本练习旨在帮助你掌握在这两种单位之间进行转换的基本技能，这一转换过程依赖于谱仪的工作频率，是连接理论计算与实验观测的重要桥梁。",
            "id": "2005062",
            "problem": "在核磁共振 (NMR) 实验中，不等价质子之间的自旋-自旋耦合导致信号裂分为多重峰。在一个给定的多重峰内，峰与峰之间的间距是恒定的，被称为耦合常数 $J$。这个值与外加磁场强度无关。考虑一个样品，在质子共振频率为 $400$ MHz 的高场核磁共振谱仪中进行分析。在所得谱图中，一个特定的质子信号表现为三重峰。进一步分析表明，导致这种裂分的耦合常数 $J$ 为 $7.1$ Hz。计算该三重峰信号中任意两个相邻峰之间的间距。以百万分率 (ppm) 为单位表示您的答案，并将最终答案四舍五入至三位有效数字。",
            "solution": "在一级质子核磁共振中，多重峰中相邻谱线以频率为单位的间距等于耦合常数，因此以赫兹为单位的谱线间距为 $\\Delta \\nu = J$。\n\n为了在化学位移标度 (ppm) 上表示这个间距，使用化学位移的定义：\n$$\n\\Delta \\delta \\, (\\text{ppm}) = \\frac{\\Delta \\nu \\, (\\text{Hz})}{\\nu_{0} \\, (\\text{Hz})} \\times 10^{6},\n$$\n其中 $\\nu_{0}$ 是谱仪频率。在本题中，$\\nu_{0} = 400 \\times 10^{6} \\text{ Hz}$ 且 $J = 7.1 \\text{ Hz}$，所以\n$$\n\\Delta \\delta = \\frac{7.1}{400 \\times 10^{6}} \\times 10^{6} = \\frac{7.1}{400} = 0.01775 \\text{ ppm}.\n$$\n四舍五入至三位有效数字，得到\n$$\n0.0178 \\text{ ppm}.\n$$\n因此，该三重峰内任意两个相邻峰之间的间距为 $0.0178$ ppm。",
            "answer": "$$\\boxed{0.0178}$$"
        },
        {
            "introduction": "在解析简单的核磁共振氢谱时，$n+1$ 规则是一个非常有用的工具，但它并非总是适用。该规则的有效性取决于化学位移差（以 Hz 为单位的 $\\Delta\\nu$）与耦合常数（$J$）之比。本练习将引导你通过一个具体的例子来判断何时简单的裂分模式会失效，谱图呈现出更复杂的“二级谱”特征，从而凸显了为何需要更精确的量子力学计算来模拟真实的核磁共振波谱。",
            "id": "2192072",
            "problem": "在一个核磁共振（NMR）波谱实验中，分析了一个含有两个化学不等性、相互耦合的邻位质子（标记为 $H_A$ 和 $H_B$）的分子。这两个质子之间的标量耦合常数 $J_{AB}$ 已知为 7.0 Hz。该谱图是在一台质子共振频率为 100 MHz 的波谱仪上记录的。观测到质子的化学位移为 $\\delta_A = 1.20$ ppm 和 $\\delta_B = 1.34$ ppm。\n\n下列哪项描述最能表征在所得的 1H NMR 谱图中观测到的质子 $H_A$ 和 $H_B$ 的信号？\n\nA. 信号将合并成一个复杂的裂分多重峰，其中简单的 n+1 裂分规则不能准确预测其模式，并且靠近多重峰中心的谱线比边缘的谱线强度更大。\n\nB. $H_A$ 的信号将是一个简单的二重峰，$H_B$ 的信号也将是一个简单的二重峰，每个二重峰内的两个峰强度相等。\n\nC. 在这些条件下，质子 $H_A$ 和 $H_B$ 是化学等价的，并将显示为单个尖锐的单峰。\n\nD. $H_A$ 的信号将是一个三重峰，因为它与 $H_B$ 耦合，而 $H_B$ 与另一个质子相邻。\n\nE. 在这种低波谱仪频率下，有效耦合常数将显著降低，导致信号显示为两个宽的单峰。",
            "solution": "我们考虑两个邻位、相互耦合的质子 $H_A$ 和 $H_B$，其标量耦合常数为 $J_{AB}$，化学位移为 $\\delta_A$ 和 $\\delta_B$，在波谱仪频率 $\\nu_0$（质子）下记录。判断谱图是一级（简单的二重峰）还是二级（AB 型）的关键是共振频率差（以 Hz 为单位）与耦合常数的比值：\n$$\n\\Delta \\nu=\\nu_{0}\\times \\frac{|\\delta_B-\\delta_A|}{10^{6}},\\qquad r=\\frac{\\Delta \\nu}{J_{AB}}.\n$$\n给定 $\\delta_A=1.20\\ \\mathrm{ppm}$ 和 $\\delta_B=1.34\\ \\mathrm{ppm}$，化学位移差为\n$$\n\\Delta \\delta=|\\delta_B-\\delta_A|=0.14\\ \\mathrm{ppm}.\n$$\n在 $\\nu_0=1.0\\times 10^{8}\\ \\mathrm{Hz}$ (100 MHz) 的条件下，频率差（以 Hz 为单位）为\n$$\n\\Delta \\nu=\\nu_{0}\\times \\frac{\\Delta \\delta}{10^{6}}=\\left(1.0\\times 10^{8}\\right)\\times \\frac{0.14}{10^{6}}=14\\ \\mathrm{Hz}.\n$$\n使用 $J_{AB}=7.0\\ \\mathrm{Hz}$，该比值为\n$$\nr=\\frac{\\Delta \\nu}{J_{AB}}=\\frac{14}{7}=2.\n$$\n一级裂分（简单的 $n+1$ 规则，每个质子产生等强度的二重峰）要求 $r\\gg 1$（通常 $r\\gtrsim 10$）。此处 $r=2$，这属于两个耦合的非等价质子的二级谱范围，产生 AB 型谱图。在 AB 型谱图中，简单的 $n+1$ 规则不能准确描述其多重性，且谱线强度不均匀，靠近中心（两个化学位移之间）的谱线比外侧谱线更强（即特征性的“房顶”效应）。\n\n因此，最好的描述是信号合并成一个复杂的裂分多重峰，其中一级规则失效，内侧谱线比边缘谱线强度更大，这与选项 A 相符。\n\n为了完整起见，其他选项均不一致：B 假设为一级谱（等强度二重峰），这要求 $r\\gg 1$；C 与存在不同化学位移的事实相矛盾；D 将 $n+1$ 规则错误地应用于一个双自旋系统；E 是不正确的，因为 $J$ 不依赖于磁场强度，较低的磁场强度既不会减小 $J$ 也不会将谱图模式转换为宽的单峰。",
            "answer": "$$\\boxed{A}$$"
        },
        {
            "introduction": "在认识到简单解析规则的局限性后，我们可以构建计算模型来定量预测核磁共振参数。本练习提供了一个基于物理原理的简化模型，用于计算取代基对氟苯中碳-氟单键耦合常数（$^{1}J_{CF}$）的影响。通过将哈米特（Hammett）取代基常数与价键的 $s$ 轨道成分相关联，你将能亲自实践如何运用计算化学方法，将抽象的电子结构效应转化为可预测的实验观测值。",
            "id": "2459337",
            "problem": "给定一个有物理基础的最小模型，用于计算单取代氟苯中的单键碳-氟核磁共振 (NMR) 标量耦合常数，并量化其与取代基电子效应的相关性。该单键耦合常数记为 $^1J_{CF}$，单位为赫兹 (Hz)，通过费米接触项贡献建模为\n$$\n^1J_{CF} \\equiv J = C\\left(s_C D_C + s_F D_F\\right),\n$$\n其中，$s_C$ 和 $s_F$ 分别是沿 $\\mathrm{C{-}F}$ 键方向的碳和氟杂化轨道的 $s$ 轨道成分分数，$D_C$ 和 $D_F$ 是元素特定的有效接触密度乘子，$C$ 是一个包含普适常数和核因子的比例常数。取代基对 ipso 碳 $s$ 轨道成分的影响通过与对位 Hammett 取代基常数 $\\sigma_p$ 的线性关系建模，\n$$\ns_C = s_C^{(0)} + k\\,\\sigma_p,\n$$\n而氟杂化轨道的 $s$ 轨道成分被认为是与取代基无关的，\n$$\ns_F = s_F^{(0)}.\n$$\n以下所有常数均视为给定值：\n- 碳的基线 $s$ 轨道成分：$s_C^{(0)} = 0.33$。\n- 氟的基线 $s$ 轨道成分：$s_F^{(0)} = 0.20$。\n- 有效接触密度乘子：$D_C = 1.00$，$D_F = 1.65$。\n- $s_C$ 对取代基常数的灵敏度：$k = 0.02$。\n- $\\sigma_p = 0$ 时的参考耦合：$J_{\\mathrm{ref}} = 245.0\\ \\mathrm{Hz}$。\n\n比例常数 $C$ 由参考条件 $J(\\sigma_p = 0) = J_{\\mathrm{ref}}$ 固定。\n\n测试集。请按所列确切顺序使用以下对位取代基及其 Hammett 常数 $\\sigma_p$：\n1. $\\mathrm{NO_2}$，$\\sigma_p = 0.78$。\n2. $\\mathrm{CN}$，$\\sigma_p = 0.66$。\n3. $\\mathrm{CF_3}$，$\\sigma_p = 0.54$。\n4. $\\mathrm{Cl}$，$\\sigma_p = 0.23$。\n5. $\\mathrm{H}$，$\\sigma_p = 0.00$。\n6. $\\mathrm{CH_3}$，$\\sigma_p = -0.17$。\n7. $\\mathrm{OMe}$，$\\sigma_p = -0.27$。\n8. $\\mathrm{NH_2}$，$\\sigma_p = -0.66$。\n9. $\\mathrm{NMe_2}$，$\\sigma_p = -0.83$。\n\n任务：\n- 对于测试集中的每个取代基，使用上述模型计算 $J$（单位为赫兹）。将每个 $J$ 以 $\\mathrm{Hz}$ 为单位表示，并四舍五入到三位小数。\n- 计算 $\\sigma_p$ 值列表与相应计算出的 $J$ 值列表之间的皮尔逊积矩相关系数 $r$。报告 $r$ 值，四舍五入到六位小数（无量纲）。\n- 通过 $J$ 对 $\\sigma_p$ 进行形式为 $J = A + B\\,\\sigma_p$ 的最小二乘线性回归，计算最佳拟合斜率 $B$（单位为 $\\mathrm{Hz}$ 每单位 $\\sigma_p$）。报告 $B$ 值，四舍五入到六位小数，并以 $\\mathrm{Hz}$ 为单位表示。\n\n最终输出格式：\n您的程序应生成单行输出，其中包含一个用方括号括起来的逗号分隔列表。第一个元素必须是九个四舍五入的 $J$ 值列表（顺序与测试集相同），第二个元素必须是 $r$，第三个元素必须是 $B$。例如，带有占位符的输出将如下所示\n$[ [J_1,J_2,\\dots,J_9], r, B ]$，\n其中 $J_i$ 是以 $\\mathrm{Hz}$ 为单位、四舍五入到三位小数的数值，$r$ 四舍五入到六位小数，$B$ 四舍五入到六位小数。",
            "solution": "问题陈述已经过验证，被认为是科学上可靠、定义明确且客观的。它提出了一个简化但具有物理意义的模型，用于计算 NMR 耦合常数及其与取代基效应的相关性，这是物理有机化学中的一个常见练习。所有参数和条件都已给出，从而可以得到唯一且稳定的解。因此，我们可以继续进行推导和计算。\n\n单键碳-氟标量耦合常数 $J$ 由以下模型给出：\n$$\nJ = C\\left(s_C D_C + s_F D_F\\right)\n$$\n取代基效应通过 Hammett 常数 $\\sigma_p$ 编码在碳杂化轨道的 $s$ 轨道成分 $s_C$ 中：\n$$\ns_C = s_C^{(0)} + k\\,\\sigma_p\n$$\n氟的 $s$ 轨道成分 $s_F$ 被假定为常数：\n$$\ns_F = s_F^{(0)}\n$$\n给定的参数是：\n- $s_C^{(0)} = 0.33$\n- $s_F^{(0)} = 0.20$\n- $D_C = 1.00$\n- $D_F = 1.65$\n- $k = 0.02$\n- $J_{\\mathrm{ref}} = 245.0\\ \\mathrm{Hz}$ for $\\sigma_p = 0.00$\n\n我们的第一步是使用给定的参考条件来确定比例常数 $C$。当 $\\sigma_p = 0.00$ 时，碳的 $s$ 轨道成分为 $s_C = s_C^{(0)} = 0.33$。因此，耦合常数为：\n$$\nJ(\\sigma_p=0) = J_{\\mathrm{ref}} = C\\left(s_C^{(0)} D_C + s_F^{(0)} D_F\\right)\n$$\n求解 $C$：\n$$\nC = \\frac{J_{\\mathrm{ref}}}{s_C^{(0)} D_C + s_F^{(0)} D_F}\n$$\n代入数值：\n$$\nC = \\frac{245.0\\ \\mathrm{Hz}}{(0.33)(1.00) + (0.20)(1.65)} = \\frac{245.0\\ \\mathrm{Hz}}{0.33 + 0.33} = \\frac{245.0\\ \\mathrm{Hz}}{0.66} \\approx 371.2121\\ \\mathrm{Hz}\n$$\n现在，我们通过将 $s_C$ 的表达式代入主方程来推导 $J$ 作为 $\\sigma_p$ 函数的一般表达式：\n$$\nJ(\\sigma_p) = C \\left( (s_C^{(0)} + k\\,\\sigma_p) D_C + s_F^{(0)} D_F \\right)\n$$\n通过分配各项，我们可以将表达式分离为一个常数部分和一个依赖于 $\\sigma_p$ 的部分：\n$$\nJ(\\sigma_p) = C(s_C^{(0)} D_C + s_F^{(0)} D_F) + C(k\\,D_C)\\sigma_p\n$$\n根据定义，第一项是 $J_{\\mathrm{ref}}$。因此，该模型相对于 $\\sigma_p$ 是完全线性的：\n$$\nJ(\\sigma_p) = J_{\\mathrm{ref}} + (C k D_C) \\sigma_p\n$$\n该方程的形式为 $J = A + B\\,\\sigma_p$，其中截距 $A = J_{\\mathrm{ref}} = 245.0\\ \\mathrm{Hz}$，斜率是 $B = C k D_C$。\n\n我们现在可以计算斜率 $B$：\n$$\nB = C k D_C = \\left( \\frac{245.0}{0.66} \\right) (0.02) (1.00) = \\frac{4.9}{0.66} = \\frac{490}{66} = \\frac{245}{33}\\ \\mathrm{Hz}\n$$\n数值上，$B \\approx 7.424242...\\ \\mathrm{Hz}$。四舍五入到六位小数得到 $B = 7.424242\\ \\mathrm{Hz}$。\n\n因为模型规定了 $J$ 和 $\\sigma_p$ 之间存在完美的线性关系，所以皮尔逊积矩相关系数 $r$ 必须恰好为 $\\pm 1$。由于斜率 $B$ 是正的（$C$、$k$ 和 $D_C$ 均为正值），所以相关性是正的。因此，$r = 1.000000$。根据计算出的 $(J, \\sigma_p)$ 数据对进行最小二乘线性回归所得的斜率，将与解析推导出的斜率 $B$ 完全相同。\n\n我们继续使用线性模型 $J(\\sigma_p) = 245.0 + B \\sigma_p$ 来计算给定取代基列表及其 $\\sigma_p$ 常数对应的具体 $J$ 值。\n\n$\\sigma_p$ 值的集合是：$[0.78, 0.66, 0.54, 0.23, 0.00, -0.17, -0.27, -0.66, -0.83]$。\n\n1.  $\\sigma_p = 0.78$：$J = 245.0 + (245/33) \\times 0.78 \\approx 250.7909\\ \\mathrm{Hz} \\rightarrow 250.791\\ \\mathrm{Hz}$\n2.  $\\sigma_p = 0.66$：$J = 245.0 + (245/33) \\times 0.66 = 245.0 + 4.9 = 249.9\\ \\mathrm{Hz} \\rightarrow 249.900\\ \\mathrm{Hz}$\n3.  $\\sigma_p = 0.54$：$J = 245.0 + (245/33) \\times 0.54 \\approx 249.0091\\ \\mathrm{Hz} \\rightarrow 249.009\\ \\mathrm{Hz}$\n4.  $\\sigma_p = 0.23$：$J = 245.0 + (245/33) \\times 0.23 \\approx 246.7076\\ \\mathrm{Hz} \\rightarrow 246.708\\ \\mathrm{Hz}$\n5.  $\\sigma_p = 0.00$：$J = 245.0\\ \\mathrm{Hz} \\rightarrow 245.000\\ \\mathrm{Hz}$\n6.  $\\sigma_p = -0.17$：$J = 245.0 + (245/33) \\times (-0.17) \\approx 243.7379\\ \\mathrm{Hz} \\rightarrow 243.738\\ \\mathrm{Hz}$\n7.  $\\sigma_p = -0.27$：$J = 245.0 + (245/33) \\times (-0.27) \\approx 242.9955\\ \\mathrm{Hz} \\rightarrow 242.995\\ \\mathrm{Hz}$\n8.  $\\sigma_p = -0.66$：$J = 245.0 + (245/33) \\times (-0.66) = 245.0 - 4.9 = 240.1\\ \\mathrm{Hz} \\rightarrow 240.100\\ \\mathrm{Hz}$\n9.  $\\sigma_p = -0.83$：$J = 245.0 + (245/33) \\times (-0.83) \\approx 238.8379\\ \\mathrm{Hz} \\rightarrow 238.838\\ \\mathrm{Hz}$\n\n计算结果如下：\n- $J$ 值列表，四舍五入到三位小数：$[250.791, 249.900, 249.009, 246.708, 245.000, 243.738, 242.995, 240.100, 238.838]$。\n- 皮尔逊相关系数 $r$，四舍五入到六位小数：$1.000000$。\n- 最佳拟合斜率 $B$，四舍五入到六位小数：$7.424242\\ \\mathrm{Hz}$。",
            "answer": "```python\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Computes NMR coupling constants J, correlation coefficient r, and slope B\n    based on a provided physical model and substituent constants.\n    \"\"\"\n    \n    # Define the problem's given constants and test cases.\n    s_C0 = 0.33  # Baseline s-character at carbon\n    s_F0 = 0.20  # Baseline s-character at fluorine\n    D_C = 1.00   # Effective contact density multiplier for carbon\n    D_F = 1.65   # Effective contact density multiplier for fluorine\n    k = 0.02     # Sensitivity of s_C to substituent constant\n    J_ref = 245.0 # Reference coupling for sigma_p = 0\n\n    # Test suite: para substituents and their Hammett constants sigma_p\n    # The order is specified in the problem statement.\n    sigma_p_values = [\n        0.78,  # NO2\n        0.66,  # CN\n        0.54,  # CF3\n        0.23,  # Cl\n        0.00,  # H\n        -0.17, # CH3\n        -0.27, # OMe\n        -0.66, # NH2\n        -0.83  # NMe2\n    ]\n\n    # Step 1: Calculate the proportionality constant C from the reference condition.\n    # The denominator is s_C0 * D_C + s_F0 * D_F.\n    denominator_C = s_C0 * D_C + s_F0 * D_F\n    C = J_ref / denominator_C\n\n    # Step 2: Analytically determine the slope B of the linear model J = A + B*sigma_p.\n    # The intercept A is J_ref. The slope B is C*k*D_C.\n    # We use this analytical slope for calculation to maintain precision.\n    B_analytic = C * k * D_C\n    \n    # Step 3: Compute the J values for each substituent.\n    # The model simplifies to a linear equation: J(sigma_p) = J_ref + B_analytic * sigma_p\n    J_values = [J_ref + B_analytic * sp for sp in sigma_p_values]\n    \n    # Step 4: As a verification and to strictly follow the problem, compute \n    # the Pearson correlation coefficient r and the least-squares slope B \n    # from the generated (sigma_p, J) data pairs.\n    # Due to the perfect linear model, the results will match the analytical values.\n    # Convert lists to numpy arrays for calculation.\n    sigma_p_array = np.array(sigma_p_values)\n    J_array = np.array(J_values)\n    \n    # Calculate the Pearson correlation coefficient r.\n    # np.corrcoef returns a 2x2 matrix, the value is at [0, 1] or [1, 0].\n    r = np.corrcoef(sigma_p_array, J_array)[0, 1]\n    \n    # Calculate the best-fit slope B from linear regression.\n    # np.polyfit(x, y, 1) returns [slope, intercept]. We need the slope.\n    B_fit = np.polyfit(sigma_p_array, J_array, 1)[0]\n\n    # Step 5: Format the results according to the problem specification.\n    # J values rounded to three decimal places.\n    J_rounded = [round(j, 3) for j in J_values]\n    \n    # r rounded to six decimal places.\n    r_rounded = round(r, 6)\n    \n    # B rounded to six decimal places.\n    B_rounded = round(B_fit, 6)\n    \n    # Format the final output string exactly as requested.\n    # The format strings ensure trailing zeros are included.\n    j_list_str = [f\"{j:.3f}\" for j in J_rounded]\n    final_j_list_str = f\"[{','.join(j_list_str)}]\"\n    \n    print(f\"[{final_j_list_str},{r_rounded:.6f},{B_rounded:.6f}]\")\n\nsolve()\n```"
        }
    ]
}