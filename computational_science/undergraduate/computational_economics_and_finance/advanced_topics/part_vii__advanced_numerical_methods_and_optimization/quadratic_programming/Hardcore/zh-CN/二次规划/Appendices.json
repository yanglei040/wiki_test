{
    "hands_on_practices": [
        {
            "introduction": "二次规划在解决运营管理中的资源配置问题时非常有用。这个练习将带你解决一个经典的设施选址问题：在满足特定区域规划要求（一个线性等式约束）的前提下，确定一个新仓库的最佳位置以最小化到多个零售店的总运输成本。通过这个练习，你将掌握使用拉格朗日乘数法解决等式约束二次规划问题的基本技巧，并理解其背后将无约束最优解投影到可行域上的几何直觉。",
            "id": "2424375",
            "problem": "一家公司计划开设一个仓库，为 $N$ 个零售店服务，这些零售店的位置为 $\\{x_i\\}_{i=1}^N \\subset \\mathbb{R}^d$，其中 $d \\in \\mathbb{N}$。每个商店 $i$ 都有一个严格为正的需求权重 $w_i \\in \\mathbb{R}_{++}$，且 $\\sum_{i=1}^N w_i \\in \\mathbb{R}_{++}$。该公司使用欧几里得距离的平方来为总运输成本建模，并寻求将仓库放置在位置 $x \\in \\mathbb{R}^d$ 上，以最小化到各商店的总加权平方距离。由于一项分区规定，仓库必须位于一个给定的仿射超平面上，该超平面由 $a^{\\top} x = b$ 给出，其中给定了 $a \\in \\mathbb{R}^d \\setminus \\{0\\}$ 和 $b \\in \\mathbb{R}$。形式上，该问题为\n$$\n\\min_{x \\in \\mathbb{R}^d} \\;\\; \\sum_{i=1}^N w_i \\,\\|x - x_i\\|_2^2\n\\quad \\text{subject to} \\quad a^{\\top} x = b.\n$$\n以闭合形式确定最佳仓库位置，将其表示为 $\\{x_i\\}_{i=1}^N$、$\\{w_i\\}_{i=1}^N$、$a$ 和 $b$ 的函数。以单个解析表达式的形式给出最终答案。无需四舍五入。",
            "solution": "必须首先验证问题陈述的正确性和可行性。\n\n**步骤 1：提取给定条件**\n问题陈述中提供的明确信息如下：\n- 零售店数量：$N$。\n- 商店 $i$ 的位置：$x_i \\in \\mathbb{R}^d$，对于 $i \\in \\{1, 2, \\dots, N\\}$，其中 $d \\in \\mathbb{N}$。\n- 商店 $i$ 的需求权重：$w_i \\in \\mathbb{R}_{++}$（严格为正的实数）。总权重也严格为正：$\\sum_{i=1}^N w_i \\in \\mathbb{R}_{++}$。\n- 待确定的仓库位置：$x \\in \\mathbb{R}^d$。\n- 待最小化的目标函数：$f(x) = \\sum_{i=1}^N w_i \\,\\|x - x_i\\|_2^2$。\n- 仓库位置的约束条件：$a^{\\top} x = b$。\n- 约束参数：$a \\in \\mathbb{R}^d \\setminus \\{0\\}$（一个非零向量）和 $b \\in \\mathbb{R}$（一个标量）。\n\n**步骤 2：使用提取的给定条件进行验证**\n该问题经过严格验证。\n- **科学依据**：该问题是一个经典的约束优化问题，具体来说是一个二次规划（QP）问题。目标函数是平方欧几里得距离的加权和，这是选址分析和统计学中表示方差或成本的标准选择。约束是一个线性等式，定义了一个仿射超平面。该公式植根于凸优化，在数学上是合理的。\n- **适定性**：目标函数 $f(x)$ 是平方范数的和。它可以展开为：\n$$f(x) = \\sum_{i=1}^N w_i (x - x_i)^\\top (x - x_i) = \\sum_{i=1}^N w_i (x^\\top x - 2x^\\top x_i + x_i^\\top x_i)$$\n$$f(x) = \\left(\\sum_{i=1}^N w_i\\right) x^\\top x - 2x^\\top \\left(\\sum_{i=1}^N w_i x_i\\right) + \\left(\\sum_{i=1}^N w_i x_i^\\top x_i\\right)$$\n这是 $x$ 的一个二次函数。Hessian 矩阵为 $\\nabla^2_x f(x) = 2 \\left(\\sum_{i=1}^N w_i\\right) I_d$，其中 $I_d$ 是 $d \\times d$ 单位矩阵。由于所有 $w_i > 0$，总权重 $\\sum w_i > 0$，因此 Hessian 矩阵是正定的。这证实了 $f(x)$ 是一个严格凸函数。约束集 $C = \\{x \\in \\mathbb{R}^d \\mid a^\\top x = b\\}$ 是一个仿射子空间，它是一个凸集。在一个非空凸集上最小化一个严格凸函数，可以保证唯一解的存在。因此，该问题是适定的。\n- **客观性**：该问题使用精确、无歧义的数学语言陈述。没有主观或基于观点的元素。\n\n该问题没有任何缺陷。它不是科学上不合理的、无法形式化的、不完整的、不切实际的或不适定的。\n\n**步骤 3：结论与行动**\n该问题是**有效的**。将推导求解。\n\n该问题是一个约束优化问题，可以使用拉格朗日乘数法求解。任务是找到 $x \\in \\mathbb{R}^d$ 来求解：\n$$ \\min_{x \\in \\mathbb{R}^d} \\sum_{i=1}^N w_i \\|x - x_i\\|_2^2 \\quad \\text{subject to} \\quad a^\\top x - b = 0 $$\n拉格朗日函数 $\\mathcal{L}(x, \\lambda)$ 构造如下：\n$$ \\mathcal{L}(x, \\lambda) = \\sum_{i=1}^N w_i (x - x_i)^\\top(x - x_i) + \\lambda (a^\\top x - b) $$\n其中 $\\lambda \\in \\mathbb{R}$ 是拉格朗日乘数。对于一个最优解 $x^*$，Karush-Kuhn-Tucker (KKT) 条件要求拉格朗日函数关于 $x$ 的梯度为零：\n$$ \\nabla_x \\mathcal{L}(x^*, \\lambda^*) = 0 $$\n我们计算 $\\mathcal{L}(x, \\lambda)$ 关于 $x$ 的梯度：\n$$ \\nabla_x \\mathcal{L}(x, \\lambda) = \\nabla_x \\left( \\sum_{i=1}^N w_i (x^\\top x - 2x^\\top x_i + x_i^\\top x_i) + \\lambda (a^\\top x - b) \\right) $$\n$$ \\nabla_x \\mathcal{L}(x, \\lambda) = \\sum_{i=1}^N w_i (2x - 2x_i) + \\lambda a = 2 \\left( \\sum_{i=1}^N w_i \\right) x - 2 \\sum_{i=1}^N w_i x_i + \\lambda a $$\n让我们定义总权重 $W = \\sum_{j=1}^N w_j$ 和加权平均位置（质心）$\\bar{x} = \\frac{1}{W} \\sum_{i=1}^N w_i x_i$。梯度表达式简化为：\n$$ \\nabla_x \\mathcal{L}(x, \\lambda) = 2W x - 2W \\bar{x} + \\lambda a = 2W(x - \\bar{x}) + \\lambda a $$\n将梯度设为零，得到一阶条件：\n$$ 2W(x^* - \\bar{x}) + \\lambda^* a = 0 $$\n由于 $W > 0$，我们可以用乘数 $\\lambda^*$ 来表示最优位置 $x^*$：\n$$ x^* = \\bar{x} - \\frac{\\lambda^*}{2W} a $$\n最优解 $x^*$ 还必须满足约束条件 $a^\\top x^* = b$。我们将 $x^*$ 的表达式代入约束方程以求得 $\\lambda^*$：\n$$ a^\\top \\left( \\bar{x} - \\frac{\\lambda^*}{2W} a \\right) = b $$\n$$ a^\\top \\bar{x} - \\frac{\\lambda^*}{2W} (a^\\top a) = b $$\n认识到 $a^\\top a = \\|a\\|_2^2$，我们求解 $\\lambda^*$：\n$$ \\frac{\\lambda^*}{2W} \\|a\\|_2^2 = a^\\top \\bar{x} - b $$\n由于 $a \\neq 0$，因此有 $\\|a\\|_2^2 > 0$，我们可以分离出带乘数的项：\n$$ \\frac{\\lambda^*}{2W} = \\frac{a^\\top \\bar{x} - b}{\\|a\\|_2^2} $$\n现在我们将其代回 $x^*$ 的表达式中：\n$$ x^* = \\bar{x} - \\left( \\frac{a^\\top \\bar{x} - b}{\\|a\\|_2^2} \\right) a $$\n这个表达式表示了最佳仓库位置。从几何上看，目标函数的无约束最小化解是加权平均值 $\\bar{x}$。$x^*$ 的公式表明，约束最优解是无约束最小化解 $\\bar{x}$ 在由 $a^\\top x = b$ 定义的仿射超平面上的正交投影。\n\n为了用初始问题参数表示最终答案，我们代入 $\\bar{x}$ 和 $W$ 的定义：\n$$ \\bar{x} = \\frac{\\sum_{i=1}^N w_i x_i}{\\sum_{j=1}^N w_j} $$\n将此代入 $x^*$ 的表达式中：\n$$ x^* = \\frac{\\sum_{i=1}^N w_i x_i}{\\sum_{j=1}^N w_j} - \\frac{a^\\top \\left( \\frac{\\sum_{k=1}^N w_k x_k}{\\sum_{j=1}^N w_j} \\right) - b}{\\|a\\|_2^2} a $$\n为了简化分数，我们可以将 $a$ 的系数的分子和分母同乘以 $\\sum_{j=1}^N w_j$：\n$$ x^* = \\frac{\\sum_{i=1}^N w_i x_i}{\\sum_{j=1}^N w_j} - \\left( \\frac{a^\\top \\left( \\sum_{k=1}^N w_k x_k \\right) - b \\left( \\sum_{j=1}^N w_j \\right)}{\\left( \\sum_{j=1}^N w_j \\right) \\|a\\|_2^2} \\right) a $$\n这就是最佳仓库位置的最终闭合形式表达式。",
            "answer": "$$\\boxed{\\frac{\\sum_{i=1}^N w_i x_i}{\\sum_{j=1}^N w_j} - \\left( \\frac{a^\\top \\left( \\sum_{k=1}^N w_k x_k \\right) - b \\left( \\sum_{j=1}^N w_j \\right)}{\\left( \\sum_{j=1}^N w_j \\right) \\|a\\|_2^2} \\right) a}$$"
        },
        {
            "introduction": "在经济和商业决策中，我们常常需要在满足一系列限制条件（如预算上限和最低要求）的情况下做出最优选择。本练习模拟了一家公司如何在网络安全和新功能开发之间分配预算，以实现效用最大化，这是一个典型的包含不等式约束的二次规划问题。解决这个问题将帮助你理解当最优解位于可行域边界时如何进行分析，这是掌握 Karush-Kuhn-Tucker (KKT) 条件和解决现实世界优化问题的关键一步。",
            "id": "2424372",
            "problem": "一家科技公司将其年度信息技术预算分配给两项活动：网络安全和新功能开发。设 $x$ 为分配给网络安全的预算（单位：百万美元），$y$ 为分配给新功能开发的预算（单位：百万美元）。该公司从此项分配中获得的净战略效用（以利润等价单位衡量）为\n$$\nU(x,y) \\;=\\; 12\\,x \\;-\\; 1.5\\,x^{2} \\;+\\; 10\\,y \\;-\\; y^{2} \\;+\\; 0.6\\,x\\,y.\n$$\n该分配受以下约束条件的限制：\n$$\nx + y \\leq 10,\\quad x \\geq 2,\\quad y \\geq 0,\n$$\n其中 $10$ 是总预算（单位：百万美元），$x \\geq 2$ 反映了网络安全的监管最低要求，而 $y \\geq 0$ 反映了投资的非负性。\n\n确定在满足约束条件下能使 $U(x,y)$ 最大化的 $x$ 值。答案以百万美元为单位，并四舍五入至四位有效数字。",
            "solution": "问题是在一组线性不等式约束下，找到使效用函数 $U(x,y)$ 最大化的 $x$ 和 $y$ 的值。这是一个约束优化问题，具体来说是一个二次规划问题。目标函数为\n$$\nU(x,y) = 12x - 1.5x^2 + 10y - y^2 + 0.6xy\n$$\n约束条件为：\n$$\nx + y \\leq 10 \\\\\nx \\geq 2 \\\\\ny \\geq 0\n$$\n\n首先，我们验证问题的结构。由线性不等式定义的可行域是一个封闭有界集（一个紧集）。具体来说，它是 $xy$ 平面中的一个三角形，顶点分别为 $(2,0)$、$(10,0)$ 和 $(2,8)$。作为一个多边形，该可行域是凸的。\n\n接下来，我们分析目标函数 $U(x,y)$。为了确定其凸性/凹性，我们计算其海森矩阵，即二阶偏导数矩阵。\n一阶偏导数为：\n$$\n\\frac{\\partial U}{\\partial x} = 12 - 3x + 0.6y\n$$\n$$\n\\frac{\\partial U}{\\partial y} = 10 - 2y + 0.6x\n$$\n二阶偏导数为：\n$$\n\\frac{\\partial^2 U}{\\partial x^2} = -3\n$$\n$$\n\\frac{\\partial^2 U}{\\partial y^2} = -2\n$$\n$$\n\\frac{\\partial^2 U}{\\partial x \\partial y} = \\frac{\\partial^2 U}{\\partial y \\partial x} = 0.6\n$$\n海森矩阵 $H$ 为：\n$$\nH = \\begin{pmatrix} -3   0.6 \\\\ 0.6   -2 \\end{pmatrix}\n$$\n$H$ 的主子式为 $D_1 = -3$ 和 $D_2 = \\det(H) = (-3)(-2) - (0.6)(0.6) = 6 - 0.36 = 5.64$。\n由于 $D_1  0$ 且 $D_2 > 0$，海森矩阵是负定的。这意味着函数 $U(x,y)$ 是严格凹函数。\n\n在一个紧凸集上最大化一个严格凹函数，保证了唯一全局最大值的存在。这个最大值可能出现在可行域的内部，也可能出现在其边界上。\n\n我们首先通过将 $U(x,y)$ 的梯度设为零来找到无约束最大值：\n$$\n12 - 3x + 0.6y = 0 \\implies 3x - 0.6y = 12\n$$\n$$\n10 - 2y + 0.6x = 0 \\implies -0.6x + 2y = 10\n$$\n求解这个线性方程组。根据第二个方程，$2y = 10 + 0.6x$，得到 $y = 5 + 0.3x$。代入第一个方程：\n$$\n3x - 0.6(5 + 0.3x) = 12\n$$\n$$\n3x - 3 - 0.18x = 12\n$$\n$$\n2.82x = 15 \\implies x = \\frac{15}{2.82} = \\frac{1500}{282} = \\frac{250}{47} \\approx 5.319\n$$\n然后，\n$$\ny = 5 + 0.3\\left(\\frac{250}{47}\\right) = 5 + \\frac{75}{47} = \\frac{235 + 75}{47} = \\frac{310}{47} \\approx 6.596\n$$\n无约束最大值点大约在 $(5.319, 6.596)$。我们检查该点是否满足约束条件：\n$x = 250/47 \\approx 5.319 \\geq 2$ (满足)。\n$y = 310/47 \\approx 6.596 \\geq 0$ (满足)。\n$x + y = \\frac{250}{47} + \\frac{310}{47} = \\frac{560}{47} \\approx 11.915$。这违反了约束条件 $x + y \\leq 10$。\n由于无约束最大值点位于可行域之外，因此有约束最大值点必定位于可行域的边界上。边界由三条线段组成：\n1. $x + y = 10$，对于 $x \\in [2, 10]$\n2. $x = 2$，对于 $y \\in [0, 8]$\n3. $y = 0$，对于 $x \\in [2, 10]$\n\n我们在每一条线段上分析函数 $U(x,y)$。\n\n情况1：边界 $x + y = 10$。\n我们将 $y = 10 - x$ 代入 $U(x,y)$。该线段上 $x$ 的定义域由 $x \\geq 2$ 和 $y = 10 - x \\geq 0 \\implies x \\leq 10$ 决定。因此，$x \\in [2,10]$。\n设 $f(x) = U(x, 10 - x)$：\n$$\nf(x) = 12x - 1.5x^2 + 10(10-x) - (10-x)^2 + 0.6x(10-x)\n$$\n$$\nf(x) = 12x - 1.5x^2 + 100 - 10x - (100 - 20x + x^2) + 6x - 0.6x^2\n$$\n$$\nf(x) = (12 - 10 + 20 + 6)x + (-1.5 - 1 - 0.6)x^2 + (100 - 100)\n$$\n$$\nf(x) = 28x - 3.1x^2\n$$\n这是一个凹抛物线。我们通过将其导数设为零来找到其最大值：\n$$\nf'(x) = 28 - 6.2x = 0 \\implies x = \\frac{28}{6.2} = \\frac{280}{62} = \\frac{140}{31}\n$$\n$x = \\frac{140}{31} \\approx 4.5161$。这个值在区间 $[2, 10]$ 内。因此，它是一个最大值的候选点。对应的 $y$ 值为 $y = 10 - \\frac{140}{31} = \\frac{310 - 140}{31} = \\frac{170}{31}$。\n在该点， $U\\left(\\frac{140}{31}, \\frac{170}{31}\\right) = f\\left(\\frac{140}{31}\\right) = 28\\left(\\frac{140}{31}\\right) - 3.1\\left(\\frac{140}{31}\\right)^2 = \\frac{3920}{31} - \\frac{31}{10}\\frac{19600}{961} = \\frac{3920}{31} - \\frac{1960}{31} = \\frac{1960}{31} \\approx 63.226$。\n\n情况2：边界 $x=2$。\n该线段上 $y$ 的定义域为 $y \\geq 0$ 和 $2+y \\leq 10 \\implies y \\leq 8$。因此，$y \\in [0,8]$。\n设 $g(y) = U(2,y)$：\n$$\ng(y) = 12(2) - 1.5(2^2) + 10y - y^2 + 0.6(2)y\n$$\n$$\ng(y) = 24 - 6 + 10y - y^2 + 1.2y = 18 + 11.2y - y^2\n$$\n为了求这个凹抛物线的最大值，我们将其导数设为零：\n$$\ng'(y) = 11.2 - 2y = 0 \\implies y = 5.6\n$$\n这个值在区间 $[0, 8]$ 内。候选点为 $(2, 5.6)$。\n效用为 $U(2, 5.6) = 18 + 11.2(5.6) - (5.6)^2 = 18 + 62.72 - 31.36 = 49.36$。\n\n情况3：边界 $y=0$。\n该线段上 $x$ 的定义域为 $x \\geq 2$ 和 $x+0 \\leq 10 \\implies x \\leq 10$。因此，$x \\in [2,10]$。\n设 $h(x) = U(x,0)$：\n$$\nh(x) = 12x - 1.5x^2\n$$\n为了求这个凹抛物线的最大值，我们将其导数设为零：\n$$\nh'(x) = 12 - 3x = 0 \\implies x = 4\n$$\n这个值在区间 $[2, 10]$ 内。候选点为 $(4, 0)$。\n效用为 $U(4, 0) = 12(4) - 1.5(4^2) = 48 - 1.5(16) = 48 - 24 = 24$。\n\n最后，我们比较在边界线段上找到的候选点的效用值。我们同时也隐式地检查了可行域的角点，因为对线段的分析已经包含了它们。\n1. 在线段 $x+y=10$ 上：$U(\\frac{140}{31}, \\frac{170}{31}) = \\frac{1960}{31} \\approx 63.226$。\n2. 在线段 $x=2$ 上：$U(2, 5.6) = 49.36$。\n3. 在线段 $y=0$ 上：$U(4, 0) = 24$。\n\n最大效用值为 $\\frac{1960}{31}$，在点 $(x, y) = \\left(\\frac{140}{31}, \\frac{170}{31}\\right)$ 处取得。\n问题要求的是使 $U(x,y)$ 最大化的 $x$ 值，并四舍五入到四位有效数字。\n$$\nx = \\frac{140}{31} \\approx 4.516129...\n$$\n四舍五入到四位有效数字，我们得到 $x = 4.516$。\n结果 $4.516$ 的单位是百万美元，符合题目要求。",
            "answer": "$$\n\\boxed{4.516}\n$$"
        },
        {
            "introduction": "均值-方差优化是现代投资组合理论的基石，也是二次规划在计算金融中最重要的应用之一。这个练习要求你为一个包含三种风险资产的投资组合构建最优权重，目标是在满足一系列实际约束（如预算、禁止做空、持仓上限等）的同时，最小化投资组合的风险。通过解决这个综合性问题，你将学会如何系统性地处理包含等式和不等式约束的复杂二次规划问题，并熟悉识别有效约束这一在实践中至关重要的方法。",
            "id": "2424376",
            "problem": "考虑一个在计算经济学和金融学中典型的二次规划（QP）问题——均值-方差资产配置问题。一位基金经理将财富分配到 $3$ 种风险资产上，其投资组合权重为 $x = (x_{1}, x_{2}, x_{3})^{\\top}$。该经理求解以下严格凸二次规划问题\n$$\n\\min_{x \\in \\mathbb{R}^{3}} \\;\\; \\frac{1}{2} x^{\\top} \\Sigma x - \\mu^{\\top} x\n$$\n须满足以下 $10$ 个线性约束条件：\n- 预算：$x_{1} + x_{2} + x_{3} = 1$。\n- 非负性：$x_{1} \\geq 0$, $x_{2} \\geq 0$, $x_{3} \\geq 0$。\n- 上限：$x_{1} \\leq 0.4$, $x_{2} \\leq 0.3$, $x_{3} \\leq 0.8$。\n- 行业暴露上限：$x_{1} + x_{3} \\leq 0.75$。\n- 分散度限制：$x_{1} - x_{2} \\leq 0.15$。\n- 资产 $3$ 的最小配置：$x_{3} \\geq 0.02$。\n\n假设方差-协方差矩阵为单位矩阵 $\\Sigma = I_{3}$，期望收益向量为 $\\mu = (1.2, 1.1, 0.9)^{\\top}$。目标函数和约束条件均以精确算术形式给出。\n\n计算该二次规划的最优目标值。请提供一个实数作为最终答案，无需四舍五入。",
            "solution": "所给问题是一个标准的二次规划（QP）问题，具体来说是一个均值-方差资产配置模型。首先，需要对问题陈述进行验证。\n\n已知条件如下：\n- 待最小化的目标函数为 $f(x) = \\frac{1}{2} x^{\\top} \\Sigma x - \\mu^{\\top} x$，其中 $x = (x_{1}, x_{2}, x_{3})^{\\top} \\in \\mathbb{R}^{3}$。\n- 方差-协方差矩阵是单位矩阵 $\\Sigma = I_{3}$。\n- 期望收益向量为 $\\mu = (1.2, 1.1, 0.9)^{\\top}$。\n- 约束条件为：\n    1. 预算：$x_{1} + x_{2} + x_{3} = 1$。\n    2. 非负性：$x_{1} \\geq 0$, $x_{2} \\geq 0$, $x_{3} \\geq 0$。\n    3. 上限：$x_{1} \\leq 0.4$, $x_{2} \\leq 0.3$, $x_{3} \\leq 0.8$。\n    4. 行业暴露上限：$x_{1} + x_{3} \\leq 0.75$。\n    5. 分散度限制：$x_{1} - x_{2} \\leq 0.15$。\n    6. 最小配置：$x_{3} \\geq 0.02$。\n\n该问题是有效的。它是一个在计算金融学领域有科学依据、适定且客观的问题。目标函数是严格凸的，因为其Hessian矩阵 $\\Sigma=I_3$ 是正定的。由一组线性等式和不等式约束定义的可行域是一个凸多胞体。存在一个可行点，例如 $x = (0.4, 0.3, 0.3)^{\\top}$，这证实了可行集非空。因此，存在唯一的全局最小值。该解可以通过应用Karush-Kuhn-Tucker（KKT）条件找到。\n\n目标函数为：\n$$ f(x_1, x_2, x_3) = \\frac{1}{2}(x_1^2 + x_2^2 + x_3^2) - 1.2 x_1 - 1.1 x_2 - 0.9 x_3 $$\n该问题使用拉格朗日乘子法求解。构建拉格朗日函数 $L(x, \\lambda, \\nu)$。约束可以写成 $g_i(x) \\leq 0$ 和 $h_j(x)=0$ 的形式。\n等式约束：$h_1(x) = x_1 + x_2 + x_3 - 1 = 0$，乘子为 $\\lambda$。\n不等式约束，乘子为 $\\nu_i \\geq 0$：\n1. $g_1(x) = -x_1 \\leq 0$ ($\\nu_1$)\n2. $g_2(x) = -x_2 \\leq 0$ ($\\nu_2$)\n3. $g_3(x) = -x_3 \\leq 0$ ($\\nu_3$)\n4. $g_4(x) = x_1 - 0.4 \\leq 0$ ($\\nu_4$)\n5. $g_5(x) = x_2 - 0.3 \\leq 0$ ($\\nu_5$)\n6. $g_6(x) = x_3 - 0.8 \\leq 0$ ($\\nu_6$)\n7. $g_7(x) = x_1 + x_3 - 0.75 \\leq 0$ ($\\nu_7$)\n8. $g_8(x) = x_1 - x_2 - 0.15 \\leq 0$ ($\\nu_8$)\n9. $g_9(x) = 0.02 - x_3 \\leq 0$ ($\\nu_9$)\n\n平稳性条件 $\\nabla_x L = 0$ 为：\n$$ \\frac{\\partial L}{\\partial x_1}: x_1 - 1.2 + \\lambda - \\nu_1 + \\nu_4 + \\nu_7 + \\nu_8 = 0 $$\n$$ \\frac{\\partial L}{\\partial x_2}: x_2 - 1.1 + \\lambda - \\nu_2 + \\nu_5 - \\nu_8 = 0 $$\n$$ \\frac{\\partial L}{\\partial x_3}: x_3 - 0.9 + \\lambda - \\nu_3 + \\nu_6 + \\nu_7 - \\nu_9 = 0 $$\n求解这样的系统需要确定在最优点处的激活约束集。首先分析只施加预算约束的无约束问题。令所有 $\\nu_i = 0$。\n平稳性条件简化为：\n$x_1 = 1.2 - \\lambda$\n$x_2 = 1.1 - \\lambda$\n$x_3 = 0.9 - \\lambda$\n代入预算约束 $x_1 + x_2 + x_3 = 1$：\n$$ (1.2 - \\lambda) + (1.1 - \\lambda) + (0.9 - \\lambda) = 1 \\implies 3.2 - 3\\lambda = 1 \\implies 3\\lambda = 2.2 \\implies \\lambda = \\frac{2.2}{3} = \\frac{11}{15} $$\n无约束下的权重为：\n$x_1 = 1.2 - \\frac{11}{15} = \\frac{18}{15} - \\frac{11}{15} = \\frac{7}{15} \\approx 0.4667$\n$x_2 = 1.1 - \\frac{11}{15} = \\frac{16.5}{15} - \\frac{11}{15} = \\frac{5.5}{15} = \\frac{11}{30} \\approx 0.3667$\n$x_3 = 0.9 - \\frac{11}{15} = \\frac{13.5}{15} - \\frac{11}{15} = \\frac{2.5}{15} = \\frac{5}{30} = \\frac{1}{6} \\approx 0.1667$\n\n该解违反了约束 $x_1 \\leq 0.4$ 和 $x_2 \\leq 0.3$。这表明这两个约束在最优点处是激活的。让我们检验这个假设。\n假设约束 $x_1 \\leq 0.4$ 和 $x_2 \\leq 0.3$ 是激活的，即 $x_1 = 0.4$ 和 $x_2 = 0.3$。\n根据预算约束，$x_3 = 1 - x_1 - x_2 = 1 - 0.4 - 0.3 = 0.3$。\n最优解的候选者为 $x^* = (0.4, 0.3, 0.3)^\\top$。\n\n我们必须检查该点是否可行。\n- 预算：$0.4 + 0.3 + 0.3 = 1$。（满足）\n- 非负性：所有分量均为正。（满足）\n- 上限：$x_1 = 0.4 \\leq 0.4$, $x_2 = 0.3 \\leq 0.3$, $x_3 = 0.3 \\leq 0.8$。（满足，前两个为激活约束）\n- 行业上限：$x_1 + x_3 = 0.4 + 0.3 = 0.7 \\leq 0.75$。（满足）\n- 分散度限制：$x_1 - x_2 = 0.4 - 0.3 = 0.1 \\leq 0.15$。（满足）\n- 最小配置：$x_3 = 0.3 \\geq 0.02$。（满足）\n点 $x^*$ 是原始可行的。\n\n现在，我们通过计算拉格朗日乘子来检查对偶可行性。我们假设只有对应于激活约束的 $\\nu_4$ 和 $\\nu_5$ 非零。由于互补松弛性，所有其他 $\\nu_i$ 均为零。\n平稳性条件变为：\n$$ x_1: 0.4 - 1.2 + \\lambda + \\nu_4 = 0 \\implies \\lambda + \\nu_4 = 0.8 $$\n$$ x_2: 0.3 - 1.1 + \\lambda + \\nu_5 = 0 \\implies \\lambda + \\nu_5 = 0.8 $$\n$$ x_3: 0.3 - 0.9 + \\lambda = 0 \\implies \\lambda = 0.6 $$\n将 $\\lambda = 0.6$ 代入前两个方程：\n$$ 0.6 + \\nu_4 = 0.8 \\implies \\nu_4 = 0.2 $$\n$$ 0.6 + \\nu_5 = 0.8 \\implies \\nu_5 = 0.2 $$\n激活约束的所有乘子 $\\nu_4$ 和 $\\nu_5$ 均为正值。所有其他乘子 $\\nu_i$ 均为零。因此，对偶可行性条件（$\\nu_i \\geq 0$）得到满足。所有KKT条件均已满足。由于问题是严格凸的，$x^* = (0.4, 0.3, 0.3)^\\top$ 是唯一的全局最优解。\n\n最后一步是计算在 $x^*$ 处的最优目标值：\n$$ f(x^*) = \\frac{1}{2} ((0.4)^2 + (0.3)^2 + (0.3)^2) - (1.2(0.4) + 1.1(0.3) + 0.9(0.3)) $$\n$$ f(x^*) = \\frac{1}{2} (0.16 + 0.09 + 0.09) - (0.48 + 0.33 + 0.27) $$\n$$ f(x^*) = \\frac{1}{2} (0.34) - (1.08) $$\n$$ f(x^*) = 0.17 - 1.08 = -0.91 $$\n最优目标值为 $-0.91$。",
            "answer": "$$\\boxed{-0.91}$$"
        }
    ]
}