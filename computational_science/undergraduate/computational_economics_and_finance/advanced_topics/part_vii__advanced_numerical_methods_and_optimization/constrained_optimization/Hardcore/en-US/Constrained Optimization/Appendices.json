{
    "hands_on_practices": [
        {
            "introduction": "Before tackling complex economic models, it is crucial to understand the core mechanics of constrained optimization in a simple setting. This first practice problem uses the method of Lagrange multipliers to find the point on a plane that is closest to the origin, which is equivalent to minimizing a potential energy function . This exercise provides a powerful geometric intuition for how constraints shape optimal solutions and is a fundamental building block for the more advanced applications that follow.",
            "id": "4164",
            "problem": "A particle moves in a three-dimensional space, and its potential energy is described by the function $U(x, y, z) = x^2 + y^2 + z^2$. The particle's motion is constrained to a flat surface defined by the equation $x + 2y + 3z = 6$.\n\nUsing the method of Lagrange multipliers, determine the minimum potential energy the particle can have while remaining on the constrained surface.",
            "solution": "We want to minimize $U = x^2 + y^2 + z^2$ subject to $x + 2y + 3z = 6$. Introduce Lagrange multiplier $\\lambda$ and set  \n$$L(x,y,z,\\lambda) = x^2 + y^2 + z^2 - \\lambda\\,(x + 2y + 3z - 6).$$  \nCompute partial derivatives:  \n$$\\frac{\\partial L}{\\partial x} = 2x - \\lambda = 0,$$  \n$$\\frac{\\partial L}{\\partial y} = 2y - 2\\lambda = 0,$$  \n$$\\frac{\\partial L}{\\partial z} = 2z - 3\\lambda = 0,$$  \n$$\\frac{\\partial L}{\\partial \\lambda} = -(x + 2y + 3z - 6) = 0.$$  \n\nFrom the first three equations we get  \n$$2x = \\lambda,\\quad 2y = 2\\lambda,\\quad 2z = 3\\lambda,$$  \nhence  \n$$x = \\frac{\\lambda}{2},\\quad y = \\lambda,\\quad z = \\frac{3\\lambda}{2}.$$  \n\nSubstitute into the constraint:  \n$$\\frac{\\lambda}{2} + 2\\lambda + 3\\cdot\\frac{3\\lambda}{2} = 6.$$  \nCombine terms:  \n$$\\frac{\\lambda}{2} + 2\\lambda + \\frac{9\\lambda}{2} = 6,\\quad\n\\frac{1\\lambda + 4\\lambda + 9\\lambda}{2} = 6,\\quad\n7\\lambda = 6\\quad\\Longrightarrow\\quad \\lambda = \\frac{6}{7}.$$  \n\nThus the critical point is  \n$$x = \\frac{3}{7},\\quad y = \\frac{6}{7},\\quad z = \\frac{9}{7}.$$  \nEvaluate the potential:  \n$$U_{\\min} = \\left(\\frac{3}{7}\\right)^2 + \\left(\\frac{6}{7}\\right)^2 + \\left(\\frac{9}{7}\\right)^2\n= \\frac{9 + 36 + 81}{49} = \\frac{126}{49} = \\frac{18}{7}.$$",
            "answer": "$$\\boxed{\\frac{18}{7}}$$"
        },
        {
            "introduction": "With the foundational technique established, we now apply it to a central problem in microeconomics: consumer choice. This exercise challenges you to determine how a consumer allocates their budget to maximize satisfaction, or 'utility', modeled here by a Stone-Geary utility function . By incorporating subsistence consumption levels, this problem demonstrates how constrained optimization provides a precise mathematical framework for understanding and predicting economic behavior.",
            "id": "2293283",
            "problem": "An economics student, Alex, is analyzing their monthly budget for digital consumption. Alex's satisfaction is modeled by a Stone-Geary utility function, $U(x, y) = (x-x_{0})^{0.4}(y-y_{0})^{0.6}$, where $x$ represents the total monthly mobile data used in Gigabytes (GB) and $y$ represents the number of streaming service subscriptions. Based on past behavior, Alex determines that the subsistence levels of consumption, below which no utility is gained, are $x_0 = 5$ GB of data and $y_0 = 1$ streaming service.\n\nThe price of mobile data is $p_x = \\$2$ per GB, and the price of each streaming service is $p_y = \\$15$. Alex has a total monthly budget of $I = \\$200$ allocated for these two items. To simplify the model, both $x$ and $y$ can be treated as continuous real variables.\n\nAssuming Alex wants to maximize their utility subject to the budget constraint, determine the optimal consumption bundle. Find the values of $x$ and $y$ that maximize Alex's utility. Present your answer as a pair $(x, y)$, with each value rounded to three significant figures.",
            "solution": "We maximize the Stone-Geary utility $U(x,y)=(x-x_{0})^{a}(y-y_{0})^{b}$ with $a=0.4$ and $b=0.6$, subject to the budget constraint $p_{x}x+p_{y}y=I$ and the domain constraints $x \\ge x_{0}$, $y \\ge y_{0}$. Since $\\ln$ is strictly increasing and $xx_{0}$, $yy_{0}$ at an interior optimum, we equivalently maximize $\\ln U=a\\ln(x-x_{0})+b\\ln(y-y_{0})$ subject to $p_{x}x+p_{y}y=I$.\n\nForm the Lagrangian\n$$\n\\mathcal{L}=a\\ln(x-x_{0})+b\\ln(y-y_{0})+\\lambda\\left(I-p_{x}x-p_{y}y\\right).\n$$\nFirst-order conditions for an interior optimum are\n$$\n\\frac{\\partial \\mathcal{L}}{\\partial x}=\\frac{a}{x-x_{0}}-\\lambda p_{x}=0,\\quad\n\\frac{\\partial \\mathcal{L}}{\\partial y}=\\frac{b}{y-y_{0}}-\\lambda p_{y}=0,\\quad\n\\frac{\\partial \\mathcal{L}}{\\partial \\lambda}=I-p_{x}x-p_{y}y=0.\n$$\nFrom the first two conditions,\n$$\nx-x_{0}=\\frac{a}{\\lambda p_{x}},\\qquad y-y_{0}=\\frac{b}{\\lambda p_{y}}.\n$$\nSubstitute into the budget constraint:\n$$\np_{x}\\left(x_{0}+\\frac{a}{\\lambda p_{x}}\\right)+p_{y}\\left(y_{0}+\\frac{b}{\\lambda p_{y}}\\right)=I\n\\;\\;\\Longrightarrow\\;\\;\np_{x}x_{0}+p_{y}y_{0}+\\frac{a}{\\lambda}+\\frac{b}{\\lambda}=I.\n$$\nHence\n$$\n\\frac{a+b}{\\lambda}=I-p_{x}x_{0}-p_{y}y_{0}\n\\;\\;\\Longrightarrow\\;\\;\n\\lambda=\\frac{a+b}{\\,I-p_{x}x_{0}-p_{y}y_{0}\\,}.\n$$\nTherefore,\n$$\nx^{\\ast}=x_{0}+\\frac{a}{p_{x}}\\cdot\\frac{I-p_{x}x_{0}-p_{y}y_{0}}{a+b},\\qquad\ny^{\\ast}=y_{0}+\\frac{b}{p_{y}}\\cdot\\frac{I-p_{x}x_{0}-p_{y}y_{0}}{a+b}.\n$$\nWith $a=0.4$, $b=0.6$ so that $a+b=1$, $x_{0}=5$, $y_{0}=1$, $p_{x}=2$, $p_{y}=15$, and $I=200$, the discretionary income is\n$$\nI-p_{x}x_{0}-p_{y}y_{0}=200-2\\cdot 5-15\\cdot 1=1750,\n$$\nso an interior solution exists. Then\n$$\nx^{\\ast}=5+\\frac{0.4}{2}\\cdot 175=5+35=40,\\qquad\ny^{\\ast}=1+\\frac{0.6}{15}\\cdot 175=1+7=8.\n$$\nThis bundle is feasible and exhausts the budget: $2\\cdot 40+15\\cdot 8=200$. Rounding each value to three significant figures gives $x^{\\ast}=40.0$ and $y^{\\ast}=8.00$.",
            "answer": "$$\\boxed{\\begin{pmatrix}40.0  8.00\\end{pmatrix}}$$"
        },
        {
            "introduction": "Our final practice scales up the complexity to reflect real-world business decisions, moving from analytical solutions to computational methods. You will step into the role of a production planner for a firm that must maximize its profit subject to numerous resource constraints, including machine capacity, labor hours, and material inputs . This exercise requires formulating the problem as a linear program and using a computational solver, showcasing how constrained optimization is an indispensable tool for modern operations research and strategic management.",
            "id": "2383221",
            "problem": "A firm produces multiple products using shared resources. Let there be $6$ products indexed by $j \\in \\{1,2,3,4,5,6\\}$, and let decision variables be $x_j \\ge 0$ representing the quantity of product $j$ to produce. Production requires capacity on $4$ machines, $2$ types of labor hours, and $4$ supply chain inputs. Each product $j$ earns revenue $r_j$ per unit and incurs variable cost $v_j$ per unit. The firm seeks to choose $x \\in \\mathbb{R}^6_{\\ge 0}$ to maximize total profit subject to resource constraints.\n\nDefine the linear program, in Linear Program (LP) standard form, as:\nmaximize\n$$\n\\sum_{j=1}^{6} (r_j - v_j) x_j\n$$\nsubject to:\n$$\nA x \\le B, \\quad L x \\le H, \\quad S x \\le \\bar{S}, \\quad x \\ge 0\n$$\nwhere $A \\in \\mathbb{R}^{4 \\times 6}$ is the matrix of machine time requirements per unit of product, $B \\in \\mathbb{R}^{4}$ is the vector of available machine hours, $L \\in \\mathbb{R}^{2 \\times 6}$ is the matrix of labor hour requirements per unit, $H \\in \\mathbb{R}^{2}$ is the vector of available labor hours, $S \\in \\mathbb{R}^{4 \\times 6}$ is the matrix of input usage per unit, and $\\bar{S} \\in \\mathbb{R}^{4}$ is the vector of available input quantities.\n\nUse the following fixed technical coefficients (they are the same across all test cases):\n\nMatrix of machine-hour requirements per unit:\n$$\nA = \\begin{bmatrix}\n1.0  0.5  0.2  0.0  0.3  0.8 \\\\\n0.2  1.2  0.0  0.6  0.4  0.1 \\\\\n0.0  0.4  1.5  0.7  0.2  0.3 \\\\\n0.5  0.0  0.4  1.0  0.6  0.2\n\\end{bmatrix}.\n$$\nMatrix of labor-hour requirements per unit:\n$$\nL = \\begin{bmatrix}\n0.6  0.8  0.3  0.5  0.2  0.4 \\\\\n0.4  0.2  0.5  0.6  0.3  0.7\n\\end{bmatrix}.\n$$\nMatrix of input usage per unit:\n$$\nS = \\begin{bmatrix}\n1.0  0.5  0.3  0.4  0.2  0.1 \\\\\n0.2  0.8  0.6  0.1  0.4  0.3 \\\\\n0.0  0.1  0.5  0.9  0.2  0.0 \\\\\n0.3  0.2  0.4  0.0  1.1  0.6\n\\end{bmatrix}.\n$$\nBaseline per-unit revenues and variable costs:\n$$\nr = \\begin{bmatrix}100  120  90  110  80  130\\end{bmatrix}, \\quad\nv = \\begin{bmatrix}40  50  30  60  20  70\\end{bmatrix}.\n$$\n\nYour task is to compute, for each test case below, the optimal total profit\n$$\n\\Pi^\\star = \\sum_{j=1}^{6} (r_j - v_j) x_j^\\star,\n$$\nwhere $x^\\star$ solves the LP for that case. Express all final profits in the same monetary units as $r_j$ and $v_j$ (no currency symbol), as real numbers.\n\nTest suite:\n- Test case $1$ (baseline capacities and inputs):\n  - Machine capacities:\n    $$\n    B^{(1)} = \\begin{bmatrix}500  400  450  380\\end{bmatrix}.\n    $$\n  - Labor availabilities:\n    $$\n    H^{(1)} = \\begin{bmatrix}600  550\\end{bmatrix}.\n    $$\n  - Input availabilities:\n    $$\n    \\bar{S}^{(1)} = \\begin{bmatrix}300  250  200  220\\end{bmatrix}.\n    $$\n  - Revenues and costs:\n    $$\n    r^{(1)} = r, \\quad v^{(1)} = v.\n    $$\n- Test case $2$ (supply chain disruption on the third input and a product price shock):\n  - Machine capacities:\n    $$\n    B^{(2)} = \\begin{bmatrix}500  400  450  380\\end{bmatrix}.\n    $$\n  - Labor availabilities:\n    $$\n    H^{(2)} = \\begin{bmatrix}600  550\\end{bmatrix}.\n    $$\n  - Input availabilities (third input reduced):\n    $$\n    \\bar{S}^{(2)} = \\begin{bmatrix}300  250  80  220\\end{bmatrix}.\n    $$\n  - Revenues and costs (product $4$ revenue increases):\n    $$\n    r^{(2)} = \\begin{bmatrix}100  120  90  130  80  130\\end{bmatrix}, \\quad v^{(2)} = v.\n    $$\n- Test case $3$ (machine $4$ outage and lower revenue for product $2$):\n  - Machine capacities (fourth machine limited):\n    $$\n    B^{(3)} = \\begin{bmatrix}500  400  450  50\\end{bmatrix}.\n    $$\n  - Labor availabilities:\n    $$\n    H^{(3)} = \\begin{bmatrix}600  550\\end{bmatrix}.\n    $$\n  - Input availabilities:\n    $$\n    \\bar{S}^{(3)} = \\begin{bmatrix}300  250  200  220\\end{bmatrix}.\n    $$\n  - Revenues and costs (product $2$ revenue decreases):\n    $$\n    r^{(3)} = \\begin{bmatrix}100  110  90  110  80  130\\end{bmatrix}, \\quad v^{(3)} = v.\n    $$\n- Test case $4$ (edge case with zero availability of all resources):\n  - Machine capacities:\n    $$\n    B^{(4)} = \\begin{bmatrix}0  0  0  0\\end{bmatrix}.\n    $$\n  - Labor availabilities:\n    $$\n    H^{(4)} = \\begin{bmatrix}0  0\\end{bmatrix}.\n    $$\n  - Input availabilities:\n    $$\n    \\bar{S}^{(4)} = \\begin{bmatrix}0  0  0  0\\end{bmatrix}.\n    $$\n  - Revenues and costs:\n    $$\n    r^{(4)} = r, \\quad v^{(4)} = v.\n    $$\n\nRequired final output format:\nYour program should produce a single line of output containing the optimal total profits for the $4$ test cases as a comma-separated list enclosed in square brackets (for example, $[p_1,p_2,p_3,p_4]$), where each $p_i$ is a real number (monetary units, no currency symbol). No other text should be printed.",
            "solution": "The problem statement has been subjected to rigorous validation and is confirmed to be valid. It constitutes a standard linear programming problem, a fundamental construct in operations research and computational economics. The problem is scientifically grounded, well-posed, objective, and provides a complete and consistent set of data for determining a solution. We will proceed with the formal derivation and computation.\n\nThe objective is to maximize the total profit, $\\Pi$, which is a linear function of the production quantities $x_j$ for $j \\in \\{1, 2, 3, 4, 5, 6\\}$. In vector notation, the objective function is:\n$$\n\\text{maximize} \\quad \\Pi = c^T x\n$$\nwhere $x \\in \\mathbb{R}^6$ is the vector of decision variables ($x_j \\ge 0$), and $c = r - v$ is the vector of per-unit profits (revenues minus variable costs).\n\nProduction is subject to constraints on $4$ machines, $2$ labor types, and $4$ supply inputs. These constraints are expressed as systems of linear inequalities: $A x \\le B$, $L x \\le H$, and $S x \\le \\bar{S}$. These can be consolidated into a single matrix inequality. We define a composite constraint matrix $A_{ub}$ by vertically stacking the individual coefficient matrices $A$, $L$, and $S$, and a composite resource vector $b_{ub}$ by concatenating the corresponding availability vectors $B$, $H$, and $\\bar{S}$.\n$$\nA_{ub} = \\begin{bmatrix} A \\\\ L \\\\ S \\end{bmatrix}, \\quad b_{ub} = \\begin{bmatrix} B \\\\ H \\\\ \\bar{S} \\end{bmatrix}\n$$\nThe matrix $A$ has dimensions $4 \\times 6$, $L$ is $2 \\times 6$, and $S$ is $4 \\times 6$. Therefore, $A_{ub}$ is a $10 \\times 6$ matrix. The vector $b_{ub}$ has $10$ corresponding entries.\n\nThe complete problem is a Linear Program (LP) in the following standard form:\n$$\n\\begin{aligned}\n\\text{maximize} \\quad  c^T x \\\\\n\\text{subject to} \\quad  A_{ub} x \\le b_{ub} \\\\\n x \\ge 0\n\\end{aligned}\n$$\nFor computational solution, we use the `linprog` function from the `scipy.optimize` library. This function is designed to solve minimization problems. To align our maximization problem with the solver's requirement, we reformulate the objective as the minimization of the negative profit:\n$$\n\\text{minimize} \\quad -c^T x\n$$\nThe objective coefficient vector supplied to the solver will be $-c$. The optimal profit $\\Pi^\\star$ is then the negative of the minimum value returned by the solver, i.e., $\\Pi^\\star = -(\\text{result.fun})$.\n\nThe fixed technical coefficient matrices $A$, $L$, and $S$ are used to construct the constant $10 \\times 6$ matrix $A_{ub}$. We then proceed to solve the LP for each of the $4$ test cases by defining the specific profit vector $c^{(i)}$ and resource vector $b_{ub}^{(i)}$ for each case $i$.\n\nFor Test Case $1$, the baseline scenario, the profit vector is $c^{(1)} = r - v = [60, 70, 60, 50, 60, 60]^T$, and the resource vector is $b_{ub}^{(1)} = [500, 400, 450, 380, 600, 550, 300, 250, 200, 220]^T$. Solving the LP yields the optimal profit $\\Pi_1^\\star$.\n\nFor Test Case $2$, revenue for product $4$ increases, resulting in a new profit vector $c^{(2)} = [60, 70, 60, 70, 60, 60]^T$. The availability of the third input is reduced, modifying the ninth element of the resource vector, so $b_{ub}^{(2)} = [500, 400, 450, 380, 600, 550, 300, 250, 80, 220]^T$. The corresponding optimal profit is $\\Pi_2^\\star$.\n\nFor Test Case $3$, revenue for product $2$ decreases, giving a profit vector $c^{(3)} = [60, 60, 60, 50, 60, 60]^T$. Capacity of the fourth machine is limited, altering the fourth element of the resource vector, so $b_{ub}^{(3)} = [500, 400, 450, 50, 600, 550, 300, 250, 200, 220]^T$. The optimal profit is $\\Pi_3^\\star$.\n\nFor Test Case $4$, all resource availabilities are zero, $b_{ub}^{(4)} = \\mathbf{0}$. The constraints become $A_{ub} x \\le \\mathbf{0}$. Since all elements of $A_{ub}$ and $x$ must be non-negative, the only feasible solution is the origin, $x^\\star = \\mathbf{0}$. Consequently, the optimal profit is deterministically zero: $\\Pi_4^\\star = c^T x^\\star = 0$. This case serves as a valuable check for the logical consistency of the model and solver.\n\nThe implementation involves setting up these vectors for each case and calling the `scipy.optimize.linprog` solver. The final results are the computed optimal profits for each of the $4$ cases.",
            "answer": "```python\nimport numpy as np\nfrom scipy.optimize import linprog\n\ndef solve():\n    \"\"\"\n    Solves a series of linear programming problems for a firm's production plan.\n    \"\"\"\n    # Define fixed technical coefficients as specified in the problem statement.\n    A = np.array([\n        [1.0, 0.5, 0.2, 0.0, 0.3, 0.8],\n        [0.2, 1.2, 0.0, 0.6, 0.4, 0.1],\n        [0.0, 0.4, 1.5, 0.7, 0.2, 0.3],\n        [0.5, 0.0, 0.4, 1.0, 0.6, 0.2]\n    ])\n\n    L = np.array([\n        [0.6, 0.8, 0.3, 0.5, 0.2, 0.4],\n        [0.4, 0.2, 0.5, 0.6, 0.3, 0.7]\n    ])\n\n    S = np.array([\n        [1.0, 0.5, 0.3, 0.4, 0.2, 0.1],\n        [0.2, 0.8, 0.6, 0.1, 0.4, 0.3],\n        [0.0, 0.1, 0.5, 0.9, 0.2, 0.0],\n        [0.3, 0.2, 0.4, 0.0, 1.1, 0.6]\n    ])\n\n    # Baseline per-unit revenues and variable costs.\n    r_base = np.array([100, 120, 90, 110, 80, 130])\n    v_base = np.array([40, 50, 30, 60, 20, 70])\n\n    # Define the four test cases with their specific parameters.\n    test_cases = [\n        # Test Case 1: Baseline scenario.\n        {\n            \"r\": r_base,\n            \"v\": v_base,\n            \"B\": np.array([500, 400, 450, 380]),\n            \"H\": np.array([600, 550]),\n            \"S_bar\": np.array([300, 250, 200, 220])\n        },\n        # Test Case 2: Supply chain disruption and price shock.\n        {\n            \"r\": np.array([100, 120, 90, 130, 80, 130]),\n            \"v\": v_base,\n            \"B\": np.array([500, 400, 450, 380]),\n            \"H\": np.array([600, 550]),\n            \"S_bar\": np.array([300, 250, 80, 220])\n        },\n        # Test Case 3: Machine outage and revenue decrease.\n        {\n            \"r\": np.array([100, 110, 90, 110, 80, 130]),\n            \"v\": v_base,\n            \"B\": np.array([500, 400, 450, 50]),\n            \"H\": np.array([600, 550]),\n            \"S_bar\": np.array([300, 250, 200, 220])\n        },\n        # Test Case 4: Zero availability of all resources.\n        {\n            \"r\": r_base,\n            \"v\": v_base,\n            \"B\": np.array([0, 0, 0, 0]),\n            \"H\": np.array([0, 0]),\n            \"S_bar\": np.array([0, 0, 0, 0])\n        }\n    ]\n\n    # Combine A, L, S into a single constraint matrix A_ub. This is constant for all cases.\n    A_ub = np.vstack([A, L, S])\n    \n    results = []\n    for case in test_cases:\n        # Construct the objective vector c = r - v. The solver minimizes -c^T x.\n        c_profit = case[\"r\"] - case[\"v\"]\n        c_solver = -c_profit\n        \n        # Construct the upper-bound vector b_ub for the constraints.\n        b_ub = np.concatenate([case[\"B\"], case[\"H\"], case[\"S_bar\"]])\n        \n        # All decision variables must be non-negative (x_j >= 0).\n        bounds = (0, None)\n        \n        # Solve the linear programming problem using the 'highs' method.\n        res = linprog(c_solver, A_ub=A_ub, b_ub=b_ub, bounds=bounds, method='highs')\n        \n        # The optimal profit is the negative of the minimized objective function value.\n        if res.success:\n            optimal_profit = -res.fun\n            results.append(optimal_profit)\n        else:\n            # This case indicates a solver failure, which is not expected for these well-posed problems.\n            # We append numpy.nan as a placeholder for robustness.\n            results.append(np.nan)\n\n    # Print the final list of results in the specified format.\n    print(f\"[{','.join(map(str, results))}]\")\n\nsolve()\n```"
        }
    ]
}