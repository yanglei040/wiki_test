{
    "hands_on_practices": [
        {
            "introduction": "碎片产生后，它们将行进至高温等离子体中。本练习旨在模拟碎片烧蚀这一关键过程，即固体物质转化为气体云，从而冷却等离子体。通过推导并求解描述碎片寿命和穿透深度的方程 ，您将深入理解主导物质输运效率的物理机制，特别是在面对随时间变化的等离子体热通量 $q(t)$ 时。",
            "id": "3695001",
            "problem": "考虑一个由碎屑丸注入（SPI）产生的碎片，在磁约束等离子体中径向向内移动。该碎片被建模为一个半径为 $r(t)$、固体质量密度为 $\\rho_{s}$ 的均匀密度球体。由于入射到其表面的、随时间变化的电子熱通量 $q(t)$，碎片发生烧蚀。假设沉积的热功率被碎片局部吸收，并完全用于以有效比烧蚀焓 $h_{a}$ 移除质量，该焓值考虑了从初始温度加热到烧蚀温度、相变和电离的过程。忽略碎片自身的辐射损失和任何再沉积。假定碎片在烧蚀过程中的径向速度 $v_{r}$ 恒定。\n\n从能量守恒和质量守恒出发，推导烧蚀过程中碎片半径 $r(t)$ 的控制方程，并对其进行积分，求出 $r(t_{a})=0$ 时的时间 $t_{a}$。然后，计算径向穿透深度 $x_{a}=\\int_{0}^{t_{a}} v_{r}\\,\\mathrm{d}t$。\n\n为了使时间依赖性明确，设入射热通量为\n$$\nq(t)=q_{0}\\left(1+\\frac{t}{\\tau}\\right)^{-\\gamma},\n$$\n其中常数 $q_{0}>0$, $\\tau>0$ 且 $0 < \\gamma < 1$，这代表了由于屏蔽云的增长和缓解过程中的全局冷却而导致的热通量在物理上合理的衰减。碎片在 $t=0$ 时进入等离子体，初始半径为 $r(0)=r_{0}>0$。请用 $r_{0}$, $\\rho_{s}$, $h_{a}$, $q_{0}$, $\\tau$, $\\gamma$ 和 $v_{r}$ 以闭合形式表示你的最终答案 $t_{a}$ 和 $x_{a}$。你的最终答案必须是解析表达式。不要包含任何数值近似。",
            "solution": "首先根据指定标准对问题进行验证。\n\n### 问题验证\n\n**步骤1：提取已知条件**\n-   碎片模型：一个半径为 $r(t)$、固体质量密度为 $\\rho_{s}$ 的均匀密度球体。\n-   碎片运动：恒定的径向速度 $v_{r}$。\n-   初始条件：碎片在 $t=0$ 时进入等离子体，初始半径为 $r(0)=r_{0}>0$。\n-   烧蚀机制：一个随时间变化的入射电子热通量 $q(t)$ 沉积在碎片表面。\n-   热通量模型：$q(t)=q_{0}\\left(1+\\frac{t}{\\tau}\\right)^{-\\gamma}$，其中常数 $q_{0}>0$, $\\tau>0$ 且 $0 < \\gamma < 1$。\n-   能量平衡：沉积的热功率完全用于以有效比烧蚀焓 $h_{a}$ 移除质量。辐射损失和再沉积被忽略。\n-   目标1：推导 $r(t)$ 的控制方程，并找到烧蚀时间 $t_{a}$ 使得 $r(t_{a})=0$。\n-   目标2：计算径向穿透深度 $x_{a}=\\int_{0}^{t_{a}} v_{r}\\,\\mathrm{d}t$。\n\n**步骤2：使用提取的已知条件进行验证**\n-   **科学依据**：该问题基于质量守恒和能量守恒的基本原理。所提出的模型是等离子体物理学中用于研究丸粒烧蚀（与中性气体屏蔽模型相关）的一个公认的简化模型，在其定义的假设范围内是科学合理的。$q(t)$ 的函数形式是描述破裂缓解情景中热通量衰减的一个合理的唯象模型。\n-   **适定性**：该问题是适定的。它要求推导并求解一个带给定初始条件的一阶常微分方程。这构成了一个标准的初值问题，在给定条件下预期存在唯一解。\n-   **客观性**：问题以精确、客观的语言陈述，没有主观或含糊的术语。\n-   **完整性和一致性**：所有必要的参数（$r_0, \\rho_s, h_a, q_0, \\tau, \\gamma, v_r$）和初始条件都已提供。设置中没有矛盾之处。约束条件 $0 < \\gamma < 1$ 至关重要，它确保了控制方程在有限时间内的可积性。\n-   **其他缺陷**：该问题不存在任何其他使其无效的缺陷。它并非科学上不合理、不可形式化、不完整、不切实际（在简化物理模型的背景下）、不适定或微不足道。\n\n**步骤3：结论与行动**\n该问题是**有效的**。将提供解答。\n\n### 解答推导\n\n解答过程首先基于能量和质量守恒原理建立碎片半径 $r(t)$ 的控制微分方程，然后对该方程进行积分，以求得总烧蚀时间 $t_a$ 和相应的穿透深度 $x_a$。\n\n设 $m(t)$为球形碎片在时间 $t$ 的质量。质量与半径 $r(t)$ 和恒定的固体密度 $\\rho_s$ 的关系为：\n$$ m(t) = \\rho_s V(t) = \\rho_s \\frac{4}{3}\\pi [r(t)]^3 $$\n质量变化率通过对时间求导得出：\n$$ \\frac{dm}{dt} = \\frac{d}{dt} \\left( \\rho_s \\frac{4}{3}\\pi [r(t)]^3 \\right) = \\rho_s \\frac{4}{3}\\pi \\cdot 3[r(t)]^2 \\frac{dr}{dt} = 4\\pi \\rho_s [r(t)]^2 \\frac{dr}{dt} $$\n沉积到碎片表面的能量沉积率（功率）$P_{dep}$ 是入射热通量 $q(t)$ 与球体表面积 $A(t) = 4\\pi [r(t)]^2$ 的乘积：\n$$ P_{dep}(t) = q(t) A(t) = 4\\pi [r(t)]^2 q(t) $$\n此沉积功率完全被烧蚀过程消耗。烧蚀所需的功率 $P_{abl}$ 是比烧蚀焓 $h_a$ 与质量烧蚀率 $-\\frac{dm}{dt}$ 的乘积（因为质量在减少，所以 $\\frac{dm}{dt}$ 为负值）。\n$$ P_{abl}(t) = -h_a \\frac{dm}{dt} $$\n能量守恒原理表明 $P_{dep}(t) = P_{abl}(t)$：\n$$ 4\\pi [r(t)]^2 q(t) = -h_a \\frac{dm}{dt} $$\n代入 $\\frac{dm}{dt}$ 的表达式：\n$$ 4\\pi [r(t)]^2 q(t) = -h_a \\left( 4\\pi \\rho_s [r(t)]^2 \\frac{dr}{dt} \\right) $$\n当 $r(t) > 0$ 时，我们可以将两边同除以 $4\\pi [r(t)]^2$，得到碎片半径的控制常微分方程：\n$$ q(t) = -\\rho_s h_a \\frac{dr}{dt} $$\n$$ \\frac{dr}{dt} = -\\frac{q(t)}{\\rho_s h_a} $$\n现在，我们代入给定的热通量函数形式 $q(t)=q_{0}\\left(1+\\frac{t}{\\tau}\\right)^{-\\gamma}$：\n$$ \\frac{dr}{dt} = -\\frac{q_{0}}{\\rho_s h_a} \\left(1+\\frac{t}{\\tau}\\right)^{-\\gamma} $$\n这是一个可分离的一阶微分方程。我们可以通过从初始状态（$t=0$, $r=r_0$）积分到碎片完全烧蚀的最终状态（$t=t_a$, $r=0$）来求解总烧蚀时间 $t_a$。\n$$ \\int_{r(0)}^{r(t_a)} dr = \\int_{0}^{t_a} -\\frac{q_{0}}{\\rho_s h_a} \\left(1+\\frac{t'}{\\tau}\\right)^{-\\gamma} dt' $$\n代入半径的边界条件 $r(0)=r_0$ 和 $r(t_a)=0$：\n$$ \\int_{r_{0}}^{0} dr = -\\frac{q_{0}}{\\rho_s h_a} \\int_{0}^{t_a} \\left(1+\\frac{t'}{\\tau}\\right)^{-\\gamma} dt' $$\n左边计算结果为：\n$$ [r]_{r_{0}}^{0} = 0 - r_0 = -r_0 $$\n右边的积分是：\n$$ \\int_{0}^{t_a} \\left(1+\\frac{t'}{\\tau}\\right)^{-\\gamma} dt' = \\left[ \\frac{\\tau}{1-\\gamma} \\left(1+\\frac{t'}{\\tau}\\right)^{1-\\gamma} \\right]_{0}^{t_a} $$\n条件 $0 < \\gamma < 1$ 确保了分母 $1-\\gamma$ 不为零。在积分上下限处求值：\n$$ = \\frac{\\tau}{1-\\gamma} \\left[ \\left(1+\\frac{t_a}{\\tau}\\right)^{1-\\gamma} - \\left(1+\\frac{0}{\\tau}\\right)^{1-\\gamma} \\right] = \\frac{\\tau}{1-\\gamma} \\left[ \\left(1+\\frac{t_a}{\\tau}\\right)^{1-\\gamma} - 1 \\right] $$\n将这些结果代回积分方程中：\n$$ -r_0 = -\\frac{q_{0}}{\\rho_s h_a} \\cdot \\frac{\\tau}{1-\\gamma} \\left[ \\left(1+\\frac{t_a}{\\tau}\\right)^{1-\\gamma} - 1 \\right] $$\n我们现在求解 $t_a$。首先，消去负号并重新整理各项：\n$$ r_0 = \\frac{q_{0} \\tau}{\\rho_s h_a (1-\\gamma)} \\left[ \\left(1+\\frac{t_a}{\\tau}\\right)^{1-\\gamma} - 1 \\right] $$\n$$ \\frac{r_0 \\rho_s h_a (1-\\gamma)}{q_0 \\tau} = \\left(1+\\frac{t_a}{\\tau}\\right)^{1-\\gamma} - 1 $$\n$$ 1 + \\frac{r_0 \\rho_s h_a (1-\\gamma)}{q_0 \\tau} = \\left(1+\\frac{t_a}{\\tau}\\right)^{1-\\gamma} $$\n为了分离出 $t_a$，我们将两边都取 $\\frac{1}{1-\\gamma}$ 次幂：\n$$ \\left[1 + \\frac{r_0 \\rho_s h_a (1-\\gamma)}{q_0 \\tau}\\right]^{\\frac{1}{1-\\gamma}} = 1+\\frac{t_a}{\\tau} $$\n最后，求解烧蚀时间 $t_a$：\n$$ t_a = \\tau \\left( \\left[1 + \\frac{r_0 \\rho_s h_a (1-\\gamma)}{q_0 \\tau}\\right]^{\\frac{1}{1-\\gamma}} - 1 \\right) $$\n径向穿透深度 $x_a$ 是碎片在烧蚀时间 $t_a$ 内以恒定的径向速度 $v_r$ 行进的距离：\n$$ x_a = \\int_{0}^{t_a} v_r dt = v_r t_a $$\n代入 $t_a$ 的表达式：\n$$ x_a = v_r \\tau \\left( \\left[1 + \\frac{r_0 \\rho_s h_a (1-\\gamma)}{q_0 \\tau}\\right]^{\\frac{1}{1-\\gamma}} - 1 \\right) $$\n这些是烧蚀时间和穿透深度的最终解析表达式。",
            "answer": "$$\\boxed{\\begin{pmatrix} \\tau \\left( \\left(1 + \\frac{r_0 \\rho_s h_a (1-\\gamma)}{q_0 \\tau}\\right)^{\\frac{1}{1-\\gamma}} - 1 \\right) \\\\ v_r \\tau \\left( \\left(1 + \\frac{r_0 \\rho_s h_a (1-\\gamma)}{q_0 \\tau}\\right)^{\\frac{1}{1-\\gamma}} - 1 \\right) \\end{pmatrix}}$$"
        },
        {
            "introduction": "最后的这项动手实践将前述概念整合到一个简化但功能强大的零维（0D）系统模型中。您将构建一个模型，用于估算在像ITER这样的大型托卡马克中缓解一次破坏所需的总杂质注入质量。这项练习  旨在帮助您架起从基础物理原理到聚变反应堆工程设计要求之间的桥梁，将辐射能量目标和等离子体密度要求等约束条件结合起来。",
            "id": "3695067",
            "problem": "为国际热核聚变实验堆 (ITER) 中的杂质碎屑丸注入 (SPI) 实现一个零维 (0D) 破裂缓解模型。目标是计算能够同时满足热淬灭期间的目标辐射能量份额和热淬灭后的目标自由电子密度的最小注入杂质质量，并将此基于模型的质量与基于现有装置热能的简单线性标度律所预测的注入质量进行比较。\n\n必须使用的假设和基本原理：\n- 使用第一性原理能量衡算和光学薄等离子体辐射。在 $T_{\\text{e},0} \\approx T_{\\text{i},0} \\equiv T_0$ 和单电荷主离子的简化假设下，将总等离子体热能建模为 $W_{\\text{th}}$，因此准电中性意味着 $n_{\\text{i},0} \\approx n_{\\text{e},0}$。一个一致的近似因此是\n$$\nW_{\\text{th}} \\approx 3\\, n_{\\text{e},0}\\, T_0\\, V,\n$$\n其中 $T_0$ 的单位是焦耳。\n- 目标辐射能量为 $E_{\\text{rad,target}} = f_{\\text{rad}}\\, W_{\\text{th}}$，其中 $f_{\\text{rad}} \\in (0,1)$。\n- 光学薄杂质线辐射功率密度为 $P_{\\text{rad}}/V = n_{\\text{e}}\\, n_z \\, \\overline{L}_z$，使用一个有效的、淬灭期间平均的冷却系数 $\\overline{L}_z$，其单位为瓦特·米³。\n- 对注入到辐射的、载流等离子体体积中的材料使用单一的吸收效率 $0 \\le \\eta \\le 1$，因此被吸收的杂质粒子数为 $\\eta\\, N_{\\text{inj}}$。\n- 在相关阶段对杂质采用单一的有效电离度 $\\overline{Z}_{\\text{ion}}$，因此杂质贡献的自由电子密度为 $\\Delta n_{\\text{e}} \\approx \\eta\\, N_{\\text{inj}} \\, \\overline{Z}_{\\text{ion}}/V$。\n- 假设一个特征热淬灭时间 $ \\tau_{\\text{TQ}}$，在此期间辐射以适合缓解目标的代表性电子密度 $n_{\\text{e,avg}}$ 起作用。\n\n必需的推导目标，仅基于上述基础（不要使用任何上述未声明的预设工程关联式）：\n- 从 $P_{\\text{rad}} = n_{\\text{e}}\\, n_z \\, \\overline{L}_z \\, V$ 和吸收模型出发，通过将时间积分的辐射能量等同于 $E_{\\text{rad,target}}$，推导出关于 $N_{\\text{inj}}$ 的辐射约束。您的最终表达式必须用 $f_{\\text{rad}}$、$W_{\\text{th}}$、$\\eta$、$\\overline{L}_z$、$n_{\\text{e,avg}}$ 和 $\\tau_{\\text{TQ}}$ 表示。\n- 从自由电子密度要求 $n_{\\text{e,post}} \\ge n_{\\text{e},0} + \\Delta n_{\\text{e}}$ 出发，推导出关于 $N_{\\text{inj}}$ 的密度约束，用 $n_{\\text{e,post}}$、$n_{\\text{e},0}$、$V$、$\\eta$ 和 $\\overline{Z}_{\\text{ion}}$ 表示。\n- 所需的注入粒子数是辐射要求和密度要求的最大值。使用杂质原子质量 $m_{\\text{atom}}$ 将其转换为质量。\n\n与现有装置标度律的比较：\n- 定义一个简单的现有装置线性标度律来计算所需质量 $M_{\\text{scaled}}$，通过归一化到一个由 $(W_{\\text{ref}}, M_{\\text{ref}}, f_{\\text{rad,ref}})$ 表征的参考数据集：\n$$\nM_{\\text{scaled}} = M_{\\text{ref}} \\times \\frac{W_{\\text{th}}}{W_{\\text{ref}}} \\times \\frac{f_{\\text{rad}}}{f_{\\text{rad,ref}}}.\n$$\n- 计算无量纲比率 $r \\equiv M_{\\text{model}}/M_{\\text{scaled}}$。\n\n实现说明：\n- 实现一个程序，对于下面的测试套件中的每个测试用例，使用以电子伏特 (eV) 给出的 $T_0$ 通过转换 $1\\,\\text{eV} = e\\,\\text{J}$（其中 $e = 1.602176634\\times 10^{-19}\\,\\text{J/eV}$）计算 $W_{\\text{th}}$（单位为焦耳）。然后计算：\n    - $M_{\\text{model}}$（单位为克），根据辐射和密度约束的最大值。\n    - $M_{\\text{scaled}}$（单位为克），根据参考标度律。\n    - $r = M_{\\text{model}}/M_{\\text{scaled}}$。\n- 对于数值评估，使用 $n_{\\text{e,avg}} = n_{\\text{e,post}}$。\n\n单位和输出要求：\n- 以克表示 $M_{\\text{model}}$，以克表示 $M_{\\text{scaled}}$，并将 $r$ 表示为无量纲浮点数。将所有输出四舍五入到三位有效数字。\n- 您的程序应生成单行输出，其中包含所有测试用例的结果，形式为方括号内的一个逗号分隔列表，每个测试用例的结果是一个包含三个浮点数的列表，顺序为 $[M_{\\text{model}}\\ \\text{(g)}, M_{\\text{scaled}}\\ \\text{(g)}, r]$。\n\n测试套件（每个案例是一个参数元组，顺序为：杂质质量 $m_{\\text{atom}}$ (kg)，有效电离度 $\\overline{Z}_{\\text{ion}}$ (无量纲)，$\\overline{L}_z$ (W·m³)，吸收效率 $\\eta$ (无量纲)，初始电子密度 $n_{\\text{e},0}$ (m$^{-3}$)，初始温度 $T_0$ (eV)，体积 $V$ (m$^3$)，目标辐射份额 $f_{\\text{rad}}$ (无量纲)，淬灭后密度目标 $n_{\\text{e,post}}$ (m$^{-3}$)，热淬灭时间 $\\tau_{\\text{TQ}}$ (s)，参考 $W_{\\text{ref}}$ (J)，参考 $M_{\\text{ref}}$ (g)，参考 $f_{\\text{rad,ref}}$ (无量纲))：\n- 案例 A (类氖，ITER 基线):\n    - $m_{\\text{atom}} = 3.321\\times 10^{-26}$,\n    - $\\overline{Z}_{\\text{ion}} = 8$,\n    - $\\overline{L}_z = 1.0\\times 10^{-32}$,\n    - $\\eta = 0.3$,\n    - $n_{\\text{e},0} = 8.0\\times 10^{19}$,\n    - $T_0 = 1.2000\\times 10^{4}$,\n    - $V = 830$,\n    - $f_{\\text{rad}} = 0.9$,\n    - $n_{\\text{e,post}} = 5.0\\times 10^{20}$,\n    - $\\tau_{\\text{TQ}} = 3.0\\times 10^{-3}$,\n    - $W_{\\text{ref}} = 2.0\\times 10^{6}$,\n    - $M_{\\text{ref}} = 20.0$,\n    - $f_{\\text{rad,ref}} = 0.8$.\n- 案例 B (类氩，中等缓解，辐射主导):\n    - $m_{\\text{atom}} = 6.6335\\times 10^{-26}$,\n    - $\\overline{Z}_{\\text{ion}} = 10$,\n    - $\\overline{L}_z = 3.0\\times 10^{-32}$,\n    - $\\eta = 0.3$,\n    - $n_{\\text{e},0} = 8.0\\times 10^{19}$,\n    - $T_0 = 1.0000\\times 10^{4}$,\n    - $V = 830$,\n    - $f_{\\text{rad}} = 0.7$,\n    - $n_{\\text{e,post}} = 1.0\\times 10^{20}$,\n    - $\\tau_{\\text{TQ}} = 5.0\\times 10^{-3}$,\n    - $W_{\\text{ref}} = 1.5\\times 10^{6}$,\n    - $M_{\\text{ref}} = 15.0$,\n    - $f_{\\text{rad,ref}} = 0.8$.\n- 案例 C (类氖，密度主导，具有高 $n_{\\text{e,post}}$ 和较低吸收率):\n    - $m_{\\text{atom}} = 3.321\\times 10^{-26}$,\n    - $\\overline{Z}_{\\text{ion}} = 8$,\n    - $\\overline{L}_z = 1.0\\times 10^{-32}$,\n    - $\\eta = 0.2$,\n    - $n_{\\text{e},0} = 6.0\\times 10^{19}$,\n    - $T_0 = 1.5000\\times 10^{4}$,\n    - $V = 830$,\n    - $f_{\\text{rad}} = 0.6$,\n    - $n_{\\text{e,post}} = 1.5\\times 10^{21}$,\n    - $\\tau_{\\text{TQ}} = 2.0\\times 10^{-3}$,\n    - $W_{\\text{ref}} = 2.0\\times 10^{6}$,\n    - $M_{\\text{ref}} = 20.0$,\n    - $f_{\\text{rad,ref}} = 0.8$.\n\n角度单位不适用。输出中没有百分比。确保最终打印的行严格符合要求的格式：一个单独的列表，其中每个测试用例包含一个子列表，按所述顺序排列，每个浮点数四舍五入到三位有效数字，且 $M_{\\text{model}}$ 和 $M_{\\text{scaled}}$ 的单位为克。",
            "solution": "用户提供了一个有效的、适定的等离子体物理问题。任务是为 ITER 中通过碎屑丸注入 (SPI) 进行破裂缓解所需的杂质质量建立一个零维 (0D) 模型，并将其与一个简单的线性标度律进行比较。\n\n求解过程如下：\n首先，我们确定初始等离子体热能 $W_{\\text{th}}$ 这个基本量。\n其次，我们推导注入杂质原子数 $N_{\\text{inj}}$ 的两个约束条件：一个来自辐射目标能量份额的要求（辐射约束），另一个来自将等离子体自由电子密度提高到目标值的要求（密度约束）。\n第三，我们确定满足这两个约束条件的最小所需 $N_{\\text{inj}}$，并将其转换为模型预测的质量 $M_{\\text{model}}$。\n第四，我们计算由简单线性标度律预测的质量 $M_{\\text{scaled}}$。\n最后，我们计算比率 $r = M_{\\text{model}} / M_{\\text{scaled}}$。\n\n**1. 等离子体热能**\n问题在电子和离子温度相等 ($T_{\\text{e},0} \\approx T_{\\text{i},0} \\equiv T_0$) 以及带单电荷主离子的准电中性 ($n_{\\text{i},0} \\approx n_{\\text{e},0}$) 的假设下，定义了初始等离子体热能 $W_{\\text{th}}$。总动能是电子和离子能量的总和：\n$$ W_{\\text{th}} = \\frac{3}{2} N_{\\text{e}} k_B T_{\\text{e},0} + \\frac{3}{2} N_{\\text{i}} k_B T_{\\text{i},0} $$\n其中 $N_{\\text{e}} = n_{\\text{e},0} V$ 和 $N_{\\text{i}} = n_{\\text{i},0} V$ 分别是等离子体体积 $V$ 中的电子和离子总数。根据假设，这可以简化为：\n$$ W_{\\text{th}} \\approx \\frac{3}{2} (n_{\\text{e},0}V) k_B T_0 + \\frac{3}{2} (n_{\\text{e},0}V) k_B T_0 = 3 n_{\\text{e},0} V (k_B T_0) $$\n问题以电子伏特 ($\\text{eV}$) 为单位提供 $T_0$，并指定公式 $W_{\\text{th}} \\approx 3 n_{\\text{e},0} T_0 V$，其中 $T_0$ 的单位是焦耳。如果我们将公式中的 $T_0$ 视为以能量单位表示的温度，这是相符的。因此，必须使用元电荷 $e$ 将以 $\\text{eV}$ 为单位的温度转换为焦耳：\n$$ T_0 \\, [\\text{J}] = T_0 \\, [\\text{eV}] \\times e $$\n其中 $e \\approx 1.602176634 \\times 10^{-19} \\, \\text{J/eV}$。\n热能的最终表达式为：\n$$ W_{\\text{th}} = 3 \\, n_{\\text{e},0} \\, (T_0[\\text{eV}] \\times e) \\, V $$\n\n**2. 注入粒子数的辐射约束**\n目标是在热淬灭时间 $\\tau_{\\text{TQ}}$ 内辐射掉目标能量 $E_{\\text{rad,target}} = f_{\\text{rad}} W_{\\text{th}}$。辐射功率来自注入杂质的光学薄线辐射。功率密度由 $P_{\\text{rad}}/V = n_{\\text{e}} n_z \\overline{L}_z$ 给出，其中 $n_z$ 是杂质密度，$\\overline{L}_z$ 是有效冷却系数。\n被吸收的杂质原子数为 $\\eta N_{\\text{inj}}$，其中 $\\eta$ 是吸收效率。因此，杂质密度为 $n_z = \\eta N_{\\text{inj}} / V$。\n总辐射功率为：\n$$ P_{\\text{rad}} = n_{\\text{e}} \\left( \\frac{\\eta N_{\\text{inj}}}{V} \\right) \\overline{L}_z V = n_{\\text{e}} \\, \\eta \\, N_{\\text{inj}} \\, \\overline{L}_z $$\n假设该功率在 $\\tau_{\\text{TQ}}$ 内恒定，并使用一个代表性的平均电子密度 $n_{\\text{e,avg}}$，总辐射能量为 $E_{\\text{rad}} = P_{\\text{rad}} \\times \\tau_{\\text{TQ}}$。令其等于目标辐射能量：\n$$ f_{\\text{rad}} W_{\\text{th}} = (n_{\\text{e,avg}} \\, \\eta \\, N_{\\text{inj,rad}} \\, \\overline{L}_z) \\, \\tau_{\\text{TQ}} $$\n问题指定使用 $n_{\\text{e,avg}} = n_{\\text{e,post}}$。求解满足辐射约束所需的注入粒子数 $N_{\\text{inj,rad}}$，我们得到：\n$$ N_{\\text{inj,rad}} = \\frac{f_{\\text{rad}} W_{\\text{th}}}{\\eta \\, n_{\\text{e,post}} \\, \\overline{L}_z \\, \\tau_{\\text{TQ}}} $$\n\n**3. 注入粒子数的密度约束**\n第二个约束是达到目标淬灭后自由电子密度 $n_{\\text{e,post}}$。最终电子密度是初始密度 $n_{\\text{e},0}$ 和由电离杂质贡献的电子 $\\Delta n_{\\text{e}}$ 的总和。最低要求是：\n$$ n_{\\text{e,post}} = n_{\\text{e},0} + \\Delta n_{\\text{e}} $$\n由杂质引起的电子密度增加由 $\\Delta n_{\\text{e}} = \\eta N_{\\text{inj}} \\overline{Z}_{\\text{ion}} / V$ 给出，其中 $\\overline{Z}_{\\text{ion}}$ 是杂质的有效电ionization态。将此代入密度平衡方程：\n$$ n_{\\text{e,post}} - n_{\\text{e},0} = \\frac{\\eta N_{\\text{inj,dens}} \\overline{Z}_{\\text{ion}}}{V} $$\n求解满足密度约束所需的注入粒子数 $N_{\\text{inj,dens}}$，得到：\n$$ N_{\\text{inj,dens}} = \\frac{(n_{\\text{e,post}} - n_{\\text{e},0}) V}{\\eta \\overline{Z}_{\\text{ion}}} $$\n只有当 $n_{\\text{e,post}} > n_{\\text{e},0}$ 时，这个值才有物理意义，这对所有测试用例都成立。\n\n**4. 基于模型的注入质量, $M_{\\text{model}}$**\n为同时满足辐射和密度要求，注入的粒子数 $N_{\\text{inj}}$ 必须足以满足两个约束中更严格的一个。因此，我们必须取两个推导值的最大值：\n$$ N_{\\text{inj}} = \\max(N_{\\text{inj,rad}}, N_{\\text{inj,dens}}) $$\n模型预测的质量 $M_{\\text{model}}$ 是注入粒子总数乘以杂质种类的原子质量 $m_{\\text{atom}}$。结果从千克转换为克。\n$$ M_{\\text{model}} \\, [\\text{g}] = (N_{\\text{inj}} \\times m_{\\text{atom}} \\, [\\text{kg}]) \\times 1000 $$\n\n**5. 标度律注入质量, $M_{\\text{scaled}}$, 与比率 $r$**\n问题定义了一个简单的线性标度律用于比较，基于一个参考装置或数据集：\n$$ M_{\\text{scaled}} = M_{\\text{ref}} \\times \\frac{W_{\\text{th}}}{W_{\\text{ref}}} \\times \\frac{f_{\\text{rad}}}{f_{\\text{rad,ref}}} $$\n其中 ($W_{\\text{ref}}$, $M_{\\text{ref}}$, $f_{\\text{rad,ref}}$) 分别是参考案例的热能、注入质量和辐射份额。\n最后，计算无量纲比率 $r$：\n$$ r = \\frac{M_{\\text{model}}}{M_{\\text{scaled}}} $$\n\n实现将对每个测试用例执行这些计算，将 $M_{\\text{model}}$、$M_{\\text{scaled}}$ 和 $r$ 的最终值四舍五入到三位有效数字，并以指定格式呈现。",
            "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\nimport math\n\ndef solve():\n    \"\"\"\n    Computes a 0D model for shattered pellet injection in ITER,\n    compares it to a linear scaling, and formats the output.\n    \"\"\"\n\n    # Elementary charge in J/eV\n    e_charge = 1.602176634e-19\n\n    # Test suite from the problem statement\n    test_cases = [\n        # Case A (Neon-like, ITER baseline)\n        {\n            \"m_atom\": 3.321e-26,       # kg\n            \"Z_ion\": 8,                # dimensionless\n            \"L_z\": 1.0e-32,            # W m^3\n            \"eta\": 0.3,                # dimensionless\n            \"n_e0\": 8.0e19,            # m^-3\n            \"T0\": 1.2000e4,            # eV\n            \"V\": 830,                  # m^3\n            \"f_rad\": 0.9,              # dimensionless\n            \"n_epost\": 5.0e20,         # m^-3\n            \"tau_TQ\": 3.0e-3,          # s\n            \"W_ref\": 2.0e6,            # J\n            \"M_ref\": 20.0,             # g\n            \"f_rad_ref\": 0.8,          # dimensionless\n        },\n        # Case B (Argon-like, moderate mitigation, radiation-dominated)\n        {\n            \"m_atom\": 6.6335e-26,      # kg\n            \"Z_ion\": 10,               # dimensionless\n            \"L_z\": 3.0e-32,            # W m^3\n            \"eta\": 0.3,                # dimensionless\n            \"n_e0\": 8.0e19,            # m^-3\n            \"T0\": 1.0000e4,            # eV\n            \"V\": 830,                  # m^3\n            \"f_rad\": 0.7,              # dimensionless\n            \"n_epost\": 1.0e20,         # m^-3\n            \"tau_TQ\": 5.0e-3,          # s\n            \"W_ref\": 1.5e6,            # J\n            \"M_ref\": 15.0,             # g\n            \"f_rad_ref\": 0.8,          # dimensionless\n        },\n        # Case C (Neon-like, density-dominated with high n_epost and lower assimilation)\n        {\n            \"m_atom\": 3.321e-26,       # kg\n            \"Z_ion\": 8,                # dimensionless\n            \"L_z\": 1.0e-32,            # W m^3\n            \"eta\": 0.2,                # dimensionless\n            \"n_e0\": 6.0e19,            # m^-3\n            \"T0\": 1.5000e4,            # eV\n            \"V\": 830,                  # m^3\n            \"f_rad\": 0.6,              # dimensionless\n            \"n_epost\": 1.5e21,         # m^-3\n            \"tau_TQ\": 2.0e-3,          # s\n            \"W_ref\": 2.0e6,            # J\n            \"M_ref\": 20.0,             # g\n            \"f_rad_ref\": 0.8,          # dimensionless\n        }\n    ]\n\n    def round_to_sf(x, sf):\n        \"\"\"Rounds a number x to sf significant figures.\"\"\"\n        if x == 0:\n            return 0.0\n        return round(x, sf - 1 - int(math.floor(math.log10(abs(x)))))\n\n    all_results = []\n    \n    for case in test_cases:\n        # Step 1: Calculate plasma thermal energy in Joules\n        T0_J = case[\"T0\"] * e_charge\n        W_th = 3 * case[\"n_e0\"] * T0_J * case[\"V\"]\n\n        # Step 2: Calculate the number of particles for the radiative constraint\n        N_inj_rad_denom = case[\"eta\"] * case[\"n_epost\"] * case[\"L_z\"] * case[\"tau_TQ\"]\n        N_inj_rad = (case[\"f_rad\"] * W_th) / N_inj_rad_denom\n\n        # Step 3: Calculate the number of particles for the density constraint\n        delta_n_e = case[\"n_epost\"] - case[\"n_e0\"]\n        if delta_n_e > 0:\n             N_inj_dens = (delta_n_e * case[\"V\"]) / (case[\"eta\"] * case[\"Z_ion\"])\n        else:\n            N_inj_dens = 0\n\n        # Step 4: Determine the required number of particles and the model mass\n        N_inj = max(N_inj_rad, N_inj_dens)\n        M_model_kg = N_inj * case[\"m_atom\"]\n        M_model_g = M_model_kg * 1000\n\n        # Step 5: Calculate the mass from the simple scaling law\n        M_scaled_g = case[\"M_ref\"] * (W_th / case[\"W_ref\"]) * (case[\"f_rad\"] / case[\"f_rad_ref\"])\n\n        # Step 6: Calculate the ratio\n        r = M_model_g / M_scaled_g\n\n        # Round results to three significant figures\n        M_model_rounded = round_to_sf(M_model_g, 3)\n        M_scaled_rounded = round_to_sf(M_scaled_g, 3)\n        r_rounded = round_to_sf(r, 3)\n\n        all_results.append([M_model_rounded, M_scaled_rounded, r_rounded])\n\n    # Format the final output string as requested\n    # e.g., [[val,val,val],[val,val,val]]\n    result_strings = [f\"[{res[0]},{res[1]},{res[2]}]\" for res in all_results]\n    print(f\"[{','.join(result_strings)}]\")\n\nsolve()\n```"
        }
    ]
}