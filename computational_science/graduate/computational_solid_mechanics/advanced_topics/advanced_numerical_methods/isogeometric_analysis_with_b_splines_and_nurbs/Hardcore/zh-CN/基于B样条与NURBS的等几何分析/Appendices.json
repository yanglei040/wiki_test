{
    "hands_on_practices": [
        {
            "introduction": "等几何分析建立在B样条基函数之上，它们既是几何表示的基础，也是物理场近似的基础。一项基本技能是在任何参数坐标上评估这些函数值的能力。本练习  提供了使用 Cox-de Boor 递归算法的直接动手实践，该算法是计算B样条值的标准且数值稳定的算法，从而加深您对其局部支撑和递归定义的理解。",
            "id": "3575735",
            "problem": "考虑计算固体力学中使用的一维等几何离散化，其逼近空间由定义在开放节点向量 $\\Xi=\\{0,0,0,0.5,1,1,1\\}$ 上的二次（$p=2$）B样条基构成。在等几何分析（IGA）中，这种空间通常用于逼近位移场，如果需要，可通过权重从这些B样条基推导出非均匀有理B样条（NURBS）。从通过 Cox–de Boor 递归和分段常数零次函数定义的B样条基的核心定义出发，计算在参数位置 $u=0.25$ 处，所有能产生非零值的索引 $i$ 对应的非零二次B样条基函数值 $N_{i,2}(u)$。将您的最终答案以单行矩阵的形式报告，该矩阵按非零函数的索引 $i$ 的递增顺序排列。请提供精确值，无需四舍五入。这些基函数值没有物理单位。",
            "solution": "### 解答\n该问题要求计算二次（$p=2$）B样条基函数在参数坐标 $u=0.25$ 处的值。该B样条基由开放节点向量 $\\Xi=\\{\\xi_1, \\xi_2, \\xi_3, \\xi_4, \\xi_5, \\xi_6, \\xi_7\\} = \\{0, 0, 0, 0.5, 1, 1, 1\\}$ 定义（使用1基索引）。\n\n对于一个次数为 $p$、节点向量长度为 $m$ 的B样条，其基函数数量 $n$ 由 $n = m - p - 1$ 给出。此处，$m=7$ 且 $p=2$，因此有 $n=7-2-1=4$ 个基函数：$N_{1,2}(u)$、$N_{2,2}(u)$、$N_{3,2}(u)$ 和 $N_{4,2}(u)$。\n\n这些函数的评估使用 Cox–de Boor 递归公式进行。对于 $p > 0$，公式为：\n$$\nN_{i,p}(u) = \\frac{u - \\xi_i}{\\xi_{i+p} - \\xi_i} N_{i,p-1}(u) + \\frac{\\xi_{i+p+1} - u}{\\xi_{i+p+1} - \\xi_{i+1}} N_{i+1,p-1}(u)\n$$\n递归从次数 $p=0$ 的基例开始：\n$$\nN_{i,0}(u) = \\begin{cases} 1  \\text{if } \\xi_i \\le u  \\xi_{i+1} \\\\ 0  \\text{otherwise} \\end{cases}\n$$\n按照惯例，任何分母为零的项（例如，$\\frac{0}{0}$）均视为零。\n\n一个基函数 $N_{i,p}(u)$ 具有局部支集，并且仅在区间 $[\\xi_i, \\xi_{i+p+1})$ 内非零。对于给定的参数坐标 $u \\in [\\xi_j, \\xi_{j+1})$，次数为 $p$ 的唯一可能非零的基函数是 $N_{j-p,p}, \\dots, N_{j,p}$。\n\n在我们的例子中，$u=0.25$ 位于节点区间 $[\\xi_3, \\xi_4) = [0, 0.5)$ 内。因此，我们设 $j=3$。对于次数 $p=2$，在 $u=0.25$ 处唯一可能非零的基函数是 $N_{3-2,2}(u)$、$N_{3-1,2}(u)$ 和 $N_{3,2}(u)$，即 $N_{1,2}(u)$、$N_{2,2}(u)$ 和 $N_{3,2}(u)$。函数 $N_{4,2}(u)$ 为零，因为其支集是 $[\\xi_4, \\xi_7) = [0.5, 1)$，该区间不包含 $u=0.25$。\n\n我们继续进行递归计算。\n\n**步骤 1：零次基函数 ($p=0$)**\n我们评估 $N_{i,0}(u)$ 在 $u=0.25$ 处的值。由于 $u=0.25$ 位于区间 $[\\xi_3, \\xi_4) = [0, 0.5)$ 内，唯一非零的零次基函数是：\n$$\nN_{3,0}(0.25) = 1\n$$\n所有其他的 $N_{i,0}(0.25)$ 均为 $0$。\n\n**步骤 2：一次基函数 ($p=1$)**\n我们计算在 $u=0.25$ 处必要的一次基函数的值。\n- $N_{1,1}(0.25) = \\frac{0.25 - \\xi_1}{\\xi_2 - \\xi_1} N_{1,0}(0.25) + \\frac{\\xi_3 - 0.25}{\\xi_3 - \\xi_2} N_{2,0}(0.25) = 0$。\n\n- $N_{2,1}(0.25) = \\frac{0.25 - \\xi_2}{\\xi_3 - \\xi_2} N_{2,0}(0.25) + \\frac{\\xi_4 - 0.25}{\\xi_4 - \\xi_3} N_{3,0}(0.25)$\n第一项为零。第二项是 $\\frac{0.5 - 0.25}{0.5 - 0} N_{3,0}(0.25) = \\frac{0.25}{0.5} \\times 1 = 0.5$。\n$N_{2,1}(0.25) = 0.5$。\n\n- $N_{3,1}(0.25) = \\frac{0.25 - \\xi_3}{\\xi_4 - \\xi_3} N_{3,0}(0.25) + \\frac{\\xi_5 - 0.25}{\\xi_5 - \\xi_4} N_{4,0}(0.25)$。\n第二项为零。第一项是 $\\frac{0.25 - 0}{0.5 - 0} N_{3,0}(0.25) = \\frac{0.25}{0.5} \\times 1 = 0.5$。\n$N_{3,1}(0.25) = 0.5$。\n\n- $N_{4,1}(0.25) = 0$。\n\n**步骤 3：二次基函数 ($p=2$)**\n我们现在计算在 $u=0.25$ 处的最终二次基函数值。\n\n- $N_{1,2}(0.25) = \\frac{0.25 - \\xi_1}{\\xi_3 - \\xi_1} N_{1,1}(0.25) + \\frac{\\xi_4 - 0.25}{\\xi_4 - \\xi_2} N_{2,1}(0.25)$\n第一项为零。第二项是 $\\frac{0.5 - 0.25}{0.5 - 0} N_{2,1}(0.25) = 0.5 \\times 0.5 = 0.25$。\n$$N_{1,2}(0.25) = 0.25 = \\frac{1}{4}$$\n\n- $N_{2,2}(0.25) = \\frac{0.25 - \\xi_2}{\\xi_4 - \\xi_2} N_{2,1}(0.25) + \\frac{\\xi_5 - 0.25}{\\xi_5 - \\xi_3} N_{3,1}(0.25)$\n第一项是 $\\frac{0.25 - 0}{0.5 - 0} N_{2,1}(0.25) = 0.5 \\times 0.5 = 0.25$。\n第二项是 $\\frac{1 - 0.25}{1 - 0} N_{3,1}(0.25) = 0.75 \\times 0.5 = 0.375$。\n$N_{2,2}(0.25) = 0.25 + 0.375 = 0.625$。\n$$N_{2,2}(0.25) = 0.625 = \\frac{5}{8}$$\n\n- $N_{3,2}(0.25) = \\frac{0.25 - \\xi_3}{\\xi_5 - \\xi_3} N_{3,1}(0.25) + \\frac{\\xi_6 - 0.25}{\\xi_6 - \\xi_4} N_{4,1}(0.25)$。\n第二项为零。第一项是 $\\frac{0.25 - 0}{1 - 0} N_{3,1}(0.25) = 0.25 \\times 0.5 = 0.125$。\n$$N_{3,2}(0.25) = 0.125 = \\frac{1}{8}$$\n\nB样条基函数的一个关键性质是单位分解性。我们验证：\n$$ \\sum_{i=1}^{4} N_{i,2}(0.25) = N_{1,2}(0.25) + N_{2,2}(0.25) + N_{3,2}(0.25) + N_{4,2}(0.25) $$\n$$ = \\frac{1}{4} + \\frac{5}{8} + \\frac{1}{8} + 0 = \\frac{2}{8} + \\frac{5}{8} + \\frac{1}{8} = \\frac{8}{8} = 1 $$\n单位分解性得以满足。\n\n在 $u=0.25$ 处的非零基函数值对应于索引 $i=1,2,3$。按索引 $i$ 递增排序，这些值为：\n$N_{1,2}(0.25) = \\frac{1}{4}$\n$N_{2,2}(0.25) = \\frac{5}{8}$\n$N_{3,2}(0.25) = \\frac{1}{8}$",
            "answer": "$$\n\\boxed{\\begin{pmatrix} \\frac{1}{4}  \\frac{5}{8}  \\frac{1}{8} \\end{pmatrix}}\n$$"
        },
        {
            "introduction": "IGA 的一个关键优势是它能够精确表示复杂的几何形状，例如圆锥曲线，这相比于传统基于多项式的有限元方法是一个显著的进步。本练习  将引导您构建一个四分之一圆的NURBS曲线，这是工程部件中的一个常见特征。通过代数方法验证所得曲线具有恒定半径，您将更深刻地理解NURBS如何实现精确的几何描述，而这正是等几何范式的基石。",
            "id": "3575812",
            "problem": "在计算固体力学的等几何分析（IGA）背景下，弯曲边界的精确几何表示对于防止几何离散误差污染数值解至关重要。考虑构造一条二次非均匀有理B样条（NURBS）曲线，该曲线精确表示第一象限中从点 $(1,0)$ 延伸到点 $(0,1)$ 的四分之一单位圆。\n\n给定控制点 $\\mathbf{P}_{0}=(1,0)$、$\\mathbf{P}_{1}=(1,1)$ 和 $\\mathbf{P}_{2}=(0,1)$，以及权重 $w_{0}=1$、$w_{1}=1/\\sqrt{2}$ 和 $w_{2}=1$。参数坐标为 $\\xi \\in [0,1]$，次数为 $p=2$，开放节点向量为 $\\Xi=(0,0,0,1,1,1)$。\n\n从B样条基函数的 Cox–de Boor 定义和作为有理B样条的非均匀有理B样条（NURBS）曲线的基本定义出发，为上述数据构造相应的二次NURBS参数化 $\\mathbf{x}(\\xi)$。然后，仅使用这些基本定义和代数简化，通过直接推导来验证此参数化是四分之一单位圆的精确表示，即证明对于所有 $\\xi \\in [0,1]$，欧几里得范数 $\\|\\mathbf{x}(\\xi)\\|$ 是一个等于半径的常数。\n\n请提供 $\\|\\mathbf{x}(\\xi)\\|$ 作为 $\\xi$ 的函数的简化封闭形式表达式。最终表达式中不需要数值四舍五入，也不应包含任何单位。",
            "solution": "### 解答\n该问题要求构造一条二次NURBS曲线，该曲线表示第一象限中的四分之一单位圆，并验证其半径恒为1。\n\n**第1步：确定二次B样条基函数**\n对于次数 $p=2$ 和开放节点向量 $\\Xi=\\{0,0,0,1,1,1\\}$，B样条基函数与二次伯恩斯坦多项式相同。这些基函数定义在 $\\xi \\in [0,1]$ 上，可以通过Cox-de Boor递推公式导出，其形式为：\n*   $N_{0,2}(\\xi) = (1-\\xi)^2$\n*   $N_{1,2}(\\xi) = 2\\xi(1-\\xi)$\n*   $N_{2,2}(\\xi) = \\xi^2$\n\n**第2步：构造NURBS曲线参数化**\nNURBS曲线 $\\mathbf{x}(\\xi)$ 定义为控制点 $\\mathbf{P}_i$ 与有理基函数 $R_{i,p}(\\xi)$ 的线性组合：\n$$ \\mathbf{x}(\\xi) = \\sum_{i=0}^{2} R_{i,2}(\\xi) \\mathbf{P}_i = \\frac{\\sum_{i=0}^{2} w_i N_{i,2}(\\xi) \\mathbf{P}_i}{\\sum_{j=0}^{2} w_j N_{j,2}(\\xi)} $$\n我们将分子表示为 $\\mathbf{N}(\\xi)$，分母表示为 $W(\\xi)$。\n\n给定的控制点为 $\\mathbf{P}_{0}=(1,0)$, $\\mathbf{P}_{1}=(1,1)$, $\\mathbf{P}_{2}=(0,1)$，权重为 $w_{0}=1$, $w_{1}=1/\\sqrt{2}$, $w_{2}=1$。\n\n分子向量 $\\mathbf{N}(\\xi) = (x_{num}(\\xi), y_{num}(\\xi))$ 的分量为：\n*   $x_{num}(\\xi) = w_0 N_{0,2}(\\xi) P_{0x} + w_1 N_{1,2}(\\xi) P_{1x} + w_2 N_{2,2}(\\xi) P_{2x} = 1 \\cdot (1-\\xi)^2 \\cdot 1 + \\frac{1}{\\sqrt{2}} \\cdot 2\\xi(1-\\xi) \\cdot 1 + 1 \\cdot \\xi^2 \\cdot 0 = (1-\\xi)^2 + \\sqrt{2}\\xi(1-\\xi)$\n*   $y_{num}(\\xi) = w_0 N_{0,2}(\\xi) P_{0y} + w_1 N_{1,2}(\\xi) P_{1y} + w_2 N_{2,2}(\\xi) P_{2y} = 1 \\cdot (1-\\xi)^2 \\cdot 0 + \\frac{1}{\\sqrt{2}} \\cdot 2\\xi(1-\\xi) \\cdot 1 + 1 \\cdot \\xi^2 \\cdot 1 = \\sqrt{2}\\xi(1-\\xi) + \\xi^2$\n\n分母（权重函数）$W(\\xi)$ 为：\n*   $W(\\xi) = w_0 N_{0,2}(\\xi) + w_1 N_{1,2}(\\xi) + w_2 N_{2,2}(\\xi) = 1 \\cdot (1-\\xi)^2 + \\frac{1}{\\sqrt{2}} \\cdot 2\\xi(1-\\xi) + 1 \\cdot \\xi^2 = (1-\\xi)^2 + \\sqrt{2}\\xi(1-\\xi) + \\xi^2$\n\n因此，曲线的参数化为 $\\mathbf{x}(\\xi) = (x(\\xi), y(\\xi)) = (\\frac{x_{num}(\\xi)}{W(\\xi)}, \\frac{y_{num}(\\xi)}{W(\\xi)})$。\n\n**第3步：验证半径**\n为了验证曲线是单位圆的一部分，我们需要证明其欧几里得范数 $\\|\\mathbf{x}(\\xi)\\|$ 对于所有 $\\xi \\in [0,1]$ 恒等于1。这等价于证明 $\\|\\mathbf{x}(\\xi)\\|^2 = x(\\xi)^2 + y(\\xi)^2 = 1$，即 $x_{num}(\\xi)^2 + y_{num}(\\xi)^2 = W(\\xi)^2$。\n\n让我们符号化地展开这个恒等式。为简化，我们使用基函数符号：\n$x_{num} = N_{0,2} + w_1 N_{1,2}$\n$y_{num} = w_1 N_{1,2} + N_{2,2}$\n$W = N_{0,2} + w_1 N_{1,2} + N_{2,2}$\n\n要证明的恒等式为 $(N_{0,2} + w_1 N_{1,2})^2 + (w_1 N_{1,2} + N_{2,2})^2 = (N_{0,2} + w_1 N_{1,2} + N_{2,2})^2$。\n左边 (LHS) = $N_{0,2}^2 + 2w_1 N_{0,2} N_{1,2} + w_1^2 N_{1,2}^2 + w_1^2 N_{1,2}^2 + 2w_1 N_{1,2} N_{2,2} + N_{2,2}^2 = N_{0,2}^2 + N_{2,2}^2 + 2w_1 N_{1,2} (N_{0,2} + N_{2,2}) + 2w_1^2 N_{1,2}^2$\n右边 (RHS) = $((N_{0,2} + N_{2,2}) + w_1 N_{1,2})^2 = (N_{0,2} + N_{2,2})^2 + 2w_1 N_{1,2} (N_{0,2} + N_{2,2}) + w_1^2 N_{1,2}^2$\nRHS = $N_{0,2}^2 + 2 N_{0,2} N_{2,2} + N_{2,2}^2 + 2w_1 N_{1,2} (N_{0,2} + N_{2,2}) + w_1^2 N_{1,2}^2$\n\n要使LHS = RHS，我们需要证明：\n$2w_1^2 N_{1,2}^2 = 2 N_{0,2} N_{2,2} + w_1^2 N_{1,2}^2 \\implies w_1^2 N_{1,2}^2 = 2 N_{0,2} N_{2,2}$\n\n现在我们将给定的 $w_1=1/\\sqrt{2}$（因此 $w_1^2 = 1/2$）和基函数的表达式代入上式进行验证：\nLHS = $\\frac{1}{2} (2\\xi(1-\\xi))^2 = \\frac{1}{2} (4\\xi^2(1-\\xi)^2) = 2\\xi^2(1-\\xi)^2$\nRHS = $2 ((1-\\xi)^2) (\\xi^2) = 2\\xi^2(1-\\xi)^2$\n\n由于LHS = RHS，该恒等式成立。因此，$x_{num}(\\xi)^2 + y_{num}(\\xi)^2 = W(\\xi)^2$ 成立。\n这意味着 $\\|\\mathbf{x}(\\xi)\\|^2 = \\frac{x_{num}(\\xi)^2 + y_{num}(\\xi)^2}{W(\\xi)^2} = \\frac{W(\\xi)^2}{W(\\xi)^2} = 1$。\n\n所以，对于所有 $\\xi \\in [0,1]$，曲线的欧几里得范数 $\\|\\mathbf{x}(\\xi)\\|$ 恒为1，证明了该参数化确实精确表示了一个单位半径的四分之一圆。",
            "answer": "$$\n\\boxed{1}\n$$"
        },
        {
            "introduction": "在计算分析中，局部加密网格的能力对于捕捉复杂的解特征至关重要。在IGA中，加密不是通过从头生成新网格来实现的，而是通过算法化地修改样条的节点矢量和控制点来完成。本练习  深入探讨了节点插入这一 $h$-加密的基本过程，演示了如何在保持曲线精确形状的同时向参数空间添加新信息。掌握这一过程对于理解IGA中的自适应加密策略至关重要。",
            "id": "3575751",
            "problem": "考虑一条平面二次非均匀有理B样条（NURBS）曲线，其次数为 $p=2$，用于在弧形梁理想化中精确表示一个半径为 $R=2$ 的四分之一圆弧。该曲线定义在开放节点向量 $\\Xi=\\{0,0,0,1,1,1\\}$ 上，其控制点为 $\\mathbf{P}_0=(2,0)$，$\\mathbf{P}_1=(2,2)$，$\\mathbf{P}_2=(0,2)$，对应的权重为 $w_0=1$，$w_1=\\frac{1}{\\sqrt{2}}$，$w_2=1$。从NURBS曲线在 $\\mathbb{R}^2$ 中的基本定义（即定义在齐次坐标中的多项式B样条曲线的有理投影）出发，并利用B样条的标准节点插入过程（应用于齐次控制点），在参数 $\\xi=0.5$ 处执行一次节点插入。\n\n仅使用这些原理，精确推导出新的节点向量，并计算更新后的控制点和权重集合（不进行数值舍入）。将最终结果表示为单个行矩阵，该矩阵首先列出新节点向量的条目，然后按顺序 $i=0,1,2,3$ 列出更新后的控制点和权重的元组 $(x_i,y_i,w_i)$。所有数学实体必须以精确的符号形式表示。不要舍入。最终答案必须是单个解析表达式。",
            "solution": "### 解答\nNURBS曲线的节点插入过程通过在其对应的齐次空间B样条表示上进行操作来最清晰地执行。\n\n**第1部分：齐次表示**\n$\\mathbb{R}^2$ 中的NURBS曲线是 $\\mathbb{R}^3$ 齐次空间中B样条曲线的投影。齐次控制点 $\\mathbf{P}_i^w$ 是通过将控制点 $\\mathbf{P}_i=(x_i, y_i)$ 的笛卡尔坐标乘以其各自的权重 $w_i$，并将权重作为最后一个坐标附加而形成的：$\\mathbf{P}_i^w = (w_i x_i, w_i y_i, w_i)$。\n\n给定的控制点和权重为：\n$\\mathbf{P}_0=(2,0)$，权重 $w_0=1$\n$\\mathbf{P}_1=(2,2)$，权重 $w_1=\\frac{1}{\\sqrt{2}}$\n$\\mathbf{P}_2=(0,2)$，权重 $w_2=1$\n\n对应的齐次控制点为：\n$\\mathbf{P}_0^w = (1 \\cdot 2, 1 \\cdot 0, 1) = (2, 0, 1)$\n$\\mathbf{P}_1^w = (\\frac{1}{\\sqrt{2}} \\cdot 2, \\frac{1}{\\sqrt{2}} \\cdot 2, \\frac{1}{\\sqrt{2}}) = (\\sqrt{2}, \\sqrt{2}, \\frac{1}{\\sqrt{2}})$\n$\\mathbf{P}_2^w = (1 \\cdot 0, 1 \\cdot 2, 1) = (0, 2, 1)$\n\n这些是次数为 $p=2$、节点向量为 $\\Xi=\\{\\,0,\\,0,\\,0,\\,1,\\,1,\\,1\\,\\}$ 的多项式B样条曲线的控制点。\n\n**第2部分：节点插入算法**\n我们将新节点 $\\bar{\\xi}=0.5$ 插入到节点向量 $\\Xi$ 中。首先，我们必须确定 $\\bar{\\xi}$ 所在的节点区间。节点向量为 $\\Xi=\\{\\xi_0, \\xi_1, \\xi_2, \\xi_3, \\xi_4, \\xi_5\\} = \\{\\,0,\\,0,\\,0,\\,1,\\,1,\\,1\\,\\}$。由于 $\\xi_2=0 \\leq 0.5  \\xi_3=1$，所以索引为 $k=2$。\n\n单次节点插入会使控制点的数量增加一。新曲线将有 $4$ 个控制点，我们将其表示为 $\\hat{\\mathbf{P}}_0^w, \\hat{\\mathbf{P}}_1^w, \\hat{\\mathbf{P}}_2^w, \\hat{\\mathbf{P}}_3^w$。新控制点的计算公式（Boehm算法）是：\n$\\hat{\\mathbf{P}}_j = (1-\\alpha_j)\\mathbf{P}_{j-1} + \\alpha_j \\mathbf{P}_j$ for $k-p+1 \\le j \\le k$\n其中，$\\alpha_j = \\frac{\\bar{\\xi} - \\xi_j}{\\xi_{j+p} - \\xi_j}$。对于其他索引，控制点保持不变或移位。\n当 $p=2$ 且 $k=2$ 时：\n- $\\hat{\\mathbf{P}}_0^w = \\mathbf{P}_0^w$。\n- $\\hat{\\mathbf{P}}_3^w = \\mathbf{P}_2^w$。\n- 对于 $j=1$ ($k-p+1 \\le j \\le k$):\n$\\alpha_1 = \\frac{\\bar{\\xi} - \\xi_1}{\\xi_{1+p} - \\xi_1} = \\frac{0.5 - 0}{1 - 0} = \\frac{1}{2}$。\n$\\hat{\\mathbf{P}}_1^w = (1-\\alpha_1)\\mathbf{P}_0^w + \\alpha_1 \\mathbf{P}_1^w = \\frac{1}{2}\\mathbf{P}_0^w + \\frac{1}{2}\\mathbf{P}_1^w = \\frac{1}{2}(2, 0, 1) + \\frac{1}{2}(\\sqrt{2}, \\sqrt{2}, \\frac{1}{\\sqrt{2}}) = (1+\\frac{\\sqrt{2}}{2}, \\frac{\\sqrt{2}}{2}, \\frac{1}{2}+\\frac{\\sqrt{2}}{4}) = (\\frac{2+\\sqrt{2}}{2}, \\frac{\\sqrt{2}}{2}, \\frac{2+\\sqrt{2}}{4})$。\n\n- 对于 $j=2$ ($k-p+1 \\le j \\le k$):\n$\\alpha_2 = \\frac{\\bar{\\xi} - \\xi_2}{\\xi_{2+p} - \\xi_2} = \\frac{0.5 - 0}{1 - 0} = \\frac{1}{2}$。\n$\\hat{\\mathbf{P}}_2^w = (1-\\alpha_2)\\mathbf{P}_1^w + \\alpha_2 \\mathbf{P}_2^w = \\frac{1}{2}\\mathbf{P}_1^w + \\frac{1}{2}\\mathbf{P}_2^w = \\frac{1}{2}(\\sqrt{2}, \\sqrt{2}, \\frac{1}{\\sqrt{2}}) + \\frac{1}{2}(0, 2, 1) = (\\frac{\\sqrt{2}}{2}, 1+\\frac{\\sqrt{2}}{2}, \\frac{\\sqrt{2}}{4}+\\frac{1}{2}) = (\\frac{\\sqrt{2}}{2}, \\frac{2+\\sqrt{2}}{2}, \\frac{2+\\sqrt{2}}{4})$。\n\n**第3部分：投影回笛卡尔坐标**\n为了获得新的笛卡尔控制点 $\\hat{\\mathbf{P}}_j=(\\hat{x}_j, \\hat{y}_j)$ 和权重 $\\hat{w}_j$，我们将齐次点 $\\hat{\\mathbf{P}}_j^w=(X_j, Y_j, W_j)$ 投影回去：$\\hat{w}_j = W_j$ 且 $(\\hat{x}_j, \\hat{y}_j) = (\\frac{X_j}{W_j}, \\frac{Y_j}{W_j})$。\n\n- 对于 $\\hat{\\mathbf{P}}_0^w=(2,0,1)$: $\\hat{w}_0 = 1, \\hat{\\mathbf{P}}_0 = (2,0)$。\n\n- 对于 $\\hat{\\mathbf{P}}_1^w=(\\frac{2+\\sqrt{2}}{2}, \\frac{\\sqrt{2}}{2}, \\frac{2+\\sqrt{2}}{4})$:\n$\\hat{w}_1 = \\frac{2+\\sqrt{2}}{4}$\n$\\hat{x}_1 = \\frac{(2+\\sqrt{2})/2}{(2+\\sqrt{2})/4} = 2$\n$\\hat{y}_1 = \\frac{\\sqrt{2}/2}{(2+\\sqrt{2})/4} = \\frac{2\\sqrt{2}}{2+\\sqrt{2}} = \\frac{2\\sqrt{2}(2-\\sqrt{2})}{(2+\\sqrt{2})(2-\\sqrt{2})} = \\frac{4\\sqrt{2}-4}{2} = 2\\sqrt{2}-2$。\n$\\hat{\\mathbf{P}}_1 = (2, 2\\sqrt{2}-2)$。\n\n- 对于 $\\hat{\\mathbf{P}}_2^w=(\\frac{\\sqrt{2}}{2}, \\frac{2+\\sqrt{2}}{2}, \\frac{2+\\sqrt{2}}{4})$:\n$\\hat{w}_2 = \\frac{2+\\sqrt{2}}{4}$\n$\\hat{x}_2 = \\frac{\\sqrt{2}/2}{(2+\\sqrt{2})/4} = 2\\sqrt{2}-2$\n$\\hat{y}_2 = \\frac{(2+\\sqrt{2})/2}{(2+\\sqrt{2})/4} = 2$。\n$\\hat{\\mathbf{P}}_2 = (2\\sqrt{2}-2, 2)$。\n\n- 对于 $\\hat{\\mathbf{P}}_3^w=(0,2,1)$: $\\hat{w}_3 = 1, \\hat{\\mathbf{P}}_3 = (0,2)$。\n\n**第4部分：最终结果**\n新的节点向量 $\\hat{\\Xi}$ 是通过将 $\\bar{\\xi}=0.5$ 插入到 $\\Xi$ 中形成的：\n$\\hat{\\Xi} = \\{\\,0,\\,0,\\,0,\\,0.5,\\,1,\\,1,\\,1\\,\\} = \\{\\,0,\\,0,\\,0,\\,\\frac{1}{2},\\,1,\\,1,\\,1\\,\\}$。\n\n新的控制点和权重，表示为元组 $(\\hat{x}_i, \\hat{y}_i, \\hat{w}_i)$，是：\n对于 $i=0$：$(2, 0, 1)$\n对于 $i=1$：$(2, 2\\sqrt{2}-2, \\frac{2+\\sqrt{2}}{4})$\n对于 $i=2$：$(2\\sqrt{2}-2, 2, \\frac{2+\\sqrt{2}}{4})$\n对于 $i=3$：$(0, 2, 1)$\n\n将这些结果汇总到一个行矩阵中。",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n0  0  0  \\frac{1}{2}  1  1  1  2  0  1  2  2\\sqrt{2}-2  \\frac{2+\\sqrt{2}}{4}  2\\sqrt{2}-2  2  \\frac{2+\\sqrt{2}}{4}  0  2  1\n\\end{pmatrix}\n}\n$$"
        }
    ]
}