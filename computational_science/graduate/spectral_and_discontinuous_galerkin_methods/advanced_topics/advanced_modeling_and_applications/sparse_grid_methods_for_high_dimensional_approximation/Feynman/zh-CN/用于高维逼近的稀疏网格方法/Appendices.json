{
    "hands_on_practices": [
        {
            "introduction": "稀疏网格方法的核心在于其巧妙的组合结构，它通过只选择“最重要”的基函数或节点来避免维数灾难。在深入研究复杂的近似理论之前，我们首先需要亲手实践，理解这些选择规则的基础——Smolyak索引集。这项练习将指导您为一个具体的三维问题枚举并计算一个标准截断索引集的大小，从而为稀疏网格的构建方式提供一个坚实的、可计算的直观认识。",
            "id": "3415802",
            "problem": "考虑在谱方法和间断伽辽金 (DG) 方法的背景下，用于高维近似的分层张量积多项式子空间构建的各向同性稀疏网格 Smolyak 指数集。Smolyak 截断指数集的定义为\n$$\n\\Lambda_{d,q}=\\left\\{\\boldsymbol{\\ell}\\in\\mathbb{N}^{d}:\\ |\\boldsymbol{\\ell}|_{1}\\le q,\\ \\ell_{i}\\ge 1\\ \\text{for all}\\ i\\in\\{1,\\dots,d\\}\\right\\},\n$$\n其中 $\\mathbb{N}$ 表示正整数集， $|\\boldsymbol{\\ell}|_{1}=\\sum_{i=1}^{d}\\ell_{i}$ 是$l_1$-范数，$q$ 是总层级参数。该指数集在定义 Smolyak 算子中的分层余量组合时起着核心作用，并决定了在 $d$ 维空间中用于近似一个函数的各向异性张量积构建块的数量。\n\n从整数划分为 $d$ 个正整数部分的组合解释出发，并且不使用预先推导的快捷公式，确定 $\\Lambda_{3,5}$ 的完整枚举并计算其基数 $\\#\\Lambda_{3,5}$。你的最终答案必须是 $\\#\\Lambda_{3,5}$ 的单一数值，无需四舍五入。",
            "solution": "该问题要求确定在特定参数 $d=3$ 和 $q=5$ 下，Smolyak 指数集 $\\Lambda_{d,q}$ 的基数。该集合定义为：\n$$\n\\Lambda_{d,q}=\\left\\{\\boldsymbol{\\ell}\\in\\mathbb{N}^{d}:\\ |\\boldsymbol{\\ell}|_{1}\\le q,\\ \\ell_{i}\\ge 1\\ \\text{for all}\\ i\\in\\{1,\\dots,d\\}\\right\\}\n$$\n对于给定的参数 $d=3$ 和 $q=5$，该集合为：\n$$\n\\Lambda_{3,5}=\\left\\{\\boldsymbol{\\ell}=(\\ell_1, \\ell_2, \\ell_3) \\in\\mathbb{N}^{3}:\\ \\ell_1+\\ell_2+\\ell_3 \\le 5,\\ \\text{with}\\ \\ell_1, \\ell_2, \\ell_3 \\ge 1\\right\\}\n$$\n这里，$\\mathbb{N}$ 代表正整数集 $\\{1, 2, 3, \\dots\\}$。\n\n为了确定基数 $\\#\\Lambda_{3,5}$，我们必须计算满足给定条件的整数向量 $(\\ell_1, \\ell_2, \\ell_3)$ 的数量。条件 $\\ell_1+\\ell_2+\\ell_3 \\le 5$ 可以分解为一组等式。令 $k = \\ell_1+\\ell_2+\\ell_3$。由于每个 $\\ell_i \\ge 1$，和 $k$ 的最小可能值为 $1+1+1=3$。$k$ 的最大可能值由不等式给出，所以 $k \\le 5$。因此，我们需要找出当 $k=3$、$k=4$ 和 $k=5$ 时的解的数量。总基数将是每种情况下解的数量之和。\n\n设 $N_k$ 为方程 $\\ell_1+\\ell_2+\\ell_3 = k$ 的解的数量，其中 $\\ell_1, \\ell_2, \\ell_3$ 是正整数。总基数为 $\\#\\Lambda_{3,5} = N_3 + N_4 + N_5$。\n\n根据要求，我们应遵循整数构成的组合解释。一个正整数 $k$ 分成 $d$ 个部分的构成，是把 $k$ 写成 $d$ 个正整数的有序和的一种方式。这种构成的数量由 $\\binom{k-1}{d-1}$ 给出。这可以用“隔板法”（stars and bars method）来形象化解释。为了将 $k$ 表示为 $d$ 个正整数的和，我们可以想象一行中有 $k$ 个物体（星）。它们之间有 $k-1$ 个空隙。要将这 $k$ 个星分成 $d$ 个非空组，我们需要将 $d-1$ 个隔板放入这 $k-1$ 个可用空隙中。从 $k-1$ 个空隙中选择 $d-1$ 个位置的方法数是 $\\binom{k-1}{d-1}$。\n\n对于我们的问题，$d=3$，所以我们需要找到将 $k$ 分成 $3$ 个部分的构成数量，由 $\\binom{k-1}{3-1} = \\binom{k-1}{2}$ 给出。\n\n情况1：$k=3$\n我们需要找到满足 $\\ell_i \\ge 1$ 的方程 $\\ell_1+\\ell_2+\\ell_3 = 3$ 的解的数量。\n使用构成的公式，解的数量为 $N_3 = \\binom{3-1}{2} = \\binom{2}{2} = 1$。\n唯一的解是 $(\\ell_1, \\ell_2, \\ell_3) = (1,1,1)$。让我们列出相应的指数集：\n$$ S_3 = \\{(1,1,1)\\} $$\n\n情况2：$k=4$\n我们需要找到满足 $\\ell_i \\ge 1$ 的方程 $\\ell_1+\\ell_2+\\ell_3 = 4$ 的解的数量。\n解的数量为 $N_4 = \\binom{4-1}{2} = \\binom{3}{2} = \\frac{3!}{2!1!} = 3$。\n为了枚举它们，我们可以列出将 $4$ 划分成 $3$ 个部分的分拆，然后考虑它们的不同排列。将 $4$ 划分成 $3$ 个正整数的唯一分拆是 $2+1+1$。 $(2,1,1)$ 的不同排列是 $(2,1,1)$、$(1,2,1)$ 和 $(1,1,2)$。\n指数集为：\n$$ S_4 = \\{(2,1,1), (1,2,1), (1,1,2)\\} $$\n\n情况3：$k=5$\n我们需要找到满足 $\\ell_i \\ge 1$ 的方程 $\\ell_1+\\ell_2+\\ell_3 = 5$ 的解的数量。\n解的数量为 $N_5 = \\binom{5-1}{2} = \\binom{4}{2} = \\frac{4!}{2!2!} = \\frac{4 \\times 3}{2} = 6$。\n为了枚举它们，我们找到将 $5$ 划分成 $3$ 个正整数的分拆：\n- $3+1+1$： $(3,1,1)$ 的不同排列是 $(3,1,1)$、$(1,3,1)$ 和 $(1,1,3)$。\n- $2+2+1$： $(2,2,1)$ 的不同排列是 $(2,2,1)$、$(2,1,2)$ 和 $(1,2,2)$。\n总共有 $3+3=6$ 个解。指数集为：\n$$ S_5 = \\{(3,1,1), (1,3,1), (1,1,3), (2,2,1), (2,1,2), (1,2,2)\\} $$\n\n集合 $\\Lambda_{3,5}$ 的完整枚举是每种情况下集合的并集：\n$\\Lambda_{3,5} = S_3 \\cup S_4 \\cup S_5$。\n$$ \\Lambda_{3,5} = \\{(1,1,1), (2,1,1), (1,2,1), (1,1,2), (3,1,1), (1,3,1), (1,1,3), (2,2,1), (2,1,2), (1,2,2)\\} $$\n$\\Lambda_{3,5}$ 的基数是每种情况下基数的总和：\n$$ \\#\\Lambda_{3,5} = N_3 + N_4 + N_5 = 1 + 3 + 6 = 10 $$\n因此，稀疏网格指数集 $\\Lambda_{3,5}$ 中有 $10$ 个元素。",
            "answer": "$$\\boxed{10}$$"
        },
        {
            "introduction": "理解了索引集的组合结构后，下一个关键步骤是将其应用于实际的函数近似问题。该练习将抽象的索引集与具体的谱方法联系起来，要求您为一个二维函数计算其在稀疏选择的Chebyshev多项式基下的谱系数。通过这个过程，您将亲眼看到稀疏网格索引集如何作为一种“过滤器”，有效地裁剪掉高阶交互项，同时保留函数的主要特征，这是克服维数灾难的关键一步。",
            "id": "3415859",
            "problem": "设函数 $f(x,y) = \\cos(\\pi x)\\cos(\\pi y)$ 定义在张量积域 $[-1,1]\\times[-1,1]$ 上。考虑关于可分离的切比雪夫权重 $w(x)w(y)$（其中 $w(x) = (1-x^2)^{-1/2}$）的第一类切比雪夫多项式 $\\{T_m(x)T_n(y)\\}_{m,n\\ge 0}$ 的张量积基中的谱近似。定义谱系数 $\\{c_{m,n}\\}_{m,n\\ge 0}$ 由加权 $L^2$ 内积给出\n$$\nc_{m,n} = \\gamma_m \\gamma_n \\int_{-1}^{1}\\int_{-1}^{1} f(x,y)\\,T_m(x)\\,T_n(y)\\,w(x)\\,w(y)\\,dx\\,dy,\n$$\n其中$\\gamma_0 = \\frac{1}{\\pi}$且当$k\\ge 1$时$\\gamma_k = \\frac{2}{\\pi}$。相应的谱展开是按照标准的切比雪夫意义形成的（上述归一化隐含了零索引上的常规半权重）。\n\n采用一种基于各向同性分层级别的Smolyak型稀疏多项式指数集，该级别与每个坐标中的多项式次数相对应。具体来说，对于一个固定的级别 $L\\in\\mathbb{N}$，使用指数集\n$$\n\\mathcal{S}_L = \\{(m,n)\\in \\mathbb{N}_0^2 : m+n \\le L\\}.\n$$\n与完全张量积截断 $\\{0,\\dots,L\\}^2$ 相比，该指数集编码了一种分层模式选择，减少了保留项的数量。\n\n任务：\n- 推导 $\\{T_k\\}_{k\\ge 0}$ 相对于切比雪夫权重的正交关系，并用它们从伽辽金(Galerkin)投影的第一性原理出发，证明上述系数定义的合理性。\n- 对于 $L=4$，确定稀疏Smolyak指数集 $\\mathcal{S}_4$ 的基数，并将其与完全张量积集 $\\{0,1,2,3,4\\}^2$ 进行比较，解释分层选择如何减少项数。\n- 利用可分离性和奇偶性考虑，确定对于 $f(x,y) = \\cos(\\pi x)\\cos(\\pi y)$，$\\mathcal{S}_4$ 中的哪些系数 $c_{m,n}$ 为零。\n- 精确计算特定的稀疏谱系数 $c_{2,2}$，将最终答案表示为单一的封闭形式解析表达式。\n\n你的最终答案必须仅为 $c_{2,2}$ 的单一表达式。不要包含单位。不要提供数值近似。",
            "solution": "该问题提法明确，具有科学依据，并为其解答提供了全套所需的定义和数据。这是谱方法和逼近论领域的一个标准问题。我们按所述顺序着手解答，处理每个任务。\n\n首先，我们从伽辽金(Galerkin)投影的原理出发，阐述谱系数公式的合理性。谱伽辽金投影寻求一个函数 $f(x,y)$ 的近似 $f_S(x,y) = \\sum_{(m,n) \\in \\mathcal{I}} c_{m,n} T_m(x)T_n(y)$，该近似来自一个由基组 $\\{\\phi_{m,n}(x,y) = T_m(x)T_n(y)\\}_{(m,n) \\in \\mathcal{I}}$ 张成的有限维空间。伽辽金条件要求残差 $f(x,y) - f_S(x,y)$ 相对于一个选定的内积，与张成集中的每个基函数正交。该内积是定义在域 $\\Omega = [-1,1]^2$ 上的加权 $L^2$ 内积，权重为 $W(x,y) = w(x)w(y) = (1-x^2)^{-1/2}(1-y^2)^{-1/2}$：\n$$\n\\langle g, h \\rangle_W = \\int_{-1}^{1}\\int_{-1}^{1} g(x,y)h(x,y)W(x,y)\\,dx\\,dy.\n$$\n伽辽金条件为，对于所有 $(p,q) \\in \\mathcal{I}$，有 $\\langle f - f_S, T_p(x)T_q(y) \\rangle_W = 0$。展开 $f_S$，我们得到：\n$$\n\\langle f, T_p T_q \\rangle_W = \\left\\langle \\sum_{(m,n) \\in \\mathcal{I}} c_{m,n} T_m T_n, T_p T_q \\right\\rangle_W = \\sum_{(m,n) \\in \\mathcal{I}} c_{m,n} \\langle T_m T_n, T_p T_q \\rangle_W.\n$$\n第一类切比雪夫多项式 $\\{T_k(x)\\}_{k\\ge 0}$ 在 $[-1,1]$上关于权重 $w(x)=(1-x^2)^{-1/2}$ 是正交的。其正交关系为：\n$$\n\\int_{-1}^{1} T_m(x)T_p(x)w(x)\\,dx = \\begin{cases} 0  \\text{若 } m \\neq p \\\\ \\pi  \\text{若 } m=p=0 \\\\ \\frac{\\pi}{2}  \\text{若 } m=p>0 \\end{cases}\n$$\n由于可分离性，张量积基函数的内积为：\n$$\n\\langle T_m T_n, T_p T_q \\rangle_W = \\left(\\int_{-1}^{1} T_m(x)T_p(x)w(x)\\,dx\\right) \\left(\\int_{-1}^{1} T_n(y)T_q(y)w(y)\\,dy\\right) = C_m C_n \\delta_{mp}\\delta_{nq},\n$$\n其中 $\\delta_{ij}$ 是克罗内克(Kronecker)δ函数，而 $C_k = \\langle T_k, T_k \\rangle_w$ 是归一化常数，$C_0=\\pi$ 且当 $k\\ge 1$ 时 $C_k=\\pi/2$。将此代入伽辽金条件，得到：\n$$\n\\langle f, T_p T_q \\rangle_W = \\sum_{(m,n) \\in \\mathcal{I}} c_{m,n} C_m C_n \\delta_{mp}\\delta_{nq} = c_{p,q} C_p C_q.\n$$\n求解系数 $c_{p,q}$，得出：\n$$\nc_{p,q} = \\frac{1}{C_p C_q} \\langle f, T_p T_q \\rangle_W = \\frac{1}{C_p C_q} \\int_{-1}^{1}\\int_{-1}^{1} f(x,y)T_p(x)T_q(y)w(x)w(y)\\,dx\\,dy.\n$$\n常数 $\\gamma_k$ 定义为 $1/C_k$。我们有 $\\gamma_0 = 1/C_0 = 1/\\pi$ 且当 $k \\ge 1$ 时 $\\gamma_k = 1/C_k = 2/\\pi$。因此，所给出的 $c_{m,n}$ 公式正是从伽辽金投影到正交基的原理推导出来的。\n\n其次，我们确定 $L=4$ 时指数集的基数。稀疏Smolyak型指数集是 $\\mathcal{S}_4 = \\{(m,n) \\in \\mathbb{N}_0^2 : m+n \\le 4\\}$。对于维度 $d=2$，$m+n \\le L$ 的非负整数解的数量由公式 $\\binom{L+d}{d}$ 给出。对于 $L=4$ 和 $d=2$，基数为：\n$$\n|\\mathcal{S}_4| = \\binom{4+2}{2} = \\binom{6}{2} = \\frac{6 \\times 5}{2} = 15.\n$$\n完全张量积集是 $\\mathcal{I}_4 = \\{(m,n) : 0 \\le m \\le 4, 0 \\le n \\le 4\\}$。其基数就是 $(L+1) \\times (L+1)$：\n$$\n|\\mathcal{I}_4| = (4+1)^2 = 5^2 = 25.\n$$\n稀疏网格方法保留了 $15$ 个基函数，而完全张量积截断使用 $25$ 个。稀疏网格裁剪了具有高交互阶数的项（即 $m$ 和 $n$ 都很大的项，例如 $(m,n)=(3,3)$ 或 $(4,2)$），这些项不在 $\\mathcal{S}_4$ 中，但在每个维度最大次数为 $L=4$ 的完全张量积网格中。这种分层选择基于一个前提，即函数的正则性意味着总多项式次数 $m+n$ 高的模式对整体近似的贡献较小。\n\n第三，我们确定 $\\mathcal{S}_4$ 中哪些系数 $c_{m,n}$ 为零。函数为 $f(x,y) = \\cos(\\pi x)\\cos(\\pi y)$。由于函数、定义域和权重的可分离性，系数公式可以分离为：\n$$\nc_{m,n} = \\left( \\gamma_m \\int_{-1}^{1} \\cos(\\pi x)T_m(x)w(x)\\,dx \\right) \\left( \\gamma_n \\int_{-1}^{1} \\cos(\\pi y)T_n(y)w(y)\\,dy \\right).\n$$\n我们来分析一维积分 $I_k = \\int_{-1}^{1} \\cos(\\pi x)T_k(x)w(x)\\,dx$。函数 $\\cos(\\pi x)$ 是偶函数，权重 $w(x)=(1-x^2)^{-1/2}$ 也是偶函数。切比雪夫多项式 $T_k(x)$ 当 $k$ 为偶数时是偶函数，当 $k$ 为奇数时是奇函数。因此，被积函数 $\\cos(\\pi x)T_k(x)w(x)$ 的奇偶性由 $T_k(x)$ 的奇偶性决定。如果 $k$ 是奇数，$T_k(x)$ 是奇函数，被积函数也是奇函数。奇函数在对称区间 $[-1,1]$ 上的积分为零。因此，对于所有奇数 $k$，$I_k=0$。\n这意味着如果 $m$ 或 $n$ 是奇数，$c_{m,n}$ 将为零。在 $\\mathcal{S}_4$ 中，那些使得 $c_{m,n}$ 为零的指数是至少有一个奇数分量的指数：$(1,0)$, $(0,1)$, $(1,1)$, $(3,0)$, $(2,1)$, $(1,2)$, $(0,3)$, $(3,1)$ 和 $(1,3)$。可能非零的系数是那些 $m$ 和 $n$ 均为偶数的系数：$(0,0)$, $(2,0)$, $(0,2)$, $(4,0)$, $(0,4)$ 和 $(2,2)$。\n\n第四，我们计算特定系数 $c_{2,2}$。从分离的形式来看：\n$$\nc_{2,2} = \\gamma_2 \\gamma_2 \\left( \\int_{-1}^{1} \\cos(\\pi x)T_2(x)w(x)\\,dx \\right) \\left( \\int_{-1}^{1} \\cos(\\pi y)T_2(y)w(y)\\,dy \\right) = \\gamma_2^2 \\left( I_2 \\right)^2.\n$$\n由于 $\\gamma_2 = 2/\\pi$，我们有 $\\gamma_2^2 = 4/\\pi^2$。我们必须计算积分 $I_2$：\n$$\nI_2 = \\int_{-1}^{1} \\cos(\\pi x)T_2(x)(1-x^2)^{-1/2}\\,dx.\n$$\n我们进行标准代换 $x=\\cos(\\theta)$，这意味着 $dx = -\\sin(\\theta)d\\theta$。积分限 $x \\in [-1,1]$ 对应于 $\\theta \\in [\\pi,0]$。在此代换下，$T_k(x) = T_k(\\cos\\theta) = \\cos(k\\theta)$，所以 $T_2(x) = \\cos(2\\theta)$。项 $(1-x^2)^{-1/2}dx$ 变为 $(1-\\cos^2\\theta)^{-1/2}(-\\sin\\theta d\\theta) = (\\sin^2\\theta)^{-1/2}(-\\sin\\theta d\\theta) = -d\\theta$ 对于 $\\theta \\in (0,\\pi)$。\n积分变换为：\n$$\nI_2 = \\int_{\\pi}^{0} \\cos(\\pi\\cos\\theta)\\cos(2\\theta)(-d\\theta) = \\int_{0}^{\\pi} \\cos(\\pi\\cos\\theta)\\cos(2\\theta)\\,d\\theta.\n$$\n这个积分是第一类贝塞尔(Bessel)函数 $J_n(z)$ 的一个已知积分表示。相关恒等式是：\n$$\n\\int_0^\\pi \\cos(z\\cos\\theta)\\cos(n\\theta)\\,d\\theta = \\pi(-1)^{n/2} J_n(z), \\quad \\text{对于偶数 } n.\n$$\n应用此恒等式，令 $z=\\pi$ 和 $n=2$：\n$$\nI_2 = \\pi(-1)^{2/2} J_2(\\pi) = \\pi(-1)^{1} J_2(\\pi) = -\\pi J_2(\\pi).\n$$\n现在，我们将此结果代回 $c_{2,2}$ 的表达式中：\n$$\nc_{2,2} = \\gamma_2^2 (I_2)^2 = \\left(\\frac{2}{\\pi}\\right)^2 (-\\pi J_2(\\pi))^2 = \\frac{4}{\\pi^2} (\\pi^2 [J_2(\\pi)]^2).\n$$\n简化此表达式，我们得到该系数的最终封闭形式解析表达式：\n$$\nc_{2,2} = 4[J_2(\\pi)]^2.\n$$",
            "answer": "$$\\boxed{4(J_2(\\pi))^2}$$"
        },
        {
            "introduction": "标准的稀疏网格对所有维度一视同仁，但在许多高维问题中，函数对不同维度的敏感性（即各向异性）差异巨大。一个真正高效的方法应该能够自动识别并利用这种结构，将计算资源集中在“重要”的维度上。本练习模拟了一个维度自适应算法，您将基于一个先验的“收益”模型，为一个各向异性函数确定最终的自适应索引集，从而深刻理解自适应稀疏网格如何智能地适应问题特性以实现最大效率。",
            "id": "3415800",
            "problem": "考虑在单位立方体 $[0,1]^{3}$ 上对函数 $f(x,y,z)=\\exp(10x)+\\exp(y)+\\exp(0.1 z)$ 进行各向异性稀疏网格插值，该插值使用 Smolyak 构造和一个容许多重指标集 $\\mathcal{I}\\subset\\mathbb{N}_{0}^{3}$，其中$\\mathbb{N}_{0}=\\{0,1,2,\\dots\\}$。假设采用一种维度自适应选择策略，该策略从基础指标 $\\boldsymbol{0}=(0,0,0)$ 开始，并添加满足容许条件的指标 $\\boldsymbol{k}\\in\\mathbb{N}_{0}^{3}$：即对于每个 $i\\in\\{1,2,3\\}$，若 $k_{i}>0$，则 $\\boldsymbol{k}-\\boldsymbol{e}_{i}\\in\\mathcal{I}$，其中$\\boldsymbol{e}_{i}$是第 $i$ 个单位向量。假设每个指标的工作量是统一且可比的。\n\n再假设一个与解析延拓一致的标准各向异性先验收益模型，即与多重指标 $\\boldsymbol{k}=(k_{1},k_{2},k_{3})$ 相关的层级盈余（收益）由下式限定\n$$\np(\\boldsymbol{k})\\leq A\\,\\exp\\big(-\\gamma_{1}k_{1}-\\gamma_{2}k_{2}-\\gamma_{3}k_{3}\\big),\n$$\n其中$A=1$且各向异性权重固定为$\\boldsymbol{\\gamma}=(\\gamma_1, \\gamma_2, \\gamma_3)=(10, 1, 0.1)$。该自适应算法在所有容许候选者中贪婪地选择具有最大 $p(\\boldsymbol{k})$ 的指标，并在每个容许候选者都满足$p(\\boldsymbol{k})  \\varepsilon$时立即停止，其中目标容差为 $\\varepsilon=\\exp(-10)$。\n\n任务：\n- 仅使用容许条件、 $p(\\boldsymbol{k})$ 在每个 $k_{i}$ 上的单调性以及给定的收益模型，确定此贪婪策略生成的最终指标集 $\\mathcal{I}_{\\varepsilon}$ 的结构。你的推导必须确定一个用 $\\varepsilon$ 和 $\\boldsymbol{\\gamma}$ 表示的标量阈值，该阈值刻画了 $\\mathcal{I}_{\\varepsilon}$。\n- 从 $\\boldsymbol{0}$ 开始，列举该策略访问的前十个精化指标（按照它们可以被贪婪规则选择的顺序），并根据各向异性 $\\boldsymbol{\\gamma}$ 解释你观察到的模式。\n- 计算上述确定的最终指标集的精确基数 $N:=|\\mathcal{I}_{\\varepsilon}|$。将 $N$ 作为你的最终答案。无需四舍五入。",
            "solution": "该问题要求分析一种基于从容许集中贪婪选择多重指标的维度自适应稀疏网格算法。选择过程由先验收益模型驱动，算法根据容差阈值终止。\n\n### 第1部分：最终指标集 $\\mathcal{I}_{\\varepsilon}$ 的结构\n\n问题的核心在于理解贪婪选择规则、容许条件和停止准则之间的相互作用。算法构建的指标集 $\\mathcal{I}$ 必须保持“容许性”，即对于任何指标 $\\boldsymbol{k}=(k_1, k_2, k_3) \\in \\mathcal{I}$，如果分量 $k_i  0$，那么其前驱指标 $\\boldsymbol{k}-\\boldsymbol{e}_i$（其中 $\\boldsymbol{e}_i$ 是第 $i$ 个标准基向量）也必须在 $\\mathcal{I}$ 中。这样的集合也称为向下闭合集。\n\n算法从 $\\mathcal{I}_0 = \\{\\boldsymbol{0}\\}$ 开始，迭代地添加使收益 $p(\\boldsymbol{k})$ 最大化的容许候选者。一个容许候选者是指一个指标 $\\boldsymbol{j} \\notin \\mathcal{I}$，其所有前驱都在 $\\mathcal{I}$ 中。当*每个*容许候选者的收益都低于容差 $\\varepsilon$ 时，该过程停止。\n\n收益模型由 $p(\\boldsymbol{k}) = \\exp(-\\boldsymbol{\\gamma} \\cdot \\boldsymbol{k})$ 给出，其中 $\\boldsymbol{\\gamma} = (\\gamma_1, \\gamma_2, \\gamma_3)$ 的分量均为正。该收益函数在 $\\boldsymbol{k}$ 的每个分量上都是严格为正且单调递减的。\n\n让我们定义一个集合 $\\mathcal{S}_{\\varepsilon} = \\{ \\boldsymbol{k} \\in \\mathbb{N}_0^3 \\mid p(\\boldsymbol{k}) \\geq \\varepsilon \\}$。我们将证明算法生成的最终指标集 $\\mathcal{I}_{\\varepsilon}$ 正是这个集合 $\\mathcal{S}_{\\varepsilon}$。\n\n首先，我们证明 $\\mathcal{S}_{\\varepsilon}$ 是一个容许集。设 $\\boldsymbol{k} \\in \\mathcal{S}_{\\varepsilon}$，因此 $p(\\boldsymbol{k}) \\geq \\varepsilon$。对于任何满足 $k_i0$ 的 $i \\in \\{1,2,3\\}$，考虑其前驱指标 $\\boldsymbol{j} = \\boldsymbol{k}-\\boldsymbol{e}_i$。由于所有 $\\gamma_l0$，我们有 $\\boldsymbol{\\gamma}\\cdot\\boldsymbol{j} = \\sum_l \\gamma_l j_l \\leq \\sum_l \\gamma_l k_l = \\boldsymbol{\\gamma}\\cdot\\boldsymbol{k}$。因此，$-\\boldsymbol{\\gamma}\\cdot\\boldsymbol{j} \\geq -\\boldsymbol{\\gamma}\\cdot\\boldsymbol{k}$，取指数后得到 $p(\\boldsymbol{j})=\\exp(-\\boldsymbol{\\gamma}\\cdot\\boldsymbol{j}) \\geq \\exp(-\\boldsymbol{\\gamma}\\cdot\\boldsymbol{k}) = p(\\boldsymbol{k}) \\geq \\varepsilon$。这表明 $\\boldsymbol{j} \\in \\mathcal{S}_{\\varepsilon}$，满足容许条件。\n\n接下来，我们建立等价关系 $\\mathcal{I}_{\\varepsilon} = \\mathcal{S}_{\\varepsilon}$。\n1.  贪婪算法添加到集合中的任何指标 $\\boldsymbol{k}$ 必须满足收益 $p(\\boldsymbol{k}) \\geq \\varepsilon$。如果 $p(\\boldsymbol{k})  \\varepsilon$，那么在它被选中的那一刻，它就是收益最大的候选者。这意味着所有容许候选者的收益都小于 $\\varepsilon$，从而触发了停止准则。因此，$\\boldsymbol{k}$ 不会被添加。所以，$\\mathcal{I}_{\\varepsilon}$ 中的每个指标也必须在 $\\mathcal{S}_{\\varepsilon}$ 中，即 $\\mathcal{I}_{\\varepsilon} \\subseteq \\mathcal{S}_{\\varepsilon}$。\n2.  反之，考虑任何指标 $\\boldsymbol{k} \\in \\mathcal{S}_{\\varepsilon}$。由于 $\\mathcal{S}_{\\varepsilon}$ 是容许的，$\\boldsymbol{k}$ 的所有前驱也都在 $\\mathcal{S}_{\\varepsilon}$ 中。算法从 $\\boldsymbol{0} \\in \\mathcal{I}$ 开始（因为 $p(\\boldsymbol{0})=1 \\geq \\varepsilon$）。随着算法的进行，它总是选择收益最大的候选者。因为 $\\mathcal{S}_{\\varepsilon}$ 中的任何指标的收益都不小于 $\\varepsilon$，而算法仅在所有候选者的收益都小于 $\\varepsilon$ 时才停止，所以必然地，$\\mathcal{S}_{\\varepsilon}$ 中的任何指标最终都会成为一个容许候选者并被选中。因此，$\\mathcal{S}_{\\varepsilon} \\subseteq \\mathcal{I}_{\\varepsilon}$。\n\n结合两个包含关系，我们得到 $\\mathcal{I}_{\\varepsilon} = \\mathcal{S}_{\\varepsilon}$。因此，最终指标集的结构由不等式 $p(\\boldsymbol{k}) \\geq \\varepsilon$ 定义，这提供了所要求的刻画。\n$$ \\exp(-\\boldsymbol{\\gamma} \\cdot \\boldsymbol{k}) \\geq \\varepsilon $$\n两边取自然对数：\n$$ -\\boldsymbol{\\gamma} \\cdot \\boldsymbol{k} \\geq \\ln(\\varepsilon) $$\n两边乘以 $-1$ 使不等号反向：\n$$ \\boldsymbol{\\gamma} \\cdot \\boldsymbol{k} \\leq -\\ln(\\varepsilon) $$\n这个不等式，以及标量阈值 $T = -\\ln(\\varepsilon)$，定义了最终的指标集。\n\n### 第2部分：前十个精化指标及观察到的模式\n\n贪婪算法选择使 $p(\\boldsymbol{k}) = \\exp(-\\boldsymbol{\\gamma} \\cdot \\boldsymbol{k})$ 最大化的容许候选者 $\\boldsymbol{k}$。这等价于选择使加权和 $S(\\boldsymbol{k}) = \\boldsymbol{\\gamma} \\cdot \\boldsymbol{k} = 10k_1 + k_2 + 0.1k_3$ 最小化的候选者。\n我们从 $\\mathcal{I}=\\{\\boldsymbol{0}\\}$ 开始，追踪容许候选者及其得分。\n- 初始候选者： $(1,0,0)$ 得分为 $S=10$；$(0,1,0)$ 得分为 $S=1$；$(0,0,1)$ 得分为 $S=0.1$。\n1.  选择 $\\boldsymbol{k}=(0,0,1)$（得分 $0.1$）。$\\mathcal{I}$ 变为 $\\{\\boldsymbol{0},(0,0,1)\\}$。新候选者：$(0,0,2)$（得分 $0.2$）。\n2.  选择 $\\boldsymbol{k}=(0,0,2)$（得分 $0.2$）。新候选者：$(0,0,3)$（得分 $0.3$）。\n3.  选择 $\\boldsymbol{k}=(0,0,3)$（得分 $0.3$）。\n... 只要在第三个维度上进行精化是“最便宜”的选项，这个模式就会继续。\n4.  $\\boldsymbol{k}=(0,0,4)$（得分 $0.4$）。\n5.  $\\boldsymbol{k}=(0,0,5)$（得分 $0.5$）。\n6.  $\\boldsymbol{k}=(0,0,6)$（得分 $0.6$）。\n7.  $\\boldsymbol{k}=(0,0,7)$（得分 $0.7$）。\n8.  $\\boldsymbol{k}=(0,0,8)$（得分 $0.8$）。\n9.  选择 $\\boldsymbol{k}=(0,0,9)$（得分 $0.9$）。新候选者是 $(0,0,10)$，得分为 $0.1 \\times 10 = 1.0$。\n10. 此时容许候选者集合包括 $(1,0,0)$（得分 $10$），$(0,1,0)$（得分 $1$）和 $(0,0,10)$（得分 $1$）。最低分是 $1$，在 $(0,1,0)$ 和 $(0,0,10)$ 之间出现平局。算法可以选择其中任意一个。\n\n前十个精化指标（在初始指标 $\\boldsymbol{0}$ 之后添加到 $\\mathcal{I}$ 中的指标）是：\n$$ (0,0,1), (0,0,2), (0,0,3), (0,0,4), (0,0,5), (0,0,6), (0,0,7), (0,0,8), (0,0,9), \\text{以及 } (0,1,0) \\text{ 或 } (0,0,10) \\text{ 中的一个。} $$\n该模式由各向异性权重 $\\boldsymbol{\\gamma}=(10, 1, 0.1)$ 决定。算法优先在权重最小的方向（即 $\\gamma_3=0.1$ 的方向）进行精化，因为这对应于最慢的收益衰减（或得分 $S(\\boldsymbol{k})$ 的最小增长）。这是维度自适应的标志：计算量集中在函数最光滑的方向上（在此收益模型中，这对应于较小的衰减率 $\\gamma_i$）。\n\n### 第3部分：最终指标集的基数\n\n最终指标集 $\\mathcal{I}_{\\varepsilon}$ 由 $\\boldsymbol{\\gamma} \\cdot \\boldsymbol{k} \\leq -\\ln(\\varepsilon)$ 给出。\n当 $\\boldsymbol{\\gamma}=(10, 1, 0.1)$ 且 $\\varepsilon = \\exp(-10)$ 时，条件变为 $10k_1 + k_2 + 0.1k_3 \\leq 10$。\n我们需要找到 $(k_1, k_2, k_3) \\in \\mathbb{N}_0^3$ 的非负整数解的数量 $N=|\\mathcal{I}_{\\varepsilon}|$。为了只处理整数，我们将不等式两边乘以 $10$：\n$$ 100k_1 + 10k_2 + k_3 \\leq 100 $$\n我们可以通过考虑 $k_1$ 的可能取值来列举解。由于 $k_1 \\geq 0$，$100k_1$ 这一项立即将 $k_1$ 约束为 $0$ 或 $1$。如果 $k_1 \\geq 2$，对于非负的 $k_2, k_3$，该不等式无法满足。\n\n**情况1：$k_1=0$**\n不等式简化为 $10k_2 + k_3 \\leq 100$。\n我们可以遍历 $k_2$ 的可能取值。由于 $k_2, k_3 \\geq 0$，$k_2$ 的取值范围可以从 $0$ 到 $10$。对于每个 $k_2$ 的值，$k_3$ 的可能整数值的数量由 $0 \\leq k_3 \\leq 100 - 10k_2$ 决定。这给出了 $(100 - 10k_2) - 0 + 1 = 101 - 10k_2$ 个可能的 $k_3$ 值。\n这种情况下的解的总数 $N_0$ 是对 $k_2=0, \\dots, 10$ 求和：\n$$ N_0 = \\sum_{k_2=0}^{10} (101 - 10k_2) $$\n这是一个等差数列的和：$101+91+81+\\dots+11+1$。共有 $11$ 项。其和由 $\\frac{\\text{项数}}{2} \\times (\\text{首项} + \\text{末项})$ 给出。\n$$ N_0 = \\frac{11}{2} (101+1) = \\frac{11}{2}(102) = 11 \\times 51 = 561 $$\n\n**情况2：$k_1=1$**\n不等式变为 $100(1) + 10k_2 + k_3 \\leq 100$，简化为 $10k_2 + k_3 \\leq 0$。\n由于 $k_2$ 和 $k_3$ 是非负整数，满足此条件的唯一方式是两项都为零，即 $10k_2=0$ 和 $k_3=0$。这意味着 $k_2=0$ 和 $k_3=0$。\n因此，这种情况只有一个解：$(k_1, k_2, k_3)=(1,0,0)$。解的数量是 $N_1=1$。\n\n**总基数**\n总基数 $N$ 是所有情况解的总和：\n$$ N = N_0 + N_1 = 561 + 1 = 562 $$\n最终指标集 $\\mathcal{I}_{\\varepsilon}$ 恰好包含 $562$ 个多重指标。",
            "answer": "$$\\boxed{562}$$"
        }
    ]
}