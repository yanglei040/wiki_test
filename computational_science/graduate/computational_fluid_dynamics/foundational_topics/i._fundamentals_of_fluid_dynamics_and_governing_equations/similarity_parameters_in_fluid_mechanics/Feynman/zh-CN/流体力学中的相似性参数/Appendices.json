{
    "hands_on_practices": [
        {
            "introduction": "理解和预测热传递是热工学领域的基石。第一个练习  旨在解决平板上强制对流这一经典问题，为相似性原理提供了一个直接的应用场景。你将利用雷诺数 ($Re_L$) 来判断流动状态——是层流还是湍流——然后选择合适的努塞尔数 ($Nu$) 经验关联式，该关联式将 $Nu$ 表达为雷诺数和普朗特数 ($Pr$) 的函数，从而量化热传递。",
            "id": "3361943",
            "problem": "一个二维、稳态、零压力梯度的理想气体外流流过一块与自由流对齐、长度为 $L$ 的光滑等温平板。自由流速度为 $U_{\\infty}$，自由流温度为 $T_{\\infty}$，壁面温度为 $T_{w}$，且 $T_{w}  T_{\\infty}$。假设粘性耗散、浮力效应和可压缩性效应均可忽略不计。物性参数在膜温 $T_{f} = (T_{w} + T_{\\infty})/2$ 下取值。在 $T_{f}$ 下，动力粘度、导热系数和定压比热分别以 $\\,\\mu\\,$、$\\,k\\,$ 和 $\\,c_{p}\\,$ 给出。自由流中的气体密度为 $\\,\\rho\\,$。\n\n从控制边界层的动量和能量方程及其无量纲形式出发，运用相似性论证来确定平板上传热的适当流态（层流或湍流），并证明该流态下平均努塞尔数关联式中出现的雷诺数和普朗特数的典型指数的合理性。然后：\n\n1) 仅使用所提供的物性值，计算 $T_{f}$ 下的普朗特数 $Pr$。\n2) 选择平板上平均努塞尔数的适当关联式形式，该关联式应表示为基于板长的雷诺数 $Re_{L}$ 和普朗特数 $Pr$ 的闭式解析函数，并与已确定的流态和等温壁面条件相符。\n\n使用以下在膜温 $T_{f}$ 下取值的数据：\n- 自由流速度：$U_{\\infty} = 3.00 \\ \\mathrm{m/s}$。\n- 平板长度：$L = 0.400 \\ \\mathrm{m}$。\n- 自由流密度：$\\rho = 0.950 \\ \\mathrm{kg/m^{3}}$。\n- 动力粘度：$\\mu = 2.10 \\times 10^{-5} \\ \\mathrm{kg/(m \\cdot s)}$。\n- 导热系数：$k = 2.60 \\times 10^{-2} \\ \\mathrm{W/(m \\cdot K)}$。\n- 定压比热：$c_{p} = 1.012 \\times 10^{3} \\ \\mathrm{J/(kg \\cdot K)}$。\n\n使用的定义包括 $Pr = \\dfrac{c_{p} \\mu}{k}$ 和 $Re_{L} = \\dfrac{\\rho U_{\\infty} L}{\\mu}$。将平板视为流体动力学光滑，并假设如果流动是湍流，其在前缘未被绊线触发。如果雷诺数表明整个平板上为层流，则选择层流强制对流关联式形式；否则，选择适用于零压力梯度下光滑平板上等温壁面的湍流强制对流关联式形式。\n\n将您的最终答案表示为一个双元素行矩阵，其中：\n- 第一个元素是四舍五入到四位有效数字的 $Pr$ 的数值。\n- 第二个元素是所选的关于 $Re_{L}$ 和 $Pr$ 的平板上平均努塞尔数的解析关联式。\n\n在您的最终方框答案中不要包含单位。",
            "solution": "首先根据所需标准对问题陈述进行验证。\n\n**步骤 1：提取给定条件**\n- 流动描述：二维、稳态、零压力梯度的理想气体外流。\n- 几何形状：与自由流对齐、长度为 $L$ 的光滑等温平板。\n- 自由流速度：$U_{\\infty}$。\n- 自由流温度：$T_{\\infty}$。\n- 壁面温度：$T_{w}$，且 $T_{w}  T_{\\infty}$。\n- 假设：粘性耗散、浮力效应和可压缩性效应均可忽略不计。\n- 物性取值温度：膜温 $T_{f} = (T_{w} + T_{\\infty})/2$。\n- $T_{f}$ 下的物性：动力粘度 $\\mu$，导热系数 $k$，定压比热 $c_{p}$。\n- 自由流密度：$\\rho$。\n- 数值：\n  - $U_{\\infty} = 3.00 \\ \\mathrm{m/s}$。\n  - $L = 0.400 \\ \\mathrm{m}$。\n  - $\\rho = 0.950 \\ \\mathrm{kg/m^{3}}$（在自由流条件下）。\n  - $\\mu = 2.10 \\times 10^{-5} \\ \\mathrm{kg/(m \\cdot s)}$（在 $T_f$ 下）。\n  - $k = 2.60 \\times 10^{-2} \\ \\mathrm{W/(m \\cdot K)}$（在 $T_f$ 下）。\n  - $c_{p} = 1.012 \\times 10^{3} \\ \\mathrm{J/(kg \\cdot K)}$（在 $T_f$ 下）。\n- 定义：\n  - $Pr = \\dfrac{c_{p} \\mu}{k}$。\n  - $Re_{L} = \\dfrac{\\rho U_{\\infty} L}{\\mu}$。\n- 条件：\n  - 平板为流体动力学光滑。\n  - 边界层未被触发。\n  - 流态（层流或湍流）由雷诺数确定。\n\n**步骤 2：使用提取的给定条件进行验证**\n该问题具有科学依据，描述了平板上强制对流的经典案例，这是流体力学和传热学中的一个基本课题。问题陈述清晰，提供了所有必要的数据、定义和明确的目标。语言精确客观。所作假设是为将问题简化为标准形式而采用的标准假设。所提供的物性值对于像空气这样的气体在中等温度下是物理上现实的。在雷诺数计算中使用自由流密度 $\\rho$ 以及在膜温下取值的其他物性，是外流分析中的一种标准且公认的做法。该问题是完整的、一致的且可解的。\n\n**步骤 3：结论和行动**\n该问题有效。将提供完整解答。\n\n该问题要求基于相似性论证来证明努塞尔数关联式中指数的合理性，然后选择正确的关联式并计算普朗特数。\n\n对于二维、稳态、不可压缩、零压力梯度、物性恒定且粘性耗散可忽略的边界层流动，其控制方程为：\n连续性方程：\n$$ \\frac{\\partial u}{\\partial x} + \\frac{\\partial v}{\\partial y} = 0 $$\n$x$方向动量方程：\n$$ u \\frac{\\partial u}{\\partial x} + v \\frac{\\partial u}{\\partial y} = \\nu \\frac{\\partial^2 u}{\\partial y^2} $$\n能量方程：\n$$ u \\frac{\\partial T}{\\partial x} + v \\frac{\\partial T}{\\partial y} = \\alpha \\frac{\\partial^2 T}{\\partial y^2} $$\n其中 $u$ 和 $v$ 分别是 $x$ 和 $y$ 方向的速度分量，$T$ 是温度，$\\nu = \\mu/\\rho$ 是运动粘度（动量扩散率），$\\alpha = k/(\\rho c_{p})$ 是热扩散率。\n\n通过使用诸如 $x^* = x/L$、$y^* = y/L$、$u^* = u/U_{\\infty}$ 和无量纲温度 $\\theta = (T - T_w)/(T_{\\infty} - T_w)$ 等变量对这些方程进行无量纲化，会出现两个关键的无量纲数群。动量方程得到雷诺数 $Re_{L} = \\frac{U_{\\infty} L}{\\nu}$，它代表惯性力与粘性力之比。能量方程得到雷诺数和普朗特数 $Pr = \\frac{\\nu}{\\alpha} = \\frac{c_p \\mu}{k}$，它代表动量扩散率与热扩散率之比。无量纲方程的解，以及因此衍生的任何量，如努塞尔数，都必须是这两个相似性参数的函数。\n\n局部努塞尔数定义为 $Nu_x = \\frac{h_x x}{k}$。传热系数 $h_x$ 与壁面处的温度梯度有关：$h_x = -k \\frac{(\\partial T / \\partial y)_{y=0}}{T_w - T_\\infty}$。这意味着 $Nu_x$ 是局部雷诺数 $Re_x = \\frac{\\rho U_{\\infty} x}{\\mu}$ 和普朗特数 $Pr$ 的函数。\n\n对于**层流**，边界层方程的精确解（Blasius-Pohlhausen 解）表明，流体动力学边界层厚度 $\\delta$ 的标度关系为 $\\delta \\propto x Re_x^{-\\frac{1}{2}}$。对于 $Pr \\gtrsim 0.6$，热边界层厚度 $\\delta_T$ 与 $\\delta$ 的关系为 $\\delta_T \\approx \\delta Pr^{-\\frac{1}{3}}$。由于 $h_x \\propto k/\\delta_T$，我们有 $h_x \\propto \\frac{k}{x} Re_x^{\\frac{1}{2}} Pr^{\\frac{1}{3}}$。这导致局部努塞尔数的标度关系为 $Nu_x \\propto Re_x^{\\frac{1}{2}} Pr^{\\frac{1}{3}}$。雷诺数的指数是 $\\frac{1}{2}$，普朗特数的指数是 $\\frac{1}{3}$。\n\n对于**湍流**，半经验分析（如 Reynolds-Colburn 类比）由于混合增强而预测出不同的标度关系。发现局部努塞尔数的标度关系为 $Nu_x \\propto Re_x^{\\frac{4}{5}} Pr^{\\frac{1}{3}}$。雷诺数的指数是 $\\frac{4}{5} = 0.8$。\n\n为了选择正确的流态，我们必须计算平板末端的雷诺数 $Re_L$。\n$$ Re_L = \\frac{\\rho U_{\\infty} L}{\\mu} $$\n代入给定值：\n$$ Re_L = \\frac{(0.950 \\ \\mathrm{kg/m^{3}}) (3.00 \\ \\mathrm{m/s}) (0.400 \\ \\mathrm{m})}{2.10 \\times 10^{-5} \\ \\mathrm{kg/(m \\cdot s)}} = \\frac{1.14}{2.10 \\times 10^{-5}} \\approx 54285.7 $$\n结果是 $Re_L \\approx 5.43 \\times 10^4$。光滑平板上向湍流过渡的临界雷诺数是 $Re_{crit} \\approx 5 \\times 10^5$。由于 $Re_L  Re_{crit}$，整个平板上的流动是层流。\n\n因此，我们必须选择层流边界层的关联式。平均传热系数 $\\bar{h}_L$ 是通过将局部系数 $h_x \\propto x^{-\\frac{1}{2}}$ 沿板长 $L$ 积分得到的。\n$$ \\bar{h}_L = \\frac{1}{L} \\int_0^L h_x dx \\propto \\frac{1}{L} \\int_0^L x^{-\\frac{1}{2}} dx \\propto L^{-\\frac{1}{2}} $$\n平均努塞尔数 $\\overline{Nu}_L = \\frac{\\bar{h}_L L}{k}$ 的标度关系为：\n$$ \\overline{Nu}_L \\propto \\frac{L^{-\\frac{1}{2}} L}{k} \\propto \\left(\\frac{\\rho U_{\\infty}}{\\mu}\\right)^{\\frac{1}{2}} L^{\\frac{1}{2}} \\propto Re_L^{\\frac{1}{2}} $$\n包含普朗特数依赖性后，$\\overline{Nu}_L \\propto Re_L^{\\frac{1}{2}} Pr^{\\frac{1}{3}}$。对于等温平板上的层流，平均努塞尔数的公认关联式为：\n$$ \\overline{Nu}_L = 0.664 Re_L^{\\frac{1}{2}} Pr^{\\frac{1}{3}} $$\n这是适当的关联式形式。\n\n接下来，我们使用所提供的数据计算普朗特数 $Pr$。\n$$ Pr = \\frac{c_{p} \\mu}{k} $$\n代入数值：\n$$ Pr = \\frac{(1.012 \\times 10^{3} \\ \\mathrm{J/(kg \\cdot K)}) (2.10 \\times 10^{-5} \\ \\mathrm{kg/(m \\cdot s)})}{2.60 \\times 10^{-2} \\ \\mathrm{W/(m \\cdot K)}} $$\n$$ Pr = \\frac{0.021252}{0.026} \\approx 0.8173846... $$\n四舍五入到四位有效数字，普朗特数为 $Pr = 0.8174$。由于 $Pr > 0.6$，使用所选关联式是合理的。\n\n最终答案由两部分组成：$Pr$ 的数值和平均努塞尔数的解析表达式。\n\n1. 普朗特数，$Pr$：$0.8174$。\n2. 努塞尔数关联式：$0.664 Re_L^{\\frac{1}{2}} Pr^{\\frac{1}{3}}$。\n\n将它们组合成一个双元素行矩阵。",
            "answer": "$$\n\\boxed{\n\\begin{pmatrix}\n0.8174  0.664 Re_L^{\\frac{1}{2}} Pr^{\\frac{1}{3}}\n\\end{pmatrix}\n}\n$$"
        },
        {
            "introduction": "除了经典分析，相似性参数在现代计算流体动力学 (CFD) 中也是不可或缺的工具。这个练习  深入探讨了估算湍流直接数值模拟 (DNS) 巨大计算成本的实际挑战。通过应用源于湍流理论的标度律，将最小物理尺度与宏观的雷诺数 ($Re_L$) 和普朗特数 ($Pr$) 联系起来，你将学会如何预测所需的计算资源，这是规划和执行高保真模拟的一项关键技能。",
            "id": "3361913",
            "problem": "一个研究小组计划在一个边长为 $L$ 的三周期立方体中，对不可压缩、统计定常的均匀各向同性湍流进行直接数值模拟（DNS），其中包含一个建模为被动标量的主动输运温度场。该流动由雷诺数 $Re_{L} = U L / \\nu$ 和普朗特数 $Pr = \\nu / \\alpha$ 表征，其中 $U$ 是特征大尺度速度，$\\nu$ 是运动粘度，$\\alpha$ 是热扩散率。该小组将在E级高性能计算（HPC）系统上运行模拟。\n\n仅从基本定义和经过充分检验的小尺度湍流事实出发，推导时空分辨率要求并按如下方式计算估计的挂钟时间：\n\n- 在高雷诺数 $Re_{L}$下，单位质量的平均动能耗散率满足 $\\varepsilon \\sim U^{3}/L$，且 Kolmogorov 微尺度为 $\\eta = \\left(\\nu^{3}/\\varepsilon\\right)^{1/4}$。对于 $Pr \\ge 1$，最小的热尺度是 Batchelor 尺度 $\\eta_{B} = \\eta / Pr^{1/2}$。\n- 使用间距为 $\\Delta x$ 的均匀网格，并选择用 $s$ 个点来解析最小的相关物理尺度，即 $\\Delta x = \\eta_{B}/s$。\n- 设网格点数为 $N_{\\text{grid}} = (L/\\Delta x)^{3}$。对显式时间积分施加 Courant–Friedrichs–Lewy (CFL) 稳定性条件 $\\Delta t = C\\,\\Delta x/U$，并模拟 $n$ 个大涡周转时间 $T_{\\text{sim}} = n\\,L/U$。设时间步数为 $N_{t} = T_{\\text{sim}}/\\Delta t$。\n- 假设对于耦合的速度-温度求解器，每个网格点每个时间步的浮点运算成本为 $q$ 次浮点运算。\n\n给定目标无量纲参数和数值选择 $Re_{L} = 1.0 \\times 10^{4}$、$Pr = 7.0$、$s = 3$、$C = 0.5$、$n = 10$ 和 $q = 2.0 \\times 10^{5}$，并给定持续的机器性能为 $R = 1.0 \\times 10^{17}$ 次浮点运算/秒，计算完成模拟所需的估计挂钟时间。\n\n最终答案以小时为单位表示，并四舍五入到三位有效数字。最终答案中不要包含任何其他量。",
            "solution": "用户提供了一个问题，要求估算湍流直接数值模拟（DNS）的挂钟时间。第一步是验证问题陈述。\n\n### 第1步：提取给定条件\n- 计算域：边长为 $L$ 的三周期立方体。\n- 流动：不可压缩、统计定常、均匀各向同性湍流。\n- 标量：主动输运的被动温度场。\n- 无量纲参数：雷诺数 $Re_{L} = U L / \\nu$，普朗特数 $Pr = \\nu / \\alpha$。\n- 基本标度关系：\n  - 单位质量的平均动能耗散率：$\\varepsilon \\sim U^{3}/L$。\n  - Kolmogorov 微尺度：$\\eta = \\left(\\nu^{3}/\\varepsilon\\right)^{1/4}$。\n  - Batchelor 尺度（对于 $Pr \\ge 1$）：$\\eta_{B} = \\eta / Pr^{1/2}$。\n- 数值离散参数：\n  - 网格间距：$\\Delta x = \\eta_{B}/s$。\n  - 网格点数：$N_{\\text{grid}} = (L/\\Delta x)^{3}$。\n  - 时间步长（CFL条件）：$\\Delta t = C\\,\\Delta x/U$。\n  - 总模拟时间：$T_{\\text{sim}} = n\\,L/U$。\n  - 时间步数：$N_{t} = T_{\\text{sim}}/\\Delta t$。\n- 计算成本参数：\n  - 每个网格点每个时间步的浮点运算次数：$q$。\n- 给定的数值：\n  - $Re_{L} = 1.0 \\times 10^{4}$\n  - $Pr = 7.0$\n  - $s = 3$（每个最小尺度的点数）\n  - $C = 0.5$（CFL数）\n  - $n = 10$（大涡周转时间）\n  - $q = 2.0 \\times 10^{5}$（运算次数/点/步）\n  - $R = 1.0 \\times 10^{17}$（FLOPS，持续机器性能）\n- 要求输出：挂钟时间，以小时为单位，四舍五入到三位有效数字。\n\n### 第2步：使用提取的给定条件进行验证\n该问题具有科学依据，使用了流体力学中基础的 Kolmogorov 和 Batchelor 理论进行湍流标度分析。问题是适定的，提供了计算唯一答案所需的所有定义、关系和数值。语言客观而精确。给定的参数（$Re_L$、$Pr$等）对于在E级系统上进行的模拟在物理上和计算上都是现实的。该问题是计算流体力学中一个标准的、尽管复杂的估算问题，并非微不足道或不适定的问题。\n\n### 第3步：结论和行动\n问题有效。将推导出一个完整的解。\n\n目标是计算总挂钟时间 $T_{\\text{wall}}$，即总浮点运算次数 $F_{\\text{total}}$ 除以持续的机器性能 $R$。\n$$T_{\\text{wall}} = \\frac{F_{\\text{total}}}{R}$$\n总浮点运算次数是网格点数 $N_{\\text{grid}}$、时间步数 $N_{t}$ 和每个网格点每个时间步的计算成本 $q$ 的乘积。\n$$F_{\\text{total}} = N_{\\text{grid}} \\times N_{t} \\times q$$\n我们必须首先用给定的无量纲参数推导 $N_{\\text{grid}}$ 和 $N_{t}$ 的表达式。\n\n**网格点数 $N_{\\text{grid}}$ 的推导**\n\n首先，我们建立最小物理尺度与大尺度参数 $Re_{L}$ 和 $Pr$ 之间的关系。问题陈述，对于 $Pr \\ge 1$，需要解析的最小尺度是 Batchelor 尺度 $\\eta_{B}$。\n平均动能耗散率的标度关系为 $\\varepsilon \\sim U^{3}/L$。对于此标度估计，我们假设比例常数为1，因此 $\\varepsilon = U^{3}/L$。\nKolmogorov 微尺度 $\\eta$ 定义为：\n$$\\eta = \\left(\\frac{\\nu^{3}}{\\varepsilon}\\right)^{1/4}$$\n代入 $\\varepsilon$ 的表达式：\n$$\\eta = \\left(\\frac{\\nu^{3}}{U^{3}/L}\\right)^{1/4} = \\left(\\frac{\\nu^{3}L}{U^{3}}\\right)^{1/4} = L \\left(\\frac{\\nu}{UL}\\right)^{3/4}$$\n使用雷诺数 $Re_{L} = UL/\\nu$ 的定义：\n$$\\eta = L (Re_{L})^{-3/4}$$\n对于 $Pr \\ge 1$，Batchelor 尺度 $\\eta_{B}$ 给出如下：\n$$\\eta_{B} = \\frac{\\eta}{Pr^{1/2}} = L Re_{L}^{-3/4} Pr^{-1/2}$$\n网格间距 $\\Delta x$ 设置为用 $s$ 个点来解析此尺度：\n$$\\Delta x = \\frac{\\eta_{B}}{s} = \\frac{L Re_{L}^{-3/4} Pr^{-1/2}}{s}$$\n对于边长为 $L$ 的立方体域，总网格点数 $N_{\\text{grid}}$ 为：\n$$N_{\\text{grid}} = \\left(\\frac{L}{\\Delta x}\\right)^{3} = \\left(\\frac{L}{L Re_{L}^{-3/4} Pr^{-1/2} / s}\\right)^{3} = \\left(s Re_{L}^{3/4} Pr^{1/2}\\right)^{3}$$\n$$N_{\\text{grid}} = s^{3} Re_{L}^{9/4} Pr^{3/2}$$\n\n**时间步数 $N_{t}$ 的推导**\n\n总时间步数 $N_{t}$ 是总模拟时间 $T_{\\text{sim}}$ 除以时间步长 $\\Delta t$。\n$$N_{t} = \\frac{T_{\\text{sim}}}{\\Delta t}$$\n总模拟时间为 $n$ 个大涡周转时间 $T_{e} = L/U$：\n$$T_{\\text{sim}} = n \\frac{L}{U}$$\n时间步长受 CFL 条件约束：\n$$\\Delta t = C \\frac{\\Delta x}{U}$$\n代入 $\\Delta x$ 的表达式：\n$$\\Delta t = C \\frac{L Re_{L}^{-3/4} Pr^{-1/2}}{s U}$$\n现在，我们可以计算 $N_{t}$：\n$$N_{t} = \\frac{n L / U}{C L Re_{L}^{-3/4} Pr^{-1/2} / (s U)} = \\frac{nL}{U} \\frac{sU}{C L Re_{L}^{-3/4} Pr^{-1/2}}$$\n$$N_{t} = \\frac{n s}{C} Re_{L}^{3/4} Pr^{1/2}$$\n\n**总运算量和挂钟时间的计算**\n\n现在我们将这些结果结合起来，求出总浮点运算次数 $F_{\\text{total}}$：\n$$F_{\\text{total}} = N_{\\text{grid}} \\times N_{t} \\times q = (s^{3} Re_{L}^{9/4} Pr^{3/2}) \\times \\left(\\frac{n s}{C} Re_{L}^{3/4} Pr^{1/2}\\right) \\times q$$\n$$F_{\\text{total}} = \\frac{q n s^{4}}{C} Re_{L}^{(9/4 + 3/4)} Pr^{(3/2 + 1/2)} = \\frac{q n s^{4}}{C} Re_{L}^{3} Pr^{2}$$\n以秒为单位的挂钟时间为 $T_{\\text{wall}} = F_{\\text{total}} / R$：\n$$T_{\\text{wall}} = \\frac{q n s^{4} Re_{L}^{3} Pr^{2}}{C R}$$\n现在，我们代入给定的数值：\n$q = 2.0 \\times 10^{5}$，$n = 10$，$s = 3$，$Re_{L} = 1.0 \\times 10^{4}$，$Pr = 7.0$，$C = 0.5$，$R = 1.0 \\times 10^{17}$。\n$$T_{\\text{wall}} = \\frac{(2.0 \\times 10^{5}) \\times 10 \\times (3)^{4} \\times (1.0 \\times 10^{4})^{3} \\times (7.0)^{2}}{0.5 \\times (1.0 \\times 10^{17})}$$\n$$T_{\\text{wall}} = \\frac{(2.0 \\times 10^{5}) \\times 10 \\times 81 \\times (10^{12}) \\times 49}{0.5 \\times 10^{17}}$$\n$$T_{\\text{wall}} = \\frac{2.0 \\times 10 \\times 81 \\times 49}{0.5} \\times \\frac{10^{5} \\times 10^{12}}{10^{17}}$$\n$$T_{\\text{wall}} = \\frac{79380}{0.5} \\times 10^{0} = 158760 \\text{ 秒}$$\n\n最后，我们将挂钟时间从秒转换为小时。一小时有 $3600$ 秒。\n$$T_{\\text{wall, hours}} = \\frac{158760}{3600} = 44.1$$\n问题要求答案四舍五入到三位有效数字。计算值 $44.1$ 已经有三位有效数字。",
            "answer": "$$\\boxed{44.1}$$"
        },
        {
            "introduction": "相似性原理的威力也延伸到了对实验和数值数据的解读中，使我们能够根据观测结果建立预测模型。最后一个练习  将引导你采用一种数据驱动的方法，为超音速流动中的激波脱体距离这一复杂空气动力学现象建模。你将使用由相关无量纲参数 ($Ma$、 $Re$、 $Kn$) 构建的回归分析方法，从给定的数据集中构造一个经验关联式，从而展示相似性原理如何为工程模型的开发和验证提供一个坚实的框架。",
            "id": "3361931",
            "problem": "一个半径为 $R$ 的钝头球体在可压缩气体中以来流速度 $U_{\\infty}$ 飞行时，会产生一道脱体弓形激波，其激波脱体距离为 $\\Delta$。对于相似性分析，相关的特征尺度是半径 $R$、自由来流密度 $\\rho_{\\infty}$、自由来流动力粘度 $\\mu_{\\infty}$ 和声速 $a_{\\infty}$。根据可压缩流动的质量与动量守恒以及用于稀薄气体效应的分子动理论的基本原理，控制归一化激波脱体距离的无量纲参数是：马赫数 $(Ma)$、雷诺数 $(Re)$ 和克努森数 $(Kn)$。马赫数定义为 $Ma = U_{\\infty}/a_{\\infty}$，雷诺数定义为 $Re = \\rho_{\\infty} U_{\\infty} R / \\mu_{\\infty}$，克努森数定义为 $Kn = \\lambda_{\\infty}/R$，其中 $\\lambda_{\\infty}$ 是平均自由程。\n\n假设归一化脱体距离 $\\Delta/R$ 遵循形式为 $\\Delta/R = \\Phi(Ma, Re, Kn)$ 的相似律，其中 $\\Phi$ 是所列无量纲参数的光滑函数。再进一步假设，在远离强传热和引力效应的情况下，于给定测试条件下，对普朗特数 $(Pr)$、佩克莱数 $(Pe)$ 和弗劳德数 $(Fr)$ 的依赖性可以忽略不计，因此一个以 $(Ma, Re)$ 表示的简化模型在连续流区占主导地位，而 $(Kn)$ 在过渡流区变得重要。\n\n你的任务是为归一化激波脱体距离 $\\Delta/R$ 建立两个无量纲回归模型：\n1. 一个仅使用 $(Ma, Re)$ 的基准回归模型。\n2. 一个使用 $(Ma, Re, Kn)$ 的扩展回归模型。\n\n使用与一阶相似性近似一致的乘性幂律拟设，即通过普通最小二乘法，将 $\\log\\left(\\Delta/R\\right)$ 拟合为 $\\log(Ma)$、$\\log(Re)$ 以及可选的 $\\log(Kn)$ 的仿射函数。具体而言，为基准模型估计参数 $(A, a, b)$，为扩展模型估计参数 $(\\tilde{A}, \\tilde{a}, \\tilde{b}, \\tilde{c})$，使得\n$\\log\\left(\\Delta/R\\right) \\approx \\log(A) + a \\log(Ma) + b \\log(Re)$\n和\n$\\log\\left(\\Delta/R\\right) \\approx \\log(\\tilde{A}) + \\tilde{a} \\log(Ma) + \\tilde{b} \\log(Re) + \\tilde{c} \\log(Kn)$\n分别成立。所有对数均为自然对数，且所有量均为无量纲。\n\n计算两个模型在整个数据集上的均方根误差 (RMSE)，并额外计算在由 $Kn \\ge 0.05$ 定义的过渡流区内的RMSE。报告加入 $Kn$ 是否减小了过渡流区内的 RMSE。\n\n科学真实性要求：使用下面提供的无量纲测量数据集，该数据集与物理上合理的钝头球体可压缩流动内部一致。每个测试案例是一个元组 $(Ma, Re, Kn, \\Delta/R)$，其中所有量都是无量纲的：\n- $(2.0, 2.0\\times 10^{5}, 1.0\\times 10^{-4}, 0.320)$\n- $(4.0, 2.0\\times 10^{5}, 1.0\\times 10^{-4}, 0.213)$\n- $(6.0, 2.0\\times 10^{5}, 1.0\\times 10^{-4}, 0.170)$\n- $(2.0, 1.0\\times 10^{6}, 1.0\\times 10^{-4}, 0.285)$\n- $(4.0, 1.0\\times 10^{6}, 1.0\\times 10^{-4}, 0.191)$\n- $(1.5, 5.0\\times 10^{4}, 1.0\\times 10^{-3}, 0.429)$\n- $(2.0, 2.0\\times 10^{5}, 1.0\\times 10^{-1}, 0.413)$\n- $(2.0, 2.0\\times 10^{5}, 2.0\\times 10^{-1}, 0.447)$\n- $(4.0, 2.0\\times 10^{5}, 1.0\\times 10^{-1}, 0.276)$\n- $(4.0, 2.0\\times 10^{5}, 2.0\\times 10^{-1}, 0.297)$\n- $(6.0, 1.0\\times 10^{6}, 5.0\\times 10^{-2}, 0.184)$\n- $(1.2, 5.0\\times 10^{4}, 2.0\\times 10^{-1}, 0.659)$\n\n算法要求：\n- 对两个模型，在对数转换后的空间中执行普通最小二乘拟合。\n- 通过对预测的对数值取指数，将预测值反变换回原始空间，以计算 RMSE。\n- 通过条件 $Kn \\ge 0.05$ 来定义过渡子集。\n\n最终输出格式：\n你的程序应该生成单行输出，其中包含一个用方括号括起来的逗号分隔列表。该列表必须是：\n$[A, a, b, RMSE_{\\text{all, base}}, \\tilde{A}, \\tilde{a}, \\tilde{b}, \\tilde{c}, RMSE_{\\text{all, extended}}, RMSE_{\\text{trans, base}}, RMSE_{\\text{trans, extended}}, \\text{improved}]$,\n其中最后一项 $\\text{improved}$ 是一个布尔值，如果 $RMSE_{\\text{trans, extended}}  RMSE_{\\text{trans, base}}$ 则为 $True$，否则为 $False$。所有报告的量均为无量纲。不需要物理单位。不涉及角度。不得使用百分比；RMSEs应以原始小数值报告。",
            "solution": "用户提供的问题已经过严格验证和确认，是自洽的、有科学依据且良定的。所有数据、定义和约束都已给出且相互一致。该问题是量纲分析和经验模型拟合在可压缩流体力学领域（特别是空气动力学）中的一个标准应用。它没有任何科学、逻辑或结构上的缺陷。\n\n问题的核心是确定超音速流中球体上激波脱体距离 $\\Delta/R$ 的两个幂律模型的系数。这些模型基于基本的无量纲参数：马赫数 $Ma$、雷诺数 $Re$ 和克努森数 $Kn$。\n\n第一个基准模型将归一化脱体距离与 $Ma$ 和 $Re$ 关联起来：\n$$\n\\frac{\\Delta}{R} = A \\cdot Ma^a \\cdot Re^b\n$$\n第二个模型通过引入克努森数 $Kn$ 对此进行扩展，以解释在过渡流区变得显著的稀薄效应：\n$$\n\\frac{\\Delta}{R} = \\tilde{A} \\cdot Ma^{\\tilde{a}} \\cdot Re^{\\tilde{b}} \\cdot Kn^{\\tilde{c}}\n$$\n此处，$A$, $a$, $b$, $\\tilde{A}$, $\\tilde{a}$, $\\tilde{b}$ 和 $\\tilde{c}$ 是待确定的无量纲拟合参数。\n\n这种形式的幂律关系可以通过对两边取自然对数来转化为线性关系。对于基准模型，这会得到：\n$$\n\\log\\left(\\frac{\\Delta}{R}\\right) = \\log(A) + a \\log(Ma) + b \\log(Re)\n$$\n对于扩展模型，则为：\n$$\n\\log\\left(\\frac{\\Delta}{R}\\right) = \\log(\\tilde{A}) + \\tilde{a} \\log(Ma) + \\tilde{b} \\log(Re) + \\tilde{c} \\log(Kn)\n$$\n这些方程呈多元线性回归的形式。对于一个给定的包含 $N$ 个观测值的数据集，我们可以将问题设定为矩阵形式 $\\mathbf{y} = \\mathbf{X}\\boldsymbol{\\beta}$，其中：\n- $\\mathbf{y}$ 是一个 $N \\times 1$ 的列向量，包含因变量 $\\log(\\Delta/R)$ 的值。\n- $\\mathbf{X}$ 是一个 $N \\times p$ 的设计矩阵，其中 $p$ 是参数的数量。每一行对应一个观测值，每一列对应一个预测变量。包含一个初始的全1列以表示截距项（$\\log(A)$ 或 $\\log(\\tilde{A})$）。\n- $\\boldsymbol{\\beta}$ 是一个 $p \\times 1$ 的待估计系数列向量。\n\n对于基准模型，系数向量为 $\\boldsymbol{\\beta}_{\\text{base}} = [\\log(A), a, b]^T$，对于第 $i$ 个观测值，设计矩阵 $\\mathbf{X}_{\\text{base}}$ 的行为 $[1, \\log(Ma_i), \\log(Re_i)]$。\n\n对于扩展模型，系数向量为 $\\boldsymbol{\\beta}_{\\text{ext}} = [\\log(\\tilde{A}), \\tilde{a}, \\tilde{b}, \\tilde{c}]^T$，对于第 $i$ 个观测值，设计矩阵 $\\mathbf{X}_{\\text{ext}}$ 的行为 $[1, \\log(Ma_i), \\log(Re_i), \\log(Kn_i)]$。\n\n最优系数向量 $\\boldsymbol{\\beta}$ 是通过普通最小二乘法 (OLS) 求得的，该方法旨在最小化观测值 $\\mathbf{y}$与预测值 $\\mathbf{\\hat{y}} = \\mathbf{X}\\boldsymbol{\\beta}$ 之间的平方差之和。其著名的解析解由以下正规方程给出：\n$$\n\\boldsymbol{\\beta} = (\\mathbf{X}^T \\mathbf{X})^{-1} \\mathbf{X}^T \\mathbf{y}\n$$\n这个线性系统将使用提供的12个测试案例的数据集对两个模型进行数值求解。\n\n在对数空间中确定系数后，通过取指数运算恢复前导常数 $A$ 和 $\\tilde{A}$：$A = \\exp(\\log(A))$ 和 $\\tilde{A} = \\exp(\\log(\\tilde{A}))$。\n\n最后一步是评估两个模型的性能。脱体距离的预测值 $(\\widehat{\\Delta/R})$ 通过先计算预测的对数值 $\\log(\\widehat{\\Delta/R}) = \\mathbf{X}\\boldsymbol{\\beta}$，然后使用指数函数进行逆变换 $(\\widehat{\\Delta/R}) = \\exp(\\log(\\widehat{\\Delta/R}))$ 来获得。\n\n拟合优度由均方根误差 (RMSE) 量化，它在原始的非对数尺度上计算：\n$$\nRMSE = \\sqrt{\\frac{1}{M} \\sum_{i=1}^{M} \\left( \\left(\\frac{\\Delta}{R}\\right)_i - \\left(\\widehat{\\frac{\\Delta}{R}}\\right)_i \\right)^2}\n$$\n其中 $M$ 是被评估集合中的数据点数量。我们将计算四个 RMSE 值：\n1. $RMSE_{\\text{all, base}}$: 基准模型在所有12个数据点上。\n2. $RMSE_{\\text{all, extended}}$: 扩展模型在所有12个数据点上。\n3. $RMSE_{\\text{trans, base}}$: 基准模型在由 $Kn \\ge 0.05$ 定义的过渡子集上。\n4. $RMSE_{\\text{trans, extended}}$: 扩展模型在相同的过渡子集上。\n\n最后，我们将通过比较 $RMSE_{\\text{trans, extended}}$ 与 $RMSE_{\\text{trans, base}}$，来确定包含克努森数是否提高了模型在稀薄流区的预测准确性。",
            "answer": "```python\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Computes regression parameters and errors for two similarity models\n    of shock stand-off distance.\n    \"\"\"\n    # Scientific realism requirement: Use the following provided dataset of dimensionless measurements.\n    # Each test case is a tuple (Ma, Re, Kn, Delta/R).\n    data = np.array([\n        (2.0, 2.0e5, 1.0e-4, 0.320),\n        (4.0, 2.0e5, 1.0e-4, 0.213),\n        (6.0, 2.0e5, 1.0e-4, 0.170),\n        (2.0, 1.0e6, 1.0e-4, 0.285),\n        (4.0, 1.0e6, 1.0e-4, 0.191),\n        (1.5, 5.0e4, 1.0e-3, 0.429),\n        (2.0, 2.0e5, 1.0e-1, 0.413),\n        (2.0, 2.0e5, 2.0e-1, 0.447),\n        (4.0, 2.0e5, 1.0e-1, 0.276),\n        (4.0, 2.0e5, 2.0e-1, 0.297),\n        (6.0, 1.0e6, 5.0e-2, 0.184),\n        (1.2, 5.0e4, 2.0e-1, 0.659),\n    ])\n\n    # Deconstruct the dataset into individual variables\n    ma, re, kn, delta_r_obs = data[:, 0], data[:, 1], data[:, 2], data[:, 3]\n\n    # Transform variables to log-space for linear regression\n    log_ma = np.log(ma)\n    log_re = np.log(re)\n    log_kn = np.log(kn)\n    log_delta_r_obs = np.log(delta_r_obs)\n\n    # --- MODEL 1: Baseline Regression (Ma, Re) ---\n    # Construct the design matrix with a column of ones for the intercept\n    X_base = np.c_[np.ones(len(ma)), log_ma, log_re]\n    \n    # Solve the ordinary least squares problem: y = X*beta\n    coeffs_base, _, _, _ = np.linalg.lstsq(X_base, log_delta_r_obs, rcond=None)\n    \n    # Extract coefficients and compute A from its logarithm\n    log_A, a, b = coeffs_base\n    A = np.exp(log_A)\n\n    # --- MODEL 2: Extended Regression (Ma, Re, Kn) ---\n    # Construct the design matrix\n    X_ext = np.c_[np.ones(len(ma)), log_ma, log_re, log_kn]\n    \n    # Solve the ordinary least squares problem\n    coeffs_ext, _, _, _ = np.linalg.lstsq(X_ext, log_delta_r_obs, rcond=None)\n    \n    # Extract coefficients and compute A_tilde from its logarithm\n    log_A_tilde, a_tilde, b_tilde, c_tilde = coeffs_ext\n    A_tilde = np.exp(log_A_tilde)\n\n    # --- RMSE Calculation ---\n    # Predict values in log-space and back-transform to original space\n    log_delta_r_pred_base = X_base @ coeffs_base\n    delta_r_pred_base = np.exp(log_delta_r_pred_base)\n\n    log_delta_r_pred_ext = X_ext @ coeffs_ext\n    delta_r_pred_ext = np.exp(log_delta_r_pred_ext)\n\n    # Calculate RMSE for both models on the entire dataset\n    rmse_all_base = np.sqrt(np.mean((delta_r_obs - delta_r_pred_base)**2))\n    rmse_all_ext = np.sqrt(np.mean((delta_r_obs - delta_r_pred_ext)**2))\n\n    # Identify the transitional regime subset where Kn >= 0.05\n    transitional_mask = kn >= 0.05\n    \n    # Calculate RMSE for both models restricted to the transitional subset\n    rmse_trans_base = np.sqrt(np.mean((delta_r_obs[transitional_mask] - delta_r_pred_base[transitional_mask])**2))\n    rmse_trans_ext = np.sqrt(np.mean((delta_r_obs[transitional_mask] - delta_r_pred_ext[transitional_mask])**2))\n    \n    # Determine if the extended model is an improvement in the transitional regime\n    improved = rmse_trans_ext  rmse_trans_base\n\n    # Collate results for final output\n    results = [\n        A, a, b, rmse_all_base,\n        A_tilde, a_tilde, b_tilde, c_tilde, rmse_all_ext,\n        rmse_trans_base, rmse_trans_ext,\n        improved\n    ]\n\n    # Print the formatted output string\n    print(f\"[{','.join(map(str, results))}]\")\n\nsolve()\n```"
        }
    ]
}